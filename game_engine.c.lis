1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_end
205   0000              	GLOBAL _game_tick
206   0000              	GLOBAL _game_borders
207   0000              	GLOBAL _game_loop
208   0000              	GLOBAL _game_fps
209   0000              	GLOBAL _game_draw_map
210   0000              	GLOBAL _game_cell_paint_index
211   0000              	GLOBAL _game_cell_paint
212   0000              	GLOBAL _game_print_footer
213   0000              	GLOBAL _game_print_score
214   0000              	GLOBAL _game_cls
215   0000              	GLOBAL _game_update_stats
216   0000              	GLOBAL _game_start_timer
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_key_paint
225   0000              	GLOBAL _game_rotate_attrib_osd
226   0000              	GLOBAL _game_attribs
227   0000              	GLOBAL _game_page_map
228   0000              	GLOBAL _game_flash_exit
229   0000              	GLOBAL _game_copy_tile_std
230   0000              	GLOBAL _game_copy_tile
231   0000              	GLOBAL _reverse
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _ffsll_callee
236   0000              	GLOBAL _ffsll
237   0000              	GLOBAL _strxfrm_callee
238   0000              	GLOBAL _strxfrm
239   0000              	GLOBAL _strupr_fastcall
240   0000              	GLOBAL _strupr
241   0000              	GLOBAL _strtok_r_callee
242   0000              	GLOBAL _strtok_r
243   0000              	GLOBAL _strtok_callee
244   0000              	GLOBAL _strtok
245   0000              	GLOBAL _strstrip_fastcall
246   0000              	GLOBAL _strstrip
247   0000              	GLOBAL _strstr_callee
248   0000              	GLOBAL _strstr
249   0000              	GLOBAL _strspn_callee
250   0000              	GLOBAL _strspn
251   0000              	GLOBAL _strsep_callee
252   0000              	GLOBAL _strsep
253   0000              	GLOBAL _strrstrip_fastcall
254   0000              	GLOBAL _strrstrip
255   0000              	GLOBAL _strrstr_callee
256   0000              	GLOBAL _strrstr
257   0000              	GLOBAL _strrspn_callee
258   0000              	GLOBAL _strrspn
259   0000              	GLOBAL _strrev_fastcall
260   0000              	GLOBAL _strrev
261   0000              	GLOBAL _strrcspn_callee
262   0000              	GLOBAL _strrcspn
263   0000              	GLOBAL _strrchr_callee
264   0000              	GLOBAL _strrchr
265   0000              	GLOBAL _strpbrk_callee
266   0000              	GLOBAL _strpbrk
267   0000              	GLOBAL _strnlen_callee
268   0000              	GLOBAL _strnlen
269   0000              	GLOBAL _strnicmp_callee
270   0000              	GLOBAL _strnicmp
271   0000              	GLOBAL _strndup_callee
272   0000              	GLOBAL _strndup
273   0000              	GLOBAL _strncpy_callee
274   0000              	GLOBAL _strncpy
275   0000              	GLOBAL _strncmp_callee
276   0000              	GLOBAL _strncmp
277   0000              	GLOBAL _strnchr_callee
278   0000              	GLOBAL _strnchr
279   0000              	GLOBAL _strncat_callee
280   0000              	GLOBAL _strncat
281   0000              	GLOBAL _strncasecmp_callee
282   0000              	GLOBAL _strncasecmp
283   0000              	GLOBAL _strlwr_fastcall
284   0000              	GLOBAL _strlwr
285   0000              	GLOBAL _strlen_fastcall
286   0000              	GLOBAL _strlen
287   0000              	GLOBAL _strlcpy_callee
288   0000              	GLOBAL _strlcpy
289   0000              	GLOBAL _strlcat_callee
290   0000              	GLOBAL _strlcat
291   0000              	GLOBAL _stricmp_callee
292   0000              	GLOBAL _stricmp
293   0000              	GLOBAL _strerror_fastcall
294   0000              	GLOBAL _strerror
295   0000              	GLOBAL _strdup_fastcall
296   0000              	GLOBAL _strdup
297   0000              	GLOBAL _strcspn_callee
298   0000              	GLOBAL _strcspn
299   0000              	GLOBAL _strcpy_callee
300   0000              	GLOBAL _strcpy
301   0000              	GLOBAL _strcoll_callee
302   0000              	GLOBAL _strcoll
303   0000              	GLOBAL _strcmp_callee
304   0000              	GLOBAL _strcmp
305   0000              	GLOBAL _strchrnul_callee
306   0000              	GLOBAL _strchrnul
307   0000              	GLOBAL _strchr_callee
308   0000              	GLOBAL _strchr
309   0000              	GLOBAL _strcat_callee
310   0000              	GLOBAL _strcat
311   0000              	GLOBAL _strcasecmp_callee
312   0000              	GLOBAL _strcasecmp
313   0000              	GLOBAL _stpncpy_callee
314   0000              	GLOBAL _stpncpy
315   0000              	GLOBAL _stpcpy_callee
316   0000              	GLOBAL _stpcpy
317   0000              	GLOBAL _memswap_callee
318   0000              	GLOBAL _memswap
319   0000              	GLOBAL _memset_callee
320   0000              	GLOBAL _memset
321   0000              	GLOBAL _memrchr_callee
322   0000              	GLOBAL _memrchr
323   0000              	GLOBAL _memmove_callee
324   0000              	GLOBAL _memmove
325   0000              	GLOBAL _memmem_callee
326   0000              	GLOBAL _memmem
327   0000              	GLOBAL _memcpy_callee
328   0000              	GLOBAL _memcpy
329   0000              	GLOBAL _memcmp_callee
330   0000              	GLOBAL _memcmp
331   0000              	GLOBAL _memchr_callee
332   0000              	GLOBAL _memchr
333   0000              	GLOBAL _memccpy_callee
334   0000              	GLOBAL _memccpy
335   0000              	GLOBAL _ffsl_fastcall
336   0000              	GLOBAL _ffsl
337   0000              	GLOBAL _ffs_fastcall
338   0000              	GLOBAL _ffs
339   0000              	GLOBAL __strrstrip__fastcall
340   0000              	GLOBAL __strrstrip_
341   0000              	GLOBAL __memupr__callee
342   0000              	GLOBAL __memupr_
343   0000              	GLOBAL __memstrcpy__callee
344   0000              	GLOBAL __memstrcpy_
345   0000              	GLOBAL __memlwr__callee
346   0000              	GLOBAL __memlwr_
347   0000              	GLOBAL _rawmemchr_callee
348   0000              	GLOBAL _rawmemchr
349   0000              	GLOBAL _strnset_callee
350   0000              	GLOBAL _strnset
351   0000              	GLOBAL _strset_callee
352   0000              	GLOBAL _strset
353   0000              	GLOBAL _rindex_callee
354   0000              	GLOBAL _rindex
355   0000              	GLOBAL _index_callee
356   0000              	GLOBAL _index
357   0000              	GLOBAL _bzero_callee
358   0000              	GLOBAL _bzero
359   0000              	GLOBAL _bcopy_callee
360   0000              	GLOBAL _bcopy
361   0000              	GLOBAL _bcmp_callee
362   0000              	GLOBAL _bcmp
363   0000              	GLOBAL _ulltoa_callee
364   0000              	GLOBAL _ulltoa
365   0000              	GLOBAL _strtoull_callee
366   0000              	GLOBAL _strtoull
367   0000              	GLOBAL _strtoll_callee
368   0000              	GLOBAL _strtoll
369   0000              	GLOBAL _lltoa_callee
370   0000              	GLOBAL _lltoa
371   0000              	GLOBAL _llabs_callee
372   0000              	GLOBAL _llabs
373   0000              	GLOBAL __lldivu__callee
374   0000              	GLOBAL __lldivu_
375   0000              	GLOBAL __lldiv__callee
376   0000              	GLOBAL __lldiv_
377   0000              	GLOBAL _atoll_callee
378   0000              	GLOBAL _atoll
379   0000              	GLOBAL _realloc_unlocked_callee
380   0000              	GLOBAL _realloc_unlocked
381   0000              	GLOBAL _malloc_unlocked_fastcall
382   0000              	GLOBAL _malloc_unlocked
383   0000              	GLOBAL _free_unlocked_fastcall
384   0000              	GLOBAL _free_unlocked
385   0000              	GLOBAL _calloc_unlocked_callee
386   0000              	GLOBAL _calloc_unlocked
387   0000              	GLOBAL _aligned_alloc_unlocked_callee
388   0000              	GLOBAL _aligned_alloc_unlocked
389   0000              	GLOBAL _realloc_callee
390   0000              	GLOBAL _realloc
391   0000              	GLOBAL _malloc_fastcall
392   0000              	GLOBAL _malloc
393   0000              	GLOBAL _free_fastcall
394   0000              	GLOBAL _free
395   0000              	GLOBAL _calloc_callee
396   0000              	GLOBAL _calloc
397   0000              	GLOBAL _aligned_alloc_callee
398   0000              	GLOBAL _aligned_alloc
399   0000              	GLOBAL _utoa_callee
400   0000              	GLOBAL _utoa
401   0000              	GLOBAL _ultoa_callee
402   0000              	GLOBAL _ultoa
403   0000              	GLOBAL _system_fastcall
404   0000              	GLOBAL _system
405   0000              	GLOBAL _strtoul_callee
406   0000              	GLOBAL _strtoul
407   0000              	GLOBAL _strtol_callee
408   0000              	GLOBAL _strtol
409   0000              	GLOBAL _strtof_callee
410   0000              	GLOBAL _strtof
411   0000              	GLOBAL _strtod_callee
412   0000              	GLOBAL _strtod
413   0000              	GLOBAL _srand_fastcall
414   0000              	GLOBAL _srand
415   0000              	GLOBAL _rand
416   0000              	GLOBAL _quick_exit_fastcall
417   0000              	GLOBAL _quick_exit
418   0000              	GLOBAL _qsort_callee
419   0000              	GLOBAL _qsort
420   0000              	GLOBAL _ltoa_callee
421   0000              	GLOBAL _ltoa
422   0000              	GLOBAL _labs_fastcall
423   0000              	GLOBAL _labs
424   0000              	GLOBAL _itoa_callee
425   0000              	GLOBAL _itoa
426   0000              	GLOBAL _ftoh_callee
427   0000              	GLOBAL _ftoh
428   0000              	GLOBAL _ftog_callee
429   0000              	GLOBAL _ftog
430   0000              	GLOBAL _ftoe_callee
431   0000              	GLOBAL _ftoe
432   0000              	GLOBAL _ftoa_callee
433   0000              	GLOBAL _ftoa
434   0000              	GLOBAL _exit_fastcall
435   0000              	GLOBAL _exit
436   0000              	GLOBAL _dtoh_callee
437   0000              	GLOBAL _dtoh
438   0000              	GLOBAL _dtog_callee
439   0000              	GLOBAL _dtog
440   0000              	GLOBAL _dtoe_callee
441   0000              	GLOBAL _dtoe
442   0000              	GLOBAL _dtoa_callee
443   0000              	GLOBAL _dtoa
444   0000              	GLOBAL _bsearch_callee
445   0000              	GLOBAL _bsearch
446   0000              	GLOBAL _atol_fastcall
447   0000              	GLOBAL _atol
448   0000              	GLOBAL _atoi_fastcall
449   0000              	GLOBAL _atoi
450   0000              	GLOBAL _atof_fastcall
451   0000              	GLOBAL _atof
452   0000              	GLOBAL _atexit_fastcall
453   0000              	GLOBAL _atexit
454   0000              	GLOBAL _at_quick_exit_fastcall
455   0000              	GLOBAL _at_quick_exit
456   0000              	GLOBAL _abs_fastcall
457   0000              	GLOBAL _abs
458   0000              	GLOBAL _abort
459   0000              	GLOBAL __strtou__callee
460   0000              	GLOBAL __strtou_
461   0000              	GLOBAL __strtoi__callee
462   0000              	GLOBAL __strtoi_
463   0000              	GLOBAL __random_uniform_xor_8__fastcall
464   0000              	GLOBAL __random_uniform_xor_8_
465   0000              	GLOBAL __random_uniform_xor_32__fastcall
466   0000              	GLOBAL __random_uniform_xor_32_
467   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
468   0000              	GLOBAL __random_uniform_cmwc_8_
469   0000              	GLOBAL __shellsort__callee
470   0000              	GLOBAL __shellsort_
471   0000              	GLOBAL __quicksort__callee
472   0000              	GLOBAL __quicksort_
473   0000              	GLOBAL __insertion_sort__callee
474   0000              	GLOBAL __insertion_sort_
475   0000              	GLOBAL __ldivu__callee
476   0000              	GLOBAL __ldivu_
477   0000              	GLOBAL __ldiv__callee
478   0000              	GLOBAL __ldiv_
479   0000              	GLOBAL __divu__callee
480   0000              	GLOBAL __divu_
481   0000              	GLOBAL __div__callee
482   0000              	GLOBAL __div_
483   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
484   0000              	GLOBAL _NIRVANAP_drawTW_raw
485   0000              	GLOBAL _NIRVANAP_drawTW_callee
486   0000              	GLOBAL _NIRVANAP_drawTW
487   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
488   0000              	GLOBAL _NIRVANAP_drawW_raw
489   0000              	GLOBAL _NIRVANAP_drawW_callee
490   0000              	GLOBAL _NIRVANAP_drawW
491   0000              	GLOBAL _NIRVANAP_spriteT_callee
492   0000              	GLOBAL _NIRVANAP_spriteT
493   0000              	GLOBAL _NIRVANAP_fillC_callee
494   0000              	GLOBAL _NIRVANAP_fillC
495   0000              	GLOBAL _NIRVANAP_readC_callee
496   0000              	GLOBAL _NIRVANAP_readC
497   0000              	GLOBAL _NIRVANAP_paintC_callee
498   0000              	GLOBAL _NIRVANAP_paintC
499   0000              	GLOBAL _NIRVANAP_printC_callee
500   0000              	GLOBAL _NIRVANAP_printC
501   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
502   0000              	GLOBAL _NIRVANAP_fillT_raw
503   0000              	GLOBAL _NIRVANAP_fillT_callee
504   0000              	GLOBAL _NIRVANAP_fillT
505   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
506   0000              	GLOBAL _NIRVANAP_drawT_raw
507   0000              	GLOBAL _NIRVANAP_drawT_callee
508   0000              	GLOBAL _NIRVANAP_drawT
509   0000              	GLOBAL _NIRVANAP_stop
510   0000              	GLOBAL _NIRVANAP_start
511   0000              	GLOBAL _zx_print_str
512   0000              	GLOBAL _zx_print_int
513   0000              	GLOBAL _zx_print_chr
514   0000              	GLOBAL _zx_isr
515   0000              	GLOBAL _z80_otdr_callee
516   0000              	GLOBAL _z80_otdr
517   0000              	GLOBAL _z80_otir_callee
518   0000              	GLOBAL _z80_otir
519   0000              	GLOBAL _z80_outp_callee
520   0000              	GLOBAL _z80_outp
521   0000              	GLOBAL _z80_indr_callee
522   0000              	GLOBAL _z80_indr
523   0000              	GLOBAL _z80_inir_callee
524   0000              	GLOBAL _z80_inir
525   0000              	GLOBAL _z80_inp_fastcall
526   0000              	GLOBAL _z80_inp
527   0000              	GLOBAL _z80_set_int_state_fastcall
528   0000              	GLOBAL _z80_set_int_state
529   0000              	GLOBAL _z80_get_int_state
530   0000              	GLOBAL _z80_delay_tstate_fastcall
531   0000              	GLOBAL _z80_delay_tstate
532   0000              	GLOBAL _z80_delay_ms_fastcall
533   0000              	GLOBAL _z80_delay_ms
534   0000              	GLOBAL _im2_remove_generic_callback_callee
535   0000              	GLOBAL _im2_remove_generic_callback
536   0000              	GLOBAL _im2_prepend_generic_callback_callee
537   0000              	GLOBAL _im2_prepend_generic_callback
538   0000              	GLOBAL _im2_append_generic_callback_callee
539   0000              	GLOBAL _im2_append_generic_callback
540   0000              	GLOBAL _im2_create_generic_isr_8080_callee
541   0000              	GLOBAL _im2_create_generic_isr_8080
542   0000              	GLOBAL _im2_create_generic_isr_callee
543   0000              	GLOBAL _im2_create_generic_isr
544   0000              	GLOBAL _im2_install_isr_callee
545   0000              	GLOBAL _im2_install_isr
546   0000              	GLOBAL _im2_init_fastcall
547   0000              	GLOBAL _im2_init
548   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
549   0000              	GLOBAL _intrinsic_swap_word_32
550   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
551   0000              	GLOBAL _intrinsic_swap_endian_32
552   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
553   0000              	GLOBAL _intrinsic_swap_endian_16
554   0000              	GLOBAL _intrinsic_return_de
555   0000              	GLOBAL _intrinsic_return_bc
556   0000              	GLOBAL _intrinsic_exx
557   0000              	GLOBAL _intrinsic_ex_de_hl
558   0000              	GLOBAL _intrinsic_nop
559   0000              	GLOBAL _intrinsic_im_2
560   0000              	GLOBAL _intrinsic_im_1
561   0000              	GLOBAL _intrinsic_im_0
562   0000              	GLOBAL _intrinsic_retn
563   0000              	GLOBAL _intrinsic_reti
564   0000              	GLOBAL _intrinsic_halt
565   0000              	GLOBAL _intrinsic_ei
566   0000              	GLOBAL _intrinsic_di
567   0000              	GLOBAL _intrinsic_stub
568   0000              	GLOBAL _intrinsic_ini
569   0000              	GLOBAL _intrinsic_outi
570   0000              	GLOBAL _intrinsic_ldi
571   0000              	GLOBAL _zx_pattern_fill_callee
572   0000              	GLOBAL _zx_pattern_fill
573   0000              	GLOBAL _zx_saddrpup_fastcall
574   0000              	GLOBAL _zx_saddrpup
575   0000              	GLOBAL _zx_saddrpright_callee
576   0000              	GLOBAL _zx_saddrpright
577   0000              	GLOBAL _zx_saddrpleft_callee
578   0000              	GLOBAL _zx_saddrpleft
579   0000              	GLOBAL _zx_saddrpdown_fastcall
580   0000              	GLOBAL _zx_saddrpdown
581   0000              	GLOBAL _zx_saddrcup_fastcall
582   0000              	GLOBAL _zx_saddrcup
583   0000              	GLOBAL _zx_saddrcright_fastcall
584   0000              	GLOBAL _zx_saddrcright
585   0000              	GLOBAL _zx_saddrcleft_fastcall
586   0000              	GLOBAL _zx_saddrcleft
587   0000              	GLOBAL _zx_saddrcdown_fastcall
588   0000              	GLOBAL _zx_saddrcdown
589   0000              	GLOBAL _zx_saddr2py_fastcall
590   0000              	GLOBAL _zx_saddr2py
591   0000              	GLOBAL _zx_saddr2px_fastcall
592   0000              	GLOBAL _zx_saddr2px
593   0000              	GLOBAL _zx_saddr2cy_fastcall
594   0000              	GLOBAL _zx_saddr2cy
595   0000              	GLOBAL _zx_saddr2cx_fastcall
596   0000              	GLOBAL _zx_saddr2cx
597   0000              	GLOBAL _zx_saddr2aaddr_fastcall
598   0000              	GLOBAL _zx_saddr2aaddr
599   0000              	GLOBAL _zx_py2saddr_fastcall
600   0000              	GLOBAL _zx_py2saddr
601   0000              	GLOBAL _zx_py2aaddr_fastcall
602   0000              	GLOBAL _zx_py2aaddr
603   0000              	GLOBAL _zx_pxy2saddr_callee
604   0000              	GLOBAL _zx_pxy2saddr
605   0000              	GLOBAL _zx_pxy2aaddr_callee
606   0000              	GLOBAL _zx_pxy2aaddr
607   0000              	GLOBAL _zx_px2bitmask_fastcall
608   0000              	GLOBAL _zx_px2bitmask
609   0000              	GLOBAL _zx_cy2saddr_fastcall
610   0000              	GLOBAL _zx_cy2saddr
611   0000              	GLOBAL _zx_cy2aaddr_fastcall
612   0000              	GLOBAL _zx_cy2aaddr
613   0000              	GLOBAL _zx_cxy2saddr_callee
614   0000              	GLOBAL _zx_cxy2saddr
615   0000              	GLOBAL _zx_cxy2aaddr_callee
616   0000              	GLOBAL _zx_cxy2aaddr
617   0000              	GLOBAL _zx_bitmask2px_fastcall
618   0000              	GLOBAL _zx_bitmask2px
619   0000              	GLOBAL _zx_aaddrcup_fastcall
620   0000              	GLOBAL _zx_aaddrcup
621   0000              	GLOBAL _zx_aaddrcright_fastcall
622   0000              	GLOBAL _zx_aaddrcright
623   0000              	GLOBAL _zx_aaddrcleft_fastcall
624   0000              	GLOBAL _zx_aaddrcleft
625   0000              	GLOBAL _zx_aaddrcdown_fastcall
626   0000              	GLOBAL _zx_aaddrcdown
627   0000              	GLOBAL _zx_aaddr2saddr_fastcall
628   0000              	GLOBAL _zx_aaddr2saddr
629   0000              	GLOBAL _zx_aaddr2py_fastcall
630   0000              	GLOBAL _zx_aaddr2py
631   0000              	GLOBAL _zx_aaddr2px_fastcall
632   0000              	GLOBAL _zx_aaddr2px
633   0000              	GLOBAL _zx_aaddr2cy_fastcall
634   0000              	GLOBAL _zx_aaddr2cy
635   0000              	GLOBAL _zx_aaddr2cx_fastcall
636   0000              	GLOBAL _zx_aaddr2cx
637   0000              	GLOBAL _zx_visit_wc_pix_callee
638   0000              	GLOBAL _zx_visit_wc_pix
639   0000              	GLOBAL _zx_visit_wc_attr_callee
640   0000              	GLOBAL _zx_visit_wc_attr
641   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
642   0000              	GLOBAL _zx_scroll_wc_up_pix
643   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
644   0000              	GLOBAL _zx_scroll_wc_up_attr
645   0000              	GLOBAL _zx_scroll_wc_up_callee
646   0000              	GLOBAL _zx_scroll_wc_up
647   0000              	GLOBAL _zx_scroll_up_pix_callee
648   0000              	GLOBAL _zx_scroll_up_pix
649   0000              	GLOBAL _zx_scroll_up_attr_callee
650   0000              	GLOBAL _zx_scroll_up_attr
651   0000              	GLOBAL _zx_scroll_up_callee
652   0000              	GLOBAL _zx_scroll_up
653   0000              	GLOBAL _zx_cls_wc_pix_callee
654   0000              	GLOBAL _zx_cls_wc_pix
655   0000              	GLOBAL _zx_cls_wc_attr_callee
656   0000              	GLOBAL _zx_cls_wc_attr
657   0000              	GLOBAL _zx_cls_wc_callee
658   0000              	GLOBAL _zx_cls_wc
659   0000              	GLOBAL _zx_cls_pix_fastcall
660   0000              	GLOBAL _zx_cls_pix
661   0000              	GLOBAL _zx_cls_attr_fastcall
662   0000              	GLOBAL _zx_cls_attr
663   0000              	GLOBAL _zx_cls_fastcall
664   0000              	GLOBAL _zx_cls
665   0000              	GLOBAL _zx_border_fastcall
666   0000              	GLOBAL _zx_border
667   0000              	GLOBAL _zx_tape_verify_block_callee
668   0000              	GLOBAL _zx_tape_verify_block
669   0000              	GLOBAL _zx_tape_save_block_callee
670   0000              	GLOBAL _zx_tape_save_block
671   0000              	GLOBAL _zx_tape_load_block_callee
672   0000              	GLOBAL _zx_tape_load_block
673   0000              	GLOBAL _spr_draw8
674   0000              	GLOBAL _spr_destroy
675   0000              	GLOBAL _spr_unflattenP1
676   0000              	GLOBAL _spr_flatten
677   0000              	GLOBAL _spr_btile_paint_back
678   0000              	GLOBAL _spr_turn_horizontal
679   0000              	GLOBAL _spr_play_anim
680   0000              	GLOBAL _spr_add_anim
681   0000              	GLOBAL _spr_clear_scr
682   0000              	GLOBAL _spr_back_repaint
683   0000              	GLOBAL _spr_get_tile_dir
684   0000              	GLOBAL _spr_get_tile
685   0000              	GLOBAL _spr_paint_player
686   0000              	GLOBAL _spr_paint
687   0000              	GLOBAL _spr_move_left
688   0000              	GLOBAL _spr_move_right
689   0000              	GLOBAL _spr_move_left_f
690   0000              	GLOBAL _spr_move_right_f
691   0000              	GLOBAL _spr_move_horizontal
692   0000              	GLOBAL _spr_move_down_f
693   0000              	GLOBAL _spr_move_up_f
694   0000              	GLOBAL _spr_move_down
695   0000              	GLOBAL _spr_move_up
696   0000              	GLOBAL _spr_set_right
697   0000              	GLOBAL _spr_set_left
698   0000              	GLOBAL _spr_set_down
699   0000              	GLOBAL _spr_set_up
700   0000              	GLOBAL _spr_calc_index
701   0000              	GLOBAL _spr_chktime
702   0000              	GLOBAL _player_use_floor
703   0000              	GLOBAL _player_lost_life
704   0000              	GLOBAL _player_move_jump
705   0000              	GLOBAL _player_tile
706   0000              	GLOBAL _player_pick_exit
707   0000              	GLOBAL _player_pick_deadly
708   0000              	GLOBAL _player_pick_item
709   0000              	GLOBAL _player_check_ceil
710   0000              	GLOBAL _player_check_floor
711   0000              	GLOBAL _player_score_add
712   0000              	GLOBAL _player_move_walk
713   0000              	GLOBAL _player_turn
714   0000              	GLOBAL _player_move
715   0000              	GLOBAL _player_check_input
716   0000              	GLOBAL _player_init
717   0000              	GLOBAL _menu_define_key
718   0000              	GLOBAL _menu_redefine
719   0000              	GLOBAL _menu_main_print
720   0000              	GLOBAL _menu_main
721   0000              	GLOBAL _game_fill_row
722   0000              	GLOBAL _enemy_kill
723   0000              	GLOBAL _enemy_init
724   0000              	GLOBAL _enemy_move
725   0000              	GLOBAL _enemy_turn
726   0000              	GLOBAL _enemy_static
727   0000              	GLOBAL _enemy_walk
728   0000              	GLOBAL _enemy_horizontal
729   0000              	GLOBAL _enemy_vertical
730   0000              	GLOBAL _ay_reset
731   0000              	GLOBAL _ay_song_stop
732   0000              	GLOBAL _ay_song_play
733   0000              	GLOBAL _ay_fx_stop
734   0000              	GLOBAL _ay_fx_play
735   0000              	GLOBAL _ay_is_playing
736   0000              	GLOBAL _audio_levelup
737   0000              	GLOBAL _audio_menu
738   0000              	GLOBAL _audio_game_end
739   0000              	GLOBAL _audio_level_complete
740   0000              	GLOBAL _audio_level_start
741   0000              	GLOBAL _audio_lotr_lose_a_life
742   0000              	GLOBAL _audio_puerta
743   0000              	GLOBAL _audio_sin_mana
744   0000              	GLOBAL _audio_magic1
745   0000              	GLOBAL _audio_coin
746   0000              	GLOBAL _audio_golpe
747   0000              	GLOBAL _audio_salto
748   0000              	GLOBAL _audio_efecto
749   0000              	GLOBAL _audio_disparo_fire
750   0000              	GLOBAL _audio_disparo_axe
751   0000              	GLOBAL _audio_disparo2
752   0000              	GLOBAL _audio_disparo1
753   0000              	GLOBAL _audio_explosion1
754   0000              	GLOBAL _audio_explosion
755   0000              	GLOBAL _audio_ingame
756   0000              	GLOBAL _test_func
757   0000              	GLOBAL _test_proc
758   0000              	GLOBAL _in_mouse_kempston_wheel_delta
759   0000              	GLOBAL _in_mouse_kempston_wheel
760   0000              	GLOBAL _in_mouse_kempston_callee
761   0000              	GLOBAL _in_mouse_kempston
762   0000              	GLOBAL _in_mouse_kempston_setpos_callee
763   0000              	GLOBAL _in_mouse_kempston_setpos
764   0000              	GLOBAL _in_mouse_kempston_reset
765   0000              	GLOBAL _in_mouse_kempston_init
766   0000              	GLOBAL _in_mouse_amx_wheel_delta
767   0000              	GLOBAL _in_mouse_amx_wheel
768   0000              	GLOBAL _in_mouse_amx_callee
769   0000              	GLOBAL _in_mouse_amx
770   0000              	GLOBAL _in_mouse_amx_setpos_callee
771   0000              	GLOBAL _in_mouse_amx_setpos
772   0000              	GLOBAL _in_mouse_amx_reset
773   0000              	GLOBAL _in_mouse_amx_init_callee
774   0000              	GLOBAL _in_mouse_amx_init
775   0000              	GLOBAL _in_stick_sinclair2
776   0000              	GLOBAL _in_stick_sinclair1
777   0000              	GLOBAL _in_stick_kempston
778   0000              	GLOBAL _in_stick_fuller
779   0000              	GLOBAL _in_stick_cursor
780   0000              	GLOBAL _in_stick_keyboard_fastcall
781   0000              	GLOBAL _in_stick_keyboard
782   0000              	GLOBAL _in_wait_nokey
783   0000              	GLOBAL _in_wait_key
784   0000              	GLOBAL _in_test_key
785   0000              	GLOBAL _in_pause_fastcall
786   0000              	GLOBAL _in_pause
787   0000              	GLOBAL _in_key_scancode_fastcall
788   0000              	GLOBAL _in_key_scancode
789   0000              	GLOBAL _in_key_pressed_fastcall
790   0000              	GLOBAL _in_key_pressed
791   0000              	GLOBAL _in_inkey
792   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
793   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
794   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
795   0000              	GLOBAL _NIRVANAP_HOLE
796   0000              	GLOBAL _NIRVANAP_ISR_HOOK
797   0000              	GLOBAL _scan_map
798   0000              	GLOBAL _map_paper_last
799   0000              	GLOBAL _map_paper_clr
800   0000              	GLOBAL _map_paper
801   0000              	GLOBAL _map_border
802   0000              	GLOBAL _anim_count
803   0000              	GLOBAL _anim_loop
804   0000              	GLOBAL _anim_end
805   0000              	GLOBAL _anim_int
806   0000              	GLOBAL _anim_tile
807   0000              	GLOBAL _anim_col
808   0000              	GLOBAL _anim_lin
809   0000              	GLOBAL _map_heigth
810   0000              	GLOBAL _map_width
811   0000              	GLOBAL _scr_curr
812   0000              	GLOBAL _scr_map
813   0000              	GLOBAL _spr_kind
814   0000              	GLOBAL _spr_frames
815   0000              	GLOBAL _spr_speed
816   0000              	GLOBAL _spr_tile
817   0000              	GLOBAL _spr_init_tile
818   0000              	GLOBAL _screen_ink
819   0000              	GLOBAL _screen_paper
820   0000              	GLOBAL _game_start_scr
821   0000              	GLOBAL _game_score_top
822   0000              	GLOBAL _player_coins
823   0000              	GLOBAL _player_lives
824   0000              	GLOBAL _game_over
825   0000              	GLOBAL _game_tile_cnt
826   0000              	GLOBAL _game_sound
827   0000              	GLOBAL _game_inf_lives
828   0000              	GLOBAL _game_inmune
829   0000              	GLOBAL _sprite_curr_index
830   0000              	GLOBAL _spr_count
831   0000              	GLOBAL _key_ink
832   0000              	GLOBAL _key_last
833   0000              	GLOBAL _anim_time
834   0000              	GLOBAL _frame_time
835   0000              	GLOBAL _curr_time
836   0000              	GLOBAL _game_conveyor_flag
837   0000              	GLOBAL _game_conveyor_tile
838   0000              	GLOBAL _p_state_a
839   0000              	GLOBAL _p_state
840   0000              	GLOBAL _key_attrib
841   0000              	GLOBAL _game_attrib_osd
842   0000              	GLOBAL _attrib_osd
843   0000              	GLOBAL _attrib_hl
844   0000              	GLOBAL _attrib
845   0000              	GLOBAL _zx_val_asm
846   0000              	GLOBAL _enemies
847   0000              	GLOBAL _tmp_ui
848   0000              	GLOBAL _index1
849   0000              	GLOBAL _index0
850   0000              	GLOBAL _index_tmp
851   0000              	GLOBAL _loop_count
852   0000              	GLOBAL _s_class
853   0000              	GLOBAL _s_row1
854   0000              	GLOBAL _s_col1
855   0000              	GLOBAL _s_col0
856   0000              	GLOBAL _s_lin1
857   0000              	GLOBAL _s_lin0
858   0000              	GLOBAL _s_tile1
859   0000              	GLOBAL _s_tile0
860   0000              	GLOBAL _nirv_sprite_index
861   0000              	GLOBAL _player_kill_index
862   0000              	GLOBAL _player_killed
863   0000              	GLOBAL _player_jump_top
864   0000              	GLOBAL _game_fps_show
865   0000              	GLOBAL _game_debug
866   0000              	GLOBAL _sprite
867   0000              	GLOBAL _fps
868   0000              	GLOBAL _game_tileset
869   0000              	GLOBAL _menu_curr_sel
870   0000              	GLOBAL _game_round_up
871   0000              	GLOBAL _game_playing
872   0000              	GLOBAL _game_exit_lin
873   0000              	GLOBAL _game_exit_col
874   0000              	GLOBAL _game_conveyor_col1
875   0000              	GLOBAL _game_conveyor_col0
876   0000              	GLOBAL _game_conveyor_lin
877   0000              	GLOBAL _game_conveyor_dir
878   0000              	GLOBAL _game_song_play_start
879   0000              	GLOBAL _game_song_play
880   0000              	GLOBAL _game_world
881   0000              	GLOBAL _game_gravity
882   0000              	GLOBAL _player_jumpcount
883   0000              	GLOBAL _player_hit
884   0000              	GLOBAL _player_hit_time
885   0000              	GLOBAL _player_lin_scr
886   0000              	GLOBAL _player_col_scr
887   0000              	GLOBAL _player_jump_count
888   0000              	GLOBAL _player_jump_hack
889   0000              	GLOBAL _player_vel_inc
890   0000              	GLOBAL _player_vel_y0
891   0000              	GLOBAL _player_vel_y
892   0000              	GLOBAL _player_score
893   0000              	GLOBAL _tbuffer
894   0000              	GLOBAL _obj_count
895   0000              	GLOBAL _obj_col
896   0000              	GLOBAL _obj_lin
897   0000              	GLOBAL _spr_timer
898   0000              	GLOBAL _last_time
899   0000              	GLOBAL _colint
900   0000              	GLOBAL _col
901   0000              	GLOBAL _lin
902   0000              	GLOBAL _tile
903   0000              	GLOBAL _value_b
904   0000              	GLOBAL _value_a
905   0000              	GLOBAL _state_a
906   0000              	GLOBAL _state
907   0000              	GLOBAL _class
908   0000              	GLOBAL _dirs
909   0000              	GLOBAL _k1
910   0000              	GLOBAL _joyfunc2
911   0000              	GLOBAL _joyfunc1
912   0000              	GLOBAL _btiles
913   0000              	GLOBAL _v3
914   0000              	GLOBAL _v2
915   0000              	GLOBAL _v1
916   0000              	GLOBAL _v0
917   0000              	GLOBAL _i
918   0000              	GLOBAL _spec128
919   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
920   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
921   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
922   0000              	GLOBAL _ay_fx_06_disparo_fire
923   0000              	GLOBAL _ay_fx_06_disparo_axe
924   0000              	GLOBAL _ay_fx_06_explosion1
925   0000              	GLOBAL _ay_fx_06_efecto
926   0000              	GLOBAL _ay_fx_06_disparo2
927   0000              	GLOBAL _ay_fx_06_disparo1
928   0000              	GLOBAL _ay_fx_06_levelup
929   0000              	GLOBAL _ay_fx_06_magic
930   0000              	GLOBAL _ay_fx_06_sin_mana
931   0000              	GLOBAL _ay_fx_06_salto
932   0000              	GLOBAL _ay_fx_06_puerta
933   0000              	GLOBAL _ay_fx_06_magic1
934   0000              	GLOBAL _ay_fx_06_golpe
935   0000              	GLOBAL _ay_fx_06_explosion
936   0000              	GLOBAL _ay_fx_06_dano_por_toque
937   0000              	GLOBAL _ay_fx_06_coin
938   0000              	GLOBAL _ay_song_06_lotr_level_start
939   0000              	GLOBAL _ay_song_06_lotr_level_complete
940   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
941   0000              	GLOBAL _ay_song_04_ingame0
942   0000              	GLOBAL _ay_song_04_ingame
943   0000              	GLOBAL _hibtiles
944   0000              	GLOBAL _key_map
945   0000              	GLOBAL _paper0
946   0000              	GLOBAL _lenght0
947   0000              	GLOBAL _world0
948   0000              	GLOBAL _spr_init
949   0000              ;--------------------------------------------------------
950   0000              ; special function registers
951   0000              ;--------------------------------------------------------
952   0000              defc _IO_FE	=	0x00fe
953   0000              defc _IO_1FFD	=	0x1ffd
954   0000              defc _IO_7FFD	=	0x7ffd
955   0000              ;--------------------------------------------------------
956   0000              ; ram data
957   0000              ;--------------------------------------------------------
958   0000              	SECTION bss_compiler
959   0000              ;--------------------------------------------------------
960   0000              ; ram data
961   0000              ;--------------------------------------------------------
962   0000              
963   0000              IF 0
964   0000              
965   0000              ; .area _INITIALIZED removed by z88dk
966   0000              
967   0000              
968   0000              ENDIF
969   0000              
970   0000              ;--------------------------------------------------------
971   0000              ; absolute external ram data
972   0000              ;--------------------------------------------------------
973   0000              	SECTION IGNORE
974   0000              ;--------------------------------------------------------
975   0000              ; global & static initialisations
976   0000              ;--------------------------------------------------------
977   0000              	SECTION code_crt_init
978   0000              ;--------------------------------------------------------
979   0000              ; Home
980   0000              ;--------------------------------------------------------
981   0000              	SECTION IGNORE
982   0000              ;--------------------------------------------------------
983   0000              ; code
984   0000              ;--------------------------------------------------------
985   0000              	SECTION code_compiler
986   0000              ;	---------------------------------
987   0000              ; Function game_tick
988   0000              ; ---------------------------------
989   0000              _game_tick:
990   0000  21 00 00    	ld	hl,_curr_time
991   0003  34          	inc	(hl)
992   0004  C2 00 00    	jp	NZ,_zx_isr
993   0007  23          	inc	hl
994   0008  34          	inc	(hl)
995   0009  C3 00 00    	jp  _zx_isr
996   000C              	SECTION code_compiler
997   000C              ;	---------------------------------
998   000C              ; Function game_loop
999   000C              ; ---------------------------------
1000  000C              _game_loop:
1001  000C  21 00 00    	ld	hl,_player_lives
1002  000F  36 03       	ld	(hl),0x03
1003  0011  21 00 00    	ld	hl,0x0000
1004  0014  22 00 00    	ld	(_player_score),hl
1005  0017  21 00 00    	ld	hl,_game_over
1006  001A  36 00       	ld	(hl),0x00
1007  001C  21 00 00    	ld	hl,_game_round_up
1008  001F  36 00       	ld	(hl),0x00
1009  0021  21 00 00    	ld	hl,_game_world
1010  0024  36 00       	ld	(hl),0x00
1011  0026  21 00 00    	ld	hl,_map_paper
1012  0029  36 00       	ld	(hl),0x00
1013  002B  21 00 00    	ld	hl,_player_lin_scr
1014  002E  36 68       	ld	(hl),0x68
1015  0030  21 00 00    	ld	hl,_player_col_scr
1016  0033  36 02       	ld	(hl),0x02
1017  0035  CD 56 05    	call	_game_round_init
1018  0038              l_game_loop_00119:
1019  0038  3A 00 00    	ld	a,(_game_over)
1020  003B  B7          	or	a, a
1021  003C  C2 F7 00    	jp	NZ, l_game_loop_00122
1022  003F  21 00 00    	ld	hl,_dirs
1023  0042  36 00       	ld	(hl),0x00
1024  0044  21 00 00    	ld	hl,_game_playing
1025  0047  36 01       	ld	(hl),0x01
1026  0049              l_game_loop_00114:
1027  0049  3A 00 00    	ld	a,(_game_round_up)
1028  004C  B7          	or	a, a
1029  004D  C2 DB 00    	jp	NZ, l_game_loop_00116
1030  0050  3A 00 00    	ld	a,(_game_over)
1031  0053  B7          	or	a, a
1032  0054  C2 DB 00    	jp	NZ, l_game_loop_00116
1033  0057  2A 00 00    	ld	hl,(_map_border)
1034  005A  CD 00 00    	call	_zx_border_fastcall
1035  005D  CD 00 00    	call	_enemy_turn
1036  0060  CD 00 00    	call	_player_turn
1037  0063  3A 00 00    	ld	a,(_loop_count)
1038  0066  E6 03       	and	a,0x03
1039  0068  20 03       	jr	NZ,l_game_loop_00102
1040  006A  CD 1A 0A    	call	_game_key_paint
1041  006D              l_game_loop_00102:
1042  006D  3A 00 00    	ld	a,(_loop_count)
1043  0070  E6 0F       	and	a,0x0f
1044  0072  20 19       	jr	NZ,l_game_loop_00106
1045  0074  21 00 00    	ld	hl,_game_conveyor_col0
1046  0077  7E          	ld	a, (hl)
1047  0078  B7          	or	a, a
1048  0079  28 03       	jr	Z,l_game_loop_00104
1049  007B  CD 7E 04    	call	_game_anim_conveyor
1050  007E              l_game_loop_00104:
1051  007E  2A FF FF    	ld	hl,(_game_exit_col - 1)
1052  0081  3A 00 00    	ld	a,(_game_exit_lin)
1053  0084  6F          	ld	l,a
1054  0085  E5          	push	hl
1055  0086  21 06 4F    	ld	hl,0x4f06
1056  0089  E5          	push	hl
1057  008A  CD 00 00    	call	_NIRVANAP_spriteT_callee
1058  008D              l_game_loop_00106:
1059  008D  3E 64       	ld	a,0x64
1060  008F  F5          	push	af
1061  0090  33          	inc	sp
1062  0091  21 00 00    	ld	hl,_frame_time
1063  0094  E5          	push	hl
1064  0095  CD F0 09    	call	_game_check_time
1065  0098  F1          	pop	af
1066  0099  33          	inc	sp
1067  009A  7D          	ld	a, l
1068  009B  B7          	or	a, a
1069  009C  28 0F       	jr	Z,l_game_loop_00110
1070  009E  2A 00 00    	ld	hl,(_curr_time)
1071  00A1  22 00 00    	ld	(_frame_time),hl
1072  00A4  3A 00 00    	ld	a,(_game_fps_show)
1073  00A7  B7          	or	a,a
1074  00A8  28 03       	jr	Z,l_game_loop_00110
1075  00AA  CD F8 00    	call	_game_fps
1076  00AD              l_game_loop_00110:
1077  00AD  21 00 00    	ld	hl,_loop_count
1078  00B0  34          	inc	(hl)
1079  00B1  20 02       	jr	NZ,l_game_loop_00176
1080  00B3  23          	inc	hl
1081  00B4  34          	inc	(hl)
1082  00B5              l_game_loop_00176:
1083  00B5  21 00 00    	ld	hl,_fps
1084  00B8  34          	inc	(hl)
1085  00B9  20 02       	jr	NZ,l_game_loop_00177
1086  00BB  23          	inc	hl
1087  00BC  34          	inc	(hl)
1088  00BD              l_game_loop_00177:
1089  00BD  3A 00 00    	ld	a,(_obj_count)
1090  00C0  21 00 00    	ld	hl,_player_coins
1091  00C3  96          	sub	a, (hl)
1092  00C4  20 83       	jr	NZ,l_game_loop_00114
1093  00C6  3E 80       	ld	a,0x80
1094  00C8  F5          	push	af
1095  00C9  33          	inc	sp
1096  00CA  CD 52 10    	call	_game_flash_exit
1097  00CD  33          	inc	sp
1098  00CE  2E 00       	ld	l,0x00
1099  00D0  CD 00 00    	call	_zx_border_fastcall
1100  00D3  21 00 00    	ld	hl,_obj_count
1101  00D6  36 FF       	ld	(hl),0xff
1102  00D8  C3 49 00    	jp	l_game_loop_00114
1103  00DB              l_game_loop_00116:
1104  00DB  3A 00 00    	ld	a,(_game_round_up)
1105  00DE  B7          	or	a, a
1106  00DF  CA 38 00    	jp	Z, l_game_loop_00119
1107  00E2  21 00 00    	ld	hl,_game_playing
1108  00E5  36 00       	ld	(hl),0x00
1109  00E7  CD 56 05    	call	_game_round_init
1110  00EA  21 00 00    	ld	hl,_game_round_up
1111  00ED  36 00       	ld	(hl),0x00
1112  00EF  21 00 00    	ld	hl,_game_playing
1113  00F2  36 01       	ld	(hl),0x01
1114  00F4  C3 38 00    	jp	l_game_loop_00119
1115  00F7              l_game_loop_00122:
1116  00F7  C9          	ret
1117  00F8              	SECTION code_compiler
1118  00F8              ;	---------------------------------
1119  00F8              ; Function game_fps
1120  00F8              ; ---------------------------------
1121  00F8              _game_fps:
1122  00F8  21 00 00    	ld	hl,_screen_ink
1123  00FB  36 07       	ld	(hl),0x07
1124  00FD  2A 00 00    	ld	hl,(_fps)
1125  0100  E5          	push	hl
1126  0101  21 17 18    	ld	hl,0x1817
1127  0104  E5          	push	hl
1128  0105  CD 00 00    	call	_zx_print_int
1129  0108  21 00 00    	ld	hl,0x0000
1130  010B  22 00 00    	ld	(_fps),hl
1131  010E  C9          	ret
1132  010F              	SECTION code_compiler
1133  010F              ;	---------------------------------
1134  010F              ; Function game_draw_map
1135  010F              ; ---------------------------------
1136  010F              _game_draw_map:
1137  010F  CD 00 00    	call	___sdcc_enter_ix
1138  0112  F5          	push	af
1139  0113  F5          	push	af
1140  0114  F5          	push	af
1141  0115  F5          	push	af
1142  0116  76          	halt
1143  0117  21 00 00    	ld	hl,_screen_ink
1144  011A  36 07       	ld	(hl),0x07
1145  011C  21 00 00    	ld	hl,_v0
1146  011F  36 00       	ld	(hl),0x00
1147  0121              l_game_draw_map_00101:
1148  0121  21 00 00    	ld	hl,_v0
1149  0124  7E          	ld	a, (hl)
1150  0125  D6 0F       	sub	a,0x0f
1151  0127  30 0E       	jr	NC,l_game_draw_map_00103
1152  0129  3E 00       	ld	a, +((_class) & 0xFF)
1153  012B  86          	add	a, (hl)
1154  012C  4F          	ld	c, a
1155  012D  3E 00       	ld	a, +((_class) / 256)
1156  012F  CE 00       	adc	a,0x00
1157  0131  47          	ld	b, a
1158  0132  AF          	xor	a, a
1159  0133  02          	ld	(bc), a
1160  0134  34          	inc	(hl)
1161  0135  18 EA       	jr	l_game_draw_map_00101
1162  0137              l_game_draw_map_00103:
1163  0137  21 00 00    	ld	hl,_spr_count
1164  013A  36 00       	ld	(hl),0x00
1165  013C  21 00 00    	ld	hl,0x0000
1166  013F  22 00 00    	ld	(_index1),hl
1167  0142  21 00 00    	ld	hl,_s_row1
1168  0145  36 01       	ld	(hl),0x01
1169  0147  21 00 00    	ld	hl,_s_lin1
1170  014A  36 10       	ld	(hl),0x10
1171  014C  21 00 00    	ld	hl,_s_col1
1172  014F  36 00       	ld	(hl),0x00
1173  0151  21 00 00    	ld	hl,_obj_count
1174  0154  36 00       	ld	(hl),0x00
1175  0156  21 00 00    	ld	hl,_game_conveyor_lin
1176  0159  36 00       	ld	(hl),0x00
1177  015B  21 00 00    	ld	hl,_game_conveyor_col0
1178  015E  36 00       	ld	(hl),0x00
1179  0160  21 00 00    	ld	hl,_game_conveyor_col1
1180  0163  36 00       	ld	(hl),0x00
1181  0165  21 00 00    	ld	hl,_game_conveyor_tile
1182  0168  36 11       	ld	(hl),0x11
1183  016A  CD 00 00    	call	_NIRVANAP_stop
1184  016D  21 00 00    	ld	hl,_map_paper
1185  0170  7E          	ld	a, (hl)
1186  0171  0F          	rrca
1187  0172  0F          	rrca
1188  0173  0F          	rrca
1189  0174  E6 1F       	and	a,0x1f
1190  0176  B6          	or	a, (hl)
1191  0177  32 00 00    	ld	(_attrib_hl),a
1192  017A  32 01 00    	ld	((_attrib_hl + 0x0001)),a
1193  017D  32 02 00    	ld	((_attrib_hl + 0x0002)),a
1194  0180  32 03 00    	ld	((_attrib_hl + 0x0003)),a
1195  0183              l_game_draw_map_00129:
1196  0183  21 01 00    	ld	hl,_index1 + 1
1197  0186  7E          	ld	a, (hl)
1198  0187  D6 02       	sub	a,0x02
1199  0189  D2 CF 03    	jp	NC, l_game_draw_map_00131
1200  018C  3E 00       	ld	a, +((_scr_map) & 0xFF)
1201  018E  2B          	dec	hl
1202  018F  86          	add	a, (hl)
1203  0190  DD 77 FE    	ld	(ix-2),a
1204  0193  3E 00       	ld	a, +((_scr_map) / 256)
1205  0195  23          	inc	hl
1206  0196  8E          	adc	a, (hl)
1207  0197  DD 6E FE    	ld	l,(ix-2)
1208  019A  DD 77 FF    	ld	(ix-1),a
1209  019D  67          	ld	h,a
1210  019E  7E          	ld	a, (hl)
1211  019F  DD 77 FD    	ld	(ix-3),a
1212  01A2  3A 00 00    	ld	a,(_s_row1)
1213  01A5  07          	rlca
1214  01A6  07          	rlca
1215  01A7  07          	rlca
1216  01A8  E6 F8       	and	a,0xf8
1217  01AA  DD 77 F8    	ld	(ix-8),a
1218  01AD  DD 7E FD    	ld	a,(ix-3)
1219  01B0  D6 40       	sub	a,0x40
1220  01B2  D2 F3 02    	jp	NC, l_game_draw_map_00125
1221  01B5  3A 00 00    	ld	a,(_s_col1)
1222  01B8  F5          	push	af
1223  01B9  33          	inc	sp
1224  01BA  DD 66 F8    	ld	h,(ix-8)
1225  01BD  DD 6E FD    	ld	l,(ix-3)
1226  01C0  E5          	push	hl
1227  01C1  CD 00 00    	call	_spr_draw8
1228  01C4  F1          	pop	af
1229  01C5  33          	inc	sp
1230  01C6  01 00 00    	ld	bc,_scr_map
1231  01C9  2A 00 00    	ld	hl,(_index1)
1232  01CC  09          	add	hl,bc
1233  01CD  7E          	ld	a,(hl)
1234  01CE  D6 08       	sub	a,0x08
1235  01D0  20 2D       	jr	NZ,l_game_draw_map_00105
1236  01D2  2A 00 00    	ld	hl,(_obj_count)
1237  01D5  26 00       	ld	h,0x00
1238  01D7  01 00 00    	ld	bc,_obj_col
1239  01DA  09          	add	hl,bc
1240  01DB  3A 00 00    	ld	a,(_s_col1)
1241  01DE  77          	ld	(hl),a
1242  01DF  2A 00 00    	ld	hl,(_obj_count)
1243  01E2  26 00       	ld	h,0x00
1244  01E4  01 00 00    	ld	bc,_obj_lin
1245  01E7  09          	add	hl,bc
1246  01E8  3A 00 00    	ld	a,(_s_lin1)
1247  01EB  77          	ld	(hl),a
1248  01EC  21 00 00    	ld	hl,_obj_count
1249  01EF  34          	inc	(hl)
1250  01F0  2A FF FF    	ld	hl,(_s_col1 - 1)
1251  01F3  3A 00 00    	ld	a,(_s_lin1)
1252  01F6  6F          	ld	l,a
1253  01F7  E5          	push	hl
1254  01F8  21 00 00    	ld	hl,_attrib_hl
1255  01FB  E5          	push	hl
1256  01FC  CD 00 00    	call	_NIRVANAP_paintC_callee
1257  01FF              l_game_draw_map_00105:
1258  01FF  2A 00 00    	ld	hl,(_index1)
1259  0202  01 00 00    	ld	bc,_scr_map
1260  0205  09          	add	hl,bc
1261  0206  3A 00 00    	ld	a,(_index1)
1262  0209  E6 1F       	and	a,0x1f
1263  020B  5F          	ld	e,a
1264  020C  7E          	ld	a,(hl)
1265  020D  DD 73 FC    	ld	(ix-4),e
1266  0210  D6 04       	sub	a,0x04
1267  0212  20 04       	jr	NZ,l_game_draw_map_00200
1268  0214  3E 01       	ld	a,0x01
1269  0216  18 01       	jr	l_game_draw_map_00201
1270  0218              l_game_draw_map_00200:
1271  0218  AF          	xor	a,a
1272  0219              l_game_draw_map_00201:
1273  0219  DD 77 FB    	ld	(ix-5),a
1274  021C  3A 00 00    	ld	a,(_game_conveyor_col0)
1275  021F  B7          	or	a, a
1276  0220  28 11       	jr	Z,l_game_draw_map_00107
1277  0222  21 00 00    	ld	hl,_game_conveyor_col1
1278  0225  7E          	ld	a, (hl)
1279  0226  B7          	or	a, a
1280  0227  20 0A       	jr	NZ,l_game_draw_map_00107
1281  0229  DD CB FB 46 	bit	0,(ix-5)
1282  022D  20 04       	jr	NZ,l_game_draw_map_00107
1283  022F  DD 7E FC    	ld	a,(ix-4)
1284  0232  77          	ld	(hl), a
1285  0233              l_game_draw_map_00107:
1286  0233  DD CB FB 46 	bit	0,(ix-5)
1287  0237  28 66       	jr	Z,l_game_draw_map_00116
1288  0239  21 00 00    	ld	hl,_game_conveyor_col0
1289  023C  7E          	ld	a, (hl)
1290  023D  B7          	or	a, a
1291  023E  20 5F       	jr	NZ,l_game_draw_map_00116
1292  0240  DD 7E FC    	ld	a,(ix-4)
1293  0243  77          	ld	(hl), a
1294  0244  11 F9 FF    	ld	de,-7
1295  0247  21 00 00    	ld	hl,_index1
1296  024A  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1297  024D  06 05       	ld	b,0x05
1298  024F              l_game_draw_map_00202:
1299  024F  DD CB FA 3E 	srl	(ix-6)
1300  0253  DD CB F9 1E 	rr	(ix-7)
1301  0257  10 F6       	djnz	l_game_draw_map_00202
1302  0259  DD 7E F9    	ld	a,(ix-7)
1303  025C  07          	rlca
1304  025D  07          	rlca
1305  025E  07          	rlca
1306  025F  E6 F8       	and	a,0xf8
1307  0261  DD 77 F9    	ld	(ix-7),a
1308  0264  C6 08       	add	a,0x08
1309  0266  32 00 00    	ld	(_game_conveyor_lin),a
1310  0269  21 00 00    	ld	hl,_index1
1311  026C  7E          	ld	a, (hl)
1312  026D  C6 01       	add	a,0x01
1313  026F  DD 77 F9    	ld	(ix-7),a
1314  0272  23          	inc	hl
1315  0273  7E          	ld	a, (hl)
1316  0274  CE 00       	adc	a,0x00
1317  0276  DD 6E F9    	ld	l,(ix-7)
1318  0279  DD 77 FA    	ld	(ix-6),a
1319  027C  67          	ld	h,a
1320  027D  01 00 00    	ld	bc,_scr_map
1321  0280  09          	add	hl,bc
1322  0281  DD 75 F9    	ld	(ix-7),l
1323  0284  DD 74 FA    	ld	(ix-6),h
1324  0287  7E          	ld	a,(hl)
1325  0288  B7          	or	a,a
1326  0289  28 07       	jr	Z,l_game_draw_map_00111
1327  028B  21 00 00    	ld	hl,_game_conveyor_dir
1328  028E  36 01       	ld	(hl),0x01
1329  0290  18 05       	jr	l_game_draw_map_00112
1330  0292              l_game_draw_map_00111:
1331  0292  21 00 00    	ld	hl,_game_conveyor_dir
1332  0295  36 02       	ld	(hl),0x02
1333  0297              l_game_draw_map_00112:
1334  0297  DD 6E F9    	ld	l,(ix-7)
1335  029A  DD 66 FA    	ld	h,(ix-6)
1336  029D  36 04       	ld	(hl),0x04
1337  029F              l_game_draw_map_00116:
1338  029F  2A 00 00    	ld	hl,(_index1)
1339  02A2  01 00 00    	ld	bc,_scr_map
1340  02A5  09          	add	hl,bc
1341  02A6  7E          	ld	a,(hl)
1342  02A7  D6 1C       	sub	a,0x1c
1343  02A9  C2 A8 03    	jp	NZ,l_game_draw_map_00126
1344  02AC  3A 00 00    	ld	a,(_index1)
1345  02AF  E6 1F       	and	a,0x1f
1346  02B1  32 00 00    	ld	(_game_exit_col),a
1347  02B4  2A 00 00    	ld	hl,(_index1)
1348  02B7  4D          	ld	c,l
1349  02B8  5C          	ld	e,h
1350  02B9  06 05       	ld	b,0x05
1351  02BB  79          	ld	a,c
1352  02BC              l_game_draw_map_00205:
1353  02BC  CB 3B       	srl	e
1354  02BE  1F          	rra
1355  02BF  10 FB       	djnz	l_game_draw_map_00205
1356  02C1  07          	rlca
1357  02C2  07          	rlca
1358  02C3  07          	rlca
1359  02C4  E6 F8       	and	a,0xf8
1360  02C6  C6 10       	add	a,0x10
1361  02C8  32 00 00    	ld	(_game_exit_lin),a
1362  02CB  ED 4B 00 00 	ld	bc,(_index1)
1363  02CF  03          	inc	bc
1364  02D0  21 00 00    	ld	hl,_scr_map
1365  02D3  09          	add	hl, bc
1366  02D4  36 1D       	ld	(hl),0x1d
1367  02D6  2A 00 00    	ld	hl,(_index1)
1368  02D9  01 20 00    	ld	bc,0x0020
1369  02DC  09          	add	hl,bc
1370  02DD  01 00 00    	ld	bc,_scr_map
1371  02E0  09          	add	hl,bc
1372  02E1  36 1E       	ld	(hl),0x1e
1373  02E3  2A 00 00    	ld	hl,(_index1)
1374  02E6  01 21 00    	ld	bc,0x0021
1375  02E9  09          	add	hl,bc
1376  02EA  01 00 00    	ld	bc,_scr_map
1377  02ED  09          	add	hl,bc
1378  02EE  36 1F       	ld	(hl),0x1f
1379  02F0  C3 A8 03    	jp	l_game_draw_map_00126
1380  02F3              l_game_draw_map_00125:
1381  02F3  DD 7E FD    	ld	a,(ix-3)
1382  02F6  D6 78       	sub	a,0x78
1383  02F8  30 7B       	jr	NC,l_game_draw_map_00122
1384  02FA  2A FF FF    	ld	hl,(_s_col1-1)
1385  02FD  DD 6E F8    	ld	l,(ix-8)
1386  0300  E5          	push	hl
1387  0301  AF          	xor	a, a
1388  0302  F5          	push	af
1389  0303  33          	inc	sp
1390  0304  CD 00 00    	call	_spr_draw8
1391  0307  F1          	pop	af
1392  0308  33          	inc	sp
1393  0309  CD 00 00    	call	_enemy_init
1394  030C  2A 00 00    	ld	hl,(_sprite)
1395  030F  26 00       	ld	h,0x00
1396  0311  01 00 00    	ld	bc,_value_a
1397  0314  09          	add	hl,bc
1398  0315  4D          	ld	c,l
1399  0316  44          	ld	b,h
1400  0317  2A 00 00    	ld	hl,(_index1)
1401  031A  11 20 00    	ld	de,0x0020
1402  031D  19          	add	hl,de
1403  031E  11 00 00    	ld	de,_scr_map
1404  0321  19          	add	hl, de
1405  0322  7E          	ld	a, (hl)
1406  0323  02          	ld	(bc), a
1407  0324  2A 00 00    	ld	hl,(_sprite)
1408  0327  26 00       	ld	h,0x00
1409  0329  01 00 00    	ld	bc,_value_b
1410  032C  09          	add	hl,bc
1411  032D  4D          	ld	c,l
1412  032E  44          	ld	b,h
1413  032F  2A 00 00    	ld	hl,(_index1)
1414  0332  11 21 00    	ld	de,0x0021
1415  0335  19          	add	hl,de
1416  0336  11 00 00    	ld	de,_scr_map
1417  0339  19          	add	hl, de
1418  033A  7E          	ld	a, (hl)
1419  033B  02          	ld	(bc), a
1420  033C  2A 00 00    	ld	hl,(_index1)
1421  033F  01 00 00    	ld	bc,_scr_map
1422  0342  09          	add	hl,bc
1423  0343  AF          	xor	a,a
1424  0344  77          	ld	(hl),a
1425  0345  2A 00 00    	ld	hl,(_index1)
1426  0348  01 00 00    	ld	bc,_scr_map
1427  034B  09          	add	hl,bc
1428  034C  AF          	xor	a,a
1429  034D  77          	ld	(hl),a
1430  034E  ED 4B 00 00 	ld	bc,(_index1)
1431  0352  03          	inc	bc
1432  0353  21 00 00    	ld	hl,_scr_map
1433  0356  09          	add	hl, bc
1434  0357  36 00       	ld	(hl),0x00
1435  0359  2A 00 00    	ld	hl,(_index1)
1436  035C  01 20 00    	ld	bc,0x0020
1437  035F  09          	add	hl,bc
1438  0360  01 00 00    	ld	bc,_scr_map
1439  0363  09          	add	hl,bc
1440  0364  36 00       	ld	(hl),0x00
1441  0366  2A 00 00    	ld	hl,(_index1)
1442  0369  01 21 00    	ld	bc,0x0021
1443  036C  09          	add	hl,bc
1444  036D  01 00 00    	ld	bc,_scr_map
1445  0370  09          	add	hl,bc
1446  0371  36 00       	ld	(hl),0x00
1447  0373  18 33       	jr	l_game_draw_map_00126
1448  0375              l_game_draw_map_00122:
1449  0375  DD 7E FD    	ld	a,(ix-3)
1450  0378  D6 7F       	sub	a,0x7f
1451  037A  20 2C       	jr	NZ,l_game_draw_map_00126
1452  037C  3A 00 00    	ld	a,(_s_lin1)
1453  037F  C6 F0       	add	a,0xf0
1454  0381  32 00 00    	ld	(_player_lin_scr),a
1455  0384  3A 00 00    	ld	a,(_s_col1)
1456  0387  32 00 00    	ld	(_player_col_scr),a
1457  038A  DD 6E FE    	ld	l,(ix-2)
1458  038D  DD 66 FF    	ld	h,(ix-1)
1459  0390  36 00       	ld	(hl),0x00
1460  0392  3A 00 00    	ld	a,(_s_row1)
1461  0395  07          	rlca
1462  0396  07          	rlca
1463  0397  07          	rlca
1464  0398  E6 F8       	and	a,0xf8
1465  039A  4F          	ld	c, a
1466  039B  3A 00 00    	ld	a, (_s_col1)
1467  039E  47          	ld	b,a
1468  039F  C5          	push	bc
1469  03A0  AF          	xor	a, a
1470  03A1  F5          	push	af
1471  03A2  33          	inc	sp
1472  03A3  CD 00 00    	call	_spr_draw8
1473  03A6  F1          	pop	af
1474  03A7  33          	inc	sp
1475  03A8              l_game_draw_map_00126:
1476  03A8  21 00 00    	ld	hl,_index1
1477  03AB  34          	inc	(hl)
1478  03AC  20 02       	jr	NZ,l_game_draw_map_00208
1479  03AE  23          	inc	hl
1480  03AF  34          	inc	(hl)
1481  03B0              l_game_draw_map_00208:
1482  03B0  21 00 00    	ld	hl,_s_col1
1483  03B3  34          	inc	(hl)
1484  03B4  3A 00 00    	ld	a,(_index1)
1485  03B7  E6 1F       	and	a,0x1f
1486  03B9  C2 83 01    	jp	NZ,l_game_draw_map_00129
1487  03BC  21 00 00    	ld	hl,_s_row1
1488  03BF  34          	inc	(hl)
1489  03C0  21 00 00    	ld	hl,_s_lin1
1490  03C3  7E          	ld	a, (hl)
1491  03C4  C6 08       	add	a,0x08
1492  03C6  77          	ld	(hl), a
1493  03C7  21 00 00    	ld	hl,_s_col1
1494  03CA  36 00       	ld	(hl),0x00
1495  03CC  C3 83 01    	jp	l_game_draw_map_00129
1496  03CF              l_game_draw_map_00131:
1497  03CF  CD 00 00    	call	_NIRVANAP_start
1498  03D2  CD 00 00    	call	_game_update_stats
1499  03D5  DD F9       	ld	sp, ix
1500  03D7  DD E1       	pop	ix
1501  03D9  C9          	ret
1502  03DA              	SECTION code_compiler
1503  03DA              ;	---------------------------------
1504  03DA              ; Function game_cell_paint_index
1505  03DA              ; ---------------------------------
1506  03DA              _game_cell_paint_index:
1507  03DA  3A 00 00    	ld	a,(_index1)
1508  03DD  E6 1F       	and	a,0x1f
1509  03DF  32 00 00    	ld	(_s_col1),a
1510  03E2  2A 00 00    	ld	hl,(_index1)
1511  03E5  4D          	ld	c,l
1512  03E6  5C          	ld	e,h
1513  03E7  06 05       	ld	b,0x05
1514  03E9  79          	ld	a,c
1515  03EA              l_game_cell_paint_index_00103:
1516  03EA  CB 3B       	srl	e
1517  03EC  1F          	rra
1518  03ED  10 FB       	djnz	l_game_cell_paint_index_00103
1519  03EF  07          	rlca
1520  03F0  07          	rlca
1521  03F1  07          	rlca
1522  03F2  E6 F8       	and	a,0xf8
1523  03F4  32 00 00    	ld	(_s_lin1),a
1524  03F7  0F          	rrca
1525  03F8  0F          	rrca
1526  03F9  0F          	rrca
1527  03FA  E6 1F       	and	a,0x1f
1528  03FC  3C          	inc	a
1529  03FD  32 00 00    	ld	(_s_row1),a
1530  0400  21 00 00    	ld	hl,_s_lin1
1531  0403  7E          	ld	a, (hl)
1532  0404  C6 10       	add	a,0x10
1533  0406  77          	ld	(hl), a
1534  0407  3A 00 00    	ld	a,(_s_row1)
1535  040A  07          	rlca
1536  040B  07          	rlca
1537  040C  07          	rlca
1538  040D  E6 F8       	and	a,0xf8
1539  040F  4F          	ld	c, a
1540  0410  11 00 00    	ld	de,_scr_map
1541  0413  2A 00 00    	ld	hl,(_index1)
1542  0416  19          	add	hl,de
1543  0417  46          	ld	b, (hl)
1544  0418  3A 00 00    	ld	a,(_s_col1)
1545  041B  F5          	push	af
1546  041C  33          	inc	sp
1547  041D  79          	ld	a, c
1548  041E  48          	ld	c,b
1549  041F  47          	ld	b,a
1550  0420  C5          	push	bc
1551  0421  CD 00 00    	call	_spr_draw8
1552  0424  F1          	pop	af
1553  0425  33          	inc	sp
1554  0426  C9          	ret
1555  0427              	SECTION code_compiler
1556  0427              ;	---------------------------------
1557  0427              ; Function game_cell_paint
1558  0427              ; ---------------------------------
1559  0427              _game_cell_paint:
1560  0427  3A 00 00    	ld	a,(_s_row1)
1561  042A  07          	rlca
1562  042B  07          	rlca
1563  042C  07          	rlca
1564  042D  E6 F8       	and	a,0xf8
1565  042F  57          	ld	d, a
1566  0430  01 00 00    	ld	bc,_scr_map
1567  0433  2A 00 00    	ld	hl,(_index1)
1568  0436  09          	add	hl,bc
1569  0437  4D          	ld	c,l
1570  0438  46          	ld	b, (hl)
1571  0439  3A 00 00    	ld	a,(_s_col1)
1572  043C  5A          	ld	e,d
1573  043D  57          	ld	d,a
1574  043E  D5          	push	de
1575  043F  C5          	push	bc
1576  0440  33          	inc	sp
1577  0441  CD 00 00    	call	_spr_draw8
1578  0444  F1          	pop	af
1579  0445  33          	inc	sp
1580  0446  C9          	ret
1581  0447              	SECTION code_compiler
1582  0447              ;	---------------------------------
1583  0447              ; Function game_end is a stub
1584  0447              ; ---------------------------------
1585  0447              EXTERN l_ret
1586  0447              defc _game_end = l_ret
1587  0447              	SECTION code_compiler
1588  0447              ;	---------------------------------
1589  0447              ; Function game_print_footer
1590  0447              ; ---------------------------------
1591  0447              _game_print_footer:
1592  0447  3A 00 00    	ld	a,(_game_fps_show)
1593  044A  B7          	or	a, a
1594  044B  28 10       	jr	Z,l_game_print_footer_00102
1595  044D  21 00 00    	ld	hl,_screen_ink
1596  0450  36 07       	ld	(hl),0x07
1597  0452  21 00 00    	ld	hl,___str_0
1598  0455  E5          	push	hl
1599  0456  21 17 14    	ld	hl,0x1417
1600  0459  E5          	push	hl
1601  045A  CD 00 00    	call	_zx_print_str
1602  045D              l_game_print_footer_00102:
1603  045D  CD 00 00    	call	_game_update_stats
1604  0460  C9          	ret
1605  0461              	SECTION rodata_compiler
1606  0000              ___str_0:
1607  0000  4C 50 53 3A 	DEFM "LPS:"
1608  0004  00          	DEFB 0x00
1609  0005              	SECTION code_compiler
1610  0461              ;	---------------------------------
1611  0461              ; Function game_print_score is a stub
1612  0461              ; ---------------------------------
1613  0461              EXTERN l_ret
1614  0461              defc _game_print_score = l_ret
1615  0461              	SECTION code_compiler
1616  0461              ;	---------------------------------
1617  0461              ; Function game_cls
1618  0461              ; ---------------------------------
1619  0461              _game_cls:
1620  0461  CD 00 00    	call	_NIRVANAP_stop
1621  0464  2E 00       	ld	l,0x00
1622  0466  CD 00 00    	call	_zx_cls_fastcall
1623  0469  21 00 00    	ld	hl,_screen_ink
1624  046C  36 07       	ld	(hl),0x07
1625  046E  C3 00 00    	jp  _NIRVANAP_start
1626  0471              	SECTION code_compiler
1627  0471              ;	---------------------------------
1628  0471              ; Function game_update_stats is a stub
1629  0471              ; ---------------------------------
1630  0471              EXTERN l_ret
1631  0471              defc _game_update_stats = l_ret
1632  0471              	SECTION code_compiler
1633  0471              ;	---------------------------------
1634  0471              ; Function game_start_timer
1635  0471              ; ---------------------------------
1636  0471              _game_start_timer:
1637  0471  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1638  0474  36 CD       	ld	(hl),0xcd
1639  0476  23          	inc	hl
1640  0477  11 00 00    	ld	de,_game_tick
1641  047A  73          	ld	(hl), e
1642  047B  23          	inc	hl
1643  047C  72          	ld	(hl), d
1644  047D  C9          	ret
1645  047E              	SECTION code_compiler
1646  047E              ;	---------------------------------
1647  047E              ; Function game_anim_conveyor
1648  047E              ; ---------------------------------
1649  047E              _game_anim_conveyor:
1650  047E  CD 00 00    	call	___sdcc_enter_ix
1651  0481  F5          	push	af
1652  0482  F5          	push	af
1653  0483  3B          	dec	sp
1654  0484  01 60 00    	ld	bc,_btiles+96
1655  0487  3A 00 00    	ld	a,(_game_conveyor_lin)
1656  048A  32 00 00    	ld	(_i),a
1657  048D  C6 08       	add	a,0x08
1658  048F  DD 77 FB    	ld	(ix-5),a
1659  0492  0A          	ld	a, (bc)
1660  0493  5F          	ld	e, a
1661  0494  3A 00 00    	ld	a,(_game_conveyor_dir)
1662  0497  3D          	dec	a
1663  0498  20 14       	jr	NZ,l_game_anim_conveyor_00102
1664  049A  7B          	ld	a, e
1665  049B  87          	add	a, a
1666  049C  57          	ld	d, a
1667  049D  7B          	ld	a, e
1668  049E  07          	rlca
1669  049F  E6 01       	and	a,0x01
1670  04A1  B2          	or	a, d
1671  04A2  57          	ld	d,a
1672  04A3  02          	ld	(bc),a
1673  04A4  87          	add	a, a
1674  04A5  5F          	ld	e, a
1675  04A6  7A          	ld	a, d
1676  04A7  07          	rlca
1677  04A8  E6 01       	and	a,0x01
1678  04AA  B3          	or	a, e
1679  04AB  02          	ld	(bc), a
1680  04AC  18 14       	jr	l_game_anim_conveyor_00121
1681  04AE              l_game_anim_conveyor_00102:
1682  04AE  7B          	ld	a, e
1683  04AF  0F          	rrca
1684  04B0  E6 80       	and	a,0x80
1685  04B2  6F          	ld	l, a
1686  04B3  7B          	ld	a,e
1687  04B4  CB 3F       	srl	a
1688  04B6  B5          	or	a, l
1689  04B7  5F          	ld	e,a
1690  04B8  02          	ld	(bc),a
1691  04B9  0F          	rrca
1692  04BA  E6 80       	and	a,0x80
1693  04BC  6F          	ld	l, a
1694  04BD  CB 3B       	srl	e
1695  04BF  7D          	ld	a, l
1696  04C0  B3          	or	a, e
1697  04C1  02          	ld	(bc), a
1698  04C2              l_game_anim_conveyor_00121:
1699  04C2              l_game_anim_conveyor_00112:
1700  04C2  3A 00 00    	ld	a,(_i)
1701  04C5  DD 96 FB    	sub	a,(ix-5)
1702  04C8  D2 51 05    	jp	NC, l_game_anim_conveyor_00115
1703  04CB  3A 00 00    	ld	a,(_game_conveyor_col0)
1704  04CE  DD 77 FC    	ld	(ix-4),a
1705  04D1  2A 00 00    	ld	hl,(_i)
1706  04D4  CD 00 00    	call	_zx_py2saddr_fastcall
1707  04D7  EB          	ex	de,hl
1708  04D8  7B          	ld	a, e
1709  04D9  DD 86 FC    	add	a,(ix-4)
1710  04DC  5F          	ld	e, a
1711  04DD  7A          	ld	a, d
1712  04DE  CE 00       	adc	a,0x00
1713  04E0  57          	ld	d, a
1714  04E1  DD 7E FC    	ld	a,(ix-4)
1715  04E4  DD 77 FF    	ld	(ix-1),a
1716  04E7              l_game_anim_conveyor_00104:
1717  04E7  DD 7E FF    	ld	a,(ix-1)
1718  04EA  21 00 00    	ld	hl,_game_conveyor_col1
1719  04ED  96          	sub	a, (hl)
1720  04EE  30 08       	jr	NC,l_game_anim_conveyor_00106
1721  04F0  0A          	ld	a, (bc)
1722  04F1  12          	ld	(de), a
1723  04F2  13          	inc	de
1724  04F3  DD 34 FF    	inc	(ix-1)
1725  04F6  18 EF       	jr	l_game_anim_conveyor_00104
1726  04F8              l_game_anim_conveyor_00106:
1727  04F8  03          	inc	bc
1728  04F9  03          	inc	bc
1729  04FA  21 00 00    	ld	hl,_i
1730  04FD  34          	inc	(hl)
1731  04FE  3A 00 00    	ld	a,(_game_conveyor_lin)
1732  0501  5F          	ld	e,a
1733  0502  16 00       	ld	d,0x00
1734  0504  13          	inc	de
1735  0505  13          	inc	de
1736  0506  DD 73 FD    	ld	(ix-3),e
1737  0509  DD 72 FE    	ld	(ix-2),d
1738  050C  3A 00 00    	ld	a,(_i)
1739  050F  5F          	ld	e,a
1740  0510  16 00       	ld	d,0x00
1741  0512  DD 7E FD    	ld	a,(ix-3)
1742  0515  93          	sub	a, e
1743  0516  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1744  0518  DD 7E FE    	ld	a,(ix-2)
1745  051B  92          	sub	a, d
1746  051C  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1747  051E  0A          	ld	a, (bc)
1748  051F  5F          	ld	e, a
1749  0520  3A 00 00    	ld	a,(_game_conveyor_dir)
1750  0523  3D          	dec	a
1751  0524  20 16       	jr	NZ,l_game_anim_conveyor_00108
1752  0526  7B          	ld	a, e
1753  0527  0F          	rrca
1754  0528  E6 80       	and	a,0x80
1755  052A  57          	ld	d, a
1756  052B  CB 3B       	srl	e
1757  052D  7A          	ld	a, d
1758  052E  B3          	or	a, e
1759  052F  57          	ld	d,a
1760  0530  02          	ld	(bc),a
1761  0531  0F          	rrca
1762  0532  E6 80       	and	a,0x80
1763  0534  5F          	ld	e, a
1764  0535  CB 3A       	srl	d
1765  0537  7B          	ld	a, e
1766  0538  B2          	or	a, d
1767  0539  02          	ld	(bc), a
1768  053A  18 86       	jr	l_game_anim_conveyor_00112
1769  053C              l_game_anim_conveyor_00108:
1770  053C  7B          	ld	a, e
1771  053D  87          	add	a, a
1772  053E  57          	ld	d, a
1773  053F  7B          	ld	a, e
1774  0540  07          	rlca
1775  0541  E6 01       	and	a,0x01
1776  0543  B2          	or	a, d
1777  0544  5F          	ld	e,a
1778  0545  02          	ld	(bc),a
1779  0546  87          	add	a, a
1780  0547  57          	ld	d, a
1781  0548  7B          	ld	a, e
1782  0549  07          	rlca
1783  054A  E6 01       	and	a,0x01
1784  054C  B2          	or	a, d
1785  054D  02          	ld	(bc), a
1786  054E  C3 C2 04    	jp	l_game_anim_conveyor_00112
1787  0551              l_game_anim_conveyor_00115:
1788  0551  DD F9       	ld	sp, ix
1789  0553  DD E1       	pop	ix
1790  0555  C9          	ret
1791  0556              	SECTION code_compiler
1792  0556              ;	---------------------------------
1793  0556              ; Function game_round_init
1794  0556              ; ---------------------------------
1795  0556              _game_round_init:
1796  0556  CD 00 00    	call	___sdcc_enter_ix
1797  0559  21 D6 FF    	ld	hl, -42
1798  055C  39          	add	hl, sp
1799  055D  F9          	ld	sp, hl
1800  055E  21 00 00    	ld	hl,0x0000
1801  0561  39          	add	hl, sp
1802  0562  DD 75 FE    	ld	(ix-2),l
1803  0565  DD 74 FF    	ld	(ix-1),h
1804  0568  36 19       	ld	(hl), +((___str_1) & 0xFF)
1805  056A  23          	inc	hl
1806  056B  36 00       	ld	(hl), +((___str_1) / 256)
1807  056D  DD 4E FE    	ld	c,(ix-2)
1808  0570  DD 46 FF    	ld	b,(ix-1)
1809  0573  03          	inc	bc
1810  0574  03          	inc	bc
1811  0575  3E 31       	ld	a, +((___str_2) & 0xFF)
1812  0577  02          	ld	(bc), a
1813  0578  03          	inc	bc
1814  0579  3E 00       	ld	a, +((___str_2) / 256)
1815  057B  02          	ld	(bc), a
1816  057C  DD 7E FE    	ld	a,(ix-2)
1817  057F  C6 04       	add	a,0x04
1818  0581  4F          	ld	c, a
1819  0582  DD 7E FF    	ld	a,(ix-1)
1820  0585  CE 00       	adc	a,0x00
1821  0587  47          	ld	b, a
1822  0588  3E 49       	ld	a, +((___str_3) & 0xFF)
1823  058A  02          	ld	(bc), a
1824  058B  03          	inc	bc
1825  058C  3E 00       	ld	a, +((___str_3) / 256)
1826  058E  02          	ld	(bc), a
1827  058F  DD 7E FE    	ld	a,(ix-2)
1828  0592  C6 06       	add	a,0x06
1829  0594  4F          	ld	c, a
1830  0595  DD 7E FF    	ld	a,(ix-1)
1831  0598  CE 00       	adc	a,0x00
1832  059A  47          	ld	b, a
1833  059B  3E 61       	ld	a, +((___str_4) & 0xFF)
1834  059D  02          	ld	(bc), a
1835  059E  03          	inc	bc
1836  059F  3E 00       	ld	a, +((___str_4) / 256)
1837  05A1  02          	ld	(bc), a
1838  05A2  DD 7E FE    	ld	a,(ix-2)
1839  05A5  C6 08       	add	a,0x08
1840  05A7  4F          	ld	c, a
1841  05A8  DD 7E FF    	ld	a,(ix-1)
1842  05AB  CE 00       	adc	a,0x00
1843  05AD  47          	ld	b, a
1844  05AE  3E 7F       	ld	a, +((___str_5) & 0xFF)
1845  05B0  02          	ld	(bc), a
1846  05B1  03          	inc	bc
1847  05B2  3E 00       	ld	a, +((___str_5) / 256)
1848  05B4  02          	ld	(bc), a
1849  05B5  DD 7E FE    	ld	a,(ix-2)
1850  05B8  C6 0A       	add	a,0x0a
1851  05BA  4F          	ld	c, a
1852  05BB  DD 7E FF    	ld	a,(ix-1)
1853  05BE  CE 00       	adc	a,0x00
1854  05C0  47          	ld	b, a
1855  05C1  3E 96       	ld	a, +((___str_6) & 0xFF)
1856  05C3  02          	ld	(bc), a
1857  05C4  03          	inc	bc
1858  05C5  3E 00       	ld	a, +((___str_6) / 256)
1859  05C7  02          	ld	(bc), a
1860  05C8  DD 7E FE    	ld	a,(ix-2)
1861  05CB  C6 0C       	add	a,0x0c
1862  05CD  4F          	ld	c, a
1863  05CE  DD 7E FF    	ld	a,(ix-1)
1864  05D1  CE 00       	adc	a,0x00
1865  05D3  47          	ld	b, a
1866  05D4  3E AE       	ld	a, +((___str_7) & 0xFF)
1867  05D6  02          	ld	(bc), a
1868  05D7  03          	inc	bc
1869  05D8  3E 00       	ld	a, +((___str_7) / 256)
1870  05DA  02          	ld	(bc), a
1871  05DB  DD 7E FE    	ld	a,(ix-2)
1872  05DE  C6 0E       	add	a,0x0e
1873  05E0  4F          	ld	c, a
1874  05E1  DD 7E FF    	ld	a,(ix-1)
1875  05E4  CE 00       	adc	a,0x00
1876  05E6  47          	ld	b, a
1877  05E7  3E C2       	ld	a, +((___str_8) & 0xFF)
1878  05E9  02          	ld	(bc), a
1879  05EA  03          	inc	bc
1880  05EB  3E 00       	ld	a, +((___str_8) / 256)
1881  05ED  02          	ld	(bc), a
1882  05EE  DD 7E FE    	ld	a,(ix-2)
1883  05F1  C6 10       	add	a,0x10
1884  05F3  4F          	ld	c, a
1885  05F4  DD 7E FF    	ld	a,(ix-1)
1886  05F7  CE 00       	adc	a,0x00
1887  05F9  47          	ld	b, a
1888  05FA  3E E3       	ld	a, +((___str_9) & 0xFF)
1889  05FC  02          	ld	(bc), a
1890  05FD  03          	inc	bc
1891  05FE  3E 00       	ld	a, +((___str_9) / 256)
1892  0600  02          	ld	(bc), a
1893  0601  DD 7E FE    	ld	a,(ix-2)
1894  0604  C6 12       	add	a,0x12
1895  0606  4F          	ld	c, a
1896  0607  DD 7E FF    	ld	a,(ix-1)
1897  060A  CE 00       	adc	a,0x00
1898  060C  47          	ld	b, a
1899  060D  3E FD       	ld	a, +((___str_10) & 0xFF)
1900  060F  02          	ld	(bc), a
1901  0610  03          	inc	bc
1902  0611  3E 00       	ld	a, +((___str_10) / 256)
1903  0613  02          	ld	(bc), a
1904  0614  DD 7E FE    	ld	a,(ix-2)
1905  0617  C6 14       	add	a,0x14
1906  0619  4F          	ld	c, a
1907  061A  DD 7E FF    	ld	a,(ix-1)
1908  061D  CE 00       	adc	a,0x00
1909  061F  47          	ld	b, a
1910  0620  3E 18       	ld	a, +((___str_11) & 0xFF)
1911  0622  02          	ld	(bc), a
1912  0623  03          	inc	bc
1913  0624  3E 01       	ld	a, +((___str_11) / 256)
1914  0626  02          	ld	(bc), a
1915  0627  DD 7E FE    	ld	a,(ix-2)
1916  062A  C6 16       	add	a,0x16
1917  062C  4F          	ld	c, a
1918  062D  DD 7E FF    	ld	a,(ix-1)
1919  0630  CE 00       	adc	a,0x00
1920  0632  47          	ld	b, a
1921  0633  3E 38       	ld	a, +((___str_12) & 0xFF)
1922  0635  02          	ld	(bc), a
1923  0636  03          	inc	bc
1924  0637  3E 01       	ld	a, +((___str_12) / 256)
1925  0639  02          	ld	(bc), a
1926  063A  DD 7E FE    	ld	a,(ix-2)
1927  063D  C6 18       	add	a,0x18
1928  063F  4F          	ld	c, a
1929  0640  DD 7E FF    	ld	a,(ix-1)
1930  0643  CE 00       	adc	a,0x00
1931  0645  47          	ld	b, a
1932  0646  3E 58       	ld	a, +((___str_13) & 0xFF)
1933  0648  02          	ld	(bc), a
1934  0649  03          	inc	bc
1935  064A  3E 01       	ld	a, +((___str_13) / 256)
1936  064C  02          	ld	(bc), a
1937  064D  DD 7E FE    	ld	a,(ix-2)
1938  0650  C6 1A       	add	a,0x1a
1939  0652  4F          	ld	c, a
1940  0653  DD 7E FF    	ld	a,(ix-1)
1941  0656  CE 00       	adc	a,0x00
1942  0658  47          	ld	b, a
1943  0659  3E 6F       	ld	a, +((___str_14) & 0xFF)
1944  065B  02          	ld	(bc), a
1945  065C  03          	inc	bc
1946  065D  3E 01       	ld	a, +((___str_14) / 256)
1947  065F  02          	ld	(bc), a
1948  0660  DD 7E FE    	ld	a,(ix-2)
1949  0663  C6 1C       	add	a,0x1c
1950  0665  4F          	ld	c, a
1951  0666  DD 7E FF    	ld	a,(ix-1)
1952  0669  CE 00       	adc	a,0x00
1953  066B  47          	ld	b, a
1954  066C  3E 8A       	ld	a, +((___str_15) & 0xFF)
1955  066E  02          	ld	(bc), a
1956  066F  03          	inc	bc
1957  0670  3E 01       	ld	a, +((___str_15) / 256)
1958  0672  02          	ld	(bc), a
1959  0673  DD 7E FE    	ld	a,(ix-2)
1960  0676  C6 1E       	add	a,0x1e
1961  0678  4F          	ld	c, a
1962  0679  DD 7E FF    	ld	a,(ix-1)
1963  067C  CE 00       	adc	a,0x00
1964  067E  47          	ld	b, a
1965  067F  3E A0       	ld	a, +((___str_16) & 0xFF)
1966  0681  02          	ld	(bc), a
1967  0682  03          	inc	bc
1968  0683  3E 01       	ld	a, +((___str_16) / 256)
1969  0685  02          	ld	(bc), a
1970  0686  DD 7E FE    	ld	a,(ix-2)
1971  0689  C6 20       	add	a,0x20
1972  068B  4F          	ld	c, a
1973  068C  DD 7E FF    	ld	a,(ix-1)
1974  068F  CE 00       	adc	a,0x00
1975  0691  47          	ld	b, a
1976  0692  3E BB       	ld	a, +((___str_17) & 0xFF)
1977  0694  02          	ld	(bc), a
1978  0695  03          	inc	bc
1979  0696  3E 01       	ld	a, +((___str_17) / 256)
1980  0698  02          	ld	(bc), a
1981  0699  DD 7E FE    	ld	a,(ix-2)
1982  069C  C6 22       	add	a,0x22
1983  069E  4F          	ld	c, a
1984  069F  DD 7E FF    	ld	a,(ix-1)
1985  06A2  CE 00       	adc	a,0x00
1986  06A4  47          	ld	b, a
1987  06A5  3E D2       	ld	a, +((___str_18) & 0xFF)
1988  06A7  02          	ld	(bc), a
1989  06A8  03          	inc	bc
1990  06A9  3E 01       	ld	a, +((___str_18) / 256)
1991  06AB  02          	ld	(bc), a
1992  06AC  DD 7E FE    	ld	a,(ix-2)
1993  06AF  C6 24       	add	a,0x24
1994  06B1  4F          	ld	c, a
1995  06B2  DD 7E FF    	ld	a,(ix-1)
1996  06B5  CE 00       	adc	a,0x00
1997  06B7  47          	ld	b, a
1998  06B8  3E EC       	ld	a, +((___str_19) & 0xFF)
1999  06BA  02          	ld	(bc), a
2000  06BB  03          	inc	bc
2001  06BC  3E 01       	ld	a, +((___str_19) / 256)
2002  06BE  02          	ld	(bc), a
2003  06BF  DD 7E FE    	ld	a,(ix-2)
2004  06C2  C6 26       	add	a,0x26
2005  06C4  4F          	ld	c, a
2006  06C5  DD 7E FF    	ld	a,(ix-1)
2007  06C8  CE 00       	adc	a,0x00
2008  06CA  47          	ld	b, a
2009  06CB  3E 07       	ld	a, +((___str_20) & 0xFF)
2010  06CD  02          	ld	(bc), a
2011  06CE  03          	inc	bc
2012  06CF  3E 02       	ld	a, +((___str_20) / 256)
2013  06D1  02          	ld	(bc), a
2014  06D2  2A 00 00    	ld	hl,(_scr_curr)
2015  06D5  26 00       	ld	h,0x00
2016  06D7  01 05 00    	ld	bc,_game_borders
2017  06DA  09          	add	hl,bc
2018  06DB  7E          	ld	a,(hl)
2019  06DC  32 00 00    	ld	(_map_border),a
2020  06DF  6F          	ld	l,a
2021  06E0  CD 00 00    	call	_zx_border_fastcall
2022  06E3  21 00 00    	ld	hl,_map_border
2023  06E6  7E          	ld	a, (hl)
2024  06E7  07          	rlca
2025  06E8  07          	rlca
2026  06E9  07          	rlca
2027  06EA  E6 F8       	and	a,0xf8
2028  06EC  B6          	or	a, (hl)
2029  06ED  32 00 00    	ld	(_screen_ink),a
2030  06F0  21 21 02    	ld	hl,___str_21
2031  06F3  E5          	push	hl
2032  06F4  21 00 00    	ld	hl,0x0000
2033  06F7  E5          	push	hl
2034  06F8  CD 00 00    	call	_zx_print_str
2035  06FB  21 00 00    	ld	hl,_screen_ink
2036  06FE  36 30       	ld	(hl),0x30
2037  0700  21 21 02    	ld	hl,___str_21
2038  0703  E5          	push	hl
2039  0704  21 11 00    	ld	hl,0x0011
2040  0707  E5          	push	hl
2041  0708  CD 00 00    	call	_zx_print_str
2042  070B  21 00 00    	ld	hl,0x0000
2043  070E  22 00 00    	ld	(_loop_count),hl
2044  0711  21 00 00    	ld	hl,0
2045  0714  22 00 00    	ld	(_curr_time),hl
2046  0717  21 00 00    	ld	hl,0x0000
2047  071A  22 00 00    	ld	(_frame_time),hl
2048  071D  21 00 00    	ld	hl,_player_coins
2049  0720  36 00       	ld	(hl),0x00
2050  0722  21 00 00    	ld	hl,_game_conveyor_flag
2051  0725  36 00       	ld	(hl),0x00
2052  0727  21 00 00    	ld	hl,_i
2053  072A  36 00       	ld	(hl),0x00
2054  072C              l_game_round_init_00111:
2055  072C  21 00 00    	ld	hl,0x0000
2056  072F  E5          	push	hl
2057  0730  AF          	xor	a, a
2058  0731  2A 00 00    	ld	hl,(_i)
2059  0734  67          	ld	h,a
2060  0735  E5          	push	hl
2061  0736  CD 00 00    	call	_NIRVANAP_spriteT_callee
2062  0739  21 00 00    	ld	hl,_i
2063  073C  7E          	ld	a,(hl)
2064  073D  3C          	inc	a
2065  073E  77          	ld	(hl),a
2066  073F  D6 08       	sub	a,0x08
2067  0741  38 E9       	jr	C,l_game_round_init_00111
2068  0743  36 00       	ld	(hl),0x00
2069  0745              l_game_round_init_00113:
2070  0745  2A 00 00    	ld	hl,(_i)
2071  0748  26 00       	ld	h,0x00
2072  074A  01 00 00    	ld	bc,_spr_init_tile
2073  074D  09          	add	hl,bc
2074  074E  AF          	xor	a,a
2075  074F  77          	ld	(hl),a
2076  0750  21 00 00    	ld	hl,_i
2077  0753  7E          	ld	a,(hl)
2078  0754  3C          	inc	a
2079  0755  77          	ld	(hl),a
2080  0756  D6 06       	sub	a,0x06
2081  0758  38 EB       	jr	C,l_game_round_init_00113
2082  075A  76          	halt
2083  075B  CD 00 00    	call	_spr_clear_scr
2084  075E  21 00 00    	ld	hl,_v0
2085  0761  36 00       	ld	(hl),0x00
2086  0763              l_game_round_init_00103:
2087  0763  21 00 00    	ld	hl,_v0
2088  0766  7E          	ld	a, (hl)
2089  0767  D6 18       	sub	a,0x18
2090  0769  30 0E       	jr	NC,l_game_round_init_00105
2091  076B  3E 00       	ld	a, +((_spr_init_tile) & 0xFF)
2092  076D  86          	add	a, (hl)
2093  076E  4F          	ld	c, a
2094  076F  3E 00       	ld	a, +((_spr_init_tile) / 256)
2095  0771  CE 00       	adc	a,0x00
2096  0773  47          	ld	b, a
2097  0774  AF          	xor	a, a
2098  0775  02          	ld	(bc), a
2099  0776  34          	inc	(hl)
2100  0777  18 EA       	jr	l_game_round_init_00103
2101  0779              l_game_round_init_00105:
2102  0779  21 28 08    	ld	hl,0x0828
2103  077C  E5          	push	hl
2104  077D  CD 09 11    	call	_game_copy_tile_std
2105  0780  F1          	pop	af
2106  0781  7D          	ld	a,l
2107  0782  32 00 00    	ld	(_game_tile_cnt),a
2108  0785  21 00 00    	ld	hl,_key_last
2109  0788  36 00       	ld	(hl),0x00
2110  078A  21 00 00    	ld	hl,_key_ink
2111  078D  36 06       	ld	(hl),0x06
2112  078F  21 00 00    	ld	hl,_i
2113  0792  36 00       	ld	(hl),0x00
2114  0794              l_game_round_init_00106:
2115  0794  21 00 00    	ld	hl,_i
2116  0797  7E          	ld	a, (hl)
2117  0798  D6 08       	sub	a,0x08
2118  079A  30 1B       	jr	NC,l_game_round_init_00108
2119  079C  3E 00       	ld	a, +((_obj_col) & 0xFF)
2120  079E  86          	add	a, (hl)
2121  079F  4F          	ld	c, a
2122  07A0  3E 00       	ld	a, +((_obj_col) / 256)
2123  07A2  CE 00       	adc	a,0x00
2124  07A4  47          	ld	b, a
2125  07A5  3E FF       	ld	a,0xff
2126  07A7  02          	ld	(bc), a
2127  07A8  3E 00       	ld	a, +((_obj_lin) & 0xFF)
2128  07AA  86          	add	a, (hl)
2129  07AB  4F          	ld	c, a
2130  07AC  3E 00       	ld	a, +((_obj_lin) / 256)
2131  07AE  CE 00       	adc	a,0x00
2132  07B0  47          	ld	b, a
2133  07B1  3E FF       	ld	a,0xff
2134  07B3  02          	ld	(bc), a
2135  07B4  34          	inc	(hl)
2136  07B5  18 DD       	jr	l_game_round_init_00106
2137  07B7              l_game_round_init_00108:
2138  07B7  CD 00 00    	call	_ay_reset
2139  07BA  CD 0D 0B    	call	_game_page_map
2140  07BD  CD 0F 01    	call	_game_draw_map
2141  07C0  CD 00 00    	call	_spr_btile_paint_back
2142  07C3  3A 00 00    	ld	a,(_map_paper)
2143  07C6  21 00 00    	ld	hl,_key_ink
2144  07C9  B6          	or	a, (hl)
2145  07CA  32 00 00    	ld	(_key_attrib),a
2146  07CD  32 01 00    	ld	((_key_attrib + 0x0001)),a
2147  07D0  32 02 00    	ld	((_key_attrib + 0x0002)),a
2148  07D3  32 03 00    	ld	((_key_attrib + 0x0003)),a
2149  07D6  AF          	xor	a, a
2150  07D7  F5          	push	af
2151  07D8  33          	inc	sp
2152  07D9  CD 52 10    	call	_game_flash_exit
2153  07DC  33          	inc	sp
2154  07DD  21 00 00    	ld	hl,_game_song_play_start
2155  07E0  36 00       	ld	(hl),0x00
2156  07E2  3A 00 00    	ld	a,(_game_over)
2157  07E5  B7          	or	a, a
2158  07E6  20 10       	jr	NZ,l_game_round_init_00110
2159  07E8  2A 00 00    	ld	hl,(_player_col_scr)
2160  07EB  26 08       	ld	h,0x08
2161  07ED  3A 00 00    	ld	a,(_player_lin_scr)
2162  07F0  E5          	push	hl
2163  07F1  F5          	push	af
2164  07F2  33          	inc	sp
2165  07F3  CD 00 00    	call	_player_init
2166  07F6  F1          	pop	af
2167  07F7  33          	inc	sp
2168  07F8              l_game_round_init_00110:
2169  07F8  CD 00 00    	call	_game_update_stats
2170  07FB  21 00 00    	ld	hl,_screen_ink
2171  07FE  36 30       	ld	(hl),0x30
2172  0800  2A 00 00    	ld	hl,(_scr_curr)
2173  0803  26 00       	ld	h,0x00
2174  0805  29          	add	hl, hl
2175  0806  DD 5E FE    	ld	e,(ix-2)
2176  0809  DD 56 FF    	ld	d,(ix-1)
2177  080C  19          	add	hl, de
2178  080D  4E          	ld	c, (hl)
2179  080E  23          	inc	hl
2180  080F  46          	ld	b, (hl)
2181  0810  C5          	push	bc
2182  0811  21 11 00    	ld	hl,0x0011
2183  0814  E5          	push	hl
2184  0815  CD 00 00    	call	_zx_print_str
2185  0818  21 00 00    	ld	hl,_screen_ink
2186  081B  36 57       	ld	(hl),0x57
2187  081D  21 42 02    	ld	hl,___str_22
2188  0820  E5          	push	hl
2189  0821  21 12 00    	ld	hl,0x0012
2190  0824  E5          	push	hl
2191  0825  CD 00 00    	call	_zx_print_str
2192  0828  21 00 00    	ld	hl,_screen_ink
2193  082B  36 67       	ld	(hl),0x67
2194  082D  21 4D 02    	ld	hl,___str_23
2195  0830  E5          	push	hl
2196  0831  21 12 0A    	ld	hl,0x0a12
2197  0834  E5          	push	hl
2198  0835  CD 00 00    	call	_zx_print_str
2199  0838  21 00 00    	ld	hl,_screen_ink
2200  083B  36 06       	ld	(hl),0x06
2201  083D  21 64 02    	ld	hl,___str_24
2202  0840  E5          	push	hl
2203  0841  21 14 00    	ld	hl,0x0014
2204  0844  E5          	push	hl
2205  0845  CD 00 00    	call	_zx_print_str
2206  0848  CD 00 00    	call	_audio_ingame
2207  084B  21 00 00    	ld	hl,_screen_ink
2208  084E  36 07       	ld	(hl),0x07
2209  0850  DD F9       	ld	sp, ix
2210  0852  DD E1       	pop	ix
2211  0854  C9          	ret
2212  0855              	SECTION rodata_compiler
2213  0005              _game_borders:
2214  0005  02          	DEFB +0x02
2215  0006  02          	DEFB +0x02
2216  0007  02          	DEFB +0x02
2217  0008  02          	DEFB +0x02
2218  0009  01          	DEFB +0x01
2219  000A  02          	DEFB +0x02
2220  000B  04          	DEFB +0x04
2221  000C  02          	DEFB +0x02
2222  000D  01          	DEFB +0x01
2223  000E  02          	DEFB +0x02
2224  000F  02          	DEFB +0x02
2225  0010  02          	DEFB +0x02
2226  0011  01          	DEFB +0x01
2227  0012  06          	DEFB +0x06
2228  0013  02          	DEFB +0x02
2229  0014  02          	DEFB +0x02
2230  0015  02          	DEFB +0x02
2231  0016  01          	DEFB +0x01
2232  0017  03          	DEFB +0x03
2233  0018  02          	DEFB +0x02
2234  0019              	SECTION rodata_compiler
2235  0019              ___str_1:
2236  0019  20 20 20 20 20 20 20 20 20 43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "         Central Cavern"
2237  0030  00          	DEFB 0x00
2238  0031              	SECTION rodata_compiler
2239  0031              ___str_2:
2240  0031  20 20 20 20 20 20 20 20 20 20 54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "          The Cold Room"
2241  0048  00          	DEFB 0x00
2242  0049              	SECTION rodata_compiler
2243  0049              ___str_3:
2244  0049  20 20 20 20 20 20 20 20 20 20 54 68 65 20 4D 65 6E 61 67 65 72 69 65 
                        	DEFM "          The Menagerie"
2245  0060  00          	DEFB 0x00
2246  0061              	SECTION rodata_compiler
2247  0061              ___str_4:
2248  0061  20 20 20 41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "   Abandoned Uranium Workings"
2249  007E  00          	DEFB 0x00
2250  007F              	SECTION rodata_compiler
2251  007F              ___str_5:
2252  007F  20 20 20 20 20 20 20 20 20 45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "         Eugene's Lair"
2253  0095  00          	DEFB 0x00
2254  0096              	SECTION rodata_compiler
2255  0096              ___str_6:
2256  0096  20 20 20 20 20 20 20 50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "       Processing Plant"
2257  00AD  00          	DEFB 0x00
2258  00AE              	SECTION rodata_compiler
2259  00AE              ___str_7:
2260  00AE  20 20 20 20 20 20 20 20 20 20 20 20 54 68 65 20 56 61 74 
                        	DEFM "            The Vat"
2261  00C1  00          	DEFB 0x00
2262  00C2              	SECTION rodata_compiler
2263  00C2              ___str_8:
2264  00C2  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2265  00E2  00          	DEFB 0x00
2266  00E3              	SECTION rodata_compiler
2267  00E3              ___str_9:
2268  00E3  20 20 20 20 20 20 20 20 57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "        Wacky Amoebatrons"
2269  00FC  00          	DEFB 0x00
2270  00FD              	SECTION rodata_compiler
2271  00FD              ___str_10:
2272  00FD  20 20 20 20 20 20 20 54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "       The Endorian Forest"
2273  0117  00          	DEFB 0x00
2274  0118              	SECTION rodata_compiler
2275  0118              ___str_11:
2276  0118  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2277  0137  00          	DEFB 0x00
2278  0138              	SECTION rodata_compiler
2279  0138              ___str_12:
2280  0138  20 52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM " Return of the Alien Kong Beast"
2281  0157  00          	DEFB 0x00
2282  0158              	SECTION rodata_compiler
2283  0158              ___str_13:
2284  0158  20 20 20 20 20 20 20 20 20 20 4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "          Ore Refinery"
2285  016E  00          	DEFB 0x00
2286  016F              	SECTION rodata_compiler
2287  016F              ___str_14:
2288  016F  20 20 20 20 20 20 20 20 53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "        Skylab Landing Bay"
2289  0189  00          	DEFB 0x00
2290  018A              	SECTION rodata_compiler
2291  018A              ___str_15:
2292  018A  20 20 20 20 20 20 20 20 20 20 20 20 20 54 68 65 20 42 61 6E 6B 
                        	DEFM "             The Bank"
2293  019F  00          	DEFB 0x00
2294  01A0              	SECTION rodata_compiler
2295  01A0              ___str_16:
2296  01A0  20 20 20 20 20 20 54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "      The Sixteenth Cavern"
2297  01BA  00          	DEFB 0x00
2298  01BB              	SECTION rodata_compiler
2299  01BB              ___str_17:
2300  01BB  20 20 20 20 20 20 20 20 20 54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "         The Warehouse"
2301  01D1  00          	DEFB 0x00
2302  01D2              	SECTION rodata_compiler
2303  01D2              ___str_18:
2304  01D2  20 20 20 20 20 20 41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "      Amoebatrons Revenge"
2305  01EB  00          	DEFB 0x00
2306  01EC              	SECTION rodata_compiler
2307  01EC              ___str_19:
2308  01EC  20 20 20 20 20 53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "     Solar Power Generator"
2309  0206  00          	DEFB 0x00
2310  0207              	SECTION rodata_compiler
2311  0207              ___str_20:
2312  0207  20 20 20 20 20 20 20 20 54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "        The Final Barrier"
2313  0220  00          	DEFB 0x00
2314  0221              	SECTION rodata_compiler
2315  0221              ___str_21:
2316  0221  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2317  0241  00          	DEFB 0x00
2318  0242              	SECTION rodata_compiler
2319  0242              ___str_22:
2320  0242  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2321  024C  00          	DEFB 0x00
2322  024D              	SECTION rodata_compiler
2323  024D              ___str_23:
2324  024D  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2325  0263  00          	DEFB 0x00
2326  0264              	SECTION rodata_compiler
2327  0264              ___str_24:
2328  0264  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
2329  0284  00          	DEFB 0x00
2330  0285              	SECTION code_compiler
2331  0855              ;	---------------------------------
2332  0855              ; Function game_print_header
2333  0855              ; ---------------------------------
2334  0855              	defc _game_print_header	=	_game_print_score
2335  0855              	SECTION code_compiler
2336  0855              ;	---------------------------------
2337  0855              ; Function game_check_map
2338  0855              ; ---------------------------------
2339  0855              _game_check_map:
2340  0855  CD 00 00    	call	___sdcc_enter_ix
2341  0858  DD 66 05    	ld	h,(ix+5)
2342  085B  DD 6E 04    	ld	l,(ix+4)
2343  085E  E5          	push	hl
2344  085F  CD 00 00    	call	_spr_calc_index
2345  0862  F1          	pop	af
2346  0863  22 00 00    	ld	(_index1),hl
2347  0866  21 00 00    	ld	hl,_index1
2348  0869  DD E1       	pop	ix
2349  086B  C3 6E 08    	jp	_game_check_cell
2350  086E              	SECTION code_compiler
2351  086E              ;	---------------------------------
2352  086E              ; Function game_check_cell
2353  086E              ; ---------------------------------
2354  086E              _game_check_cell:
2355  086E  4E          	ld	c, (hl)
2356  086F  23          	inc	hl
2357  0870  46          	ld	b, (hl)
2358  0871  AF          	xor	a, a
2359  0872  B9          	cp	a, c
2360  0873  3E 02       	ld	a,0x02
2361  0875  98          	sbc	a, b
2362  0876  30 04       	jr	NC,l_game_check_cell_00102
2363  0878  2E 01       	ld	l,0x01
2364  087A  18 13       	jr	l_game_check_cell_00106
2365  087C              l_game_check_cell_00102:
2366  087C  21 00 00    	ld	hl,_scr_map
2367  087F  09          	add	hl, bc
2368  0880  5E          	ld	e, (hl)
2369  0881  ED 43 00 00 	ld	(_index1),bc
2370  0885  7B          	ld	a,e
2371  0886  D6 03       	sub	a,0x03
2372  0888  28 04       	jr	Z,l_game_check_cell_00104
2373  088A  2E 00       	ld	l,0x00
2374  088C  18 01       	jr	l_game_check_cell_00106
2375  088E              l_game_check_cell_00104:
2376  088E  6B          	ld	l, e
2377  088F              l_game_check_cell_00106:
2378  088F  C9          	ret
2379  0890              	SECTION code_compiler
2380  0890              ;	---------------------------------
2381  0890              ; Function game_paint_attrib
2382  0890              ; ---------------------------------
2383  0890              _game_paint_attrib:
2384  0890  CD 00 00    	call	___sdcc_enter_ix
2385  0893  DD 46 06    	ld	b,(ix+6)
2386  0896              l_game_paint_attrib_00103:
2387  0896  78          	ld	a, b
2388  0897  DD 96 07    	sub	a,(ix+7)
2389  089A  30 13       	jr	NC,l_game_paint_attrib_00105
2390  089C  DD 5E 04    	ld	e,(ix+4)
2391  089F  DD 56 05    	ld	d,(ix+5)
2392  08A2  C5          	push	bc
2393  08A3  DD 4E 08    	ld	c,(ix+8)
2394  08A6  C5          	push	bc
2395  08A7  D5          	push	de
2396  08A8  CD 00 00    	call	_NIRVANAP_paintC_callee
2397  08AB  C1          	pop	bc
2398  08AC  04          	inc	b
2399  08AD  18 E7       	jr	l_game_paint_attrib_00103
2400  08AF              l_game_paint_attrib_00105:
2401  08AF  DD E1       	pop	ix
2402  08B1  C9          	ret
2403  08B2              	SECTION code_compiler
2404  08B2              ;	---------------------------------
2405  08B2              ; Function game_colour_message
2406  08B2              ; ---------------------------------
2407  08B2              _game_colour_message:
2408  08B2  CD 00 00    	call	___sdcc_enter_ix
2409  08B5  F5          	push	af
2410  08B6  F5          	push	af
2411  08B7  F5          	push	af
2412  08B8  F5          	push	af
2413  08B9  D1          	pop	de
2414  08BA  21 00 00    	ld	hl,_v0
2415  08BD  36 01       	ld	(hl),0x01
2416  08BF  2A 00 00    	ld	hl,(_curr_time)
2417  08C2  22 00 00    	ld	(_frame_time),hl
2418  08C5  E5          	push	hl
2419  08C6  DD 7E 04    	ld	a,(ix+4)
2420  08C9  4D          	ld	c,l
2421  08CA  07          	rlca
2422  08CB  07          	rlca
2423  08CC  07          	rlca
2424  08CD  E6 F8       	and	a,0xf8
2425  08CF  DD 77 FA    	ld	(ix-6),a
2426  08D2  C6 08       	add	a,0x08
2427  08D4  DD 77 FF    	ld	(ix-1),a
2428  08D7  DD 77 FE    	ld	(ix-2),a
2429  08DA              l_game_colour_message_00112:
2430  08DA  3A 00 00    	ld	a,(_v0)
2431  08DD  B7          	or	a, a
2432  08DE  CA 7A 09    	jp	Z, l_game_colour_message_00114
2433  08E1  DD 46 07    	ld	b,(ix+7)
2434  08E4  21 00 00    	ld	hl,0x0000
2435  08E7  39          	add	hl, sp
2436  08E8  EB          	ex	de,hl
2437  08E9  C5          	push	bc
2438  08EA  33          	inc	sp
2439  08EB  D5          	push	de
2440  08EC  CD F0 09    	call	_game_check_time
2441  08EF  F1          	pop	af
2442  08F0  33          	inc	sp
2443  08F1  7D          	ld	a, l
2444  08F2  B7          	or	a, a
2445  08F3  C2 7A 09    	jp	NZ, l_game_colour_message_00114
2446  08F6  3E 05       	ld	a,0x05
2447  08F8  F5          	push	af
2448  08F9  33          	inc	sp
2449  08FA  21 00 00    	ld	hl,_frame_time
2450  08FD  E5          	push	hl
2451  08FE  CD F0 09    	call	_game_check_time
2452  0901  F1          	pop	af
2453  0902  33          	inc	sp
2454  0903  DD 75 FD    	ld	(ix-3),l
2455  0906  7D          	ld	a, l
2456  0907  B7          	or	a, a
2457  0908  28 4A       	jr	Z,l_game_colour_message_00105
2458  090A  2A 00 00    	ld	hl,(_curr_time)
2459  090D  DD 74 FC    	ld	(ix-4),h
2460  0910  DD 75 FB    	ld	(ix-5),l
2461  0913  7D          	ld	a, l
2462  0914  21 00 00    	ld	hl,_frame_time
2463  0917  77          	ld	(hl), a
2464  0918  DD 7E FC    	ld	a,(ix-4)
2465  091B  23          	inc	hl
2466  091C  77          	ld	(hl), a
2467  091D  3A 00 00    	ld	a,(_game_over)
2468  0920  B7          	or	a, a
2469  0921  28 18       	jr	Z,l_game_colour_message_00102
2470  0923  DD 66 FE    	ld	h,(ix-2)
2471  0926  DD 6E 06    	ld	l,(ix+6)
2472  0929  E5          	push	hl
2473  092A  DD 7E 05    	ld	a,(ix+5)
2474  092D  F5          	push	af
2475  092E  33          	inc	sp
2476  092F  21 00 00    	ld	hl,_attrib_hl
2477  0932  E5          	push	hl
2478  0933  CD 90 08    	call	_game_paint_attrib
2479  0936  F1          	pop	af
2480  0937  F1          	pop	af
2481  0938  33          	inc	sp
2482  0939  18 19       	jr	l_game_colour_message_00105
2483  093B              l_game_colour_message_00102:
2484  093B  DD 66 FF    	ld	h,(ix-1)
2485  093E  DD 6E 06    	ld	l,(ix+6)
2486  0941  E5          	push	hl
2487  0942  DD 7E 05    	ld	a,(ix+5)
2488  0945  F5          	push	af
2489  0946  33          	inc	sp
2490  0947  21 00 00    	ld	hl,_attrib_osd
2491  094A  E5          	push	hl
2492  094B  CD 90 08    	call	_game_paint_attrib
2493  094E  F1          	pop	af
2494  094F  F1          	pop	af
2495  0950  33          	inc	sp
2496  0951  CD 98 0A    	call	_game_rotate_attrib_osd
2497  0954              l_game_colour_message_00105:
2498  0954  DD 7E 09    	ld	a,(ix+9)
2499  0957  B7          	or	a, a
2500  0958  CA DA 08    	jp	Z, l_game_colour_message_00112
2501  095B              l_game_colour_message_00106:
2502  095B  21 00 00    	ld	hl,_k1
2503  095E  E5          	push	hl
2504  095F  2A 00 00    	ld	hl,(_joyfunc1)
2505  0962  CD 00 00    	call	___sdcc_call_hl
2506  0965  F1          	pop	af
2507  0966  DD 74 FC    	ld	(ix-4),h
2508  0969  DD 75 FB    	ld	(ix-5),l
2509  096C  7C          	ld	a,h
2510  096D  DD B6 FB    	or	a,(ix-5)
2511  0970  CA DA 08    	jp	Z, l_game_colour_message_00112
2512  0973  21 00 00    	ld	hl,_v0
2513  0976  36 00       	ld	(hl),0x00
2514  0978  18 E1       	jr	l_game_colour_message_00106
2515  097A              l_game_colour_message_00114:
2516  097A  DD 7E 06    	ld	a,(ix+6)
2517  097D  DD 96 05    	sub	a,(ix+5)
2518  0980  4F          	ld	c, a
2519  0981  3A 00 00    	ld	a,(_game_over)
2520  0984  B7          	or	a, a
2521  0985  28 2F       	jr	Z,l_game_colour_message_00118
2522  0987  21 00 00    	ld	hl,_v1
2523  098A  71          	ld	(hl), c
2524  098B  21 00 00    	ld	hl,_v0
2525  098E  36 00       	ld	(hl),0x00
2526  0990              l_game_colour_message_00121:
2527  0990  3A 00 00    	ld	a,(_v0)
2528  0993  21 00 00    	ld	hl,_v1
2529  0996  96          	sub	a, (hl)
2530  0997  30 52       	jr	NC,l_game_colour_message_00126
2531  0999  DD 7E 05    	ld	a,(ix+5)
2532  099C  21 00 00    	ld	hl,_v0
2533  099F  86          	add	a, (hl)
2534  09A0  4F          	ld	c, a
2535  09A1  21 85 02    	ld	hl,___str_25
2536  09A4  E5          	push	hl
2537  09A5  79          	ld	a, c
2538  09A6  F5          	push	af
2539  09A7  33          	inc	sp
2540  09A8  DD 7E 04    	ld	a,(ix+4)
2541  09AB  F5          	push	af
2542  09AC  33          	inc	sp
2543  09AD  CD 00 00    	call	_zx_print_str
2544  09B0  21 00 00    	ld	hl,_v0
2545  09B3  34          	inc	(hl)
2546  09B4  18 DA       	jr	l_game_colour_message_00121
2547  09B6              l_game_colour_message_00118:
2548  09B6  21 00 00    	ld	hl,_v1
2549  09B9  71          	ld	(hl), c
2550  09BA  DD 7E FA    	ld	a,(ix-6)
2551  09BD  32 00 00    	ld	(_s_lin0),a
2552  09C0  DD 7E 05    	ld	a,(ix+5)
2553  09C3  CB 3F       	srl	a
2554  09C5  87          	add	a, a
2555  09C6  32 00 00    	ld	(_s_col1),a
2556  09C9  21 00 00    	ld	hl,_v2
2557  09CC  36 00       	ld	(hl),0x00
2558  09CE              l_game_colour_message_00124:
2559  09CE  3A 00 00    	ld	a,(_v2)
2560  09D1  21 00 00    	ld	hl,_v1
2561  09D4  96          	sub	a, (hl)
2562  09D5  30 14       	jr	NC,l_game_colour_message_00126
2563  09D7  3A 00 00    	ld	a,(_s_col1)
2564  09DA  21 00 00    	ld	hl,_v2
2565  09DD  86          	add	a, (hl)
2566  09DE  32 00 00    	ld	(_s_col0),a
2567  09E1  CD 00 00    	call	_spr_back_repaint
2568  09E4  21 00 00    	ld	hl,_v2
2569  09E7  34          	inc	(hl)
2570  09E8  34          	inc	(hl)
2571  09E9  18 E3       	jr	l_game_colour_message_00124
2572  09EB              l_game_colour_message_00126:
2573  09EB  DD F9       	ld	sp, ix
2574  09ED  DD E1       	pop	ix
2575  09EF  C9          	ret
2576  09F0              	SECTION rodata_compiler
2577  0285              ___str_25:
2578  0285  20          	DEFM " "
2579  0286  00          	DEFB 0x00
2580  0287              	SECTION code_compiler
2581  09F0              ;	---------------------------------
2582  09F0              ; Function game_check_time
2583  09F0              ; ---------------------------------
2584  09F0              _game_check_time:
2585  09F0  CD 00 00    	call	___sdcc_enter_ix
2586  09F3  2A 00 00    	ld	hl,(_curr_time)
2587  09F6  4D          	ld	c, l
2588  09F7  DD 6E 04    	ld	l,(ix+4)
2589  09FA  44          	ld	b,h
2590  09FB  DD 66 05    	ld	h,(ix+5)
2591  09FE  5E          	ld	e, (hl)
2592  09FF  23          	inc	hl
2593  0A00  56          	ld	d, (hl)
2594  0A01  79          	ld	a, c
2595  0A02  93          	sub	a, e
2596  0A03  4F          	ld	c, a
2597  0A04  78          	ld	a, b
2598  0A05  9A          	sbc	a, d
2599  0A06  47          	ld	b, a
2600  0A07  DD 7E 06    	ld	a,(ix+6)
2601  0A0A  16 00       	ld	d,0x00
2602  0A0C  91          	sub	a, c
2603  0A0D  7A          	ld	a, d
2604  0A0E  98          	sbc	a, b
2605  0A0F  30 04       	jr	NC,l_game_check_time_00102
2606  0A11  2E 01       	ld	l,0x01
2607  0A13  18 02       	jr	l_game_check_time_00104
2608  0A15              l_game_check_time_00102:
2609  0A15  2E 00       	ld	l,0x00
2610  0A17              l_game_check_time_00104:
2611  0A17  DD E1       	pop	ix
2612  0A19  C9          	ret
2613  0A1A              	SECTION code_compiler
2614  0A1A              ;	---------------------------------
2615  0A1A              ; Function game_key_paint
2616  0A1A              ; ---------------------------------
2617  0A1A              _game_key_paint:
2618  0A1A  3A 00 00    	ld	a,(_game_playing)
2619  0A1D  B7          	or	a, a
2620  0A1E  CA 97 0A    	jp	Z, l_game_key_paint_00117
2621  0A21  3A 00 00    	ld	a,(_obj_count)
2622  0A24  B7          	or	a, a
2623  0A25  28 70       	jr	Z,l_game_key_paint_00117
2624  0A27  21 00 00    	ld	hl,_key_last
2625  0A2A  4E          	ld	c, (hl)
2626  0A2B  59          	ld	e, c
2627  0A2C              l_game_key_paint_00105:
2628  0A2C  7B          	ld	a, e
2629  0A2D  D6 08       	sub	a,0x08
2630  0A2F  30 4A       	jr	NC,l_game_key_paint_00107
2631  0A31  16 00       	ld	d,0x00
2632  0A33  21 00 00    	ld	hl,_obj_col
2633  0A36  19          	add	hl, de
2634  0A37  7E          	ld	a,(hl)
2635  0A38  47          	ld	b,a
2636  0A39  3C          	inc	a
2637  0A3A  28 3B       	jr	Z,l_game_key_paint_00104
2638  0A3C  11 00 00    	ld	de,_obj_lin+0
2639  0A3F  69          	ld	l,c
2640  0A40  26 00       	ld	h,0x00
2641  0A42  19          	add	hl, de
2642  0A43  5E          	ld	e, (hl)
2643  0A44  C5          	push	bc
2644  0A45  C5          	push	bc
2645  0A46  33          	inc	sp
2646  0A47  7B          	ld	a, e
2647  0A48  F5          	push	af
2648  0A49  33          	inc	sp
2649  0A4A  21 00 00    	ld	hl,_key_attrib
2650  0A4D  E5          	push	hl
2651  0A4E  CD 00 00    	call	_NIRVANAP_paintC_callee
2652  0A51  C1          	pop	bc
2653  0A52  3A 00 00    	ld	a,(_map_paper)
2654  0A55  21 00 00    	ld	hl,_key_ink
2655  0A58  B6          	or	a, (hl)
2656  0A59  32 00 00    	ld	(_key_attrib),a
2657  0A5C  32 01 00    	ld	((_key_attrib + 0x0001)),a
2658  0A5F  32 02 00    	ld	((_key_attrib + 0x0002)),a
2659  0A62  32 03 00    	ld	((_key_attrib + 0x0003)),a
2660  0A65  21 00 00    	ld	hl,_key_ink
2661  0A68  34          	inc	(hl)
2662  0A69  3E 06       	ld	a,0x06
2663  0A6B  96          	sub	a, (hl)
2664  0A6C  30 02       	jr	NC,l_game_key_paint_00102
2665  0A6E  36 03       	ld	(hl),0x03
2666  0A70              l_game_key_paint_00102:
2667  0A70  79          	ld	a, c
2668  0A71  3C          	inc	a
2669  0A72  32 00 00    	ld	(_key_last),a
2670  0A75  18 04       	jr	l_game_key_paint_00107
2671  0A77              l_game_key_paint_00104:
2672  0A77  1C          	inc	e
2673  0A78  4B          	ld	c, e
2674  0A79  18 B1       	jr	l_game_key_paint_00105
2675  0A7B              l_game_key_paint_00107:
2676  0A7B  79          	ld	a, c
2677  0A7C  D6 08       	sub	a,0x08
2678  0A7E  38 17       	jr	C,l_game_key_paint_00117
2679  0A80  3A 00 00    	ld	a,(_obj_count)
2680  0A83  D6 04       	sub	a,0x04
2681  0A85  20 0B       	jr	NZ,l_game_key_paint_00111
2682  0A87  21 00 00    	ld	hl,_key_ink
2683  0A8A  34          	inc	(hl)
2684  0A8B  3E 06       	ld	a,0x06
2685  0A8D  96          	sub	a, (hl)
2686  0A8E  30 02       	jr	NC,l_game_key_paint_00111
2687  0A90  36 03       	ld	(hl),0x03
2688  0A92              l_game_key_paint_00111:
2689  0A92  21 00 00    	ld	hl,_key_last
2690  0A95  36 00       	ld	(hl),0x00
2691  0A97              l_game_key_paint_00117:
2692  0A97  C9          	ret
2693  0A98              	SECTION code_compiler
2694  0A98              ;	---------------------------------
2695  0A98              ; Function game_rotate_attrib_osd
2696  0A98              ; ---------------------------------
2697  0A98              _game_rotate_attrib_osd:
2698  0A98  3A 00 00    	ld	a,(_game_attrib_osd)
2699  0A9B  D6 07       	sub	a,0x07
2700  0A9D  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2701  0A9F  21 00 00    	ld	hl,_game_attrib_osd
2702  0AA2  36 01       	ld	(hl),0x01
2703  0AA4              l_game_rotate_attrib_osd_00102:
2704  0AA4  21 00 00    	ld	hl,_game_attrib_osd
2705  0AA7  34          	inc	(hl)
2706  0AA8  01 00 00    	ld	bc,_attrib_osd+0
2707  0AAB  0A          	ld	a, (bc)
2708  0AAC  32 00 00    	ld	(_v0),a
2709  0AAF  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2710  0AB2  02          	ld	(bc), a
2711  0AB3  59          	ld	e, c
2712  0AB4  50          	ld	d, b
2713  0AB5  13          	inc	de
2714  0AB6  03          	inc	bc
2715  0AB7  03          	inc	bc
2716  0AB8  0A          	ld	a, (bc)
2717  0AB9  12          	ld	(de), a
2718  0ABA  02          	ld	(bc), a
2719  0ABB  3A 00 00    	ld	a,(_v0)
2720  0ABE  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2721  0AC1  C9          	ret
2722  0AC2              	SECTION code_compiler
2723  0AC2              ;	---------------------------------
2724  0AC2              ; Function game_attribs
2725  0AC2              ; ---------------------------------
2726  0AC2              _game_attribs:
2727  0AC2  01 00 00    	ld	bc,_attrib+0
2728  0AC5  21 00 00    	ld	hl,_map_paper
2729  0AC8  7E          	ld	a, (hl)
2730  0AC9  F6 47       	or	a,0x47
2731  0ACB  02          	ld	(bc), a
2732  0ACC  59          	ld	e, c
2733  0ACD  50          	ld	d, b
2734  0ACE  13          	inc	de
2735  0ACF  7E          	ld	a, (hl)
2736  0AD0  F6 47       	or	a,0x47
2737  0AD2  12          	ld	(de), a
2738  0AD3  7E          	ld	a, (hl)
2739  0AD4  F6 47       	or	a,0x47
2740  0AD6  32 02 00    	ld	((_attrib + 0x0002)),a
2741  0AD9  03          	inc	bc
2742  0ADA  03          	inc	bc
2743  0ADB  03          	inc	bc
2744  0ADC  21 00 00    	ld	hl,_map_paper
2745  0ADF  7E          	ld	a, (hl)
2746  0AE0  F6 47       	or	a,0x47
2747  0AE2  02          	ld	(bc), a
2748  0AE3  01 00 00    	ld	bc,_attrib_hl+0
2749  0AE6  7E          	ld	a, (hl)
2750  0AE7  F6 33       	or	a,0x33
2751  0AE9  02          	ld	(bc), a
2752  0AEA  59          	ld	e, c
2753  0AEB  50          	ld	d, b
2754  0AEC  13          	inc	de
2755  0AED  7E          	ld	a, (hl)
2756  0AEE  F6 30       	or	a,0x30
2757  0AF0  12          	ld	(de), a
2758  0AF1  7E          	ld	a, (hl)
2759  0AF2  F6 31       	or	a,0x31
2760  0AF4  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2761  0AF7  03          	inc	bc
2762  0AF8  03          	inc	bc
2763  0AF9  03          	inc	bc
2764  0AFA  3A 00 00    	ld	a,(_map_paper)
2765  0AFD  F6 30       	or	a,0x30
2766  0AFF  02          	ld	(bc), a
2767  0B00  21 70 71    	ld	hl,0x7170
2768  0B03  22 00 00    	ld	(_attrib_osd),hl
2769  0B06  21 71 73    	ld	hl,0x7371
2770  0B09  22 02 00    	ld	(_attrib_osd + 2),hl
2771  0B0C  C9          	ret
2772  0B0D              	SECTION code_compiler
2773  0B0D              ;	---------------------------------
2774  0B0D              ; Function game_page_map
2775  0B0D              ; ---------------------------------
2776  0B0D              _game_page_map:
2777  0B0D  CD 00 00    	call	___sdcc_enter_ix
2778  0B10  21 AD FF    	ld	hl, -83
2779  0B13  39          	add	hl, sp
2780  0B14  F9          	ld	sp, hl
2781  0B15  F3          	di
2782  0B16  21 00 00    	ld	hl,_game_world
2783  0B19  4E          	ld	c, (hl)
2784  0B1A  3A 00 00    	ld	a,(_scr_curr)
2785  0B1D  DD 77 DE    	ld	(ix-34),a
2786  0B20  79          	ld	a, c
2787  0B21  07          	rlca
2788  0B22  07          	rlca
2789  0B23  07          	rlca
2790  0B24  07          	rlca
2791  0B25  E6 F0       	and	a,0xf0
2792  0B27  DD 86 DE    	add	a,(ix-34)
2793  0B2A  DD 77 DD    	ld	(ix-35),a
2794  0B2D  4F          	ld	c,a
2795  0B2E  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2796  0B31  36 16       	ld	(hl),0x16
2797  0B33  C5          	push	bc
2798  0B34  3E 16       	ld	a,0x16
2799  0B36  01 FD 7F    	ld	bc,_IO_7FFD
2800  0B39  ED 79       	out	(c),a
2801  0B3B  C1          	pop	bc
2802  0B3C  DD 7E DE    	ld	a,(ix-34)
2803  0B3F  3C          	inc	a
2804  0B40  20 03       	jr	NZ,l_game_page_map_00102
2805  0B42  DD 71 DD    	ld	(ix-35),c
2806  0B45              l_game_page_map_00102:
2807  0B45  01 00 00    	ld	bc,_paper0+0
2808  0B48  DD 6E DD    	ld	l,(ix-35)
2809  0B4B  26 00       	ld	h,0x00
2810  0B4D  09          	add	hl, bc
2811  0B4E  7E          	ld	a, (hl)
2812  0B4F  DD 77 DF    	ld	(ix-33),a
2813  0B52  3E 10       	ld	a,0x10
2814  0B54  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2815  0B57  01 FD 7F    	ld	bc,_IO_7FFD
2816  0B5A  ED 79       	out	(c),a
2817  0B5C  DD 4E DE    	ld	c,(ix-34)
2818  0B5F  CB 39       	srl	c
2819  0B61  06 00       	ld	b,0x00
2820  0B63  69          	ld	l, c
2821  0B64  60          	ld	h, b
2822  0B65  29          	add	hl, hl
2823  0B66  09          	add	hl, bc
2824  0B67  AF          	xor	a,a
2825  0B68  CB 3C       	srl	h
2826  0B6A  CB 1D       	rr	l
2827  0B6C  1F          	rra
2828  0B6D  CB 3C       	srl	h
2829  0B6F  CB 1D       	rr	l
2830  0B71  1F          	rra
2831  0B72  DD 77 E2    	ld	(ix-30),a
2832  0B75  DD 75 E3    	ld	(ix-29),l
2833  0B78  21 00 00    	ld	hl,0x0000
2834  0B7B  39          	add	hl, sp
2835  0B7C  DD 75 FE    	ld	(ix-2),l
2836  0B7F  DD 74 FF    	ld	(ix-1),h
2837  0B82  DD 75 FC    	ld	(ix-4),l
2838  0B85  DD 74 FD    	ld	(ix-3),h
2839  0B88  DD 7E FE    	ld	a,(ix-2)
2840  0B8B  DD 77 FA    	ld	(ix-6),a
2841  0B8E  DD 7E FF    	ld	a,(ix-1)
2842  0B91  DD 77 FB    	ld	(ix-5),a
2843  0B94  DD 7E FE    	ld	a,(ix-2)
2844  0B97  DD 77 F8    	ld	(ix-8),a
2845  0B9A  DD 7E FF    	ld	a,(ix-1)
2846  0B9D  DD 77 F9    	ld	(ix-7),a
2847  0BA0  DD 7E DE    	ld	a,(ix-34)
2848  0BA3  E6 01       	and	a,0x01
2849  0BA5  DD 77 F7    	ld	(ix-9),a
2850  0BA8  DD 7E FE    	ld	a,(ix-2)
2851  0BAB  DD 77 F5    	ld	(ix-11),a
2852  0BAE  DD 7E FF    	ld	a,(ix-1)
2853  0BB1  DD 77 F6    	ld	(ix-10),a
2854  0BB4  DD 7E FE    	ld	a,(ix-2)
2855  0BB7  DD 77 F3    	ld	(ix-13),a
2856  0BBA  DD 7E FF    	ld	a,(ix-1)
2857  0BBD  DD 77 F4    	ld	(ix-12),a
2858  0BC0  DD 7E FE    	ld	a,(ix-2)
2859  0BC3  DD 77 F1    	ld	(ix-15),a
2860  0BC6  DD 7E FF    	ld	a,(ix-1)
2861  0BC9  DD 77 F2    	ld	(ix-14),a
2862  0BCC  DD 36 E4 00 	ld	(ix-28),0x00
2863  0BD0  DD 36 E5 00 	ld	(ix-27),0x00
2864  0BD4              l_game_page_map_00127:
2865  0BD4  DD 7E E4    	ld	a,(ix-28)
2866  0BD7  D6 F0       	sub	a,0xf0
2867  0BD9  DD 7E E5    	ld	a,(ix-27)
2868  0BDC  DE 00       	sbc	a,0x00
2869  0BDE  D2 9D 0D    	jp	NC, l_game_page_map_00129
2870  0BE1  3E 13       	ld	a,0x13
2871  0BE3  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2872  0BE6  01 FD 7F    	ld	bc,_IO_7FFD
2873  0BE9  ED 79       	out	(c),a
2874  0BEB  DD 36 E8 00 	ld	(ix-24),0x00
2875  0BEF  DD 36 E9 00 	ld	(ix-23),0x00
2876  0BF3              l_game_page_map_00103:
2877  0BF3  DD 7E E8    	ld	a,(ix-24)
2878  0BF6  D6 30       	sub	a,0x30
2879  0BF8  DD 7E E9    	ld	a,(ix-23)
2880  0BFB  DE 00       	sbc	a,0x00
2881  0BFD  30 54       	jr	NC,l_game_page_map_00105
2882  0BFF  DD 7E F8    	ld	a,(ix-8)
2883  0C02  DD 86 E8    	add	a,(ix-24)
2884  0C05  DD 77 EF    	ld	(ix-17),a
2885  0C08  DD 7E F9    	ld	a,(ix-7)
2886  0C0B  DD 8E E9    	adc	a,(ix-23)
2887  0C0E  DD 77 F0    	ld	(ix-16),a
2888  0C11  DD 7E E2    	ld	a,(ix-30)
2889  0C14  DD 86 E8    	add	a,(ix-24)
2890  0C17  DD 77 ED    	ld	(ix-19),a
2891  0C1A  DD 7E E3    	ld	a,(ix-29)
2892  0C1D  DD 8E E9    	adc	a,(ix-23)
2893  0C20  DD 77 EE    	ld	(ix-18),a
2894  0C23  DD 7E ED    	ld	a,(ix-19)
2895  0C26  DD 86 E4    	add	a,(ix-28)
2896  0C29  DD 77 ED    	ld	(ix-19),a
2897  0C2C  6F          	ld	l,a
2898  0C2D  DD 7E EE    	ld	a,(ix-18)
2899  0C30  DD 8E E5    	adc	a,(ix-27)
2900  0C33  DD 77 EE    	ld	(ix-18),a
2901  0C36  67          	ld	h,a
2902  0C37  01 00 00    	ld	bc,_hibtiles
2903  0C3A  09          	add	hl,bc
2904  0C3B  DD 75 ED    	ld	(ix-19),l
2905  0C3E  DD 74 EE    	ld	(ix-18),h
2906  0C41  4E          	ld	c, (hl)
2907  0C42  DD 6E EF    	ld	l,(ix-17)
2908  0C45  DD 66 F0    	ld	h,(ix-16)
2909  0C48  71          	ld	(hl), c
2910  0C49  DD 34 E8    	inc	(ix-24)
2911  0C4C  20 A5       	jr	NZ,l_game_page_map_00103
2912  0C4E  DD 34 E9    	inc	(ix-23)
2913  0C51  18 A0       	jr	l_game_page_map_00103
2914  0C53              l_game_page_map_00105:
2915  0C53  3E 10       	ld	a,0x10
2916  0C55  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2917  0C58  01 FD 7F    	ld	bc,_IO_7FFD
2918  0C5B  ED 79       	out	(c),a
2919  0C5D  DD 7E F7    	ld	a,(ix-9)
2920  0C60  B7          	or	a, a
2921  0C61  C2 07 0D    	jp	NZ, l_game_page_map_00178
2922  0C64  01 00 00    	ld	bc,0x0000
2923  0C67              l_game_page_map_00106:
2924  0C67  79          	ld	a, c
2925  0C68  D6 10       	sub	a,0x10
2926  0C6A  78          	ld	a, b
2927  0C6B  DE 00       	sbc	a,0x00
2928  0C6D  30 18       	jr	NC,l_game_page_map_00108
2929  0C6F  DD 6E E4    	ld	l,(ix-28)
2930  0C72  DD 66 E5    	ld	h,(ix-27)
2931  0C75  09          	add	hl, bc
2932  0C76  11 00 00    	ld	de,_btiles
2933  0C79  19          	add	hl,de
2934  0C7A  EB          	ex	de,hl
2935  0C7B  DD 6E FE    	ld	l,(ix-2)
2936  0C7E  DD 66 FF    	ld	h,(ix-1)
2937  0C81  09          	add	hl, bc
2938  0C82  7E          	ld	a, (hl)
2939  0C83  12          	ld	(de), a
2940  0C84  03          	inc	bc
2941  0C85  18 E0       	jr	l_game_page_map_00106
2942  0C87              l_game_page_map_00108:
2943  0C87  DD 36 E8 20 	ld	(ix-24),0x20
2944  0C8B  DD 36 E9 00 	ld	(ix-23),0x00
2945  0C8F              l_game_page_map_00109:
2946  0C8F  DD 7E E8    	ld	a,(ix-24)
2947  0C92  D6 24       	sub	a,0x24
2948  0C94  DD 7E E9    	ld	a,(ix-23)
2949  0C97  DE 00       	sbc	a,0x00
2950  0C99  30 48       	jr	NC,l_game_page_map_00111
2951  0C9B  DD 7E E8    	ld	a,(ix-24)
2952  0C9E  DD 86 E4    	add	a,(ix-28)
2953  0CA1  DD 77 ED    	ld	(ix-19),a
2954  0CA4  DD 7E E9    	ld	a,(ix-23)
2955  0CA7  DD 8E E5    	adc	a,(ix-27)
2956  0CAA  DD 77 EE    	ld	(ix-18),a
2957  0CAD  3E 00       	ld	a, +((_btiles) & 0xFF)
2958  0CAF  DD 86 ED    	add	a,(ix-19)
2959  0CB2  DD 77 ED    	ld	(ix-19),a
2960  0CB5  3E 00       	ld	a, +((_btiles) / 256)
2961  0CB7  DD 8E EE    	adc	a,(ix-18)
2962  0CBA  DD 77 EE    	ld	(ix-18),a
2963  0CBD  DD 7E FC    	ld	a,(ix-4)
2964  0CC0  DD 86 E8    	add	a,(ix-24)
2965  0CC3  DD 77 EF    	ld	(ix-17),a
2966  0CC6  6F          	ld	l,a
2967  0CC7  DD 7E FD    	ld	a,(ix-3)
2968  0CCA  DD 8E E9    	adc	a,(ix-23)
2969  0CCD  DD 77 F0    	ld	(ix-16),a
2970  0CD0  67          	ld	h,a
2971  0CD1  4E          	ld	c, (hl)
2972  0CD2  DD 6E ED    	ld	l,(ix-19)
2973  0CD5  DD 66 EE    	ld	h,(ix-18)
2974  0CD8  71          	ld	(hl), c
2975  0CD9  DD 34 E8    	inc	(ix-24)
2976  0CDC  20 B1       	jr	NZ,l_game_page_map_00109
2977  0CDE  DD 34 E9    	inc	(ix-23)
2978  0CE1  18 AC       	jr	l_game_page_map_00109
2979  0CE3              l_game_page_map_00111:
2980  0CE3  01 28 00    	ld	bc,0x0028
2981  0CE6              l_game_page_map_00112:
2982  0CE6  79          	ld	a, c
2983  0CE7  D6 2C       	sub	a,0x2c
2984  0CE9  78          	ld	a, b
2985  0CEA  DE 00       	sbc	a,0x00
2986  0CEC  D2 8A 0D    	jp	NC, l_game_page_map_00126
2987  0CEF  DD 6E E4    	ld	l,(ix-28)
2988  0CF2  DD 66 E5    	ld	h,(ix-27)
2989  0CF5  09          	add	hl, bc
2990  0CF6  11 00 00    	ld	de,_btiles
2991  0CF9  19          	add	hl,de
2992  0CFA  EB          	ex	de,hl
2993  0CFB  DD 6E FA    	ld	l,(ix-6)
2994  0CFE  DD 66 FB    	ld	h,(ix-5)
2995  0D01  09          	add	hl, bc
2996  0D02  7E          	ld	a, (hl)
2997  0D03  12          	ld	(de), a
2998  0D04  03          	inc	bc
2999  0D05  18 DF       	jr	l_game_page_map_00112
3000  0D07              l_game_page_map_00178:
3001  0D07  01 00 00    	ld	bc,0x0000
3002  0D0A              l_game_page_map_00115:
3003  0D0A  79          	ld	a, c
3004  0D0B  D6 10       	sub	a,0x10
3005  0D0D  78          	ld	a, b
3006  0D0E  DE 00       	sbc	a,0x00
3007  0D10  30 20       	jr	NC,l_game_page_map_00117
3008  0D12  DD 6E E4    	ld	l,(ix-28)
3009  0D15  DD 66 E5    	ld	h,(ix-27)
3010  0D18  09          	add	hl, bc
3011  0D19  11 00 00    	ld	de,_btiles
3012  0D1C  19          	add	hl,de
3013  0D1D  79          	ld	a,c
3014  0D1E  EB          	ex	de,hl
3015  0D1F  C6 10       	add	a,0x10
3016  0D21  6F          	ld	l, a
3017  0D22  DD 7E F5    	ld	a,(ix-11)
3018  0D25  85          	add	a, l
3019  0D26  6F          	ld	l, a
3020  0D27  DD 7E F6    	ld	a,(ix-10)
3021  0D2A  CE 00       	adc	a,0x00
3022  0D2C  67          	ld	h, a
3023  0D2D  7E          	ld	a, (hl)
3024  0D2E  12          	ld	(de), a
3025  0D2F  03          	inc	bc
3026  0D30  18 D8       	jr	l_game_page_map_00115
3027  0D32              l_game_page_map_00117:
3028  0D32  01 20 00    	ld	bc,0x0020
3029  0D35              l_game_page_map_00118:
3030  0D35  79          	ld	a, c
3031  0D36  D6 24       	sub	a,0x24
3032  0D38  78          	ld	a, b
3033  0D39  DE 00       	sbc	a,0x00
3034  0D3B  30 21       	jr	NC,l_game_page_map_00120
3035  0D3D  DD 6E E4    	ld	l,(ix-28)
3036  0D40  DD 66 E5    	ld	h,(ix-27)
3037  0D43  09          	add	hl, bc
3038  0D44  11 00 00    	ld	de,_btiles
3039  0D47  19          	add	hl,de
3040  0D48  59          	ld	e,c
3041  0D49  EB          	ex	de,hl
3042  0D4A  2C          	inc	l
3043  0D4B  2C          	inc	l
3044  0D4C  2C          	inc	l
3045  0D4D  2C          	inc	l
3046  0D4E  DD 7E F3    	ld	a,(ix-13)
3047  0D51  85          	add	a, l
3048  0D52  6F          	ld	l, a
3049  0D53  DD 7E F4    	ld	a,(ix-12)
3050  0D56  CE 00       	adc	a,0x00
3051  0D58  67          	ld	h, a
3052  0D59  7E          	ld	a, (hl)
3053  0D5A  12          	ld	(de), a
3054  0D5B  03          	inc	bc
3055  0D5C  18 D7       	jr	l_game_page_map_00118
3056  0D5E              l_game_page_map_00120:
3057  0D5E  01 28 00    	ld	bc,0x0028
3058  0D61              l_game_page_map_00121:
3059  0D61  79          	ld	a, c
3060  0D62  D6 2C       	sub	a,0x2c
3061  0D64  78          	ld	a, b
3062  0D65  DE 00       	sbc	a,0x00
3063  0D67  30 21       	jr	NC,l_game_page_map_00126
3064  0D69  DD 6E E4    	ld	l,(ix-28)
3065  0D6C  DD 66 E5    	ld	h,(ix-27)
3066  0D6F  09          	add	hl, bc
3067  0D70  11 00 00    	ld	de,_btiles
3068  0D73  19          	add	hl,de
3069  0D74  59          	ld	e,c
3070  0D75  EB          	ex	de,hl
3071  0D76  2C          	inc	l
3072  0D77  2C          	inc	l
3073  0D78  2C          	inc	l
3074  0D79  2C          	inc	l
3075  0D7A  DD 7E F1    	ld	a,(ix-15)
3076  0D7D  85          	add	a, l
3077  0D7E  6F          	ld	l, a
3078  0D7F  DD 7E F2    	ld	a,(ix-14)
3079  0D82  CE 00       	adc	a,0x00
3080  0D84  67          	ld	h, a
3081  0D85  7E          	ld	a, (hl)
3082  0D86  12          	ld	(de), a
3083  0D87  03          	inc	bc
3084  0D88  18 D7       	jr	l_game_page_map_00121
3085  0D8A              l_game_page_map_00126:
3086  0D8A  DD 7E E4    	ld	a,(ix-28)
3087  0D8D  C6 30       	add	a,0x30
3088  0D8F  DD 77 E4    	ld	(ix-28),a
3089  0D92  DD 7E E5    	ld	a,(ix-27)
3090  0D95  CE 00       	adc	a,0x00
3091  0D97  DD 77 E5    	ld	(ix-27),a
3092  0D9A  C3 D4 0B    	jp	l_game_page_map_00127
3093  0D9D              l_game_page_map_00129:
3094  0D9D  DD 36 E8 C0 	ld	(ix-24),0xc0
3095  0DA1  DD 36 E9 00 	ld	(ix-23),0x00
3096  0DA5              l_game_page_map_00138:
3097  0DA5  DD 7E E8    	ld	a,(ix-24)
3098  0DA8  D6 80       	sub	a,0x80
3099  0DAA  DD 7E E9    	ld	a,(ix-23)
3100  0DAD  DE 01       	sbc	a,0x01
3101  0DAF  30 68       	jr	NC,l_game_page_map_00140
3102  0DB1  21 30 00    	ld	hl,0x0030
3103  0DB4  E5          	push	hl
3104  0DB5  DD 6E E8    	ld	l,(ix-24)
3105  0DB8  DD 66 E9    	ld	h,(ix-23)
3106  0DBB  E5          	push	hl
3107  0DBC  CD 00 00    	call	__moduint_callee
3108  0DBF  7D          	ld	a,l
3109  0DC0  32 00 00    	ld	(_v0),a
3110  0DC3  D6 10       	sub	a,0x10
3111  0DC5  30 0E       	jr	NC,l_game_page_map_00131
3112  0DC7  3E 00       	ld	a, +((_btiles) & 0xFF)
3113  0DC9  DD 86 E8    	add	a,(ix-24)
3114  0DCC  4F          	ld	c, a
3115  0DCD  3E 00       	ld	a, +((_btiles) / 256)
3116  0DCF  DD 8E E9    	adc	a,(ix-23)
3117  0DD2  47          	ld	b, a
3118  0DD3  AF          	xor	a, a
3119  0DD4  02          	ld	(bc), a
3120  0DD5              l_game_page_map_00131:
3121  0DD5  21 00 00    	ld	hl,_v0
3122  0DD8  7E          	ld	a, (hl)
3123  0DD9  D6 20       	sub	a,0x20
3124  0DDB  38 15       	jr	C,l_game_page_map_00133
3125  0DDD  7E          	ld	a, (hl)
3126  0DDE  D6 24       	sub	a,0x24
3127  0DE0  30 10       	jr	NC,l_game_page_map_00133
3128  0DE2  3E 00       	ld	a, +((_btiles) & 0xFF)
3129  0DE4  DD 86 E8    	add	a,(ix-24)
3130  0DE7  4F          	ld	c, a
3131  0DE8  3E 00       	ld	a, +((_btiles) / 256)
3132  0DEA  DD 8E E9    	adc	a,(ix-23)
3133  0DED  47          	ld	b, a
3134  0DEE  DD 7E DF    	ld	a,(ix-33)
3135  0DF1  02          	ld	(bc), a
3136  0DF2              l_game_page_map_00133:
3137  0DF2  21 00 00    	ld	hl,_v0
3138  0DF5  7E          	ld	a, (hl)
3139  0DF6  D6 28       	sub	a,0x28
3140  0DF8  38 15       	jr	C,l_game_page_map_00136
3141  0DFA  7E          	ld	a, (hl)
3142  0DFB  D6 2C       	sub	a,0x2c
3143  0DFD  30 10       	jr	NC,l_game_page_map_00136
3144  0DFF  3E 00       	ld	a, +((_btiles) & 0xFF)
3145  0E01  DD 86 E8    	add	a,(ix-24)
3146  0E04  4F          	ld	c, a
3147  0E05  3E 00       	ld	a, +((_btiles) / 256)
3148  0E07  DD 8E E9    	adc	a,(ix-23)
3149  0E0A  47          	ld	b, a
3150  0E0B  DD 7E DF    	ld	a,(ix-33)
3151  0E0E  02          	ld	(bc), a
3152  0E0F              l_game_page_map_00136:
3153  0E0F  DD 34 E8    	inc	(ix-24)
3154  0E12  20 91       	jr	NZ,l_game_page_map_00138
3155  0E14  DD 34 E9    	inc	(ix-23)
3156  0E17  18 8C       	jr	l_game_page_map_00138
3157  0E19              l_game_page_map_00140:
3158  0E19  DD 36 E8 00 	ld	(ix-24),0x00
3159  0E1D  DD 36 E9 00 	ld	(ix-23),0x00
3160  0E21              l_game_page_map_00141:
3161  0E21  DD 7E E8    	ld	a,(ix-24)
3162  0E24  D6 10       	sub	a,0x10
3163  0E26  DD 7E E9    	ld	a,(ix-23)
3164  0E29  DE 00       	sbc	a,0x00
3165  0E2B  30 30       	jr	NC,l_game_page_map_00143
3166  0E2D  DD 7E E8    	ld	a,(ix-24)
3167  0E30  C6 C0       	add	a,0xc0
3168  0E32  4F          	ld	c, a
3169  0E33  DD 7E E9    	ld	a,(ix-23)
3170  0E36  CE 00       	adc	a,0x00
3171  0E38  47          	ld	b, a
3172  0E39  21 00 00    	ld	hl,_btiles
3173  0E3C  09          	add	hl,bc
3174  0E3D  3E 00       	ld	a,+((_btiles) & 0xFF)
3175  0E3F  DD 86 E8    	add	a,(ix-24)
3176  0E42  5F          	ld	e,a
3177  0E43  3E 00       	ld	a,+((_btiles) / 256)
3178  0E45  DD 8E E9    	adc	a,(ix-23)
3179  0E48  57          	ld	d,a
3180  0E49  1A          	ld	a,(de)
3181  0E4A  77          	ld	(hl),a
3182  0E4B  DD 7E E8    	ld	a,(ix-24)
3183  0E4E  C6 02       	add	a,0x02
3184  0E50  DD 77 E8    	ld	(ix-24),a
3185  0E53  DD 7E E9    	ld	a,(ix-23)
3186  0E56  CE 00       	adc	a,0x00
3187  0E58  DD 77 E9    	ld	(ix-23),a
3188  0E5B  18 C4       	jr	l_game_page_map_00141
3189  0E5D              l_game_page_map_00143:
3190  0E5D  DD 36 E8 00 	ld	(ix-24),0x00
3191  0E61  DD 36 E9 00 	ld	(ix-23),0x00
3192  0E65              l_game_page_map_00144:
3193  0E65  DD 7E E8    	ld	a,(ix-24)
3194  0E68  D6 10       	sub	a,0x10
3195  0E6A  DD 7E E9    	ld	a,(ix-23)
3196  0E6D  DE 00       	sbc	a,0x00
3197  0E6F  30 20       	jr	NC,l_game_page_map_00146
3198  0E71  3E 00       	ld	a, +((_btiles) & 0xFF)
3199  0E73  DD 86 E8    	add	a,(ix-24)
3200  0E76  4F          	ld	c, a
3201  0E77  3E 00       	ld	a, +((_btiles) / 256)
3202  0E79  DD 8E E9    	adc	a,(ix-23)
3203  0E7C  47          	ld	b, a
3204  0E7D  AF          	xor	a, a
3205  0E7E  02          	ld	(bc), a
3206  0E7F  DD 7E E8    	ld	a,(ix-24)
3207  0E82  C6 02       	add	a,0x02
3208  0E84  DD 77 E8    	ld	(ix-24),a
3209  0E87  DD 7E E9    	ld	a,(ix-23)
3210  0E8A  CE 00       	adc	a,0x00
3211  0E8C  DD 77 E9    	ld	(ix-23),a
3212  0E8F  18 D4       	jr	l_game_page_map_00144
3213  0E91              l_game_page_map_00146:
3214  0E91  3A 30 00    	ld	a,(_btiles + 0x0030)
3215  0E94  32 C5 00    	ld	((_btiles + 0x00c5)),a
3216  0E97  01 32 00    	ld	bc,_btiles + 50
3217  0E9A  0A          	ld	a, (bc)
3218  0E9B  32 C7 00    	ld	((_btiles + 0x00c7)),a
3219  0E9E  3A 34 00    	ld	a,(_btiles + 0x0034)
3220  0EA1  32 C9 00    	ld	((_btiles + 0x00c9)),a
3221  0EA4  3A 36 00    	ld	a,(_btiles + 0x0036)
3222  0EA7  32 CB 00    	ld	((_btiles + 0x00cb)),a
3223  0EAA  3A 38 00    	ld	a, (_btiles + 56)
3224  0EAD  32 CD 00    	ld	((_btiles + 0x00cd)),a
3225  0EB0  3A 3A 00    	ld	a, (_btiles + 58)
3226  0EB3  32 CF 00    	ld	((_btiles + 0x00cf)),a
3227  0EB6  11 50 00    	ld	de,_btiles + 80
3228  0EB9  1A          	ld	a, (de)
3229  0EBA  32 E9 00    	ld	((_btiles + 0x00e9)),a
3230  0EBD  3A 51 00    	ld	a,(_btiles + 0x0051)
3231  0EC0  32 EA 00    	ld	((_btiles + 0x00ea)),a
3232  0EC3  3A 52 00    	ld	a, (_btiles + 82)
3233  0EC6  32 EB 00    	ld	((_btiles + 0x00eb)),a
3234  0EC9  3A 30 00    	ld	a,(_btiles + 0x0030)
3235  0ECC  32 FA 00    	ld	((_btiles + 0x00fa)),a
3236  0ECF  0A          	ld	a, (bc)
3237  0ED0  32 FC 00    	ld	((_btiles + 0x00fc)),a
3238  0ED3  3A 34 00    	ld	a,(_btiles + 0x0034)
3239  0ED6  32 FE 00    	ld	((_btiles + 0x00fe)),a
3240  0ED9  3A 36 00    	ld	a,(_btiles + 0x0036)
3241  0EDC  32 00 01    	ld	((_btiles + 0x0100)),a
3242  0EDF  1A          	ld	a, (de)
3243  0EE0  32 12 01    	ld	((_btiles + 0x0112)),a
3244  0EE3  3A 51 00    	ld	a,(_btiles + 0x0051)
3245  0EE6  32 13 01    	ld	((_btiles + 0x0113)),a
3246  0EE9  3A 30 00    	ld	a,(_btiles + 0x0030)
3247  0EEC  32 FD 00    	ld	((_btiles + 0x00fd)),a
3248  0EEF  0A          	ld	a, (bc)
3249  0EF0  32 FF 00    	ld	((_btiles + 0x00ff)),a
3250  0EF3  1A          	ld	a, (de)
3251  0EF4  32 1B 01    	ld	((_btiles + 0x011b)),a
3252  0EF7  3E 00       	ld	a,0x00
3253  0EF9  DD 77 E4    	ld	(ix-28),a
3254  0EFC  DD 77 E5    	ld	(ix-27),a
3255  0EFF  DD 77 E0    	ld	(ix-32),a
3256  0F02  DD 77 E1    	ld	(ix-31),a
3257  0F05  DD 36 E6 00 	ld	(ix-26),0x00
3258  0F09  DD 36 E7 00 	ld	(ix-25),0x00
3259  0F0D              l_game_page_map_00147:
3260  0F0D  DD 4E DD    	ld	c,(ix-35)
3261  0F10  06 00       	ld	b,0x00
3262  0F12  DD 7E E6    	ld	a,(ix-26)
3263  0F15  91          	sub	a, c
3264  0F16  DD 7E E7    	ld	a,(ix-25)
3265  0F19  98          	sbc	a, b
3266  0F1A  30 3A       	jr	NC,l_game_page_map_00149
3267  0F1C  3E 16       	ld	a,0x16
3268  0F1E  01 FD 7F    	ld	bc,_IO_7FFD
3269  0F21  ED 79       	out	(c),a
3270  0F23  01 00 00    	ld	bc,_lenght0
3271  0F26  DD 6E E6    	ld	l,(ix-26)
3272  0F29  DD 66 E7    	ld	h,(ix-25)
3273  0F2C  09          	add	hl,bc
3274  0F2D  4E          	ld	c, (hl)
3275  0F2E  06 00       	ld	b,0x00
3276  0F30  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3277  0F33  36 10       	ld	(hl),0x10
3278  0F35  C5          	push	bc
3279  0F36  3E 10       	ld	a,0x10
3280  0F38  01 FD 7F    	ld	bc,_IO_7FFD
3281  0F3B  ED 79       	out	(c),a
3282  0F3D  C1          	pop	bc
3283  0F3E  DD 7E E0    	ld	a,(ix-32)
3284  0F41  81          	add	a, c
3285  0F42  DD 77 E0    	ld	(ix-32),a
3286  0F45  DD 7E E1    	ld	a,(ix-31)
3287  0F48  88          	adc	a, b
3288  0F49  DD 77 E1    	ld	(ix-31),a
3289  0F4C  DD 34 E6    	inc	(ix-26)
3290  0F4F  20 BC       	jr	NZ,l_game_page_map_00147
3291  0F51  DD 34 E7    	inc	(ix-25)
3292  0F54  18 B7       	jr	l_game_page_map_00147
3293  0F56              l_game_page_map_00149:
3294  0F56  DD 36 E8 00 	ld	(ix-24),0x00
3295  0F5A  DD 36 E9 00 	ld	(ix-23),0x00
3296  0F5E              l_game_page_map_00162:
3297  0F5E  3E 16       	ld	a,0x16
3298  0F60  01 FD 7F    	ld	bc,_IO_7FFD
3299  0F63  ED 79       	out	(c),a
3300  0F65  DD 7E E0    	ld	a,(ix-32)
3301  0F68  DD 86 E8    	add	a,(ix-24)
3302  0F6B  4F          	ld	c, a
3303  0F6C  DD 7E E1    	ld	a,(ix-31)
3304  0F6F  DD 8E E9    	adc	a,(ix-23)
3305  0F72  47          	ld	b, a
3306  0F73  21 00 00    	ld	hl,_world0
3307  0F76  09          	add	hl, bc
3308  0F77  7E          	ld	a, (hl)
3309  0F78  DD 77 EC    	ld	(ix-20),a
3310  0F7B  03          	inc	bc
3311  0F7C  21 00 00    	ld	hl,_world0
3312  0F7F  09          	add	hl, bc
3313  0F80  7E          	ld	a, (hl)
3314  0F81  DD 77 EB    	ld	(ix-21),a
3315  0F84  3E 10       	ld	a,0x10
3316  0F86  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3317  0F89  01 FD 7F    	ld	bc,_IO_7FFD
3318  0F8C  ED 79       	out	(c),a
3319  0F8E  DD 7E EC    	ld	a,(ix-20)
3320  0F91  D6 80       	sub	a,0x80
3321  0F93  30 1F       	jr	NC,l_game_page_map_00154
3322  0F95  DD 6E E4    	ld	l,(ix-28)
3323  0F98  DD 66 E5    	ld	h,(ix-27)
3324  0F9B  01 00 00    	ld	bc,_scr_map
3325  0F9E  09          	add	hl,bc
3326  0F9F  DD 75 ED    	ld	(ix-19),l
3327  0FA2  DD 74 EE    	ld	(ix-18),h
3328  0FA5  DD 7E EC    	ld	a,(ix-20)
3329  0FA8  77          	ld	(hl), a
3330  0FA9  DD 34 E4    	inc	(ix-28)
3331  0FAC  C2 29 10    	jp	NZ,l_game_page_map_00155
3332  0FAF  DD 34 E5    	inc	(ix-27)
3333  0FB2  18 75       	jr	l_game_page_map_00155
3334  0FB4              l_game_page_map_00154:
3335  0FB4  DD 7E EC    	ld	a,(ix-20)
3336  0FB7  C6 80       	add	a,0x80
3337  0FB9  DD 77 EA    	ld	(ix-22),a
3338  0FBC  DD 7E E4    	ld	a,(ix-28)
3339  0FBF  DD 77 ED    	ld	(ix-19),a
3340  0FC2  DD 7E E5    	ld	a,(ix-27)
3341  0FC5  DD 77 EE    	ld	(ix-18),a
3342  0FC8  DD 36 E6 00 	ld	(ix-26),0x00
3343  0FCC  DD 36 E7 00 	ld	(ix-25),0x00
3344  0FD0              l_game_page_map_00160:
3345  0FD0  DD 7E EA    	ld	a,(ix-22)
3346  0FD3  DD 77 EF    	ld	(ix-17),a
3347  0FD6  DD 36 F0 00 	ld	(ix-16),0x00
3348  0FDA  DD 7E E6    	ld	a,(ix-26)
3349  0FDD  DD 96 EF    	sub	a,(ix-17)
3350  0FE0  DD 7E E7    	ld	a,(ix-25)
3351  0FE3  DD 9E F0    	sbc	a,(ix-16)
3352  0FE6  30 2D       	jr	NC,l_game_page_map_00214
3353  0FE8  DD 6E ED    	ld	l,(ix-19)
3354  0FEB  DD 66 EE    	ld	h,(ix-18)
3355  0FEE  01 00 00    	ld	bc,_scr_map
3356  0FF1  09          	add	hl,bc
3357  0FF2  DD 75 EF    	ld	(ix-17),l
3358  0FF5  DD 74 F0    	ld	(ix-16),h
3359  0FF8  DD 7E EB    	ld	a,(ix-21)
3360  0FFB  77          	ld	(hl), a
3361  0FFC  DD 34 ED    	inc	(ix-19)
3362  0FFF  20 03       	jr	NZ,l_game_page_map_00334
3363  1001  DD 34 EE    	inc	(ix-18)
3364  1004              l_game_page_map_00334:
3365  1004  DD 7E EE    	ld	a,(ix-18)
3366  1007  D6 02       	sub	a,0x02
3367  1009  30 0A       	jr	NC,l_game_page_map_00214
3368  100B  DD 34 E6    	inc	(ix-26)
3369  100E  20 C0       	jr	NZ,l_game_page_map_00160
3370  1010  DD 34 E7    	inc	(ix-25)
3371  1013  18 BB       	jr	l_game_page_map_00160
3372  1015              l_game_page_map_00214:
3373  1015  DD 7E ED    	ld	a,(ix-19)
3374  1018  DD 77 E4    	ld	(ix-28),a
3375  101B  DD 7E EE    	ld	a,(ix-18)
3376  101E  DD 77 E5    	ld	(ix-27),a
3377  1021  DD 34 E8    	inc	(ix-24)
3378  1024  20 03       	jr	NZ,l_game_page_map_00336
3379  1026  DD 34 E9    	inc	(ix-23)
3380  1029              l_game_page_map_00336:
3381  1029              l_game_page_map_00155:
3382  1029  DD 7E E5    	ld	a,(ix-27)
3383  102C  D6 02       	sub	a,0x02
3384  102E  30 10       	jr	NC,l_game_page_map_00158
3385  1030  DD 34 E8    	inc	(ix-24)
3386  1033  20 03       	jr	NZ,l_game_page_map_00337
3387  1035  DD 34 E9    	inc	(ix-23)
3388  1038              l_game_page_map_00337:
3389  1038  DD 7E E9    	ld	a,(ix-23)
3390  103B  D6 02       	sub	a,0x02
3391  103D  DA 5E 0F    	jp	C, l_game_page_map_00162
3392  1040              l_game_page_map_00158:
3393  1040  DD 7E DE    	ld	a,(ix-34)
3394  1043  32 00 00    	ld	(_scr_curr),a
3395  1046  DD 7E DF    	ld	a,(ix-33)
3396  1049  32 00 00    	ld	(_map_paper),a
3397  104C  FB          	ei
3398  104D  DD F9       	ld	sp, ix
3399  104F  DD E1       	pop	ix
3400  1051  C9          	ret
3401  1052              	SECTION code_compiler
3402  1052              ;	---------------------------------
3403  1052              ; Function game_flash_exit
3404  1052              ; ---------------------------------
3405  1052              _game_flash_exit:
3406  1052  CD 00 00    	call	___sdcc_enter_ix
3407  1055  01 C0 00    	ld	bc,0x00c0
3408  1058              l_game_flash_exit_00106:
3409  1058  79          	ld	a, c
3410  1059  D6 80       	sub	a,0x80
3411  105B  78          	ld	a, b
3412  105C  DE 01       	sbc	a,0x01
3413  105E  30 36       	jr	NC,l_game_flash_exit_00108
3414  1060  C5          	push	bc
3415  1061  21 30 00    	ld	hl,0x0030
3416  1064  E5          	push	hl
3417  1065  C5          	push	bc
3418  1066  CD 00 00    	call	__moduint_callee
3419  1069  C1          	pop	bc
3420  106A  5D          	ld	e,l
3421  106B  21 00 00    	ld	hl,_v0
3422  106E  73          	ld	(hl),e
3423  106F  7B          	ld	a,e
3424  1070  D6 24       	sub	a,0x24
3425  1072  38 05       	jr	C,l_game_flash_exit_00105
3426  1074  7E          	ld	a, (hl)
3427  1075  D6 28       	sub	a,0x28
3428  1077  38 0D       	jr	C,l_game_flash_exit_00101
3429  1079              l_game_flash_exit_00105:
3430  1079  21 00 00    	ld	hl,_v0
3431  107C  7E          	ld	a, (hl)
3432  107D  D6 2C       	sub	a,0x2c
3433  107F  38 12       	jr	C,l_game_flash_exit_00102
3434  1081  7E          	ld	a, (hl)
3435  1082  D6 30       	sub	a,0x30
3436  1084  30 0D       	jr	NC,l_game_flash_exit_00102
3437  1086              l_game_flash_exit_00101:
3438  1086  21 00 00    	ld	hl,_btiles
3439  1089  09          	add	hl,bc
3440  108A  7E          	ld	a,(hl)
3441  108B  EB          	ex	de,hl
3442  108C  E6 7F       	and	a,0x7f
3443  108E  12          	ld	(de), a
3444  108F  DD B6 04    	or	a,(ix+4)
3445  1092  12          	ld	(de), a
3446  1093              l_game_flash_exit_00102:
3447  1093  03          	inc	bc
3448  1094  18 C2       	jr	l_game_flash_exit_00106
3449  1096              l_game_flash_exit_00108:
3450  1096  3A 00 00    	ld	a,(_game_exit_lin)
3451  1099  C6 F8       	add	a,0xf8
3452  109B  4F          	ld	c, a
3453  109C  3A 00 00    	ld	a, (_game_exit_col)
3454  109F  47          	ld	b,a
3455  10A0  C5          	push	bc
3456  10A1  3E 1C       	ld	a,0x1c
3457  10A3  F5          	push	af
3458  10A4  33          	inc	sp
3459  10A5  CD 00 00    	call	_spr_draw8
3460  10A8  F1          	pop	af
3461  10A9  33          	inc	sp
3462  10AA  21 00 00    	ld	hl,_game_exit_col
3463  10AD  56          	ld	d, (hl)
3464  10AE  14          	inc	d
3465  10AF  3A 00 00    	ld	a,(_game_exit_lin)
3466  10B2  C6 F8       	add	a,0xf8
3467  10B4  5F          	ld	e, a
3468  10B5  D5          	push	de
3469  10B6  3E 1D       	ld	a,0x1d
3470  10B8  F5          	push	af
3471  10B9  33          	inc	sp
3472  10BA  CD 00 00    	call	_spr_draw8
3473  10BD  F1          	pop	af
3474  10BE  33          	inc	sp
3475  10BF  3A 00 00    	ld	a,(_game_exit_col)
3476  10C2  F5          	push	af
3477  10C3  33          	inc	sp
3478  10C4  3A 00 00    	ld	a,(_game_exit_lin)
3479  10C7  57          	ld	d,a
3480  10C8  1E 1E       	ld	e,0x1e
3481  10CA  D5          	push	de
3482  10CB  CD 00 00    	call	_spr_draw8
3483  10CE  F1          	pop	af
3484  10CF  33          	inc	sp
3485  10D0  21 00 00    	ld	hl,_game_exit_col
3486  10D3  46          	ld	b, (hl)
3487  10D4  04          	inc	b
3488  10D5  C5          	push	bc
3489  10D6  33          	inc	sp
3490  10D7  3A 00 00    	ld	a,(_game_exit_lin)
3491  10DA  57          	ld	d,a
3492  10DB  1E 1F       	ld	e,0x1f
3493  10DD  D5          	push	de
3494  10DE  CD 00 00    	call	_spr_draw8
3495  10E1  F1          	pop	af
3496  10E2  33          	inc	sp
3497  10E3  21 00 00    	ld	hl,_i
3498  10E6  36 00       	ld	(hl),0x00
3499  10E8  01 F0 0E    	ld	bc,0x0ef0
3500  10EB              l_game_flash_exit_00109:
3501  10EB  3A 00 00    	ld	a,(_i)
3502  10EE  D6 10       	sub	a,0x10
3503  10F0  30 14       	jr	NC,l_game_flash_exit_00112
3504  10F2  21 00 00    	ld	hl,_btiles
3505  10F5  09          	add	hl,bc
3506  10F6  7E          	ld	a,(hl)
3507  10F7  EB          	ex	de,hl
3508  10F8  E6 7F       	and	a,0x7f
3509  10FA  12          	ld	(de), a
3510  10FB  DD B6 04    	or	a,(ix+4)
3511  10FE  12          	ld	(de), a
3512  10FF  21 00 00    	ld	hl,_i
3513  1102  34          	inc	(hl)
3514  1103  03          	inc	bc
3515  1104  18 E5       	jr	l_game_flash_exit_00109
3516  1106              l_game_flash_exit_00112:
3517  1106  DD E1       	pop	ix
3518  1108  C9          	ret
3519  1109              	SECTION code_compiler
3520  1109              ;	---------------------------------
3521  1109              ; Function game_copy_tile_std
3522  1109              ; ---------------------------------
3523  1109              _game_copy_tile_std:
3524  1109  CD 00 00    	call	___sdcc_enter_ix
3525  110C  AF          	xor	a, a
3526  110D  F5          	push	af
3527  110E  33          	inc	sp
3528  110F  DD 66 05    	ld	h,(ix+5)
3529  1112  DD 6E 04    	ld	l,(ix+4)
3530  1115  E5          	push	hl
3531  1116  CD B1 11    	call	_game_copy_tile
3532  1119  F1          	pop	af
3533  111A  33          	inc	sp
3534  111B  DD 46 05    	ld	b,(ix+5)
3535  111E  04          	inc	b
3536  111F  DD 4E 04    	ld	c,(ix+4)
3537  1122  0C          	inc	c
3538  1123  C5          	push	bc
3539  1124  AF          	xor	a, a
3540  1125  F5          	push	af
3541  1126  33          	inc	sp
3542  1127  C5          	push	bc
3543  1128  CD B1 11    	call	_game_copy_tile
3544  112B  F1          	pop	af
3545  112C  33          	inc	sp
3546  112D  C1          	pop	bc
3547  112E  DD 56 05    	ld	d,(ix+5)
3548  1131  14          	inc	d
3549  1132  14          	inc	d
3550  1133  DD 46 04    	ld	b,(ix+4)
3551  1136  04          	inc	b
3552  1137  04          	inc	b
3553  1138  C5          	push	bc
3554  1139  AF          	xor	a, a
3555  113A  5A          	ld	e,d
3556  113B  57          	ld	d,a
3557  113C  D5          	push	de
3558  113D  C5          	push	bc
3559  113E  33          	inc	sp
3560  113F  CD B1 11    	call	_game_copy_tile
3561  1142  F1          	pop	af
3562  1143  33          	inc	sp
3563  1144  C1          	pop	bc
3564  1145  DD 56 05    	ld	d,(ix+5)
3565  1148  14          	inc	d
3566  1149  14          	inc	d
3567  114A  14          	inc	d
3568  114B  DD 5E 04    	ld	e,(ix+4)
3569  114E  1C          	inc	e
3570  114F  1C          	inc	e
3571  1150  1C          	inc	e
3572  1151  C5          	push	bc
3573  1152  D5          	push	de
3574  1153  AF          	xor	a, a
3575  1154  F5          	push	af
3576  1155  33          	inc	sp
3577  1156  D5          	push	de
3578  1157  CD B1 11    	call	_game_copy_tile
3579  115A  F1          	pop	af
3580  115B  33          	inc	sp
3581  115C  D1          	pop	de
3582  115D  C1          	pop	bc
3583  115E  DD 56 05    	ld	d,(ix+5)
3584  1161  14          	inc	d
3585  1162  14          	inc	d
3586  1163  14          	inc	d
3587  1164  14          	inc	d
3588  1165  C5          	push	bc
3589  1166  3E 01       	ld	a,0x01
3590  1168  F5          	push	af
3591  1169  33          	inc	sp
3592  116A  D5          	push	de
3593  116B  CD B1 11    	call	_game_copy_tile
3594  116E  F1          	pop	af
3595  116F  33          	inc	sp
3596  1170  C1          	pop	bc
3597  1171  DD 7E 05    	ld	a,(ix+5)
3598  1174  C6 05       	add	a,0x05
3599  1176  57          	ld	d, a
3600  1177  C5          	push	bc
3601  1178  3E 01       	ld	a,0x01
3602  117A  5A          	ld	e,d
3603  117B  57          	ld	d,a
3604  117C  D5          	push	de
3605  117D  C5          	push	bc
3606  117E  33          	inc	sp
3607  117F  CD B1 11    	call	_game_copy_tile
3608  1182  F1          	pop	af
3609  1183  33          	inc	sp
3610  1184  C1          	pop	bc
3611  1185  DD 7E 05    	ld	a,(ix+5)
3612  1188  C6 06       	add	a,0x06
3613  118A  47          	ld	b, a
3614  118B  3E 01       	ld	a,0x01
3615  118D  F5          	push	af
3616  118E  33          	inc	sp
3617  118F  C5          	push	bc
3618  1190  CD B1 11    	call	_game_copy_tile
3619  1193  F1          	pop	af
3620  1194  33          	inc	sp
3621  1195  DD 7E 05    	ld	a,(ix+5)
3622  1198  C6 07       	add	a,0x07
3623  119A  4F          	ld	c, a
3624  119B  06 01       	ld	b,0x01
3625  119D  C5          	push	bc
3626  119E  DD 7E 04    	ld	a,(ix+4)
3627  11A1  F5          	push	af
3628  11A2  33          	inc	sp
3629  11A3  CD B1 11    	call	_game_copy_tile
3630  11A6  F1          	pop	af
3631  11A7  33          	inc	sp
3632  11A8  DD 7E 05    	ld	a,(ix+5)
3633  11AB  C6 08       	add	a,0x08
3634  11AD  6F          	ld	l, a
3635  11AE  DD E1       	pop	ix
3636  11B0  C9          	ret
3637  11B1              	SECTION code_compiler
3638  11B1              ;	---------------------------------
3639  11B1              ; Function game_copy_tile
3640  11B1              ; ---------------------------------
3641  11B1              _game_copy_tile:
3642  11B1  CD 00 00    	call	___sdcc_enter_ix
3643  11B4  21 C2 FF    	ld	hl, -62
3644  11B7  39          	add	hl, sp
3645  11B8  F9          	ld	sp, hl
3646  11B9  F3          	di
3647  11BA  3E 13       	ld	a,0x13
3648  11BC  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3649  11BF  01 FD 7F    	ld	bc,_IO_7FFD
3650  11C2  ED 79       	out	(c),a
3651  11C4  DD 6E 04    	ld	l,(ix+4)
3652  11C7  26 00       	ld	h,0x00
3653  11C9  4D          	ld	c,l
3654  11CA  44          	ld	b,h
3655  11CB  29          	add	hl, hl
3656  11CC  09          	add	hl, bc
3657  11CD  29          	add	hl, hl
3658  11CE  29          	add	hl, hl
3659  11CF  29          	add	hl, hl
3660  11D0  29          	add	hl, hl
3661  11D1  4D          	ld	c, l
3662  11D2  44          	ld	b, h
3663  11D3  21 01 00    	ld	hl,0x0001
3664  11D6  39          	add	hl, sp
3665  11D7  EB          	ex	de,hl
3666  11D8  DD 36 C2 00 	ld	(ix-62),0x00
3667  11DC              l_game_copy_tile_00101:
3668  11DC  DD 7E C2    	ld	a,(ix-62)
3669  11DF  D6 30       	sub	a,0x30
3670  11E1  30 25       	jr	NC,l_game_copy_tile_00103
3671  11E3  7B          	ld	a, e
3672  11E4  DD 86 C2    	add	a,(ix-62)
3673  11E7  DD 77 FE    	ld	(ix-2),a
3674  11EA  7A          	ld	a, d
3675  11EB  CE 00       	adc	a,0x00
3676  11ED  DD 77 FF    	ld	(ix-1),a
3677  11F0  21 00 00    	ld	hl,_hibtiles
3678  11F3  09          	add	hl,bc
3679  11F4  DD 75 FC    	ld	(ix-4),l
3680  11F7  DD 74 FD    	ld	(ix-3),h
3681  11FA  7E          	ld	a, (hl)
3682  11FB  DD 6E FE    	ld	l,(ix-2)
3683  11FE  DD 66 FF    	ld	h,(ix-1)
3684  1201  77          	ld	(hl), a
3685  1202  DD 34 C2    	inc	(ix-62)
3686  1205  03          	inc	bc
3687  1206  18 D4       	jr	l_game_copy_tile_00101
3688  1208              l_game_copy_tile_00103:
3689  1208  3E 10       	ld	a,0x10
3690  120A  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3691  120D  01 FD 7F    	ld	bc,_IO_7FFD
3692  1210  ED 79       	out	(c),a
3693  1212  FB          	ei
3694  1213  DD 6E 05    	ld	l,(ix+5)
3695  1216  26 00       	ld	h,0x00
3696  1218  4D          	ld	c,l
3697  1219  44          	ld	b,h
3698  121A  29          	add	hl, hl
3699  121B  09          	add	hl, bc
3700  121C  29          	add	hl, hl
3701  121D  29          	add	hl, hl
3702  121E  29          	add	hl, hl
3703  121F  29          	add	hl, hl
3704  1220  DD 73 FC    	ld	(ix-4),e
3705  1223  DD 72 FD    	ld	(ix-3),d
3706  1226  DD 73 FE    	ld	(ix-2),e
3707  1229  DD 72 FF    	ld	(ix-1),d
3708  122C  DD 73 FA    	ld	(ix-6),e
3709  122F  DD 72 FB    	ld	(ix-5),d
3710  1232  DD 73 F8    	ld	(ix-8),e
3711  1235  DD 72 F9    	ld	(ix-7),d
3712  1238  DD 73 F6    	ld	(ix-10),e
3713  123B  DD 72 F7    	ld	(ix-9),d
3714  123E  1E 00       	ld	e,0x00
3715  1240  4D          	ld	c,l
3716  1241  44          	ld	b,h
3717  1242              l_game_copy_tile_00116:
3718  1242  7B          	ld	a,e
3719  1243  FE 30       	cp	a,0x30
3720  1245  D2 0E 13    	jp	NC,l_game_copy_tile_00119
3721  1248  3C          	inc	a
3722  1249  DD 77 F5    	ld	(ix-11),a
3723  124C  DD 7E 06    	ld	a,(ix+6)
3724  124F  B7          	or	a, a
3725  1250  CA EC 12    	jp	Z, l_game_copy_tile_00114
3726  1253  7B          	ld	a, e
3727  1254  D6 20       	sub	a,0x20
3728  1256  30 4D       	jr	NC,l_game_copy_tile_00111
3729  1258  CB 43       	bit	0, e
3730  125A  20 22       	jr	NZ,l_game_copy_tile_00105
3731  125C  21 00 00    	ld	hl,_btiles
3732  125F  09          	add	hl,bc
3733  1260  EB          	ex	de,hl
3734  1261  DD 7E F6    	ld	a,(ix-10)
3735  1264  DD 86 F5    	add	a,(ix-11)
3736  1267  6F          	ld	l, a
3737  1268  DD 7E F7    	ld	a,(ix-9)
3738  126B  CE 00       	adc	a,0x00
3739  126D  67          	ld	h, a
3740  126E  66          	ld	h, (hl)
3741  126F  C5          	push	bc
3742  1270  D5          	push	de
3743  1271  E5          	push	hl
3744  1272  33          	inc	sp
3745  1273  CD 13 13    	call	_reverse
3746  1276  33          	inc	sp
3747  1277  D1          	pop	de
3748  1278  C1          	pop	bc
3749  1279  7D          	ld	a,l
3750  127A  12          	ld	(de), a
3751  127B  C3 07 13    	jp	l_game_copy_tile_00115
3752  127E              l_game_copy_tile_00105:
3753  127E  21 00 00    	ld	hl,_btiles
3754  1281  09          	add	hl,bc
3755  1282  DD 75 F3    	ld	(ix-13),l
3756  1285  DD 74 F4    	ld	(ix-12),h
3757  1288  1D          	dec	e
3758  1289  DD 6E F8    	ld	l,(ix-8)
3759  128C  DD 66 F9    	ld	h,(ix-7)
3760  128F  16 00       	ld	d,0x00
3761  1291  19          	add	hl, de
3762  1292  56          	ld	d, (hl)
3763  1293  C5          	push	bc
3764  1294  D5          	push	de
3765  1295  33          	inc	sp
3766  1296  CD 13 13    	call	_reverse
3767  1299  33          	inc	sp
3768  129A  C1          	pop	bc
3769  129B  5D          	ld	e,l
3770  129C  DD 6E F3    	ld	l,(ix-13)
3771  129F  DD 66 F4    	ld	h,(ix-12)
3772  12A2  73          	ld	(hl), e
3773  12A3  18 62       	jr	l_game_copy_tile_00115
3774  12A5              l_game_copy_tile_00111:
3775  12A5  7B          	ld	a, e
3776  12A6  D6 28       	sub	a,0x28
3777  12A8  30 21       	jr	NC,l_game_copy_tile_00108
3778  12AA  21 00 00    	ld	hl,_btiles
3779  12AD  09          	add	hl,bc
3780  12AE  DD 75 F3    	ld	(ix-13),l
3781  12B1  DD 74 F4    	ld	(ix-12),h
3782  12B4  7B          	ld	a, e
3783  12B5  C6 08       	add	a,0x08
3784  12B7  5F          	ld	e, a
3785  12B8  DD 6E FA    	ld	l,(ix-6)
3786  12BB  DD 66 FB    	ld	h,(ix-5)
3787  12BE  16 00       	ld	d,0x00
3788  12C0  19          	add	hl, de
3789  12C1  5E          	ld	e, (hl)
3790  12C2  DD 6E F3    	ld	l,(ix-13)
3791  12C5  DD 66 F4    	ld	h,(ix-12)
3792  12C8  73          	ld	(hl), e
3793  12C9  18 3C       	jr	l_game_copy_tile_00115
3794  12CB              l_game_copy_tile_00108:
3795  12CB  21 00 00    	ld	hl,_btiles
3796  12CE  09          	add	hl,bc
3797  12CF  DD 75 F3    	ld	(ix-13),l
3798  12D2  DD 74 F4    	ld	(ix-12),h
3799  12D5  7B          	ld	a, e
3800  12D6  C6 F8       	add	a,0xf8
3801  12D8  5F          	ld	e, a
3802  12D9  DD 6E FE    	ld	l,(ix-2)
3803  12DC  DD 66 FF    	ld	h,(ix-1)
3804  12DF  16 00       	ld	d,0x00
3805  12E1  19          	add	hl, de
3806  12E2  5E          	ld	e, (hl)
3807  12E3  DD 6E F3    	ld	l,(ix-13)
3808  12E6  DD 66 F4    	ld	h,(ix-12)
3809  12E9  73          	ld	(hl), e
3810  12EA  18 1B       	jr	l_game_copy_tile_00115
3811  12EC              l_game_copy_tile_00114:
3812  12EC  21 00 00    	ld	hl,_btiles
3813  12EF  09          	add	hl,bc
3814  12F0  DD 75 F3    	ld	(ix-13),l
3815  12F3  DD 74 F4    	ld	(ix-12),h
3816  12F6  DD 6E FC    	ld	l,(ix-4)
3817  12F9  DD 66 FD    	ld	h,(ix-3)
3818  12FC  16 00       	ld	d,0x00
3819  12FE  19          	add	hl, de
3820  12FF  5E          	ld	e, (hl)
3821  1300  DD 6E F3    	ld	l,(ix-13)
3822  1303  DD 66 F4    	ld	h,(ix-12)
3823  1306  73          	ld	(hl), e
3824  1307              l_game_copy_tile_00115:
3825  1307  DD 5E F5    	ld	e,(ix-11)
3826  130A  03          	inc	bc
3827  130B  C3 42 12    	jp	l_game_copy_tile_00116
3828  130E              l_game_copy_tile_00119:
3829  130E  DD F9       	ld	sp, ix
3830  1310  DD E1       	pop	ix
3831  1312  C9          	ret
3832  1313              	SECTION code_compiler
3833  1313              ;	---------------------------------
3834  1313              ; Function reverse
3835  1313              ; ---------------------------------
3836  1313              _reverse:
3837  1313  CD 00 00    	call	___sdcc_enter_ix
3838  1316  DD 7E 04    	ld	a,(ix+4)
3839  1319  E6 F0       	and	a,0xf0
3840  131B  07          	rlca
3841  131C  07          	rlca
3842  131D  07          	rlca
3843  131E  07          	rlca
3844  131F  E6 0F       	and	a,0x0f
3845  1321  4F          	ld	c, a
3846  1322  DD 7E 04    	ld	a,(ix+4)
3847  1325  E6 0F       	and	a,0x0f
3848  1327  07          	rlca
3849  1328  07          	rlca
3850  1329  07          	rlca
3851  132A  07          	rlca
3852  132B  E6 F0       	and	a,0xf0
3853  132D  B1          	or	a, c
3854  132E  DD 77 04    	ld	(ix+4),a
3855  1331  E6 CC       	and	a,0xcc
3856  1333  4F          	ld	c, a
3857  1334  CB 39       	srl	c
3858  1336  CB 39       	srl	c
3859  1338  DD 7E 04    	ld	a,(ix+4)
3860  133B  E6 33       	and	a,0x33
3861  133D  87          	add	a, a
3862  133E  87          	add	a, a
3863  133F  B1          	or	a, c
3864  1340  DD 77 04    	ld	(ix+4),a
3865  1343  E6 AA       	and	a,0xaa
3866  1345  4F          	ld	c, a
3867  1346  CB 39       	srl	c
3868  1348  DD 7E 04    	ld	a,(ix+4)
3869  134B  E6 55       	and	a,0x55
3870  134D  87          	add	a, a
3871  134E  B1          	or	a, c
3872  134F  DD 77 04    	ld	(ix+4),a
3873  1352  6F          	ld	l, a
3874  1353  DD E1       	pop	ix
3875  1355  C9          	ret
3876  1356              	SECTION IGNORE
3877  0000              
