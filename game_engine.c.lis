1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_tick
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_loop
207   0000              	GLOBAL _game_fps
208   0000              	GLOBAL _game_draw_map
209   0000              	GLOBAL _game_cell_paint_index
210   0000              	GLOBAL _game_cell_paint
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_round_init
217   0000              	GLOBAL _game_print_header
218   0000              	GLOBAL _game_check_map
219   0000              	GLOBAL _game_check_cell
220   0000              	GLOBAL _game_paint_attrib
221   0000              	GLOBAL _game_colour_message
222   0000              	GLOBAL _game_check_time
223   0000              	GLOBAL _game_rotate_attrib
224   0000              	GLOBAL _game_rotate_attrib_osd
225   0000              	GLOBAL _game_attribs
226   0000              	GLOBAL _game_page_map
227   0000              ;--------------------------------------------------------
228   0000              ; Externals used
229   0000              ;--------------------------------------------------------
230   0000              	GLOBAL _ffsll_callee
231   0000              	GLOBAL _ffsll
232   0000              	GLOBAL _strxfrm_callee
233   0000              	GLOBAL _strxfrm
234   0000              	GLOBAL _strupr_fastcall
235   0000              	GLOBAL _strupr
236   0000              	GLOBAL _strtok_r_callee
237   0000              	GLOBAL _strtok_r
238   0000              	GLOBAL _strtok_callee
239   0000              	GLOBAL _strtok
240   0000              	GLOBAL _strstrip_fastcall
241   0000              	GLOBAL _strstrip
242   0000              	GLOBAL _strstr_callee
243   0000              	GLOBAL _strstr
244   0000              	GLOBAL _strspn_callee
245   0000              	GLOBAL _strspn
246   0000              	GLOBAL _strsep_callee
247   0000              	GLOBAL _strsep
248   0000              	GLOBAL _strrstrip_fastcall
249   0000              	GLOBAL _strrstrip
250   0000              	GLOBAL _strrstr_callee
251   0000              	GLOBAL _strrstr
252   0000              	GLOBAL _strrspn_callee
253   0000              	GLOBAL _strrspn
254   0000              	GLOBAL _strrev_fastcall
255   0000              	GLOBAL _strrev
256   0000              	GLOBAL _strrcspn_callee
257   0000              	GLOBAL _strrcspn
258   0000              	GLOBAL _strrchr_callee
259   0000              	GLOBAL _strrchr
260   0000              	GLOBAL _strpbrk_callee
261   0000              	GLOBAL _strpbrk
262   0000              	GLOBAL _strnlen_callee
263   0000              	GLOBAL _strnlen
264   0000              	GLOBAL _strnicmp_callee
265   0000              	GLOBAL _strnicmp
266   0000              	GLOBAL _strndup_callee
267   0000              	GLOBAL _strndup
268   0000              	GLOBAL _strncpy_callee
269   0000              	GLOBAL _strncpy
270   0000              	GLOBAL _strncmp_callee
271   0000              	GLOBAL _strncmp
272   0000              	GLOBAL _strnchr_callee
273   0000              	GLOBAL _strnchr
274   0000              	GLOBAL _strncat_callee
275   0000              	GLOBAL _strncat
276   0000              	GLOBAL _strncasecmp_callee
277   0000              	GLOBAL _strncasecmp
278   0000              	GLOBAL _strlwr_fastcall
279   0000              	GLOBAL _strlwr
280   0000              	GLOBAL _strlen_fastcall
281   0000              	GLOBAL _strlen
282   0000              	GLOBAL _strlcpy_callee
283   0000              	GLOBAL _strlcpy
284   0000              	GLOBAL _strlcat_callee
285   0000              	GLOBAL _strlcat
286   0000              	GLOBAL _stricmp_callee
287   0000              	GLOBAL _stricmp
288   0000              	GLOBAL _strerror_fastcall
289   0000              	GLOBAL _strerror
290   0000              	GLOBAL _strdup_fastcall
291   0000              	GLOBAL _strdup
292   0000              	GLOBAL _strcspn_callee
293   0000              	GLOBAL _strcspn
294   0000              	GLOBAL _strcpy_callee
295   0000              	GLOBAL _strcpy
296   0000              	GLOBAL _strcoll_callee
297   0000              	GLOBAL _strcoll
298   0000              	GLOBAL _strcmp_callee
299   0000              	GLOBAL _strcmp
300   0000              	GLOBAL _strchrnul_callee
301   0000              	GLOBAL _strchrnul
302   0000              	GLOBAL _strchr_callee
303   0000              	GLOBAL _strchr
304   0000              	GLOBAL _strcat_callee
305   0000              	GLOBAL _strcat
306   0000              	GLOBAL _strcasecmp_callee
307   0000              	GLOBAL _strcasecmp
308   0000              	GLOBAL _stpncpy_callee
309   0000              	GLOBAL _stpncpy
310   0000              	GLOBAL _stpcpy_callee
311   0000              	GLOBAL _stpcpy
312   0000              	GLOBAL _memswap_callee
313   0000              	GLOBAL _memswap
314   0000              	GLOBAL _memset_callee
315   0000              	GLOBAL _memset
316   0000              	GLOBAL _memrchr_callee
317   0000              	GLOBAL _memrchr
318   0000              	GLOBAL _memmove_callee
319   0000              	GLOBAL _memmove
320   0000              	GLOBAL _memmem_callee
321   0000              	GLOBAL _memmem
322   0000              	GLOBAL _memcpy_callee
323   0000              	GLOBAL _memcpy
324   0000              	GLOBAL _memcmp_callee
325   0000              	GLOBAL _memcmp
326   0000              	GLOBAL _memchr_callee
327   0000              	GLOBAL _memchr
328   0000              	GLOBAL _memccpy_callee
329   0000              	GLOBAL _memccpy
330   0000              	GLOBAL _ffsl_fastcall
331   0000              	GLOBAL _ffsl
332   0000              	GLOBAL _ffs_fastcall
333   0000              	GLOBAL _ffs
334   0000              	GLOBAL __strrstrip__fastcall
335   0000              	GLOBAL __strrstrip_
336   0000              	GLOBAL __memupr__callee
337   0000              	GLOBAL __memupr_
338   0000              	GLOBAL __memstrcpy__callee
339   0000              	GLOBAL __memstrcpy_
340   0000              	GLOBAL __memlwr__callee
341   0000              	GLOBAL __memlwr_
342   0000              	GLOBAL _rawmemchr_callee
343   0000              	GLOBAL _rawmemchr
344   0000              	GLOBAL _strnset_callee
345   0000              	GLOBAL _strnset
346   0000              	GLOBAL _strset_callee
347   0000              	GLOBAL _strset
348   0000              	GLOBAL _rindex_callee
349   0000              	GLOBAL _rindex
350   0000              	GLOBAL _index_callee
351   0000              	GLOBAL _index
352   0000              	GLOBAL _bzero_callee
353   0000              	GLOBAL _bzero
354   0000              	GLOBAL _bcopy_callee
355   0000              	GLOBAL _bcopy
356   0000              	GLOBAL _bcmp_callee
357   0000              	GLOBAL _bcmp
358   0000              	GLOBAL _ulltoa_callee
359   0000              	GLOBAL _ulltoa
360   0000              	GLOBAL _strtoull_callee
361   0000              	GLOBAL _strtoull
362   0000              	GLOBAL _strtoll_callee
363   0000              	GLOBAL _strtoll
364   0000              	GLOBAL _lltoa_callee
365   0000              	GLOBAL _lltoa
366   0000              	GLOBAL _llabs_callee
367   0000              	GLOBAL _llabs
368   0000              	GLOBAL __lldivu__callee
369   0000              	GLOBAL __lldivu_
370   0000              	GLOBAL __lldiv__callee
371   0000              	GLOBAL __lldiv_
372   0000              	GLOBAL _atoll_callee
373   0000              	GLOBAL _atoll
374   0000              	GLOBAL _realloc_unlocked_callee
375   0000              	GLOBAL _realloc_unlocked
376   0000              	GLOBAL _malloc_unlocked_fastcall
377   0000              	GLOBAL _malloc_unlocked
378   0000              	GLOBAL _free_unlocked_fastcall
379   0000              	GLOBAL _free_unlocked
380   0000              	GLOBAL _calloc_unlocked_callee
381   0000              	GLOBAL _calloc_unlocked
382   0000              	GLOBAL _aligned_alloc_unlocked_callee
383   0000              	GLOBAL _aligned_alloc_unlocked
384   0000              	GLOBAL _realloc_callee
385   0000              	GLOBAL _realloc
386   0000              	GLOBAL _malloc_fastcall
387   0000              	GLOBAL _malloc
388   0000              	GLOBAL _free_fastcall
389   0000              	GLOBAL _free
390   0000              	GLOBAL _calloc_callee
391   0000              	GLOBAL _calloc
392   0000              	GLOBAL _aligned_alloc_callee
393   0000              	GLOBAL _aligned_alloc
394   0000              	GLOBAL _utoa_callee
395   0000              	GLOBAL _utoa
396   0000              	GLOBAL _ultoa_callee
397   0000              	GLOBAL _ultoa
398   0000              	GLOBAL _system_fastcall
399   0000              	GLOBAL _system
400   0000              	GLOBAL _strtoul_callee
401   0000              	GLOBAL _strtoul
402   0000              	GLOBAL _strtol_callee
403   0000              	GLOBAL _strtol
404   0000              	GLOBAL _strtof_callee
405   0000              	GLOBAL _strtof
406   0000              	GLOBAL _strtod_callee
407   0000              	GLOBAL _strtod
408   0000              	GLOBAL _srand_fastcall
409   0000              	GLOBAL _srand
410   0000              	GLOBAL _rand
411   0000              	GLOBAL _quick_exit_fastcall
412   0000              	GLOBAL _quick_exit
413   0000              	GLOBAL _qsort_callee
414   0000              	GLOBAL _qsort
415   0000              	GLOBAL _ltoa_callee
416   0000              	GLOBAL _ltoa
417   0000              	GLOBAL _labs_fastcall
418   0000              	GLOBAL _labs
419   0000              	GLOBAL _itoa_callee
420   0000              	GLOBAL _itoa
421   0000              	GLOBAL _ftoh_callee
422   0000              	GLOBAL _ftoh
423   0000              	GLOBAL _ftog_callee
424   0000              	GLOBAL _ftog
425   0000              	GLOBAL _ftoe_callee
426   0000              	GLOBAL _ftoe
427   0000              	GLOBAL _ftoa_callee
428   0000              	GLOBAL _ftoa
429   0000              	GLOBAL _exit_fastcall
430   0000              	GLOBAL _exit
431   0000              	GLOBAL _dtoh_callee
432   0000              	GLOBAL _dtoh
433   0000              	GLOBAL _dtog_callee
434   0000              	GLOBAL _dtog
435   0000              	GLOBAL _dtoe_callee
436   0000              	GLOBAL _dtoe
437   0000              	GLOBAL _dtoa_callee
438   0000              	GLOBAL _dtoa
439   0000              	GLOBAL _bsearch_callee
440   0000              	GLOBAL _bsearch
441   0000              	GLOBAL _atol_fastcall
442   0000              	GLOBAL _atol
443   0000              	GLOBAL _atoi_fastcall
444   0000              	GLOBAL _atoi
445   0000              	GLOBAL _atof_fastcall
446   0000              	GLOBAL _atof
447   0000              	GLOBAL _atexit_fastcall
448   0000              	GLOBAL _atexit
449   0000              	GLOBAL _at_quick_exit_fastcall
450   0000              	GLOBAL _at_quick_exit
451   0000              	GLOBAL _abs_fastcall
452   0000              	GLOBAL _abs
453   0000              	GLOBAL _abort
454   0000              	GLOBAL __strtou__callee
455   0000              	GLOBAL __strtou_
456   0000              	GLOBAL __strtoi__callee
457   0000              	GLOBAL __strtoi_
458   0000              	GLOBAL __random_uniform_xor_8__fastcall
459   0000              	GLOBAL __random_uniform_xor_8_
460   0000              	GLOBAL __random_uniform_xor_32__fastcall
461   0000              	GLOBAL __random_uniform_xor_32_
462   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
463   0000              	GLOBAL __random_uniform_cmwc_8_
464   0000              	GLOBAL __shellsort__callee
465   0000              	GLOBAL __shellsort_
466   0000              	GLOBAL __quicksort__callee
467   0000              	GLOBAL __quicksort_
468   0000              	GLOBAL __insertion_sort__callee
469   0000              	GLOBAL __insertion_sort_
470   0000              	GLOBAL __ldivu__callee
471   0000              	GLOBAL __ldivu_
472   0000              	GLOBAL __ldiv__callee
473   0000              	GLOBAL __ldiv_
474   0000              	GLOBAL __divu__callee
475   0000              	GLOBAL __divu_
476   0000              	GLOBAL __div__callee
477   0000              	GLOBAL __div_
478   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
479   0000              	GLOBAL _NIRVANAP_drawTW_raw
480   0000              	GLOBAL _NIRVANAP_drawTW_callee
481   0000              	GLOBAL _NIRVANAP_drawTW
482   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
483   0000              	GLOBAL _NIRVANAP_drawW_raw
484   0000              	GLOBAL _NIRVANAP_drawW_callee
485   0000              	GLOBAL _NIRVANAP_drawW
486   0000              	GLOBAL _NIRVANAP_spriteT_callee
487   0000              	GLOBAL _NIRVANAP_spriteT
488   0000              	GLOBAL _NIRVANAP_fillC_callee
489   0000              	GLOBAL _NIRVANAP_fillC
490   0000              	GLOBAL _NIRVANAP_readC_callee
491   0000              	GLOBAL _NIRVANAP_readC
492   0000              	GLOBAL _NIRVANAP_paintC_callee
493   0000              	GLOBAL _NIRVANAP_paintC
494   0000              	GLOBAL _NIRVANAP_printC_callee
495   0000              	GLOBAL _NIRVANAP_printC
496   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
497   0000              	GLOBAL _NIRVANAP_fillT_raw
498   0000              	GLOBAL _NIRVANAP_fillT_callee
499   0000              	GLOBAL _NIRVANAP_fillT
500   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
501   0000              	GLOBAL _NIRVANAP_drawT_raw
502   0000              	GLOBAL _NIRVANAP_drawT_callee
503   0000              	GLOBAL _NIRVANAP_drawT
504   0000              	GLOBAL _NIRVANAP_stop
505   0000              	GLOBAL _NIRVANAP_start
506   0000              	GLOBAL _zx_print_str
507   0000              	GLOBAL _zx_print_int
508   0000              	GLOBAL _zx_print_chr
509   0000              	GLOBAL _zx_print_bonus_time
510   0000              	GLOBAL _zx_isr
511   0000              	GLOBAL _z80_otdr_callee
512   0000              	GLOBAL _z80_otdr
513   0000              	GLOBAL _z80_otir_callee
514   0000              	GLOBAL _z80_otir
515   0000              	GLOBAL _z80_outp_callee
516   0000              	GLOBAL _z80_outp
517   0000              	GLOBAL _z80_indr_callee
518   0000              	GLOBAL _z80_indr
519   0000              	GLOBAL _z80_inir_callee
520   0000              	GLOBAL _z80_inir
521   0000              	GLOBAL _z80_inp_fastcall
522   0000              	GLOBAL _z80_inp
523   0000              	GLOBAL _z80_set_int_state_fastcall
524   0000              	GLOBAL _z80_set_int_state
525   0000              	GLOBAL _z80_get_int_state
526   0000              	GLOBAL _z80_delay_tstate_fastcall
527   0000              	GLOBAL _z80_delay_tstate
528   0000              	GLOBAL _z80_delay_ms_fastcall
529   0000              	GLOBAL _z80_delay_ms
530   0000              	GLOBAL _im2_remove_generic_callback_callee
531   0000              	GLOBAL _im2_remove_generic_callback
532   0000              	GLOBAL _im2_prepend_generic_callback_callee
533   0000              	GLOBAL _im2_prepend_generic_callback
534   0000              	GLOBAL _im2_append_generic_callback_callee
535   0000              	GLOBAL _im2_append_generic_callback
536   0000              	GLOBAL _im2_create_generic_isr_8080_callee
537   0000              	GLOBAL _im2_create_generic_isr_8080
538   0000              	GLOBAL _im2_create_generic_isr_callee
539   0000              	GLOBAL _im2_create_generic_isr
540   0000              	GLOBAL _im2_install_isr_callee
541   0000              	GLOBAL _im2_install_isr
542   0000              	GLOBAL _im2_init_fastcall
543   0000              	GLOBAL _im2_init
544   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
545   0000              	GLOBAL _intrinsic_swap_word_32
546   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
547   0000              	GLOBAL _intrinsic_swap_endian_32
548   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
549   0000              	GLOBAL _intrinsic_swap_endian_16
550   0000              	GLOBAL _intrinsic_return_de
551   0000              	GLOBAL _intrinsic_return_bc
552   0000              	GLOBAL _intrinsic_exx
553   0000              	GLOBAL _intrinsic_ex_de_hl
554   0000              	GLOBAL _intrinsic_nop
555   0000              	GLOBAL _intrinsic_im_2
556   0000              	GLOBAL _intrinsic_im_1
557   0000              	GLOBAL _intrinsic_im_0
558   0000              	GLOBAL _intrinsic_retn
559   0000              	GLOBAL _intrinsic_reti
560   0000              	GLOBAL _intrinsic_halt
561   0000              	GLOBAL _intrinsic_ei
562   0000              	GLOBAL _intrinsic_di
563   0000              	GLOBAL _intrinsic_stub
564   0000              	GLOBAL _intrinsic_ini
565   0000              	GLOBAL _intrinsic_outi
566   0000              	GLOBAL _intrinsic_ldi
567   0000              	GLOBAL _zx_pattern_fill_callee
568   0000              	GLOBAL _zx_pattern_fill
569   0000              	GLOBAL _zx_saddrpup_fastcall
570   0000              	GLOBAL _zx_saddrpup
571   0000              	GLOBAL _zx_saddrpright_callee
572   0000              	GLOBAL _zx_saddrpright
573   0000              	GLOBAL _zx_saddrpleft_callee
574   0000              	GLOBAL _zx_saddrpleft
575   0000              	GLOBAL _zx_saddrpdown_fastcall
576   0000              	GLOBAL _zx_saddrpdown
577   0000              	GLOBAL _zx_saddrcup_fastcall
578   0000              	GLOBAL _zx_saddrcup
579   0000              	GLOBAL _zx_saddrcright_fastcall
580   0000              	GLOBAL _zx_saddrcright
581   0000              	GLOBAL _zx_saddrcleft_fastcall
582   0000              	GLOBAL _zx_saddrcleft
583   0000              	GLOBAL _zx_saddrcdown_fastcall
584   0000              	GLOBAL _zx_saddrcdown
585   0000              	GLOBAL _zx_saddr2py_fastcall
586   0000              	GLOBAL _zx_saddr2py
587   0000              	GLOBAL _zx_saddr2px_fastcall
588   0000              	GLOBAL _zx_saddr2px
589   0000              	GLOBAL _zx_saddr2cy_fastcall
590   0000              	GLOBAL _zx_saddr2cy
591   0000              	GLOBAL _zx_saddr2cx_fastcall
592   0000              	GLOBAL _zx_saddr2cx
593   0000              	GLOBAL _zx_saddr2aaddr_fastcall
594   0000              	GLOBAL _zx_saddr2aaddr
595   0000              	GLOBAL _zx_py2saddr_fastcall
596   0000              	GLOBAL _zx_py2saddr
597   0000              	GLOBAL _zx_py2aaddr_fastcall
598   0000              	GLOBAL _zx_py2aaddr
599   0000              	GLOBAL _zx_pxy2saddr_callee
600   0000              	GLOBAL _zx_pxy2saddr
601   0000              	GLOBAL _zx_pxy2aaddr_callee
602   0000              	GLOBAL _zx_pxy2aaddr
603   0000              	GLOBAL _zx_px2bitmask_fastcall
604   0000              	GLOBAL _zx_px2bitmask
605   0000              	GLOBAL _zx_cy2saddr_fastcall
606   0000              	GLOBAL _zx_cy2saddr
607   0000              	GLOBAL _zx_cy2aaddr_fastcall
608   0000              	GLOBAL _zx_cy2aaddr
609   0000              	GLOBAL _zx_cxy2saddr_callee
610   0000              	GLOBAL _zx_cxy2saddr
611   0000              	GLOBAL _zx_cxy2aaddr_callee
612   0000              	GLOBAL _zx_cxy2aaddr
613   0000              	GLOBAL _zx_bitmask2px_fastcall
614   0000              	GLOBAL _zx_bitmask2px
615   0000              	GLOBAL _zx_aaddrcup_fastcall
616   0000              	GLOBAL _zx_aaddrcup
617   0000              	GLOBAL _zx_aaddrcright_fastcall
618   0000              	GLOBAL _zx_aaddrcright
619   0000              	GLOBAL _zx_aaddrcleft_fastcall
620   0000              	GLOBAL _zx_aaddrcleft
621   0000              	GLOBAL _zx_aaddrcdown_fastcall
622   0000              	GLOBAL _zx_aaddrcdown
623   0000              	GLOBAL _zx_aaddr2saddr_fastcall
624   0000              	GLOBAL _zx_aaddr2saddr
625   0000              	GLOBAL _zx_aaddr2py_fastcall
626   0000              	GLOBAL _zx_aaddr2py
627   0000              	GLOBAL _zx_aaddr2px_fastcall
628   0000              	GLOBAL _zx_aaddr2px
629   0000              	GLOBAL _zx_aaddr2cy_fastcall
630   0000              	GLOBAL _zx_aaddr2cy
631   0000              	GLOBAL _zx_aaddr2cx_fastcall
632   0000              	GLOBAL _zx_aaddr2cx
633   0000              	GLOBAL _zx_visit_wc_pix_callee
634   0000              	GLOBAL _zx_visit_wc_pix
635   0000              	GLOBAL _zx_visit_wc_attr_callee
636   0000              	GLOBAL _zx_visit_wc_attr
637   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
638   0000              	GLOBAL _zx_scroll_wc_up_pix
639   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
640   0000              	GLOBAL _zx_scroll_wc_up_attr
641   0000              	GLOBAL _zx_scroll_wc_up_callee
642   0000              	GLOBAL _zx_scroll_wc_up
643   0000              	GLOBAL _zx_scroll_up_pix_callee
644   0000              	GLOBAL _zx_scroll_up_pix
645   0000              	GLOBAL _zx_scroll_up_attr_callee
646   0000              	GLOBAL _zx_scroll_up_attr
647   0000              	GLOBAL _zx_scroll_up_callee
648   0000              	GLOBAL _zx_scroll_up
649   0000              	GLOBAL _zx_cls_wc_pix_callee
650   0000              	GLOBAL _zx_cls_wc_pix
651   0000              	GLOBAL _zx_cls_wc_attr_callee
652   0000              	GLOBAL _zx_cls_wc_attr
653   0000              	GLOBAL _zx_cls_wc_callee
654   0000              	GLOBAL _zx_cls_wc
655   0000              	GLOBAL _zx_cls_pix_fastcall
656   0000              	GLOBAL _zx_cls_pix
657   0000              	GLOBAL _zx_cls_attr_fastcall
658   0000              	GLOBAL _zx_cls_attr
659   0000              	GLOBAL _zx_cls_fastcall
660   0000              	GLOBAL _zx_cls
661   0000              	GLOBAL _zx_border_fastcall
662   0000              	GLOBAL _zx_border
663   0000              	GLOBAL _zx_tape_verify_block_callee
664   0000              	GLOBAL _zx_tape_verify_block
665   0000              	GLOBAL _zx_tape_save_block_callee
666   0000              	GLOBAL _zx_tape_save_block
667   0000              	GLOBAL _zx_tape_load_block_callee
668   0000              	GLOBAL _zx_tape_load_block
669   0000              	GLOBAL _spr_destroy
670   0000              	GLOBAL _spr_unflattenP1
671   0000              	GLOBAL _spr_flatten
672   0000              	GLOBAL _spr_btile_paint_back
673   0000              	GLOBAL _spr_init_effects
674   0000              	GLOBAL _spr_turn_horizontal
675   0000              	GLOBAL _spr_play_anim
676   0000              	GLOBAL _spr_add_anim
677   0000              	GLOBAL _spr_clear_scr
678   0000              	GLOBAL _spr_back_repaint
679   0000              	GLOBAL _spr_get_tile_dir
680   0000              	GLOBAL _spr_get_tile
681   0000              	GLOBAL _spr_paint_player
682   0000              	GLOBAL _spr_paint
683   0000              	GLOBAL _spr_move_left
684   0000              	GLOBAL _spr_move_right
685   0000              	GLOBAL _spr_move_left_f
686   0000              	GLOBAL _spr_move_right_f
687   0000              	GLOBAL _spr_move_horizontal
688   0000              	GLOBAL _spr_move_down
689   0000              	GLOBAL _spr_move_up
690   0000              	GLOBAL _spr_set_right
691   0000              	GLOBAL _spr_set_left
692   0000              	GLOBAL _spr_set_down
693   0000              	GLOBAL _spr_set_up
694   0000              	GLOBAL _spr_calc_index
695   0000              	GLOBAL _spr_chktime
696   0000              	GLOBAL _player_lost_life
697   0000              	GLOBAL _player_move_jump
698   0000              	GLOBAL _player_tile
699   0000              	GLOBAL _player_pick_deadly
700   0000              	GLOBAL _player_pick_item
701   0000              	GLOBAL _player_check_ceil
702   0000              	GLOBAL _player_check_floor_walk
703   0000              	GLOBAL _player_check_floor_jump
704   0000              	GLOBAL _player_score_add
705   0000              	GLOBAL _player_move_walk
706   0000              	GLOBAL _player_turn
707   0000              	GLOBAL _player_move
708   0000              	GLOBAL _player_check_input
709   0000              	GLOBAL _player_init
710   0000              	GLOBAL _menu_define_key
711   0000              	GLOBAL _menu_redefine
712   0000              	GLOBAL _menu_main_print
713   0000              	GLOBAL _menu_main
714   0000              	GLOBAL _game_fill_row
715   0000              	GLOBAL _enemy_avoid_dead
716   0000              	GLOBAL _enemy_avoid_fall
717   0000              	GLOBAL _enemy_kill
718   0000              	GLOBAL _enemy_init
719   0000              	GLOBAL _enemy_move
720   0000              	GLOBAL _enemy_turn
721   0000              	GLOBAL _enemy_static
722   0000              	GLOBAL _enemy_walk
723   0000              	GLOBAL _enemy_horizontal
724   0000              	GLOBAL _enemy_vertical
725   0000              	GLOBAL _ay_reset
726   0000              	GLOBAL _ay_song_stop
727   0000              	GLOBAL _ay_song_play
728   0000              	GLOBAL _ay_fx_stop
729   0000              	GLOBAL _ay_fx_play
730   0000              	GLOBAL _ay_is_playing
731   0000              	GLOBAL _audio_levelup
732   0000              	GLOBAL _audio_menu
733   0000              	GLOBAL _audio_game_end
734   0000              	GLOBAL _audio_level_complete
735   0000              	GLOBAL _audio_level_start
736   0000              	GLOBAL _audio_lotr_lose_a_life
737   0000              	GLOBAL _audio_puerta
738   0000              	GLOBAL _audio_sin_mana
739   0000              	GLOBAL _audio_magic1
740   0000              	GLOBAL _audio_coin
741   0000              	GLOBAL _audio_golpe
742   0000              	GLOBAL _audio_salto
743   0000              	GLOBAL _audio_efecto
744   0000              	GLOBAL _audio_disparo_fire
745   0000              	GLOBAL _audio_disparo_axe
746   0000              	GLOBAL _audio_disparo2
747   0000              	GLOBAL _audio_disparo1
748   0000              	GLOBAL _audio_explosion1
749   0000              	GLOBAL _audio_explosion
750   0000              	GLOBAL _audio_ingame
751   0000              	GLOBAL _game_sprite_draw8
752   0000              	GLOBAL _test_func
753   0000              	GLOBAL _test_proc
754   0000              	GLOBAL _in_mouse_kempston_wheel_delta
755   0000              	GLOBAL _in_mouse_kempston_wheel
756   0000              	GLOBAL _in_mouse_kempston_callee
757   0000              	GLOBAL _in_mouse_kempston
758   0000              	GLOBAL _in_mouse_kempston_setpos_callee
759   0000              	GLOBAL _in_mouse_kempston_setpos
760   0000              	GLOBAL _in_mouse_kempston_reset
761   0000              	GLOBAL _in_mouse_kempston_init
762   0000              	GLOBAL _in_mouse_amx_wheel_delta
763   0000              	GLOBAL _in_mouse_amx_wheel
764   0000              	GLOBAL _in_mouse_amx_callee
765   0000              	GLOBAL _in_mouse_amx
766   0000              	GLOBAL _in_mouse_amx_setpos_callee
767   0000              	GLOBAL _in_mouse_amx_setpos
768   0000              	GLOBAL _in_mouse_amx_reset
769   0000              	GLOBAL _in_mouse_amx_init_callee
770   0000              	GLOBAL _in_mouse_amx_init
771   0000              	GLOBAL _in_stick_sinclair2
772   0000              	GLOBAL _in_stick_sinclair1
773   0000              	GLOBAL _in_stick_kempston
774   0000              	GLOBAL _in_stick_fuller
775   0000              	GLOBAL _in_stick_cursor
776   0000              	GLOBAL _in_stick_keyboard_fastcall
777   0000              	GLOBAL _in_stick_keyboard
778   0000              	GLOBAL _in_wait_nokey
779   0000              	GLOBAL _in_wait_key
780   0000              	GLOBAL _in_test_key
781   0000              	GLOBAL _in_pause_fastcall
782   0000              	GLOBAL _in_pause
783   0000              	GLOBAL _in_key_scancode_fastcall
784   0000              	GLOBAL _in_key_scancode
785   0000              	GLOBAL _in_key_pressed_fastcall
786   0000              	GLOBAL _in_key_pressed
787   0000              	GLOBAL _in_inkey
788   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
789   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
790   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
791   0000              	GLOBAL _NIRVANAP_HOLE
792   0000              	GLOBAL _NIRVANAP_ISR_HOOK
793   0000              	GLOBAL _scan_map
794   0000              	GLOBAL _map_paper_last_a
795   0000              	GLOBAL _map_paper_last
796   0000              	GLOBAL _map_paper_clr
797   0000              	GLOBAL _map_paper
798   0000              	GLOBAL _anim_count
799   0000              	GLOBAL _anim_respanwn
800   0000              	GLOBAL _anim_loop
801   0000              	GLOBAL _anim_end
802   0000              	GLOBAL _anim_int
803   0000              	GLOBAL _anim_tile
804   0000              	GLOBAL _anim_col
805   0000              	GLOBAL _anim_lin
806   0000              	GLOBAL _map_heigth
807   0000              	GLOBAL _map_width
808   0000              	GLOBAL _scr_curr
809   0000              	GLOBAL _scr_map
810   0000              	GLOBAL _spr_kind
811   0000              	GLOBAL _spr_frames
812   0000              	GLOBAL _spr_speed
813   0000              	GLOBAL _spr_tile
814   0000              	GLOBAL _screen_ink
815   0000              	GLOBAL _screen_paper
816   0000              	GLOBAL _game_start_scr
817   0000              	GLOBAL _game_score_top
818   0000              	GLOBAL _player_coins
819   0000              	GLOBAL _player_lives
820   0000              	GLOBAL _game_over
821   0000              	GLOBAL _game_sound
822   0000              	GLOBAL _game_inf_lives
823   0000              	GLOBAL _game_inmune
824   0000              	GLOBAL _sprite_curr_index
825   0000              	GLOBAL _spr_count
826   0000              	GLOBAL _last_rotated
827   0000              	GLOBAL _anim_time
828   0000              	GLOBAL _frame_time
829   0000              	GLOBAL _curr_time
830   0000              	GLOBAL _game_conveyor_flag
831   0000              	GLOBAL _game_conveyor_tile
832   0000              	GLOBAL _p_state_a
833   0000              	GLOBAL _p_state
834   0000              	GLOBAL _attrib8
835   0000              	GLOBAL _attrib7
836   0000              	GLOBAL _attrib6
837   0000              	GLOBAL _attrib5
838   0000              	GLOBAL _attrib4
839   0000              	GLOBAL _attrib3
840   0000              	GLOBAL _attrib2
841   0000              	GLOBAL _attrib1
842   0000              	GLOBAL _attrib0
843   0000              	GLOBAL _attrib_red
844   0000              	GLOBAL _game_attrib_osd
845   0000              	GLOBAL _attrib_osd
846   0000              	GLOBAL _attrib_hl
847   0000              	GLOBAL _attrib
848   0000              	GLOBAL _zx_val_asm
849   0000              	GLOBAL _enemies
850   0000              	GLOBAL _tmp_ui
851   0000              	GLOBAL _tmp_sc
852   0000              	GLOBAL _draw8_voffset
853   0000              	GLOBAL _tmp_uc
854   0000              	GLOBAL _tmp1
855   0000              	GLOBAL _tmp0
856   0000              	GLOBAL _tmp
857   0000              	GLOBAL _index1
858   0000              	GLOBAL _index0
859   0000              	GLOBAL _index_tmp
860   0000              	GLOBAL _loop_count
861   0000              	GLOBAL _s_class
862   0000              	GLOBAL _s_row1
863   0000              	GLOBAL _s_col1
864   0000              	GLOBAL _s_col0
865   0000              	GLOBAL _s_lin1
866   0000              	GLOBAL _s_lin0
867   0000              	GLOBAL _s_tile1
868   0000              	GLOBAL _s_tile0
869   0000              	GLOBAL _player_kill_index
870   0000              	GLOBAL _player_killed
871   0000              	GLOBAL _player_jump_top
872   0000              	GLOBAL _player_hit_count
873   0000              	GLOBAL _game_fps_show
874   0000              	GLOBAL _game_debug
875   0000              	GLOBAL _sprite
876   0000              	GLOBAL _fps
877   0000              	GLOBAL _game_tileset
878   0000              	GLOBAL _menu_curr_sel
879   0000              	GLOBAL _game_control_mode
880   0000              	GLOBAL _game_round_up
881   0000              	GLOBAL _game_conveyor_col1
882   0000              	GLOBAL _game_conveyor_col0
883   0000              	GLOBAL _game_conveyor_lin
884   0000              	GLOBAL _game_conveyor_dir
885   0000              	GLOBAL _game_song_play_start
886   0000              	GLOBAL _game_song_play
887   0000              	GLOBAL _game_world
888   0000              	GLOBAL _game_gravity
889   0000              	GLOBAL _player_jumpcount
890   0000              	GLOBAL _player_hit
891   0000              	GLOBAL _player_hit_time
892   0000              	GLOBAL _player_lin_scr
893   0000              	GLOBAL _player_col_scr
894   0000              	GLOBAL _player_max_vita
895   0000              	GLOBAL _player_max_mana
896   0000              	GLOBAL _player_keys
897   0000              	GLOBAL _player_vel_inc
898   0000              	GLOBAL _player_vel_y0
899   0000              	GLOBAL _player_vel_y
900   0000              	GLOBAL _player_score
901   0000              	GLOBAL _last_time
902   0000              	GLOBAL _obj_count
903   0000              	GLOBAL _obj_col
904   0000              	GLOBAL _obj_lin
905   0000              	GLOBAL _spr_timer
906   0000              	GLOBAL _jump_lin
907   0000              	GLOBAL _colint
908   0000              	GLOBAL _col
909   0000              	GLOBAL _tbuffer
910   0000              	GLOBAL _lin
911   0000              	GLOBAL _tile
912   0000              	GLOBAL _value_b
913   0000              	GLOBAL _value_a
914   0000              	GLOBAL _state_a
915   0000              	GLOBAL _state
916   0000              	GLOBAL _class
917   0000              	GLOBAL _dirs
918   0000              	GLOBAL _k2
919   0000              	GLOBAL _k1
920   0000              	GLOBAL _joyfunc2
921   0000              	GLOBAL _joyfunc1
922   0000              	GLOBAL _btiles
923   0000              	GLOBAL _v3
924   0000              	GLOBAL _v2
925   0000              	GLOBAL _v1
926   0000              	GLOBAL _v0
927   0000              	GLOBAL _i
928   0000              	GLOBAL _spec128
929   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
930   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
931   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
932   0000              	GLOBAL _ay_fx_06_disparo_fire
933   0000              	GLOBAL _ay_fx_06_disparo_axe
934   0000              	GLOBAL _ay_fx_06_explosion1
935   0000              	GLOBAL _ay_fx_06_efecto
936   0000              	GLOBAL _ay_fx_06_disparo2
937   0000              	GLOBAL _ay_fx_06_disparo1
938   0000              	GLOBAL _ay_fx_06_levelup
939   0000              	GLOBAL _ay_fx_06_magic
940   0000              	GLOBAL _ay_fx_06_sin_mana
941   0000              	GLOBAL _ay_fx_06_salto
942   0000              	GLOBAL _ay_fx_06_puerta
943   0000              	GLOBAL _ay_fx_06_magic1
944   0000              	GLOBAL _ay_fx_06_golpe
945   0000              	GLOBAL _ay_fx_06_explosion
946   0000              	GLOBAL _ay_fx_06_dano_por_toque
947   0000              	GLOBAL _ay_fx_06_coin
948   0000              	GLOBAL _ay_song_06_lotr_level_start
949   0000              	GLOBAL _ay_song_06_lotr_level_complete
950   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
951   0000              	GLOBAL _ay_song_04_ingame0
952   0000              	GLOBAL _ay_song_04_ingame
953   0000              	GLOBAL _hibtiles
954   0000              	GLOBAL _key_map
955   0000              	GLOBAL _start_scr0
956   0000              	GLOBAL _paper0
957   0000              	GLOBAL _lenght0
958   0000              	GLOBAL _world0
959   0000              	GLOBAL _spr_init
960   0000              ;--------------------------------------------------------
961   0000              ; special function registers
962   0000              ;--------------------------------------------------------
963   0000              defc _IO_FE	=	0x00fe
964   0000              defc _IO_1FFD	=	0x1ffd
965   0000              defc _IO_7FFD	=	0x7ffd
966   0000              ;--------------------------------------------------------
967   0000              ; ram data
968   0000              ;--------------------------------------------------------
969   0000              	SECTION bss_compiler
970   0000              ;--------------------------------------------------------
971   0000              ; ram data
972   0000              ;--------------------------------------------------------
973   0000              
974   0000              IF 0
975   0000              
976   0000              ; .area _INITIALIZED removed by z88dk
977   0000              
978   0000              
979   0000              ENDIF
980   0000              
981   0000              ;--------------------------------------------------------
982   0000              ; absolute external ram data
983   0000              ;--------------------------------------------------------
984   0000              	SECTION IGNORE
985   0000              ;--------------------------------------------------------
986   0000              ; global & static initialisations
987   0000              ;--------------------------------------------------------
988   0000              	SECTION code_crt_init
989   0000              ;--------------------------------------------------------
990   0000              ; Home
991   0000              ;--------------------------------------------------------
992   0000              	SECTION IGNORE
993   0000              ;--------------------------------------------------------
994   0000              ; code
995   0000              ;--------------------------------------------------------
996   0000              	SECTION code_compiler
997   0000              ;	---------------------------------
998   0000              ; Function game_loop
999   0000              ; ---------------------------------
1000  0000              _game_loop:
1001  0000  21 00 00    	ld	hl,_player_lives
1002  0003  36 03       	ld	(hl),0x03
1003  0005  21 00 00    	ld	hl,0x0000
1004  0008  22 00 00    	ld	(_player_score),hl
1005  000B  21 00 00    	ld	hl,_game_over
1006  000E  36 00       	ld	(hl),0x00
1007  0010  21 00 00    	ld	hl,_game_round_up
1008  0013  36 00       	ld	(hl),0x00
1009  0015  21 00 00    	ld	hl,_game_world
1010  0018  36 00       	ld	(hl),0x00
1011  001A  21 00 00    	ld	hl,_map_paper
1012  001D  36 00       	ld	(hl),0x00
1013  001F  21 00 00    	ld	hl,_player_lin_scr
1014  0022  36 68       	ld	(hl),0x68
1015  0024  21 00 00    	ld	hl,_player_col_scr
1016  0027  36 02       	ld	(hl),0x02
1017  0029  CD 6A 04    	call	_game_round_init
1018  002C              l_game_loop_00117:
1019  002C  3A 00 00    	ld	a,(_game_over)
1020  002F  B7          	or	a, a
1021  0030  C2 D7 00    	jp	NZ, l_game_loop_00120
1022  0033  21 00 00    	ld	hl,_dirs
1023  0036  36 00       	ld	(hl),0x00
1024  0038              l_game_loop_00112:
1025  0038  3A 00 00    	ld	a,(_game_round_up)
1026  003B  B7          	or	a, a
1027  003C  20 76       	jr	NZ,l_game_loop_00114
1028  003E  3A 00 00    	ld	a,(_game_over)
1029  0041  B7          	or	a, a
1030  0042  20 70       	jr	NZ,l_game_loop_00114
1031  0044  CD 00 00    	call	_enemy_turn
1032  0047  CD 00 00    	call	_player_turn
1033  004A  3E 03       	ld	a,0x03
1034  004C  F5          	push	af
1035  004D  33          	inc	sp
1036  004E  21 00 00    	ld	hl,_anim_time
1037  0051  E5          	push	hl
1038  0052  CD E0 08    	call	_game_check_time
1039  0055  F1          	pop	af
1040  0056  33          	inc	sp
1041  0057  7D          	ld	a, l
1042  0058  B7          	or	a, a
1043  0059  28 10       	jr	Z,l_game_loop_00104
1044  005B  2A 00 00    	ld	hl,(_curr_time)
1045  005E  22 00 00    	ld	(_anim_time),hl
1046  0061  21 00 00    	ld	hl,_game_conveyor_col0
1047  0064  7E          	ld	a, (hl)
1048  0065  B7          	or	a, a
1049  0066  28 03       	jr	Z,l_game_loop_00104
1050  0068  CD CC 03    	call	_game_anim_conveyor
1051  006B              l_game_loop_00104:
1052  006B  CD 0A 09    	call	_game_rotate_attrib
1053  006E  3E 64       	ld	a,0x64
1054  0070  F5          	push	af
1055  0071  33          	inc	sp
1056  0072  21 00 00    	ld	hl,_frame_time
1057  0075  E5          	push	hl
1058  0076  CD E0 08    	call	_game_check_time
1059  0079  F1          	pop	af
1060  007A  33          	inc	sp
1061  007B  7D          	ld	a, l
1062  007C  B7          	or	a, a
1063  007D  28 0F       	jr	Z,l_game_loop_00108
1064  007F  2A 00 00    	ld	hl,(_curr_time)
1065  0082  22 00 00    	ld	(_frame_time),hl
1066  0085  3A 00 00    	ld	a,(_game_fps_show)
1067  0088  B7          	or	a,a
1068  0089  28 03       	jr	Z,l_game_loop_00108
1069  008B  CD D8 00    	call	_game_fps
1070  008E              l_game_loop_00108:
1071  008E  21 00 00    	ld	hl,_loop_count
1072  0091  34          	inc	(hl)
1073  0092  20 02       	jr	NZ,l_game_loop_00166
1074  0094  23          	inc	hl
1075  0095  34          	inc	(hl)
1076  0096              l_game_loop_00166:
1077  0096  21 00 00    	ld	hl,_fps
1078  0099  34          	inc	(hl)
1079  009A  20 02       	jr	NZ,l_game_loop_00167
1080  009C  23          	inc	hl
1081  009D  34          	inc	(hl)
1082  009E              l_game_loop_00167:
1083  009E  3A 00 00    	ld	a,(_obj_count)
1084  00A1  21 00 00    	ld	hl,_player_coins
1085  00A4  96          	sub	a, (hl)
1086  00A5  20 91       	jr	NZ,l_game_loop_00112
1087  00A7  21 00 00    	ld	hl,_game_over
1088  00AA  36 01       	ld	(hl),0x01
1089  00AC  2E 00       	ld	l,0x00
1090  00AE  CD 00 00    	call	_zx_border_fastcall
1091  00B1  C3 38 00    	jp	l_game_loop_00112
1092  00B4              l_game_loop_00114:
1093  00B4  21 00 00    	ld	hl,_game_round_up
1094  00B7  7E          	ld	a, (hl)
1095  00B8  B7          	or	a, a
1096  00B9  CA 2C 00    	jp	Z, l_game_loop_00117
1097  00BC  36 00       	ld	(hl),0x00
1098  00BE  21 00 00    	ld	hl,_game_world
1099  00C1  34          	inc	(hl)
1100  00C2  21 00 00    	ld	hl,_scr_curr
1101  00C5  36 FF       	ld	(hl),0xff
1102  00C7  21 00 00    	ld	hl,_player_col_scr
1103  00CA  36 02       	ld	(hl),0x02
1104  00CC  21 00 00    	ld	hl,_player_lin_scr
1105  00CF  36 80       	ld	(hl),0x80
1106  00D1  CD 6A 04    	call	_game_round_init
1107  00D4  C3 2C 00    	jp	l_game_loop_00117
1108  00D7              l_game_loop_00120:
1109  00D7  C9          	ret
1110  00D8              	SECTION code_compiler
1111  00D8              ;	---------------------------------
1112  00D8              ; Function game_fps
1113  00D8              ; ---------------------------------
1114  00D8              _game_fps:
1115  00D8  21 00 00    	ld	hl,_screen_ink
1116  00DB  36 07       	ld	(hl),0x07
1117  00DD  2A 00 00    	ld	hl,(_fps)
1118  00E0  E5          	push	hl
1119  00E1  21 17 18    	ld	hl,0x1817
1120  00E4  E5          	push	hl
1121  00E5  CD 00 00    	call	_zx_print_int
1122  00E8  21 00 00    	ld	hl,0x0000
1123  00EB  22 00 00    	ld	(_fps),hl
1124  00EE  C9          	ret
1125  00EF              	SECTION code_compiler
1126  00EF              ;	---------------------------------
1127  00EF              ; Function game_draw_map
1128  00EF              ; ---------------------------------
1129  00EF              _game_draw_map:
1130  00EF  CD 00 00    	call	___sdcc_enter_ix
1131  00F2  F5          	push	af
1132  00F3  3B          	dec	sp
1133  00F4  76          	halt
1134  00F5  21 00 00    	ld	hl,_spr_count
1135  00F8  36 00       	ld	(hl),0x00
1136  00FA  CD 00 00    	call	_spr_init_effects
1137  00FD  11 00 00    	ld	de,_obj_col+0
1138  0100              l_game_draw_map_00101:
1139  0100  21 00 00    	ld	hl,_spr_count
1140  0103  7E          	ld	a, (hl)
1141  0104  D6 07       	sub	a,0x07
1142  0106  30 22       	jr	NC,l_game_draw_map_00103
1143  0108  3E 00       	ld	a, +((_class) & 0xFF)
1144  010A  86          	add	a, (hl)
1145  010B  4F          	ld	c, a
1146  010C  3E 00       	ld	a, +((_class) / 256)
1147  010E  CE 00       	adc	a,0x00
1148  0110  47          	ld	b, a
1149  0111  AF          	xor	a, a
1150  0112  02          	ld	(bc), a
1151  0113  7B          	ld	a, e
1152  0114  86          	add	a, (hl)
1153  0115  4F          	ld	c, a
1154  0116  7A          	ld	a, d
1155  0117  CE 00       	adc	a,0x00
1156  0119  47          	ld	b, a
1157  011A  AF          	xor	a, a
1158  011B  02          	ld	(bc), a
1159  011C  3E 00       	ld	a, +((_obj_lin) & 0xFF)
1160  011E  86          	add	a, (hl)
1161  011F  4F          	ld	c, a
1162  0120  3E 00       	ld	a, +((_obj_lin) / 256)
1163  0122  CE 00       	adc	a,0x00
1164  0124  47          	ld	b, a
1165  0125  AF          	xor	a, a
1166  0126  02          	ld	(bc), a
1167  0127  34          	inc	(hl)
1168  0128  18 D6       	jr	l_game_draw_map_00101
1169  012A              l_game_draw_map_00103:
1170  012A  21 00 00    	ld	hl,_spr_count
1171  012D  36 00       	ld	(hl),0x00
1172  012F  21 00 00    	ld	hl,0x0000
1173  0132  22 00 00    	ld	(_index1),hl
1174  0135  21 00 00    	ld	hl,_s_row1
1175  0138  36 01       	ld	(hl),0x01
1176  013A  21 00 00    	ld	hl,_s_lin1
1177  013D  36 10       	ld	(hl),0x10
1178  013F  21 00 00    	ld	hl,_s_col1
1179  0142  36 00       	ld	(hl),0x00
1180  0144  21 00 00    	ld	hl,_obj_count
1181  0147  36 00       	ld	(hl),0x00
1182  0149  D5          	push	de
1183  014A  CD A3 03    	call	_game_cls
1184  014D  D1          	pop	de
1185  014E  CD 00 00    	call	_NIRVANAP_stop
1186  0151  21 00 00    	ld	hl,_screen_ink
1187  0154  36 00       	ld	(hl),0x00
1188  0156  21 00 00    	ld	hl,_game_conveyor_lin
1189  0159  36 00       	ld	(hl),0x00
1190  015B  21 00 00    	ld	hl,_game_conveyor_col0
1191  015E  36 00       	ld	(hl),0x00
1192  0160  21 00 00    	ld	hl,_game_conveyor_col1
1193  0163  36 00       	ld	(hl),0x00
1194  0165  21 00 00    	ld	hl,_game_conveyor_tile
1195  0168  36 11       	ld	(hl),0x11
1196  016A              l_game_draw_map_00122:
1197  016A  21 01 00    	ld	hl,_index1 + 1
1198  016D  7E          	ld	a, (hl)
1199  016E  D6 02       	sub	a,0x02
1200  0170  D2 11 03    	jp	NC, l_game_draw_map_00124
1201  0173  3E 00       	ld	a, +((_scr_map) & 0xFF)
1202  0175  2B          	dec	hl
1203  0176  86          	add	a, (hl)
1204  0177  4F          	ld	c, a
1205  0178  3E 00       	ld	a, +((_scr_map) / 256)
1206  017A  23          	inc	hl
1207  017B  8E          	adc	a, (hl)
1208  017C  47          	ld	b, a
1209  017D  0A          	ld	a, (bc)
1210  017E  DD 77 FF    	ld	(ix-1),a
1211  0181  D6 40       	sub	a,0x40
1212  0183  D2 46 02    	jp	NC, l_game_draw_map_00118
1213  0186  DD 7E FF    	ld	a,(ix-1)
1214  0189  D6 08       	sub	a,0x08
1215  018B  20 1B       	jr	NZ,l_game_draw_map_00105
1216  018D  2A 00 00    	ld	hl,(_obj_count)
1217  0190  26 00       	ld	h,0x00
1218  0192  19          	add	hl,de
1219  0193  3A 00 00    	ld	a,(_s_col1)
1220  0196  77          	ld	(hl),a
1221  0197  2A 00 00    	ld	hl,(_obj_count)
1222  019A  26 00       	ld	h,0x00
1223  019C  01 00 00    	ld	bc,_obj_lin
1224  019F  09          	add	hl,bc
1225  01A0  3A 00 00    	ld	a,(_s_lin1)
1226  01A3  77          	ld	(hl),a
1227  01A4  21 00 00    	ld	hl,_obj_count
1228  01A7  34          	inc	(hl)
1229  01A8              l_game_draw_map_00105:
1230  01A8  2A 00 00    	ld	hl,(_index1)
1231  01AB  01 00 00    	ld	bc,_scr_map
1232  01AE  09          	add	hl,bc
1233  01AF  3A 00 00    	ld	a,(_index1)
1234  01B2  E6 1F       	and	a,0x1f
1235  01B4  DD 77 FD    	ld	(ix-3),a
1236  01B7  DD 36 FE 00 	ld	(ix-2),0x00
1237  01BB  4E          	ld	c, (hl)
1238  01BC  DD 46 FD    	ld	b,(ix-3)
1239  01BF  79          	ld	a, c
1240  01C0  D6 04       	sub	a,0x04
1241  01C2  20 04       	jr	NZ,l_game_draw_map_00181
1242  01C4  3E 01       	ld	a,0x01
1243  01C6  18 01       	jr	l_game_draw_map_00182
1244  01C8              l_game_draw_map_00181:
1245  01C8  AF          	xor	a,a
1246  01C9              l_game_draw_map_00182:
1247  01C9  4F          	ld	c, a
1248  01CA  3A 00 00    	ld	a,(_game_conveyor_col0)
1249  01CD  B7          	or	a, a
1250  01CE  28 0C       	jr	Z,l_game_draw_map_00107
1251  01D0  21 00 00    	ld	hl,_game_conveyor_col1
1252  01D3  7E          	ld	a, (hl)
1253  01D4  B7          	or	a, a
1254  01D5  20 05       	jr	NZ,l_game_draw_map_00107
1255  01D7  CB 41       	bit	0, c
1256  01D9  20 01       	jr	NZ,l_game_draw_map_00107
1257  01DB  70          	ld	(hl), b
1258  01DC              l_game_draw_map_00107:
1259  01DC  CB 41       	bit	0, c
1260  01DE  28 3E       	jr	Z,l_game_draw_map_00116
1261  01E0  21 00 00    	ld	hl,_game_conveyor_col0
1262  01E3  7E          	ld	a, (hl)
1263  01E4  B7          	or	a, a
1264  01E5  20 37       	jr	NZ,l_game_draw_map_00116
1265  01E7  70          	ld	(hl), b
1266  01E8  ED 4B 00 00 	ld	bc,(_index1)
1267  01EC  79          	ld	a,c
1268  01ED  0E 05       	ld	c,0x05
1269  01EF              l_game_draw_map_00183:
1270  01EF  CB 38       	srl	b
1271  01F1  1F          	rra
1272  01F2  0D          	dec	c
1273  01F3  20 FA       	jr	NZ,l_game_draw_map_00183
1274  01F5  07          	rlca
1275  01F6  07          	rlca
1276  01F7  07          	rlca
1277  01F8  E6 F8       	and	a,0xf8
1278  01FA  C6 08       	add	a,0x08
1279  01FC  32 00 00    	ld	(_game_conveyor_lin),a
1280  01FF  ED 4B 00 00 	ld	bc,(_index1)
1281  0203  03          	inc	bc
1282  0204  21 00 00    	ld	hl,_scr_map
1283  0207  09          	add	hl,bc
1284  0208  F1          	pop	af
1285  0209  7E          	ld	a,(hl)
1286  020A  E5          	push	hl
1287  020B  B7          	or	a, a
1288  020C  28 07       	jr	Z,l_game_draw_map_00111
1289  020E  21 00 00    	ld	hl,_game_conveyor_dir
1290  0211  36 FF       	ld	(hl),0xff
1291  0213  18 05       	jr	l_game_draw_map_00112
1292  0215              l_game_draw_map_00111:
1293  0215  21 00 00    	ld	hl,_game_conveyor_dir
1294  0218  36 01       	ld	(hl),0x01
1295  021A              l_game_draw_map_00112:
1296  021A  E1          	pop	hl
1297  021B  E5          	push	hl
1298  021C  36 04       	ld	(hl),0x04
1299  021E              l_game_draw_map_00116:
1300  021E  3A 00 00    	ld	a,(_s_row1)
1301  0221  07          	rlca
1302  0222  07          	rlca
1303  0223  07          	rlca
1304  0224  E6 F8       	and	a,0xf8
1305  0226  DD 77 FD    	ld	(ix-3),a
1306  0229  01 00 00    	ld	bc,_scr_map
1307  022C  2A 00 00    	ld	hl,(_index1)
1308  022F  09          	add	hl,bc
1309  0230  46          	ld	b, (hl)
1310  0231  3A 00 00    	ld	a,(_s_col1)
1311  0234  D5          	push	de
1312  0235  F5          	push	af
1313  0236  33          	inc	sp
1314  0237  DD 7E FD    	ld	a,(ix-3)
1315  023A  48          	ld	c,b
1316  023B  47          	ld	b,a
1317  023C  C5          	push	bc
1318  023D  CD 00 00    	call	_game_sprite_draw8
1319  0240  F1          	pop	af
1320  0241  33          	inc	sp
1321  0242  D1          	pop	de
1322  0243  C3 EA 02    	jp	l_game_draw_map_00119
1323  0246              l_game_draw_map_00118:
1324  0246  21 00 00    	ld	hl,_index1
1325  0249  7E          	ld	a, (hl)
1326  024A  E6 1F       	and	a,0x1f
1327  024C  DD 77 FD    	ld	(ix-3),a
1328  024F  23          	inc	hl
1329  0250  46          	ld	b,(hl)
1330  0251  2B          	dec	hl
1331  0252  7E          	ld	a,(hl)
1332  0253  0E 05       	ld	c,0x05
1333  0255              l_game_draw_map_00184:
1334  0255  CB 38       	srl	b
1335  0257  1F          	rra
1336  0258  0D          	dec	c
1337  0259  20 FA       	jr	NZ,l_game_draw_map_00184
1338  025B  4F          	ld	c,a
1339  025C  07          	rlca
1340  025D  07          	rlca
1341  025E  07          	rlca
1342  025F  E6 F8       	and	a,0xf8
1343  0261  47          	ld	b, a
1344  0262  D5          	push	de
1345  0263  DD 66 FF    	ld	h,(ix-1)
1346  0266  DD 6E FD    	ld	l,(ix-3)
1347  0269  E5          	push	hl
1348  026A  C5          	push	bc
1349  026B  33          	inc	sp
1350  026C  CD 00 00    	call	_enemy_init
1351  026F  F1          	pop	af
1352  0270  33          	inc	sp
1353  0271  D1          	pop	de
1354  0272  3E 00       	ld	a, +((_value_a) & 0xFF)
1355  0274  21 00 00    	ld	hl,_sprite
1356  0277  86          	add	a, (hl)
1357  0278  DD 77 FD    	ld	(ix-3),a
1358  027B  3E 00       	ld	a, +((_value_a) / 256)
1359  027D  CE 00       	adc	a,0x00
1360  027F  DD 77 FE    	ld	(ix-2),a
1361  0282  2A 00 00    	ld	hl,(_index1)
1362  0285  01 20 00    	ld	bc,0x0020
1363  0288  09          	add	hl,bc
1364  0289  01 00 00    	ld	bc,_scr_map
1365  028C  09          	add	hl,bc
1366  028D  4E          	ld	c, (hl)
1367  028E  E1          	pop	hl
1368  028F  E5          	push	hl
1369  0290  71          	ld	(hl), c
1370  0291  3E 00       	ld	a, +((_value_b) & 0xFF)
1371  0293  21 00 00    	ld	hl,_sprite
1372  0296  86          	add	a, (hl)
1373  0297  DD 77 FD    	ld	(ix-3),a
1374  029A  3E 00       	ld	a, +((_value_b) / 256)
1375  029C  CE 00       	adc	a,0x00
1376  029E  DD 77 FE    	ld	(ix-2),a
1377  02A1  2A 00 00    	ld	hl,(_index1)
1378  02A4  01 21 00    	ld	bc,0x0021
1379  02A7  09          	add	hl,bc
1380  02A8  01 00 00    	ld	bc,_scr_map
1381  02AB  09          	add	hl,bc
1382  02AC  4E          	ld	c, (hl)
1383  02AD  E1          	pop	hl
1384  02AE  E5          	push	hl
1385  02AF  71          	ld	(hl), c
1386  02B0  2A 00 00    	ld	hl,(_index1)
1387  02B3  01 00 00    	ld	bc,_scr_map
1388  02B6  09          	add	hl,bc
1389  02B7  AF          	xor	a,a
1390  02B8  77          	ld	(hl),a
1391  02B9  ED 4B 00 00 	ld	bc,(_index1)
1392  02BD  03          	inc	bc
1393  02BE  21 00 00    	ld	hl,_scr_map
1394  02C1  09          	add	hl, bc
1395  02C2  36 00       	ld	(hl),0x00
1396  02C4  ED 4B 00 00 	ld	bc,(_index1)
1397  02C8  03          	inc	bc
1398  02C9  03          	inc	bc
1399  02CA  21 00 00    	ld	hl,_scr_map
1400  02CD  09          	add	hl, bc
1401  02CE  36 00       	ld	(hl),0x00
1402  02D0  2A 00 00    	ld	hl,(_index1)
1403  02D3  01 20 00    	ld	bc,0x0020
1404  02D6  09          	add	hl,bc
1405  02D7  01 00 00    	ld	bc,_scr_map
1406  02DA  09          	add	hl,bc
1407  02DB  36 00       	ld	(hl),0x00
1408  02DD  2A 00 00    	ld	hl,(_index1)
1409  02E0  01 21 00    	ld	bc,0x0021
1410  02E3  09          	add	hl,bc
1411  02E4  01 00 00    	ld	bc,_scr_map
1412  02E7  09          	add	hl,bc
1413  02E8  36 00       	ld	(hl),0x00
1414  02EA              l_game_draw_map_00119:
1415  02EA  21 00 00    	ld	hl,_index1
1416  02ED  34          	inc	(hl)
1417  02EE  20 02       	jr	NZ,l_game_draw_map_00185
1418  02F0  23          	inc	hl
1419  02F1  34          	inc	(hl)
1420  02F2              l_game_draw_map_00185:
1421  02F2  21 00 00    	ld	hl,_s_col1
1422  02F5  34          	inc	(hl)
1423  02F6  3A 00 00    	ld	a,(_index1)
1424  02F9  E6 1F       	and	a,0x1f
1425  02FB  C2 6A 01    	jp	NZ,l_game_draw_map_00122
1426  02FE  21 00 00    	ld	hl,_s_row1
1427  0301  34          	inc	(hl)
1428  0302  21 00 00    	ld	hl,_s_lin1
1429  0305  7E          	ld	a, (hl)
1430  0306  C6 08       	add	a,0x08
1431  0308  77          	ld	(hl), a
1432  0309  21 00 00    	ld	hl,_s_col1
1433  030C  36 00       	ld	(hl),0x00
1434  030E  C3 6A 01    	jp	l_game_draw_map_00122
1435  0311              l_game_draw_map_00124:
1436  0311  CD 00 00    	call	_NIRVANAP_start
1437  0314  CD 00 00    	call	_game_update_stats
1438  0317  DD F9       	ld	sp, ix
1439  0319  DD E1       	pop	ix
1440  031B  C9          	ret
1441  031C              	SECTION code_compiler
1442  031C              ;	---------------------------------
1443  031C              ; Function game_cell_paint_index
1444  031C              ; ---------------------------------
1445  031C              _game_cell_paint_index:
1446  031C  3A 00 00    	ld	a,(_index1)
1447  031F  E6 1F       	and	a,0x1f
1448  0321  32 00 00    	ld	(_s_col1),a
1449  0324  2A 00 00    	ld	hl,(_index1)
1450  0327  4D          	ld	c,l
1451  0328  5C          	ld	e,h
1452  0329  06 05       	ld	b,0x05
1453  032B  79          	ld	a,c
1454  032C              l_game_cell_paint_index_00103:
1455  032C  CB 3B       	srl	e
1456  032E  1F          	rra
1457  032F  10 FB       	djnz	l_game_cell_paint_index_00103
1458  0331  07          	rlca
1459  0332  07          	rlca
1460  0333  07          	rlca
1461  0334  E6 F8       	and	a,0xf8
1462  0336  32 00 00    	ld	(_s_lin1),a
1463  0339  0F          	rrca
1464  033A  0F          	rrca
1465  033B  0F          	rrca
1466  033C  E6 1F       	and	a,0x1f
1467  033E  3C          	inc	a
1468  033F  32 00 00    	ld	(_s_row1),a
1469  0342  21 00 00    	ld	hl,_s_lin1
1470  0345  7E          	ld	a, (hl)
1471  0346  C6 10       	add	a,0x10
1472  0348  77          	ld	(hl), a
1473  0349  3A 00 00    	ld	a,(_s_row1)
1474  034C  07          	rlca
1475  034D  07          	rlca
1476  034E  07          	rlca
1477  034F  E6 F8       	and	a,0xf8
1478  0351  4F          	ld	c, a
1479  0352  11 00 00    	ld	de,_scr_map
1480  0355  2A 00 00    	ld	hl,(_index1)
1481  0358  19          	add	hl,de
1482  0359  46          	ld	b, (hl)
1483  035A  3A 00 00    	ld	a,(_s_col1)
1484  035D  F5          	push	af
1485  035E  33          	inc	sp
1486  035F  79          	ld	a, c
1487  0360  48          	ld	c,b
1488  0361  47          	ld	b,a
1489  0362  C5          	push	bc
1490  0363  CD 00 00    	call	_game_sprite_draw8
1491  0366  F1          	pop	af
1492  0367  33          	inc	sp
1493  0368  C9          	ret
1494  0369              	SECTION code_compiler
1495  0369              ;	---------------------------------
1496  0369              ; Function game_cell_paint
1497  0369              ; ---------------------------------
1498  0369              _game_cell_paint:
1499  0369  3A 00 00    	ld	a,(_s_row1)
1500  036C  07          	rlca
1501  036D  07          	rlca
1502  036E  07          	rlca
1503  036F  E6 F8       	and	a,0xf8
1504  0371  57          	ld	d, a
1505  0372  01 00 00    	ld	bc,_scr_map
1506  0375  2A 00 00    	ld	hl,(_index1)
1507  0378  09          	add	hl,bc
1508  0379  4D          	ld	c,l
1509  037A  46          	ld	b, (hl)
1510  037B  3A 00 00    	ld	a,(_s_col1)
1511  037E  5A          	ld	e,d
1512  037F  57          	ld	d,a
1513  0380  D5          	push	de
1514  0381  C5          	push	bc
1515  0382  33          	inc	sp
1516  0383  CD 00 00    	call	_game_sprite_draw8
1517  0386  F1          	pop	af
1518  0387  33          	inc	sp
1519  0388  C9          	ret
1520  0389              	SECTION code_compiler
1521  0389              ;	---------------------------------
1522  0389              ; Function game_end is a stub
1523  0389              ; ---------------------------------
1524  0389              EXTERN l_ret
1525  0389              defc _game_end = l_ret
1526  0389              	SECTION code_compiler
1527  0389              ;	---------------------------------
1528  0389              ; Function game_print_footer
1529  0389              ; ---------------------------------
1530  0389              _game_print_footer:
1531  0389  3A 00 00    	ld	a,(_game_fps_show)
1532  038C  B7          	or	a, a
1533  038D  28 10       	jr	Z,l_game_print_footer_00102
1534  038F  21 00 00    	ld	hl,_screen_ink
1535  0392  36 07       	ld	(hl),0x07
1536  0394  21 00 00    	ld	hl,___str_0
1537  0397  E5          	push	hl
1538  0398  21 17 14    	ld	hl,0x1417
1539  039B  E5          	push	hl
1540  039C  CD 00 00    	call	_zx_print_str
1541  039F              l_game_print_footer_00102:
1542  039F  CD 00 00    	call	_game_update_stats
1543  03A2  C9          	ret
1544  03A3              	SECTION rodata_compiler
1545  0000              ___str_0:
1546  0000  4C 50 53 3A 	DEFM "LPS:"
1547  0004  00          	DEFB 0x00
1548  0005              	SECTION code_compiler
1549  03A3              ;	---------------------------------
1550  03A3              ; Function game_print_score is a stub
1551  03A3              ; ---------------------------------
1552  03A3              EXTERN l_ret
1553  03A3              defc _game_print_score = l_ret
1554  03A3              	SECTION code_compiler
1555  03A3              ;	---------------------------------
1556  03A3              ; Function game_cls
1557  03A3              ; ---------------------------------
1558  03A3              _game_cls:
1559  03A3  CD 00 00    	call	_NIRVANAP_stop
1560  03A6  2E 00       	ld	l,0x00
1561  03A8  CD 00 00    	call	_zx_cls_fastcall
1562  03AB  21 00 00    	ld	hl,_screen_ink
1563  03AE  36 07       	ld	(hl),0x07
1564  03B0  C3 00 00    	jp  _NIRVANAP_start
1565  03B3              	SECTION code_compiler
1566  03B3              ;	---------------------------------
1567  03B3              ; Function game_update_stats is a stub
1568  03B3              ; ---------------------------------
1569  03B3              EXTERN l_ret
1570  03B3              defc _game_update_stats = l_ret
1571  03B3              	SECTION code_compiler
1572  03B3              ;	---------------------------------
1573  03B3              ; Function game_tick
1574  03B3              ; ---------------------------------
1575  03B3              _game_tick:
1576  03B3  21 00 00    	ld	hl,_curr_time
1577  03B6  34          	inc	(hl)
1578  03B7  C2 00 00    	jp	NZ,_zx_isr
1579  03BA  23          	inc	hl
1580  03BB  34          	inc	(hl)
1581  03BC  C3 00 00    	jp  _zx_isr
1582  03BF              	SECTION code_compiler
1583  03BF              ;	---------------------------------
1584  03BF              ; Function game_start_timer
1585  03BF              ; ---------------------------------
1586  03BF              _game_start_timer:
1587  03BF  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1588  03C2  36 CD       	ld	(hl),0xcd
1589  03C4  23          	inc	hl
1590  03C5  11 B3 03    	ld	de,_game_tick
1591  03C8  73          	ld	(hl), e
1592  03C9  23          	inc	hl
1593  03CA  72          	ld	(hl), d
1594  03CB  C9          	ret
1595  03CC              	SECTION code_compiler
1596  03CC              ;	---------------------------------
1597  03CC              ; Function game_anim_conveyor
1598  03CC              ; ---------------------------------
1599  03CC              _game_anim_conveyor:
1600  03CC  CD 00 00    	call	___sdcc_enter_ix
1601  03CF  F5          	push	af
1602  03D0  F5          	push	af
1603  03D1  3B          	dec	sp
1604  03D2  01 60 00    	ld	bc,_btiles+96
1605  03D5  3A 00 00    	ld	a,(_game_conveyor_lin)
1606  03D8  32 00 00    	ld	(_i),a
1607  03DB  C6 08       	add	a,0x08
1608  03DD  DD 77 FB    	ld	(ix-5),a
1609  03E0  0A          	ld	a, (bc)
1610  03E1  6F          	ld	l,a
1611  03E2  87          	add	a, a
1612  03E3  5F          	ld	e, a
1613  03E4  7D          	ld	a, l
1614  03E5  07          	rlca
1615  03E6  E6 01       	and	a,0x01
1616  03E8  B3          	or	a, e
1617  03E9  57          	ld	d,a
1618  03EA  02          	ld	(bc),a
1619  03EB  87          	add	a, a
1620  03EC  5F          	ld	e, a
1621  03ED  7A          	ld	a, d
1622  03EE  07          	rlca
1623  03EF  E6 01       	and	a,0x01
1624  03F1  B3          	or	a, e
1625  03F2  02          	ld	(bc), a
1626  03F3              l_game_anim_conveyor_00106:
1627  03F3  3A 00 00    	ld	a,(_i)
1628  03F6  DD 96 FB    	sub	a,(ix-5)
1629  03F9  30 6A       	jr	NC,l_game_anim_conveyor_00109
1630  03FB  3A 00 00    	ld	a,(_game_conveyor_col0)
1631  03FE  DD 77 FC    	ld	(ix-4),a
1632  0401  2A 00 00    	ld	hl,(_i)
1633  0404  CD 00 00    	call	_zx_py2saddr_fastcall
1634  0407  EB          	ex	de,hl
1635  0408  7B          	ld	a, e
1636  0409  DD 86 FC    	add	a,(ix-4)
1637  040C  5F          	ld	e, a
1638  040D  7A          	ld	a, d
1639  040E  CE 00       	adc	a,0x00
1640  0410  57          	ld	d, a
1641  0411  DD 7E FC    	ld	a,(ix-4)
1642  0414  DD 77 FF    	ld	(ix-1),a
1643  0417              l_game_anim_conveyor_00101:
1644  0417  DD 7E FF    	ld	a,(ix-1)
1645  041A  21 00 00    	ld	hl,_game_conveyor_col1
1646  041D  96          	sub	a, (hl)
1647  041E  30 08       	jr	NC,l_game_anim_conveyor_00103
1648  0420  0A          	ld	a, (bc)
1649  0421  12          	ld	(de), a
1650  0422  13          	inc	de
1651  0423  DD 34 FF    	inc	(ix-1)
1652  0426  18 EF       	jr	l_game_anim_conveyor_00101
1653  0428              l_game_anim_conveyor_00103:
1654  0428  03          	inc	bc
1655  0429  03          	inc	bc
1656  042A  21 00 00    	ld	hl,_i
1657  042D  34          	inc	(hl)
1658  042E  3A 00 00    	ld	a,(_game_conveyor_lin)
1659  0431  5F          	ld	e,a
1660  0432  16 00       	ld	d,0x00
1661  0434  13          	inc	de
1662  0435  13          	inc	de
1663  0436  DD 73 FD    	ld	(ix-3),e
1664  0439  DD 72 FE    	ld	(ix-2),d
1665  043C  3A 00 00    	ld	a,(_i)
1666  043F  5F          	ld	e,a
1667  0440  16 00       	ld	d,0x00
1668  0442  DD 7E FD    	ld	a,(ix-3)
1669  0445  93          	sub	a, e
1670  0446  20 AB       	jr	NZ,l_game_anim_conveyor_00106
1671  0448  DD 7E FE    	ld	a,(ix-2)
1672  044B  92          	sub	a, d
1673  044C  20 A5       	jr	NZ,l_game_anim_conveyor_00106
1674  044E  0A          	ld	a, (bc)
1675  044F  5F          	ld	e,a
1676  0450  0F          	rrca
1677  0451  E6 80       	and	a,0x80
1678  0453  57          	ld	d, a
1679  0454  7B          	ld	a,e
1680  0455  CB 3F       	srl	a
1681  0457  B2          	or	a, d
1682  0458  5F          	ld	e,a
1683  0459  02          	ld	(bc),a
1684  045A  0F          	rrca
1685  045B  E6 80       	and	a,0x80
1686  045D  57          	ld	d, a
1687  045E  CB 3B       	srl	e
1688  0460  7A          	ld	a, d
1689  0461  B3          	or	a, e
1690  0462  02          	ld	(bc), a
1691  0463  18 8E       	jr	l_game_anim_conveyor_00106
1692  0465              l_game_anim_conveyor_00109:
1693  0465  DD F9       	ld	sp, ix
1694  0467  DD E1       	pop	ix
1695  0469  C9          	ret
1696  046A              	SECTION code_compiler
1697  046A              ;	---------------------------------
1698  046A              ; Function game_round_init
1699  046A              ; ---------------------------------
1700  046A              _game_round_init:
1701  046A  CD 00 00    	call	___sdcc_enter_ix
1702  046D  21 C2 FF    	ld	hl, -62
1703  0470  39          	add	hl, sp
1704  0471  F9          	ld	sp, hl
1705  0472  21 14 00    	ld	hl,0x0014
1706  0475  39          	add	hl, sp
1707  0476  4D          	ld	c,l
1708  0477  44          	ld	b,h
1709  0478  36 05       	ld	(hl), +((___str_1) & 0xFF)
1710  047A  23          	inc	hl
1711  047B  36 00       	ld	(hl), +((___str_1) / 256)
1712  047D  59          	ld	e, c
1713  047E  50          	ld	d, b
1714  047F  13          	inc	de
1715  0480  13          	inc	de
1716  0481  3E 14       	ld	a, +((___str_2) & 0xFF)
1717  0483  12          	ld	(de), a
1718  0484  13          	inc	de
1719  0485  3E 00       	ld	a, +((___str_2) / 256)
1720  0487  12          	ld	(de), a
1721  0488  21 04 00    	ld	hl,0x0004
1722  048B  09          	add	hl,bc
1723  048C  36 22       	ld	(hl), +((___str_3) & 0xFF)
1724  048E  EB          	ex	de,hl
1725  048F  13          	inc	de
1726  0490  3E 00       	ld	a, +((___str_3) / 256)
1727  0492  12          	ld	(de), a
1728  0493  21 06 00    	ld	hl,0x0006
1729  0496  09          	add	hl,bc
1730  0497  36 2C       	ld	(hl), +((___str_4) & 0xFF)
1731  0499  EB          	ex	de,hl
1732  049A  13          	inc	de
1733  049B  3E 00       	ld	a, +((___str_4) / 256)
1734  049D  12          	ld	(de), a
1735  049E  21 08 00    	ld	hl,0x0008
1736  04A1  09          	add	hl,bc
1737  04A2  36 47       	ld	(hl), +((___str_5) & 0xFF)
1738  04A4  EB          	ex	de,hl
1739  04A5  13          	inc	de
1740  04A6  3E 00       	ld	a, +((___str_5) / 256)
1741  04A8  12          	ld	(de), a
1742  04A9  21 0A 00    	ld	hl,0x000a
1743  04AC  09          	add	hl,bc
1744  04AD  36 55       	ld	(hl), +((___str_6) & 0xFF)
1745  04AF  EB          	ex	de,hl
1746  04B0  13          	inc	de
1747  04B1  3E 00       	ld	a, +((___str_6) / 256)
1748  04B3  12          	ld	(de), a
1749  04B4  21 0C 00    	ld	hl,0x000c
1750  04B7  09          	add	hl,bc
1751  04B8  36 66       	ld	(hl), +((___str_7) & 0xFF)
1752  04BA  EB          	ex	de,hl
1753  04BB  13          	inc	de
1754  04BC  3E 00       	ld	a, +((___str_7) / 256)
1755  04BE  12          	ld	(de), a
1756  04BF  21 0E 00    	ld	hl,0x000e
1757  04C2  09          	add	hl,bc
1758  04C3  36 6E       	ld	(hl), +((___str_8) & 0xFF)
1759  04C5  EB          	ex	de,hl
1760  04C6  13          	inc	de
1761  04C7  3E 00       	ld	a, +((___str_8) / 256)
1762  04C9  12          	ld	(de), a
1763  04CA  21 10 00    	ld	hl,0x0010
1764  04CD  09          	add	hl,bc
1765  04CE  36 80       	ld	(hl), +((___str_9) & 0xFF)
1766  04D0  EB          	ex	de,hl
1767  04D1  13          	inc	de
1768  04D2  3E 00       	ld	a, +((___str_9) / 256)
1769  04D4  12          	ld	(de), a
1770  04D5  21 12 00    	ld	hl,0x0012
1771  04D8  09          	add	hl,bc
1772  04D9  36 94       	ld	(hl), +((___str_10) & 0xFF)
1773  04DB  EB          	ex	de,hl
1774  04DC  13          	inc	de
1775  04DD  3E 00       	ld	a, +((___str_10) / 256)
1776  04DF  12          	ld	(de), a
1777  04E0  21 14 00    	ld	hl,0x0014
1778  04E3  09          	add	hl,bc
1779  04E4  36 B4       	ld	(hl), +((___str_11) & 0xFF)
1780  04E6  EB          	ex	de,hl
1781  04E7  13          	inc	de
1782  04E8  3E 00       	ld	a, +((___str_11) / 256)
1783  04EA  12          	ld	(de), a
1784  04EB  21 16 00    	ld	hl,0x0016
1785  04EE  09          	add	hl,bc
1786  04EF  36 C1       	ld	(hl), +((___str_12) & 0xFF)
1787  04F1  EB          	ex	de,hl
1788  04F2  13          	inc	de
1789  04F3  3E 00       	ld	a, +((___str_12) / 256)
1790  04F5  12          	ld	(de), a
1791  04F6  21 18 00    	ld	hl,0x0018
1792  04F9  09          	add	hl,bc
1793  04FA  36 CF       	ld	(hl), +((___str_13) & 0xFF)
1794  04FC  EB          	ex	de,hl
1795  04FD  13          	inc	de
1796  04FE  3E 00       	ld	a, +((___str_13) / 256)
1797  0500  12          	ld	(de), a
1798  0501  21 1A 00    	ld	hl,0x001a
1799  0504  09          	add	hl,bc
1800  0505  36 E5       	ld	(hl), +((___str_14) & 0xFF)
1801  0507  EB          	ex	de,hl
1802  0508  13          	inc	de
1803  0509  3E 00       	ld	a, +((___str_14) / 256)
1804  050B  12          	ld	(de), a
1805  050C  21 1C 00    	ld	hl,0x001c
1806  050F  09          	add	hl,bc
1807  0510  36 F9       	ld	(hl), +((___str_15) & 0xFF)
1808  0512  EB          	ex	de,hl
1809  0513  13          	inc	de
1810  0514  3E 00       	ld	a, +((___str_15) / 256)
1811  0516  12          	ld	(de), a
1812  0517  21 1E 00    	ld	hl,0x001e
1813  051A  09          	add	hl,bc
1814  051B  36 1A       	ld	(hl), +((___str_16) & 0xFF)
1815  051D  EB          	ex	de,hl
1816  051E  13          	inc	de
1817  051F  3E 01       	ld	a, +((___str_16) / 256)
1818  0521  12          	ld	(de), a
1819  0522  21 20 00    	ld	hl,0x0020
1820  0525  09          	add	hl,bc
1821  0526  36 39       	ld	(hl), +((___str_17) & 0xFF)
1822  0528  EB          	ex	de,hl
1823  0529  13          	inc	de
1824  052A  3E 01       	ld	a, +((___str_17) / 256)
1825  052C  12          	ld	(de), a
1826  052D  21 22 00    	ld	hl,0x0022
1827  0530  09          	add	hl,bc
1828  0531  36 4B       	ld	(hl), +((___str_18) & 0xFF)
1829  0533  EB          	ex	de,hl
1830  0534  13          	inc	de
1831  0535  3E 01       	ld	a, +((___str_18) / 256)
1832  0537  12          	ld	(de), a
1833  0538  21 24 00    	ld	hl,0x0024
1834  053B  09          	add	hl,bc
1835  053C  36 5E       	ld	(hl), +((___str_19) & 0xFF)
1836  053E  EB          	ex	de,hl
1837  053F  13          	inc	de
1838  0540  3E 01       	ld	a, +((___str_19) / 256)
1839  0542  12          	ld	(de), a
1840  0543  21 26 00    	ld	hl,0x0026
1841  0546  09          	add	hl,bc
1842  0547  36 67       	ld	(hl), +((___str_20) & 0xFF)
1843  0549  EB          	ex	de,hl
1844  054A  13          	inc	de
1845  054B  3E 01       	ld	a, +((___str_20) / 256)
1846  054D  12          	ld	(de), a
1847  054E  21 00 00    	ld	hl,0x0000
1848  0551  39          	add	hl, sp
1849  0552  36 0E       	ld	(hl),0x0e
1850  0554  5D          	ld	e,l
1851  0555  54          	ld	d,h
1852  0556  23          	inc	hl
1853  0557  36 0D       	ld	(hl),0x0d
1854  0559  6B          	ld	l, e
1855  055A  62          	ld	h, d
1856  055B  23          	inc	hl
1857  055C  23          	inc	hl
1858  055D  36 1A       	ld	(hl),0x1a
1859  055F  6B          	ld	l, e
1860  0560  62          	ld	h, d
1861  0561  23          	inc	hl
1862  0562  23          	inc	hl
1863  0563  23          	inc	hl
1864  0564  36 0D       	ld	(hl),0x0d
1865  0566  21 04 00    	ld	hl,0x0004
1866  0569  19          	add	hl, de
1867  056A  36 10       	ld	(hl),0x10
1868  056C  21 05 00    	ld	hl,0x0005
1869  056F  19          	add	hl, de
1870  0570  36 07       	ld	(hl),0x07
1871  0572  21 06 00    	ld	hl,0x0006
1872  0575  19          	add	hl, de
1873  0576  36 11       	ld	(hl),0x11
1874  0578  21 07 00    	ld	hl,0x0007
1875  057B  19          	add	hl, de
1876  057C  36 13       	ld	(hl),0x13
1877  057E  21 08 00    	ld	hl,0x0008
1878  0581  19          	add	hl, de
1879  0582  36 1F       	ld	(hl),0x1f
1880  0584  21 09 00    	ld	hl,0x0009
1881  0587  19          	add	hl, de
1882  0588  36 0C       	ld	(hl),0x0c
1883  058A  21 0A 00    	ld	hl,0x000a
1884  058D  19          	add	hl, de
1885  058E  36 0D       	ld	(hl),0x0d
1886  0590  21 0B 00    	ld	hl,0x000b
1887  0593  19          	add	hl, de
1888  0594  36 13       	ld	(hl),0x13
1889  0596  21 0C 00    	ld	hl,0x000c
1890  0599  19          	add	hl, de
1891  059A  36 15       	ld	(hl),0x15
1892  059C  21 0D 00    	ld	hl,0x000d
1893  059F  19          	add	hl, de
1894  05A0  36 13       	ld	(hl),0x13
1895  05A2  21 0E 00    	ld	hl,0x000e
1896  05A5  19          	add	hl, de
1897  05A6  36 20       	ld	(hl),0x20
1898  05A8  21 0F 00    	ld	hl,0x000f
1899  05AB  19          	add	hl, de
1900  05AC  36 1E       	ld	(hl),0x1e
1901  05AE  21 10 00    	ld	hl,0x0010
1902  05B1  19          	add	hl, de
1903  05B2  36 11       	ld	(hl),0x11
1904  05B4  21 11 00    	ld	hl,0x0011
1905  05B7  19          	add	hl, de
1906  05B8  36 12       	ld	(hl),0x12
1907  05BA  21 12 00    	ld	hl,0x0012
1908  05BD  19          	add	hl, de
1909  05BE  36 08       	ld	(hl),0x08
1910  05C0  21 13 00    	ld	hl,0x0013
1911  05C3  19          	add	hl, de
1912  05C4  36 14       	ld	(hl),0x14
1913  05C6  21 00 00    	ld	hl,0x0000
1914  05C9  22 00 00    	ld	(_loop_count),hl
1915  05CC  21 00 00    	ld	hl,0
1916  05CF  22 00 00    	ld	(_curr_time),hl
1917  05D2  21 00 00    	ld	hl,0x0000
1918  05D5  22 00 00    	ld	(_frame_time),hl
1919  05D8  21 00 00    	ld	hl,_player_coins
1920  05DB  36 00       	ld	(hl),0x00
1921  05DD  21 00 00    	ld	hl,_game_conveyor_flag
1922  05E0  36 00       	ld	(hl),0x00
1923  05E2  C5          	push	bc
1924  05E3  D5          	push	de
1925  05E4  CD 00 00    	call	_spr_init_effects
1926  05E7  CD 00 00    	call	_game_print_header
1927  05EA  CD 89 03    	call	_game_print_footer
1928  05ED  CD 27 0B    	call	_game_page_map
1929  05F0  D1          	pop	de
1930  05F1  C1          	pop	bc
1931  05F2  CD 00 00    	call	_ay_reset
1932  05F5  C5          	push	bc
1933  05F6  D5          	push	de
1934  05F7  CD 00 00    	call	_spr_btile_paint_back
1935  05FA  CD EF 00    	call	_game_draw_map
1936  05FD  21 20 90    	ld	hl,0x9020
1937  0600  E5          	push	hl
1938  0601  AF          	xor	a, a
1939  0602  F5          	push	af
1940  0603  33          	inc	sp
1941  0604  21 00 00    	ld	hl,_attrib_hl
1942  0607  E5          	push	hl
1943  0608  CD 75 07    	call	_game_paint_attrib
1944  060B  F1          	pop	af
1945  060C  F1          	pop	af
1946  060D  33          	inc	sp
1947  060E  D1          	pop	de
1948  060F  C1          	pop	bc
1949  0610  21 00 00    	ld	hl,_i
1950  0613  36 00       	ld	(hl),0x00
1951  0615  21 00 00    	ld	hl,0x0000
1952  0618  22 00 00    	ld	(_tmp_ui),hl
1953  061B              l_game_round_init_00101:
1954  061B  3A 00 00    	ld	a,(_i)
1955  061E  21 00 00    	ld	hl,_scr_curr
1956  0621  96          	sub	a, (hl)
1957  0622  30 2C       	jr	NC,l_game_round_init_00103
1958  0624  7B          	ld	a, e
1959  0625  21 00 00    	ld	hl,_i
1960  0628  86          	add	a, (hl)
1961  0629  DD 77 FE    	ld	(ix-2),a
1962  062C  6F          	ld	l,a
1963  062D  7A          	ld	a,d
1964  062E  CE 00       	adc	a,0x00
1965  0630  DD 77 FF    	ld	(ix-1),a
1966  0633  67          	ld	h,a
1967  0634  6E          	ld	l, (hl)
1968  0635  DD 75 FE    	ld	(ix-2),l
1969  0638  DD 36 FF 00 	ld	(ix-1),0x00
1970  063C  21 00 00    	ld	hl,_tmp_ui
1971  063F  7E          	ld	a, (hl)
1972  0640  DD 86 FE    	add	a,(ix-2)
1973  0643  77          	ld	(hl), a
1974  0644  23          	inc	hl
1975  0645  7E          	ld	a, (hl)
1976  0646  DD 8E FF    	adc	a,(ix-1)
1977  0649  77          	ld	(hl), a
1978  064A  21 00 00    	ld	hl,_i
1979  064D  34          	inc	(hl)
1980  064E  18 CB       	jr	l_game_round_init_00101
1981  0650              l_game_round_init_00103:
1982  0650  3A 00 00    	ld	a,(_scr_curr)
1983  0653  DD 77 FE    	ld	(ix-2),a
1984  0656  6F          	ld	l, a
1985  0657  26 00       	ld	h,0x00
1986  0659  DD 74 FF    	ld	(ix-1),h
1987  065C  29          	add	hl, hl
1988  065D  09          	add	hl, bc
1989  065E  4E          	ld	c, (hl)
1990  065F  23          	inc	hl
1991  0660  46          	ld	b, (hl)
1992  0661  2A 00 00    	ld	hl,(_scr_curr)
1993  0664  26 00       	ld	h,0x00
1994  0666  19          	add	hl,de
1995  0667  6E          	ld	l, (hl)
1996  0668  AF          	xor	a,a
1997  0669  67          	ld	h,a
1998  066A  EB          	ex	de,hl
1999  066B  21 20 00    	ld	hl,0x0020
2000  066E  ED 52       	sbc	hl,de
2001  0670  CB 2C       	sra	h
2002  0672  CB 1D       	rr	l
2003  0674  EB          	ex	de,hl
2004  0675  53          	ld	d, e
2005  0676  C5          	push	bc
2006  0677  1E 11       	ld	e,0x11
2007  0679  D5          	push	de
2008  067A  CD 00 00    	call	_zx_print_str
2009  067D  21 0A 98    	ld	hl,0x980a
2010  0680  E5          	push	hl
2011  0681  AF          	xor	a, a
2012  0682  F5          	push	af
2013  0683  33          	inc	sp
2014  0684  21 00 00    	ld	hl,_attrib_red
2015  0687  E5          	push	hl
2016  0688  CD 75 07    	call	_game_paint_attrib
2017  068B  F1          	pop	af
2018  068C  33          	inc	sp
2019  068D  21 20 98    	ld	hl,0x9820
2020  0690  E3          	ex	(sp),hl
2021  0691  3E 0A       	ld	a,0x0a
2022  0693  F5          	push	af
2023  0694  33          	inc	sp
2024  0695  21 00 00    	ld	hl,_attrib_osd
2025  0698  E5          	push	hl
2026  0699  CD 75 07    	call	_game_paint_attrib
2027  069C  F1          	pop	af
2028  069D  33          	inc	sp
2029  069E  21 7C 01    	ld	hl,___str_21
2030  06A1  E3          	ex	(sp),hl
2031  06A2  21 12 00    	ld	hl,0x0012
2032  06A5  E5          	push	hl
2033  06A6  CD 00 00    	call	_zx_print_str
2034  06A9  21 00 00    	ld	hl,_screen_ink
2035  06AC  36 06       	ld	(hl),0x06
2036  06AE  21 9D 01    	ld	hl,___str_22
2037  06B1  E5          	push	hl
2038  06B2  21 14 00    	ld	hl,0x0014
2039  06B5  E5          	push	hl
2040  06B6  CD 00 00    	call	_zx_print_str
2041  06B9  21 00 00    	ld	hl,_game_song_play_start
2042  06BC  36 00       	ld	(hl),0x00
2043  06BE  3A 00 00    	ld	a,(_game_over)
2044  06C1  B7          	or	a, a
2045  06C2  20 10       	jr	NZ,l_game_round_init_00105
2046  06C4  2A 00 00    	ld	hl,(_player_col_scr)
2047  06C7  26 08       	ld	h,0x08
2048  06C9  3A 00 00    	ld	a,(_player_lin_scr)
2049  06CC  E5          	push	hl
2050  06CD  F5          	push	af
2051  06CE  33          	inc	sp
2052  06CF  CD 00 00    	call	_player_init
2053  06D2  F1          	pop	af
2054  06D3  33          	inc	sp
2055  06D4              l_game_round_init_00105:
2056  06D4  CD 00 00    	call	_game_update_stats
2057  06D7  3A 00 00    	ld	a,(_game_debug)
2058  06DA  B7          	or	a, a
2059  06DB  20 3B       	jr	NZ,l_game_round_init_00107
2060  06DD  21 BE 01    	ld	hl,___str_23
2061  06E0  E5          	push	hl
2062  06E1  21 0C 06    	ld	hl,0x060c
2063  06E4  E5          	push	hl
2064  06E5  CD 00 00    	call	_zx_print_str
2065  06E8  21 00 00    	ld	hl,_tmp0
2066  06EB  36 0B       	ld	(hl),0x0b
2067  06ED  21 11 68    	ld	hl,0x6811
2068  06F0  E5          	push	hl
2069  06F1  3E 06       	ld	a,0x06
2070  06F3  F5          	push	af
2071  06F4  33          	inc	sp
2072  06F5  21 00 00    	ld	hl,_attrib_osd
2073  06F8  E5          	push	hl
2074  06F9  CD 75 07    	call	_game_paint_attrib
2075  06FC  F1          	pop	af
2076  06FD  F1          	pop	af
2077  06FE  33          	inc	sp
2078  06FF  3A 00 00    	ld	a,(_tmp0)
2079  0702  C6 06       	add	a,0x06
2080  0704  47          	ld	b, a
2081  0705  AF          	xor	a, a
2082  0706  F5          	push	af
2083  0707  33          	inc	sp
2084  0708  21 C8 00    	ld	hl,0x00c8
2085  070B  E5          	push	hl
2086  070C  C5          	push	bc
2087  070D  33          	inc	sp
2088  070E  21 0C 06    	ld	hl,0x060c
2089  0711  E5          	push	hl
2090  0712  CD 9F 07    	call	_game_colour_message
2091  0715  F1          	pop	af
2092  0716  F1          	pop	af
2093  0717  F1          	pop	af
2094  0718              l_game_round_init_00107:
2095  0718  CD 00 00    	call	_audio_ingame
2096  071B  21 00 00    	ld	hl,_screen_ink
2097  071E  36 12       	ld	(hl),0x12
2098  0720  21 CA 01    	ld	hl,___str_24
2099  0723  E5          	push	hl
2100  0724  21 00 00    	ld	hl,0x0000
2101  0727  E5          	push	hl
2102  0728  CD 00 00    	call	_zx_print_str
2103  072B  2E 02       	ld	l,0x02
2104  072D  CD 00 00    	call	_zx_border_fastcall
2105  0730  21 00 00    	ld	hl,_screen_ink
2106  0733  36 07       	ld	(hl),0x07
2107  0735  DD F9       	ld	sp, ix
2108  0737  DD E1       	pop	ix
2109  0739  C9          	ret
2110  073A              	SECTION rodata_compiler
2111  0005              ___str_1:
2112  0005  43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "Central Cavern"
2113  0013  00          	DEFB 0x00
2114  0014              	SECTION rodata_compiler
2115  0014              ___str_2:
2116  0014  54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "The Cold Room"
2117  0021  00          	DEFB 0x00
2118  0022              	SECTION rodata_compiler
2119  0022              ___str_3:
2120  0022  4D 65 6E 61 67 65 72 69 65 
                        	DEFM "Menagerie"
2121  002B  00          	DEFB 0x00
2122  002C              	SECTION rodata_compiler
2123  002C              ___str_4:
2124  002C  41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "Abandoned Uranium Workings"
2125  0046  00          	DEFB 0x00
2126  0047              	SECTION rodata_compiler
2127  0047              ___str_5:
2128  0047  45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "Eugene's Lair"
2129  0054  00          	DEFB 0x00
2130  0055              	SECTION rodata_compiler
2131  0055              ___str_6:
2132  0055  50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "Processing Plant"
2133  0065  00          	DEFB 0x00
2134  0066              	SECTION rodata_compiler
2135  0066              ___str_7:
2136  0066  54 68 65 20 56 61 74 
                        	DEFM "The Vat"
2137  006D  00          	DEFB 0x00
2138  006E              	SECTION rodata_compiler
2139  006E              ___str_8:
2140  006E  57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "Wacky Amoebatrons"
2141  007F  00          	DEFB 0x00
2142  0080              	SECTION rodata_compiler
2143  0080              ___str_9:
2144  0080  54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "The Endorian Forest"
2145  0093  00          	DEFB 0x00
2146  0094              	SECTION rodata_compiler
2147  0094              ___str_10:
2148  0094  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2149  00B3  00          	DEFB 0x00
2150  00B4              	SECTION rodata_compiler
2151  00B4              ___str_11:
2152  00B4  4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "Ore Refinery"
2153  00C0  00          	DEFB 0x00
2154  00C1              	SECTION rodata_compiler
2155  00C1              ___str_12:
2156  00C1  54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "The Warehouse"
2157  00CE  00          	DEFB 0x00
2158  00CF              	SECTION rodata_compiler
2159  00CF              ___str_13:
2160  00CF  53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "Solar Power Generator"
2161  00E4  00          	DEFB 0x00
2162  00E5              	SECTION rodata_compiler
2163  00E5              ___str_14:
2164  00E5  41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "Amoebatrons Revenge"
2165  00F8  00          	DEFB 0x00
2166  00F9              	SECTION rodata_compiler
2167  00F9              ___str_15:
2168  00F9  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2169  0119  00          	DEFB 0x00
2170  011A              	SECTION rodata_compiler
2171  011A              ___str_16:
2172  011A  52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Return of the Alien Kong Beast"
2173  0138  00          	DEFB 0x00
2174  0139              	SECTION rodata_compiler
2175  0139              ___str_17:
2176  0139  54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "The Final Barrier"
2177  014A  00          	DEFB 0x00
2178  014B              	SECTION rodata_compiler
2179  014B              ___str_18:
2180  014B  53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "Skylab Landing Bay"
2181  015D  00          	DEFB 0x00
2182  015E              	SECTION rodata_compiler
2183  015E              ___str_19:
2184  015E  54 68 65 20 42 61 6E 6B 
                        	DEFM "The Bank"
2185  0166  00          	DEFB 0x00
2186  0167              	SECTION rodata_compiler
2187  0167              ___str_20:
2188  0167  54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "The Sixteenth Cavern"
2189  017B  00          	DEFB 0x00
2190  017C              	SECTION rodata_compiler
2191  017C              ___str_21:
2192  017C  41 49 52 20 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ----------------------------"
2193  019C  00          	DEFB 0x00
2194  019D              	SECTION rodata_compiler
2195  019D              ___str_22:
2196  019D  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
2197  01BD  00          	DEFB 0x00
2198  01BE              	SECTION rodata_compiler
2199  01BE              ___str_23:
2200  01BE  52 4F 55 4E 44 20 53 54 41 52 54 
                        	DEFM "ROUND START"
2201  01C9  00          	DEFB 0x00
2202  01CA              	SECTION rodata_compiler
2203  01CA              ___str_24:
2204  01CA  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2205  01EA  00          	DEFB 0x00
2206  01EB              	SECTION code_compiler
2207  073A              ;	---------------------------------
2208  073A              ; Function game_print_header
2209  073A              ; ---------------------------------
2210  073A              	defc _game_print_header	=	_game_print_score
2211  073A              	SECTION code_compiler
2212  073A              ;	---------------------------------
2213  073A              ; Function game_check_map
2214  073A              ; ---------------------------------
2215  073A              _game_check_map:
2216  073A  CD 00 00    	call	___sdcc_enter_ix
2217  073D  DD 66 05    	ld	h,(ix+5)
2218  0740  DD 6E 04    	ld	l,(ix+4)
2219  0743  E5          	push	hl
2220  0744  CD 00 00    	call	_spr_calc_index
2221  0747  F1          	pop	af
2222  0748  22 00 00    	ld	(_index1),hl
2223  074B  21 00 00    	ld	hl,_index1
2224  074E  DD E1       	pop	ix
2225  0750  C3 53 07    	jp	_game_check_cell
2226  0753              	SECTION code_compiler
2227  0753              ;	---------------------------------
2228  0753              ; Function game_check_cell
2229  0753              ; ---------------------------------
2230  0753              _game_check_cell:
2231  0753  4E          	ld	c, (hl)
2232  0754  23          	inc	hl
2233  0755  46          	ld	b, (hl)
2234  0756  AF          	xor	a, a
2235  0757  B9          	cp	a, c
2236  0758  3E 02       	ld	a,0x02
2237  075A  98          	sbc	a, b
2238  075B  30 04       	jr	NC,l_game_check_cell_00102
2239  075D  2E 01       	ld	l,0x01
2240  075F  18 13       	jr	l_game_check_cell_00106
2241  0761              l_game_check_cell_00102:
2242  0761  21 00 00    	ld	hl,_scr_map
2243  0764  09          	add	hl, bc
2244  0765  5E          	ld	e, (hl)
2245  0766  ED 43 00 00 	ld	(_index1),bc
2246  076A  7B          	ld	a,e
2247  076B  D6 03       	sub	a,0x03
2248  076D  28 04       	jr	Z,l_game_check_cell_00104
2249  076F  2E 00       	ld	l,0x00
2250  0771  18 01       	jr	l_game_check_cell_00106
2251  0773              l_game_check_cell_00104:
2252  0773  6B          	ld	l, e
2253  0774              l_game_check_cell_00106:
2254  0774  C9          	ret
2255  0775              	SECTION code_compiler
2256  0775              ;	---------------------------------
2257  0775              ; Function game_paint_attrib
2258  0775              ; ---------------------------------
2259  0775              _game_paint_attrib:
2260  0775  CD 00 00    	call	___sdcc_enter_ix
2261  0778  DD 7E 06    	ld	a,(ix+6)
2262  077B  32 00 00    	ld	(_tmp_uc),a
2263  077E              l_game_paint_attrib_00103:
2264  077E  21 00 00    	ld	hl,_tmp_uc
2265  0781  7E          	ld	a, (hl)
2266  0782  DD 96 07    	sub	a,(ix+7)
2267  0785  30 15       	jr	NC,l_game_paint_attrib_00105
2268  0787  DD 4E 04    	ld	c,(ix+4)
2269  078A  DD 46 05    	ld	b,(ix+5)
2270  078D  66          	ld	h,(hl)
2271  078E  DD 6E 08    	ld	l,(ix+8)
2272  0791  E5          	push	hl
2273  0792  C5          	push	bc
2274  0793  CD 00 00    	call	_NIRVANAP_paintC_callee
2275  0796  21 00 00    	ld	hl,_tmp_uc
2276  0799  34          	inc	(hl)
2277  079A  18 E2       	jr	l_game_paint_attrib_00103
2278  079C              l_game_paint_attrib_00105:
2279  079C  DD E1       	pop	ix
2280  079E  C9          	ret
2281  079F              	SECTION code_compiler
2282  079F              ;	---------------------------------
2283  079F              ; Function game_colour_message
2284  079F              ; ---------------------------------
2285  079F              _game_colour_message:
2286  079F  CD 00 00    	call	___sdcc_enter_ix
2287  07A2  F5          	push	af
2288  07A3  F5          	push	af
2289  07A4  F5          	push	af
2290  07A5  F5          	push	af
2291  07A6  D1          	pop	de
2292  07A7  21 00 00    	ld	hl,_tmp
2293  07AA  36 01       	ld	(hl),0x01
2294  07AC  2A 00 00    	ld	hl,(_curr_time)
2295  07AF  22 00 00    	ld	(_frame_time),hl
2296  07B2  E5          	push	hl
2297  07B3  DD 7E 04    	ld	a,(ix+4)
2298  07B6  4D          	ld	c,l
2299  07B7  07          	rlca
2300  07B8  07          	rlca
2301  07B9  07          	rlca
2302  07BA  E6 F8       	and	a,0xf8
2303  07BC  DD 77 FF    	ld	(ix-1),a
2304  07BF  C6 08       	add	a,0x08
2305  07C1  DD 77 FE    	ld	(ix-2),a
2306  07C4  DD 77 FD    	ld	(ix-3),a
2307  07C7              l_game_colour_message_00112:
2308  07C7  3A 00 00    	ld	a,(_tmp)
2309  07CA  B7          	or	a, a
2310  07CB  CA 6A 08    	jp	Z, l_game_colour_message_00114
2311  07CE  DD 46 07    	ld	b,(ix+7)
2312  07D1  21 00 00    	ld	hl,0x0000
2313  07D4  39          	add	hl, sp
2314  07D5  EB          	ex	de,hl
2315  07D6  C5          	push	bc
2316  07D7  33          	inc	sp
2317  07D8  D5          	push	de
2318  07D9  CD E0 08    	call	_game_check_time
2319  07DC  F1          	pop	af
2320  07DD  33          	inc	sp
2321  07DE  7D          	ld	a, l
2322  07DF  B7          	or	a, a
2323  07E0  C2 6A 08    	jp	NZ, l_game_colour_message_00114
2324  07E3  3E 05       	ld	a,0x05
2325  07E5  F5          	push	af
2326  07E6  33          	inc	sp
2327  07E7  21 00 00    	ld	hl,_frame_time
2328  07EA  E5          	push	hl
2329  07EB  CD E0 08    	call	_game_check_time
2330  07EE  F1          	pop	af
2331  07EF  33          	inc	sp
2332  07F0  DD 75 FC    	ld	(ix-4),l
2333  07F3  7D          	ld	a, l
2334  07F4  B7          	or	a, a
2335  07F5  28 4D       	jr	Z,l_game_colour_message_00105
2336  07F7  2A 00 00    	ld	hl,(_curr_time)
2337  07FA  DD 74 FB    	ld	(ix-5),h
2338  07FD  DD 75 FA    	ld	(ix-6),l
2339  0800  7D          	ld	a, l
2340  0801  21 00 00    	ld	hl,_frame_time
2341  0804  77          	ld	(hl), a
2342  0805  DD 7E FB    	ld	a,(ix-5)
2343  0808  23          	inc	hl
2344  0809  77          	ld	(hl), a
2345  080A  3A 00 00    	ld	a,(_game_over)
2346  080D  B7          	or	a, a
2347  080E  28 1B       	jr	Z,l_game_colour_message_00102
2348  0810  DD 66 FD    	ld	h,(ix-3)
2349  0813  DD 6E 06    	ld	l,(ix+6)
2350  0816  E5          	push	hl
2351  0817  DD 7E 05    	ld	a,(ix+5)
2352  081A  F5          	push	af
2353  081B  33          	inc	sp
2354  081C  21 00 00    	ld	hl,_attrib_hl
2355  081F  E5          	push	hl
2356  0820  CD 75 07    	call	_game_paint_attrib
2357  0823  F1          	pop	af
2358  0824  F1          	pop	af
2359  0825  33          	inc	sp
2360  0826  CD 0A 09    	call	_game_rotate_attrib
2361  0829  18 19       	jr	l_game_colour_message_00105
2362  082B              l_game_colour_message_00102:
2363  082B  DD 66 FE    	ld	h,(ix-2)
2364  082E  DD 6E 06    	ld	l,(ix+6)
2365  0831  E5          	push	hl
2366  0832  DD 7E 05    	ld	a,(ix+5)
2367  0835  F5          	push	af
2368  0836  33          	inc	sp
2369  0837  21 00 00    	ld	hl,_attrib_osd
2370  083A  E5          	push	hl
2371  083B  CD 75 07    	call	_game_paint_attrib
2372  083E  F1          	pop	af
2373  083F  F1          	pop	af
2374  0840  33          	inc	sp
2375  0841  CD 7F 09    	call	_game_rotate_attrib_osd
2376  0844              l_game_colour_message_00105:
2377  0844  DD 7E 09    	ld	a,(ix+9)
2378  0847  B7          	or	a, a
2379  0848  CA C7 07    	jp	Z, l_game_colour_message_00112
2380  084B              l_game_colour_message_00106:
2381  084B  21 00 00    	ld	hl,_k1
2382  084E  E5          	push	hl
2383  084F  2A 00 00    	ld	hl,(_joyfunc1)
2384  0852  CD 00 00    	call	___sdcc_call_hl
2385  0855  F1          	pop	af
2386  0856  DD 74 FB    	ld	(ix-5),h
2387  0859  DD 75 FA    	ld	(ix-6),l
2388  085C  7C          	ld	a,h
2389  085D  DD B6 FA    	or	a,(ix-6)
2390  0860  CA C7 07    	jp	Z, l_game_colour_message_00112
2391  0863  21 00 00    	ld	hl,_tmp
2392  0866  36 00       	ld	(hl),0x00
2393  0868  18 E1       	jr	l_game_colour_message_00106
2394  086A              l_game_colour_message_00114:
2395  086A  DD 7E 06    	ld	a,(ix+6)
2396  086D  DD 96 05    	sub	a,(ix+5)
2397  0870  4F          	ld	c, a
2398  0871  3A 00 00    	ld	a,(_game_over)
2399  0874  B7          	or	a, a
2400  0875  28 2F       	jr	Z,l_game_colour_message_00118
2401  0877  21 00 00    	ld	hl,_tmp1
2402  087A  71          	ld	(hl), c
2403  087B  21 00 00    	ld	hl,_tmp0
2404  087E  36 00       	ld	(hl),0x00
2405  0880              l_game_colour_message_00121:
2406  0880  3A 00 00    	ld	a,(_tmp0)
2407  0883  21 00 00    	ld	hl,_tmp1
2408  0886  96          	sub	a, (hl)
2409  0887  30 52       	jr	NC,l_game_colour_message_00126
2410  0889  DD 7E 05    	ld	a,(ix+5)
2411  088C  21 00 00    	ld	hl,_tmp0
2412  088F  86          	add	a, (hl)
2413  0890  4F          	ld	c, a
2414  0891  21 EB 01    	ld	hl,___str_25
2415  0894  E5          	push	hl
2416  0895  79          	ld	a, c
2417  0896  F5          	push	af
2418  0897  33          	inc	sp
2419  0898  DD 7E 04    	ld	a,(ix+4)
2420  089B  F5          	push	af
2421  089C  33          	inc	sp
2422  089D  CD 00 00    	call	_zx_print_str
2423  08A0  21 00 00    	ld	hl,_tmp0
2424  08A3  34          	inc	(hl)
2425  08A4  18 DA       	jr	l_game_colour_message_00121
2426  08A6              l_game_colour_message_00118:
2427  08A6  21 00 00    	ld	hl,_tmp1
2428  08A9  71          	ld	(hl), c
2429  08AA  DD 7E FF    	ld	a,(ix-1)
2430  08AD  32 00 00    	ld	(_s_lin0),a
2431  08B0  DD 7E 05    	ld	a,(ix+5)
2432  08B3  CB 3F       	srl	a
2433  08B5  87          	add	a, a
2434  08B6  32 00 00    	ld	(_s_col1),a
2435  08B9  21 00 00    	ld	hl,_tmp0
2436  08BC  36 00       	ld	(hl),0x00
2437  08BE              l_game_colour_message_00124:
2438  08BE  3A 00 00    	ld	a,(_tmp0)
2439  08C1  21 00 00    	ld	hl,_tmp1
2440  08C4  96          	sub	a, (hl)
2441  08C5  30 14       	jr	NC,l_game_colour_message_00126
2442  08C7  3A 00 00    	ld	a,(_s_col1)
2443  08CA  21 00 00    	ld	hl,_tmp0
2444  08CD  86          	add	a, (hl)
2445  08CE  32 00 00    	ld	(_s_col0),a
2446  08D1  CD 00 00    	call	_spr_back_repaint
2447  08D4  21 00 00    	ld	hl,_tmp0
2448  08D7  34          	inc	(hl)
2449  08D8  34          	inc	(hl)
2450  08D9  18 E3       	jr	l_game_colour_message_00124
2451  08DB              l_game_colour_message_00126:
2452  08DB  DD F9       	ld	sp, ix
2453  08DD  DD E1       	pop	ix
2454  08DF  C9          	ret
2455  08E0              	SECTION rodata_compiler
2456  01EB              ___str_25:
2457  01EB  20          	DEFM " "
2458  01EC  00          	DEFB 0x00
2459  01ED              	SECTION code_compiler
2460  08E0              ;	---------------------------------
2461  08E0              ; Function game_check_time
2462  08E0              ; ---------------------------------
2463  08E0              _game_check_time:
2464  08E0  CD 00 00    	call	___sdcc_enter_ix
2465  08E3  2A 00 00    	ld	hl,(_curr_time)
2466  08E6  4D          	ld	c, l
2467  08E7  DD 6E 04    	ld	l,(ix+4)
2468  08EA  44          	ld	b,h
2469  08EB  DD 66 05    	ld	h,(ix+5)
2470  08EE  5E          	ld	e, (hl)
2471  08EF  23          	inc	hl
2472  08F0  56          	ld	d, (hl)
2473  08F1  79          	ld	a, c
2474  08F2  93          	sub	a, e
2475  08F3  4F          	ld	c, a
2476  08F4  78          	ld	a, b
2477  08F5  9A          	sbc	a, d
2478  08F6  47          	ld	b, a
2479  08F7  DD 7E 06    	ld	a,(ix+6)
2480  08FA  16 00       	ld	d,0x00
2481  08FC  91          	sub	a, c
2482  08FD  7A          	ld	a, d
2483  08FE  98          	sbc	a, b
2484  08FF  30 04       	jr	NC,l_game_check_time_00102
2485  0901  2E 01       	ld	l,0x01
2486  0903  18 02       	jr	l_game_check_time_00104
2487  0905              l_game_check_time_00102:
2488  0905  2E 00       	ld	l,0x00
2489  0907              l_game_check_time_00104:
2490  0907  DD E1       	pop	ix
2491  0909  C9          	ret
2492  090A              	SECTION code_compiler
2493  090A              ;	---------------------------------
2494  090A              ; Function game_rotate_attrib
2495  090A              ; ---------------------------------
2496  090A              _game_rotate_attrib:
2497  090A  3E 07       	ld	a,0x07
2498  090C  21 00 00    	ld	hl,_last_rotated
2499  090F  96          	sub	a, (hl)
2500  0910  30 02       	jr	NC,l_game_rotate_attrib_00102
2501  0912  36 00       	ld	(hl),0x00
2502  0914              l_game_rotate_attrib_00102:
2503  0914  3A 00 00    	ld	a,(_last_rotated)
2504  0917  32 00 00    	ld	(_tmp_uc),a
2505  091A              l_game_rotate_attrib_00110:
2506  091A  21 00 00    	ld	hl,_tmp_uc
2507  091D  7E          	ld	a, (hl)
2508  091E  D6 08       	sub	a,0x08
2509  0920  30 5C       	jr	NC,l_game_rotate_attrib_00112
2510  0922  3E 00       	ld	a, +((_obj_col) & 0xFF)
2511  0924  86          	add	a, (hl)
2512  0925  4F          	ld	c, a
2513  0926  3E 00       	ld	a, +((_obj_col) / 256)
2514  0928  CE 00       	adc	a,0x00
2515  092A  47          	ld	b, a
2516  092B  0A          	ld	a, (bc)
2517  092C  4F          	ld	c,a
2518  092D  B7          	or	a, a
2519  092E  28 44       	jr	Z,l_game_rotate_attrib_00106
2520  0930  7E          	ld	a, (hl)
2521  0931  3C          	inc	a
2522  0932  32 00 00    	ld	(_last_rotated),a
2523  0935  2A 00 00    	ld	hl,(_tmp_uc)
2524  0938  26 00       	ld	h,0x00
2525  093A  11 00 00    	ld	de,_obj_lin
2526  093D  19          	add	hl,de
2527  093E  46          	ld	b, (hl)
2528  093F  79          	ld	a, c
2529  0940  48          	ld	c,b
2530  0941  47          	ld	b,a
2531  0942  C5          	push	bc
2532  0943  21 00 00    	ld	hl,_attrib8
2533  0946  E5          	push	hl
2534  0947  CD 00 00    	call	_NIRVANAP_paintC_callee
2535  094A  3A 00 00    	ld	a,(_game_attrib_osd)
2536  094D  D6 07       	sub	a,0x07
2537  094F  20 05       	jr	NZ,l_game_rotate_attrib_00104
2538  0951  21 00 00    	ld	hl,_game_attrib_osd
2539  0954  36 01       	ld	(hl),0x01
2540  0956              l_game_rotate_attrib_00104:
2541  0956  21 00 00    	ld	hl,_game_attrib_osd
2542  0959  34          	inc	(hl)
2543  095A  3A 00 00    	ld	a,(_map_paper)
2544  095D  21 00 00    	ld	hl,_game_attrib_osd
2545  0960  B6          	or	a, (hl)
2546  0961  32 00 00    	ld	(_attrib8),a
2547  0964  32 01 00    	ld	((_attrib8 + 0x0001)),a
2548  0967  32 02 00    	ld	((_attrib8 + 0x0002)),a
2549  096A  32 03 00    	ld	((_attrib8 + 0x0003)),a
2550  096D  21 00 00    	ld	hl,_tmp_uc
2551  0970  36 08       	ld	(hl),0x08
2552  0972  18 04       	jr	l_game_rotate_attrib_00111
2553  0974              l_game_rotate_attrib_00106:
2554  0974  21 00 00    	ld	hl,_last_rotated
2555  0977  34          	inc	(hl)
2556  0978              l_game_rotate_attrib_00111:
2557  0978  21 00 00    	ld	hl,_tmp_uc
2558  097B  34          	inc	(hl)
2559  097C  18 9C       	jr	l_game_rotate_attrib_00110
2560  097E              l_game_rotate_attrib_00112:
2561  097E  C9          	ret
2562  097F              	SECTION code_compiler
2563  097F              ;	---------------------------------
2564  097F              ; Function game_rotate_attrib_osd
2565  097F              ; ---------------------------------
2566  097F              _game_rotate_attrib_osd:
2567  097F  3A 00 00    	ld	a,(_game_attrib_osd)
2568  0982  D6 07       	sub	a,0x07
2569  0984  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2570  0986  21 00 00    	ld	hl,_game_attrib_osd
2571  0989  36 01       	ld	(hl),0x01
2572  098B              l_game_rotate_attrib_osd_00102:
2573  098B  21 00 00    	ld	hl,_game_attrib_osd
2574  098E  7E          	ld	a,(hl)
2575  098F  3C          	inc	a
2576  0990  77          	ld	(hl),a
2577  0991  32 00 00    	ld	(_attrib_osd),a
2578  0994  32 01 00    	ld	((_attrib_osd + 0x0001)),a
2579  0997  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2580  099A  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2581  099D  C9          	ret
2582  099E              	SECTION code_compiler
2583  099E              ;	---------------------------------
2584  099E              ; Function game_attribs
2585  099E              ; ---------------------------------
2586  099E              _game_attribs:
2587  099E  01 00 00    	ld	bc,_attrib0+0
2588  09A1  21 00 00    	ld	hl,_map_paper
2589  09A4  7E          	ld	a, (hl)
2590  09A5  F6 41       	or	a,0x41
2591  09A7  02          	ld	(bc), a
2592  09A8  59          	ld	e, c
2593  09A9  50          	ld	d, b
2594  09AA  13          	inc	de
2595  09AB  7E          	ld	a, (hl)
2596  09AC  F6 41       	or	a,0x41
2597  09AE  12          	ld	(de), a
2598  09AF  7E          	ld	a, (hl)
2599  09B0  F6 41       	or	a,0x41
2600  09B2  32 02 00    	ld	((_attrib0 + 0x0002)),a
2601  09B5  03          	inc	bc
2602  09B6  03          	inc	bc
2603  09B7  03          	inc	bc
2604  09B8  21 00 00    	ld	hl,_map_paper
2605  09BB  7E          	ld	a, (hl)
2606  09BC  F6 43       	or	a,0x43
2607  09BE  02          	ld	(bc), a
2608  09BF  01 00 00    	ld	bc,_attrib1+0
2609  09C2  7E          	ld	a, (hl)
2610  09C3  F6 02       	or	a,0x02
2611  09C5  02          	ld	(bc), a
2612  09C6  59          	ld	e, c
2613  09C7  50          	ld	d, b
2614  09C8  13          	inc	de
2615  09C9  7E          	ld	a, (hl)
2616  09CA  F6 42       	or	a,0x42
2617  09CC  12          	ld	(de), a
2618  09CD  7E          	ld	a, (hl)
2619  09CE  F6 03       	or	a,0x03
2620  09D0  32 02 00    	ld	((_attrib1 + 0x0002)),a
2621  09D3  03          	inc	bc
2622  09D4  03          	inc	bc
2623  09D5  03          	inc	bc
2624  09D6  21 00 00    	ld	hl,_map_paper
2625  09D9  7E          	ld	a, (hl)
2626  09DA  F6 43       	or	a,0x43
2627  09DC  02          	ld	(bc), a
2628  09DD  01 00 00    	ld	bc,_attrib2+0
2629  09E0  7E          	ld	a, (hl)
2630  09E1  F6 02       	or	a,0x02
2631  09E3  02          	ld	(bc), a
2632  09E4  59          	ld	e, c
2633  09E5  50          	ld	d, b
2634  09E6  13          	inc	de
2635  09E7  7E          	ld	a, (hl)
2636  09E8  F6 42       	or	a,0x42
2637  09EA  12          	ld	(de), a
2638  09EB  7E          	ld	a, (hl)
2639  09EC  F6 03       	or	a,0x03
2640  09EE  32 02 00    	ld	((_attrib2 + 0x0002)),a
2641  09F1  03          	inc	bc
2642  09F2  03          	inc	bc
2643  09F3  03          	inc	bc
2644  09F4  21 00 00    	ld	hl,_map_paper
2645  09F7  7E          	ld	a, (hl)
2646  09F8  F6 43       	or	a,0x43
2647  09FA  02          	ld	(bc), a
2648  09FB  01 00 00    	ld	bc,_attrib3+0
2649  09FE  7E          	ld	a, (hl)
2650  09FF  F6 42       	or	a,0x42
2651  0A01  02          	ld	(bc), a
2652  0A02  59          	ld	e, c
2653  0A03  50          	ld	d, b
2654  0A04  13          	inc	de
2655  0A05  7E          	ld	a, (hl)
2656  0A06  F6 02       	or	a,0x02
2657  0A08  12          	ld	(de), a
2658  0A09  7E          	ld	a, (hl)
2659  0A0A  F6 03       	or	a,0x03
2660  0A0C  32 02 00    	ld	((_attrib3 + 0x0002)),a
2661  0A0F  03          	inc	bc
2662  0A10  03          	inc	bc
2663  0A11  03          	inc	bc
2664  0A12  21 00 00    	ld	hl,_map_paper
2665  0A15  7E          	ld	a, (hl)
2666  0A16  F6 43       	or	a,0x43
2667  0A18  02          	ld	(bc), a
2668  0A19  01 00 00    	ld	bc,_attrib4+0
2669  0A1C  7E          	ld	a, (hl)
2670  0A1D  F6 57       	or	a,0x57
2671  0A1F  02          	ld	(bc), a
2672  0A20  59          	ld	e, c
2673  0A21  50          	ld	d, b
2674  0A22  13          	inc	de
2675  0A23  7E          	ld	a, (hl)
2676  0A24  F6 56       	or	a,0x56
2677  0A26  12          	ld	(de), a
2678  0A27  7E          	ld	a, (hl)
2679  0A28  F6 57       	or	a,0x57
2680  0A2A  32 02 00    	ld	((_attrib4 + 0x0002)),a
2681  0A2D  03          	inc	bc
2682  0A2E  03          	inc	bc
2683  0A2F  03          	inc	bc
2684  0A30  21 00 00    	ld	hl,_map_paper
2685  0A33  7E          	ld	a, (hl)
2686  0A34  F6 56       	or	a,0x56
2687  0A36  02          	ld	(bc), a
2688  0A37  01 00 00    	ld	bc,_attrib5+0
2689  0A3A  7E          	ld	a, (hl)
2690  0A3B  F6 44       	or	a,0x44
2691  0A3D  02          	ld	(bc), a
2692  0A3E  59          	ld	e, c
2693  0A3F  50          	ld	d, b
2694  0A40  13          	inc	de
2695  0A41  7E          	ld	a, (hl)
2696  0A42  F6 44       	or	a,0x44
2697  0A44  12          	ld	(de), a
2698  0A45  7E          	ld	a, (hl)
2699  0A46  F6 45       	or	a,0x45
2700  0A48  32 02 00    	ld	((_attrib5 + 0x0002)),a
2701  0A4B  03          	inc	bc
2702  0A4C  03          	inc	bc
2703  0A4D  03          	inc	bc
2704  0A4E  21 00 00    	ld	hl,_map_paper
2705  0A51  7E          	ld	a, (hl)
2706  0A52  F6 45       	or	a,0x45
2707  0A54  02          	ld	(bc), a
2708  0A55  01 00 00    	ld	bc,_attrib6+0
2709  0A58  7E          	ld	a, (hl)
2710  0A59  F6 46       	or	a,0x46
2711  0A5B  02          	ld	(bc), a
2712  0A5C  59          	ld	e, c
2713  0A5D  50          	ld	d, b
2714  0A5E  13          	inc	de
2715  0A5F  7E          	ld	a, (hl)
2716  0A60  F6 44       	or	a,0x44
2717  0A62  12          	ld	(de), a
2718  0A63  7E          	ld	a, (hl)
2719  0A64  F6 44       	or	a,0x44
2720  0A66  32 02 00    	ld	((_attrib6 + 0x0002)),a
2721  0A69  03          	inc	bc
2722  0A6A  03          	inc	bc
2723  0A6B  03          	inc	bc
2724  0A6C  21 00 00    	ld	hl,_map_paper
2725  0A6F  7E          	ld	a, (hl)
2726  0A70  F6 44       	or	a,0x44
2727  0A72  02          	ld	(bc), a
2728  0A73  01 00 00    	ld	bc,_attrib7+0
2729  0A76  7E          	ld	a, (hl)
2730  0A77  F6 41       	or	a,0x41
2731  0A79  02          	ld	(bc), a
2732  0A7A  59          	ld	e, c
2733  0A7B  50          	ld	d, b
2734  0A7C  13          	inc	de
2735  0A7D  7E          	ld	a, (hl)
2736  0A7E  F6 05       	or	a,0x05
2737  0A80  12          	ld	(de), a
2738  0A81  7E          	ld	a, (hl)
2739  0A82  F6 45       	or	a,0x45
2740  0A84  32 02 00    	ld	((_attrib7 + 0x0002)),a
2741  0A87  03          	inc	bc
2742  0A88  03          	inc	bc
2743  0A89  03          	inc	bc
2744  0A8A  21 00 00    	ld	hl,_map_paper
2745  0A8D  7E          	ld	a, (hl)
2746  0A8E  F6 47       	or	a,0x47
2747  0A90  02          	ld	(bc), a
2748  0A91  01 00 00    	ld	bc,_attrib8+0
2749  0A94  7E          	ld	a, (hl)
2750  0A95  F6 46       	or	a,0x46
2751  0A97  02          	ld	(bc), a
2752  0A98  59          	ld	e, c
2753  0A99  50          	ld	d, b
2754  0A9A  13          	inc	de
2755  0A9B  7E          	ld	a, (hl)
2756  0A9C  F6 42       	or	a,0x42
2757  0A9E  12          	ld	(de), a
2758  0A9F  7E          	ld	a, (hl)
2759  0AA0  F6 46       	or	a,0x46
2760  0AA2  32 02 00    	ld	((_attrib8 + 0x0002)),a
2761  0AA5  03          	inc	bc
2762  0AA6  03          	inc	bc
2763  0AA7  03          	inc	bc
2764  0AA8  21 00 00    	ld	hl,_map_paper
2765  0AAB  7E          	ld	a, (hl)
2766  0AAC  F6 42       	or	a,0x42
2767  0AAE  02          	ld	(bc), a
2768  0AAF  01 00 00    	ld	bc,_attrib+0
2769  0AB2  7E          	ld	a, (hl)
2770  0AB3  F6 47       	or	a,0x47
2771  0AB5  02          	ld	(bc), a
2772  0AB6  59          	ld	e, c
2773  0AB7  50          	ld	d, b
2774  0AB8  13          	inc	de
2775  0AB9  7E          	ld	a, (hl)
2776  0ABA  F6 47       	or	a,0x47
2777  0ABC  12          	ld	(de), a
2778  0ABD  7E          	ld	a, (hl)
2779  0ABE  F6 47       	or	a,0x47
2780  0AC0  32 02 00    	ld	((_attrib + 0x0002)),a
2781  0AC3  03          	inc	bc
2782  0AC4  03          	inc	bc
2783  0AC5  03          	inc	bc
2784  0AC6  21 00 00    	ld	hl,_map_paper
2785  0AC9  7E          	ld	a, (hl)
2786  0ACA  F6 47       	or	a,0x47
2787  0ACC  02          	ld	(bc), a
2788  0ACD  01 00 00    	ld	bc,_attrib_hl+0
2789  0AD0  7E          	ld	a, (hl)
2790  0AD1  F6 33       	or	a,0x33
2791  0AD3  02          	ld	(bc), a
2792  0AD4  59          	ld	e, c
2793  0AD5  50          	ld	d, b
2794  0AD6  13          	inc	de
2795  0AD7  7E          	ld	a, (hl)
2796  0AD8  F6 30       	or	a,0x30
2797  0ADA  12          	ld	(de), a
2798  0ADB  7E          	ld	a, (hl)
2799  0ADC  F6 31       	or	a,0x31
2800  0ADE  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2801  0AE1  03          	inc	bc
2802  0AE2  03          	inc	bc
2803  0AE3  03          	inc	bc
2804  0AE4  21 00 00    	ld	hl,_map_paper
2805  0AE7  7E          	ld	a, (hl)
2806  0AE8  F6 30       	or	a,0x30
2807  0AEA  02          	ld	(bc), a
2808  0AEB  01 00 00    	ld	bc,_attrib_osd+0
2809  0AEE  7E          	ld	a, (hl)
2810  0AEF  F6 27       	or	a,0x27
2811  0AF1  02          	ld	(bc), a
2812  0AF2  59          	ld	e, c
2813  0AF3  50          	ld	d, b
2814  0AF4  13          	inc	de
2815  0AF5  7E          	ld	a, (hl)
2816  0AF6  F6 27       	or	a,0x27
2817  0AF8  12          	ld	(de), a
2818  0AF9  7E          	ld	a, (hl)
2819  0AFA  F6 27       	or	a,0x27
2820  0AFC  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2821  0AFF  03          	inc	bc
2822  0B00  03          	inc	bc
2823  0B01  03          	inc	bc
2824  0B02  21 00 00    	ld	hl,_map_paper
2825  0B05  7E          	ld	a, (hl)
2826  0B06  F6 27       	or	a,0x27
2827  0B08  02          	ld	(bc), a
2828  0B09  01 00 00    	ld	bc,_attrib_red+0
2829  0B0C  7E          	ld	a, (hl)
2830  0B0D  F6 17       	or	a,0x17
2831  0B0F  02          	ld	(bc), a
2832  0B10  59          	ld	e, c
2833  0B11  50          	ld	d, b
2834  0B12  13          	inc	de
2835  0B13  7E          	ld	a, (hl)
2836  0B14  F6 17       	or	a,0x17
2837  0B16  12          	ld	(de), a
2838  0B17  7E          	ld	a, (hl)
2839  0B18  F6 17       	or	a,0x17
2840  0B1A  32 02 00    	ld	((_attrib_red + 0x0002)),a
2841  0B1D  03          	inc	bc
2842  0B1E  03          	inc	bc
2843  0B1F  03          	inc	bc
2844  0B20  3A 00 00    	ld	a,(_map_paper)
2845  0B23  F6 17       	or	a,0x17
2846  0B25  02          	ld	(bc), a
2847  0B26  C9          	ret
2848  0B27              	SECTION code_compiler
2849  0B27              ;	---------------------------------
2850  0B27              ; Function game_page_map
2851  0B27              ; ---------------------------------
2852  0B27              _game_page_map:
2853  0B27  CD 00 00    	call	___sdcc_enter_ix
2854  0B2A  21 F2 FF    	ld	hl, -14
2855  0B2D  39          	add	hl, sp
2856  0B2E  F9          	ld	sp, hl
2857  0B2F  21 00 00    	ld	hl,_game_world
2858  0B32  4E          	ld	c, (hl)
2859  0B33  3A 00 00    	ld	a,(_scr_curr)
2860  0B36  DD 77 F3    	ld	(ix-13),a
2861  0B39  79          	ld	a, c
2862  0B3A  07          	rlca
2863  0B3B  07          	rlca
2864  0B3C  07          	rlca
2865  0B3D  07          	rlca
2866  0B3E  E6 F0       	and	a,0xf0
2867  0B40  47          	ld	b,a
2868  0B41  DD 86 F3    	add	a,(ix-13)
2869  0B44  DD 77 F2    	ld	(ix-14),a
2870  0B47  DD 36 F7 00 	ld	(ix-9),0x00
2871  0B4B  DD 36 F8 00 	ld	(ix-8),0x00
2872  0B4F  C5          	push	bc
2873  0B50  CD 00 00    	call	_spr_clear_scr
2874  0B53  C1          	pop	bc
2875  0B54  F3          	di
2876  0B55  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2877  0B58  36 16       	ld	(hl),0x16
2878  0B5A  C5          	push	bc
2879  0B5B  3E 16       	ld	a,0x16
2880  0B5D  01 FD 7F    	ld	bc,_IO_7FFD
2881  0B60  ED 79       	out	(c),a
2882  0B62  C1          	pop	bc
2883  0B63  DD 7E F3    	ld	a,(ix-13)
2884  0B66  3C          	inc	a
2885  0B67  20 12       	jr	NZ,l_game_page_map_00102
2886  0B69  11 00 00    	ld	de,_start_scr0+0
2887  0B6C  69          	ld	l,c
2888  0B6D  26 00       	ld	h,0x00
2889  0B6F  19          	add	hl, de
2890  0B70  7E          	ld	a, (hl)
2891  0B71  DD 77 F3    	ld	(ix-13),a
2892  0B74  78          	ld	a, b
2893  0B75  DD 86 F3    	add	a,(ix-13)
2894  0B78  DD 77 F2    	ld	(ix-14),a
2895  0B7B              l_game_page_map_00102:
2896  0B7B  01 00 00    	ld	bc,_paper0+0
2897  0B7E  DD 6E F2    	ld	l,(ix-14)
2898  0B81  26 00       	ld	h,0x00
2899  0B83  09          	add	hl, bc
2900  0B84  7E          	ld	a, (hl)
2901  0B85  DD 77 F4    	ld	(ix-12),a
2902  0B88  3E 10       	ld	a,0x10
2903  0B8A  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2904  0B8D  01 FD 7F    	ld	bc,_IO_7FFD
2905  0B90  ED 79       	out	(c),a
2906  0B92  3E 00       	ld	a,0x00
2907  0B94  DD 77 F5    	ld	(ix-11),a
2908  0B97  DD 77 F6    	ld	(ix-10),a
2909  0B9A  DD 77 F9    	ld	(ix-7),a
2910  0B9D  DD 77 FA    	ld	(ix-6),a
2911  0BA0              l_game_page_map_00103:
2912  0BA0  DD 4E F2    	ld	c,(ix-14)
2913  0BA3  06 00       	ld	b,0x00
2914  0BA5  DD 7E F9    	ld	a,(ix-7)
2915  0BA8  91          	sub	a, c
2916  0BA9  DD 7E FA    	ld	a,(ix-6)
2917  0BAC  98          	sbc	a, b
2918  0BAD  30 40       	jr	NC,l_game_page_map_00105
2919  0BAF  3E 16       	ld	a,0x16
2920  0BB1  01 FD 7F    	ld	bc,_IO_7FFD
2921  0BB4  ED 79       	out	(c),a
2922  0BB6  DD 6E F9    	ld	l,(ix-7)
2923  0BB9  DD 66 FA    	ld	h,(ix-6)
2924  0BBC  01 00 00    	ld	bc,_lenght0
2925  0BBF  09          	add	hl,bc
2926  0BC0  DD 75 FE    	ld	(ix-2),l
2927  0BC3  DD 74 FF    	ld	(ix-1),h
2928  0BC6  4E          	ld	c, (hl)
2929  0BC7  06 00       	ld	b,0x00
2930  0BC9  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2931  0BCC  36 10       	ld	(hl),0x10
2932  0BCE  C5          	push	bc
2933  0BCF  3E 10       	ld	a,0x10
2934  0BD1  01 FD 7F    	ld	bc,_IO_7FFD
2935  0BD4  ED 79       	out	(c),a
2936  0BD6  C1          	pop	bc
2937  0BD7  DD 7E F5    	ld	a,(ix-11)
2938  0BDA  81          	add	a, c
2939  0BDB  DD 77 F5    	ld	(ix-11),a
2940  0BDE  DD 7E F6    	ld	a,(ix-10)
2941  0BE1  88          	adc	a, b
2942  0BE2  DD 77 F6    	ld	(ix-10),a
2943  0BE5  DD 34 F9    	inc	(ix-7)
2944  0BE8  20 B6       	jr	NZ,l_game_page_map_00103
2945  0BEA  DD 34 FA    	inc	(ix-6)
2946  0BED  18 B1       	jr	l_game_page_map_00103
2947  0BEF              l_game_page_map_00105:
2948  0BEF  01 00 00    	ld	bc,0x0000
2949  0BF2              l_game_page_map_00118:
2950  0BF2  C5          	push	bc
2951  0BF3  3E 16       	ld	a,0x16
2952  0BF5  01 FD 7F    	ld	bc,_IO_7FFD
2953  0BF8  ED 79       	out	(c),a
2954  0BFA  C1          	pop	bc
2955  0BFB  DD 6E F5    	ld	l,(ix-11)
2956  0BFE  DD 66 F6    	ld	h,(ix-10)
2957  0C01  09          	add	hl,bc
2958  0C02  EB          	ex	de,hl
2959  0C03  21 00 00    	ld	hl,_world0
2960  0C06  19          	add	hl, de
2961  0C07  7E          	ld	a, (hl)
2962  0C08  DD 77 FD    	ld	(ix-3),a
2963  0C0B  13          	inc	de
2964  0C0C  21 00 00    	ld	hl,_world0
2965  0C0F  19          	add	hl, de
2966  0C10  7E          	ld	a, (hl)
2967  0C11  DD 77 FC    	ld	(ix-4),a
2968  0C14  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2969  0C17  36 10       	ld	(hl),0x10
2970  0C19  C5          	push	bc
2971  0C1A  3E 10       	ld	a,0x10
2972  0C1C  01 FD 7F    	ld	bc,_IO_7FFD
2973  0C1F  ED 79       	out	(c),a
2974  0C21  C1          	pop	bc
2975  0C22  DD 7E FD    	ld	a,(ix-3)
2976  0C25  D6 80       	sub	a,0x80
2977  0C27  30 1A       	jr	NC,l_game_page_map_00110
2978  0C29  3E 00       	ld	a, +((_scr_map) & 0xFF)
2979  0C2B  DD 86 F7    	add	a,(ix-9)
2980  0C2E  5F          	ld	e, a
2981  0C2F  3E 00       	ld	a, +((_scr_map) / 256)
2982  0C31  DD 8E F8    	adc	a,(ix-8)
2983  0C34  57          	ld	d, a
2984  0C35  DD 7E FD    	ld	a,(ix-3)
2985  0C38  12          	ld	(de), a
2986  0C39  DD 34 F7    	inc	(ix-9)
2987  0C3C  20 49       	jr	NZ,l_game_page_map_00111
2988  0C3E  DD 34 F8    	inc	(ix-8)
2989  0C41  18 44       	jr	l_game_page_map_00111
2990  0C43              l_game_page_map_00110:
2991  0C43  DD 7E FD    	ld	a,(ix-3)
2992  0C46  C6 80       	add	a,0x80
2993  0C48  DD 77 FB    	ld	(ix-5),a
2994  0C4B  DD 5E F7    	ld	e,(ix-9)
2995  0C4E  DD 56 F8    	ld	d,(ix-8)
2996  0C51  DD 36 F9 00 	ld	(ix-7),0x00
2997  0C55  DD 36 FA 00 	ld	(ix-6),0x00
2998  0C59              l_game_page_map_00116:
2999  0C59  DD 6E FB    	ld	l,(ix-5)
3000  0C5C  26 00       	ld	h,0x00
3001  0C5E  DD 7E F9    	ld	a,(ix-7)
3002  0C61  95          	sub	a, l
3003  0C62  DD 7E FA    	ld	a,(ix-6)
3004  0C65  9C          	sbc	a, h
3005  0C66  30 18       	jr	NC,l_game_page_map_00132
3006  0C68  21 00 00    	ld	hl,_scr_map
3007  0C6B  19          	add	hl, de
3008  0C6C  DD 7E FC    	ld	a,(ix-4)
3009  0C6F  77          	ld	(hl), a
3010  0C70  13          	inc	de
3011  0C71  7A          	ld	a, d
3012  0C72  D6 02       	sub	a,0x02
3013  0C74  30 0A       	jr	NC,l_game_page_map_00132
3014  0C76  DD 34 F9    	inc	(ix-7)
3015  0C79  20 DE       	jr	NZ,l_game_page_map_00116
3016  0C7B  DD 34 FA    	inc	(ix-6)
3017  0C7E  18 D9       	jr	l_game_page_map_00116
3018  0C80              l_game_page_map_00132:
3019  0C80  DD 73 F7    	ld	(ix-9),e
3020  0C83  DD 72 F8    	ld	(ix-8),d
3021  0C86  03          	inc	bc
3022  0C87              l_game_page_map_00111:
3023  0C87  DD 7E F8    	ld	a,(ix-8)
3024  0C8A  D6 02       	sub	a,0x02
3025  0C8C  30 07       	jr	NC,l_game_page_map_00114
3026  0C8E  03          	inc	bc
3027  0C8F  78          	ld	a, b
3028  0C90  D6 02       	sub	a,0x02
3029  0C92  DA F2 0B    	jp	C, l_game_page_map_00118
3030  0C95              l_game_page_map_00114:
3031  0C95  DD 7E F3    	ld	a,(ix-13)
3032  0C98  32 00 00    	ld	(_scr_curr),a
3033  0C9B  DD 7E F4    	ld	a,(ix-12)
3034  0C9E  32 00 00    	ld	(_map_paper),a
3035  0CA1  FB          	ei
3036  0CA2  DD F9       	ld	sp, ix
3037  0CA4  DD E1       	pop	ix
3038  0CA6  C9          	ret
3039  0CA7              	SECTION IGNORE
3040  0000              
