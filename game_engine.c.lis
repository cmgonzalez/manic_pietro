1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_print_lives
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_tick
207   0000              	GLOBAL _game_borders
208   0000              	GLOBAL _game_loop
209   0000              	GLOBAL _game_fps
210   0000              	GLOBAL _game_draw_map
211   0000              	GLOBAL _game_cell_paint_index
212   0000              	GLOBAL _game_cell_paint
213   0000              	GLOBAL _game_print_footer
214   0000              	GLOBAL _game_print_score
215   0000              	GLOBAL _game_cls
216   0000              	GLOBAL _game_update_stats
217   0000              	GLOBAL _game_start_timer
218   0000              	GLOBAL _game_anim_air
219   0000              	GLOBAL _game_round_init
220   0000              	GLOBAL _game_print_header
221   0000              	GLOBAL _game_check_map
222   0000              	GLOBAL _game_check_cell
223   0000              	GLOBAL _game_paint_attrib
224   0000              	GLOBAL _game_colour_message
225   0000              	GLOBAL _game_check_time
226   0000              	GLOBAL _game_key_paint
227   0000              	GLOBAL _game_rotate_attrib_osd
228   0000              	GLOBAL _game_attribs
229   0000              	GLOBAL _game_page_map
230   0000              	GLOBAL _game_flash_exit
231   0000              	GLOBAL _game_copy_tile_std
232   0000              	GLOBAL _game_copy_tile
233   0000              	GLOBAL _reverse
234   0000              ;--------------------------------------------------------
235   0000              ; Externals used
236   0000              ;--------------------------------------------------------
237   0000              	GLOBAL _ffsll_callee
238   0000              	GLOBAL _ffsll
239   0000              	GLOBAL _strxfrm_callee
240   0000              	GLOBAL _strxfrm
241   0000              	GLOBAL _strupr_fastcall
242   0000              	GLOBAL _strupr
243   0000              	GLOBAL _strtok_r_callee
244   0000              	GLOBAL _strtok_r
245   0000              	GLOBAL _strtok_callee
246   0000              	GLOBAL _strtok
247   0000              	GLOBAL _strstrip_fastcall
248   0000              	GLOBAL _strstrip
249   0000              	GLOBAL _strstr_callee
250   0000              	GLOBAL _strstr
251   0000              	GLOBAL _strspn_callee
252   0000              	GLOBAL _strspn
253   0000              	GLOBAL _strsep_callee
254   0000              	GLOBAL _strsep
255   0000              	GLOBAL _strrstrip_fastcall
256   0000              	GLOBAL _strrstrip
257   0000              	GLOBAL _strrstr_callee
258   0000              	GLOBAL _strrstr
259   0000              	GLOBAL _strrspn_callee
260   0000              	GLOBAL _strrspn
261   0000              	GLOBAL _strrev_fastcall
262   0000              	GLOBAL _strrev
263   0000              	GLOBAL _strrcspn_callee
264   0000              	GLOBAL _strrcspn
265   0000              	GLOBAL _strrchr_callee
266   0000              	GLOBAL _strrchr
267   0000              	GLOBAL _strpbrk_callee
268   0000              	GLOBAL _strpbrk
269   0000              	GLOBAL _strnlen_callee
270   0000              	GLOBAL _strnlen
271   0000              	GLOBAL _strnicmp_callee
272   0000              	GLOBAL _strnicmp
273   0000              	GLOBAL _strndup_callee
274   0000              	GLOBAL _strndup
275   0000              	GLOBAL _strncpy_callee
276   0000              	GLOBAL _strncpy
277   0000              	GLOBAL _strncmp_callee
278   0000              	GLOBAL _strncmp
279   0000              	GLOBAL _strnchr_callee
280   0000              	GLOBAL _strnchr
281   0000              	GLOBAL _strncat_callee
282   0000              	GLOBAL _strncat
283   0000              	GLOBAL _strncasecmp_callee
284   0000              	GLOBAL _strncasecmp
285   0000              	GLOBAL _strlwr_fastcall
286   0000              	GLOBAL _strlwr
287   0000              	GLOBAL _strlen_fastcall
288   0000              	GLOBAL _strlen
289   0000              	GLOBAL _strlcpy_callee
290   0000              	GLOBAL _strlcpy
291   0000              	GLOBAL _strlcat_callee
292   0000              	GLOBAL _strlcat
293   0000              	GLOBAL _stricmp_callee
294   0000              	GLOBAL _stricmp
295   0000              	GLOBAL _strerror_fastcall
296   0000              	GLOBAL _strerror
297   0000              	GLOBAL _strdup_fastcall
298   0000              	GLOBAL _strdup
299   0000              	GLOBAL _strcspn_callee
300   0000              	GLOBAL _strcspn
301   0000              	GLOBAL _strcpy_callee
302   0000              	GLOBAL _strcpy
303   0000              	GLOBAL _strcoll_callee
304   0000              	GLOBAL _strcoll
305   0000              	GLOBAL _strcmp_callee
306   0000              	GLOBAL _strcmp
307   0000              	GLOBAL _strchrnul_callee
308   0000              	GLOBAL _strchrnul
309   0000              	GLOBAL _strchr_callee
310   0000              	GLOBAL _strchr
311   0000              	GLOBAL _strcat_callee
312   0000              	GLOBAL _strcat
313   0000              	GLOBAL _strcasecmp_callee
314   0000              	GLOBAL _strcasecmp
315   0000              	GLOBAL _stpncpy_callee
316   0000              	GLOBAL _stpncpy
317   0000              	GLOBAL _stpcpy_callee
318   0000              	GLOBAL _stpcpy
319   0000              	GLOBAL _memswap_callee
320   0000              	GLOBAL _memswap
321   0000              	GLOBAL _memset_callee
322   0000              	GLOBAL _memset
323   0000              	GLOBAL _memrchr_callee
324   0000              	GLOBAL _memrchr
325   0000              	GLOBAL _memmove_callee
326   0000              	GLOBAL _memmove
327   0000              	GLOBAL _memmem_callee
328   0000              	GLOBAL _memmem
329   0000              	GLOBAL _memcpy_callee
330   0000              	GLOBAL _memcpy
331   0000              	GLOBAL _memcmp_callee
332   0000              	GLOBAL _memcmp
333   0000              	GLOBAL _memchr_callee
334   0000              	GLOBAL _memchr
335   0000              	GLOBAL _memccpy_callee
336   0000              	GLOBAL _memccpy
337   0000              	GLOBAL _ffsl_fastcall
338   0000              	GLOBAL _ffsl
339   0000              	GLOBAL _ffs_fastcall
340   0000              	GLOBAL _ffs
341   0000              	GLOBAL __strrstrip__fastcall
342   0000              	GLOBAL __strrstrip_
343   0000              	GLOBAL __memupr__callee
344   0000              	GLOBAL __memupr_
345   0000              	GLOBAL __memstrcpy__callee
346   0000              	GLOBAL __memstrcpy_
347   0000              	GLOBAL __memlwr__callee
348   0000              	GLOBAL __memlwr_
349   0000              	GLOBAL _rawmemchr_callee
350   0000              	GLOBAL _rawmemchr
351   0000              	GLOBAL _strnset_callee
352   0000              	GLOBAL _strnset
353   0000              	GLOBAL _strset_callee
354   0000              	GLOBAL _strset
355   0000              	GLOBAL _rindex_callee
356   0000              	GLOBAL _rindex
357   0000              	GLOBAL _index_callee
358   0000              	GLOBAL _index
359   0000              	GLOBAL _bzero_callee
360   0000              	GLOBAL _bzero
361   0000              	GLOBAL _bcopy_callee
362   0000              	GLOBAL _bcopy
363   0000              	GLOBAL _bcmp_callee
364   0000              	GLOBAL _bcmp
365   0000              	GLOBAL _ulltoa_callee
366   0000              	GLOBAL _ulltoa
367   0000              	GLOBAL _strtoull_callee
368   0000              	GLOBAL _strtoull
369   0000              	GLOBAL _strtoll_callee
370   0000              	GLOBAL _strtoll
371   0000              	GLOBAL _lltoa_callee
372   0000              	GLOBAL _lltoa
373   0000              	GLOBAL _llabs_callee
374   0000              	GLOBAL _llabs
375   0000              	GLOBAL __lldivu__callee
376   0000              	GLOBAL __lldivu_
377   0000              	GLOBAL __lldiv__callee
378   0000              	GLOBAL __lldiv_
379   0000              	GLOBAL _atoll_callee
380   0000              	GLOBAL _atoll
381   0000              	GLOBAL _realloc_unlocked_callee
382   0000              	GLOBAL _realloc_unlocked
383   0000              	GLOBAL _malloc_unlocked_fastcall
384   0000              	GLOBAL _malloc_unlocked
385   0000              	GLOBAL _free_unlocked_fastcall
386   0000              	GLOBAL _free_unlocked
387   0000              	GLOBAL _calloc_unlocked_callee
388   0000              	GLOBAL _calloc_unlocked
389   0000              	GLOBAL _aligned_alloc_unlocked_callee
390   0000              	GLOBAL _aligned_alloc_unlocked
391   0000              	GLOBAL _realloc_callee
392   0000              	GLOBAL _realloc
393   0000              	GLOBAL _malloc_fastcall
394   0000              	GLOBAL _malloc
395   0000              	GLOBAL _free_fastcall
396   0000              	GLOBAL _free
397   0000              	GLOBAL _calloc_callee
398   0000              	GLOBAL _calloc
399   0000              	GLOBAL _aligned_alloc_callee
400   0000              	GLOBAL _aligned_alloc
401   0000              	GLOBAL _utoa_callee
402   0000              	GLOBAL _utoa
403   0000              	GLOBAL _ultoa_callee
404   0000              	GLOBAL _ultoa
405   0000              	GLOBAL _system_fastcall
406   0000              	GLOBAL _system
407   0000              	GLOBAL _strtoul_callee
408   0000              	GLOBAL _strtoul
409   0000              	GLOBAL _strtol_callee
410   0000              	GLOBAL _strtol
411   0000              	GLOBAL _strtof_callee
412   0000              	GLOBAL _strtof
413   0000              	GLOBAL _strtod_callee
414   0000              	GLOBAL _strtod
415   0000              	GLOBAL _srand_fastcall
416   0000              	GLOBAL _srand
417   0000              	GLOBAL _rand
418   0000              	GLOBAL _quick_exit_fastcall
419   0000              	GLOBAL _quick_exit
420   0000              	GLOBAL _qsort_callee
421   0000              	GLOBAL _qsort
422   0000              	GLOBAL _ltoa_callee
423   0000              	GLOBAL _ltoa
424   0000              	GLOBAL _labs_fastcall
425   0000              	GLOBAL _labs
426   0000              	GLOBAL _itoa_callee
427   0000              	GLOBAL _itoa
428   0000              	GLOBAL _ftoh_callee
429   0000              	GLOBAL _ftoh
430   0000              	GLOBAL _ftog_callee
431   0000              	GLOBAL _ftog
432   0000              	GLOBAL _ftoe_callee
433   0000              	GLOBAL _ftoe
434   0000              	GLOBAL _ftoa_callee
435   0000              	GLOBAL _ftoa
436   0000              	GLOBAL _exit_fastcall
437   0000              	GLOBAL _exit
438   0000              	GLOBAL _dtoh_callee
439   0000              	GLOBAL _dtoh
440   0000              	GLOBAL _dtog_callee
441   0000              	GLOBAL _dtog
442   0000              	GLOBAL _dtoe_callee
443   0000              	GLOBAL _dtoe
444   0000              	GLOBAL _dtoa_callee
445   0000              	GLOBAL _dtoa
446   0000              	GLOBAL _bsearch_callee
447   0000              	GLOBAL _bsearch
448   0000              	GLOBAL _atol_fastcall
449   0000              	GLOBAL _atol
450   0000              	GLOBAL _atoi_fastcall
451   0000              	GLOBAL _atoi
452   0000              	GLOBAL _atof_fastcall
453   0000              	GLOBAL _atof
454   0000              	GLOBAL _atexit_fastcall
455   0000              	GLOBAL _atexit
456   0000              	GLOBAL _at_quick_exit_fastcall
457   0000              	GLOBAL _at_quick_exit
458   0000              	GLOBAL _abs_fastcall
459   0000              	GLOBAL _abs
460   0000              	GLOBAL _abort
461   0000              	GLOBAL __strtou__callee
462   0000              	GLOBAL __strtou_
463   0000              	GLOBAL __strtoi__callee
464   0000              	GLOBAL __strtoi_
465   0000              	GLOBAL __random_uniform_xor_8__fastcall
466   0000              	GLOBAL __random_uniform_xor_8_
467   0000              	GLOBAL __random_uniform_xor_32__fastcall
468   0000              	GLOBAL __random_uniform_xor_32_
469   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
470   0000              	GLOBAL __random_uniform_cmwc_8_
471   0000              	GLOBAL __shellsort__callee
472   0000              	GLOBAL __shellsort_
473   0000              	GLOBAL __quicksort__callee
474   0000              	GLOBAL __quicksort_
475   0000              	GLOBAL __insertion_sort__callee
476   0000              	GLOBAL __insertion_sort_
477   0000              	GLOBAL __ldivu__callee
478   0000              	GLOBAL __ldivu_
479   0000              	GLOBAL __ldiv__callee
480   0000              	GLOBAL __ldiv_
481   0000              	GLOBAL __divu__callee
482   0000              	GLOBAL __divu_
483   0000              	GLOBAL __div__callee
484   0000              	GLOBAL __div_
485   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
486   0000              	GLOBAL _NIRVANAP_drawTW_raw
487   0000              	GLOBAL _NIRVANAP_drawTW_callee
488   0000              	GLOBAL _NIRVANAP_drawTW
489   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
490   0000              	GLOBAL _NIRVANAP_drawW_raw
491   0000              	GLOBAL _NIRVANAP_drawW_callee
492   0000              	GLOBAL _NIRVANAP_drawW
493   0000              	GLOBAL _NIRVANAP_spriteT_callee
494   0000              	GLOBAL _NIRVANAP_spriteT
495   0000              	GLOBAL _NIRVANAP_fillC_callee
496   0000              	GLOBAL _NIRVANAP_fillC
497   0000              	GLOBAL _NIRVANAP_readC_callee
498   0000              	GLOBAL _NIRVANAP_readC
499   0000              	GLOBAL _NIRVANAP_paintC_callee
500   0000              	GLOBAL _NIRVANAP_paintC
501   0000              	GLOBAL _NIRVANAP_printC_callee
502   0000              	GLOBAL _NIRVANAP_printC
503   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
504   0000              	GLOBAL _NIRVANAP_fillT_raw
505   0000              	GLOBAL _NIRVANAP_fillT_callee
506   0000              	GLOBAL _NIRVANAP_fillT
507   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
508   0000              	GLOBAL _NIRVANAP_drawT_raw
509   0000              	GLOBAL _NIRVANAP_drawT_callee
510   0000              	GLOBAL _NIRVANAP_drawT
511   0000              	GLOBAL _NIRVANAP_stop
512   0000              	GLOBAL _NIRVANAP_start
513   0000              	GLOBAL _zx_print_str
514   0000              	GLOBAL _zx_print_int
515   0000              	GLOBAL _zx_print_chr
516   0000              	GLOBAL _zx_isr
517   0000              	GLOBAL _z80_otdr_callee
518   0000              	GLOBAL _z80_otdr
519   0000              	GLOBAL _z80_otir_callee
520   0000              	GLOBAL _z80_otir
521   0000              	GLOBAL _z80_outp_callee
522   0000              	GLOBAL _z80_outp
523   0000              	GLOBAL _z80_indr_callee
524   0000              	GLOBAL _z80_indr
525   0000              	GLOBAL _z80_inir_callee
526   0000              	GLOBAL _z80_inir
527   0000              	GLOBAL _z80_inp_fastcall
528   0000              	GLOBAL _z80_inp
529   0000              	GLOBAL _z80_set_int_state_fastcall
530   0000              	GLOBAL _z80_set_int_state
531   0000              	GLOBAL _z80_get_int_state
532   0000              	GLOBAL _z80_delay_tstate_fastcall
533   0000              	GLOBAL _z80_delay_tstate
534   0000              	GLOBAL _z80_delay_ms_fastcall
535   0000              	GLOBAL _z80_delay_ms
536   0000              	GLOBAL _im2_remove_generic_callback_callee
537   0000              	GLOBAL _im2_remove_generic_callback
538   0000              	GLOBAL _im2_prepend_generic_callback_callee
539   0000              	GLOBAL _im2_prepend_generic_callback
540   0000              	GLOBAL _im2_append_generic_callback_callee
541   0000              	GLOBAL _im2_append_generic_callback
542   0000              	GLOBAL _im2_create_generic_isr_8080_callee
543   0000              	GLOBAL _im2_create_generic_isr_8080
544   0000              	GLOBAL _im2_create_generic_isr_callee
545   0000              	GLOBAL _im2_create_generic_isr
546   0000              	GLOBAL _im2_install_isr_callee
547   0000              	GLOBAL _im2_install_isr
548   0000              	GLOBAL _im2_init_fastcall
549   0000              	GLOBAL _im2_init
550   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
551   0000              	GLOBAL _intrinsic_swap_word_32
552   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
553   0000              	GLOBAL _intrinsic_swap_endian_32
554   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
555   0000              	GLOBAL _intrinsic_swap_endian_16
556   0000              	GLOBAL _intrinsic_return_de
557   0000              	GLOBAL _intrinsic_return_bc
558   0000              	GLOBAL _intrinsic_exx
559   0000              	GLOBAL _intrinsic_ex_de_hl
560   0000              	GLOBAL _intrinsic_nop
561   0000              	GLOBAL _intrinsic_im_2
562   0000              	GLOBAL _intrinsic_im_1
563   0000              	GLOBAL _intrinsic_im_0
564   0000              	GLOBAL _intrinsic_retn
565   0000              	GLOBAL _intrinsic_reti
566   0000              	GLOBAL _intrinsic_halt
567   0000              	GLOBAL _intrinsic_ei
568   0000              	GLOBAL _intrinsic_di
569   0000              	GLOBAL _intrinsic_stub
570   0000              	GLOBAL _intrinsic_ini
571   0000              	GLOBAL _intrinsic_outi
572   0000              	GLOBAL _intrinsic_ldi
573   0000              	GLOBAL _zx_pattern_fill_callee
574   0000              	GLOBAL _zx_pattern_fill
575   0000              	GLOBAL _zx_saddrpup_fastcall
576   0000              	GLOBAL _zx_saddrpup
577   0000              	GLOBAL _zx_saddrpright_callee
578   0000              	GLOBAL _zx_saddrpright
579   0000              	GLOBAL _zx_saddrpleft_callee
580   0000              	GLOBAL _zx_saddrpleft
581   0000              	GLOBAL _zx_saddrpdown_fastcall
582   0000              	GLOBAL _zx_saddrpdown
583   0000              	GLOBAL _zx_saddrcup_fastcall
584   0000              	GLOBAL _zx_saddrcup
585   0000              	GLOBAL _zx_saddrcright_fastcall
586   0000              	GLOBAL _zx_saddrcright
587   0000              	GLOBAL _zx_saddrcleft_fastcall
588   0000              	GLOBAL _zx_saddrcleft
589   0000              	GLOBAL _zx_saddrcdown_fastcall
590   0000              	GLOBAL _zx_saddrcdown
591   0000              	GLOBAL _zx_saddr2py_fastcall
592   0000              	GLOBAL _zx_saddr2py
593   0000              	GLOBAL _zx_saddr2px_fastcall
594   0000              	GLOBAL _zx_saddr2px
595   0000              	GLOBAL _zx_saddr2cy_fastcall
596   0000              	GLOBAL _zx_saddr2cy
597   0000              	GLOBAL _zx_saddr2cx_fastcall
598   0000              	GLOBAL _zx_saddr2cx
599   0000              	GLOBAL _zx_saddr2aaddr_fastcall
600   0000              	GLOBAL _zx_saddr2aaddr
601   0000              	GLOBAL _zx_py2saddr_fastcall
602   0000              	GLOBAL _zx_py2saddr
603   0000              	GLOBAL _zx_py2aaddr_fastcall
604   0000              	GLOBAL _zx_py2aaddr
605   0000              	GLOBAL _zx_pxy2saddr_callee
606   0000              	GLOBAL _zx_pxy2saddr
607   0000              	GLOBAL _zx_pxy2aaddr_callee
608   0000              	GLOBAL _zx_pxy2aaddr
609   0000              	GLOBAL _zx_px2bitmask_fastcall
610   0000              	GLOBAL _zx_px2bitmask
611   0000              	GLOBAL _zx_cy2saddr_fastcall
612   0000              	GLOBAL _zx_cy2saddr
613   0000              	GLOBAL _zx_cy2aaddr_fastcall
614   0000              	GLOBAL _zx_cy2aaddr
615   0000              	GLOBAL _zx_cxy2saddr_callee
616   0000              	GLOBAL _zx_cxy2saddr
617   0000              	GLOBAL _zx_cxy2aaddr_callee
618   0000              	GLOBAL _zx_cxy2aaddr
619   0000              	GLOBAL _zx_bitmask2px_fastcall
620   0000              	GLOBAL _zx_bitmask2px
621   0000              	GLOBAL _zx_aaddrcup_fastcall
622   0000              	GLOBAL _zx_aaddrcup
623   0000              	GLOBAL _zx_aaddrcright_fastcall
624   0000              	GLOBAL _zx_aaddrcright
625   0000              	GLOBAL _zx_aaddrcleft_fastcall
626   0000              	GLOBAL _zx_aaddrcleft
627   0000              	GLOBAL _zx_aaddrcdown_fastcall
628   0000              	GLOBAL _zx_aaddrcdown
629   0000              	GLOBAL _zx_aaddr2saddr_fastcall
630   0000              	GLOBAL _zx_aaddr2saddr
631   0000              	GLOBAL _zx_aaddr2py_fastcall
632   0000              	GLOBAL _zx_aaddr2py
633   0000              	GLOBAL _zx_aaddr2px_fastcall
634   0000              	GLOBAL _zx_aaddr2px
635   0000              	GLOBAL _zx_aaddr2cy_fastcall
636   0000              	GLOBAL _zx_aaddr2cy
637   0000              	GLOBAL _zx_aaddr2cx_fastcall
638   0000              	GLOBAL _zx_aaddr2cx
639   0000              	GLOBAL _zx_visit_wc_pix_callee
640   0000              	GLOBAL _zx_visit_wc_pix
641   0000              	GLOBAL _zx_visit_wc_attr_callee
642   0000              	GLOBAL _zx_visit_wc_attr
643   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
644   0000              	GLOBAL _zx_scroll_wc_up_pix
645   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
646   0000              	GLOBAL _zx_scroll_wc_up_attr
647   0000              	GLOBAL _zx_scroll_wc_up_callee
648   0000              	GLOBAL _zx_scroll_wc_up
649   0000              	GLOBAL _zx_scroll_up_pix_callee
650   0000              	GLOBAL _zx_scroll_up_pix
651   0000              	GLOBAL _zx_scroll_up_attr_callee
652   0000              	GLOBAL _zx_scroll_up_attr
653   0000              	GLOBAL _zx_scroll_up_callee
654   0000              	GLOBAL _zx_scroll_up
655   0000              	GLOBAL _zx_cls_wc_pix_callee
656   0000              	GLOBAL _zx_cls_wc_pix
657   0000              	GLOBAL _zx_cls_wc_attr_callee
658   0000              	GLOBAL _zx_cls_wc_attr
659   0000              	GLOBAL _zx_cls_wc_callee
660   0000              	GLOBAL _zx_cls_wc
661   0000              	GLOBAL _zx_cls_pix_fastcall
662   0000              	GLOBAL _zx_cls_pix
663   0000              	GLOBAL _zx_cls_attr_fastcall
664   0000              	GLOBAL _zx_cls_attr
665   0000              	GLOBAL _zx_cls_fastcall
666   0000              	GLOBAL _zx_cls
667   0000              	GLOBAL _zx_border_fastcall
668   0000              	GLOBAL _zx_border
669   0000              	GLOBAL _zx_tape_verify_block_callee
670   0000              	GLOBAL _zx_tape_verify_block
671   0000              	GLOBAL _zx_tape_save_block_callee
672   0000              	GLOBAL _zx_tape_save_block
673   0000              	GLOBAL _zx_tape_load_block_callee
674   0000              	GLOBAL _zx_tape_load_block
675   0000              	GLOBAL _spr_draw8
676   0000              	GLOBAL _spr_destroy
677   0000              	GLOBAL _spr_unflattenP1
678   0000              	GLOBAL _spr_flatten
679   0000              	GLOBAL _spr_btile_paint_back
680   0000              	GLOBAL _spr_turn_horizontal
681   0000              	GLOBAL _spr_play_anim
682   0000              	GLOBAL _spr_add_anim
683   0000              	GLOBAL _spr_clear_scr
684   0000              	GLOBAL _spr_back_repaint
685   0000              	GLOBAL _spr_get_tile_dir
686   0000              	GLOBAL _spr_get_tile
687   0000              	GLOBAL _spr_paint_player
688   0000              	GLOBAL _spr_paint
689   0000              	GLOBAL _spr_move_left
690   0000              	GLOBAL _spr_move_right
691   0000              	GLOBAL _spr_move_left_f
692   0000              	GLOBAL _spr_move_right_f
693   0000              	GLOBAL _spr_move_horizontal
694   0000              	GLOBAL _spr_move_down_f
695   0000              	GLOBAL _spr_move_up_f
696   0000              	GLOBAL _spr_move_down
697   0000              	GLOBAL _spr_move_up
698   0000              	GLOBAL _spr_set_right
699   0000              	GLOBAL _spr_set_left
700   0000              	GLOBAL _spr_set_down
701   0000              	GLOBAL _spr_set_up
702   0000              	GLOBAL _spr_calc_index
703   0000              	GLOBAL _spr_chktime
704   0000              	GLOBAL _player_pick
705   0000              	GLOBAL _player_use_floor
706   0000              	GLOBAL _player_lost_life
707   0000              	GLOBAL _player_move_jump
708   0000              	GLOBAL _player_tile
709   0000              	GLOBAL _player_pick_extra
710   0000              	GLOBAL _player_pick_exit
711   0000              	GLOBAL _player_pick_deadly
712   0000              	GLOBAL _player_pick_item
713   0000              	GLOBAL _player_check_ceil
714   0000              	GLOBAL _player_check_floor
715   0000              	GLOBAL _player_score_add
716   0000              	GLOBAL _player_move_walk
717   0000              	GLOBAL _player_turn
718   0000              	GLOBAL _player_move
719   0000              	GLOBAL _player_check_input
720   0000              	GLOBAL _player_init
721   0000              	GLOBAL _menu_define_key
722   0000              	GLOBAL _menu_redefine
723   0000              	GLOBAL _menu_main_print
724   0000              	GLOBAL _menu_main
725   0000              	GLOBAL _game_fill_row
726   0000              	GLOBAL _enemy_kill
727   0000              	GLOBAL _enemy_init
728   0000              	GLOBAL _enemy_move
729   0000              	GLOBAL _enemy_turn
730   0000              	GLOBAL _enemy_static
731   0000              	GLOBAL _enemy_walk
732   0000              	GLOBAL _enemy_horizontal
733   0000              	GLOBAL _enemy_vertical
734   0000              	GLOBAL _ay_reset
735   0000              	GLOBAL _ay_song_stop
736   0000              	GLOBAL _ay_song_play
737   0000              	GLOBAL _ay_fx_stop
738   0000              	GLOBAL _ay_fx_play
739   0000              	GLOBAL _ay_is_playing
740   0000              	GLOBAL _audio_levelup
741   0000              	GLOBAL _audio_menu
742   0000              	GLOBAL _audio_game_end
743   0000              	GLOBAL _audio_level_complete
744   0000              	GLOBAL _audio_level_start
745   0000              	GLOBAL _audio_puerta
746   0000              	GLOBAL _audio_coin
747   0000              	GLOBAL _audio_salto
748   0000              	GLOBAL _audio_explosion
749   0000              	GLOBAL _audio_ingame
750   0000              	GLOBAL _test_func
751   0000              	GLOBAL _test_proc
752   0000              	GLOBAL _in_mouse_kempston_wheel_delta
753   0000              	GLOBAL _in_mouse_kempston_wheel
754   0000              	GLOBAL _in_mouse_kempston_callee
755   0000              	GLOBAL _in_mouse_kempston
756   0000              	GLOBAL _in_mouse_kempston_setpos_callee
757   0000              	GLOBAL _in_mouse_kempston_setpos
758   0000              	GLOBAL _in_mouse_kempston_reset
759   0000              	GLOBAL _in_mouse_kempston_init
760   0000              	GLOBAL _in_mouse_amx_wheel_delta
761   0000              	GLOBAL _in_mouse_amx_wheel
762   0000              	GLOBAL _in_mouse_amx_callee
763   0000              	GLOBAL _in_mouse_amx
764   0000              	GLOBAL _in_mouse_amx_setpos_callee
765   0000              	GLOBAL _in_mouse_amx_setpos
766   0000              	GLOBAL _in_mouse_amx_reset
767   0000              	GLOBAL _in_mouse_amx_init_callee
768   0000              	GLOBAL _in_mouse_amx_init
769   0000              	GLOBAL _in_stick_sinclair2
770   0000              	GLOBAL _in_stick_sinclair1
771   0000              	GLOBAL _in_stick_kempston
772   0000              	GLOBAL _in_stick_fuller
773   0000              	GLOBAL _in_stick_cursor
774   0000              	GLOBAL _in_stick_keyboard_fastcall
775   0000              	GLOBAL _in_stick_keyboard
776   0000              	GLOBAL _in_wait_nokey
777   0000              	GLOBAL _in_wait_key
778   0000              	GLOBAL _in_test_key
779   0000              	GLOBAL _in_pause_fastcall
780   0000              	GLOBAL _in_pause
781   0000              	GLOBAL _in_key_scancode_fastcall
782   0000              	GLOBAL _in_key_scancode
783   0000              	GLOBAL _in_key_pressed_fastcall
784   0000              	GLOBAL _in_key_pressed
785   0000              	GLOBAL _in_inkey
786   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
787   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
788   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
789   0000              	GLOBAL _NIRVANAP_HOLE
790   0000              	GLOBAL _NIRVANAP_ISR_HOOK
791   0000              	GLOBAL _air_curr_byte
792   0000              	GLOBAL _spr_init_cout
793   0000              	GLOBAL _spr_init_cin
794   0000              	GLOBAL _scan_map
795   0000              	GLOBAL _map_paper_last
796   0000              	GLOBAL _map_paper_clr
797   0000              	GLOBAL _map_paper
798   0000              	GLOBAL _map_border
799   0000              	GLOBAL _anim_count
800   0000              	GLOBAL _anim_loop
801   0000              	GLOBAL _anim_end
802   0000              	GLOBAL _anim_int
803   0000              	GLOBAL _anim_tile
804   0000              	GLOBAL _anim_col
805   0000              	GLOBAL _anim_lin
806   0000              	GLOBAL _map_heigth
807   0000              	GLOBAL _map_width
808   0000              	GLOBAL _scr_curr
809   0000              	GLOBAL _scr_map
810   0000              	GLOBAL _spr_kind
811   0000              	GLOBAL _spr_frames
812   0000              	GLOBAL _spr_speed
813   0000              	GLOBAL _spr_tile
814   0000              	GLOBAL _screen_ink
815   0000              	GLOBAL _screen_paper
816   0000              	GLOBAL _game_start_scr
817   0000              	GLOBAL _game_score_top
818   0000              	GLOBAL _player_coins
819   0000              	GLOBAL _player_lives
820   0000              	GLOBAL _game_over
821   0000              	GLOBAL _game_tile_cnt
822   0000              	GLOBAL _game_sound
823   0000              	GLOBAL _game_inf_lives
824   0000              	GLOBAL _game_inmune
825   0000              	GLOBAL _sprite_curr_index
826   0000              	GLOBAL _spr_count
827   0000              	GLOBAL _key_ink
828   0000              	GLOBAL _key_last
829   0000              	GLOBAL _anim_time
830   0000              	GLOBAL _air_time
831   0000              	GLOBAL _frame_time
832   0000              	GLOBAL _curr_time
833   0000              	GLOBAL _p_state_a
834   0000              	GLOBAL _p_state
835   0000              	GLOBAL _key_attrib
836   0000              	GLOBAL _game_attrib_osd
837   0000              	GLOBAL _attrib_osd
838   0000              	GLOBAL _attrib_hl
839   0000              	GLOBAL _attrib
840   0000              	GLOBAL _zx_val_asm
841   0000              	GLOBAL _enemies
842   0000              	GLOBAL _tmp_ui
843   0000              	GLOBAL _index1
844   0000              	GLOBAL _index0
845   0000              	GLOBAL _index_tmp
846   0000              	GLOBAL _loop_count
847   0000              	GLOBAL _s_class
848   0000              	GLOBAL _s_row1
849   0000              	GLOBAL _s_col1
850   0000              	GLOBAL _s_col0
851   0000              	GLOBAL _s_lin1
852   0000              	GLOBAL _s_lin0
853   0000              	GLOBAL _s_tile1
854   0000              	GLOBAL _s_tile0
855   0000              	GLOBAL _nirv_sprite_index
856   0000              	GLOBAL _player_kill_index
857   0000              	GLOBAL _player_killed
858   0000              	GLOBAL _player_jump_top
859   0000              	GLOBAL _game_fps_show
860   0000              	GLOBAL _game_debug
861   0000              	GLOBAL _sprite
862   0000              	GLOBAL _fps
863   0000              	GLOBAL _game_tileset
864   0000              	GLOBAL _menu_curr_sel
865   0000              	GLOBAL _game_round_up
866   0000              	GLOBAL _game_playing
867   0000              	GLOBAL _game_exit_lin
868   0000              	GLOBAL _game_exit_col
869   0000              	GLOBAL _game_conveyor_col1
870   0000              	GLOBAL _game_conveyor_col0
871   0000              	GLOBAL _game_conveyor_lin
872   0000              	GLOBAL _game_conveyor_dir
873   0000              	GLOBAL _game_song_play_start
874   0000              	GLOBAL _game_song_play
875   0000              	GLOBAL _game_world
876   0000              	GLOBAL _game_gravity
877   0000              	GLOBAL _player_jumpcount
878   0000              	GLOBAL _player_hit
879   0000              	GLOBAL _player_hit_time
880   0000              	GLOBAL _player_lin_scr
881   0000              	GLOBAL _player_col_scr
882   0000              	GLOBAL _player_jump_count
883   0000              	GLOBAL _player_jump_hack
884   0000              	GLOBAL _player_vel_inc
885   0000              	GLOBAL _player_vel_y0
886   0000              	GLOBAL _player_vel_y
887   0000              	GLOBAL _player_score
888   0000              	GLOBAL _tbuffer
889   0000              	GLOBAL _obj_count
890   0000              	GLOBAL _obj_col
891   0000              	GLOBAL _obj_lin
892   0000              	GLOBAL _spr_timer
893   0000              	GLOBAL _last_time
894   0000              	GLOBAL _colint
895   0000              	GLOBAL _col
896   0000              	GLOBAL _lin
897   0000              	GLOBAL _tile
898   0000              	GLOBAL _value_b
899   0000              	GLOBAL _value_a
900   0000              	GLOBAL _state_a
901   0000              	GLOBAL _state
902   0000              	GLOBAL _class
903   0000              	GLOBAL _dirs
904   0000              	GLOBAL _k1
905   0000              	GLOBAL _joyfunc2
906   0000              	GLOBAL _joyfunc1
907   0000              	GLOBAL _btiles
908   0000              	GLOBAL _v3
909   0000              	GLOBAL _v2
910   0000              	GLOBAL _v1
911   0000              	GLOBAL _v0
912   0000              	GLOBAL _i
913   0000              	GLOBAL _spec128
914   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
915   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
916   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
917   0000              	GLOBAL _ay_fx_06_salto
918   0000              	GLOBAL _ay_fx_06_explosion
919   0000              	GLOBAL _ay_fx_06_coin
920   0000              	GLOBAL _ay_song_04_menu
921   0000              	GLOBAL _ay_song_04_ingame0
922   0000              	GLOBAL _ay_song_04_ingame
923   0000              	GLOBAL _hibtiles
924   0000              	GLOBAL _air_end_byte
925   0000              	GLOBAL _air_start_byte
926   0000              	GLOBAL _key_map
927   0000              	GLOBAL _paper0
928   0000              	GLOBAL _lenght0
929   0000              	GLOBAL _world0
930   0000              	GLOBAL _spr_init_len
931   0000              	GLOBAL _spr_init
932   0000              ;--------------------------------------------------------
933   0000              ; special function registers
934   0000              ;--------------------------------------------------------
935   0000              defc _IO_FE	=	0x00fe
936   0000              defc _IO_1FFD	=	0x1ffd
937   0000              defc _IO_7FFD	=	0x7ffd
938   0000              ;--------------------------------------------------------
939   0000              ; ram data
940   0000              ;--------------------------------------------------------
941   0000              	SECTION bss_compiler
942   0000              ;--------------------------------------------------------
943   0000              ; ram data
944   0000              ;--------------------------------------------------------
945   0000              
946   0000              IF 0
947   0000              
948   0000              ; .area _INITIALIZED removed by z88dk
949   0000              
950   0000              
951   0000              ENDIF
952   0000              
953   0000              ;--------------------------------------------------------
954   0000              ; absolute external ram data
955   0000              ;--------------------------------------------------------
956   0000              	SECTION IGNORE
957   0000              ;--------------------------------------------------------
958   0000              ; global & static initialisations
959   0000              ;--------------------------------------------------------
960   0000              	SECTION code_crt_init
961   0000              ;--------------------------------------------------------
962   0000              ; Home
963   0000              ;--------------------------------------------------------
964   0000              	SECTION IGNORE
965   0000              ;--------------------------------------------------------
966   0000              ; code
967   0000              ;--------------------------------------------------------
968   0000              	SECTION code_compiler
969   0000              ;	---------------------------------
970   0000              ; Function game_tick
971   0000              ; ---------------------------------
972   0000              _game_tick:
973   0000  21 00 00    	ld	hl,_curr_time
974   0003  34          	inc	(hl)
975   0004  C2 00 00    	jp	NZ,_zx_isr
976   0007  23          	inc	hl
977   0008  34          	inc	(hl)
978   0009  C3 00 00    	jp  _zx_isr
979   000C              	SECTION code_compiler
980   000C              ;	---------------------------------
981   000C              ; Function game_loop
982   000C              ; ---------------------------------
983   000C              _game_loop:
984   000C  21 00 00    	ld	hl,_player_lives
985   000F  36 03       	ld	(hl),0x03
986   0011  21 00 00    	ld	hl,0x0000
987   0014  22 00 00    	ld	(_player_score),hl
988   0017  21 00 00    	ld	hl,_game_over
989   001A  36 00       	ld	(hl),0x00
990   001C  21 00 00    	ld	hl,_game_round_up
991   001F  36 00       	ld	(hl),0x00
992   0021  21 00 00    	ld	hl,_game_world
993   0024  36 00       	ld	(hl),0x00
994   0026  21 00 00    	ld	hl,_map_paper
995   0029  36 00       	ld	(hl),0x00
996   002B  21 00 00    	ld	hl,_player_lin_scr
997   002E  36 68       	ld	(hl),0x68
998   0030  21 00 00    	ld	hl,_player_col_scr
999   0033  36 02       	ld	(hl),0x02
1000  0035  CD D5 05    	call	_game_round_init
1001  0038              l_game_loop_00119:
1002  0038  3A 00 00    	ld	a,(_game_over)
1003  003B  B7          	or	a, a
1004  003C  C2 08 01    	jp	NZ, l_game_loop_00122
1005  003F  21 00 00    	ld	hl,_dirs
1006  0042  36 00       	ld	(hl),0x00
1007  0044  21 00 00    	ld	hl,_game_playing
1008  0047  36 01       	ld	(hl),0x01
1009  0049              l_game_loop_00114:
1010  0049  3A 00 00    	ld	a,(_game_round_up)
1011  004C  B7          	or	a, a
1012  004D  C2 DC 00    	jp	NZ, l_game_loop_00116
1013  0050  3A 00 00    	ld	a,(_game_over)
1014  0053  B7          	or	a, a
1015  0054  C2 DC 00    	jp	NZ, l_game_loop_00116
1016  0057  2A 00 00    	ld	hl,(_map_border)
1017  005A  CD 00 00    	call	_zx_border_fastcall
1018  005D  CD 00 00    	call	_enemy_turn
1019  0060  CD 00 00    	call	_player_turn
1020  0063  3A 00 00    	ld	a,(_loop_count)
1021  0066  E6 03       	and	a,0x03
1022  0068  20 03       	jr	NZ,l_game_loop_00102
1023  006A  CD 0E 0A    	call	_game_key_paint
1024  006D              l_game_loop_00102:
1025  006D  3A 00 00    	ld	a,(_loop_count)
1026  0070  E6 0F       	and	a,0x0f
1027  0072  20 19       	jr	NZ,l_game_loop_00106
1028  0074  21 00 00    	ld	hl,_game_conveyor_col0
1029  0077  7E          	ld	a, (hl)
1030  0078  B7          	or	a, a
1031  0079  28 03       	jr	Z,l_game_loop_00104
1032  007B  CD FD 04    	call	_game_anim_conveyor
1033  007E              l_game_loop_00104:
1034  007E  2A FF FF    	ld	hl,(_game_exit_col - 1)
1035  0081  3A 00 00    	ld	a,(_game_exit_lin)
1036  0084  6F          	ld	l,a
1037  0085  E5          	push	hl
1038  0086  21 06 5F    	ld	hl,0x5f06
1039  0089  E5          	push	hl
1040  008A  CD 00 00    	call	_NIRVANAP_spriteT_callee
1041  008D              l_game_loop_00106:
1042  008D  3E 19       	ld	a,0x19
1043  008F  F5          	push	af
1044  0090  33          	inc	sp
1045  0091  21 00 00    	ld	hl,_air_time
1046  0094  E5          	push	hl
1047  0095  CD E4 09    	call	_game_check_time
1048  0098  F1          	pop	af
1049  0099  33          	inc	sp
1050  009A  7D          	ld	a, l
1051  009B  B7          	or	a, a
1052  009C  28 0A       	jr	Z,l_game_loop_00108
1053  009E  CD B0 04    	call	_game_anim_air
1054  00A1  2A 00 00    	ld	hl,(_curr_time)
1055  00A4  22 00 00    	ld	(_air_time),hl
1056  00A7  76          	halt
1057  00A8              l_game_loop_00108:
1058  00A8  3E 64       	ld	a,0x64
1059  00AA  F5          	push	af
1060  00AB  33          	inc	sp
1061  00AC  21 00 00    	ld	hl,_frame_time
1062  00AF  E5          	push	hl
1063  00B0  CD E4 09    	call	_game_check_time
1064  00B3  F1          	pop	af
1065  00B4  33          	inc	sp
1066  00B5  7D          	ld	a, l
1067  00B6  B7          	or	a, a
1068  00B7  28 0F       	jr	Z,l_game_loop_00112
1069  00B9  2A 00 00    	ld	hl,(_curr_time)
1070  00BC  22 00 00    	ld	(_frame_time),hl
1071  00BF  3A 00 00    	ld	a,(_game_debug)
1072  00C2  B7          	or	a,a
1073  00C3  28 03       	jr	Z,l_game_loop_00112
1074  00C5  CD 09 01    	call	_game_fps
1075  00C8              l_game_loop_00112:
1076  00C8  21 00 00    	ld	hl,_loop_count
1077  00CB  34          	inc	(hl)
1078  00CC  20 02       	jr	NZ,l_game_loop_00176
1079  00CE  23          	inc	hl
1080  00CF  34          	inc	(hl)
1081  00D0              l_game_loop_00176:
1082  00D0  21 00 00    	ld	hl,_fps
1083  00D3  34          	inc	(hl)
1084  00D4  C2 49 00    	jp	NZ,l_game_loop_00114
1085  00D7  23          	inc	hl
1086  00D8  34          	inc	(hl)
1087  00D9  C3 49 00    	jp	l_game_loop_00114
1088  00DC              l_game_loop_00116:
1089  00DC  3A 00 00    	ld	a,(_game_round_up)
1090  00DF  B7          	or	a, a
1091  00E0  CA 38 00    	jp	Z, l_game_loop_00119
1092  00E3  21 00 00    	ld	hl,_game_playing
1093  00E6  36 00       	ld	(hl),0x00
1094  00E8  CD D5 05    	call	_game_round_init
1095  00EB  2A FF FF    	ld	hl,(_game_exit_col - 1)
1096  00EE  3A 00 00    	ld	a,(_game_exit_lin)
1097  00F1  6F          	ld	l,a
1098  00F2  E5          	push	hl
1099  00F3  21 06 5F    	ld	hl,0x5f06
1100  00F6  E5          	push	hl
1101  00F7  CD 00 00    	call	_NIRVANAP_spriteT_callee
1102  00FA  76          	halt
1103  00FB  21 00 00    	ld	hl,_game_round_up
1104  00FE  36 00       	ld	(hl),0x00
1105  0100  21 00 00    	ld	hl,_game_playing
1106  0103  36 01       	ld	(hl),0x01
1107  0105  C3 38 00    	jp	l_game_loop_00119
1108  0108              l_game_loop_00122:
1109  0108  C9          	ret
1110  0109              	SECTION code_compiler
1111  0109              ;	---------------------------------
1112  0109              ; Function game_fps
1113  0109              ; ---------------------------------
1114  0109              _game_fps:
1115  0109  21 00 00    	ld	hl,_screen_ink
1116  010C  36 07       	ld	(hl),0x07
1117  010E  2A 00 00    	ld	hl,(_fps)
1118  0111  E5          	push	hl
1119  0112  21 17 18    	ld	hl,0x1817
1120  0115  E5          	push	hl
1121  0116  CD 00 00    	call	_zx_print_int
1122  0119  21 00 00    	ld	hl,0x0000
1123  011C  22 00 00    	ld	(_fps),hl
1124  011F  C9          	ret
1125  0120              	SECTION code_compiler
1126  0120              ;	---------------------------------
1127  0120              ; Function game_draw_map
1128  0120              ; ---------------------------------
1129  0120              _game_draw_map:
1130  0120  CD 00 00    	call	___sdcc_enter_ix
1131  0123  F5          	push	af
1132  0124  F5          	push	af
1133  0125  F5          	push	af
1134  0126  76          	halt
1135  0127  21 00 00    	ld	hl,_screen_ink
1136  012A  36 07       	ld	(hl),0x07
1137  012C  21 00 00    	ld	hl,_v0
1138  012F  36 00       	ld	(hl),0x00
1139  0131              l_game_draw_map_00101:
1140  0131  21 00 00    	ld	hl,_v0
1141  0134  7E          	ld	a, (hl)
1142  0135  D6 0F       	sub	a,0x0f
1143  0137  30 0E       	jr	NC,l_game_draw_map_00103
1144  0139  3E 00       	ld	a, +((_class) & 0xFF)
1145  013B  86          	add	a, (hl)
1146  013C  4F          	ld	c, a
1147  013D  3E 00       	ld	a, +((_class) / 256)
1148  013F  CE 00       	adc	a,0x00
1149  0141  47          	ld	b, a
1150  0142  AF          	xor	a, a
1151  0143  02          	ld	(bc), a
1152  0144  34          	inc	(hl)
1153  0145  18 EA       	jr	l_game_draw_map_00101
1154  0147              l_game_draw_map_00103:
1155  0147  21 00 00    	ld	hl,_spr_count
1156  014A  36 00       	ld	(hl),0x00
1157  014C  21 00 00    	ld	hl,0x0000
1158  014F  22 00 00    	ld	(_index1),hl
1159  0152  21 00 00    	ld	hl,_s_row1
1160  0155  36 01       	ld	(hl),0x01
1161  0157  21 00 00    	ld	hl,_s_lin1
1162  015A  36 10       	ld	(hl),0x10
1163  015C  21 00 00    	ld	hl,_s_col1
1164  015F  36 00       	ld	(hl),0x00
1165  0161  21 00 00    	ld	hl,_obj_count
1166  0164  36 00       	ld	(hl),0x00
1167  0166  21 00 00    	ld	hl,_game_conveyor_lin
1168  0169  36 00       	ld	(hl),0x00
1169  016B  21 00 00    	ld	hl,_game_conveyor_col0
1170  016E  36 00       	ld	(hl),0x00
1171  0170  21 00 00    	ld	hl,_game_conveyor_col1
1172  0173  36 00       	ld	(hl),0x00
1173  0175  CD 00 00    	call	_NIRVANAP_stop
1174  0178  21 00 00    	ld	hl,_map_paper
1175  017B  7E          	ld	a, (hl)
1176  017C  0F          	rrca
1177  017D  0F          	rrca
1178  017E  0F          	rrca
1179  017F  E6 1F       	and	a,0x1f
1180  0181  B6          	or	a, (hl)
1181  0182  32 00 00    	ld	(_attrib_hl),a
1182  0185  32 01 00    	ld	((_attrib_hl + 0x0001)),a
1183  0188  32 02 00    	ld	((_attrib_hl + 0x0002)),a
1184  018B  32 03 00    	ld	((_attrib_hl + 0x0003)),a
1185  018E              l_game_draw_map_00129:
1186  018E  21 01 00    	ld	hl,_index1 + 1
1187  0191  7E          	ld	a, (hl)
1188  0192  D6 02       	sub	a,0x02
1189  0194  D2 72 03    	jp	NC, l_game_draw_map_00131
1190  0197  3E 00       	ld	a, +((_scr_map) & 0xFF)
1191  0199  2B          	dec	hl
1192  019A  86          	add	a, (hl)
1193  019B  DD 77 FD    	ld	(ix-3),a
1194  019E  3E 00       	ld	a, +((_scr_map) / 256)
1195  01A0  23          	inc	hl
1196  01A1  8E          	adc	a, (hl)
1197  01A2  DD 6E FD    	ld	l,(ix-3)
1198  01A5  DD 77 FE    	ld	(ix-2),a
1199  01A8  67          	ld	h,a
1200  01A9  7E          	ld	a, (hl)
1201  01AA  DD 77 FF    	ld	(ix-1),a
1202  01AD  3A 00 00    	ld	a,(_s_row1)
1203  01B0  07          	rlca
1204  01B1  07          	rlca
1205  01B2  07          	rlca
1206  01B3  E6 F8       	and	a,0xf8
1207  01B5  4F          	ld	c, a
1208  01B6  DD 7E FF    	ld	a,(ix-1)
1209  01B9  D6 40       	sub	a,0x40
1210  01BB  D2 FC 02    	jp	NC, l_game_draw_map_00125
1211  01BE  3A 00 00    	ld	a,(_s_col1)
1212  01C1  F5          	push	af
1213  01C2  33          	inc	sp
1214  01C3  79          	ld	a, c
1215  01C4  F5          	push	af
1216  01C5  33          	inc	sp
1217  01C6  DD 7E FF    	ld	a,(ix-1)
1218  01C9  F5          	push	af
1219  01CA  33          	inc	sp
1220  01CB  CD 00 00    	call	_spr_draw8
1221  01CE  F1          	pop	af
1222  01CF  33          	inc	sp
1223  01D0  01 00 00    	ld	bc,_scr_map
1224  01D3  2A 00 00    	ld	hl,(_index1)
1225  01D6  09          	add	hl,bc
1226  01D7  7E          	ld	a,(hl)
1227  01D8  D6 08       	sub	a,0x08
1228  01DA  20 2D       	jr	NZ,l_game_draw_map_00105
1229  01DC  2A 00 00    	ld	hl,(_obj_count)
1230  01DF  26 00       	ld	h,0x00
1231  01E1  01 00 00    	ld	bc,_obj_col
1232  01E4  09          	add	hl,bc
1233  01E5  3A 00 00    	ld	a,(_s_col1)
1234  01E8  77          	ld	(hl),a
1235  01E9  2A 00 00    	ld	hl,(_obj_count)
1236  01EC  26 00       	ld	h,0x00
1237  01EE  01 00 00    	ld	bc,_obj_lin
1238  01F1  09          	add	hl,bc
1239  01F2  3A 00 00    	ld	a,(_s_lin1)
1240  01F5  77          	ld	(hl),a
1241  01F6  21 00 00    	ld	hl,_obj_count
1242  01F9  34          	inc	(hl)
1243  01FA  2A FF FF    	ld	hl,(_s_col1 - 1)
1244  01FD  3A 00 00    	ld	a,(_s_lin1)
1245  0200  6F          	ld	l,a
1246  0201  E5          	push	hl
1247  0202  21 00 00    	ld	hl,_attrib_hl
1248  0205  E5          	push	hl
1249  0206  CD 00 00    	call	_NIRVANAP_paintC_callee
1250  0209              l_game_draw_map_00105:
1251  0209  01 00 00    	ld	bc,_scr_map
1252  020C  2A 00 00    	ld	hl,(_index1)
1253  020F  09          	add	hl,bc
1254  0210  7E          	ld	a,(hl)
1255  0211  D6 04       	sub	a,0x04
1256  0213  20 04       	jr	NZ,l_game_draw_map_00200
1257  0215  3E 01       	ld	a,0x01
1258  0217  18 01       	jr	l_game_draw_map_00201
1259  0219              l_game_draw_map_00200:
1260  0219  AF          	xor	a,a
1261  021A              l_game_draw_map_00201:
1262  021A  DD 77 FC    	ld	(ix-4),a
1263  021D  3A 00 00    	ld	a,(_game_conveyor_col0)
1264  0220  B7          	or	a, a
1265  0221  28 14       	jr	Z,l_game_draw_map_00107
1266  0223  3A 00 00    	ld	a,(_game_conveyor_col1)
1267  0226  B7          	or	a, a
1268  0227  20 0E       	jr	NZ,l_game_draw_map_00107
1269  0229  DD CB FC 46 	bit	0,(ix-4)
1270  022D  20 08       	jr	NZ,l_game_draw_map_00107
1271  022F  3A 00 00    	ld	a,(_index1)
1272  0232  E6 1F       	and	a,0x1f
1273  0234  32 00 00    	ld	(_game_conveyor_col1),a
1274  0237              l_game_draw_map_00107:
1275  0237  DD CB FC 46 	bit	0,(ix-4)
1276  023B  28 6C       	jr	Z,l_game_draw_map_00116
1277  023D  3A 00 00    	ld	a,(_game_conveyor_col0)
1278  0240  B7          	or	a, a
1279  0241  20 66       	jr	NZ,l_game_draw_map_00116
1280  0243  3A 00 00    	ld	a,(_index1)
1281  0246  DD 77 FC    	ld	(ix-4),a
1282  0249  E6 1F       	and	a,0x1f
1283  024B  32 00 00    	ld	(_game_conveyor_col0),a
1284  024E  11 FA FF    	ld	de,-6
1285  0251  21 00 00    	ld	hl,_index1
1286  0254  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1287  0257  06 05       	ld	b,0x05
1288  0259              l_game_draw_map_00202:
1289  0259  DD CB FB 3E 	srl	(ix-5)
1290  025D  DD CB FA 1E 	rr	(ix-6)
1291  0261  10 F6       	djnz	l_game_draw_map_00202
1292  0263  DD 7E FA    	ld	a,(ix-6)
1293  0266  07          	rlca
1294  0267  07          	rlca
1295  0268  07          	rlca
1296  0269  E6 F8       	and	a,0xf8
1297  026B  DD 77 FA    	ld	(ix-6),a
1298  026E  C6 08       	add	a,0x08
1299  0270  32 00 00    	ld	(_game_conveyor_lin),a
1300  0273  21 00 00    	ld	hl,_index1
1301  0276  7E          	ld	a, (hl)
1302  0277  C6 01       	add	a,0x01
1303  0279  DD 77 FA    	ld	(ix-6),a
1304  027C  23          	inc	hl
1305  027D  7E          	ld	a, (hl)
1306  027E  CE 00       	adc	a,0x00
1307  0280  DD 77 FB    	ld	(ix-5),a
1308  0283  3E 00       	ld	a, +((_scr_map) & 0xFF)
1309  0285  DD 86 FA    	add	a,(ix-6)
1310  0288  DD 77 FA    	ld	(ix-6),a
1311  028B  3E 00       	ld	a, +((_scr_map) / 256)
1312  028D  DD 8E FB    	adc	a,(ix-5)
1313  0290  DD 77 FB    	ld	(ix-5),a
1314  0293  E1          	pop	hl
1315  0294  7E          	ld	a,(hl)
1316  0295  E5          	push	hl
1317  0296  B7          	or	a, a
1318  0297  28 07       	jr	Z,l_game_draw_map_00111
1319  0299  21 00 00    	ld	hl,_game_conveyor_dir
1320  029C  36 01       	ld	(hl),0x01
1321  029E  18 05       	jr	l_game_draw_map_00112
1322  02A0              l_game_draw_map_00111:
1323  02A0  21 00 00    	ld	hl,_game_conveyor_dir
1324  02A3  36 02       	ld	(hl),0x02
1325  02A5              l_game_draw_map_00112:
1326  02A5  E1          	pop	hl
1327  02A6  E5          	push	hl
1328  02A7  36 04       	ld	(hl),0x04
1329  02A9              l_game_draw_map_00116:
1330  02A9  2A 00 00    	ld	hl,(_index1)
1331  02AC  01 00 00    	ld	bc,_scr_map
1332  02AF  09          	add	hl,bc
1333  02B0  7E          	ld	a,(hl)
1334  02B1  D6 1C       	sub	a,0x1c
1335  02B3  C2 4B 03    	jp	NZ,l_game_draw_map_00126
1336  02B6  3A 00 00    	ld	a,(_index1)
1337  02B9  E6 1F       	and	a,0x1f
1338  02BB  32 00 00    	ld	(_game_exit_col),a
1339  02BE  2A 00 00    	ld	hl,(_index1)
1340  02C1  4D          	ld	c,l
1341  02C2  5C          	ld	e,h
1342  02C3  06 05       	ld	b,0x05
1343  02C5  79          	ld	a,c
1344  02C6              l_game_draw_map_00205:
1345  02C6  CB 3B       	srl	e
1346  02C8  1F          	rra
1347  02C9  10 FB       	djnz	l_game_draw_map_00205
1348  02CB  07          	rlca
1349  02CC  07          	rlca
1350  02CD  07          	rlca
1351  02CE  E6 F8       	and	a,0xf8
1352  02D0  C6 10       	add	a,0x10
1353  02D2  32 00 00    	ld	(_game_exit_lin),a
1354  02D5  ED 4B 00 00 	ld	bc,(_index1)
1355  02D9  03          	inc	bc
1356  02DA  21 00 00    	ld	hl,_scr_map
1357  02DD  09          	add	hl, bc
1358  02DE  36 1D       	ld	(hl),0x1d
1359  02E0  2A 00 00    	ld	hl,(_index1)
1360  02E3  01 20 00    	ld	bc,0x0020
1361  02E6  09          	add	hl,bc
1362  02E7  01 00 00    	ld	bc,_scr_map
1363  02EA  09          	add	hl,bc
1364  02EB  36 1E       	ld	(hl),0x1e
1365  02ED  2A 00 00    	ld	hl,(_index1)
1366  02F0  01 21 00    	ld	bc,0x0021
1367  02F3  09          	add	hl,bc
1368  02F4  01 00 00    	ld	bc,_scr_map
1369  02F7  09          	add	hl,bc
1370  02F8  36 1F       	ld	(hl),0x1f
1371  02FA  18 4F       	jr	l_game_draw_map_00126
1372  02FC              l_game_draw_map_00125:
1373  02FC  DD 7E FF    	ld	a,(ix-1)
1374  02FF  D6 78       	sub	a,0x78
1375  0301  30 15       	jr	NC,l_game_draw_map_00122
1376  0303  3A 00 00    	ld	a,(_s_col1)
1377  0306  F5          	push	af
1378  0307  33          	inc	sp
1379  0308  79          	ld	a, c
1380  0309  F5          	push	af
1381  030A  33          	inc	sp
1382  030B  AF          	xor	a, a
1383  030C  F5          	push	af
1384  030D  33          	inc	sp
1385  030E  CD 00 00    	call	_spr_draw8
1386  0311  F1          	pop	af
1387  0312  33          	inc	sp
1388  0313  CD 00 00    	call	_enemy_init
1389  0316  18 33       	jr	l_game_draw_map_00126
1390  0318              l_game_draw_map_00122:
1391  0318  DD 7E FF    	ld	a,(ix-1)
1392  031B  D6 7F       	sub	a,0x7f
1393  031D  20 2C       	jr	NZ,l_game_draw_map_00126
1394  031F  3A 00 00    	ld	a,(_s_lin1)
1395  0322  C6 F0       	add	a,0xf0
1396  0324  32 00 00    	ld	(_player_lin_scr),a
1397  0327  3A 00 00    	ld	a,(_s_col1)
1398  032A  32 00 00    	ld	(_player_col_scr),a
1399  032D  DD 6E FD    	ld	l,(ix-3)
1400  0330  DD 66 FE    	ld	h,(ix-2)
1401  0333  36 00       	ld	(hl),0x00
1402  0335  3A 00 00    	ld	a,(_s_row1)
1403  0338  07          	rlca
1404  0339  07          	rlca
1405  033A  07          	rlca
1406  033B  E6 F8       	and	a,0xf8
1407  033D  4F          	ld	c, a
1408  033E  3A 00 00    	ld	a, (_s_col1)
1409  0341  47          	ld	b,a
1410  0342  C5          	push	bc
1411  0343  AF          	xor	a, a
1412  0344  F5          	push	af
1413  0345  33          	inc	sp
1414  0346  CD 00 00    	call	_spr_draw8
1415  0349  F1          	pop	af
1416  034A  33          	inc	sp
1417  034B              l_game_draw_map_00126:
1418  034B  21 00 00    	ld	hl,_index1
1419  034E  34          	inc	(hl)
1420  034F  20 02       	jr	NZ,l_game_draw_map_00208
1421  0351  23          	inc	hl
1422  0352  34          	inc	(hl)
1423  0353              l_game_draw_map_00208:
1424  0353  21 00 00    	ld	hl,_s_col1
1425  0356  34          	inc	(hl)
1426  0357  3A 00 00    	ld	a,(_index1)
1427  035A  E6 1F       	and	a,0x1f
1428  035C  C2 8E 01    	jp	NZ,l_game_draw_map_00129
1429  035F  21 00 00    	ld	hl,_s_row1
1430  0362  34          	inc	(hl)
1431  0363  21 00 00    	ld	hl,_s_lin1
1432  0366  7E          	ld	a, (hl)
1433  0367  C6 08       	add	a,0x08
1434  0369  77          	ld	(hl), a
1435  036A  21 00 00    	ld	hl,_s_col1
1436  036D  36 00       	ld	(hl),0x00
1437  036F  C3 8E 01    	jp	l_game_draw_map_00129
1438  0372              l_game_draw_map_00131:
1439  0372  CD 00 00    	call	_NIRVANAP_start
1440  0375  CD 00 00    	call	_game_update_stats
1441  0378  DD F9       	ld	sp, ix
1442  037A  DD E1       	pop	ix
1443  037C  C9          	ret
1444  037D              	SECTION code_compiler
1445  037D              ;	---------------------------------
1446  037D              ; Function game_cell_paint_index
1447  037D              ; ---------------------------------
1448  037D              _game_cell_paint_index:
1449  037D  3A 00 00    	ld	a,(_index1)
1450  0380  E6 1F       	and	a,0x1f
1451  0382  32 00 00    	ld	(_s_col1),a
1452  0385  2A 00 00    	ld	hl,(_index1)
1453  0388  4D          	ld	c,l
1454  0389  5C          	ld	e,h
1455  038A  06 05       	ld	b,0x05
1456  038C  79          	ld	a,c
1457  038D              l_game_cell_paint_index_00103:
1458  038D  CB 3B       	srl	e
1459  038F  1F          	rra
1460  0390  10 FB       	djnz	l_game_cell_paint_index_00103
1461  0392  07          	rlca
1462  0393  07          	rlca
1463  0394  07          	rlca
1464  0395  E6 F8       	and	a,0xf8
1465  0397  32 00 00    	ld	(_s_lin1),a
1466  039A  0F          	rrca
1467  039B  0F          	rrca
1468  039C  0F          	rrca
1469  039D  E6 1F       	and	a,0x1f
1470  039F  3C          	inc	a
1471  03A0  32 00 00    	ld	(_s_row1),a
1472  03A3  21 00 00    	ld	hl,_s_lin1
1473  03A6  7E          	ld	a, (hl)
1474  03A7  C6 10       	add	a,0x10
1475  03A9  77          	ld	(hl), a
1476  03AA  3A 00 00    	ld	a,(_s_row1)
1477  03AD  07          	rlca
1478  03AE  07          	rlca
1479  03AF  07          	rlca
1480  03B0  E6 F8       	and	a,0xf8
1481  03B2  4F          	ld	c, a
1482  03B3  11 00 00    	ld	de,_scr_map
1483  03B6  2A 00 00    	ld	hl,(_index1)
1484  03B9  19          	add	hl,de
1485  03BA  46          	ld	b, (hl)
1486  03BB  3A 00 00    	ld	a,(_s_col1)
1487  03BE  F5          	push	af
1488  03BF  33          	inc	sp
1489  03C0  79          	ld	a, c
1490  03C1  48          	ld	c,b
1491  03C2  47          	ld	b,a
1492  03C3  C5          	push	bc
1493  03C4  CD 00 00    	call	_spr_draw8
1494  03C7  F1          	pop	af
1495  03C8  33          	inc	sp
1496  03C9  C9          	ret
1497  03CA              	SECTION code_compiler
1498  03CA              ;	---------------------------------
1499  03CA              ; Function game_cell_paint
1500  03CA              ; ---------------------------------
1501  03CA              _game_cell_paint:
1502  03CA  3A 00 00    	ld	a,(_s_row1)
1503  03CD  07          	rlca
1504  03CE  07          	rlca
1505  03CF  07          	rlca
1506  03D0  E6 F8       	and	a,0xf8
1507  03D2  57          	ld	d, a
1508  03D3  01 00 00    	ld	bc,_scr_map
1509  03D6  2A 00 00    	ld	hl,(_index1)
1510  03D9  09          	add	hl,bc
1511  03DA  4D          	ld	c,l
1512  03DB  46          	ld	b, (hl)
1513  03DC  3A 00 00    	ld	a,(_s_col1)
1514  03DF  5A          	ld	e,d
1515  03E0  57          	ld	d,a
1516  03E1  D5          	push	de
1517  03E2  C5          	push	bc
1518  03E3  33          	inc	sp
1519  03E4  CD 00 00    	call	_spr_draw8
1520  03E7  F1          	pop	af
1521  03E8  33          	inc	sp
1522  03E9  C9          	ret
1523  03EA              	SECTION code_compiler
1524  03EA              ;	---------------------------------
1525  03EA              ; Function game_end is a stub
1526  03EA              ; ---------------------------------
1527  03EA              EXTERN l_ret
1528  03EA              defc _game_end = l_ret
1529  03EA              	SECTION code_compiler
1530  03EA              ;	---------------------------------
1531  03EA              ; Function game_print_footer
1532  03EA              ; ---------------------------------
1533  03EA              _game_print_footer:
1534  03EA  3A 00 00    	ld	a,(_game_fps_show)
1535  03ED  B7          	or	a, a
1536  03EE  28 10       	jr	Z,l_game_print_footer_00102
1537  03F0  21 00 00    	ld	hl,_screen_ink
1538  03F3  36 07       	ld	(hl),0x07
1539  03F5  21 00 00    	ld	hl,___str_0
1540  03F8  E5          	push	hl
1541  03F9  21 17 14    	ld	hl,0x1417
1542  03FC  E5          	push	hl
1543  03FD  CD 00 00    	call	_zx_print_str
1544  0400              l_game_print_footer_00102:
1545  0400  CD 00 00    	call	_game_update_stats
1546  0403  C9          	ret
1547  0404              	SECTION rodata_compiler
1548  0000              ___str_0:
1549  0000  4C 50 53 3A 	DEFM "LPS:"
1550  0004  00          	DEFB 0x00
1551  0005              	SECTION code_compiler
1552  0404              ;	---------------------------------
1553  0404              ; Function game_print_score
1554  0404              ; ---------------------------------
1555  0404              _game_print_score:
1556  0404  21 00 00    	ld	hl,_screen_ink
1557  0407  36 06       	ld	(hl),0x06
1558  0409  21 00 00    	ld	hl,_screen_paper
1559  040C  36 00       	ld	(hl),0x00
1560  040E  2A 00 00    	ld	hl,(_player_score)
1561  0411  E5          	push	hl
1562  0412  21 14 1B    	ld	hl,0x1b14
1563  0415  E5          	push	hl
1564  0416  CD 00 00    	call	_zx_print_int
1565  0419  2A 00 00    	ld	hl,(_game_score_top)
1566  041C  E5          	push	hl
1567  041D  21 14 0C    	ld	hl,0x0c14
1568  0420  E5          	push	hl
1569  0421  CD 00 00    	call	_zx_print_int
1570  0424  C9          	ret
1571  0425              	SECTION code_compiler
1572  0425              ;	---------------------------------
1573  0425              ; Function game_print_lives
1574  0425              ; ---------------------------------
1575  0425              _game_print_lives:
1576  0425  21 00 00    	ld	hl,_v0
1577  0428  36 00       	ld	(hl),0x00
1578  042A  21 16 20    	ld	hl,0x2016
1579  042D  E5          	push	hl
1580  042E  CD 00 00    	call	_game_fill_row
1581  0431              l_game_print_lives_00101:
1582  0431  3A 00 00    	ld	a,(_v0)
1583  0434  21 00 00    	ld	hl,_player_lives
1584  0437  96          	sub	a, (hl)
1585  0438  D0          	ret	NC
1586  0439  21 00 00    	ld	hl,_screen_ink
1587  043C  36 05       	ld	(hl),0x05
1588  043E  3A 00 00    	ld	a,(_v0)
1589  0441  21 05 00    	ld	hl,___str_1
1590  0444  E5          	push	hl
1591  0445  57          	ld	d,a
1592  0446  1E 16       	ld	e,0x16
1593  0448  D5          	push	de
1594  0449  CD 00 00    	call	_zx_print_str
1595  044C  21 00 00    	ld	hl,_v0
1596  044F  34          	inc	(hl)
1597  0450  18 DF       	jr	l_game_print_lives_00101
1598  0452              	SECTION rodata_compiler
1599  0005              ___str_1:
1600  0005  3C          	DEFM "<"
1601  0006  00          	DEFB 0x00
1602  0007              	SECTION code_compiler
1603  0452              ;	---------------------------------
1604  0452              ; Function game_cls
1605  0452              ; ---------------------------------
1606  0452              _game_cls:
1607  0452  CD 00 00    	call	_NIRVANAP_stop
1608  0455  2E 00       	ld	l,0x00
1609  0457  CD 00 00    	call	_zx_cls_fastcall
1610  045A  2E 00       	ld	l,0x00
1611  045C  CD 00 00    	call	_zx_border_fastcall
1612  045F  F3          	di
1613  0460  21 00 00    	ld	hl,_v0
1614  0463  36 00       	ld	(hl),0x00
1615  0465              l_game_cls_00104:
1616  0465  3E 08       	ld	a,0x08
1617  0467  21 00 00    	ld	hl,_v0
1618  046A  96          	sub	a, (hl)
1619  046B  38 31       	jr	C,l_game_cls_00106
1620  046D  21 00 00    	ld	hl,_v1
1621  0470  36 00       	ld	(hl),0x00
1622  0472              l_game_cls_00101:
1623  0472  3A 00 00    	ld	a,(_v1)
1624  0475  D6 1F       	sub	a,0x1f
1625  0477  30 1F       	jr	NC,l_game_cls_00103
1626  0479  3A 00 00    	ld	a,(_v0)
1627  047C  07          	rlca
1628  047D  07          	rlca
1629  047E  07          	rlca
1630  047F  07          	rlca
1631  0480  E6 F0       	and	a,0xf0
1632  0482  C6 08       	add	a,0x08
1633  0484  4F          	ld	c, a
1634  0485  3A 00 00    	ld	a, (_v1)
1635  0488  47          	ld	b,a
1636  0489  C5          	push	bc
1637  048A  3E 5E       	ld	a,0x5e
1638  048C  F5          	push	af
1639  048D  33          	inc	sp
1640  048E  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1641  0491  21 00 00    	ld	hl,_v1
1642  0494  34          	inc	(hl)
1643  0495  34          	inc	(hl)
1644  0496  18 DA       	jr	l_game_cls_00101
1645  0498              l_game_cls_00103:
1646  0498  21 00 00    	ld	hl,_v0
1647  049B  34          	inc	(hl)
1648  049C  18 C7       	jr	l_game_cls_00104
1649  049E              l_game_cls_00106:
1650  049E  FB          	ei
1651  049F  CD 00 00    	call	_NIRVANAP_start
1652  04A2  C9          	ret
1653  04A3              	SECTION code_compiler
1654  04A3              ;	---------------------------------
1655  04A3              ; Function game_update_stats is a stub
1656  04A3              ; ---------------------------------
1657  04A3              EXTERN l_ret
1658  04A3              defc _game_update_stats = l_ret
1659  04A3              	SECTION code_compiler
1660  04A3              ;	---------------------------------
1661  04A3              ; Function game_start_timer
1662  04A3              ; ---------------------------------
1663  04A3              _game_start_timer:
1664  04A3  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1665  04A6  36 CD       	ld	(hl),0xcd
1666  04A8  23          	inc	hl
1667  04A9  11 00 00    	ld	de,_game_tick
1668  04AC  73          	ld	(hl), e
1669  04AD  23          	inc	hl
1670  04AE  72          	ld	(hl), d
1671  04AF  C9          	ret
1672  04B0              	SECTION code_compiler
1673  04B0              ;	---------------------------------
1674  04B0              ; Function game_anim_air
1675  04B0              ; ---------------------------------
1676  04B0              _game_anim_air:
1677  04B0  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1678  04B4  0A          	ld	a,(bc)
1679  04B5  B7          	or	a, a
1680  04B6  28 28       	jr	Z,l_game_anim_air_00105
1681  04B8  87          	add	a, a
1682  04B9  32 00 00    	ld	(_v0),a
1683  04BC  02          	ld	(bc), a
1684  04BD  2A 00 00    	ld	hl,(_air_curr_byte)
1685  04C0  01 00 01    	ld	bc,0x0100
1686  04C3  09          	add	hl,bc
1687  04C4  3A 00 00    	ld	a,(_v0)
1688  04C7  77          	ld	(hl),a
1689  04C8  2A 00 00    	ld	hl,(_air_curr_byte)
1690  04CB  01 00 02    	ld	bc,0x0200
1691  04CE  09          	add	hl,bc
1692  04CF  3A 00 00    	ld	a,(_v0)
1693  04D2  77          	ld	(hl),a
1694  04D3  2A 00 00    	ld	hl,(_air_curr_byte)
1695  04D6  01 00 03    	ld	bc,0x0300
1696  04D9  09          	add	hl,bc
1697  04DA  3A 00 00    	ld	a,(_v0)
1698  04DD  77          	ld	(hl),a
1699  04DE  18 1C       	jr	l_game_anim_air_00107
1700  04E0              l_game_anim_air_00105:
1701  04E0  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1702  04E4  ED 5B 00 00 	ld	de,(_air_end_byte)
1703  04E8  7B          	ld	a,e
1704  04E9  91          	sub	a,c
1705  04EA  7A          	ld	a,d
1706  04EB  98          	sbc	a,b
1707  04EC  30 09       	jr	NC,l_game_anim_air_00102
1708  04EE  2A 00 00    	ld	hl,(_air_curr_byte)
1709  04F1  2B          	dec	hl
1710  04F2  22 00 00    	ld	(_air_curr_byte),hl
1711  04F5  18 05       	jr	l_game_anim_air_00107
1712  04F7              l_game_anim_air_00102:
1713  04F7  21 00 00    	ld	hl,_player_killed
1714  04FA  36 01       	ld	(hl),0x01
1715  04FC              l_game_anim_air_00107:
1716  04FC  C9          	ret
1717  04FD              	SECTION code_compiler
1718  04FD              ;	---------------------------------
1719  04FD              ; Function game_anim_conveyor
1720  04FD              ; ---------------------------------
1721  04FD              _game_anim_conveyor:
1722  04FD  CD 00 00    	call	___sdcc_enter_ix
1723  0500  F5          	push	af
1724  0501  F5          	push	af
1725  0502  3B          	dec	sp
1726  0503  01 60 00    	ld	bc,_btiles+96
1727  0506  3A 00 00    	ld	a,(_game_conveyor_lin)
1728  0509  32 00 00    	ld	(_i),a
1729  050C  C6 08       	add	a,0x08
1730  050E  DD 77 FB    	ld	(ix-5),a
1731  0511  0A          	ld	a, (bc)
1732  0512  5F          	ld	e, a
1733  0513  3A 00 00    	ld	a,(_game_conveyor_dir)
1734  0516  3D          	dec	a
1735  0517  20 14       	jr	NZ,l_game_anim_conveyor_00102
1736  0519  7B          	ld	a, e
1737  051A  87          	add	a, a
1738  051B  57          	ld	d, a
1739  051C  7B          	ld	a, e
1740  051D  07          	rlca
1741  051E  E6 01       	and	a,0x01
1742  0520  B2          	or	a, d
1743  0521  57          	ld	d,a
1744  0522  02          	ld	(bc),a
1745  0523  87          	add	a, a
1746  0524  5F          	ld	e, a
1747  0525  7A          	ld	a, d
1748  0526  07          	rlca
1749  0527  E6 01       	and	a,0x01
1750  0529  B3          	or	a, e
1751  052A  02          	ld	(bc), a
1752  052B  18 14       	jr	l_game_anim_conveyor_00121
1753  052D              l_game_anim_conveyor_00102:
1754  052D  7B          	ld	a, e
1755  052E  0F          	rrca
1756  052F  E6 80       	and	a,0x80
1757  0531  6F          	ld	l, a
1758  0532  7B          	ld	a,e
1759  0533  CB 3F       	srl	a
1760  0535  B5          	or	a, l
1761  0536  5F          	ld	e,a
1762  0537  02          	ld	(bc),a
1763  0538  0F          	rrca
1764  0539  E6 80       	and	a,0x80
1765  053B  6F          	ld	l, a
1766  053C  CB 3B       	srl	e
1767  053E  7D          	ld	a, l
1768  053F  B3          	or	a, e
1769  0540  02          	ld	(bc), a
1770  0541              l_game_anim_conveyor_00121:
1771  0541              l_game_anim_conveyor_00112:
1772  0541  3A 00 00    	ld	a,(_i)
1773  0544  DD 96 FB    	sub	a,(ix-5)
1774  0547  D2 D0 05    	jp	NC, l_game_anim_conveyor_00115
1775  054A  3A 00 00    	ld	a,(_game_conveyor_col0)
1776  054D  DD 77 FC    	ld	(ix-4),a
1777  0550  2A 00 00    	ld	hl,(_i)
1778  0553  CD 00 00    	call	_zx_py2saddr_fastcall
1779  0556  EB          	ex	de,hl
1780  0557  7B          	ld	a, e
1781  0558  DD 86 FC    	add	a,(ix-4)
1782  055B  5F          	ld	e, a
1783  055C  7A          	ld	a, d
1784  055D  CE 00       	adc	a,0x00
1785  055F  57          	ld	d, a
1786  0560  DD 7E FC    	ld	a,(ix-4)
1787  0563  DD 77 FF    	ld	(ix-1),a
1788  0566              l_game_anim_conveyor_00104:
1789  0566  DD 7E FF    	ld	a,(ix-1)
1790  0569  21 00 00    	ld	hl,_game_conveyor_col1
1791  056C  96          	sub	a, (hl)
1792  056D  30 08       	jr	NC,l_game_anim_conveyor_00106
1793  056F  0A          	ld	a, (bc)
1794  0570  12          	ld	(de), a
1795  0571  13          	inc	de
1796  0572  DD 34 FF    	inc	(ix-1)
1797  0575  18 EF       	jr	l_game_anim_conveyor_00104
1798  0577              l_game_anim_conveyor_00106:
1799  0577  03          	inc	bc
1800  0578  03          	inc	bc
1801  0579  21 00 00    	ld	hl,_i
1802  057C  34          	inc	(hl)
1803  057D  3A 00 00    	ld	a,(_game_conveyor_lin)
1804  0580  5F          	ld	e,a
1805  0581  16 00       	ld	d,0x00
1806  0583  13          	inc	de
1807  0584  13          	inc	de
1808  0585  DD 73 FD    	ld	(ix-3),e
1809  0588  DD 72 FE    	ld	(ix-2),d
1810  058B  3A 00 00    	ld	a,(_i)
1811  058E  5F          	ld	e,a
1812  058F  16 00       	ld	d,0x00
1813  0591  DD 7E FD    	ld	a,(ix-3)
1814  0594  93          	sub	a, e
1815  0595  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1816  0597  DD 7E FE    	ld	a,(ix-2)
1817  059A  92          	sub	a, d
1818  059B  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1819  059D  0A          	ld	a, (bc)
1820  059E  5F          	ld	e, a
1821  059F  3A 00 00    	ld	a,(_game_conveyor_dir)
1822  05A2  3D          	dec	a
1823  05A3  20 16       	jr	NZ,l_game_anim_conveyor_00108
1824  05A5  7B          	ld	a, e
1825  05A6  0F          	rrca
1826  05A7  E6 80       	and	a,0x80
1827  05A9  57          	ld	d, a
1828  05AA  CB 3B       	srl	e
1829  05AC  7A          	ld	a, d
1830  05AD  B3          	or	a, e
1831  05AE  57          	ld	d,a
1832  05AF  02          	ld	(bc),a
1833  05B0  0F          	rrca
1834  05B1  E6 80       	and	a,0x80
1835  05B3  5F          	ld	e, a
1836  05B4  CB 3A       	srl	d
1837  05B6  7B          	ld	a, e
1838  05B7  B2          	or	a, d
1839  05B8  02          	ld	(bc), a
1840  05B9  18 86       	jr	l_game_anim_conveyor_00112
1841  05BB              l_game_anim_conveyor_00108:
1842  05BB  7B          	ld	a, e
1843  05BC  87          	add	a, a
1844  05BD  57          	ld	d, a
1845  05BE  7B          	ld	a, e
1846  05BF  07          	rlca
1847  05C0  E6 01       	and	a,0x01
1848  05C2  B2          	or	a, d
1849  05C3  5F          	ld	e,a
1850  05C4  02          	ld	(bc),a
1851  05C5  87          	add	a, a
1852  05C6  57          	ld	d, a
1853  05C7  7B          	ld	a, e
1854  05C8  07          	rlca
1855  05C9  E6 01       	and	a,0x01
1856  05CB  B2          	or	a, d
1857  05CC  02          	ld	(bc), a
1858  05CD  C3 41 05    	jp	l_game_anim_conveyor_00112
1859  05D0              l_game_anim_conveyor_00115:
1860  05D0  DD F9       	ld	sp, ix
1861  05D2  DD E1       	pop	ix
1862  05D4  C9          	ret
1863  05D5              	SECTION code_compiler
1864  05D5              ;	---------------------------------
1865  05D5              ; Function game_round_init
1866  05D5              ; ---------------------------------
1867  05D5              _game_round_init:
1868  05D5  CD 00 00    	call	___sdcc_enter_ix
1869  05D8  21 D8 FF    	ld	hl, -40
1870  05DB  39          	add	hl, sp
1871  05DC  F9          	ld	sp, hl
1872  05DD  21 00 00    	ld	hl,0x0000
1873  05E0  39          	add	hl, sp
1874  05E1  4D          	ld	c,l
1875  05E2  44          	ld	b,h
1876  05E3  36 1B       	ld	(hl), +((___str_2) & 0xFF)
1877  05E5  23          	inc	hl
1878  05E6  36 00       	ld	(hl), +((___str_2) / 256)
1879  05E8  59          	ld	e, c
1880  05E9  50          	ld	d, b
1881  05EA  13          	inc	de
1882  05EB  13          	inc	de
1883  05EC  3E 33       	ld	a, +((___str_3) & 0xFF)
1884  05EE  12          	ld	(de), a
1885  05EF  13          	inc	de
1886  05F0  3E 00       	ld	a, +((___str_3) / 256)
1887  05F2  12          	ld	(de), a
1888  05F3  21 04 00    	ld	hl,0x0004
1889  05F6  09          	add	hl,bc
1890  05F7  36 4B       	ld	(hl), +((___str_4) & 0xFF)
1891  05F9  EB          	ex	de,hl
1892  05FA  13          	inc	de
1893  05FB  3E 00       	ld	a, +((___str_4) / 256)
1894  05FD  12          	ld	(de), a
1895  05FE  21 06 00    	ld	hl,0x0006
1896  0601  09          	add	hl,bc
1897  0602  36 63       	ld	(hl), +((___str_5) & 0xFF)
1898  0604  EB          	ex	de,hl
1899  0605  13          	inc	de
1900  0606  3E 00       	ld	a, +((___str_5) / 256)
1901  0608  12          	ld	(de), a
1902  0609  21 08 00    	ld	hl,0x0008
1903  060C  09          	add	hl,bc
1904  060D  36 81       	ld	(hl), +((___str_6) & 0xFF)
1905  060F  EB          	ex	de,hl
1906  0610  13          	inc	de
1907  0611  3E 00       	ld	a, +((___str_6) / 256)
1908  0613  12          	ld	(de), a
1909  0614  21 0A 00    	ld	hl,0x000a
1910  0617  09          	add	hl,bc
1911  0618  36 98       	ld	(hl), +((___str_7) & 0xFF)
1912  061A  EB          	ex	de,hl
1913  061B  13          	inc	de
1914  061C  3E 00       	ld	a, +((___str_7) / 256)
1915  061E  12          	ld	(de), a
1916  061F  21 0C 00    	ld	hl,0x000c
1917  0622  09          	add	hl,bc
1918  0623  36 B0       	ld	(hl), +((___str_8) & 0xFF)
1919  0625  EB          	ex	de,hl
1920  0626  13          	inc	de
1921  0627  3E 00       	ld	a, +((___str_8) / 256)
1922  0629  12          	ld	(de), a
1923  062A  21 0E 00    	ld	hl,0x000e
1924  062D  09          	add	hl,bc
1925  062E  36 C4       	ld	(hl), +((___str_9) & 0xFF)
1926  0630  EB          	ex	de,hl
1927  0631  13          	inc	de
1928  0632  3E 00       	ld	a, +((___str_9) / 256)
1929  0634  12          	ld	(de), a
1930  0635  21 10 00    	ld	hl,0x0010
1931  0638  09          	add	hl,bc
1932  0639  36 E5       	ld	(hl), +((___str_10) & 0xFF)
1933  063B  EB          	ex	de,hl
1934  063C  13          	inc	de
1935  063D  3E 00       	ld	a, +((___str_10) / 256)
1936  063F  12          	ld	(de), a
1937  0640  21 12 00    	ld	hl,0x0012
1938  0643  09          	add	hl,bc
1939  0644  36 FF       	ld	(hl), +((___str_11) & 0xFF)
1940  0646  EB          	ex	de,hl
1941  0647  13          	inc	de
1942  0648  3E 00       	ld	a, +((___str_11) / 256)
1943  064A  12          	ld	(de), a
1944  064B  21 14 00    	ld	hl,0x0014
1945  064E  09          	add	hl,bc
1946  064F  36 1A       	ld	(hl), +((___str_12) & 0xFF)
1947  0651  EB          	ex	de,hl
1948  0652  13          	inc	de
1949  0653  3E 01       	ld	a, +((___str_12) / 256)
1950  0655  12          	ld	(de), a
1951  0656  21 16 00    	ld	hl,0x0016
1952  0659  09          	add	hl,bc
1953  065A  36 3A       	ld	(hl), +((___str_13) & 0xFF)
1954  065C  EB          	ex	de,hl
1955  065D  13          	inc	de
1956  065E  3E 01       	ld	a, +((___str_13) / 256)
1957  0660  12          	ld	(de), a
1958  0661  21 18 00    	ld	hl,0x0018
1959  0664  09          	add	hl,bc
1960  0665  36 5A       	ld	(hl), +((___str_14) & 0xFF)
1961  0667  EB          	ex	de,hl
1962  0668  13          	inc	de
1963  0669  3E 01       	ld	a, +((___str_14) / 256)
1964  066B  12          	ld	(de), a
1965  066C  21 1A 00    	ld	hl,0x001a
1966  066F  09          	add	hl,bc
1967  0670  36 71       	ld	(hl), +((___str_15) & 0xFF)
1968  0672  EB          	ex	de,hl
1969  0673  13          	inc	de
1970  0674  3E 01       	ld	a, +((___str_15) / 256)
1971  0676  12          	ld	(de), a
1972  0677  21 1C 00    	ld	hl,0x001c
1973  067A  09          	add	hl,bc
1974  067B  36 8B       	ld	(hl), +((___str_16) & 0xFF)
1975  067D  EB          	ex	de,hl
1976  067E  13          	inc	de
1977  067F  3E 01       	ld	a, +((___str_16) / 256)
1978  0681  12          	ld	(de), a
1979  0682  21 1E 00    	ld	hl,0x001e
1980  0685  09          	add	hl,bc
1981  0686  36 A1       	ld	(hl), +((___str_17) & 0xFF)
1982  0688  EB          	ex	de,hl
1983  0689  13          	inc	de
1984  068A  3E 01       	ld	a, +((___str_17) / 256)
1985  068C  12          	ld	(de), a
1986  068D  21 20 00    	ld	hl,0x0020
1987  0690  09          	add	hl,bc
1988  0691  36 BC       	ld	(hl), +((___str_18) & 0xFF)
1989  0693  EB          	ex	de,hl
1990  0694  13          	inc	de
1991  0695  3E 01       	ld	a, +((___str_18) / 256)
1992  0697  12          	ld	(de), a
1993  0698  21 22 00    	ld	hl,0x0022
1994  069B  09          	add	hl,bc
1995  069C  36 D3       	ld	(hl), +((___str_19) & 0xFF)
1996  069E  EB          	ex	de,hl
1997  069F  13          	inc	de
1998  06A0  3E 01       	ld	a, +((___str_19) / 256)
1999  06A2  12          	ld	(de), a
2000  06A3  21 24 00    	ld	hl,0x0024
2001  06A6  09          	add	hl,bc
2002  06A7  36 ED       	ld	(hl), +((___str_20) & 0xFF)
2003  06A9  EB          	ex	de,hl
2004  06AA  13          	inc	de
2005  06AB  3E 01       	ld	a, +((___str_20) / 256)
2006  06AD  12          	ld	(de), a
2007  06AE  21 26 00    	ld	hl,0x0026
2008  06B1  09          	add	hl,bc
2009  06B2  36 08       	ld	(hl), +((___str_21) & 0xFF)
2010  06B4  EB          	ex	de,hl
2011  06B5  13          	inc	de
2012  06B6  3E 02       	ld	a, +((___str_21) / 256)
2013  06B8  12          	ld	(de), a
2014  06B9  2A 00 00    	ld	hl,(_scr_curr)
2015  06BC  26 00       	ld	h,0x00
2016  06BE  11 07 00    	ld	de,_game_borders
2017  06C1  19          	add	hl,de
2018  06C2  7E          	ld	a,(hl)
2019  06C3  32 00 00    	ld	(_map_border),a
2020  06C6  21 00 00    	ld	hl,0x0000
2021  06C9  22 00 00    	ld	(_loop_count),hl
2022  06CC  21 00 00    	ld	hl,0
2023  06CF  22 00 00    	ld	(_curr_time),hl
2024  06D2  21 00 00    	ld	hl,0x0000
2025  06D5  22 00 00    	ld	(_frame_time),hl
2026  06D8  21 00 00    	ld	hl,_player_coins
2027  06DB  36 00       	ld	(hl),0x00
2028  06DD  2A 00 00    	ld	hl,(_air_start_byte)
2029  06E0  22 00 00    	ld	(_air_curr_byte),hl
2030  06E3  21 00 00    	ld	hl,_i
2031  06E6  36 00       	ld	(hl),0x00
2032  06E8              l_game_round_init_00111:
2033  06E8  C5          	push	bc
2034  06E9  21 00 00    	ld	hl,0x0000
2035  06EC  E5          	push	hl
2036  06ED  AF          	xor	a, a
2037  06EE  2A 00 00    	ld	hl,(_i)
2038  06F1  67          	ld	h,a
2039  06F2  E5          	push	hl
2040  06F3  CD 00 00    	call	_NIRVANAP_spriteT_callee
2041  06F6  C1          	pop	bc
2042  06F7  21 00 00    	ld	hl,_i
2043  06FA  7E          	ld	a,(hl)
2044  06FB  3C          	inc	a
2045  06FC  77          	ld	(hl),a
2046  06FD  D6 08       	sub	a,0x08
2047  06FF  38 E7       	jr	C,l_game_round_init_00111
2048  0701  76          	halt
2049  0702  C5          	push	bc
2050  0703  CD 00 00    	call	_spr_clear_scr
2051  0706  C1          	pop	bc
2052  0707  21 00 00    	ld	hl,_spr_init_cin
2053  070A  36 00       	ld	(hl),0x00
2054  070C  21 00 00    	ld	hl,_spr_init_cout
2055  070F  36 00       	ld	(hl),0x00
2056  0711  3A 00 00    	ld	a,(_scr_curr)
2057  0714  D6 04       	sub	a,0x04
2058  0716  20 0A       	jr	NZ,l_game_round_init_00103
2059  0718  21 00 00    	ld	hl,_spr_init_cin
2060  071B  36 02       	ld	(hl),0x02
2061  071D  21 00 00    	ld	hl,_spr_init_cout
2062  0720  36 03       	ld	(hl),0x03
2063  0722              l_game_round_init_00103:
2064  0722  C5          	push	bc
2065  0723  21 28 08    	ld	hl,0x0828
2066  0726  E5          	push	hl
2067  0727  CD D9 10    	call	_game_copy_tile_std
2068  072A  F1          	pop	af
2069  072B  C1          	pop	bc
2070  072C  7D          	ld	a,l
2071  072D  32 00 00    	ld	(_game_tile_cnt),a
2072  0730  21 00 00    	ld	hl,_key_last
2073  0733  36 00       	ld	(hl),0x00
2074  0735  21 00 00    	ld	hl,_key_ink
2075  0738  36 06       	ld	(hl),0x06
2076  073A  21 00 00    	ld	hl,_i
2077  073D  36 00       	ld	(hl),0x00
2078  073F              l_game_round_init_00104:
2079  073F  21 00 00    	ld	hl,_i
2080  0742  7E          	ld	a, (hl)
2081  0743  D6 08       	sub	a,0x08
2082  0745  30 1B       	jr	NC,l_game_round_init_00106
2083  0747  3E 00       	ld	a, +((_obj_col) & 0xFF)
2084  0749  86          	add	a, (hl)
2085  074A  5F          	ld	e, a
2086  074B  3E 00       	ld	a, +((_obj_col) / 256)
2087  074D  CE 00       	adc	a,0x00
2088  074F  57          	ld	d, a
2089  0750  3E FF       	ld	a,0xff
2090  0752  12          	ld	(de), a
2091  0753  3E 00       	ld	a, +((_obj_lin) & 0xFF)
2092  0755  86          	add	a, (hl)
2093  0756  5F          	ld	e, a
2094  0757  3E 00       	ld	a, +((_obj_lin) / 256)
2095  0759  CE 00       	adc	a,0x00
2096  075B  57          	ld	d, a
2097  075C  3E FF       	ld	a,0xff
2098  075E  12          	ld	(de), a
2099  075F  34          	inc	(hl)
2100  0760  18 DD       	jr	l_game_round_init_00104
2101  0762              l_game_round_init_00106:
2102  0762  CD 00 00    	call	_ay_reset
2103  0765  2A 00 00    	ld	hl,(_map_border)
2104  0768  CD 00 00    	call	_zx_border_fastcall
2105  076B  21 00 00    	ld	hl,_map_border
2106  076E  7E          	ld	a, (hl)
2107  076F  07          	rlca
2108  0770  07          	rlca
2109  0771  07          	rlca
2110  0772  E6 F8       	and	a,0xf8
2111  0774  B6          	or	a, (hl)
2112  0775  32 00 00    	ld	(_screen_ink),a
2113  0778  C5          	push	bc
2114  0779  21 00 20    	ld	hl,0x2000
2115  077C  E5          	push	hl
2116  077D  CD 00 00    	call	_game_fill_row
2117  0780  C1          	pop	bc
2118  0781  3A 00 00    	ld	a,(_scr_curr)
2119  0784  B7          	or	a, a
2120  0785  28 0E       	jr	Z,l_game_round_init_00108
2121  0787  21 00 00    	ld	hl,_screen_ink
2122  078A  36 30       	ld	(hl),0x30
2123  078C  C5          	push	bc
2124  078D  21 11 20    	ld	hl,0x2011
2125  0790  E5          	push	hl
2126  0791  CD 00 00    	call	_game_fill_row
2127  0794  C1          	pop	bc
2128  0795              l_game_round_init_00108:
2129  0795  C5          	push	bc
2130  0796  CD 01 0B    	call	_game_page_map
2131  0799  CD 20 01    	call	_game_draw_map
2132  079C  CD 00 00    	call	_spr_btile_paint_back
2133  079F  C1          	pop	bc
2134  07A0  3A 00 00    	ld	a,(_map_paper)
2135  07A3  21 00 00    	ld	hl,_key_ink
2136  07A6  B6          	or	a, (hl)
2137  07A7  32 00 00    	ld	(_key_attrib),a
2138  07AA  32 01 00    	ld	((_key_attrib + 0x0001)),a
2139  07AD  32 02 00    	ld	((_key_attrib + 0x0002)),a
2140  07B0  32 03 00    	ld	((_key_attrib + 0x0003)),a
2141  07B3  C5          	push	bc
2142  07B4  AF          	xor	a, a
2143  07B5  F5          	push	af
2144  07B6  33          	inc	sp
2145  07B7  CD A0 10    	call	_game_flash_exit
2146  07BA  33          	inc	sp
2147  07BB  C1          	pop	bc
2148  07BC  21 00 00    	ld	hl,_game_song_play_start
2149  07BF  36 00       	ld	(hl),0x00
2150  07C1  C5          	push	bc
2151  07C2  CD 00 00    	call	_audio_ingame
2152  07C5  C1          	pop	bc
2153  07C6  3A 00 00    	ld	a,(_game_over)
2154  07C9  B7          	or	a, a
2155  07CA  20 17       	jr	NZ,l_game_round_init_00110
2156  07CC  2A 00 00    	ld	hl,(_player_col_scr)
2157  07CF  C5          	push	bc
2158  07D0  26 08       	ld	h,0x08
2159  07D2  3A 00 00    	ld	a,(_player_lin_scr)
2160  07D5  E5          	push	hl
2161  07D6  F5          	push	af
2162  07D7  33          	inc	sp
2163  07D8  CD 00 00    	call	_player_init
2164  07DB  F1          	pop	af
2165  07DC  33          	inc	sp
2166  07DD  C1          	pop	bc
2167  07DE  21 00 00    	ld	hl,_player_killed
2168  07E1  36 00       	ld	(hl),0x00
2169  07E3              l_game_round_init_00110:
2170  07E3  C5          	push	bc
2171  07E4  CD 00 00    	call	_game_update_stats
2172  07E7  C1          	pop	bc
2173  07E8  21 00 00    	ld	hl,_screen_ink
2174  07EB  36 30       	ld	(hl),0x30
2175  07ED  C5          	push	bc
2176  07EE  21 11 20    	ld	hl,0x2011
2177  07F1  E5          	push	hl
2178  07F2  CD 00 00    	call	_game_fill_row
2179  07F5  C1          	pop	bc
2180  07F6  2A 00 00    	ld	hl,(_scr_curr)
2181  07F9  26 00       	ld	h,0x00
2182  07FB  29          	add	hl, hl
2183  07FC  09          	add	hl, bc
2184  07FD  4E          	ld	c, (hl)
2185  07FE  23          	inc	hl
2186  07FF  46          	ld	b, (hl)
2187  0800  C5          	push	bc
2188  0801  21 11 00    	ld	hl,0x0011
2189  0804  E5          	push	hl
2190  0805  CD 00 00    	call	_zx_print_str
2191  0808  21 00 00    	ld	hl,_screen_ink
2192  080B  36 57       	ld	(hl),0x57
2193  080D  21 22 02    	ld	hl,___str_22
2194  0810  E5          	push	hl
2195  0811  21 12 00    	ld	hl,0x0012
2196  0814  E5          	push	hl
2197  0815  CD 00 00    	call	_zx_print_str
2198  0818  21 00 00    	ld	hl,_screen_ink
2199  081B  36 67       	ld	(hl),0x67
2200  081D  21 2D 02    	ld	hl,___str_23
2201  0820  E5          	push	hl
2202  0821  21 12 0A    	ld	hl,0x0a12
2203  0824  E5          	push	hl
2204  0825  CD 00 00    	call	_zx_print_str
2205  0828  21 00 00    	ld	hl,_screen_ink
2206  082B  36 06       	ld	(hl),0x06
2207  082D  21 44 02    	ld	hl,___str_24
2208  0830  E5          	push	hl
2209  0831  21 14 00    	ld	hl,0x0014
2210  0834  E5          	push	hl
2211  0835  CD 00 00    	call	_zx_print_str
2212  0838  CD 04 04    	call	_game_print_score
2213  083B  CD 25 04    	call	_game_print_lives
2214  083E  21 00 00    	ld	hl,_screen_ink
2215  0841  36 07       	ld	(hl),0x07
2216  0843  76          	halt
2217  0844  DD F9       	ld	sp, ix
2218  0846  DD E1       	pop	ix
2219  0848  C9          	ret
2220  0849              	SECTION rodata_compiler
2221  0007              _game_borders:
2222  0007  02          	DEFB +0x02
2223  0008  02          	DEFB +0x02
2224  0009  02          	DEFB +0x02
2225  000A  02          	DEFB +0x02
2226  000B  01          	DEFB +0x01
2227  000C  02          	DEFB +0x02
2228  000D  04          	DEFB +0x04
2229  000E  02          	DEFB +0x02
2230  000F  01          	DEFB +0x01
2231  0010  02          	DEFB +0x02
2232  0011  02          	DEFB +0x02
2233  0012  02          	DEFB +0x02
2234  0013  01          	DEFB +0x01
2235  0014  06          	DEFB +0x06
2236  0015  02          	DEFB +0x02
2237  0016  02          	DEFB +0x02
2238  0017  02          	DEFB +0x02
2239  0018  01          	DEFB +0x01
2240  0019  03          	DEFB +0x03
2241  001A  02          	DEFB +0x02
2242  001B              	SECTION rodata_compiler
2243  001B              ___str_2:
2244  001B  20 20 20 20 20 20 20 20 20 43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "         Central Cavern"
2245  0032  00          	DEFB 0x00
2246  0033              	SECTION rodata_compiler
2247  0033              ___str_3:
2248  0033  20 20 20 20 20 20 20 20 20 20 54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "          The Cold Room"
2249  004A  00          	DEFB 0x00
2250  004B              	SECTION rodata_compiler
2251  004B              ___str_4:
2252  004B  20 20 20 20 20 20 20 20 20 20 54 68 65 20 4D 65 6E 61 67 65 72 69 65 
                        	DEFM "          The Menagerie"
2253  0062  00          	DEFB 0x00
2254  0063              	SECTION rodata_compiler
2255  0063              ___str_5:
2256  0063  20 20 20 41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "   Abandoned Uranium Workings"
2257  0080  00          	DEFB 0x00
2258  0081              	SECTION rodata_compiler
2259  0081              ___str_6:
2260  0081  20 20 20 20 20 20 20 20 20 45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "         Eugene's Lair"
2261  0097  00          	DEFB 0x00
2262  0098              	SECTION rodata_compiler
2263  0098              ___str_7:
2264  0098  20 20 20 20 20 20 20 50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "       Processing Plant"
2265  00AF  00          	DEFB 0x00
2266  00B0              	SECTION rodata_compiler
2267  00B0              ___str_8:
2268  00B0  20 20 20 20 20 20 20 20 20 20 20 20 54 68 65 20 56 61 74 
                        	DEFM "            The Vat"
2269  00C3  00          	DEFB 0x00
2270  00C4              	SECTION rodata_compiler
2271  00C4              ___str_9:
2272  00C4  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2273  00E4  00          	DEFB 0x00
2274  00E5              	SECTION rodata_compiler
2275  00E5              ___str_10:
2276  00E5  20 20 20 20 20 20 20 20 57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "        Wacky Amoebatrons"
2277  00FE  00          	DEFB 0x00
2278  00FF              	SECTION rodata_compiler
2279  00FF              ___str_11:
2280  00FF  20 20 20 20 20 20 20 54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "       The Endorian Forest"
2281  0119  00          	DEFB 0x00
2282  011A              	SECTION rodata_compiler
2283  011A              ___str_12:
2284  011A  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2285  0139  00          	DEFB 0x00
2286  013A              	SECTION rodata_compiler
2287  013A              ___str_13:
2288  013A  20 52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM " Return of the Alien Kong Beast"
2289  0159  00          	DEFB 0x00
2290  015A              	SECTION rodata_compiler
2291  015A              ___str_14:
2292  015A  20 20 20 20 20 20 20 20 20 20 4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "          Ore Refinery"
2293  0170  00          	DEFB 0x00
2294  0171              	SECTION rodata_compiler
2295  0171              ___str_15:
2296  0171  20 20 20 20 20 20 20 53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "       Skylab Landing Bay"
2297  018A  00          	DEFB 0x00
2298  018B              	SECTION rodata_compiler
2299  018B              ___str_16:
2300  018B  20 20 20 20 20 20 20 20 20 20 20 20 20 54 68 65 20 42 61 6E 6B 
                        	DEFM "             The Bank"
2301  01A0  00          	DEFB 0x00
2302  01A1              	SECTION rodata_compiler
2303  01A1              ___str_17:
2304  01A1  20 20 20 20 20 20 54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "      The Sixteenth Cavern"
2305  01BB  00          	DEFB 0x00
2306  01BC              	SECTION rodata_compiler
2307  01BC              ___str_18:
2308  01BC  20 20 20 20 20 20 20 20 20 54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "         The Warehouse"
2309  01D2  00          	DEFB 0x00
2310  01D3              	SECTION rodata_compiler
2311  01D3              ___str_19:
2312  01D3  20 20 20 20 20 20 41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "      Amoebatrons Revenge"
2313  01EC  00          	DEFB 0x00
2314  01ED              	SECTION rodata_compiler
2315  01ED              ___str_20:
2316  01ED  20 20 20 20 20 53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "     Solar Power Generator"
2317  0207  00          	DEFB 0x00
2318  0208              	SECTION rodata_compiler
2319  0208              ___str_21:
2320  0208  20 20 20 20 20 20 20 20 54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "        The Final Barrier"
2321  0221  00          	DEFB 0x00
2322  0222              	SECTION rodata_compiler
2323  0222              ___str_22:
2324  0222  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2325  022C  00          	DEFB 0x00
2326  022D              	SECTION rodata_compiler
2327  022D              ___str_23:
2328  022D  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2329  0243  00          	DEFB 0x00
2330  0244              	SECTION rodata_compiler
2331  0244              ___str_24:
2332  0244  48 69 67 68 20 53 63 6F 72 65 20 20 20 20 20 20 20 20 20 53 63 6F 72 65 20 20 20 20 20 20 
                        	DEFM "High Score         Score      "
2333  0262  00          	DEFB 0x00
2334  0263              	SECTION code_compiler
2335  0849              ;	---------------------------------
2336  0849              ; Function game_print_header
2337  0849              ; ---------------------------------
2338  0849              	defc _game_print_header	=	_game_print_score
2339  0849              	SECTION code_compiler
2340  0849              ;	---------------------------------
2341  0849              ; Function game_check_map
2342  0849              ; ---------------------------------
2343  0849              _game_check_map:
2344  0849  CD 00 00    	call	___sdcc_enter_ix
2345  084C  DD 66 05    	ld	h,(ix+5)
2346  084F  DD 6E 04    	ld	l,(ix+4)
2347  0852  E5          	push	hl
2348  0853  CD 00 00    	call	_spr_calc_index
2349  0856  F1          	pop	af
2350  0857  22 00 00    	ld	(_index1),hl
2351  085A  21 00 00    	ld	hl,_index1
2352  085D  DD E1       	pop	ix
2353  085F  C3 62 08    	jp	_game_check_cell
2354  0862              	SECTION code_compiler
2355  0862              ;	---------------------------------
2356  0862              ; Function game_check_cell
2357  0862              ; ---------------------------------
2358  0862              _game_check_cell:
2359  0862  4E          	ld	c, (hl)
2360  0863  23          	inc	hl
2361  0864  46          	ld	b, (hl)
2362  0865  AF          	xor	a, a
2363  0866  B9          	cp	a, c
2364  0867  3E 02       	ld	a,0x02
2365  0869  98          	sbc	a, b
2366  086A  30 04       	jr	NC,l_game_check_cell_00102
2367  086C  2E 01       	ld	l,0x01
2368  086E  18 13       	jr	l_game_check_cell_00106
2369  0870              l_game_check_cell_00102:
2370  0870  21 00 00    	ld	hl,_scr_map
2371  0873  09          	add	hl, bc
2372  0874  5E          	ld	e, (hl)
2373  0875  ED 43 00 00 	ld	(_index1),bc
2374  0879  7B          	ld	a,e
2375  087A  D6 03       	sub	a,0x03
2376  087C  28 04       	jr	Z,l_game_check_cell_00104
2377  087E  2E 00       	ld	l,0x00
2378  0880  18 01       	jr	l_game_check_cell_00106
2379  0882              l_game_check_cell_00104:
2380  0882  6B          	ld	l, e
2381  0883              l_game_check_cell_00106:
2382  0883  C9          	ret
2383  0884              	SECTION code_compiler
2384  0884              ;	---------------------------------
2385  0884              ; Function game_paint_attrib
2386  0884              ; ---------------------------------
2387  0884              _game_paint_attrib:
2388  0884  CD 00 00    	call	___sdcc_enter_ix
2389  0887  DD 46 06    	ld	b,(ix+6)
2390  088A              l_game_paint_attrib_00103:
2391  088A  78          	ld	a, b
2392  088B  DD 96 07    	sub	a,(ix+7)
2393  088E  30 13       	jr	NC,l_game_paint_attrib_00105
2394  0890  DD 5E 04    	ld	e,(ix+4)
2395  0893  DD 56 05    	ld	d,(ix+5)
2396  0896  C5          	push	bc
2397  0897  DD 4E 08    	ld	c,(ix+8)
2398  089A  C5          	push	bc
2399  089B  D5          	push	de
2400  089C  CD 00 00    	call	_NIRVANAP_paintC_callee
2401  089F  C1          	pop	bc
2402  08A0  04          	inc	b
2403  08A1  18 E7       	jr	l_game_paint_attrib_00103
2404  08A3              l_game_paint_attrib_00105:
2405  08A3  DD E1       	pop	ix
2406  08A5  C9          	ret
2407  08A6              	SECTION code_compiler
2408  08A6              ;	---------------------------------
2409  08A6              ; Function game_colour_message
2410  08A6              ; ---------------------------------
2411  08A6              _game_colour_message:
2412  08A6  CD 00 00    	call	___sdcc_enter_ix
2413  08A9  F5          	push	af
2414  08AA  F5          	push	af
2415  08AB  F5          	push	af
2416  08AC  F5          	push	af
2417  08AD  D1          	pop	de
2418  08AE  21 00 00    	ld	hl,_v0
2419  08B1  36 01       	ld	(hl),0x01
2420  08B3  2A 00 00    	ld	hl,(_curr_time)
2421  08B6  22 00 00    	ld	(_frame_time),hl
2422  08B9  E5          	push	hl
2423  08BA  DD 7E 04    	ld	a,(ix+4)
2424  08BD  4D          	ld	c,l
2425  08BE  07          	rlca
2426  08BF  07          	rlca
2427  08C0  07          	rlca
2428  08C1  E6 F8       	and	a,0xf8
2429  08C3  DD 77 FF    	ld	(ix-1),a
2430  08C6  C6 08       	add	a,0x08
2431  08C8  DD 77 FE    	ld	(ix-2),a
2432  08CB  DD 77 FD    	ld	(ix-3),a
2433  08CE              l_game_colour_message_00112:
2434  08CE  3A 00 00    	ld	a,(_v0)
2435  08D1  B7          	or	a, a
2436  08D2  CA 6E 09    	jp	Z, l_game_colour_message_00114
2437  08D5  DD 46 07    	ld	b,(ix+7)
2438  08D8  21 00 00    	ld	hl,0x0000
2439  08DB  39          	add	hl, sp
2440  08DC  EB          	ex	de,hl
2441  08DD  C5          	push	bc
2442  08DE  33          	inc	sp
2443  08DF  D5          	push	de
2444  08E0  CD E4 09    	call	_game_check_time
2445  08E3  F1          	pop	af
2446  08E4  33          	inc	sp
2447  08E5  7D          	ld	a, l
2448  08E6  B7          	or	a, a
2449  08E7  C2 6E 09    	jp	NZ, l_game_colour_message_00114
2450  08EA  3E 05       	ld	a,0x05
2451  08EC  F5          	push	af
2452  08ED  33          	inc	sp
2453  08EE  21 00 00    	ld	hl,_frame_time
2454  08F1  E5          	push	hl
2455  08F2  CD E4 09    	call	_game_check_time
2456  08F5  F1          	pop	af
2457  08F6  33          	inc	sp
2458  08F7  DD 75 FC    	ld	(ix-4),l
2459  08FA  7D          	ld	a, l
2460  08FB  B7          	or	a, a
2461  08FC  28 4A       	jr	Z,l_game_colour_message_00105
2462  08FE  2A 00 00    	ld	hl,(_curr_time)
2463  0901  DD 74 FB    	ld	(ix-5),h
2464  0904  DD 75 FA    	ld	(ix-6),l
2465  0907  7D          	ld	a, l
2466  0908  21 00 00    	ld	hl,_frame_time
2467  090B  77          	ld	(hl), a
2468  090C  DD 7E FB    	ld	a,(ix-5)
2469  090F  23          	inc	hl
2470  0910  77          	ld	(hl), a
2471  0911  3A 00 00    	ld	a,(_game_over)
2472  0914  B7          	or	a, a
2473  0915  28 18       	jr	Z,l_game_colour_message_00102
2474  0917  DD 66 FD    	ld	h,(ix-3)
2475  091A  DD 6E 06    	ld	l,(ix+6)
2476  091D  E5          	push	hl
2477  091E  DD 7E 05    	ld	a,(ix+5)
2478  0921  F5          	push	af
2479  0922  33          	inc	sp
2480  0923  21 00 00    	ld	hl,_attrib_hl
2481  0926  E5          	push	hl
2482  0927  CD 84 08    	call	_game_paint_attrib
2483  092A  F1          	pop	af
2484  092B  F1          	pop	af
2485  092C  33          	inc	sp
2486  092D  18 19       	jr	l_game_colour_message_00105
2487  092F              l_game_colour_message_00102:
2488  092F  DD 66 FE    	ld	h,(ix-2)
2489  0932  DD 6E 06    	ld	l,(ix+6)
2490  0935  E5          	push	hl
2491  0936  DD 7E 05    	ld	a,(ix+5)
2492  0939  F5          	push	af
2493  093A  33          	inc	sp
2494  093B  21 00 00    	ld	hl,_attrib_osd
2495  093E  E5          	push	hl
2496  093F  CD 84 08    	call	_game_paint_attrib
2497  0942  F1          	pop	af
2498  0943  F1          	pop	af
2499  0944  33          	inc	sp
2500  0945  CD 8C 0A    	call	_game_rotate_attrib_osd
2501  0948              l_game_colour_message_00105:
2502  0948  DD 7E 09    	ld	a,(ix+9)
2503  094B  B7          	or	a, a
2504  094C  CA CE 08    	jp	Z, l_game_colour_message_00112
2505  094F              l_game_colour_message_00106:
2506  094F  21 00 00    	ld	hl,_k1
2507  0952  E5          	push	hl
2508  0953  2A 00 00    	ld	hl,(_joyfunc1)
2509  0956  CD 00 00    	call	___sdcc_call_hl
2510  0959  F1          	pop	af
2511  095A  DD 74 FB    	ld	(ix-5),h
2512  095D  DD 75 FA    	ld	(ix-6),l
2513  0960  7C          	ld	a,h
2514  0961  DD B6 FA    	or	a,(ix-6)
2515  0964  CA CE 08    	jp	Z, l_game_colour_message_00112
2516  0967  21 00 00    	ld	hl,_v0
2517  096A  36 00       	ld	(hl),0x00
2518  096C  18 E1       	jr	l_game_colour_message_00106
2519  096E              l_game_colour_message_00114:
2520  096E  DD 7E 06    	ld	a,(ix+6)
2521  0971  DD 96 05    	sub	a,(ix+5)
2522  0974  4F          	ld	c, a
2523  0975  3A 00 00    	ld	a,(_game_over)
2524  0978  B7          	or	a, a
2525  0979  28 2F       	jr	Z,l_game_colour_message_00118
2526  097B  21 00 00    	ld	hl,_v1
2527  097E  71          	ld	(hl), c
2528  097F  21 00 00    	ld	hl,_v0
2529  0982  36 00       	ld	(hl),0x00
2530  0984              l_game_colour_message_00121:
2531  0984  3A 00 00    	ld	a,(_v0)
2532  0987  21 00 00    	ld	hl,_v1
2533  098A  96          	sub	a, (hl)
2534  098B  30 52       	jr	NC,l_game_colour_message_00126
2535  098D  DD 7E 05    	ld	a,(ix+5)
2536  0990  21 00 00    	ld	hl,_v0
2537  0993  86          	add	a, (hl)
2538  0994  4F          	ld	c, a
2539  0995  21 63 02    	ld	hl,___str_25
2540  0998  E5          	push	hl
2541  0999  79          	ld	a, c
2542  099A  F5          	push	af
2543  099B  33          	inc	sp
2544  099C  DD 7E 04    	ld	a,(ix+4)
2545  099F  F5          	push	af
2546  09A0  33          	inc	sp
2547  09A1  CD 00 00    	call	_zx_print_str
2548  09A4  21 00 00    	ld	hl,_v0
2549  09A7  34          	inc	(hl)
2550  09A8  18 DA       	jr	l_game_colour_message_00121
2551  09AA              l_game_colour_message_00118:
2552  09AA  21 00 00    	ld	hl,_v1
2553  09AD  71          	ld	(hl), c
2554  09AE  DD 7E FF    	ld	a,(ix-1)
2555  09B1  32 00 00    	ld	(_s_lin0),a
2556  09B4  DD 7E 05    	ld	a,(ix+5)
2557  09B7  CB 3F       	srl	a
2558  09B9  87          	add	a, a
2559  09BA  32 00 00    	ld	(_s_col1),a
2560  09BD  21 00 00    	ld	hl,_v2
2561  09C0  36 00       	ld	(hl),0x00
2562  09C2              l_game_colour_message_00124:
2563  09C2  3A 00 00    	ld	a,(_v2)
2564  09C5  21 00 00    	ld	hl,_v1
2565  09C8  96          	sub	a, (hl)
2566  09C9  30 14       	jr	NC,l_game_colour_message_00126
2567  09CB  3A 00 00    	ld	a,(_s_col1)
2568  09CE  21 00 00    	ld	hl,_v2
2569  09D1  86          	add	a, (hl)
2570  09D2  32 00 00    	ld	(_s_col0),a
2571  09D5  CD 00 00    	call	_spr_back_repaint
2572  09D8  21 00 00    	ld	hl,_v2
2573  09DB  34          	inc	(hl)
2574  09DC  34          	inc	(hl)
2575  09DD  18 E3       	jr	l_game_colour_message_00124
2576  09DF              l_game_colour_message_00126:
2577  09DF  DD F9       	ld	sp, ix
2578  09E1  DD E1       	pop	ix
2579  09E3  C9          	ret
2580  09E4              	SECTION rodata_compiler
2581  0263              ___str_25:
2582  0263  20          	DEFM " "
2583  0264  00          	DEFB 0x00
2584  0265              	SECTION code_compiler
2585  09E4              ;	---------------------------------
2586  09E4              ; Function game_check_time
2587  09E4              ; ---------------------------------
2588  09E4              _game_check_time:
2589  09E4  CD 00 00    	call	___sdcc_enter_ix
2590  09E7  2A 00 00    	ld	hl,(_curr_time)
2591  09EA  4D          	ld	c, l
2592  09EB  DD 6E 04    	ld	l,(ix+4)
2593  09EE  44          	ld	b,h
2594  09EF  DD 66 05    	ld	h,(ix+5)
2595  09F2  5E          	ld	e, (hl)
2596  09F3  23          	inc	hl
2597  09F4  56          	ld	d, (hl)
2598  09F5  79          	ld	a, c
2599  09F6  93          	sub	a, e
2600  09F7  4F          	ld	c, a
2601  09F8  78          	ld	a, b
2602  09F9  9A          	sbc	a, d
2603  09FA  47          	ld	b, a
2604  09FB  DD 7E 06    	ld	a,(ix+6)
2605  09FE  16 00       	ld	d,0x00
2606  0A00  91          	sub	a, c
2607  0A01  7A          	ld	a, d
2608  0A02  98          	sbc	a, b
2609  0A03  30 04       	jr	NC,l_game_check_time_00102
2610  0A05  2E 01       	ld	l,0x01
2611  0A07  18 02       	jr	l_game_check_time_00104
2612  0A09              l_game_check_time_00102:
2613  0A09  2E 00       	ld	l,0x00
2614  0A0B              l_game_check_time_00104:
2615  0A0B  DD E1       	pop	ix
2616  0A0D  C9          	ret
2617  0A0E              	SECTION code_compiler
2618  0A0E              ;	---------------------------------
2619  0A0E              ; Function game_key_paint
2620  0A0E              ; ---------------------------------
2621  0A0E              _game_key_paint:
2622  0A0E  3A 00 00    	ld	a,(_game_playing)
2623  0A11  B7          	or	a, a
2624  0A12  CA 8B 0A    	jp	Z, l_game_key_paint_00117
2625  0A15  3A 00 00    	ld	a,(_obj_count)
2626  0A18  B7          	or	a, a
2627  0A19  28 70       	jr	Z,l_game_key_paint_00117
2628  0A1B  21 00 00    	ld	hl,_key_last
2629  0A1E  4E          	ld	c, (hl)
2630  0A1F  59          	ld	e, c
2631  0A20              l_game_key_paint_00105:
2632  0A20  7B          	ld	a, e
2633  0A21  D6 08       	sub	a,0x08
2634  0A23  30 4A       	jr	NC,l_game_key_paint_00107
2635  0A25  16 00       	ld	d,0x00
2636  0A27  21 00 00    	ld	hl,_obj_col
2637  0A2A  19          	add	hl, de
2638  0A2B  7E          	ld	a,(hl)
2639  0A2C  47          	ld	b,a
2640  0A2D  3C          	inc	a
2641  0A2E  28 3B       	jr	Z,l_game_key_paint_00104
2642  0A30  11 00 00    	ld	de,_obj_lin+0
2643  0A33  69          	ld	l,c
2644  0A34  26 00       	ld	h,0x00
2645  0A36  19          	add	hl, de
2646  0A37  5E          	ld	e, (hl)
2647  0A38  C5          	push	bc
2648  0A39  C5          	push	bc
2649  0A3A  33          	inc	sp
2650  0A3B  7B          	ld	a, e
2651  0A3C  F5          	push	af
2652  0A3D  33          	inc	sp
2653  0A3E  21 00 00    	ld	hl,_key_attrib
2654  0A41  E5          	push	hl
2655  0A42  CD 00 00    	call	_NIRVANAP_paintC_callee
2656  0A45  C1          	pop	bc
2657  0A46  3A 00 00    	ld	a,(_map_paper)
2658  0A49  21 00 00    	ld	hl,_key_ink
2659  0A4C  B6          	or	a, (hl)
2660  0A4D  32 00 00    	ld	(_key_attrib),a
2661  0A50  32 01 00    	ld	((_key_attrib + 0x0001)),a
2662  0A53  32 02 00    	ld	((_key_attrib + 0x0002)),a
2663  0A56  32 03 00    	ld	((_key_attrib + 0x0003)),a
2664  0A59  21 00 00    	ld	hl,_key_ink
2665  0A5C  34          	inc	(hl)
2666  0A5D  3E 06       	ld	a,0x06
2667  0A5F  96          	sub	a, (hl)
2668  0A60  30 02       	jr	NC,l_game_key_paint_00102
2669  0A62  36 03       	ld	(hl),0x03
2670  0A64              l_game_key_paint_00102:
2671  0A64  79          	ld	a, c
2672  0A65  3C          	inc	a
2673  0A66  32 00 00    	ld	(_key_last),a
2674  0A69  18 04       	jr	l_game_key_paint_00107
2675  0A6B              l_game_key_paint_00104:
2676  0A6B  1C          	inc	e
2677  0A6C  4B          	ld	c, e
2678  0A6D  18 B1       	jr	l_game_key_paint_00105
2679  0A6F              l_game_key_paint_00107:
2680  0A6F  79          	ld	a, c
2681  0A70  D6 08       	sub	a,0x08
2682  0A72  38 17       	jr	C,l_game_key_paint_00117
2683  0A74  3A 00 00    	ld	a,(_obj_count)
2684  0A77  D6 04       	sub	a,0x04
2685  0A79  20 0B       	jr	NZ,l_game_key_paint_00111
2686  0A7B  21 00 00    	ld	hl,_key_ink
2687  0A7E  34          	inc	(hl)
2688  0A7F  3E 06       	ld	a,0x06
2689  0A81  96          	sub	a, (hl)
2690  0A82  30 02       	jr	NC,l_game_key_paint_00111
2691  0A84  36 03       	ld	(hl),0x03
2692  0A86              l_game_key_paint_00111:
2693  0A86  21 00 00    	ld	hl,_key_last
2694  0A89  36 00       	ld	(hl),0x00
2695  0A8B              l_game_key_paint_00117:
2696  0A8B  C9          	ret
2697  0A8C              	SECTION code_compiler
2698  0A8C              ;	---------------------------------
2699  0A8C              ; Function game_rotate_attrib_osd
2700  0A8C              ; ---------------------------------
2701  0A8C              _game_rotate_attrib_osd:
2702  0A8C  3A 00 00    	ld	a,(_game_attrib_osd)
2703  0A8F  D6 07       	sub	a,0x07
2704  0A91  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2705  0A93  21 00 00    	ld	hl,_game_attrib_osd
2706  0A96  36 01       	ld	(hl),0x01
2707  0A98              l_game_rotate_attrib_osd_00102:
2708  0A98  21 00 00    	ld	hl,_game_attrib_osd
2709  0A9B  34          	inc	(hl)
2710  0A9C  01 00 00    	ld	bc,_attrib_osd+0
2711  0A9F  0A          	ld	a, (bc)
2712  0AA0  32 00 00    	ld	(_v0),a
2713  0AA3  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2714  0AA6  02          	ld	(bc), a
2715  0AA7  59          	ld	e, c
2716  0AA8  50          	ld	d, b
2717  0AA9  13          	inc	de
2718  0AAA  03          	inc	bc
2719  0AAB  03          	inc	bc
2720  0AAC  0A          	ld	a, (bc)
2721  0AAD  12          	ld	(de), a
2722  0AAE  02          	ld	(bc), a
2723  0AAF  3A 00 00    	ld	a,(_v0)
2724  0AB2  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2725  0AB5  C9          	ret
2726  0AB6              	SECTION code_compiler
2727  0AB6              ;	---------------------------------
2728  0AB6              ; Function game_attribs
2729  0AB6              ; ---------------------------------
2730  0AB6              _game_attribs:
2731  0AB6  01 00 00    	ld	bc,_attrib+0
2732  0AB9  21 00 00    	ld	hl,_map_paper
2733  0ABC  7E          	ld	a, (hl)
2734  0ABD  F6 06       	or	a,0x06
2735  0ABF  02          	ld	(bc), a
2736  0AC0  59          	ld	e, c
2737  0AC1  50          	ld	d, b
2738  0AC2  13          	inc	de
2739  0AC3  7E          	ld	a, (hl)
2740  0AC4  F6 46       	or	a,0x46
2741  0AC6  12          	ld	(de), a
2742  0AC7  7E          	ld	a, (hl)
2743  0AC8  F6 07       	or	a,0x07
2744  0ACA  32 02 00    	ld	((_attrib + 0x0002)),a
2745  0ACD  03          	inc	bc
2746  0ACE  03          	inc	bc
2747  0ACF  03          	inc	bc
2748  0AD0  21 00 00    	ld	hl,_map_paper
2749  0AD3  7E          	ld	a, (hl)
2750  0AD4  F6 06       	or	a,0x06
2751  0AD6  02          	ld	(bc), a
2752  0AD7  01 00 00    	ld	bc,_attrib_hl+0
2753  0ADA  7E          	ld	a, (hl)
2754  0ADB  F6 15       	or	a,0x15
2755  0ADD  02          	ld	(bc), a
2756  0ADE  59          	ld	e, c
2757  0ADF  50          	ld	d, b
2758  0AE0  13          	inc	de
2759  0AE1  7E          	ld	a, (hl)
2760  0AE2  F6 55       	or	a,0x55
2761  0AE4  12          	ld	(de), a
2762  0AE5  7E          	ld	a, (hl)
2763  0AE6  F6 17       	or	a,0x17
2764  0AE8  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2765  0AEB  03          	inc	bc
2766  0AEC  03          	inc	bc
2767  0AED  03          	inc	bc
2768  0AEE  3A 00 00    	ld	a,(_map_paper)
2769  0AF1  F6 15       	or	a,0x15
2770  0AF3  02          	ld	(bc), a
2771  0AF4  21 70 71    	ld	hl,0x7170
2772  0AF7  22 00 00    	ld	(_attrib_osd),hl
2773  0AFA  21 71 73    	ld	hl,0x7371
2774  0AFD  22 02 00    	ld	(_attrib_osd + 2),hl
2775  0B00  C9          	ret
2776  0B01              	SECTION code_compiler
2777  0B01              ;	---------------------------------
2778  0B01              ; Function game_page_map
2779  0B01              ; ---------------------------------
2780  0B01              _game_page_map:
2781  0B01  CD 00 00    	call	___sdcc_enter_ix
2782  0B04  21 AD FF    	ld	hl, -83
2783  0B07  39          	add	hl, sp
2784  0B08  F9          	ld	sp, hl
2785  0B09  F3          	di
2786  0B0A  21 00 00    	ld	hl,_game_world
2787  0B0D  4E          	ld	c, (hl)
2788  0B0E  3A 00 00    	ld	a,(_scr_curr)
2789  0B11  DD 77 DE    	ld	(ix-34),a
2790  0B14  79          	ld	a, c
2791  0B15  07          	rlca
2792  0B16  07          	rlca
2793  0B17  07          	rlca
2794  0B18  07          	rlca
2795  0B19  E6 F0       	and	a,0xf0
2796  0B1B  DD 86 DE    	add	a,(ix-34)
2797  0B1E  DD 77 DD    	ld	(ix-35),a
2798  0B21  4F          	ld	c,a
2799  0B22  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2800  0B25  36 16       	ld	(hl),0x16
2801  0B27  C5          	push	bc
2802  0B28  3E 16       	ld	a,0x16
2803  0B2A  01 FD 7F    	ld	bc,_IO_7FFD
2804  0B2D  ED 79       	out	(c),a
2805  0B2F  C1          	pop	bc
2806  0B30  DD 7E DE    	ld	a,(ix-34)
2807  0B33  3C          	inc	a
2808  0B34  20 03       	jr	NZ,l_game_page_map_00102
2809  0B36  DD 71 DD    	ld	(ix-35),c
2810  0B39              l_game_page_map_00102:
2811  0B39  01 00 00    	ld	bc,_paper0+0
2812  0B3C  DD 6E DD    	ld	l,(ix-35)
2813  0B3F  26 00       	ld	h,0x00
2814  0B41  09          	add	hl, bc
2815  0B42  7E          	ld	a, (hl)
2816  0B43  DD 77 DF    	ld	(ix-33),a
2817  0B46  3E 10       	ld	a,0x10
2818  0B48  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2819  0B4B  01 FD 7F    	ld	bc,_IO_7FFD
2820  0B4E  ED 79       	out	(c),a
2821  0B50  DD 4E DE    	ld	c,(ix-34)
2822  0B53  CB 39       	srl	c
2823  0B55  06 00       	ld	b,0x00
2824  0B57  69          	ld	l, c
2825  0B58  60          	ld	h, b
2826  0B59  29          	add	hl, hl
2827  0B5A  09          	add	hl, bc
2828  0B5B  AF          	xor	a,a
2829  0B5C  CB 3C       	srl	h
2830  0B5E  CB 1D       	rr	l
2831  0B60  1F          	rra
2832  0B61  CB 3C       	srl	h
2833  0B63  CB 1D       	rr	l
2834  0B65  1F          	rra
2835  0B66  DD 77 E2    	ld	(ix-30),a
2836  0B69  DD 75 E3    	ld	(ix-29),l
2837  0B6C  21 00 00    	ld	hl,0x0000
2838  0B6F  39          	add	hl, sp
2839  0B70  DD 75 FE    	ld	(ix-2),l
2840  0B73  DD 74 FF    	ld	(ix-1),h
2841  0B76  DD 75 FC    	ld	(ix-4),l
2842  0B79  DD 74 FD    	ld	(ix-3),h
2843  0B7C  DD 7E FE    	ld	a,(ix-2)
2844  0B7F  DD 77 FA    	ld	(ix-6),a
2845  0B82  DD 7E FF    	ld	a,(ix-1)
2846  0B85  DD 77 FB    	ld	(ix-5),a
2847  0B88  DD 7E FE    	ld	a,(ix-2)
2848  0B8B  DD 77 F8    	ld	(ix-8),a
2849  0B8E  DD 7E FF    	ld	a,(ix-1)
2850  0B91  DD 77 F9    	ld	(ix-7),a
2851  0B94  DD 7E DE    	ld	a,(ix-34)
2852  0B97  E6 01       	and	a,0x01
2853  0B99  DD 77 F7    	ld	(ix-9),a
2854  0B9C  DD 7E FE    	ld	a,(ix-2)
2855  0B9F  DD 77 F5    	ld	(ix-11),a
2856  0BA2  DD 7E FF    	ld	a,(ix-1)
2857  0BA5  DD 77 F6    	ld	(ix-10),a
2858  0BA8  DD 7E FE    	ld	a,(ix-2)
2859  0BAB  DD 77 F3    	ld	(ix-13),a
2860  0BAE  DD 7E FF    	ld	a,(ix-1)
2861  0BB1  DD 77 F4    	ld	(ix-12),a
2862  0BB4  DD 7E FE    	ld	a,(ix-2)
2863  0BB7  DD 77 F1    	ld	(ix-15),a
2864  0BBA  DD 7E FF    	ld	a,(ix-1)
2865  0BBD  DD 77 F2    	ld	(ix-14),a
2866  0BC0  DD 36 E4 00 	ld	(ix-28),0x00
2867  0BC4  DD 36 E5 00 	ld	(ix-27),0x00
2868  0BC8              l_game_page_map_00127:
2869  0BC8  DD 7E E4    	ld	a,(ix-28)
2870  0BCB  D6 F0       	sub	a,0xf0
2871  0BCD  DD 7E E5    	ld	a,(ix-27)
2872  0BD0  DE 00       	sbc	a,0x00
2873  0BD2  D2 91 0D    	jp	NC, l_game_page_map_00129
2874  0BD5  3E 13       	ld	a,0x13
2875  0BD7  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2876  0BDA  01 FD 7F    	ld	bc,_IO_7FFD
2877  0BDD  ED 79       	out	(c),a
2878  0BDF  DD 36 E8 00 	ld	(ix-24),0x00
2879  0BE3  DD 36 E9 00 	ld	(ix-23),0x00
2880  0BE7              l_game_page_map_00103:
2881  0BE7  DD 7E E8    	ld	a,(ix-24)
2882  0BEA  D6 30       	sub	a,0x30
2883  0BEC  DD 7E E9    	ld	a,(ix-23)
2884  0BEF  DE 00       	sbc	a,0x00
2885  0BF1  30 54       	jr	NC,l_game_page_map_00105
2886  0BF3  DD 7E F8    	ld	a,(ix-8)
2887  0BF6  DD 86 E8    	add	a,(ix-24)
2888  0BF9  DD 77 EF    	ld	(ix-17),a
2889  0BFC  DD 7E F9    	ld	a,(ix-7)
2890  0BFF  DD 8E E9    	adc	a,(ix-23)
2891  0C02  DD 77 F0    	ld	(ix-16),a
2892  0C05  DD 7E E2    	ld	a,(ix-30)
2893  0C08  DD 86 E8    	add	a,(ix-24)
2894  0C0B  DD 77 ED    	ld	(ix-19),a
2895  0C0E  DD 7E E3    	ld	a,(ix-29)
2896  0C11  DD 8E E9    	adc	a,(ix-23)
2897  0C14  DD 77 EE    	ld	(ix-18),a
2898  0C17  DD 7E ED    	ld	a,(ix-19)
2899  0C1A  DD 86 E4    	add	a,(ix-28)
2900  0C1D  DD 77 ED    	ld	(ix-19),a
2901  0C20  6F          	ld	l,a
2902  0C21  DD 7E EE    	ld	a,(ix-18)
2903  0C24  DD 8E E5    	adc	a,(ix-27)
2904  0C27  DD 77 EE    	ld	(ix-18),a
2905  0C2A  67          	ld	h,a
2906  0C2B  01 00 00    	ld	bc,_hibtiles
2907  0C2E  09          	add	hl,bc
2908  0C2F  DD 75 ED    	ld	(ix-19),l
2909  0C32  DD 74 EE    	ld	(ix-18),h
2910  0C35  4E          	ld	c, (hl)
2911  0C36  DD 6E EF    	ld	l,(ix-17)
2912  0C39  DD 66 F0    	ld	h,(ix-16)
2913  0C3C  71          	ld	(hl), c
2914  0C3D  DD 34 E8    	inc	(ix-24)
2915  0C40  20 A5       	jr	NZ,l_game_page_map_00103
2916  0C42  DD 34 E9    	inc	(ix-23)
2917  0C45  18 A0       	jr	l_game_page_map_00103
2918  0C47              l_game_page_map_00105:
2919  0C47  3E 10       	ld	a,0x10
2920  0C49  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2921  0C4C  01 FD 7F    	ld	bc,_IO_7FFD
2922  0C4F  ED 79       	out	(c),a
2923  0C51  DD 7E F7    	ld	a,(ix-9)
2924  0C54  B7          	or	a, a
2925  0C55  C2 FB 0C    	jp	NZ, l_game_page_map_00184
2926  0C58  01 00 00    	ld	bc,0x0000
2927  0C5B              l_game_page_map_00106:
2928  0C5B  79          	ld	a, c
2929  0C5C  D6 10       	sub	a,0x10
2930  0C5E  78          	ld	a, b
2931  0C5F  DE 00       	sbc	a,0x00
2932  0C61  30 18       	jr	NC,l_game_page_map_00108
2933  0C63  DD 6E E4    	ld	l,(ix-28)
2934  0C66  DD 66 E5    	ld	h,(ix-27)
2935  0C69  09          	add	hl, bc
2936  0C6A  11 00 00    	ld	de,_btiles
2937  0C6D  19          	add	hl,de
2938  0C6E  EB          	ex	de,hl
2939  0C6F  DD 6E FE    	ld	l,(ix-2)
2940  0C72  DD 66 FF    	ld	h,(ix-1)
2941  0C75  09          	add	hl, bc
2942  0C76  7E          	ld	a, (hl)
2943  0C77  12          	ld	(de), a
2944  0C78  03          	inc	bc
2945  0C79  18 E0       	jr	l_game_page_map_00106
2946  0C7B              l_game_page_map_00108:
2947  0C7B  DD 36 E8 20 	ld	(ix-24),0x20
2948  0C7F  DD 36 E9 00 	ld	(ix-23),0x00
2949  0C83              l_game_page_map_00109:
2950  0C83  DD 7E E8    	ld	a,(ix-24)
2951  0C86  D6 24       	sub	a,0x24
2952  0C88  DD 7E E9    	ld	a,(ix-23)
2953  0C8B  DE 00       	sbc	a,0x00
2954  0C8D  30 48       	jr	NC,l_game_page_map_00111
2955  0C8F  DD 7E E8    	ld	a,(ix-24)
2956  0C92  DD 86 E4    	add	a,(ix-28)
2957  0C95  DD 77 ED    	ld	(ix-19),a
2958  0C98  DD 7E E9    	ld	a,(ix-23)
2959  0C9B  DD 8E E5    	adc	a,(ix-27)
2960  0C9E  DD 77 EE    	ld	(ix-18),a
2961  0CA1  3E 00       	ld	a, +((_btiles) & 0xFF)
2962  0CA3  DD 86 ED    	add	a,(ix-19)
2963  0CA6  DD 77 ED    	ld	(ix-19),a
2964  0CA9  3E 00       	ld	a, +((_btiles) / 256)
2965  0CAB  DD 8E EE    	adc	a,(ix-18)
2966  0CAE  DD 77 EE    	ld	(ix-18),a
2967  0CB1  DD 7E FC    	ld	a,(ix-4)
2968  0CB4  DD 86 E8    	add	a,(ix-24)
2969  0CB7  DD 77 EF    	ld	(ix-17),a
2970  0CBA  6F          	ld	l,a
2971  0CBB  DD 7E FD    	ld	a,(ix-3)
2972  0CBE  DD 8E E9    	adc	a,(ix-23)
2973  0CC1  DD 77 F0    	ld	(ix-16),a
2974  0CC4  67          	ld	h,a
2975  0CC5  4E          	ld	c, (hl)
2976  0CC6  DD 6E ED    	ld	l,(ix-19)
2977  0CC9  DD 66 EE    	ld	h,(ix-18)
2978  0CCC  71          	ld	(hl), c
2979  0CCD  DD 34 E8    	inc	(ix-24)
2980  0CD0  20 B1       	jr	NZ,l_game_page_map_00109
2981  0CD2  DD 34 E9    	inc	(ix-23)
2982  0CD5  18 AC       	jr	l_game_page_map_00109
2983  0CD7              l_game_page_map_00111:
2984  0CD7  01 28 00    	ld	bc,0x0028
2985  0CDA              l_game_page_map_00112:
2986  0CDA  79          	ld	a, c
2987  0CDB  D6 2C       	sub	a,0x2c
2988  0CDD  78          	ld	a, b
2989  0CDE  DE 00       	sbc	a,0x00
2990  0CE0  D2 7E 0D    	jp	NC, l_game_page_map_00126
2991  0CE3  DD 6E E4    	ld	l,(ix-28)
2992  0CE6  DD 66 E5    	ld	h,(ix-27)
2993  0CE9  09          	add	hl, bc
2994  0CEA  11 00 00    	ld	de,_btiles
2995  0CED  19          	add	hl,de
2996  0CEE  EB          	ex	de,hl
2997  0CEF  DD 6E FA    	ld	l,(ix-6)
2998  0CF2  DD 66 FB    	ld	h,(ix-5)
2999  0CF5  09          	add	hl, bc
3000  0CF6  7E          	ld	a, (hl)
3001  0CF7  12          	ld	(de), a
3002  0CF8  03          	inc	bc
3003  0CF9  18 DF       	jr	l_game_page_map_00112
3004  0CFB              l_game_page_map_00184:
3005  0CFB  01 00 00    	ld	bc,0x0000
3006  0CFE              l_game_page_map_00115:
3007  0CFE  79          	ld	a, c
3008  0CFF  D6 10       	sub	a,0x10
3009  0D01  78          	ld	a, b
3010  0D02  DE 00       	sbc	a,0x00
3011  0D04  30 20       	jr	NC,l_game_page_map_00117
3012  0D06  DD 6E E4    	ld	l,(ix-28)
3013  0D09  DD 66 E5    	ld	h,(ix-27)
3014  0D0C  09          	add	hl, bc
3015  0D0D  11 00 00    	ld	de,_btiles
3016  0D10  19          	add	hl,de
3017  0D11  79          	ld	a,c
3018  0D12  EB          	ex	de,hl
3019  0D13  C6 10       	add	a,0x10
3020  0D15  6F          	ld	l, a
3021  0D16  DD 7E F5    	ld	a,(ix-11)
3022  0D19  85          	add	a, l
3023  0D1A  6F          	ld	l, a
3024  0D1B  DD 7E F6    	ld	a,(ix-10)
3025  0D1E  CE 00       	adc	a,0x00
3026  0D20  67          	ld	h, a
3027  0D21  7E          	ld	a, (hl)
3028  0D22  12          	ld	(de), a
3029  0D23  03          	inc	bc
3030  0D24  18 D8       	jr	l_game_page_map_00115
3031  0D26              l_game_page_map_00117:
3032  0D26  01 20 00    	ld	bc,0x0020
3033  0D29              l_game_page_map_00118:
3034  0D29  79          	ld	a, c
3035  0D2A  D6 24       	sub	a,0x24
3036  0D2C  78          	ld	a, b
3037  0D2D  DE 00       	sbc	a,0x00
3038  0D2F  30 21       	jr	NC,l_game_page_map_00120
3039  0D31  DD 6E E4    	ld	l,(ix-28)
3040  0D34  DD 66 E5    	ld	h,(ix-27)
3041  0D37  09          	add	hl, bc
3042  0D38  11 00 00    	ld	de,_btiles
3043  0D3B  19          	add	hl,de
3044  0D3C  59          	ld	e,c
3045  0D3D  EB          	ex	de,hl
3046  0D3E  2C          	inc	l
3047  0D3F  2C          	inc	l
3048  0D40  2C          	inc	l
3049  0D41  2C          	inc	l
3050  0D42  DD 7E F3    	ld	a,(ix-13)
3051  0D45  85          	add	a, l
3052  0D46  6F          	ld	l, a
3053  0D47  DD 7E F4    	ld	a,(ix-12)
3054  0D4A  CE 00       	adc	a,0x00
3055  0D4C  67          	ld	h, a
3056  0D4D  7E          	ld	a, (hl)
3057  0D4E  12          	ld	(de), a
3058  0D4F  03          	inc	bc
3059  0D50  18 D7       	jr	l_game_page_map_00118
3060  0D52              l_game_page_map_00120:
3061  0D52  01 28 00    	ld	bc,0x0028
3062  0D55              l_game_page_map_00121:
3063  0D55  79          	ld	a, c
3064  0D56  D6 2C       	sub	a,0x2c
3065  0D58  78          	ld	a, b
3066  0D59  DE 00       	sbc	a,0x00
3067  0D5B  30 21       	jr	NC,l_game_page_map_00126
3068  0D5D  DD 6E E4    	ld	l,(ix-28)
3069  0D60  DD 66 E5    	ld	h,(ix-27)
3070  0D63  09          	add	hl, bc
3071  0D64  11 00 00    	ld	de,_btiles
3072  0D67  19          	add	hl,de
3073  0D68  59          	ld	e,c
3074  0D69  EB          	ex	de,hl
3075  0D6A  2C          	inc	l
3076  0D6B  2C          	inc	l
3077  0D6C  2C          	inc	l
3078  0D6D  2C          	inc	l
3079  0D6E  DD 7E F1    	ld	a,(ix-15)
3080  0D71  85          	add	a, l
3081  0D72  6F          	ld	l, a
3082  0D73  DD 7E F2    	ld	a,(ix-14)
3083  0D76  CE 00       	adc	a,0x00
3084  0D78  67          	ld	h, a
3085  0D79  7E          	ld	a, (hl)
3086  0D7A  12          	ld	(de), a
3087  0D7B  03          	inc	bc
3088  0D7C  18 D7       	jr	l_game_page_map_00121
3089  0D7E              l_game_page_map_00126:
3090  0D7E  DD 7E E4    	ld	a,(ix-28)
3091  0D81  C6 30       	add	a,0x30
3092  0D83  DD 77 E4    	ld	(ix-28),a
3093  0D86  DD 7E E5    	ld	a,(ix-27)
3094  0D89  CE 00       	adc	a,0x00
3095  0D8B  DD 77 E5    	ld	(ix-27),a
3096  0D8E  C3 C8 0B    	jp	l_game_page_map_00127
3097  0D91              l_game_page_map_00129:
3098  0D91  DD 36 E8 C0 	ld	(ix-24),0xc0
3099  0D95  DD 36 E9 00 	ld	(ix-23),0x00
3100  0D99              l_game_page_map_00138:
3101  0D99  DD 7E E8    	ld	a,(ix-24)
3102  0D9C  D6 80       	sub	a,0x80
3103  0D9E  DD 7E E9    	ld	a,(ix-23)
3104  0DA1  DE 01       	sbc	a,0x01
3105  0DA3  30 68       	jr	NC,l_game_page_map_00140
3106  0DA5  21 30 00    	ld	hl,0x0030
3107  0DA8  E5          	push	hl
3108  0DA9  DD 6E E8    	ld	l,(ix-24)
3109  0DAC  DD 66 E9    	ld	h,(ix-23)
3110  0DAF  E5          	push	hl
3111  0DB0  CD 00 00    	call	__moduint_callee
3112  0DB3  7D          	ld	a,l
3113  0DB4  32 00 00    	ld	(_v0),a
3114  0DB7  D6 10       	sub	a,0x10
3115  0DB9  30 0E       	jr	NC,l_game_page_map_00131
3116  0DBB  3E 00       	ld	a, +((_btiles) & 0xFF)
3117  0DBD  DD 86 E8    	add	a,(ix-24)
3118  0DC0  4F          	ld	c, a
3119  0DC1  3E 00       	ld	a, +((_btiles) / 256)
3120  0DC3  DD 8E E9    	adc	a,(ix-23)
3121  0DC6  47          	ld	b, a
3122  0DC7  AF          	xor	a, a
3123  0DC8  02          	ld	(bc), a
3124  0DC9              l_game_page_map_00131:
3125  0DC9  21 00 00    	ld	hl,_v0
3126  0DCC  7E          	ld	a, (hl)
3127  0DCD  D6 20       	sub	a,0x20
3128  0DCF  38 15       	jr	C,l_game_page_map_00133
3129  0DD1  7E          	ld	a, (hl)
3130  0DD2  D6 24       	sub	a,0x24
3131  0DD4  30 10       	jr	NC,l_game_page_map_00133
3132  0DD6  3E 00       	ld	a, +((_btiles) & 0xFF)
3133  0DD8  DD 86 E8    	add	a,(ix-24)
3134  0DDB  4F          	ld	c, a
3135  0DDC  3E 00       	ld	a, +((_btiles) / 256)
3136  0DDE  DD 8E E9    	adc	a,(ix-23)
3137  0DE1  47          	ld	b, a
3138  0DE2  DD 7E DF    	ld	a,(ix-33)
3139  0DE5  02          	ld	(bc), a
3140  0DE6              l_game_page_map_00133:
3141  0DE6  21 00 00    	ld	hl,_v0
3142  0DE9  7E          	ld	a, (hl)
3143  0DEA  D6 28       	sub	a,0x28
3144  0DEC  38 15       	jr	C,l_game_page_map_00136
3145  0DEE  7E          	ld	a, (hl)
3146  0DEF  D6 2C       	sub	a,0x2c
3147  0DF1  30 10       	jr	NC,l_game_page_map_00136
3148  0DF3  3E 00       	ld	a, +((_btiles) & 0xFF)
3149  0DF5  DD 86 E8    	add	a,(ix-24)
3150  0DF8  4F          	ld	c, a
3151  0DF9  3E 00       	ld	a, +((_btiles) / 256)
3152  0DFB  DD 8E E9    	adc	a,(ix-23)
3153  0DFE  47          	ld	b, a
3154  0DFF  DD 7E DF    	ld	a,(ix-33)
3155  0E02  02          	ld	(bc), a
3156  0E03              l_game_page_map_00136:
3157  0E03  DD 34 E8    	inc	(ix-24)
3158  0E06  20 91       	jr	NZ,l_game_page_map_00138
3159  0E08  DD 34 E9    	inc	(ix-23)
3160  0E0B  18 8C       	jr	l_game_page_map_00138
3161  0E0D              l_game_page_map_00140:
3162  0E0D  DD 36 E8 00 	ld	(ix-24),0x00
3163  0E11  DD 36 E9 00 	ld	(ix-23),0x00
3164  0E15              l_game_page_map_00141:
3165  0E15  DD 7E E8    	ld	a,(ix-24)
3166  0E18  D6 10       	sub	a,0x10
3167  0E1A  DD 7E E9    	ld	a,(ix-23)
3168  0E1D  DE 00       	sbc	a,0x00
3169  0E1F  30 30       	jr	NC,l_game_page_map_00143
3170  0E21  DD 7E E8    	ld	a,(ix-24)
3171  0E24  C6 C0       	add	a,0xc0
3172  0E26  4F          	ld	c, a
3173  0E27  DD 7E E9    	ld	a,(ix-23)
3174  0E2A  CE 00       	adc	a,0x00
3175  0E2C  47          	ld	b, a
3176  0E2D  21 00 00    	ld	hl,_btiles
3177  0E30  09          	add	hl,bc
3178  0E31  3E 00       	ld	a,+((_btiles) & 0xFF)
3179  0E33  DD 86 E8    	add	a,(ix-24)
3180  0E36  5F          	ld	e,a
3181  0E37  3E 00       	ld	a,+((_btiles) / 256)
3182  0E39  DD 8E E9    	adc	a,(ix-23)
3183  0E3C  57          	ld	d,a
3184  0E3D  1A          	ld	a,(de)
3185  0E3E  77          	ld	(hl),a
3186  0E3F  DD 7E E8    	ld	a,(ix-24)
3187  0E42  C6 02       	add	a,0x02
3188  0E44  DD 77 E8    	ld	(ix-24),a
3189  0E47  DD 7E E9    	ld	a,(ix-23)
3190  0E4A  CE 00       	adc	a,0x00
3191  0E4C  DD 77 E9    	ld	(ix-23),a
3192  0E4F  18 C4       	jr	l_game_page_map_00141
3193  0E51              l_game_page_map_00143:
3194  0E51  DD 36 E8 00 	ld	(ix-24),0x00
3195  0E55  DD 36 E9 00 	ld	(ix-23),0x00
3196  0E59              l_game_page_map_00144:
3197  0E59  DD 7E E8    	ld	a,(ix-24)
3198  0E5C  D6 10       	sub	a,0x10
3199  0E5E  DD 7E E9    	ld	a,(ix-23)
3200  0E61  DE 00       	sbc	a,0x00
3201  0E63  30 20       	jr	NC,l_game_page_map_00146
3202  0E65  3E 00       	ld	a, +((_btiles) & 0xFF)
3203  0E67  DD 86 E8    	add	a,(ix-24)
3204  0E6A  4F          	ld	c, a
3205  0E6B  3E 00       	ld	a, +((_btiles) / 256)
3206  0E6D  DD 8E E9    	adc	a,(ix-23)
3207  0E70  47          	ld	b, a
3208  0E71  AF          	xor	a, a
3209  0E72  02          	ld	(bc), a
3210  0E73  DD 7E E8    	ld	a,(ix-24)
3211  0E76  C6 02       	add	a,0x02
3212  0E78  DD 77 E8    	ld	(ix-24),a
3213  0E7B  DD 7E E9    	ld	a,(ix-23)
3214  0E7E  CE 00       	adc	a,0x00
3215  0E80  DD 77 E9    	ld	(ix-23),a
3216  0E83  18 D4       	jr	l_game_page_map_00144
3217  0E85              l_game_page_map_00146:
3218  0E85  3A 30 00    	ld	a,(_btiles + 0x0030)
3219  0E88  32 C5 00    	ld	((_btiles + 0x00c5)),a
3220  0E8B  01 32 00    	ld	bc,_btiles + 50
3221  0E8E  0A          	ld	a, (bc)
3222  0E8F  32 C7 00    	ld	((_btiles + 0x00c7)),a
3223  0E92  3A 34 00    	ld	a,(_btiles + 0x0034)
3224  0E95  32 C9 00    	ld	((_btiles + 0x00c9)),a
3225  0E98  3A 36 00    	ld	a,(_btiles + 0x0036)
3226  0E9B  32 CB 00    	ld	((_btiles + 0x00cb)),a
3227  0E9E  3A 38 00    	ld	a, (_btiles + 56)
3228  0EA1  32 CD 00    	ld	((_btiles + 0x00cd)),a
3229  0EA4  3A 3A 00    	ld	a, (_btiles + 58)
3230  0EA7  32 CF 00    	ld	((_btiles + 0x00cf)),a
3231  0EAA  11 50 00    	ld	de,_btiles + 80
3232  0EAD  1A          	ld	a, (de)
3233  0EAE  32 E9 00    	ld	((_btiles + 0x00e9)),a
3234  0EB1  3A 51 00    	ld	a,(_btiles + 0x0051)
3235  0EB4  32 EA 00    	ld	((_btiles + 0x00ea)),a
3236  0EB7  3A 52 00    	ld	a, (_btiles + 82)
3237  0EBA  32 EB 00    	ld	((_btiles + 0x00eb)),a
3238  0EBD  3A 30 00    	ld	a,(_btiles + 0x0030)
3239  0EC0  32 FA 00    	ld	((_btiles + 0x00fa)),a
3240  0EC3  0A          	ld	a, (bc)
3241  0EC4  32 FC 00    	ld	((_btiles + 0x00fc)),a
3242  0EC7  3A 34 00    	ld	a,(_btiles + 0x0034)
3243  0ECA  32 FE 00    	ld	((_btiles + 0x00fe)),a
3244  0ECD  3A 36 00    	ld	a,(_btiles + 0x0036)
3245  0ED0  32 00 01    	ld	((_btiles + 0x0100)),a
3246  0ED3  1A          	ld	a, (de)
3247  0ED4  32 12 01    	ld	((_btiles + 0x0112)),a
3248  0ED7  3A 51 00    	ld	a,(_btiles + 0x0051)
3249  0EDA  32 13 01    	ld	((_btiles + 0x0113)),a
3250  0EDD  3A 30 00    	ld	a,(_btiles + 0x0030)
3251  0EE0  32 FD 00    	ld	((_btiles + 0x00fd)),a
3252  0EE3  0A          	ld	a, (bc)
3253  0EE4  32 FF 00    	ld	((_btiles + 0x00ff)),a
3254  0EE7  1A          	ld	a, (de)
3255  0EE8  32 1B 01    	ld	((_btiles + 0x011b)),a
3256  0EEB  21 00 00    	ld	hl,_i
3257  0EEE  36 00       	ld	(hl),0x00
3258  0EF0              l_game_page_map_00147:
3259  0EF0  21 00 00    	ld	hl,_i
3260  0EF3  7E          	ld	a, (hl)
3261  0EF4  D6 10       	sub	a,0x10
3262  0EF6  30 23       	jr	NC,l_game_page_map_00149
3263  0EF8  5E          	ld	e, (hl)
3264  0EF9  16 00       	ld	d,0x00
3265  0EFB  21 10 00    	ld	hl,0x0010 + _btiles
3266  0EFE  19          	add	hl,de
3267  0EFF  4D          	ld	c, l
3268  0F00  44          	ld	b, h
3269  0F01  21 91 00    	ld	hl,0x0090+1
3270  0F04  19          	add	hl,de
3271  0F05  11 00 00    	ld	de,_btiles
3272  0F08  19          	add	hl, de
3273  0F09  56          	ld	d, (hl)
3274  0F0A  C5          	push	bc
3275  0F0B  D5          	push	de
3276  0F0C  33          	inc	sp
3277  0F0D  CD 7F 13    	call	_reverse
3278  0F10  33          	inc	sp
3279  0F11  C1          	pop	bc
3280  0F12  7D          	ld	a,l
3281  0F13  02          	ld	(bc), a
3282  0F14  21 00 00    	ld	hl,_i
3283  0F17  34          	inc	(hl)
3284  0F18  34          	inc	(hl)
3285  0F19  18 D5       	jr	l_game_page_map_00147
3286  0F1B              l_game_page_map_00149:
3287  0F1B  21 00 00    	ld	hl,_i
3288  0F1E  36 00       	ld	(hl),0x00
3289  0F20              l_game_page_map_00150:
3290  0F20  21 00 00    	ld	hl,_i
3291  0F23  7E          	ld	a, (hl)
3292  0F24  D6 04       	sub	a,0x04
3293  0F26  30 1D       	jr	NC,l_game_page_map_00152
3294  0F28  5E          	ld	e, (hl)
3295  0F29  16 00       	ld	d,0x00
3296  0F2B  21 24 00    	ld	hl,0x0024 + _btiles
3297  0F2E  19          	add	hl,de
3298  0F2F  4D          	ld	c, l
3299  0F30  44          	ld	b, h
3300  0F31  21 90 00    	ld	hl,0x0090
3301  0F34  19          	add	hl, de
3302  0F35  11 28 00    	ld	de,0x0028
3303  0F38  19          	add	hl, de
3304  0F39  11 00 00    	ld	de,_btiles
3305  0F3C  19          	add	hl, de
3306  0F3D  7E          	ld	a, (hl)
3307  0F3E  02          	ld	(bc), a
3308  0F3F  21 00 00    	ld	hl,_i
3309  0F42  34          	inc	(hl)
3310  0F43  18 DB       	jr	l_game_page_map_00150
3311  0F45              l_game_page_map_00152:
3312  0F45  3E 00       	ld	a,0x00
3313  0F47  DD 77 E4    	ld	(ix-28),a
3314  0F4A  DD 77 E5    	ld	(ix-27),a
3315  0F4D  DD 77 E0    	ld	(ix-32),a
3316  0F50  DD 77 E1    	ld	(ix-31),a
3317  0F53  DD 36 E6 00 	ld	(ix-26),0x00
3318  0F57  DD 36 E7 00 	ld	(ix-25),0x00
3319  0F5B              l_game_page_map_00153:
3320  0F5B  DD 4E DD    	ld	c,(ix-35)
3321  0F5E  06 00       	ld	b,0x00
3322  0F60  DD 7E E6    	ld	a,(ix-26)
3323  0F63  91          	sub	a, c
3324  0F64  DD 7E E7    	ld	a,(ix-25)
3325  0F67  98          	sbc	a, b
3326  0F68  30 3A       	jr	NC,l_game_page_map_00155
3327  0F6A  3E 16       	ld	a,0x16
3328  0F6C  01 FD 7F    	ld	bc,_IO_7FFD
3329  0F6F  ED 79       	out	(c),a
3330  0F71  01 00 00    	ld	bc,_lenght0
3331  0F74  DD 6E E6    	ld	l,(ix-26)
3332  0F77  DD 66 E7    	ld	h,(ix-25)
3333  0F7A  09          	add	hl,bc
3334  0F7B  4E          	ld	c, (hl)
3335  0F7C  06 00       	ld	b,0x00
3336  0F7E  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3337  0F81  36 10       	ld	(hl),0x10
3338  0F83  C5          	push	bc
3339  0F84  3E 10       	ld	a,0x10
3340  0F86  01 FD 7F    	ld	bc,_IO_7FFD
3341  0F89  ED 79       	out	(c),a
3342  0F8B  C1          	pop	bc
3343  0F8C  DD 7E E0    	ld	a,(ix-32)
3344  0F8F  81          	add	a, c
3345  0F90  DD 77 E0    	ld	(ix-32),a
3346  0F93  DD 7E E1    	ld	a,(ix-31)
3347  0F96  88          	adc	a, b
3348  0F97  DD 77 E1    	ld	(ix-31),a
3349  0F9A  DD 34 E6    	inc	(ix-26)
3350  0F9D  20 BC       	jr	NZ,l_game_page_map_00153
3351  0F9F  DD 34 E7    	inc	(ix-25)
3352  0FA2  18 B7       	jr	l_game_page_map_00153
3353  0FA4              l_game_page_map_00155:
3354  0FA4  DD 36 E8 00 	ld	(ix-24),0x00
3355  0FA8  DD 36 E9 00 	ld	(ix-23),0x00
3356  0FAC              l_game_page_map_00168:
3357  0FAC  3E 16       	ld	a,0x16
3358  0FAE  01 FD 7F    	ld	bc,_IO_7FFD
3359  0FB1  ED 79       	out	(c),a
3360  0FB3  DD 7E E0    	ld	a,(ix-32)
3361  0FB6  DD 86 E8    	add	a,(ix-24)
3362  0FB9  4F          	ld	c, a
3363  0FBA  DD 7E E1    	ld	a,(ix-31)
3364  0FBD  DD 8E E9    	adc	a,(ix-23)
3365  0FC0  47          	ld	b, a
3366  0FC1  21 00 00    	ld	hl,_world0
3367  0FC4  09          	add	hl, bc
3368  0FC5  7E          	ld	a, (hl)
3369  0FC6  DD 77 EC    	ld	(ix-20),a
3370  0FC9  03          	inc	bc
3371  0FCA  21 00 00    	ld	hl,_world0
3372  0FCD  09          	add	hl, bc
3373  0FCE  7E          	ld	a, (hl)
3374  0FCF  DD 77 EB    	ld	(ix-21),a
3375  0FD2  3E 10       	ld	a,0x10
3376  0FD4  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3377  0FD7  01 FD 7F    	ld	bc,_IO_7FFD
3378  0FDA  ED 79       	out	(c),a
3379  0FDC  DD 7E EC    	ld	a,(ix-20)
3380  0FDF  D6 80       	sub	a,0x80
3381  0FE1  30 1F       	jr	NC,l_game_page_map_00160
3382  0FE3  DD 6E E4    	ld	l,(ix-28)
3383  0FE6  DD 66 E5    	ld	h,(ix-27)
3384  0FE9  01 00 00    	ld	bc,_scr_map
3385  0FEC  09          	add	hl,bc
3386  0FED  DD 75 ED    	ld	(ix-19),l
3387  0FF0  DD 74 EE    	ld	(ix-18),h
3388  0FF3  DD 7E EC    	ld	a,(ix-20)
3389  0FF6  77          	ld	(hl), a
3390  0FF7  DD 34 E4    	inc	(ix-28)
3391  0FFA  C2 77 10    	jp	NZ,l_game_page_map_00161
3392  0FFD  DD 34 E5    	inc	(ix-27)
3393  1000  18 75       	jr	l_game_page_map_00161
3394  1002              l_game_page_map_00160:
3395  1002  DD 7E EC    	ld	a,(ix-20)
3396  1005  C6 80       	add	a,0x80
3397  1007  DD 77 EA    	ld	(ix-22),a
3398  100A  DD 7E E4    	ld	a,(ix-28)
3399  100D  DD 77 ED    	ld	(ix-19),a
3400  1010  DD 7E E5    	ld	a,(ix-27)
3401  1013  DD 77 EE    	ld	(ix-18),a
3402  1016  DD 36 E6 00 	ld	(ix-26),0x00
3403  101A  DD 36 E7 00 	ld	(ix-25),0x00
3404  101E              l_game_page_map_00166:
3405  101E  DD 7E EA    	ld	a,(ix-22)
3406  1021  DD 77 EF    	ld	(ix-17),a
3407  1024  DD 36 F0 00 	ld	(ix-16),0x00
3408  1028  DD 7E E6    	ld	a,(ix-26)
3409  102B  DD 96 EF    	sub	a,(ix-17)
3410  102E  DD 7E E7    	ld	a,(ix-25)
3411  1031  DD 9E F0    	sbc	a,(ix-16)
3412  1034  30 2D       	jr	NC,l_game_page_map_00224
3413  1036  DD 6E ED    	ld	l,(ix-19)
3414  1039  DD 66 EE    	ld	h,(ix-18)
3415  103C  01 00 00    	ld	bc,_scr_map
3416  103F  09          	add	hl,bc
3417  1040  DD 75 EF    	ld	(ix-17),l
3418  1043  DD 74 F0    	ld	(ix-16),h
3419  1046  DD 7E EB    	ld	a,(ix-21)
3420  1049  77          	ld	(hl), a
3421  104A  DD 34 ED    	inc	(ix-19)
3422  104D  20 03       	jr	NZ,l_game_page_map_00356
3423  104F  DD 34 EE    	inc	(ix-18)
3424  1052              l_game_page_map_00356:
3425  1052  DD 7E EE    	ld	a,(ix-18)
3426  1055  D6 02       	sub	a,0x02
3427  1057  30 0A       	jr	NC,l_game_page_map_00224
3428  1059  DD 34 E6    	inc	(ix-26)
3429  105C  20 C0       	jr	NZ,l_game_page_map_00166
3430  105E  DD 34 E7    	inc	(ix-25)
3431  1061  18 BB       	jr	l_game_page_map_00166
3432  1063              l_game_page_map_00224:
3433  1063  DD 7E ED    	ld	a,(ix-19)
3434  1066  DD 77 E4    	ld	(ix-28),a
3435  1069  DD 7E EE    	ld	a,(ix-18)
3436  106C  DD 77 E5    	ld	(ix-27),a
3437  106F  DD 34 E8    	inc	(ix-24)
3438  1072  20 03       	jr	NZ,l_game_page_map_00358
3439  1074  DD 34 E9    	inc	(ix-23)
3440  1077              l_game_page_map_00358:
3441  1077              l_game_page_map_00161:
3442  1077  DD 7E E5    	ld	a,(ix-27)
3443  107A  D6 02       	sub	a,0x02
3444  107C  30 10       	jr	NC,l_game_page_map_00164
3445  107E  DD 34 E8    	inc	(ix-24)
3446  1081  20 03       	jr	NZ,l_game_page_map_00359
3447  1083  DD 34 E9    	inc	(ix-23)
3448  1086              l_game_page_map_00359:
3449  1086  DD 7E E9    	ld	a,(ix-23)
3450  1089  D6 02       	sub	a,0x02
3451  108B  DA AC 0F    	jp	C, l_game_page_map_00168
3452  108E              l_game_page_map_00164:
3453  108E  DD 7E DE    	ld	a,(ix-34)
3454  1091  32 00 00    	ld	(_scr_curr),a
3455  1094  DD 7E DF    	ld	a,(ix-33)
3456  1097  32 00 00    	ld	(_map_paper),a
3457  109A  FB          	ei
3458  109B  DD F9       	ld	sp, ix
3459  109D  DD E1       	pop	ix
3460  109F  C9          	ret
3461  10A0              	SECTION code_compiler
3462  10A0              ;	---------------------------------
3463  10A0              ; Function game_flash_exit
3464  10A0              ; ---------------------------------
3465  10A0              _game_flash_exit:
3466  10A0  CD 00 00    	call	___sdcc_enter_ix
3467  10A3  21 00 00    	ld	hl,_i
3468  10A6  36 00       	ld	(hl),0x00
3469  10A8  01 F0 11    	ld	bc,0x11f0
3470  10AB              l_game_flash_exit_00101:
3471  10AB  3A 00 00    	ld	a,(_i)
3472  10AE  D6 10       	sub	a,0x10
3473  10B0  30 14       	jr	NC,l_game_flash_exit_00103
3474  10B2  21 00 00    	ld	hl,_btiles
3475  10B5  09          	add	hl,bc
3476  10B6  7E          	ld	a,(hl)
3477  10B7  EB          	ex	de,hl
3478  10B8  E6 7F       	and	a,0x7f
3479  10BA  12          	ld	(de), a
3480  10BB  DD B6 04    	or	a,(ix+4)
3481  10BE  12          	ld	(de), a
3482  10BF  21 00 00    	ld	hl,_i
3483  10C2  34          	inc	(hl)
3484  10C3  03          	inc	bc
3485  10C4  18 E5       	jr	l_game_flash_exit_00101
3486  10C6              l_game_flash_exit_00103:
3487  10C6  2A FF FF    	ld	hl,(_game_exit_col - 1)
3488  10C9  3A 00 00    	ld	a,(_game_exit_lin)
3489  10CC  6F          	ld	l,a
3490  10CD  E5          	push	hl
3491  10CE  21 06 5F    	ld	hl,0x5f06
3492  10D1  E5          	push	hl
3493  10D2  CD 00 00    	call	_NIRVANAP_spriteT_callee
3494  10D5  76          	halt
3495  10D6  DD E1       	pop	ix
3496  10D8  C9          	ret
3497  10D9              	SECTION code_compiler
3498  10D9              ;	---------------------------------
3499  10D9              ; Function game_copy_tile_std
3500  10D9              ; ---------------------------------
3501  10D9              _game_copy_tile_std:
3502  10D9  CD 00 00    	call	___sdcc_enter_ix
3503  10DC  AF          	xor	a, a
3504  10DD  F5          	push	af
3505  10DE  33          	inc	sp
3506  10DF  DD 66 05    	ld	h,(ix+5)
3507  10E2  DD 6E 04    	ld	l,(ix+4)
3508  10E5  E5          	push	hl
3509  10E6  CD 81 11    	call	_game_copy_tile
3510  10E9  F1          	pop	af
3511  10EA  33          	inc	sp
3512  10EB  DD 46 05    	ld	b,(ix+5)
3513  10EE  04          	inc	b
3514  10EF  DD 4E 04    	ld	c,(ix+4)
3515  10F2  0C          	inc	c
3516  10F3  C5          	push	bc
3517  10F4  AF          	xor	a, a
3518  10F5  F5          	push	af
3519  10F6  33          	inc	sp
3520  10F7  C5          	push	bc
3521  10F8  CD 81 11    	call	_game_copy_tile
3522  10FB  F1          	pop	af
3523  10FC  33          	inc	sp
3524  10FD  C1          	pop	bc
3525  10FE  DD 56 05    	ld	d,(ix+5)
3526  1101  14          	inc	d
3527  1102  14          	inc	d
3528  1103  DD 46 04    	ld	b,(ix+4)
3529  1106  04          	inc	b
3530  1107  04          	inc	b
3531  1108  C5          	push	bc
3532  1109  AF          	xor	a, a
3533  110A  5A          	ld	e,d
3534  110B  57          	ld	d,a
3535  110C  D5          	push	de
3536  110D  C5          	push	bc
3537  110E  33          	inc	sp
3538  110F  CD 81 11    	call	_game_copy_tile
3539  1112  F1          	pop	af
3540  1113  33          	inc	sp
3541  1114  C1          	pop	bc
3542  1115  DD 56 05    	ld	d,(ix+5)
3543  1118  14          	inc	d
3544  1119  14          	inc	d
3545  111A  14          	inc	d
3546  111B  DD 5E 04    	ld	e,(ix+4)
3547  111E  1C          	inc	e
3548  111F  1C          	inc	e
3549  1120  1C          	inc	e
3550  1121  C5          	push	bc
3551  1122  D5          	push	de
3552  1123  AF          	xor	a, a
3553  1124  F5          	push	af
3554  1125  33          	inc	sp
3555  1126  D5          	push	de
3556  1127  CD 81 11    	call	_game_copy_tile
3557  112A  F1          	pop	af
3558  112B  33          	inc	sp
3559  112C  D1          	pop	de
3560  112D  C1          	pop	bc
3561  112E  DD 56 05    	ld	d,(ix+5)
3562  1131  14          	inc	d
3563  1132  14          	inc	d
3564  1133  14          	inc	d
3565  1134  14          	inc	d
3566  1135  C5          	push	bc
3567  1136  3E 01       	ld	a,0x01
3568  1138  F5          	push	af
3569  1139  33          	inc	sp
3570  113A  D5          	push	de
3571  113B  CD 81 11    	call	_game_copy_tile
3572  113E  F1          	pop	af
3573  113F  33          	inc	sp
3574  1140  C1          	pop	bc
3575  1141  DD 7E 05    	ld	a,(ix+5)
3576  1144  C6 05       	add	a,0x05
3577  1146  57          	ld	d, a
3578  1147  C5          	push	bc
3579  1148  3E 01       	ld	a,0x01
3580  114A  5A          	ld	e,d
3581  114B  57          	ld	d,a
3582  114C  D5          	push	de
3583  114D  C5          	push	bc
3584  114E  33          	inc	sp
3585  114F  CD 81 11    	call	_game_copy_tile
3586  1152  F1          	pop	af
3587  1153  33          	inc	sp
3588  1154  C1          	pop	bc
3589  1155  DD 7E 05    	ld	a,(ix+5)
3590  1158  C6 06       	add	a,0x06
3591  115A  47          	ld	b, a
3592  115B  3E 01       	ld	a,0x01
3593  115D  F5          	push	af
3594  115E  33          	inc	sp
3595  115F  C5          	push	bc
3596  1160  CD 81 11    	call	_game_copy_tile
3597  1163  F1          	pop	af
3598  1164  33          	inc	sp
3599  1165  DD 7E 05    	ld	a,(ix+5)
3600  1168  C6 07       	add	a,0x07
3601  116A  4F          	ld	c, a
3602  116B  06 01       	ld	b,0x01
3603  116D  C5          	push	bc
3604  116E  DD 7E 04    	ld	a,(ix+4)
3605  1171  F5          	push	af
3606  1172  33          	inc	sp
3607  1173  CD 81 11    	call	_game_copy_tile
3608  1176  F1          	pop	af
3609  1177  33          	inc	sp
3610  1178  DD 7E 05    	ld	a,(ix+5)
3611  117B  C6 08       	add	a,0x08
3612  117D  6F          	ld	l, a
3613  117E  DD E1       	pop	ix
3614  1180  C9          	ret
3615  1181              	SECTION code_compiler
3616  1181              ;	---------------------------------
3617  1181              ; Function game_copy_tile
3618  1181              ; ---------------------------------
3619  1181              _game_copy_tile:
3620  1181  CD 00 00    	call	___sdcc_enter_ix
3621  1184  21 C3 FF    	ld	hl, -61
3622  1187  39          	add	hl, sp
3623  1188  F9          	ld	sp, hl
3624  1189  F3          	di
3625  118A  3E 13       	ld	a,0x13
3626  118C  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3627  118F  01 FD 7F    	ld	bc,_IO_7FFD
3628  1192  ED 79       	out	(c),a
3629  1194  DD 6E 04    	ld	l,(ix+4)
3630  1197  26 00       	ld	h,0x00
3631  1199  4D          	ld	c,l
3632  119A  44          	ld	b,h
3633  119B  29          	add	hl, hl
3634  119C  09          	add	hl, bc
3635  119D  29          	add	hl, hl
3636  119E  29          	add	hl, hl
3637  119F  29          	add	hl, hl
3638  11A0  29          	add	hl, hl
3639  11A1  DD 75 FE    	ld	(ix-2),l
3640  11A4  DD 74 FF    	ld	(ix-1),h
3641  11A7  21 01 00    	ld	hl,0x0001
3642  11AA  39          	add	hl, sp
3643  11AB  DD 75 FC    	ld	(ix-4),l
3644  11AE  DD 74 FD    	ld	(ix-3),h
3645  11B1  DD 36 C3 00 	ld	(ix-61),0x00
3646  11B5              l_game_copy_tile_00104:
3647  11B5  DD 7E C3    	ld	a,(ix-61)
3648  11B8  D6 30       	sub	a,0x30
3649  11BA  30 54       	jr	NC,l_game_copy_tile_00106
3650  11BC  DD 7E FC    	ld	a,(ix-4)
3651  11BF  DD 86 C3    	add	a,(ix-61)
3652  11C2  DD 77 FA    	ld	(ix-6),a
3653  11C5  DD 7E FD    	ld	a,(ix-3)
3654  11C8  CE 00       	adc	a,0x00
3655  11CA  DD 77 FB    	ld	(ix-5),a
3656  11CD  DD 6E FE    	ld	l,(ix-2)
3657  11D0  DD 66 FF    	ld	h,(ix-1)
3658  11D3  01 00 00    	ld	bc,_hibtiles
3659  11D6  09          	add	hl,bc
3660  11D7  DD 75 F8    	ld	(ix-8),l
3661  11DA  DD 74 F9    	ld	(ix-7),h
3662  11DD  4E          	ld	c, (hl)
3663  11DE  DD 6E FA    	ld	l,(ix-6)
3664  11E1  DD 66 FB    	ld	h,(ix-5)
3665  11E4  71          	ld	(hl), c
3666  11E5  3E 1F       	ld	a,0x1f
3667  11E7  DD 96 C3    	sub	a,(ix-61)
3668  11EA  30 17       	jr	NC,l_game_copy_tile_00102
3669  11EC  DD 6E FA    	ld	l,(ix-6)
3670  11EF  DD 66 FB    	ld	h,(ix-5)
3671  11F2  4E          	ld	c, (hl)
3672  11F3  3A 00 00    	ld	a,(_spr_init_cin)
3673  11F6  91          	sub	a, c
3674  11F7  20 0A       	jr	NZ,l_game_copy_tile_00102
3675  11F9  DD 6E FA    	ld	l,(ix-6)
3676  11FC  DD 66 FB    	ld	h,(ix-5)
3677  11FF  3A 00 00    	ld	a,(_spr_init_cout)
3678  1202  77          	ld	(hl),a
3679  1203              l_game_copy_tile_00102:
3680  1203  DD 34 C3    	inc	(ix-61)
3681  1206  DD 34 FE    	inc	(ix-2)
3682  1209  20 AA       	jr	NZ,l_game_copy_tile_00104
3683  120B  DD 34 FF    	inc	(ix-1)
3684  120E  18 A5       	jr	l_game_copy_tile_00104
3685  1210              l_game_copy_tile_00106:
3686  1210  3E 10       	ld	a,0x10
3687  1212  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3688  1215  01 FD 7F    	ld	bc,_IO_7FFD
3689  1218  ED 79       	out	(c),a
3690  121A  FB          	ei
3691  121B  DD 4E FC    	ld	c,(ix-4)
3692  121E  DD 46 FD    	ld	b,(ix-3)
3693  1221  DD 36 C3 1F 	ld	(ix-61),0x1f
3694  1225              l_game_copy_tile_00109:
3695  1225  DD 7E C3    	ld	a,(ix-61)
3696  1228  D6 30       	sub	a,0x30
3697  122A  30 25       	jr	NC,l_game_copy_tile_00111
3698  122C  79          	ld	a, c
3699  122D  DD 86 C3    	add	a,(ix-61)
3700  1230  DD 77 F8    	ld	(ix-8),a
3701  1233  6F          	ld	l,a
3702  1234  78          	ld	a,b
3703  1235  CE 00       	adc	a,0x00
3704  1237  DD 77 F9    	ld	(ix-7),a
3705  123A  67          	ld	h,a
3706  123B  5E          	ld	e, (hl)
3707  123C  3A 00 00    	ld	a,(_spr_init_cin)
3708  123F  93          	sub	a, e
3709  1240  20 0A       	jr	NZ,l_game_copy_tile_00108
3710  1242  DD 6E F8    	ld	l,(ix-8)
3711  1245  DD 66 F9    	ld	h,(ix-7)
3712  1248  3A 00 00    	ld	a,(_spr_init_cout)
3713  124B  77          	ld	(hl),a
3714  124C              l_game_copy_tile_00108:
3715  124C  DD 34 C3    	inc	(ix-61)
3716  124F  18 D4       	jr	l_game_copy_tile_00109
3717  1251              l_game_copy_tile_00111:
3718  1251  DD 6E 05    	ld	l,(ix+5)
3719  1254  26 00       	ld	h,0x00
3720  1256  4D          	ld	c,l
3721  1257  44          	ld	b,h
3722  1258  29          	add	hl, hl
3723  1259  09          	add	hl, bc
3724  125A  29          	add	hl, hl
3725  125B  29          	add	hl, hl
3726  125C  29          	add	hl, hl
3727  125D  29          	add	hl, hl
3728  125E  DD 75 F8    	ld	(ix-8),l
3729  1261  DD 74 F9    	ld	(ix-7),h
3730  1264  DD 7E FC    	ld	a,(ix-4)
3731  1267  DD 77 FA    	ld	(ix-6),a
3732  126A  DD 7E FD    	ld	a,(ix-3)
3733  126D  DD 77 FB    	ld	(ix-5),a
3734  1270  DD 7E FC    	ld	a,(ix-4)
3735  1273  DD 77 FE    	ld	(ix-2),a
3736  1276  DD 7E FD    	ld	a,(ix-3)
3737  1279  DD 77 FF    	ld	(ix-1),a
3738  127C  DD 7E FC    	ld	a,(ix-4)
3739  127F  DD 77 F6    	ld	(ix-10),a
3740  1282  DD 7E FD    	ld	a,(ix-3)
3741  1285  DD 77 F7    	ld	(ix-9),a
3742  1288  DD 7E FC    	ld	a,(ix-4)
3743  128B  DD 77 F4    	ld	(ix-12),a
3744  128E  DD 7E FD    	ld	a,(ix-3)
3745  1291  DD 77 F5    	ld	(ix-11),a
3746  1294  DD 36 C3 00 	ld	(ix-61),0x00
3747  1298              l_game_copy_tile_00124:
3748  1298  DD 7E C3    	ld	a,(ix-61)
3749  129B  D6 30       	sub	a,0x30
3750  129D  D2 7A 13    	jp	NC, l_game_copy_tile_00127
3751  12A0  DD 4E C3    	ld	c,(ix-61)
3752  12A3  0C          	inc	c
3753  12A4  DD 7E 06    	ld	a,(ix+6)
3754  12A7  B7          	or	a, a
3755  12A8  CA 50 13    	jp	Z, l_game_copy_tile_00122
3756  12AB  DD 7E C3    	ld	a,(ix-61)
3757  12AE  D6 20       	sub	a,0x20
3758  12B0  30 55       	jr	NC,l_game_copy_tile_00119
3759  12B2  DD CB C3 46 	bit	0,(ix-61)
3760  12B6  20 25       	jr	NZ,l_game_copy_tile_00113
3761  12B8  3E 00       	ld	a, +((_btiles) & 0xFF)
3762  12BA  DD 86 F8    	add	a,(ix-8)
3763  12BD  5F          	ld	e, a
3764  12BE  3E 00       	ld	a, +((_btiles) / 256)
3765  12C0  DD 8E F9    	adc	a,(ix-7)
3766  12C3  57          	ld	d, a
3767  12C4  DD 6E FC    	ld	l,(ix-4)
3768  12C7  DD 66 FD    	ld	h,(ix-3)
3769  12CA  06 00       	ld	b,0x00
3770  12CC  09          	add	hl, bc
3771  12CD  46          	ld	b, (hl)
3772  12CE  C5          	push	bc
3773  12CF  D5          	push	de
3774  12D0  C5          	push	bc
3775  12D1  33          	inc	sp
3776  12D2  CD 7F 13    	call	_reverse
3777  12D5  33          	inc	sp
3778  12D6  D1          	pop	de
3779  12D7  C1          	pop	bc
3780  12D8  7D          	ld	a,l
3781  12D9  12          	ld	(de), a
3782  12DA  C3 6B 13    	jp	l_game_copy_tile_00123
3783  12DD              l_game_copy_tile_00113:
3784  12DD  3E 00       	ld	a, +((_btiles) & 0xFF)
3785  12DF  DD 86 F8    	add	a,(ix-8)
3786  12E2  5F          	ld	e, a
3787  12E3  3E 00       	ld	a, +((_btiles) / 256)
3788  12E5  DD 8E F9    	adc	a,(ix-7)
3789  12E8  57          	ld	d, a
3790  12E9  DD 46 C3    	ld	b,(ix-61)
3791  12EC  05          	dec	b
3792  12ED  DD 7E F4    	ld	a,(ix-12)
3793  12F0  80          	add	a, b
3794  12F1  6F          	ld	l, a
3795  12F2  DD 7E F5    	ld	a,(ix-11)
3796  12F5  CE 00       	adc	a,0x00
3797  12F7  67          	ld	h, a
3798  12F8  46          	ld	b, (hl)
3799  12F9  C5          	push	bc
3800  12FA  D5          	push	de
3801  12FB  C5          	push	bc
3802  12FC  33          	inc	sp
3803  12FD  CD 7F 13    	call	_reverse
3804  1300  33          	inc	sp
3805  1301  D1          	pop	de
3806  1302  C1          	pop	bc
3807  1303  7D          	ld	a,l
3808  1304  12          	ld	(de), a
3809  1305  18 64       	jr	l_game_copy_tile_00123
3810  1307              l_game_copy_tile_00119:
3811  1307  DD 7E C3    	ld	a,(ix-61)
3812  130A  D6 28       	sub	a,0x28
3813  130C  30 21       	jr	NC,l_game_copy_tile_00116
3814  130E  3E 00       	ld	a, +((_btiles) & 0xFF)
3815  1310  DD 86 F8    	add	a,(ix-8)
3816  1313  5F          	ld	e, a
3817  1314  3E 00       	ld	a, +((_btiles) / 256)
3818  1316  DD 8E F9    	adc	a,(ix-7)
3819  1319  57          	ld	d, a
3820  131A  DD 7E C3    	ld	a,(ix-61)
3821  131D  C6 08       	add	a,0x08
3822  131F  47          	ld	b, a
3823  1320  DD 7E F6    	ld	a,(ix-10)
3824  1323  80          	add	a, b
3825  1324  6F          	ld	l, a
3826  1325  DD 7E F7    	ld	a,(ix-9)
3827  1328  CE 00       	adc	a,0x00
3828  132A  67          	ld	h, a
3829  132B  7E          	ld	a, (hl)
3830  132C  12          	ld	(de), a
3831  132D  18 3C       	jr	l_game_copy_tile_00123
3832  132F              l_game_copy_tile_00116:
3833  132F  3E 00       	ld	a, +((_btiles) & 0xFF)
3834  1331  DD 86 F8    	add	a,(ix-8)
3835  1334  5F          	ld	e, a
3836  1335  3E 00       	ld	a, +((_btiles) / 256)
3837  1337  DD 8E F9    	adc	a,(ix-7)
3838  133A  57          	ld	d, a
3839  133B  DD 7E C3    	ld	a,(ix-61)
3840  133E  C6 F8       	add	a,0xf8
3841  1340  47          	ld	b, a
3842  1341  DD 7E FE    	ld	a,(ix-2)
3843  1344  80          	add	a, b
3844  1345  6F          	ld	l, a
3845  1346  DD 7E FF    	ld	a,(ix-1)
3846  1349  CE 00       	adc	a,0x00
3847  134B  67          	ld	h, a
3848  134C  7E          	ld	a, (hl)
3849  134D  12          	ld	(de), a
3850  134E  18 1B       	jr	l_game_copy_tile_00123
3851  1350              l_game_copy_tile_00122:
3852  1350  3E 00       	ld	a, +((_btiles) & 0xFF)
3853  1352  DD 86 F8    	add	a,(ix-8)
3854  1355  5F          	ld	e, a
3855  1356  3E 00       	ld	a, +((_btiles) / 256)
3856  1358  DD 8E F9    	adc	a,(ix-7)
3857  135B  57          	ld	d, a
3858  135C  DD 7E FA    	ld	a,(ix-6)
3859  135F  DD 86 C3    	add	a,(ix-61)
3860  1362  6F          	ld	l, a
3861  1363  DD 7E FB    	ld	a,(ix-5)
3862  1366  CE 00       	adc	a,0x00
3863  1368  67          	ld	h, a
3864  1369  7E          	ld	a, (hl)
3865  136A  12          	ld	(de), a
3866  136B              l_game_copy_tile_00123:
3867  136B  DD 71 C3    	ld	(ix-61),c
3868  136E  DD 34 F8    	inc	(ix-8)
3869  1371  C2 98 12    	jp	NZ,l_game_copy_tile_00124
3870  1374  DD 34 F9    	inc	(ix-7)
3871  1377  C3 98 12    	jp	l_game_copy_tile_00124
3872  137A              l_game_copy_tile_00127:
3873  137A  DD F9       	ld	sp, ix
3874  137C  DD E1       	pop	ix
3875  137E  C9          	ret
3876  137F              	SECTION code_compiler
3877  137F              ;	---------------------------------
3878  137F              ; Function reverse
3879  137F              ; ---------------------------------
3880  137F              _reverse:
3881  137F  CD 00 00    	call	___sdcc_enter_ix
3882  1382  DD 7E 04    	ld	a,(ix+4)
3883  1385  E6 F0       	and	a,0xf0
3884  1387  07          	rlca
3885  1388  07          	rlca
3886  1389  07          	rlca
3887  138A  07          	rlca
3888  138B  E6 0F       	and	a,0x0f
3889  138D  4F          	ld	c, a
3890  138E  DD 7E 04    	ld	a,(ix+4)
3891  1391  E6 0F       	and	a,0x0f
3892  1393  07          	rlca
3893  1394  07          	rlca
3894  1395  07          	rlca
3895  1396  07          	rlca
3896  1397  E6 F0       	and	a,0xf0
3897  1399  B1          	or	a, c
3898  139A  DD 77 04    	ld	(ix+4),a
3899  139D  E6 CC       	and	a,0xcc
3900  139F  4F          	ld	c, a
3901  13A0  CB 39       	srl	c
3902  13A2  CB 39       	srl	c
3903  13A4  DD 7E 04    	ld	a,(ix+4)
3904  13A7  E6 33       	and	a,0x33
3905  13A9  87          	add	a, a
3906  13AA  87          	add	a, a
3907  13AB  B1          	or	a, c
3908  13AC  DD 77 04    	ld	(ix+4),a
3909  13AF  E6 AA       	and	a,0xaa
3910  13B1  4F          	ld	c, a
3911  13B2  CB 39       	srl	c
3912  13B4  DD 7E 04    	ld	a,(ix+4)
3913  13B7  E6 55       	and	a,0x55
3914  13B9  87          	add	a, a
3915  13BA  B1          	or	a, c
3916  13BB  DD 77 04    	ld	(ix+4),a
3917  13BE  6F          	ld	l, a
3918  13BF  DD E1       	pop	ix
3919  13C1  C9          	ret
3920  13C2              	SECTION IGNORE
3921  0000              
