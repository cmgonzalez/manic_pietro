1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_color_hacks
204   0000              	GLOBAL _game_print_lives
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_img1
207   0000              	GLOBAL _game_tick
208   0000              	GLOBAL _game_loop
209   0000              	GLOBAL _game_fps
210   0000              	GLOBAL _game_draw_map
211   0000              	GLOBAL _game_solar_ray
212   0000              	GLOBAL _game_solar_ray1
213   0000              	GLOBAL _game_solar_ray0
214   0000              	GLOBAL _game_logo1
215   0000              	GLOBAL _game_cell_paint_index
216   0000              	GLOBAL _game_cell_paint
217   0000              	GLOBAL _game_print_footer
218   0000              	GLOBAL _game_print_score
219   0000              	GLOBAL _game_cls
220   0000              	GLOBAL _game_start_timer
221   0000              	GLOBAL _game_anim_air
222   0000              	GLOBAL _game_anim_conveyor
223   0000              	GLOBAL _game_round_init
224   0000              	GLOBAL _game_print_header
225   0000              	GLOBAL _game_check_map
226   0000              	GLOBAL _game_check_cell
227   0000              	GLOBAL _game_paint_attrib
228   0000              	GLOBAL _game_check_time
229   0000              	GLOBAL _game_key_paint
230   0000              	GLOBAL _game_attribs
231   0000              	GLOBAL _game_page_map
232   0000              	GLOBAL _game_flash_exit
233   0000              	GLOBAL _game_copy_sprite_color_reset
234   0000              	GLOBAL _game_copy_sprite_std
235   0000              	GLOBAL _game_copy_sprite
236   0000              	GLOBAL _reverse
237   0000              	GLOBAL _page
238   0000              	GLOBAL _game_intro
239   0000              	GLOBAL _game_shoe
240   0000              	GLOBAL _game_set_attr
241   0000              	GLOBAL _game_crumble
242   0000              	GLOBAL _zx_print_char
243   0000              	GLOBAL _game_text
244   0000              ;--------------------------------------------------------
245   0000              ; Externals used
246   0000              ;--------------------------------------------------------
247   0000              	GLOBAL _ffsll_callee
248   0000              	GLOBAL _ffsll
249   0000              	GLOBAL _strxfrm_callee
250   0000              	GLOBAL _strxfrm
251   0000              	GLOBAL _strupr_fastcall
252   0000              	GLOBAL _strupr
253   0000              	GLOBAL _strtok_r_callee
254   0000              	GLOBAL _strtok_r
255   0000              	GLOBAL _strtok_callee
256   0000              	GLOBAL _strtok
257   0000              	GLOBAL _strstrip_fastcall
258   0000              	GLOBAL _strstrip
259   0000              	GLOBAL _strstr_callee
260   0000              	GLOBAL _strstr
261   0000              	GLOBAL _strspn_callee
262   0000              	GLOBAL _strspn
263   0000              	GLOBAL _strsep_callee
264   0000              	GLOBAL _strsep
265   0000              	GLOBAL _strrstrip_fastcall
266   0000              	GLOBAL _strrstrip
267   0000              	GLOBAL _strrstr_callee
268   0000              	GLOBAL _strrstr
269   0000              	GLOBAL _strrspn_callee
270   0000              	GLOBAL _strrspn
271   0000              	GLOBAL _strrev_fastcall
272   0000              	GLOBAL _strrev
273   0000              	GLOBAL _strrcspn_callee
274   0000              	GLOBAL _strrcspn
275   0000              	GLOBAL _strrchr_callee
276   0000              	GLOBAL _strrchr
277   0000              	GLOBAL _strpbrk_callee
278   0000              	GLOBAL _strpbrk
279   0000              	GLOBAL _strnlen_callee
280   0000              	GLOBAL _strnlen
281   0000              	GLOBAL _strnicmp_callee
282   0000              	GLOBAL _strnicmp
283   0000              	GLOBAL _strndup_callee
284   0000              	GLOBAL _strndup
285   0000              	GLOBAL _strncpy_callee
286   0000              	GLOBAL _strncpy
287   0000              	GLOBAL _strncmp_callee
288   0000              	GLOBAL _strncmp
289   0000              	GLOBAL _strnchr_callee
290   0000              	GLOBAL _strnchr
291   0000              	GLOBAL _strncat_callee
292   0000              	GLOBAL _strncat
293   0000              	GLOBAL _strncasecmp_callee
294   0000              	GLOBAL _strncasecmp
295   0000              	GLOBAL _strlwr_fastcall
296   0000              	GLOBAL _strlwr
297   0000              	GLOBAL _strlen_fastcall
298   0000              	GLOBAL _strlen
299   0000              	GLOBAL _strlcpy_callee
300   0000              	GLOBAL _strlcpy
301   0000              	GLOBAL _strlcat_callee
302   0000              	GLOBAL _strlcat
303   0000              	GLOBAL _stricmp_callee
304   0000              	GLOBAL _stricmp
305   0000              	GLOBAL _strerror_fastcall
306   0000              	GLOBAL _strerror
307   0000              	GLOBAL _strdup_fastcall
308   0000              	GLOBAL _strdup
309   0000              	GLOBAL _strcspn_callee
310   0000              	GLOBAL _strcspn
311   0000              	GLOBAL _strcpy_callee
312   0000              	GLOBAL _strcpy
313   0000              	GLOBAL _strcoll_callee
314   0000              	GLOBAL _strcoll
315   0000              	GLOBAL _strcmp_callee
316   0000              	GLOBAL _strcmp
317   0000              	GLOBAL _strchrnul_callee
318   0000              	GLOBAL _strchrnul
319   0000              	GLOBAL _strchr_callee
320   0000              	GLOBAL _strchr
321   0000              	GLOBAL _strcat_callee
322   0000              	GLOBAL _strcat
323   0000              	GLOBAL _strcasecmp_callee
324   0000              	GLOBAL _strcasecmp
325   0000              	GLOBAL _stpncpy_callee
326   0000              	GLOBAL _stpncpy
327   0000              	GLOBAL _stpcpy_callee
328   0000              	GLOBAL _stpcpy
329   0000              	GLOBAL _memswap_callee
330   0000              	GLOBAL _memswap
331   0000              	GLOBAL _memset_callee
332   0000              	GLOBAL _memset
333   0000              	GLOBAL _memrchr_callee
334   0000              	GLOBAL _memrchr
335   0000              	GLOBAL _memmove_callee
336   0000              	GLOBAL _memmove
337   0000              	GLOBAL _memmem_callee
338   0000              	GLOBAL _memmem
339   0000              	GLOBAL _memcpy_callee
340   0000              	GLOBAL _memcpy
341   0000              	GLOBAL _memcmp_callee
342   0000              	GLOBAL _memcmp
343   0000              	GLOBAL _memchr_callee
344   0000              	GLOBAL _memchr
345   0000              	GLOBAL _memccpy_callee
346   0000              	GLOBAL _memccpy
347   0000              	GLOBAL _ffsl_fastcall
348   0000              	GLOBAL _ffsl
349   0000              	GLOBAL _ffs_fastcall
350   0000              	GLOBAL _ffs
351   0000              	GLOBAL __strrstrip__fastcall
352   0000              	GLOBAL __strrstrip_
353   0000              	GLOBAL __memupr__callee
354   0000              	GLOBAL __memupr_
355   0000              	GLOBAL __memstrcpy__callee
356   0000              	GLOBAL __memstrcpy_
357   0000              	GLOBAL __memlwr__callee
358   0000              	GLOBAL __memlwr_
359   0000              	GLOBAL _rawmemchr_callee
360   0000              	GLOBAL _rawmemchr
361   0000              	GLOBAL _strnset_callee
362   0000              	GLOBAL _strnset
363   0000              	GLOBAL _strset_callee
364   0000              	GLOBAL _strset
365   0000              	GLOBAL _rindex_callee
366   0000              	GLOBAL _rindex
367   0000              	GLOBAL _index_callee
368   0000              	GLOBAL _index
369   0000              	GLOBAL _bzero_callee
370   0000              	GLOBAL _bzero
371   0000              	GLOBAL _bcopy_callee
372   0000              	GLOBAL _bcopy
373   0000              	GLOBAL _bcmp_callee
374   0000              	GLOBAL _bcmp
375   0000              	GLOBAL _ulltoa_callee
376   0000              	GLOBAL _ulltoa
377   0000              	GLOBAL _strtoull_callee
378   0000              	GLOBAL _strtoull
379   0000              	GLOBAL _strtoll_callee
380   0000              	GLOBAL _strtoll
381   0000              	GLOBAL _lltoa_callee
382   0000              	GLOBAL _lltoa
383   0000              	GLOBAL _llabs_callee
384   0000              	GLOBAL _llabs
385   0000              	GLOBAL __lldivu__callee
386   0000              	GLOBAL __lldivu_
387   0000              	GLOBAL __lldiv__callee
388   0000              	GLOBAL __lldiv_
389   0000              	GLOBAL _atoll_callee
390   0000              	GLOBAL _atoll
391   0000              	GLOBAL _realloc_unlocked_callee
392   0000              	GLOBAL _realloc_unlocked
393   0000              	GLOBAL _malloc_unlocked_fastcall
394   0000              	GLOBAL _malloc_unlocked
395   0000              	GLOBAL _free_unlocked_fastcall
396   0000              	GLOBAL _free_unlocked
397   0000              	GLOBAL _calloc_unlocked_callee
398   0000              	GLOBAL _calloc_unlocked
399   0000              	GLOBAL _aligned_alloc_unlocked_callee
400   0000              	GLOBAL _aligned_alloc_unlocked
401   0000              	GLOBAL _realloc_callee
402   0000              	GLOBAL _realloc
403   0000              	GLOBAL _malloc_fastcall
404   0000              	GLOBAL _malloc
405   0000              	GLOBAL _free_fastcall
406   0000              	GLOBAL _free
407   0000              	GLOBAL _calloc_callee
408   0000              	GLOBAL _calloc
409   0000              	GLOBAL _aligned_alloc_callee
410   0000              	GLOBAL _aligned_alloc
411   0000              	GLOBAL _utoa_callee
412   0000              	GLOBAL _utoa
413   0000              	GLOBAL _ultoa_callee
414   0000              	GLOBAL _ultoa
415   0000              	GLOBAL _system_fastcall
416   0000              	GLOBAL _system
417   0000              	GLOBAL _strtoul_callee
418   0000              	GLOBAL _strtoul
419   0000              	GLOBAL _strtol_callee
420   0000              	GLOBAL _strtol
421   0000              	GLOBAL _strtof_callee
422   0000              	GLOBAL _strtof
423   0000              	GLOBAL _strtod_callee
424   0000              	GLOBAL _strtod
425   0000              	GLOBAL _srand_fastcall
426   0000              	GLOBAL _srand
427   0000              	GLOBAL _rand
428   0000              	GLOBAL _quick_exit_fastcall
429   0000              	GLOBAL _quick_exit
430   0000              	GLOBAL _qsort_callee
431   0000              	GLOBAL _qsort
432   0000              	GLOBAL _ltoa_callee
433   0000              	GLOBAL _ltoa
434   0000              	GLOBAL _labs_fastcall
435   0000              	GLOBAL _labs
436   0000              	GLOBAL _itoa_callee
437   0000              	GLOBAL _itoa
438   0000              	GLOBAL _ftoh_callee
439   0000              	GLOBAL _ftoh
440   0000              	GLOBAL _ftog_callee
441   0000              	GLOBAL _ftog
442   0000              	GLOBAL _ftoe_callee
443   0000              	GLOBAL _ftoe
444   0000              	GLOBAL _ftoa_callee
445   0000              	GLOBAL _ftoa
446   0000              	GLOBAL _exit_fastcall
447   0000              	GLOBAL _exit
448   0000              	GLOBAL _dtoh_callee
449   0000              	GLOBAL _dtoh
450   0000              	GLOBAL _dtog_callee
451   0000              	GLOBAL _dtog
452   0000              	GLOBAL _dtoe_callee
453   0000              	GLOBAL _dtoe
454   0000              	GLOBAL _dtoa_callee
455   0000              	GLOBAL _dtoa
456   0000              	GLOBAL _bsearch_callee
457   0000              	GLOBAL _bsearch
458   0000              	GLOBAL _atol_fastcall
459   0000              	GLOBAL _atol
460   0000              	GLOBAL _atoi_fastcall
461   0000              	GLOBAL _atoi
462   0000              	GLOBAL _atof_fastcall
463   0000              	GLOBAL _atof
464   0000              	GLOBAL _atexit_fastcall
465   0000              	GLOBAL _atexit
466   0000              	GLOBAL _at_quick_exit_fastcall
467   0000              	GLOBAL _at_quick_exit
468   0000              	GLOBAL _abs_fastcall
469   0000              	GLOBAL _abs
470   0000              	GLOBAL _abort
471   0000              	GLOBAL __strtou__callee
472   0000              	GLOBAL __strtou_
473   0000              	GLOBAL __strtoi__callee
474   0000              	GLOBAL __strtoi_
475   0000              	GLOBAL __random_uniform_xor_8__fastcall
476   0000              	GLOBAL __random_uniform_xor_8_
477   0000              	GLOBAL __random_uniform_xor_32__fastcall
478   0000              	GLOBAL __random_uniform_xor_32_
479   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
480   0000              	GLOBAL __random_uniform_cmwc_8_
481   0000              	GLOBAL __shellsort__callee
482   0000              	GLOBAL __shellsort_
483   0000              	GLOBAL __quicksort__callee
484   0000              	GLOBAL __quicksort_
485   0000              	GLOBAL __insertion_sort__callee
486   0000              	GLOBAL __insertion_sort_
487   0000              	GLOBAL __ldivu__callee
488   0000              	GLOBAL __ldivu_
489   0000              	GLOBAL __ldiv__callee
490   0000              	GLOBAL __ldiv_
491   0000              	GLOBAL __divu__callee
492   0000              	GLOBAL __divu_
493   0000              	GLOBAL __div__callee
494   0000              	GLOBAL __div_
495   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
496   0000              	GLOBAL _NIRVANAP_drawTW_raw
497   0000              	GLOBAL _NIRVANAP_drawTW_callee
498   0000              	GLOBAL _NIRVANAP_drawTW
499   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
500   0000              	GLOBAL _NIRVANAP_drawW_raw
501   0000              	GLOBAL _NIRVANAP_drawW_callee
502   0000              	GLOBAL _NIRVANAP_drawW
503   0000              	GLOBAL _NIRVANAP_spriteT_callee
504   0000              	GLOBAL _NIRVANAP_spriteT
505   0000              	GLOBAL _NIRVANAP_fillC_callee
506   0000              	GLOBAL _NIRVANAP_fillC
507   0000              	GLOBAL _NIRVANAP_readC_callee
508   0000              	GLOBAL _NIRVANAP_readC
509   0000              	GLOBAL _NIRVANAP_paintC_callee
510   0000              	GLOBAL _NIRVANAP_paintC
511   0000              	GLOBAL _NIRVANAP_printQ_callee
512   0000              	GLOBAL _NIRVANAP_printQ
513   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
514   0000              	GLOBAL _NIRVANAP_fillT_raw
515   0000              	GLOBAL _NIRVANAP_fillT_callee
516   0000              	GLOBAL _NIRVANAP_fillT
517   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
518   0000              	GLOBAL _NIRVANAP_drawT_raw
519   0000              	GLOBAL _NIRVANAP_drawT_callee
520   0000              	GLOBAL _NIRVANAP_drawT
521   0000              	GLOBAL _NIRVANAP_stop
522   0000              	GLOBAL _NIRVANAP_start
523   0000              	GLOBAL _zx_print_str
524   0000              	GLOBAL _zx_print_int
525   0000              	GLOBAL _zx_print_chr
526   0000              	GLOBAL _zx_isr
527   0000              	GLOBAL _z80_otdr_callee
528   0000              	GLOBAL _z80_otdr
529   0000              	GLOBAL _z80_otir_callee
530   0000              	GLOBAL _z80_otir
531   0000              	GLOBAL _z80_outp_callee
532   0000              	GLOBAL _z80_outp
533   0000              	GLOBAL _z80_indr_callee
534   0000              	GLOBAL _z80_indr
535   0000              	GLOBAL _z80_inir_callee
536   0000              	GLOBAL _z80_inir
537   0000              	GLOBAL _z80_inp_fastcall
538   0000              	GLOBAL _z80_inp
539   0000              	GLOBAL _z80_set_int_state_fastcall
540   0000              	GLOBAL _z80_set_int_state
541   0000              	GLOBAL _z80_get_int_state
542   0000              	GLOBAL _z80_delay_tstate_fastcall
543   0000              	GLOBAL _z80_delay_tstate
544   0000              	GLOBAL _z80_delay_ms_fastcall
545   0000              	GLOBAL _z80_delay_ms
546   0000              	GLOBAL _im2_remove_generic_callback_callee
547   0000              	GLOBAL _im2_remove_generic_callback
548   0000              	GLOBAL _im2_prepend_generic_callback_callee
549   0000              	GLOBAL _im2_prepend_generic_callback
550   0000              	GLOBAL _im2_append_generic_callback_callee
551   0000              	GLOBAL _im2_append_generic_callback
552   0000              	GLOBAL _im2_create_generic_isr_8080_callee
553   0000              	GLOBAL _im2_create_generic_isr_8080
554   0000              	GLOBAL _im2_create_generic_isr_callee
555   0000              	GLOBAL _im2_create_generic_isr
556   0000              	GLOBAL _im2_install_isr_callee
557   0000              	GLOBAL _im2_install_isr
558   0000              	GLOBAL _im2_init_fastcall
559   0000              	GLOBAL _im2_init
560   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
561   0000              	GLOBAL _intrinsic_swap_word_32
562   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
563   0000              	GLOBAL _intrinsic_swap_endian_32
564   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
565   0000              	GLOBAL _intrinsic_swap_endian_16
566   0000              	GLOBAL _intrinsic_return_de
567   0000              	GLOBAL _intrinsic_return_bc
568   0000              	GLOBAL _intrinsic_exx
569   0000              	GLOBAL _intrinsic_ex_de_hl
570   0000              	GLOBAL _intrinsic_nop
571   0000              	GLOBAL _intrinsic_im_2
572   0000              	GLOBAL _intrinsic_im_1
573   0000              	GLOBAL _intrinsic_im_0
574   0000              	GLOBAL _intrinsic_retn
575   0000              	GLOBAL _intrinsic_reti
576   0000              	GLOBAL _intrinsic_halt
577   0000              	GLOBAL _intrinsic_ei
578   0000              	GLOBAL _intrinsic_di
579   0000              	GLOBAL _intrinsic_stub
580   0000              	GLOBAL _intrinsic_ini
581   0000              	GLOBAL _intrinsic_outi
582   0000              	GLOBAL _intrinsic_ldi
583   0000              	GLOBAL _zx_pattern_fill_callee
584   0000              	GLOBAL _zx_pattern_fill
585   0000              	GLOBAL _zx_saddrpup_fastcall
586   0000              	GLOBAL _zx_saddrpup
587   0000              	GLOBAL _zx_saddrpright_callee
588   0000              	GLOBAL _zx_saddrpright
589   0000              	GLOBAL _zx_saddrpleft_callee
590   0000              	GLOBAL _zx_saddrpleft
591   0000              	GLOBAL _zx_saddrpdown_fastcall
592   0000              	GLOBAL _zx_saddrpdown
593   0000              	GLOBAL _zx_saddrcup_fastcall
594   0000              	GLOBAL _zx_saddrcup
595   0000              	GLOBAL _zx_saddrcright_fastcall
596   0000              	GLOBAL _zx_saddrcright
597   0000              	GLOBAL _zx_saddrcleft_fastcall
598   0000              	GLOBAL _zx_saddrcleft
599   0000              	GLOBAL _zx_saddrcdown_fastcall
600   0000              	GLOBAL _zx_saddrcdown
601   0000              	GLOBAL _zx_saddr2py_fastcall
602   0000              	GLOBAL _zx_saddr2py
603   0000              	GLOBAL _zx_saddr2px_fastcall
604   0000              	GLOBAL _zx_saddr2px
605   0000              	GLOBAL _zx_saddr2cy_fastcall
606   0000              	GLOBAL _zx_saddr2cy
607   0000              	GLOBAL _zx_saddr2cx_fastcall
608   0000              	GLOBAL _zx_saddr2cx
609   0000              	GLOBAL _zx_saddr2aaddr_fastcall
610   0000              	GLOBAL _zx_saddr2aaddr
611   0000              	GLOBAL _zx_py2saddr_fastcall
612   0000              	GLOBAL _zx_py2saddr
613   0000              	GLOBAL _zx_py2aaddr_fastcall
614   0000              	GLOBAL _zx_py2aaddr
615   0000              	GLOBAL _zx_pxy2saddr_callee
616   0000              	GLOBAL _zx_pxy2saddr
617   0000              	GLOBAL _zx_pxy2aaddr_callee
618   0000              	GLOBAL _zx_pxy2aaddr
619   0000              	GLOBAL _zx_px2bitmask_fastcall
620   0000              	GLOBAL _zx_px2bitmask
621   0000              	GLOBAL _zx_cy2saddr_fastcall
622   0000              	GLOBAL _zx_cy2saddr
623   0000              	GLOBAL _zx_cy2aaddr_fastcall
624   0000              	GLOBAL _zx_cy2aaddr
625   0000              	GLOBAL _zx_cxy2saddr_callee
626   0000              	GLOBAL _zx_cxy2saddr
627   0000              	GLOBAL _zx_cxy2aaddr_callee
628   0000              	GLOBAL _zx_cxy2aaddr
629   0000              	GLOBAL _zx_bitmask2px_fastcall
630   0000              	GLOBAL _zx_bitmask2px
631   0000              	GLOBAL _zx_aaddrcup_fastcall
632   0000              	GLOBAL _zx_aaddrcup
633   0000              	GLOBAL _zx_aaddrcright_fastcall
634   0000              	GLOBAL _zx_aaddrcright
635   0000              	GLOBAL _zx_aaddrcleft_fastcall
636   0000              	GLOBAL _zx_aaddrcleft
637   0000              	GLOBAL _zx_aaddrcdown_fastcall
638   0000              	GLOBAL _zx_aaddrcdown
639   0000              	GLOBAL _zx_aaddr2saddr_fastcall
640   0000              	GLOBAL _zx_aaddr2saddr
641   0000              	GLOBAL _zx_aaddr2py_fastcall
642   0000              	GLOBAL _zx_aaddr2py
643   0000              	GLOBAL _zx_aaddr2px_fastcall
644   0000              	GLOBAL _zx_aaddr2px
645   0000              	GLOBAL _zx_aaddr2cy_fastcall
646   0000              	GLOBAL _zx_aaddr2cy
647   0000              	GLOBAL _zx_aaddr2cx_fastcall
648   0000              	GLOBAL _zx_aaddr2cx
649   0000              	GLOBAL _zx_visit_wc_pix_callee
650   0000              	GLOBAL _zx_visit_wc_pix
651   0000              	GLOBAL _zx_visit_wc_attr_callee
652   0000              	GLOBAL _zx_visit_wc_attr
653   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
654   0000              	GLOBAL _zx_scroll_wc_up_pix
655   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
656   0000              	GLOBAL _zx_scroll_wc_up_attr
657   0000              	GLOBAL _zx_scroll_wc_up_callee
658   0000              	GLOBAL _zx_scroll_wc_up
659   0000              	GLOBAL _zx_scroll_up_pix_callee
660   0000              	GLOBAL _zx_scroll_up_pix
661   0000              	GLOBAL _zx_scroll_up_attr_callee
662   0000              	GLOBAL _zx_scroll_up_attr
663   0000              	GLOBAL _zx_scroll_up_callee
664   0000              	GLOBAL _zx_scroll_up
665   0000              	GLOBAL _zx_cls_wc_pix_callee
666   0000              	GLOBAL _zx_cls_wc_pix
667   0000              	GLOBAL _zx_cls_wc_attr_callee
668   0000              	GLOBAL _zx_cls_wc_attr
669   0000              	GLOBAL _zx_cls_wc_callee
670   0000              	GLOBAL _zx_cls_wc
671   0000              	GLOBAL _zx_cls_pix_fastcall
672   0000              	GLOBAL _zx_cls_pix
673   0000              	GLOBAL _zx_cls_attr_fastcall
674   0000              	GLOBAL _zx_cls_attr
675   0000              	GLOBAL _zx_cls_fastcall
676   0000              	GLOBAL _zx_cls
677   0000              	GLOBAL _zx_border_fastcall
678   0000              	GLOBAL _zx_border
679   0000              	GLOBAL _zx_tape_verify_block_callee
680   0000              	GLOBAL _zx_tape_verify_block
681   0000              	GLOBAL _zx_tape_save_block_callee
682   0000              	GLOBAL _zx_tape_save_block
683   0000              	GLOBAL _zx_tape_load_block_callee
684   0000              	GLOBAL _zx_tape_load_block
685   0000              	GLOBAL _spr_horizontal_check
686   0000              	GLOBAL _spr_draw8
687   0000              	GLOBAL _spr_destroy
688   0000              	GLOBAL _spr_turn_horizontal
689   0000              	GLOBAL _spr_clear_scr
690   0000              	GLOBAL _spr_back_repaint
691   0000              	GLOBAL _spr_get_tile_dir
692   0000              	GLOBAL _spr_get_tile
693   0000              	GLOBAL _spr_paint_player
694   0000              	GLOBAL _spr_clear_fast_hor
695   0000              	GLOBAL _spr_clear_fast_vert
696   0000              	GLOBAL _spr_clear_fast
697   0000              	GLOBAL _spr_paint
698   0000              	GLOBAL _spr_move_left
699   0000              	GLOBAL _spr_move_right
700   0000              	GLOBAL _spr_move_left_f
701   0000              	GLOBAL _spr_move_right_f
702   0000              	GLOBAL _spr_move_horizontal
703   0000              	GLOBAL _spr_move_down_f
704   0000              	GLOBAL _spr_move_up_f
705   0000              	GLOBAL _spr_set_right
706   0000              	GLOBAL _spr_set_left
707   0000              	GLOBAL _spr_set_down
708   0000              	GLOBAL _spr_set_up
709   0000              	GLOBAL _spr_calc_index
710   0000              	GLOBAL _spr_chktime
711   0000              	GLOBAL _player_new_jump
712   0000              	GLOBAL _player_crumble
713   0000              	GLOBAL _player_pick
714   0000              	GLOBAL _player_use_floor
715   0000              	GLOBAL _player_lost_life
716   0000              	GLOBAL _player_move_jump
717   0000              	GLOBAL _player_tile
718   0000              	GLOBAL _player_handle_conveyor
719   0000              	GLOBAL _player_pick_extra
720   0000              	GLOBAL _player_pick_deadly
721   0000              	GLOBAL _player_pick_item
722   0000              	GLOBAL _player_check_ceil
723   0000              	GLOBAL _player_check_floor
724   0000              	GLOBAL _player_score_add
725   0000              	GLOBAL _player_move_walk
726   0000              	GLOBAL _player_turn
727   0000              	GLOBAL _player_move
728   0000              	GLOBAL _player_check_input
729   0000              	GLOBAL _player_init
730   0000              	GLOBAL _menu_read_code
731   0000              	GLOBAL _menu_read_key
732   0000              	GLOBAL _menu_define_key
733   0000              	GLOBAL _menu_redefine
734   0000              	GLOBAL _menu_main_print
735   0000              	GLOBAL _menu_main
736   0000              	GLOBAL _game_colour_message
737   0000              	GLOBAL _game_update_stats
738   0000              	GLOBAL _game_fill_row
739   0000              	GLOBAL _enemy_init
740   0000              	GLOBAL _enemy_move
741   0000              	GLOBAL _enemy_turn
742   0000              	GLOBAL _enemy_static
743   0000              	GLOBAL _enemy_horizontal
744   0000              	GLOBAL _enemy_vertical
745   0000              	GLOBAL _ay_reset
746   0000              	GLOBAL _ay_song_stop
747   0000              	GLOBAL _ay_song_play
748   0000              	GLOBAL _ay_fx_stop
749   0000              	GLOBAL _ay_fx_play
750   0000              	GLOBAL _ay_is_playing
751   0000              	GLOBAL _audio_game_over
752   0000              	GLOBAL _audio_round_init
753   0000              	GLOBAL _audio_levelup
754   0000              	GLOBAL _audio_menu
755   0000              	GLOBAL _audio_game_end
756   0000              	GLOBAL _audio_game_start
757   0000              	GLOBAL _audio_level_complete
758   0000              	GLOBAL _audio_level_start
759   0000              	GLOBAL _audio_puerta
760   0000              	GLOBAL _audio_crumble
761   0000              	GLOBAL _audio_tick
762   0000              	GLOBAL _audio_door_open
763   0000              	GLOBAL _audio_coin_noentiendo
764   0000              	GLOBAL _audio_coin
765   0000              	GLOBAL _audio_fall
766   0000              	GLOBAL _audio_jump
767   0000              	GLOBAL _audio_dead
768   0000              	GLOBAL _audio_time
769   0000              	GLOBAL _audio_ingame
770   0000              	GLOBAL _test_func
771   0000              	GLOBAL _test_proc
772   0000              	GLOBAL _in_mouse_kempston_wheel_delta
773   0000              	GLOBAL _in_mouse_kempston_wheel
774   0000              	GLOBAL _in_mouse_kempston_callee
775   0000              	GLOBAL _in_mouse_kempston
776   0000              	GLOBAL _in_mouse_kempston_setpos_callee
777   0000              	GLOBAL _in_mouse_kempston_setpos
778   0000              	GLOBAL _in_mouse_kempston_reset
779   0000              	GLOBAL _in_mouse_kempston_init
780   0000              	GLOBAL _in_mouse_amx_wheel_delta
781   0000              	GLOBAL _in_mouse_amx_wheel
782   0000              	GLOBAL _in_mouse_amx_callee
783   0000              	GLOBAL _in_mouse_amx
784   0000              	GLOBAL _in_mouse_amx_setpos_callee
785   0000              	GLOBAL _in_mouse_amx_setpos
786   0000              	GLOBAL _in_mouse_amx_reset
787   0000              	GLOBAL _in_mouse_amx_init_callee
788   0000              	GLOBAL _in_mouse_amx_init
789   0000              	GLOBAL _in_stick_sinclair2
790   0000              	GLOBAL _in_stick_sinclair1
791   0000              	GLOBAL _in_stick_kempston
792   0000              	GLOBAL _in_stick_fuller
793   0000              	GLOBAL _in_stick_cursor
794   0000              	GLOBAL _in_stick_keyboard_fastcall
795   0000              	GLOBAL _in_stick_keyboard
796   0000              	GLOBAL _in_wait_nokey
797   0000              	GLOBAL _in_wait_key
798   0000              	GLOBAL _in_test_key
799   0000              	GLOBAL _in_pause_fastcall
800   0000              	GLOBAL _in_pause
801   0000              	GLOBAL _in_key_scancode_fastcall
802   0000              	GLOBAL _in_key_scancode
803   0000              	GLOBAL _in_key_pressed_fastcall
804   0000              	GLOBAL _in_key_pressed
805   0000              	GLOBAL _in_inkey
806   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
807   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
808   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
809   0000              	GLOBAL _NIRVANAP_HOLE
810   0000              	GLOBAL _NIRVANAP_ISR_HOOK
811   0000              	GLOBAL _game_tune
812   0000              	GLOBAL _code1
813   0000              	GLOBAL _code0
814   0000              	GLOBAL _deltas
815   0000              	GLOBAL _attribs
816   0000              	GLOBAL _air_curr_byte
817   0000              	GLOBAL _spr_clr
818   0000              	GLOBAL _spr_init_bright
819   0000              	GLOBAL _spr_init_cout3
820   0000              	GLOBAL _spr_init_cin3
821   0000              	GLOBAL _spr_init_cout2
822   0000              	GLOBAL _spr_init_cin2
823   0000              	GLOBAL _spr_init_cout1
824   0000              	GLOBAL _spr_init_cin1
825   0000              	GLOBAL _spr_init_cout0
826   0000              	GLOBAL _spr_init_cin0
827   0000              	GLOBAL _map_clear
828   0000              	GLOBAL _map_paper
829   0000              	GLOBAL _map_border
830   0000              	GLOBAL _gbyte
831   0000              	GLOBAL _scr_curr
832   0000              	GLOBAL _color
833   0000              	GLOBAL _scr_map
834   0000              	GLOBAL _spr_kind
835   0000              	GLOBAL _spr_altset
836   0000              	GLOBAL _spr_frames
837   0000              	GLOBAL _spr_speed_a
838   0000              	GLOBAL _spr_speed_b
839   0000              	GLOBAL _spr_speed
840   0000              	GLOBAL _spr_tile
841   0000              	GLOBAL _screen_ink
842   0000              	GLOBAL _screen_paper
843   0000              	GLOBAL _game_start_scr
844   0000              	GLOBAL _player_next_extra
845   0000              	GLOBAL _game_score_top
846   0000              	GLOBAL _player_coins
847   0000              	GLOBAL _player_lives
848   0000              	GLOBAL _game_crumb_end
849   0000              	GLOBAL _game_crumb_start
850   0000              	GLOBAL _game_over
851   0000              	GLOBAL _game_tile_cnt
852   0000              	GLOBAL _game_sound
853   0000              	GLOBAL _game_inf_lives
854   0000              	GLOBAL _game_inmune
855   0000              	GLOBAL _spr_count
856   0000              	GLOBAL _key_ink
857   0000              	GLOBAL _key_last
858   0000              	GLOBAL _lapse_crumb
859   0000              	GLOBAL _time_key
860   0000              	GLOBAL _time_conv
861   0000              	GLOBAL _time_air
862   0000              	GLOBAL _frame_time
863   0000              	GLOBAL _curr_time
864   0000              	GLOBAL _key_attrib
865   0000              	GLOBAL _g_ray1
866   0000              	GLOBAL _attrib_sol1
867   0000              	GLOBAL _attrib_sol0
868   0000              	GLOBAL _attrib_osd
869   0000              	GLOBAL _attrib_hl
870   0000              	GLOBAL _attrib
871   0000              	GLOBAL _zx_val_asm
872   0000              	GLOBAL _index1
873   0000              	GLOBAL _index0
874   0000              	GLOBAL _loop_count
875   0000              	GLOBAL _s_row1
876   0000              	GLOBAL _s_col1
877   0000              	GLOBAL _s_col0
878   0000              	GLOBAL _s_lin1
879   0000              	GLOBAL _s_lin0
880   0000              	GLOBAL _nirv_sprite_index
881   0000              	GLOBAL _player_kill_index
882   0000              	GLOBAL _player_jump_top
883   0000              	GLOBAL _game_fps_show
884   0000              	GLOBAL _game_debug
885   0000              	GLOBAL _sprite
886   0000              	GLOBAL _fps
887   0000              	GLOBAL _game_effect
888   0000              	GLOBAL _game_menu
889   0000              	GLOBAL _game_atrac
890   0000              	GLOBAL _game_mode
891   0000              	GLOBAL _game_tileset
892   0000              	GLOBAL _menu_curr_sel
893   0000              	GLOBAL _game_round_up
894   0000              	GLOBAL _game_lives
895   0000              	GLOBAL _game_code
896   0000              	GLOBAL _game_exit_lin
897   0000              	GLOBAL _game_exit_col
898   0000              	GLOBAL _game_conveyor_col1
899   0000              	GLOBAL _game_conveyor_col0
900   0000              	GLOBAL _game_conveyor_lin
901   0000              	GLOBAL _game_conveyor_dir
902   0000              	GLOBAL _game_song_play_start
903   0000              	GLOBAL _game_song_play
904   0000              	GLOBAL _game_gravity
905   0000              	GLOBAL _player_lin_scr
906   0000              	GLOBAL _player_col_scr
907   0000              	GLOBAL _player_fall_start
908   0000              	GLOBAL _player_jump_lin
909   0000              	GLOBAL _player_jump_count
910   0000              	GLOBAL _player_jump_hack
911   0000              	GLOBAL _player_vel_inc
912   0000              	GLOBAL _player_vel_y0
913   0000              	GLOBAL _player_vel_y
914   0000              	GLOBAL _player_score
915   0000              	GLOBAL _tbuffer
916   0000              	GLOBAL _obj_count
917   0000              	GLOBAL _obj_col
918   0000              	GLOBAL _obj_lin
919   0000              	GLOBAL _last_time_b
920   0000              	GLOBAL _last_time_a
921   0000              	GLOBAL _last_time
922   0000              	GLOBAL _colint
923   0000              	GLOBAL _col
924   0000              	GLOBAL _lin
925   0000              	GLOBAL _tile
926   0000              	GLOBAL _value_c
927   0000              	GLOBAL _value_b
928   0000              	GLOBAL _value_a
929   0000              	GLOBAL _state_a
930   0000              	GLOBAL _state
931   0000              	GLOBAL _class
932   0000              	GLOBAL _dirs_last
933   0000              	GLOBAL _dirs
934   0000              	GLOBAL _k2
935   0000              	GLOBAL _k1
936   0000              	GLOBAL _joyfunc2
937   0000              	GLOBAL _joyfunc1
938   0000              	GLOBAL _btiles
939   0000              	GLOBAL _v3
940   0000              	GLOBAL _v2
941   0000              	GLOBAL _v1
942   0000              	GLOBAL _v0
943   0000              	GLOBAL _i
944   0000              	GLOBAL _spec128
945   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
946   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
947   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
948   0000              	GLOBAL _hitiles2
949   0000              	GLOBAL _hitiles1
950   0000              	GLOBAL _ay_song_coin_noentiendo
951   0000              	GLOBAL _ay_song_game_over
952   0000              	GLOBAL _ay_song_time_atack
953   0000              	GLOBAL _ay_fx_crumble
954   0000              	GLOBAL _ay_fx_door_open
955   0000              	GLOBAL _ay_fx_tick
956   0000              	GLOBAL _ay_fx_game_start
957   0000              	GLOBAL _ay_fx_fall
958   0000              	GLOBAL _ay_fx_jump
959   0000              	GLOBAL _ay_fx_dead
960   0000              	GLOBAL _ay_fx_coin
961   0000              	GLOBAL _ay_song_round_init
962   0000              	GLOBAL _ay_song_menu
963   0000              	GLOBAL _ay_song_ingame1
964   0000              	GLOBAL _ay_song_ingame0
965   0000              	GLOBAL _hisprites2
966   0000              	GLOBAL _hisprites1
967   0000              	GLOBAL _logo2
968   0000              	GLOBAL _logo1
969   0000              	GLOBAL _cartoon2
970   0000              	GLOBAL _cartoon1
971   0000              	GLOBAL _cartoon0
972   0000              	GLOBAL _img1
973   0000              	GLOBAL _air_end_byte
974   0000              	GLOBAL _air_start_byte
975   0000              	GLOBAL _tile_class
976   0000              	GLOBAL _texts
977   0000              	GLOBAL _map_names0
978   0000              	GLOBAL _game_borders0
979   0000              	GLOBAL _spr_init2
980   0000              	GLOBAL _spr_init1
981   0000              	GLOBAL _tile_class2
982   0000              	GLOBAL _tile_class1
983   0000              	GLOBAL _paper0
984   0000              	GLOBAL _lenght0
985   0000              	GLOBAL _world0
986   0000              	GLOBAL _spr_init
987   0000              	GLOBAL _game_encode
988   0000              	GLOBAL _player_jump_hor
989   0000              ;--------------------------------------------------------
990   0000              ; special function registers
991   0000              ;--------------------------------------------------------
992   0000              defc _IO_FE	=	0x00fe
993   0000              defc _IO_1FFD	=	0x1ffd
994   0000              defc _IO_7FFD	=	0x7ffd
995   0000              ;--------------------------------------------------------
996   0000              ; ram data
997   0000              ;--------------------------------------------------------
998   0000              	SECTION bss_compiler
999   0000              ;--------------------------------------------------------
1000  0000              ; ram data
1001  0000              ;--------------------------------------------------------
1002  0000              
1003  0000              IF 0
1004  0000              
1005  0000              ; .area _INITIALIZED removed by z88dk
1006  0000              
1007  0000              
1008  0000              ENDIF
1009  0000              
1010  0000              ;--------------------------------------------------------
1011  0000              ; absolute external ram data
1012  0000              ;--------------------------------------------------------
1013  0000              	SECTION IGNORE
1014  0000              ;--------------------------------------------------------
1015  0000              ; global & static initialisations
1016  0000              ;--------------------------------------------------------
1017  0000              	SECTION code_crt_init
1018  0000              ;--------------------------------------------------------
1019  0000              ; Home
1020  0000              ;--------------------------------------------------------
1021  0000              	SECTION IGNORE
1022  0000              ;--------------------------------------------------------
1023  0000              ; code
1024  0000              ;--------------------------------------------------------
1025  0000              	SECTION code_compiler
1026  0000              ;	---------------------------------
1027  0000              ; Function game_tick
1028  0000              ; ---------------------------------
1029  0000              _game_tick:
1030  0000  21 00 00    	ld	hl,_curr_time
1031  0003  34          	inc	(hl)
1032  0004  C2 00 00    	jp	NZ,_zx_isr
1033  0007  23          	inc	hl
1034  0008  34          	inc	(hl)
1035  0009  C3 00 00    	jp  _zx_isr
1036  000C              	SECTION code_compiler
1037  000C              ;	---------------------------------
1038  000C              ; Function game_loop
1039  000C              ; ---------------------------------
1040  000C              _game_loop:
1041  000C  3A 00 00    	ld	a,(_game_code)
1042  000F  B7          	or	a, a
1043  0010  20 05       	jr	NZ,l_game_loop_00102
1044  0012  21 00 00    	ld	hl,_player_lives
1045  0015  36 03       	ld	(hl),0x03
1046  0017              l_game_loop_00102:
1047  0017  3A 00 00    	ld	a,(_player_lives)
1048  001A  32 00 00    	ld	(_game_lives),a
1049  001D  21 00 00    	ld	hl,0x0000
1050  0020  7D          	ld	a,l
1051  0021  22 00 00    	ld	(_player_score),hl
1052  0024  22 02 00    	ld	(_player_score + 2),hl
1053  0027  21 04 00    	ld	hl,_player_score + 4
1054  002A  77          	ld	(hl), a
1055  002B  23          	inc	hl
1056  002C  77          	ld	(hl), a
1057  002D  23          	inc	hl
1058  002E  77          	ld	(hl), a
1059  002F  23          	inc	hl
1060  0030  77          	ld	(hl), a
1061  0031  21 00 00    	ld	hl,_game_over
1062  0034  36 00       	ld	(hl),0x00
1063  0036  21 00 00    	ld	hl,_game_round_up
1064  0039  36 00       	ld	(hl),0x00
1065  003B  21 00 00    	ld	hl,_map_paper
1066  003E  36 00       	ld	(hl),0x00
1067  0040  21 00 00    	ld	hl,_player_lin_scr
1068  0043  36 68       	ld	(hl),0x68
1069  0045  21 00 00    	ld	hl,_player_col_scr
1070  0048  36 02       	ld	(hl),0x02
1071  004A  CD F1 09    	call	_game_round_init
1072  004D              l_game_loop_00141:
1073  004D  3A 00 00    	ld	a,(_game_over)
1074  0050  B7          	or	a, a
1075  0051  C2 24 02    	jp	NZ, l_game_loop_00144
1076  0054              l_game_loop_00136:
1077  0054  3A 00 00    	ld	a,(_game_round_up)
1078  0057  B7          	or	a, a
1079  0058  C2 F7 01    	jp	NZ, l_game_loop_00138
1080  005B  3A 00 00    	ld	a,(_game_over)
1081  005E  B7          	or	a, a
1082  005F  C2 F7 01    	jp	NZ, l_game_loop_00138
1083  0062  CD 00 00    	call	_enemy_turn
1084  0065  CD 00 00    	call	_player_turn
1085  0068  21 04 00    	ld	hl,0x0004
1086  006B  E5          	push	hl
1087  006C  21 00 00    	ld	hl,_time_key
1088  006F  E5          	push	hl
1089  0070  CD 35 0E    	call	_game_check_time
1090  0073  F1          	pop	af
1091  0074  F1          	pop	af
1092  0075  7D          	ld	a, l
1093  0076  B7          	or	a, a
1094  0077  28 09       	jr	Z,l_game_loop_00104
1095  0079  2A 00 00    	ld	hl,(_curr_time)
1096  007C  22 00 00    	ld	(_time_key),hl
1097  007F  CD 5F 0E    	call	_game_key_paint
1098  0082              l_game_loop_00104:
1099  0082  3A 00 00    	ld	a,(_game_conveyor_col0)
1100  0085  B7          	or	a, a
1101  0086  28 1A       	jr	Z,l_game_loop_00108
1102  0088  21 05 00    	ld	hl,0x0005
1103  008B  E5          	push	hl
1104  008C  21 00 00    	ld	hl,_time_conv
1105  008F  E5          	push	hl
1106  0090  CD 35 0E    	call	_game_check_time
1107  0093  F1          	pop	af
1108  0094  F1          	pop	af
1109  0095  7D          	ld	a, l
1110  0096  B7          	or	a, a
1111  0097  28 09       	jr	Z,l_game_loop_00108
1112  0099  2A 00 00    	ld	hl,(_curr_time)
1113  009C  22 00 00    	ld	(_time_conv),hl
1114  009F  CD 19 09    	call	_game_anim_conveyor
1115  00A2              l_game_loop_00108:
1116  00A2  21 1E 00    	ld	hl,0x001e
1117  00A5  E5          	push	hl
1118  00A6  21 00 00    	ld	hl,_time_air
1119  00A9  E5          	push	hl
1120  00AA  CD 35 0E    	call	_game_check_time
1121  00AD  F1          	pop	af
1122  00AE  F1          	pop	af
1123  00AF  7D          	ld	a, l
1124  00B0  B7          	or	a, a
1125  00B1  28 29       	jr	Z,l_game_loop_00113
1126  00B3  CD B1 08    	call	_game_anim_air
1127  00B6  2A 00 00    	ld	hl,(_curr_time)
1128  00B9  22 00 00    	ld	(_time_air),hl
1129  00BC  3A 00 00    	ld	a,(_game_fps_show)
1130  00BF  B7          	or	a,a
1131  00C0  28 1A       	jr	Z,l_game_loop_00113
1132  00C2  21 64 00    	ld	hl,0x0064
1133  00C5  E5          	push	hl
1134  00C6  21 00 00    	ld	hl,_frame_time
1135  00C9  E5          	push	hl
1136  00CA  CD 35 0E    	call	_game_check_time
1137  00CD  F1          	pop	af
1138  00CE  F1          	pop	af
1139  00CF  7D          	ld	a, l
1140  00D0  B7          	or	a, a
1141  00D1  28 09       	jr	Z,l_game_loop_00113
1142  00D3  CD 25 02    	call	_game_fps
1143  00D6  2A 00 00    	ld	hl,(_curr_time)
1144  00D9  22 00 00    	ld	(_frame_time),hl
1145  00DC              l_game_loop_00113:
1146  00DC  3A 00 00    	ld	a,(_scr_curr)
1147  00DF  D6 12       	sub	a,0x12
1148  00E1  20 09       	jr	NZ,l_game_loop_00115
1149  00E3  3A 00 00    	ld	a,(_game_atrac)
1150  00E6  B7          	or	a, a
1151  00E7  20 03       	jr	NZ,l_game_loop_00115
1152  00E9  CD BD 04    	call	_game_solar_ray
1153  00EC              l_game_loop_00115:
1154  00EC  21 00 00    	ld	hl,_loop_count
1155  00EF  34          	inc	(hl)
1156  00F0  20 02       	jr	NZ,l_game_loop_00248
1157  00F2  23          	inc	hl
1158  00F3  34          	inc	(hl)
1159  00F4              l_game_loop_00248:
1160  00F4  21 00 00    	ld	hl,_fps
1161  00F7  34          	inc	(hl)
1162  00F8  20 02       	jr	NZ,l_game_loop_00249
1163  00FA  23          	inc	hl
1164  00FB  34          	inc	(hl)
1165  00FC              l_game_loop_00249:
1166  00FC  21 00 00    	ld	hl,_k2
1167  00FF  E5          	push	hl
1168  0100  2A 00 00    	ld	hl,(_joyfunc2)
1169  0103  CD 00 00    	call	___sdcc_call_hl
1170  0106  F1          	pop	af
1171  0107  CB 55       	bit	2,l
1172  0109  7D          	ld	a,l
1173  010A  32 00 00    	ld	(_v0),a
1174  010D  28 6C       	jr	Z,l_game_loop_00125
1175  010F  21 00 00    	ld	hl,_game_tune
1176  0112  34          	inc	(hl)
1177  0113  3E 04       	ld	a,0x04
1178  0115  96          	sub	a, (hl)
1179  0116  30 02       	jr	NC,l_game_loop_00118
1180  0118  36 01       	ld	(hl),0x01
1181  011A              l_game_loop_00118:
1182  011A  21 00 00    	ld	hl,_screen_ink
1183  011D  36 47       	ld	(hl),0x47
1184  011F  3A 00 00    	ld	a,(_game_tune)
1185  0122  3D          	dec	a
1186  0123  28 11       	jr	Z,l_game_loop_00119
1187  0125  3A 00 00    	ld	a,(_game_tune)
1188  0128  FE 02       	cp	a,0x02
1189  012A  28 17       	jr	Z,l_game_loop_00120
1190  012C  FE 03       	cp	a,0x03
1191  012E  28 20       	jr	Z,l_game_loop_00121
1192  0130  D6 04       	sub	a,0x04
1193  0132  28 29       	jr	Z,l_game_loop_00122
1194  0134  18 32       	jr	l_game_loop_00123
1195  0136              l_game_loop_00119:
1196  0136  21 00 00    	ld	hl,___str_0
1197  0139  E5          	push	hl
1198  013A  21 00 0D    	ld	hl,0x0d00
1199  013D  E5          	push	hl
1200  013E  CD 00 00    	call	_zx_print_str
1201  0141  18 25       	jr	l_game_loop_00123
1202  0143              l_game_loop_00120:
1203  0143  21 07 00    	ld	hl,___str_1
1204  0146  E5          	push	hl
1205  0147  21 00 0D    	ld	hl,0x0d00
1206  014A  E5          	push	hl
1207  014B  CD 00 00    	call	_zx_print_str
1208  014E  18 18       	jr	l_game_loop_00123
1209  0150              l_game_loop_00121:
1210  0150  21 0E 00    	ld	hl,___str_2
1211  0153  E5          	push	hl
1212  0154  21 00 0D    	ld	hl,0x0d00
1213  0157  E5          	push	hl
1214  0158  CD 00 00    	call	_zx_print_str
1215  015B  18 0B       	jr	l_game_loop_00123
1216  015D              l_game_loop_00122:
1217  015D  21 15 00    	ld	hl,___str_3
1218  0160  E5          	push	hl
1219  0161  21 00 0C    	ld	hl,0x0c00
1220  0164  E5          	push	hl
1221  0165  CD 00 00    	call	_zx_print_str
1222  0168              l_game_loop_00123:
1223  0168  CD 00 00    	call	_in_wait_nokey
1224  016B  CD 00 00    	call	_audio_ingame
1225  016E  21 19 00    	ld	hl,0x0019
1226  0171  CD 00 00    	call	_z80_delay_ms_fastcall
1227  0174  21 00 20    	ld	hl,0x2000
1228  0177  E5          	push	hl
1229  0178  CD 00 00    	call	_game_fill_row
1230  017B              l_game_loop_00125:
1231  017B  21 00 00    	ld	hl,_color
1232  017E  36 00       	ld	(hl),0x00
1233  0180  21 00 00    	ld	hl,_v0
1234  0183  CB 5E       	bit	3, (hl)
1235  0185  CA 54 00    	jp	Z,l_game_loop_00136
1236  0188  21 64 00    	ld	hl,0x0064
1237  018B  CD 00 00    	call	_z80_delay_ms_fastcall
1238  018E  CD 00 00    	call	_ay_song_stop
1239  0191  21 00 00    	ld	hl,_v0
1240  0194  36 01       	ld	(hl),0x01
1241  0196              l_game_loop_00130:
1242  0196  3A 00 00    	ld	a,(_v0)
1243  0199  B7          	or	a, a
1244  019A  28 48       	jr	Z,l_game_loop_00132
1245  019C  21 00 00    	ld	hl,_k2
1246  019F  E5          	push	hl
1247  01A0  2A 00 00    	ld	hl,(_joyfunc2)
1248  01A3  CD 00 00    	call	___sdcc_call_hl
1249  01A6  F1          	pop	af
1250  01A7  7D          	ld	a,l
1251  01A8  32 00 00    	ld	(_dirs),a
1252  01AB  21 0A 00    	ld	hl,0x000a
1253  01AE  CD 00 00    	call	_z80_delay_ms_fastcall
1254  01B1  21 00 00    	ld	hl,_dirs
1255  01B4  CB 5E       	bit	3, (hl)
1256  01B6  28 05       	jr	Z,l_game_loop_00127
1257  01B8  21 00 00    	ld	hl,_v0
1258  01BB  36 00       	ld	(hl),0x00
1259  01BD              l_game_loop_00127:
1260  01BD  21 00 00    	ld	hl,_color
1261  01C0  34          	inc	(hl)
1262  01C1  3E 07       	ld	a,0x07
1263  01C3  96          	sub	a, (hl)
1264  01C4  30 02       	jr	NC,l_game_loop_00129
1265  01C6  36 00       	ld	(hl),0x00
1266  01C8              l_game_loop_00129:
1267  01C8  3A 00 00    	ld	a,(_map_border)
1268  01CB  07          	rlca
1269  01CC  07          	rlca
1270  01CD  07          	rlca
1271  01CE  E6 F8       	and	a,0xf8
1272  01D0  21 00 00    	ld	hl,_color
1273  01D3  B6          	or	a, (hl)
1274  01D4  32 00 00    	ld	(_screen_ink),a
1275  01D7  21 1E 00    	ld	hl,___str_4
1276  01DA  E5          	push	hl
1277  01DB  21 00 0E    	ld	hl,0x0e00
1278  01DE  E5          	push	hl
1279  01DF  CD 00 00    	call	_zx_print_str
1280  01E2  18 B2       	jr	l_game_loop_00130
1281  01E4              l_game_loop_00132:
1282  01E4  21 00 20    	ld	hl,0x2000
1283  01E7  E5          	push	hl
1284  01E8  CD 00 00    	call	_game_fill_row
1285  01EB  CD 00 00    	call	_audio_ingame
1286  01EE  21 64 00    	ld	hl,0x0064
1287  01F1  CD 00 00    	call	_z80_delay_ms_fastcall
1288  01F4  C3 54 00    	jp	l_game_loop_00136
1289  01F7              l_game_loop_00138:
1290  01F7  3A 00 00    	ld	a,(_game_round_up)
1291  01FA  B7          	or	a, a
1292  01FB  CA 4D 00    	jp	Z, l_game_loop_00141
1293  01FE  21 00 00    	ld	hl,_screen_ink
1294  0201  36 30       	ld	(hl),0x30
1295  0203  3A 00 00    	ld	a,(_player_lives)
1296  0206  32 00 00    	ld	(_game_lives),a
1297  0209  CD F1 09    	call	_game_round_init
1298  020C  2A FF FF    	ld	hl,(_game_exit_col - 1)
1299  020F  3A 00 00    	ld	a,(_game_exit_lin)
1300  0212  6F          	ld	l,a
1301  0213  E5          	push	hl
1302  0214  21 06 07    	ld	hl,0x0706
1303  0217  E5          	push	hl
1304  0218  CD 00 00    	call	_NIRVANAP_spriteT_callee
1305  021B  76          	halt
1306  021C  21 00 00    	ld	hl,_game_round_up
1307  021F  36 00       	ld	(hl),0x00
1308  0221  C3 4D 00    	jp	l_game_loop_00141
1309  0224              l_game_loop_00144:
1310  0224  C9          	ret
1311  0225              	SECTION rodata_compiler
1312  0000              ___str_0:
1313  0000  54 55 4E 45 20 41 
                        	DEFM "TUNE A"
1314  0006  00          	DEFB 0x00
1315  0007              	SECTION rodata_compiler
1316  0007              ___str_1:
1317  0007  54 55 4E 45 20 42 
                        	DEFM "TUNE B"
1318  000D  00          	DEFB 0x00
1319  000E              	SECTION rodata_compiler
1320  000E              ___str_2:
1321  000E  54 55 4E 45 20 43 
                        	DEFM "TUNE C"
1322  0014  00          	DEFB 0x00
1323  0015              	SECTION rodata_compiler
1324  0015              ___str_3:
1325  0015  54 55 4E 45 20 4F 46 46 
                        	DEFM "TUNE OFF"
1326  001D  00          	DEFB 0x00
1327  001E              	SECTION rodata_compiler
1328  001E              ___str_4:
1329  001E  50 41 55 53 45 
                        	DEFM "PAUSE"
1330  0023  00          	DEFB 0x00
1331  0024              	SECTION code_compiler
1332  0225              ;	---------------------------------
1333  0225              ; Function game_fps
1334  0225              ; ---------------------------------
1335  0225              _game_fps:
1336  0225  21 00 00    	ld	hl,_screen_ink
1337  0228  36 07       	ld	(hl),0x07
1338  022A  2A 00 00    	ld	hl,(_fps)
1339  022D  E5          	push	hl
1340  022E  21 17 18    	ld	hl,0x1817
1341  0231  E5          	push	hl
1342  0232  CD 00 00    	call	_zx_print_int
1343  0235  21 00 00    	ld	hl,0x0000
1344  0238  22 00 00    	ld	(_fps),hl
1345  023B  C9          	ret
1346  023C              	SECTION code_compiler
1347  023C              ;	---------------------------------
1348  023C              ; Function game_draw_map
1349  023C              ; ---------------------------------
1350  023C              _game_draw_map:
1351  023C  CD 00 00    	call	___sdcc_enter_ix
1352  023F  F5          	push	af
1353  0240  F5          	push	af
1354  0241  F5          	push	af
1355  0242  3B          	dec	sp
1356  0243  CD 00 00    	call	_NIRVANAP_stop
1357  0246  F3          	di
1358  0247  21 00 00    	ld	hl,_screen_ink
1359  024A  36 07       	ld	(hl),0x07
1360  024C  21 00 00    	ld	hl,_v0
1361  024F  36 00       	ld	(hl),0x00
1362  0251              l_game_draw_map_00101:
1363  0251  21 00 00    	ld	hl,_v0
1364  0254  7E          	ld	a, (hl)
1365  0255  D6 08       	sub	a,0x08
1366  0257  30 0E       	jr	NC,l_game_draw_map_00103
1367  0259  3E 00       	ld	a, +((_class) & 0xFF)
1368  025B  86          	add	a, (hl)
1369  025C  4F          	ld	c, a
1370  025D  3E 00       	ld	a, +((_class) / 256)
1371  025F  CE 00       	adc	a,0x00
1372  0261  47          	ld	b, a
1373  0262  AF          	xor	a, a
1374  0263  02          	ld	(bc), a
1375  0264  34          	inc	(hl)
1376  0265  18 EA       	jr	l_game_draw_map_00101
1377  0267              l_game_draw_map_00103:
1378  0267  21 00 00    	ld	hl,_spr_count
1379  026A  36 00       	ld	(hl),0x00
1380  026C  21 00 00    	ld	hl,_obj_count
1381  026F  36 00       	ld	(hl),0x00
1382  0271  21 00 00    	ld	hl,0x0000
1383  0274  22 00 00    	ld	(_index1),hl
1384  0277  21 00 00    	ld	hl,_s_row1
1385  027A  36 01       	ld	(hl),0x01
1386  027C  21 00 00    	ld	hl,_s_lin1
1387  027F  36 10       	ld	(hl),0x10
1388  0281  21 00 00    	ld	hl,_s_col1
1389  0284  36 00       	ld	(hl),0x00
1390  0286  21 00 00    	ld	hl,_game_conveyor_lin
1391  0289  36 00       	ld	(hl),0x00
1392  028B  21 00 00    	ld	hl,_game_conveyor_col0
1393  028E  36 00       	ld	(hl),0x00
1394  0290  21 00 00    	ld	hl,_game_conveyor_col1
1395  0293  36 00       	ld	(hl),0x00
1396  0295  3A 00 00    	ld	a,(_map_clear)
1397  0298  32 00 00    	ld	(_attrib_hl),a
1398  029B  32 01 00    	ld	((_attrib_hl + 0x0001)),a
1399  029E  3A 00 00    	ld	a,(_map_clear)
1400  02A1  32 02 00    	ld	((_attrib_hl + 0x0002)),a
1401  02A4  32 03 00    	ld	((_attrib_hl + 0x0003)),a
1402  02A7  DD 36 FB 00 	ld	(ix-5),0x00
1403  02AB              l_game_draw_map_00136:
1404  02AB  21 01 00    	ld	hl,_index1 + 1
1405  02AE  7E          	ld	a, (hl)
1406  02AF  D6 02       	sub	a,0x02
1407  02B1  D2 AA 04    	jp	NC, l_game_draw_map_00138
1408  02B4  3E 00       	ld	a, +((_scr_map) & 0xFF)
1409  02B6  2B          	dec	hl
1410  02B7  86          	add	a, (hl)
1411  02B8  4F          	ld	c, a
1412  02B9  3E 00       	ld	a, +((_scr_map) / 256)
1413  02BB  23          	inc	hl
1414  02BC  8E          	adc	a, (hl)
1415  02BD  47          	ld	b, a
1416  02BE  0A          	ld	a, (bc)
1417  02BF  DD 77 FC    	ld	(ix-4),a
1418  02C2  46          	ld	b,(hl)
1419  02C3  2B          	dec	hl
1420  02C4  4E          	ld	c,(hl)
1421  02C5  03          	inc	bc
1422  02C6  21 00 00    	ld	hl,_scr_map
1423  02C9  09          	add	hl,bc
1424  02CA  DD 75 FE    	ld	(ix-2),l
1425  02CD  DD 74 FF    	ld	(ix-1),h
1426  02D0  7E          	ld	a, (hl)
1427  02D1  DD 77 FD    	ld	(ix-3),a
1428  02D4  DD 7E FC    	ld	a,(ix-4)
1429  02D7  D6 20       	sub	a,0x20
1430  02D9  D2 A4 03    	jp	NC, l_game_draw_map_00132
1431  02DC  3A 00 00    	ld	a,(_s_row1)
1432  02DF  07          	rlca
1433  02E0  07          	rlca
1434  02E1  07          	rlca
1435  02E2  E6 F8       	and	a,0xf8
1436  02E4  47          	ld	b, a
1437  02E5  3A 00 00    	ld	a,(_s_col1)
1438  02E8  48          	ld	c,b
1439  02E9  47          	ld	b,a
1440  02EA  C5          	push	bc
1441  02EB  DD 7E FC    	ld	a,(ix-4)
1442  02EE  F5          	push	af
1443  02EF  33          	inc	sp
1444  02F0  CD 00 00    	call	_spr_draw8
1445  02F3  F1          	pop	af
1446  02F4  33          	inc	sp
1447  02F5  3E 00       	ld	a, +((_tile_class) & 0xFF)
1448  02F7  DD 86 FC    	add	a,(ix-4)
1449  02FA  6F          	ld	l, a
1450  02FB  3E 00       	ld	a, +((_tile_class) / 256)
1451  02FD  CE 00       	adc	a,0x00
1452  02FF  67          	ld	h, a
1453  0300  7E          	ld	a, (hl)
1454  0301  DD 77 FA    	ld	(ix-6),a
1455  0304  3E 00       	ld	a, +((_tile_class) & 0xFF)
1456  0306  DD 86 FD    	add	a,(ix-3)
1457  0309  6F          	ld	l, a
1458  030A  3E 00       	ld	a, +((_tile_class) / 256)
1459  030C  CE 00       	adc	a,0x00
1460  030E  67          	ld	h, a
1461  030F  7E          	ld	a, (hl)
1462  0310  DD 77 F9    	ld	(ix-7),a
1463  0313  DD 7E FA    	ld	a,(ix-6)
1464  0316  D6 08       	sub	a,0x08
1465  0318  20 26       	jr	NZ,l_game_draw_map_00107
1466  031A  21 00 00    	ld	hl,_obj_count
1467  031D  7E          	ld	a, (hl)
1468  031E  D6 05       	sub	a,0x05
1469  0320  30 1E       	jr	NC,l_game_draw_map_00107
1470  0322  3E 00       	ld	a, +((_obj_col) & 0xFF)
1471  0324  86          	add	a, (hl)
1472  0325  4F          	ld	c, a
1473  0326  3E 00       	ld	a, +((_obj_col) / 256)
1474  0328  CE 00       	adc	a,0x00
1475  032A  47          	ld	b, a
1476  032B  3A 00 00    	ld	a,(_s_col1)
1477  032E  02          	ld	(bc), a
1478  032F  2A 00 00    	ld	hl,(_obj_count)
1479  0332  26 00       	ld	h,0x00
1480  0334  01 00 00    	ld	bc,_obj_lin
1481  0337  09          	add	hl,bc
1482  0338  3A 00 00    	ld	a,(_s_lin1)
1483  033B  77          	ld	(hl),a
1484  033C  21 00 00    	ld	hl,_obj_count
1485  033F  34          	inc	(hl)
1486  0340              l_game_draw_map_00107:
1487  0340  DD 7E FA    	ld	a,(ix-6)
1488  0343  D6 04       	sub	a,0x04
1489  0345  20 04       	jr	NZ,l_game_draw_map_00233
1490  0347  3E 01       	ld	a,0x01
1491  0349  18 01       	jr	l_game_draw_map_00234
1492  034B              l_game_draw_map_00233:
1493  034B  AF          	xor	a,a
1494  034C              l_game_draw_map_00234:
1495  034C  5F          	ld	e, a
1496  034D  21 00 00    	ld	hl,_s_col1
1497  0350  4E          	ld	c, (hl)
1498  0351  3A 00 00    	ld	a,(_game_conveyor_col0)
1499  0354  B7          	or	a, a
1500  0355  28 0C       	jr	Z,l_game_draw_map_00109
1501  0357  21 00 00    	ld	hl,_game_conveyor_col1
1502  035A  7E          	ld	a, (hl)
1503  035B  B7          	or	a, a
1504  035C  20 05       	jr	NZ,l_game_draw_map_00109
1505  035E  CB 43       	bit	0, e
1506  0360  20 01       	jr	NZ,l_game_draw_map_00109
1507  0362  71          	ld	(hl), c
1508  0363              l_game_draw_map_00109:
1509  0363  CB 43       	bit	0, e
1510  0365  CA 84 04    	jp	Z, l_game_draw_map_00133
1511  0368  DD 7E F9    	ld	a,(ix-7)
1512  036B  B7          	or	a, a
1513  036C  28 05       	jr	Z,l_game_draw_map_00117
1514  036E  D6 04       	sub	a,0x04
1515  0370  C2 84 04    	jp	NZ,l_game_draw_map_00133
1516  0373              l_game_draw_map_00117:
1517  0373  21 00 00    	ld	hl,_game_conveyor_col0
1518  0376  7E          	ld	a, (hl)
1519  0377  B7          	or	a, a
1520  0378  C2 84 04    	jp	NZ, l_game_draw_map_00133
1521  037B  71          	ld	(hl), c
1522  037C  3A 00 00    	ld	a,(_s_lin1)
1523  037F  C6 F8       	add	a,0xf8
1524  0381  32 00 00    	ld	(_game_conveyor_lin),a
1525  0384  DD 7E F9    	ld	a,(ix-7)
1526  0387  B7          	or	a, a
1527  0388  28 07       	jr	Z,l_game_draw_map_00113
1528  038A  21 00 00    	ld	hl,_game_conveyor_dir
1529  038D  36 01       	ld	(hl),0x01
1530  038F  18 05       	jr	l_game_draw_map_00114
1531  0391              l_game_draw_map_00113:
1532  0391  21 00 00    	ld	hl,_game_conveyor_dir
1533  0394  36 02       	ld	(hl),0x02
1534  0396              l_game_draw_map_00114:
1535  0396  ED 4B 00 00 	ld	bc,(_index1)
1536  039A  03          	inc	bc
1537  039B  21 00 00    	ld	hl,_scr_map
1538  039E  09          	add	hl, bc
1539  039F  36 04       	ld	(hl),0x04
1540  03A1  C3 84 04    	jp	l_game_draw_map_00133
1541  03A4              l_game_draw_map_00132:
1542  03A4  DD 7E FC    	ld	a,(ix-4)
1543  03A7  D6 20       	sub	a,0x20
1544  03A9  20 38       	jr	NZ,l_game_draw_map_00122
1545  03AB  DD 7E FB    	ld	a,(ix-5)
1546  03AE  B7          	or	a, a
1547  03AF  20 32       	jr	NZ,l_game_draw_map_00122
1548  03B1  DD 36 FB 01 	ld	(ix-5),0x01
1549  03B5  3A 00 00    	ld	a,(_s_col1)
1550  03B8  32 00 00    	ld	(_game_exit_col),a
1551  03BB  3A 00 00    	ld	a,(_s_lin1)
1552  03BE  32 00 00    	ld	(_game_exit_lin),a
1553  03C1  DD 6E FE    	ld	l,(ix-2)
1554  03C4  DD 66 FF    	ld	h,(ix-1)
1555  03C7  36 20       	ld	(hl),0x20
1556  03C9  2A 00 00    	ld	hl,(_index1)
1557  03CC  01 20 00    	ld	bc,0x0020
1558  03CF  09          	add	hl,bc
1559  03D0  01 00 00    	ld	bc,_scr_map
1560  03D3  09          	add	hl,bc
1561  03D4  36 20       	ld	(hl),0x20
1562  03D6  2A 00 00    	ld	hl,(_index1)
1563  03D9  01 21 00    	ld	bc,0x0021
1564  03DC  09          	add	hl,bc
1565  03DD  01 00 00    	ld	bc,_scr_map
1566  03E0  09          	add	hl,bc
1567  03E1  36 20       	ld	(hl),0x20
1568  03E3              l_game_draw_map_00122:
1569  03E3  DD 7E FC    	ld	a,(ix-4)
1570  03E6  D6 40       	sub	a,0x40
1571  03E8  38 31       	jr	C,l_game_draw_map_00127
1572  03EA  3E 7B       	ld	a,0x7b
1573  03EC  DD 96 FC    	sub	a,(ix-4)
1574  03EF  38 2A       	jr	C,l_game_draw_map_00127
1575  03F1  3A 00 00    	ld	a,(_s_row1)
1576  03F4  07          	rlca
1577  03F5  07          	rlca
1578  03F6  07          	rlca
1579  03F7  E6 F8       	and	a,0xf8
1580  03F9  47          	ld	b, a
1581  03FA  3A 00 00    	ld	a,(_s_col1)
1582  03FD  48          	ld	c,b
1583  03FE  47          	ld	b,a
1584  03FF  C5          	push	bc
1585  0400  AF          	xor	a, a
1586  0401  F5          	push	af
1587  0402  33          	inc	sp
1588  0403  CD 00 00    	call	_spr_draw8
1589  0406  F1          	pop	af
1590  0407  33          	inc	sp
1591  0408  3A 00 00    	ld	a,(_spr_count)
1592  040B  D6 08       	sub	a,0x08
1593  040D  30 03       	jr	NC,l_game_draw_map_00125
1594  040F  CD 00 00    	call	_enemy_init
1595  0412              l_game_draw_map_00125:
1596  0412  01 00 00    	ld	bc,_scr_map
1597  0415  2A 00 00    	ld	hl,(_index1)
1598  0418  09          	add	hl,bc
1599  0419  AF          	xor	a,a
1600  041A  77          	ld	(hl),a
1601  041B              l_game_draw_map_00127:
1602  041B  DD 7E FC    	ld	a,(ix-4)
1603  041E  D6 7F       	sub	a,0x7f
1604  0420  20 62       	jr	NZ,l_game_draw_map_00133
1605  0422  3A 00 00    	ld	a,(_s_lin1)
1606  0425  C6 F0       	add	a,0xf0
1607  0427  32 00 00    	ld	(_player_lin_scr),a
1608  042A  3A 00 00    	ld	a,(_s_col1)
1609  042D  32 00 00    	ld	(_player_col_scr),a
1610  0430  ED 4B 00 00 	ld	bc,(_index1)
1611  0434  03          	inc	bc
1612  0435  21 00 00    	ld	hl,_scr_map
1613  0438  09          	add	hl, bc
1614  0439  7E          	ld	a,(hl)
1615  043A  32 08 00    	ld	((_value_a + 0x0008)),a
1616  043D  2A 00 00    	ld	hl,(_index1)
1617  0440  01 20 00    	ld	bc,0x0020
1618  0443  09          	add	hl,bc
1619  0444  01 00 00    	ld	bc,_scr_map
1620  0447  09          	add	hl,bc
1621  0448  7E          	ld	a,(hl)
1622  0449  32 08 00    	ld	((_value_b + 0x0008)),a
1623  044C  2A 00 00    	ld	hl,(_index1)
1624  044F  01 00 00    	ld	bc,_scr_map
1625  0452  09          	add	hl,bc
1626  0453  AF          	xor	a,a
1627  0454  77          	ld	(hl),a
1628  0455  ED 4B 00 00 	ld	bc,(_index1)
1629  0459  03          	inc	bc
1630  045A  21 00 00    	ld	hl,_scr_map
1631  045D  09          	add	hl, bc
1632  045E  36 00       	ld	(hl),0x00
1633  0460  2A 00 00    	ld	hl,(_index1)
1634  0463  01 20 00    	ld	bc,0x0020
1635  0466  09          	add	hl,bc
1636  0467  01 00 00    	ld	bc,_scr_map
1637  046A  09          	add	hl,bc
1638  046B  36 00       	ld	(hl),0x00
1639  046D  3A 00 00    	ld	a,(_s_row1)
1640  0470  07          	rlca
1641  0471  07          	rlca
1642  0472  07          	rlca
1643  0473  E6 F8       	and	a,0xf8
1644  0475  47          	ld	b, a
1645  0476  3A 00 00    	ld	a,(_s_col1)
1646  0479  48          	ld	c,b
1647  047A  47          	ld	b,a
1648  047B  C5          	push	bc
1649  047C  AF          	xor	a, a
1650  047D  F5          	push	af
1651  047E  33          	inc	sp
1652  047F  CD 00 00    	call	_spr_draw8
1653  0482  F1          	pop	af
1654  0483  33          	inc	sp
1655  0484              l_game_draw_map_00133:
1656  0484  21 00 00    	ld	hl,_index1
1657  0487  34          	inc	(hl)
1658  0488  20 02       	jr	NZ,l_game_draw_map_00241
1659  048A  23          	inc	hl
1660  048B  34          	inc	(hl)
1661  048C              l_game_draw_map_00241:
1662  048C  21 00 00    	ld	hl,_s_col1
1663  048F  7E          	ld	a,(hl)
1664  0490  3C          	inc	a
1665  0491  77          	ld	(hl),a
1666  0492  D6 20       	sub	a,0x20
1667  0494  C2 AB 02    	jp	NZ,l_game_draw_map_00136
1668  0497  21 00 00    	ld	hl,_s_row1
1669  049A  34          	inc	(hl)
1670  049B  21 00 00    	ld	hl,_s_lin1
1671  049E  7E          	ld	a, (hl)
1672  049F  C6 08       	add	a,0x08
1673  04A1  77          	ld	(hl), a
1674  04A2  21 00 00    	ld	hl,_s_col1
1675  04A5  36 00       	ld	(hl),0x00
1676  04A7  C3 AB 02    	jp	l_game_draw_map_00136
1677  04AA              l_game_draw_map_00138:
1678  04AA  3A 00 00    	ld	a,(_scr_curr)
1679  04AD  D6 13       	sub	a,0x13
1680  04AF  20 03       	jr	NZ,l_game_draw_map_00140
1681  04B1  CD C4 06    	call	_game_img1
1682  04B4              l_game_draw_map_00140:
1683  04B4  FB          	ei
1684  04B5  CD 00 00    	call	_NIRVANAP_start
1685  04B8  DD F9       	ld	sp, ix
1686  04BA  DD E1       	pop	ix
1687  04BC  C9          	ret
1688  04BD              	SECTION code_compiler
1689  04BD              ;	---------------------------------
1690  04BD              ; Function game_solar_ray
1691  04BD              ; ---------------------------------
1692  04BD              _game_solar_ray:
1693  04BD  0E 00       	ld	c,0x00
1694  04BF  3A 00 00    	ld	a,(_col)
1695  04C2  D6 17       	sub	a,0x17
1696  04C4  20 06       	jr	NZ,l_game_solar_ray_00110
1697  04C6  21 00 00    	ld	hl,_lin
1698  04C9  4E          	ld	c, (hl)
1699  04CA  18 25       	jr	l_game_solar_ray_00111
1700  04CC              l_game_solar_ray_00110:
1701  04CC  3A 01 00    	ld	a, (_col + 1)
1702  04CF  D6 17       	sub	a,0x17
1703  04D1  20 06       	jr	NZ,l_game_solar_ray_00107
1704  04D3  21 01 00    	ld	hl,+(_lin + 0x0001)
1705  04D6  4E          	ld	c, (hl)
1706  04D7  18 18       	jr	l_game_solar_ray_00111
1707  04D9              l_game_solar_ray_00107:
1708  04D9  3A 04 00    	ld	a, (_col + 4)
1709  04DC  D6 17       	sub	a,0x17
1710  04DE  20 06       	jr	NZ,l_game_solar_ray_00104
1711  04E0  21 04 00    	ld	hl,+(_lin + 0x0004)
1712  04E3  4E          	ld	c, (hl)
1713  04E4  18 0B       	jr	l_game_solar_ray_00111
1714  04E6              l_game_solar_ray_00104:
1715  04E6  3A 06 00    	ld	a, (_col + 6)
1716  04E9  D6 17       	sub	a,0x17
1717  04EB  20 04       	jr	NZ,l_game_solar_ray_00111
1718  04ED  21 06 00    	ld	hl,+(_lin + 0x0006)
1719  04F0  4E          	ld	c, (hl)
1720  04F1              l_game_solar_ray_00111:
1721  04F1  79          	ld	a, c
1722  04F2  B7          	or	a, a
1723  04F3  20 2D       	jr	NZ,l_game_solar_ray_00116
1724  04F5  3A 00 00    	ld	a,(_g_ray1)
1725  04F8  B7          	or	a, a
1726  04F9  28 27       	jr	Z,l_game_solar_ray_00116
1727  04FB  C5          	push	bc
1728  04FC  CD E7 05    	call	_game_solar_ray0
1729  04FF  C1          	pop	bc
1730  0500  21 00 00    	ld	hl,_g_ray1
1731  0503  36 00       	ld	(hl),0x00
1732  0505  06 18       	ld	b,0x18
1733  0507              l_game_solar_ray_00112:
1734  0507  78          	ld	a, b
1735  0508  D6 80       	sub	a,0x80
1736  050A  30 16       	jr	NC,l_game_solar_ray_00116
1737  050C  C5          	push	bc
1738  050D  3E 17       	ld	a,0x17
1739  050F  48          	ld	c,b
1740  0510  47          	ld	b,a
1741  0511  C5          	push	bc
1742  0512  3E 11       	ld	a,0x11
1743  0514  F5          	push	af
1744  0515  33          	inc	sp
1745  0516  CD 00 00    	call	_spr_draw8
1746  0519  F1          	pop	af
1747  051A  33          	inc	sp
1748  051B  C1          	pop	bc
1749  051C  78          	ld	a, b
1750  051D  C6 08       	add	a,0x08
1751  051F  47          	ld	b, a
1752  0520  18 E5       	jr	l_game_solar_ray_00112
1753  0522              l_game_solar_ray_00116:
1754  0522  79          	ld	a, c
1755  0523  B7          	or	a, a
1756  0524  28 41       	jr	Z,l_game_solar_ray_00127
1757  0526  21 00 00    	ld	hl,_g_ray1
1758  0529  7E          	ld	a, (hl)
1759  052A  B7          	or	a, a
1760  052B  20 3A       	jr	NZ,l_game_solar_ray_00127
1761  052D  71          	ld	(hl), c
1762  052E  16 18       	ld	d,0x18
1763  0530              l_game_solar_ray_00118:
1764  0530  7A          	ld	a, d
1765  0531  C6 08       	add	a,0x08
1766  0533  47          	ld	b, a
1767  0534  7A          	ld	a, d
1768  0535  91          	sub	a, c
1769  0536  30 11       	jr	NC,l_game_solar_ray_00120
1770  0538  C5          	push	bc
1771  0539  3E 17       	ld	a,0x17
1772  053B  F5          	push	af
1773  053C  33          	inc	sp
1774  053D  1E 11       	ld	e,0x11
1775  053F  D5          	push	de
1776  0540  CD 00 00    	call	_spr_draw8
1777  0543  F1          	pop	af
1778  0544  33          	inc	sp
1779  0545  C1          	pop	bc
1780  0546  50          	ld	d, b
1781  0547  18 E7       	jr	l_game_solar_ray_00118
1782  0549              l_game_solar_ray_00120:
1783  0549  C5          	push	bc
1784  054A  CD 68 05    	call	_game_solar_ray1
1785  054D  C1          	pop	bc
1786  054E              l_game_solar_ray_00121:
1787  054E  78          	ld	a, b
1788  054F  D6 80       	sub	a,0x80
1789  0551  D0          	ret	NC
1790  0552  C5          	push	bc
1791  0553  3E 17       	ld	a,0x17
1792  0555  48          	ld	c,b
1793  0556  47          	ld	b,a
1794  0557  C5          	push	bc
1795  0558  AF          	xor	a, a
1796  0559  F5          	push	af
1797  055A  33          	inc	sp
1798  055B  CD 00 00    	call	_spr_draw8
1799  055E  F1          	pop	af
1800  055F  33          	inc	sp
1801  0560  C1          	pop	bc
1802  0561  78          	ld	a, b
1803  0562  C6 08       	add	a,0x08
1804  0564  47          	ld	b, a
1805  0565  18 E7       	jr	l_game_solar_ray_00121
1806  0567              l_game_solar_ray_00127:
1807  0567  C9          	ret
1808  0568              	SECTION code_compiler
1809  0568              ;	---------------------------------
1810  0568              ; Function game_solar_ray1
1811  0568              ; ---------------------------------
1812  0568              _game_solar_ray1:
1813  0568  0E 16       	ld	c,0x16
1814  056A  3A 00 00    	ld	a,(_g_ray1)
1815  056D  C6 08       	add	a,0x08
1816  056F  47          	ld	b, a
1817  0570  76          	halt
1818  0571              l_game_solar_ray1_00111:
1819  0571  79          	ld	a, c
1820  0572  B7          	or	a, a
1821  0573  28 71       	jr	Z,l_game_solar_ray1_00114
1822  0575  C5          	push	bc
1823  0576  79          	ld	a, c
1824  0577  48          	ld	c,b
1825  0578  47          	ld	b,a
1826  0579  C5          	push	bc
1827  057A  3E 10       	ld	a,0x10
1828  057C  F5          	push	af
1829  057D  33          	inc	sp
1830  057E  CD 00 00    	call	_spr_draw8
1831  0581  F1          	pop	af
1832  0582  33          	inc	sp
1833  0583  C1          	pop	bc
1834  0584  3A 00 00    	ld	a,(_g_ray1)
1835  0587  5F          	ld	e,a
1836  0588  16 00       	ld	d,0x00
1837  058A  79          	ld	a,c
1838  058B  FE 07       	cp	a,0x07
1839  058D  28 3C       	jr	Z,l_game_solar_ray1_00107
1840  058F  FE 0D       	cp	a,0x0d
1841  0591  28 1E       	jr	Z,l_game_solar_ray1_00104
1842  0593  D6 12       	sub	a,0x12
1843  0595  20 4C       	jr	NZ,l_game_solar_ray1_00110
1844  0597  2A 05 00    	ld	hl,(_lin + 5)
1845  059A  AF          	xor	a,a
1846  059B  67          	ld	h,a
1847  059C  ED 52       	sbc	hl,de
1848  059E  CD 00 00    	call	_abs_fastcall
1849  05A1  EB          	ex	de,hl
1850  05A2  7B          	ld	a, e
1851  05A3  D6 10       	sub	a,0x10
1852  05A5  7A          	ld	a, d
1853  05A6  17          	rla
1854  05A7  3F          	ccf
1855  05A8  1F          	rra
1856  05A9  DE 80       	sbc	a,0x80
1857  05AB  30 36       	jr	NC,l_game_solar_ray1_00110
1858  05AD  0E 01       	ld	c,0x01
1859  05AF  18 32       	jr	l_game_solar_ray1_00110
1860  05B1              l_game_solar_ray1_00104:
1861  05B1  2A 02 00    	ld	hl,(_lin + 2)
1862  05B4  AF          	xor	a,a
1863  05B5  67          	ld	h,a
1864  05B6  ED 52       	sbc	hl,de
1865  05B8  CD 00 00    	call	_abs_fastcall
1866  05BB  EB          	ex	de,hl
1867  05BC  7B          	ld	a, e
1868  05BD  D6 10       	sub	a,0x10
1869  05BF  7A          	ld	a, d
1870  05C0  17          	rla
1871  05C1  3F          	ccf
1872  05C2  1F          	rra
1873  05C3  DE 80       	sbc	a,0x80
1874  05C5  30 1C       	jr	NC,l_game_solar_ray1_00110
1875  05C7  0E 01       	ld	c,0x01
1876  05C9  18 18       	jr	l_game_solar_ray1_00110
1877  05CB              l_game_solar_ray1_00107:
1878  05CB  2A 03 00    	ld	hl,(_lin + 3)
1879  05CE  AF          	xor	a,a
1880  05CF  67          	ld	h,a
1881  05D0  ED 52       	sbc	hl,de
1882  05D2  CD 00 00    	call	_abs_fastcall
1883  05D5  EB          	ex	de,hl
1884  05D6  7B          	ld	a, e
1885  05D7  D6 10       	sub	a,0x10
1886  05D9  7A          	ld	a, d
1887  05DA  17          	rla
1888  05DB  3F          	ccf
1889  05DC  1F          	rra
1890  05DD  DE 80       	sbc	a,0x80
1891  05DF  30 02       	jr	NC,l_game_solar_ray1_00110
1892  05E1  0E 01       	ld	c,0x01
1893  05E3              l_game_solar_ray1_00110:
1894  05E3  0D          	dec	c
1895  05E4  18 8B       	jr	l_game_solar_ray1_00111
1896  05E6              l_game_solar_ray1_00114:
1897  05E6  C9          	ret
1898  05E7              	SECTION code_compiler
1899  05E7              ;	---------------------------------
1900  05E7              ; Function game_solar_ray0
1901  05E7              ; ---------------------------------
1902  05E7              _game_solar_ray0:
1903  05E7  06 16       	ld	b,0x16
1904  05E9              l_game_solar_ray0_00101:
1905  05E9  78          	ld	a, b
1906  05EA  B7          	or	a, a
1907  05EB  C8          	ret	Z
1908  05EC  3A 00 00    	ld	a,(_g_ray1)
1909  05EF  C6 08       	add	a,0x08
1910  05F1  57          	ld	d, a
1911  05F2  C5          	push	bc
1912  05F3  4A          	ld	c, d
1913  05F4  C5          	push	bc
1914  05F5  AF          	xor	a, a
1915  05F6  F5          	push	af
1916  05F7  33          	inc	sp
1917  05F8  CD 00 00    	call	_spr_draw8
1918  05FB  F1          	pop	af
1919  05FC  33          	inc	sp
1920  05FD  C1          	pop	bc
1921  05FE  05          	dec	b
1922  05FF  18 E8       	jr	l_game_solar_ray0_00101
1923  0601              	SECTION code_compiler
1924  0601              ;	---------------------------------
1925  0601              ; Function game_logo1
1926  0601              ; ---------------------------------
1927  0601              _game_logo1:
1928  0601  CD 00 00    	call	___sdcc_enter_ix
1929  0604  F5          	push	af
1930  0605  DD 5E 08    	ld	e,(ix+8)
1931  0608  DD 66 07    	ld	h,(ix+7)
1932  060B  2E 00       	ld	l,0x00
1933  060D  55          	ld	d, l
1934  060E  06 08       	ld	b,0x08
1935  0610              l_game_logo1_00150:
1936  0610  29          	add	hl, hl
1937  0611  30 01       	jr	NC,l_game_logo1_00151
1938  0613  19          	add	hl, de
1939  0614              l_game_logo1_00151:
1940  0614  10 FA       	djnz	l_game_logo1_00150
1941  0616  4D          	ld	c, l
1942  0617  44          	ld	b, h
1943  0618  76          	halt
1944  0619  F3          	di
1945  061A  16 00       	ld	d,0x00
1946  061C              l_game_logo1_00101:
1947  061C  7A          	ld	a, d
1948  061D  D6 08       	sub	a,0x08
1949  061F  30 12       	jr	NC,l_game_logo1_00103
1950  0621  C5          	push	bc
1951  0622  D5          	push	de
1952  0623  21 00 00    	ld	hl,0x0000
1953  0626  E5          	push	hl
1954  0627  AF          	xor	a, a
1955  0628  5A          	ld	e,d
1956  0629  57          	ld	d,a
1957  062A  D5          	push	de
1958  062B  CD 00 00    	call	_NIRVANAP_spriteT_callee
1959  062E  D1          	pop	de
1960  062F  C1          	pop	bc
1961  0630  14          	inc	d
1962  0631  18 E9       	jr	l_game_logo1_00101
1963  0633              l_game_logo1_00103:
1964  0633  DD 7E 04    	ld	a,(ix+4)
1965  0636  B7          	or	a, a
1966  0637  28 3A       	jr	Z,l_game_logo1_00108
1967  0639  3D          	dec	a
1968  063A  28 09       	jr	Z,l_game_logo1_00104
1969  063C  DD 7E 04    	ld	a,(ix+4)
1970  063F  D6 02       	sub	a,0x02
1971  0641  28 07       	jr	Z,l_game_logo1_00105
1972  0643  18 08       	jr	l_game_logo1_00106
1973  0645              l_game_logo1_00104:
1974  0645  11 00 00    	ld	de,_logo1+0
1975  0648  18 03       	jr	l_game_logo1_00106
1976  064A              l_game_logo1_00105:
1977  064A  11 00 00    	ld	de,_logo2
1978  064D              l_game_logo1_00106:
1979  064D  C5          	push	bc
1980  064E  D5          	push	de
1981  064F  3E 01       	ld	a,0x01
1982  0651  F5          	push	af
1983  0652  33          	inc	sp
1984  0653  CD CF 13    	call	_page
1985  0656  33          	inc	sp
1986  0657  D1          	pop	de
1987  0658  E1          	pop	hl
1988  0659  4D          	ld	c,l
1989  065A  44          	ld	b,h
1990  065B  29          	add	hl, hl
1991  065C  09          	add	hl, bc
1992  065D  29          	add	hl, hl
1993  065E  29          	add	hl, hl
1994  065F  29          	add	hl, hl
1995  0660  29          	add	hl, hl
1996  0661  C5          	push	bc
1997  0662  E5          	push	hl
1998  0663  D5          	push	de
1999  0664  21 00 00    	ld	hl,_btiles
2000  0667  E5          	push	hl
2001  0668  CD 00 00    	call	_memcpy_callee
2002  066B  AF          	xor	a, a
2003  066C  F5          	push	af
2004  066D  33          	inc	sp
2005  066E  CD CF 13    	call	_page
2006  0671  33          	inc	sp
2007  0672  C1          	pop	bc
2008  0673              l_game_logo1_00108:
2009  0673  DD 5E 06    	ld	e,(ix+6)
2010  0676  21 00 00    	ld	hl,_s_col1
2011  0679  73          	ld	(hl), e
2012  067A  DD 7E 05    	ld	a,(ix+5)
2013  067D  32 00 00    	ld	(_s_lin1),a
2014  0680  16 00       	ld	d,0x00
2015  0682              l_game_logo1_00111:
2016  0682  6A          	ld	l, d
2017  0683  AF          	xor	a,a
2018  0684  67          	ld	h,a
2019  0685  ED 42       	sbc	hl,bc
2020  0687  30 36       	jr	NC,l_game_logo1_00113
2021  0689  3A 00 00    	ld	a,(_s_col1)
2022  068C  87          	add	a, a
2023  068D  C5          	push	bc
2024  068E  D5          	push	de
2025  068F  F5          	push	af
2026  0690  33          	inc	sp
2027  0691  3A 00 00    	ld	a,(_s_lin1)
2028  0694  5A          	ld	e,d
2029  0695  57          	ld	d,a
2030  0696  D5          	push	de
2031  0697  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2032  069A  D1          	pop	de
2033  069B  C1          	pop	bc
2034  069C  14          	inc	d
2035  069D  21 00 00    	ld	hl,_s_col1
2036  06A0  34          	inc	(hl)
2037  06A1  C5          	push	bc
2038  06A2  D5          	push	de
2039  06A3  DD 7E 07    	ld	a,(ix+7)
2040  06A6  5A          	ld	e,d
2041  06A7  57          	ld	d,a
2042  06A8  D5          	push	de
2043  06A9  CD 00 00    	call	__moduchar_callee
2044  06AC  D1          	pop	de
2045  06AD  C1          	pop	bc
2046  06AE  7D          	ld	a,l
2047  06AF  B7          	or	a, a
2048  06B0  20 D0       	jr	NZ,l_game_logo1_00111
2049  06B2  21 00 00    	ld	hl,_s_lin1
2050  06B5  7E          	ld	a, (hl)
2051  06B6  C6 10       	add	a,0x10
2052  06B8  77          	ld	(hl), a
2053  06B9  21 00 00    	ld	hl,_s_col1
2054  06BC  73          	ld	(hl), e
2055  06BD  18 C3       	jr	l_game_logo1_00111
2056  06BF              l_game_logo1_00113:
2057  06BF  FB          	ei
2058  06C0  F1          	pop	af
2059  06C1  DD E1       	pop	ix
2060  06C3  C9          	ret
2061  06C4              	SECTION code_compiler
2062  06C4              ;	---------------------------------
2063  06C4              ; Function game_img1
2064  06C4              ; ---------------------------------
2065  06C4              _game_img1:
2066  06C4  21 00 00    	ld	hl,_v0
2067  06C7  36 10       	ld	(hl),0x10
2068  06C9  3E 00       	ld	a,0x00
2069  06CB  32 00 00    	ld	(_v1),a
2070  06CE  4F          	ld	c,a
2071  06CF              l_game_img1_00104:
2072  06CF  79          	ld	a, c
2073  06D0  D6 40       	sub	a,0x40
2074  06D2  30 5A       	jr	NC,l_game_img1_00107
2075  06D4  06 00       	ld	b,0x00
2076  06D6  69          	ld	l, c
2077  06D7  60          	ld	h, b
2078  06D8  29          	add	hl, hl
2079  06D9  09          	add	hl, bc
2080  06DA  29          	add	hl, hl
2081  06DB  29          	add	hl, hl
2082  06DC  29          	add	hl, hl
2083  06DD  29          	add	hl, hl
2084  06DE  EB          	ex	de,hl
2085  06DF  76          	halt
2086  06E0  21 00 00    	ld	hl,_img1
2087  06E3  19          	add	hl,de
2088  06E4  C5          	push	bc
2089  06E5  E5          	push	hl
2090  06E6  3E 01       	ld	a,0x01
2091  06E8  F5          	push	af
2092  06E9  33          	inc	sp
2093  06EA  CD CF 13    	call	_page
2094  06ED  33          	inc	sp
2095  06EE  D1          	pop	de
2096  06EF  C1          	pop	bc
2097  06F0  21 00 12    	ld	hl, +(_btiles + 0x1200)
2098  06F3  C5          	push	bc
2099  06F4  EB          	ex	de, hl
2100  06F5  01 30 00    	ld	bc,0x0030
2101  06F8  ED B0       	ldir
2102  06FA  AF          	xor	a, a
2103  06FB  F5          	push	af
2104  06FC  33          	inc	sp
2105  06FD  CD CF 13    	call	_page
2106  0700  33          	inc	sp
2107  0701  3A 00 00    	ld	a,(_v1)
2108  0704  F5          	push	af
2109  0705  33          	inc	sp
2110  0706  3A 00 00    	ld	a,(_v0)
2111  0709  57          	ld	d,a
2112  070A  1E 60       	ld	e,0x60
2113  070C  D5          	push	de
2114  070D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2115  0710  C1          	pop	bc
2116  0711  3A 00 00    	ld	a,(_v1)
2117  0714  D6 1E       	sub	a,0x1e
2118  0716  20 0E       	jr	NZ,l_game_img1_00102
2119  0718  21 00 00    	ld	hl,_v0
2120  071B  7E          	ld	a, (hl)
2121  071C  C6 10       	add	a,0x10
2122  071E  77          	ld	(hl), a
2123  071F  21 00 00    	ld	hl,_v1
2124  0722  36 00       	ld	(hl),0x00
2125  0724  18 05       	jr	l_game_img1_00103
2126  0726              l_game_img1_00102:
2127  0726  21 00 00    	ld	hl,_v1
2128  0729  34          	inc	(hl)
2129  072A  34          	inc	(hl)
2130  072B              l_game_img1_00103:
2131  072B  0C          	inc	c
2132  072C  18 A1       	jr	l_game_img1_00104
2133  072E              l_game_img1_00107:
2134  072E  C9          	ret
2135  072F              	SECTION code_compiler
2136  072F              ;	---------------------------------
2137  072F              ; Function game_cell_paint_index
2138  072F              ; ---------------------------------
2139  072F              _game_cell_paint_index:
2140  072F  3A 00 00    	ld	a,(_index1)
2141  0732  E6 1F       	and	a,0x1f
2142  0734  32 00 00    	ld	(_s_col1),a
2143  0737  2A 00 00    	ld	hl,(_index1)
2144  073A  4D          	ld	c,l
2145  073B  5C          	ld	e,h
2146  073C  06 05       	ld	b,0x05
2147  073E  79          	ld	a,c
2148  073F              l_game_cell_paint_index_00103:
2149  073F  CB 3B       	srl	e
2150  0741  1F          	rra
2151  0742  10 FB       	djnz	l_game_cell_paint_index_00103
2152  0744  07          	rlca
2153  0745  07          	rlca
2154  0746  07          	rlca
2155  0747  E6 F8       	and	a,0xf8
2156  0749  32 00 00    	ld	(_s_lin1),a
2157  074C  0F          	rrca
2158  074D  0F          	rrca
2159  074E  0F          	rrca
2160  074F  E6 1F       	and	a,0x1f
2161  0751  3C          	inc	a
2162  0752  32 00 00    	ld	(_s_row1),a
2163  0755  21 00 00    	ld	hl,_s_lin1
2164  0758  7E          	ld	a, (hl)
2165  0759  C6 10       	add	a,0x10
2166  075B  77          	ld	(hl), a
2167  075C  3A 00 00    	ld	a,(_s_row1)
2168  075F  07          	rlca
2169  0760  07          	rlca
2170  0761  07          	rlca
2171  0762  E6 F8       	and	a,0xf8
2172  0764  4F          	ld	c, a
2173  0765  11 00 00    	ld	de,_scr_map
2174  0768  2A 00 00    	ld	hl,(_index1)
2175  076B  19          	add	hl,de
2176  076C  46          	ld	b, (hl)
2177  076D  3A 00 00    	ld	a,(_s_col1)
2178  0770  F5          	push	af
2179  0771  33          	inc	sp
2180  0772  79          	ld	a, c
2181  0773  48          	ld	c,b
2182  0774  47          	ld	b,a
2183  0775  C5          	push	bc
2184  0776  CD 00 00    	call	_spr_draw8
2185  0779  F1          	pop	af
2186  077A  33          	inc	sp
2187  077B  C9          	ret
2188  077C              	SECTION code_compiler
2189  077C              ;	---------------------------------
2190  077C              ; Function game_cell_paint
2191  077C              ; ---------------------------------
2192  077C              _game_cell_paint:
2193  077C  3A 00 00    	ld	a,(_s_row1)
2194  077F  07          	rlca
2195  0780  07          	rlca
2196  0781  07          	rlca
2197  0782  E6 F8       	and	a,0xf8
2198  0784  57          	ld	d, a
2199  0785  01 00 00    	ld	bc,_scr_map
2200  0788  2A 00 00    	ld	hl,(_index1)
2201  078B  09          	add	hl,bc
2202  078C  4D          	ld	c,l
2203  078D  46          	ld	b, (hl)
2204  078E  3A 00 00    	ld	a,(_s_col1)
2205  0791  5A          	ld	e,d
2206  0792  57          	ld	d,a
2207  0793  D5          	push	de
2208  0794  C5          	push	bc
2209  0795  33          	inc	sp
2210  0796  CD 00 00    	call	_spr_draw8
2211  0799  F1          	pop	af
2212  079A  33          	inc	sp
2213  079B  C9          	ret
2214  079C              	SECTION code_compiler
2215  079C              ;	---------------------------------
2216  079C              ; Function game_end is a stub
2217  079C              ; ---------------------------------
2218  079C              EXTERN l_ret
2219  079C              defc _game_end = l_ret
2220  079C              	SECTION code_compiler
2221  079C              ;	---------------------------------
2222  079C              ; Function game_print_footer
2223  079C              ; ---------------------------------
2224  079C              _game_print_footer:
2225  079C  3A 00 00    	ld	a,(_game_fps_show)
2226  079F  B7          	or	a, a
2227  07A0  C8          	ret	Z
2228  07A1  21 00 00    	ld	hl,_screen_ink
2229  07A4  36 07       	ld	(hl),0x07
2230  07A6  21 24 00    	ld	hl,___str_5
2231  07A9  E5          	push	hl
2232  07AA  21 17 14    	ld	hl,0x1417
2233  07AD  E5          	push	hl
2234  07AE  CD 00 00    	call	_zx_print_str
2235  07B1  C9          	ret
2236  07B2              	SECTION rodata_compiler
2237  0024              ___str_5:
2238  0024  4C 50 53 3A 	DEFM "LPS:"
2239  0028  00          	DEFB 0x00
2240  0029              	SECTION code_compiler
2241  07B2              ;	---------------------------------
2242  07B2              ; Function game_print_score
2243  07B2              ; ---------------------------------
2244  07B2              _game_print_score:
2245  07B2  21 00 00    	ld	hl,_screen_ink
2246  07B5  36 06       	ld	(hl),0x06
2247  07B7  21 00 00    	ld	hl,_screen_paper
2248  07BA  36 00       	ld	(hl),0x00
2249  07BC  2A 00 00    	ld	hl,(_player_score)
2250  07BF  E5          	push	hl
2251  07C0  21 14 1B    	ld	hl,0x1b14
2252  07C3  E5          	push	hl
2253  07C4  CD 00 00    	call	_zx_print_int
2254  07C7  2A 00 00    	ld	hl,(_game_score_top)
2255  07CA  E5          	push	hl
2256  07CB  21 14 0C    	ld	hl,0x0c14
2257  07CE  E5          	push	hl
2258  07CF  CD 00 00    	call	_zx_print_int
2259  07D2  C9          	ret
2260  07D3              	SECTION code_compiler
2261  07D3              ;	---------------------------------
2262  07D3              ; Function game_print_lives
2263  07D3              ; ---------------------------------
2264  07D3              _game_print_lives:
2265  07D3  21 00 00    	ld	hl,_v0
2266  07D6  36 00       	ld	(hl),0x00
2267  07D8  21 16 20    	ld	hl,0x2016
2268  07DB  E5          	push	hl
2269  07DC  CD 00 00    	call	_game_fill_row
2270  07DF  3E 0A       	ld	a,0x0a
2271  07E1  21 00 00    	ld	hl,_player_lives
2272  07E4  96          	sub	a, (hl)
2273  07E5  38 30       	jr	C,l_game_print_lives_00105
2274  07E7              l_game_print_lives_00101:
2275  07E7  3A 00 00    	ld	a,(_player_lives)
2276  07EA  4F          	ld	c,a
2277  07EB  06 00       	ld	b,0x00
2278  07ED  0B          	dec	bc
2279  07EE  3A 00 00    	ld	a,(_v0)
2280  07F1  16 00       	ld	d,0x00
2281  07F3  91          	sub	a, c
2282  07F4  7A          	ld	a, d
2283  07F5  98          	sbc	a, b
2284  07F6  E2 FB 07    	jp	PO, l_game_print_lives_00120
2285  07F9  EE 80       	xor	a,0x80
2286  07FB              l_game_print_lives_00120:
2287  07FB  F2 33 08    	jp	P, l_game_print_lives_00107
2288  07FE  21 00 00    	ld	hl,_screen_ink
2289  0801  36 05       	ld	(hl),0x05
2290  0803  3A 00 00    	ld	a,(_v0)
2291  0806  21 29 00    	ld	hl,___str_6
2292  0809  E5          	push	hl
2293  080A  57          	ld	d,a
2294  080B  1E 16       	ld	e,0x16
2295  080D  D5          	push	de
2296  080E  CD 00 00    	call	_zx_print_str
2297  0811  21 00 00    	ld	hl,_v0
2298  0814  34          	inc	(hl)
2299  0815  18 D0       	jr	l_game_print_lives_00101
2300  0817              l_game_print_lives_00105:
2301  0817  21 00 00    	ld	hl,_screen_ink
2302  081A  36 05       	ld	(hl),0x05
2303  081C  21 2B 00    	ld	hl,___str_7
2304  081F  E5          	push	hl
2305  0820  21 16 00    	ld	hl,0x0016
2306  0823  E5          	push	hl
2307  0824  CD 00 00    	call	_zx_print_str
2308  0827  3A 00 00    	ld	a,(_player_lives)
2309  082A  F5          	push	af
2310  082B  33          	inc	sp
2311  082C  21 16 04    	ld	hl,0x0416
2312  082F  E5          	push	hl
2313  0830  CD 00 00    	call	_zx_print_chr
2314  0833              l_game_print_lives_00107:
2315  0833  C9          	ret
2316  0834              	SECTION rodata_compiler
2317  0029              ___str_6:
2318  0029  3C          	DEFM "<"
2319  002A  00          	DEFB 0x00
2320  002B              	SECTION rodata_compiler
2321  002B              ___str_7:
2322  002B  3C 20 78    	DEFM "< x"
2323  002E  00          	DEFB 0x00
2324  002F              	SECTION code_compiler
2325  0834              ;	---------------------------------
2326  0834              ; Function game_cls
2327  0834              ; ---------------------------------
2328  0834              _game_cls:
2329  0834  CD 00 00    	call	_NIRVANAP_stop
2330  0837  F3          	di
2331  0838  2E 00       	ld	l,0x00
2332  083A  CD 00 00    	call	_zx_cls_fastcall
2333  083D  2E 00       	ld	l,0x00
2334  083F  CD 00 00    	call	_zx_border_fastcall
2335  0842  21 00 00    	ld	hl,_v0
2336  0845  36 00       	ld	(hl),0x00
2337  0847              l_game_cls_00104:
2338  0847  3E 08       	ld	a,0x08
2339  0849  21 00 00    	ld	hl,_v0
2340  084C  96          	sub	a, (hl)
2341  084D  38 32       	jr	C,l_game_cls_00106
2342  084F  21 00 00    	ld	hl,_v1
2343  0852  36 00       	ld	(hl),0x00
2344  0854              l_game_cls_00101:
2345  0854  3A 00 00    	ld	a,(_v1)
2346  0857  D6 1F       	sub	a,0x1f
2347  0859  30 20       	jr	NC,l_game_cls_00103
2348  085B  3A 00 00    	ld	a,(_v0)
2349  085E  07          	rlca
2350  085F  07          	rlca
2351  0860  07          	rlca
2352  0861  07          	rlca
2353  0862  E6 F0       	and	a,0xf0
2354  0864  C6 08       	add	a,0x08
2355  0866  47          	ld	b, a
2356  0867  3A 00 00    	ld	a,(_v1)
2357  086A  48          	ld	c,b
2358  086B  47          	ld	b,a
2359  086C  C5          	push	bc
2360  086D  3E 5E       	ld	a,0x5e
2361  086F  F5          	push	af
2362  0870  33          	inc	sp
2363  0871  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2364  0874  21 00 00    	ld	hl,_v1
2365  0877  34          	inc	(hl)
2366  0878  34          	inc	(hl)
2367  0879  18 D9       	jr	l_game_cls_00101
2368  087B              l_game_cls_00103:
2369  087B  21 00 00    	ld	hl,_v0
2370  087E  34          	inc	(hl)
2371  087F  18 C6       	jr	l_game_cls_00104
2372  0881              l_game_cls_00106:
2373  0881  FB          	ei
2374  0882  CD 00 00    	call	_NIRVANAP_start
2375  0885  21 00 00    	ld	hl,_v0
2376  0888  36 00       	ld	(hl),0x00
2377  088A              l_game_cls_00107:
2378  088A  3E 07       	ld	a,0x07
2379  088C  21 00 00    	ld	hl,_v0
2380  088F  96          	sub	a, (hl)
2381  0890  D8          	ret	C
2382  0891  21 00 00    	ld	hl,0x0000
2383  0894  E5          	push	hl
2384  0895  2A 00 00    	ld	hl,(_v0)
2385  0898  26 5E       	ld	h,0x5e
2386  089A  E5          	push	hl
2387  089B  CD 00 00    	call	_NIRVANAP_spriteT_callee
2388  089E  21 00 00    	ld	hl,_v0
2389  08A1  34          	inc	(hl)
2390  08A2  18 E6       	jr	l_game_cls_00107
2391  08A4              	SECTION code_compiler
2392  08A4              ;	---------------------------------
2393  08A4              ; Function game_start_timer
2394  08A4              ; ---------------------------------
2395  08A4              _game_start_timer:
2396  08A4  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2397  08A7  36 CD       	ld	(hl),0xcd
2398  08A9  23          	inc	hl
2399  08AA  11 00 00    	ld	de,_game_tick
2400  08AD  73          	ld	(hl), e
2401  08AE  23          	inc	hl
2402  08AF  72          	ld	(hl), d
2403  08B0  C9          	ret
2404  08B1              	SECTION code_compiler
2405  08B1              ;	---------------------------------
2406  08B1              ; Function game_anim_air
2407  08B1              ; ---------------------------------
2408  08B1              _game_anim_air:
2409  08B1  2A 00 00    	ld	hl,(_air_curr_byte)
2410  08B4  7E          	ld	a,(hl)
2411  08B5  B7          	or	a,a
2412  08B6  20 35       	jr	NZ,l_game_anim_air_00108
2413  08B8  ED 4B 00 00 	ld	bc,(_air_curr_byte)
2414  08BC  ED 5B 00 00 	ld	de,(_air_end_byte)
2415  08C0  7B          	ld	a,e
2416  08C1  91          	sub	a,c
2417  08C2  7A          	ld	a,d
2418  08C3  98          	sbc	a,b
2419  08C4  30 20       	jr	NC,l_game_anim_air_00105
2420  08C6  2A 00 00    	ld	hl,(_air_curr_byte)
2421  08C9  2B          	dec	hl
2422  08CA  22 00 00    	ld	(_air_curr_byte),hl
2423  08CD  3A 00 00    	ld	a,(_game_round_up)
2424  08D0  B7          	or	a,a
2425  08D1  20 1A       	jr	NZ,l_game_anim_air_00108
2426  08D3  ED 4B 00 00 	ld	bc,(_air_curr_byte)
2427  08D7  79          	ld	a,c
2428  08D8  D6 49       	sub	a,0x49
2429  08DA  20 11       	jr	NZ,l_game_anim_air_00108
2430  08DC  78          	ld	a, b
2431  08DD  D6 52       	sub	a,0x52
2432  08DF  20 0C       	jr	NZ,l_game_anim_air_00108
2433  08E1  CD 00 00    	call	_audio_time
2434  08E4  18 07       	jr	l_game_anim_air_00108
2435  08E6              l_game_anim_air_00105:
2436  08E6  01 08 00    	ld	bc,_state+8
2437  08E9  0A          	ld	a, (bc)
2438  08EA  F6 20       	or	a,0x20
2439  08EC  02          	ld	(bc), a
2440  08ED              l_game_anim_air_00108:
2441  08ED  ED 4B 00 00 	ld	bc,(_air_curr_byte)
2442  08F1  0A          	ld	a,(bc)
2443  08F2  87          	add	a, a
2444  08F3  32 00 00    	ld	(_v0),a
2445  08F6  02          	ld	(bc), a
2446  08F7  2A 00 00    	ld	hl,(_air_curr_byte)
2447  08FA  01 00 01    	ld	bc,0x0100
2448  08FD  09          	add	hl,bc
2449  08FE  3A 00 00    	ld	a,(_v0)
2450  0901  77          	ld	(hl),a
2451  0902  2A 00 00    	ld	hl,(_air_curr_byte)
2452  0905  01 00 02    	ld	bc,0x0200
2453  0908  09          	add	hl,bc
2454  0909  3A 00 00    	ld	a,(_v0)
2455  090C  77          	ld	(hl),a
2456  090D  2A 00 00    	ld	hl,(_air_curr_byte)
2457  0910  01 00 03    	ld	bc,0x0300
2458  0913  09          	add	hl,bc
2459  0914  3A 00 00    	ld	a,(_v0)
2460  0917  77          	ld	(hl),a
2461  0918  C9          	ret
2462  0919              	SECTION code_compiler
2463  0919              ;	---------------------------------
2464  0919              ; Function game_anim_conveyor
2465  0919              ; ---------------------------------
2466  0919              _game_anim_conveyor:
2467  0919  CD 00 00    	call	___sdcc_enter_ix
2468  091C  F5          	push	af
2469  091D  F5          	push	af
2470  091E  3B          	dec	sp
2471  091F  01 60 00    	ld	bc,_btiles+96
2472  0922  3A 00 00    	ld	a,(_game_conveyor_lin)
2473  0925  32 00 00    	ld	(_i),a
2474  0928  C6 08       	add	a,0x08
2475  092A  DD 77 FB    	ld	(ix-5),a
2476  092D  0A          	ld	a, (bc)
2477  092E  5F          	ld	e, a
2478  092F  3A 00 00    	ld	a,(_game_conveyor_dir)
2479  0932  3D          	dec	a
2480  0933  20 14       	jr	NZ,l_game_anim_conveyor_00102
2481  0935  7B          	ld	a, e
2482  0936  87          	add	a, a
2483  0937  57          	ld	d, a
2484  0938  7B          	ld	a, e
2485  0939  07          	rlca
2486  093A  E6 01       	and	a,0x01
2487  093C  B2          	or	a, d
2488  093D  57          	ld	d,a
2489  093E  02          	ld	(bc),a
2490  093F  87          	add	a, a
2491  0940  5F          	ld	e, a
2492  0941  7A          	ld	a, d
2493  0942  07          	rlca
2494  0943  E6 01       	and	a,0x01
2495  0945  B3          	or	a, e
2496  0946  02          	ld	(bc), a
2497  0947  18 14       	jr	l_game_anim_conveyor_00121
2498  0949              l_game_anim_conveyor_00102:
2499  0949  7B          	ld	a, e
2500  094A  0F          	rrca
2501  094B  E6 80       	and	a,0x80
2502  094D  6F          	ld	l, a
2503  094E  7B          	ld	a,e
2504  094F  CB 3F       	srl	a
2505  0951  B5          	or	a, l
2506  0952  5F          	ld	e,a
2507  0953  02          	ld	(bc),a
2508  0954  0F          	rrca
2509  0955  E6 80       	and	a,0x80
2510  0957  6F          	ld	l, a
2511  0958  CB 3B       	srl	e
2512  095A  7D          	ld	a, l
2513  095B  B3          	or	a, e
2514  095C  02          	ld	(bc), a
2515  095D              l_game_anim_conveyor_00121:
2516  095D              l_game_anim_conveyor_00112:
2517  095D  3A 00 00    	ld	a,(_i)
2518  0960  DD 96 FB    	sub	a,(ix-5)
2519  0963  D2 EC 09    	jp	NC, l_game_anim_conveyor_00115
2520  0966  3A 00 00    	ld	a,(_game_conveyor_col0)
2521  0969  DD 77 FC    	ld	(ix-4),a
2522  096C  2A 00 00    	ld	hl,(_i)
2523  096F  CD 00 00    	call	_zx_py2saddr_fastcall
2524  0972  EB          	ex	de,hl
2525  0973  7B          	ld	a, e
2526  0974  DD 86 FC    	add	a,(ix-4)
2527  0977  5F          	ld	e, a
2528  0978  7A          	ld	a, d
2529  0979  CE 00       	adc	a,0x00
2530  097B  57          	ld	d, a
2531  097C  DD 7E FC    	ld	a,(ix-4)
2532  097F  DD 77 FF    	ld	(ix-1),a
2533  0982              l_game_anim_conveyor_00104:
2534  0982  DD 7E FF    	ld	a,(ix-1)
2535  0985  21 00 00    	ld	hl,_game_conveyor_col1
2536  0988  96          	sub	a, (hl)
2537  0989  30 08       	jr	NC,l_game_anim_conveyor_00106
2538  098B  0A          	ld	a, (bc)
2539  098C  12          	ld	(de), a
2540  098D  13          	inc	de
2541  098E  DD 34 FF    	inc	(ix-1)
2542  0991  18 EF       	jr	l_game_anim_conveyor_00104
2543  0993              l_game_anim_conveyor_00106:
2544  0993  03          	inc	bc
2545  0994  03          	inc	bc
2546  0995  21 00 00    	ld	hl,_i
2547  0998  34          	inc	(hl)
2548  0999  3A 00 00    	ld	a,(_game_conveyor_lin)
2549  099C  5F          	ld	e,a
2550  099D  16 00       	ld	d,0x00
2551  099F  13          	inc	de
2552  09A0  13          	inc	de
2553  09A1  DD 73 FD    	ld	(ix-3),e
2554  09A4  DD 72 FE    	ld	(ix-2),d
2555  09A7  3A 00 00    	ld	a,(_i)
2556  09AA  5F          	ld	e,a
2557  09AB  16 00       	ld	d,0x00
2558  09AD  DD 7E FD    	ld	a,(ix-3)
2559  09B0  93          	sub	a, e
2560  09B1  20 AA       	jr	NZ,l_game_anim_conveyor_00112
2561  09B3  DD 7E FE    	ld	a,(ix-2)
2562  09B6  92          	sub	a, d
2563  09B7  20 A4       	jr	NZ,l_game_anim_conveyor_00112
2564  09B9  0A          	ld	a, (bc)
2565  09BA  5F          	ld	e, a
2566  09BB  3A 00 00    	ld	a,(_game_conveyor_dir)
2567  09BE  3D          	dec	a
2568  09BF  20 16       	jr	NZ,l_game_anim_conveyor_00108
2569  09C1  7B          	ld	a, e
2570  09C2  0F          	rrca
2571  09C3  E6 80       	and	a,0x80
2572  09C5  57          	ld	d, a
2573  09C6  CB 3B       	srl	e
2574  09C8  7A          	ld	a, d
2575  09C9  B3          	or	a, e
2576  09CA  57          	ld	d,a
2577  09CB  02          	ld	(bc),a
2578  09CC  0F          	rrca
2579  09CD  E6 80       	and	a,0x80
2580  09CF  5F          	ld	e, a
2581  09D0  CB 3A       	srl	d
2582  09D2  7B          	ld	a, e
2583  09D3  B2          	or	a, d
2584  09D4  02          	ld	(bc), a
2585  09D5  18 86       	jr	l_game_anim_conveyor_00112
2586  09D7              l_game_anim_conveyor_00108:
2587  09D7  7B          	ld	a, e
2588  09D8  87          	add	a, a
2589  09D9  57          	ld	d, a
2590  09DA  7B          	ld	a, e
2591  09DB  07          	rlca
2592  09DC  E6 01       	and	a,0x01
2593  09DE  B2          	or	a, d
2594  09DF  5F          	ld	e,a
2595  09E0  02          	ld	(bc),a
2596  09E1  87          	add	a, a
2597  09E2  57          	ld	d, a
2598  09E3  7B          	ld	a, e
2599  09E4  07          	rlca
2600  09E5  E6 01       	and	a,0x01
2601  09E7  B2          	or	a, d
2602  09E8  02          	ld	(bc), a
2603  09E9  C3 5D 09    	jp	l_game_anim_conveyor_00112
2604  09EC              l_game_anim_conveyor_00115:
2605  09EC  DD F9       	ld	sp, ix
2606  09EE  DD E1       	pop	ix
2607  09F0  C9          	ret
2608  09F1              	SECTION code_compiler
2609  09F1              ;	---------------------------------
2610  09F1              ; Function game_round_init
2611  09F1              ; ---------------------------------
2612  09F1              _game_round_init:
2613  09F1  CD 00 00    	call	___sdcc_enter_ix
2614  09F4  21 DB FF    	ld	hl, -37
2615  09F7  39          	add	hl, sp
2616  09F8  F9          	ld	sp, hl
2617  09F9  CD 00 00    	call	_ay_reset
2618  09FC  2E 00       	ld	l,0x00
2619  09FE  CD 00 00    	call	_zx_border_fastcall
2620  0A01  21 00 00    	ld	hl,_screen_ink
2621  0A04  36 00       	ld	(hl),0x00
2622  0A06  21 00 20    	ld	hl,0x2000
2623  0A09  E5          	push	hl
2624  0A0A  CD 00 00    	call	_game_fill_row
2625  0A0D  21 11 20    	ld	hl,0x2011
2626  0A10  E5          	push	hl
2627  0A11  CD 00 00    	call	_game_fill_row
2628  0A14  21 12 20    	ld	hl,0x2012
2629  0A17  E5          	push	hl
2630  0A18  CD 00 00    	call	_game_fill_row
2631  0A1B  21 14 20    	ld	hl,0x2014
2632  0A1E  E5          	push	hl
2633  0A1F  CD 00 00    	call	_game_fill_row
2634  0A22  21 16 20    	ld	hl,0x2016
2635  0A25  E5          	push	hl
2636  0A26  CD 00 00    	call	_game_fill_row
2637  0A29  CD 00 00    	call	_spr_clear_scr
2638  0A2C  76          	halt
2639  0A2D  CD 00 00    	call	_NIRVANAP_stop
2640  0A30  F3          	di
2641  0A31  21 00 00    	ld	hl,_scr_curr
2642  0A34  46          	ld	b, (hl)
2643  0A35  C5          	push	bc
2644  0A36  3E 06       	ld	a,0x06
2645  0A38  F5          	push	af
2646  0A39  33          	inc	sp
2647  0A3A  CD CF 13    	call	_page
2648  0A3D  33          	inc	sp
2649  0A3E  C1          	pop	bc
2650  0A3F  11 00 00    	ld	de,_game_borders0+0
2651  0A42  68          	ld	l,b
2652  0A43  26 00       	ld	h,0x00
2653  0A45  19          	add	hl, de
2654  0A46  4E          	ld	c, (hl)
2655  0A47  11 00 00    	ld	de,_map_names0+0
2656  0A4A  68          	ld	l, b
2657  0A4B  26 00       	ld	h,0x00
2658  0A4D  29          	add	hl, hl
2659  0A4E  29          	add	hl, hl
2660  0A4F  29          	add	hl, hl
2661  0A50  29          	add	hl, hl
2662  0A51  29          	add	hl, hl
2663  0A52  19          	add	hl,de
2664  0A53  EB          	ex	de,hl
2665  0A54  21 00 00    	ld	hl,0x0000
2666  0A57  39          	add	hl, sp
2667  0A58  DD 75 FE    	ld	(ix-2),l
2668  0A5B  DD 74 FF    	ld	(ix-1),h
2669  0A5E  C5          	push	bc
2670  0A5F  EB          	ex	de, hl
2671  0A60  01 20 00    	ld	bc,0x0020
2672  0A63  ED B0       	ldir
2673  0A65  C1          	pop	bc
2674  0A66  78          	ld	a, b
2675  0A67  D6 14       	sub	a,0x14
2676  0A69  3E 00       	ld	a,0x00
2677  0A6B  17          	rla
2678  0A6C  47          	ld	b,a
2679  0A6D  B7          	or	a, a
2680  0A6E  28 05       	jr	Z,l_game_round_init_00102
2681  0A70  11 00 00    	ld	de,_tile_class1+0
2682  0A73  18 03       	jr	l_game_round_init_00103
2683  0A75              l_game_round_init_00102:
2684  0A75  11 00 00    	ld	de,_tile_class2
2685  0A78              l_game_round_init_00103:
2686  0A78  21 00 00    	ld	hl,_tile_class
2687  0A7B  C5          	push	bc
2688  0A7C  EB          	ex	de, hl
2689  0A7D  01 20 00    	ld	bc,0x0020
2690  0A80  ED B0       	ldir
2691  0A82  C1          	pop	bc
2692  0A83  78          	ld	a, b
2693  0A84  B7          	or	a, a
2694  0A85  28 05       	jr	Z,l_game_round_init_00105
2695  0A87  11 00 00    	ld	de,_spr_init1+0
2696  0A8A  18 03       	jr	l_game_round_init_00106
2697  0A8C              l_game_round_init_00105:
2698  0A8C  11 00 00    	ld	de,_spr_init2
2699  0A8F              l_game_round_init_00106:
2700  0A8F  21 00 00    	ld	hl,_spr_init
2701  0A92  C5          	push	bc
2702  0A93  EB          	ex	de, hl
2703  0A94  01 0E 01    	ld	bc,0x010e
2704  0A97  ED B0       	ldir
2705  0A99  AF          	xor	a, a
2706  0A9A  F5          	push	af
2707  0A9B  33          	inc	sp
2708  0A9C  CD CF 13    	call	_page
2709  0A9F  33          	inc	sp
2710  0AA0  C1          	pop	bc
2711  0AA1  DD 7E FE    	ld	a,(ix-2)
2712  0AA4  C6 20       	add	a,0x20
2713  0AA6  5F          	ld	e, a
2714  0AA7  DD 7E FF    	ld	a,(ix-1)
2715  0AAA  CE 00       	adc	a,0x00
2716  0AAC  57          	ld	d, a
2717  0AAD  AF          	xor	a, a
2718  0AAE  12          	ld	(de), a
2719  0AAF  21 00 00    	ld	hl,_map_border
2720  0AB2  71          	ld	(hl), c
2721  0AB3  21 00 00    	ld	hl,0x0000
2722  0AB6  22 00 00    	ld	(_loop_count),hl
2723  0AB9  21 00 00    	ld	hl,0
2724  0ABC  22 00 00    	ld	(_curr_time),hl
2725  0ABF  21 00 00    	ld	hl,0x0000
2726  0AC2  22 00 00    	ld	(_frame_time),hl
2727  0AC5  21 00 00    	ld	hl,_player_coins
2728  0AC8  36 00       	ld	(hl),0x00
2729  0ACA  2A 00 00    	ld	hl,(_air_start_byte)
2730  0ACD  22 00 00    	ld	(_air_curr_byte),hl
2731  0AD0  21 00 00    	ld	hl,_key_last
2732  0AD3  36 00       	ld	(hl),0x00
2733  0AD5  21 00 00    	ld	hl,_key_ink
2734  0AD8  36 06       	ld	(hl),0x06
2735  0ADA  0E 00       	ld	c,0x00
2736  0ADC              l_game_round_init_00107:
2737  0ADC  79          	ld	a, c
2738  0ADD  D6 05       	sub	a,0x05
2739  0ADF  30 13       	jr	NC,l_game_round_init_00109
2740  0AE1  06 00       	ld	b,0x00
2741  0AE3  21 00 00    	ld	hl,_obj_col
2742  0AE6  09          	add	hl, bc
2743  0AE7  36 FF       	ld	(hl),0xff
2744  0AE9  06 00       	ld	b,0x00
2745  0AEB  21 00 00    	ld	hl,_obj_lin
2746  0AEE  09          	add	hl, bc
2747  0AEF  36 FF       	ld	(hl),0xff
2748  0AF1  0C          	inc	c
2749  0AF2  18 E8       	jr	l_game_round_init_00107
2750  0AF4              l_game_round_init_00109:
2751  0AF4  3A 00 00    	ld	a,(_scr_curr)
2752  0AF7  D6 14       	sub	a,0x14
2753  0AF9  30 1B       	jr	NC,l_game_round_init_00111
2754  0AFB  21 00 00    	ld	hl,_game_tileset
2755  0AFE  36 00       	ld	(hl),0x00
2756  0B00  21 00 00    	ld	hl,_game_mode
2757  0B03  36 00       	ld	(hl),0x00
2758  0B05  21 00 00    	ld	hl,_game_crumb_start
2759  0B08  36 14       	ld	(hl),0x14
2760  0B0A  21 00 00    	ld	hl,_game_crumb_end
2761  0B0D  36 1A       	ld	(hl),0x1a
2762  0B0F  21 00 00    	ld	hl,_lapse_crumb
2763  0B12  36 03       	ld	(hl),0x03
2764  0B14  18 19       	jr	l_game_round_init_00112
2765  0B16              l_game_round_init_00111:
2766  0B16  21 00 00    	ld	hl,_game_tileset
2767  0B19  36 01       	ld	(hl),0x01
2768  0B1B  21 00 00    	ld	hl,_game_mode
2769  0B1E  36 01       	ld	(hl),0x01
2770  0B20  21 00 00    	ld	hl,_game_crumb_start
2771  0B23  36 09       	ld	(hl),0x09
2772  0B25  21 00 00    	ld	hl,_game_crumb_end
2773  0B28  36 0B       	ld	(hl),0x0b
2774  0B2A  21 00 00    	ld	hl,_lapse_crumb
2775  0B2D  36 04       	ld	(hl),0x04
2776  0B2F              l_game_round_init_00112:
2777  0B2F  CD 26 0F    	call	_game_page_map
2778  0B32  CD 58 11    	call	_game_copy_sprite_color_reset
2779  0B35  CD 46 0D    	call	_game_color_hacks
2780  0B38  21 00 08    	ld	hl,0x0800
2781  0B3B  E5          	push	hl
2782  0B3C  CD 86 11    	call	_game_copy_sprite_std
2783  0B3F  F1          	pop	af
2784  0B40  7D          	ld	a,l
2785  0B41  32 00 00    	ld	(_game_tile_cnt),a
2786  0B44  3A 00 00    	ld	a,(_map_paper)
2787  0B47  21 00 00    	ld	hl,_key_ink
2788  0B4A  B6          	or	a, (hl)
2789  0B4B  32 00 00    	ld	(_key_attrib),a
2790  0B4E  32 01 00    	ld	((_key_attrib + 0x0001)),a
2791  0B51  32 02 00    	ld	((_key_attrib + 0x0002)),a
2792  0B54  32 03 00    	ld	((_key_attrib + 0x0003)),a
2793  0B57  21 00 00    	ld	hl,_game_song_play_start
2794  0B5A  36 00       	ld	(hl),0x00
2795  0B5C  FB          	ei
2796  0B5D  CD 00 00    	call	_NIRVANAP_start
2797  0B60  76          	halt
2798  0B61  3A 00 00    	ld	a,(_game_debug)
2799  0B64  B7          	or	a, a
2800  0B65  C2 5F 0C    	jp	NZ, l_game_round_init_00124
2801  0B68  3A 00 00    	ld	a,(_game_atrac)
2802  0B6B  B7          	or	a, a
2803  0B6C  C2 5F 0C    	jp	NZ, l_game_round_init_00124
2804  0B6F  CD 00 00    	call	_audio_round_init
2805  0B72  21 0A 20    	ld	hl,0x200a
2806  0B75  E5          	push	hl
2807  0B76  CD 00 00    	call	_game_fill_row
2808  0B79  21 00 00    	ld	hl,_s_col0
2809  0B7C  36 01       	ld	(hl),0x01
2810  0B7E  21 00 00    	ld	hl,_v0
2811  0B81  36 00       	ld	(hl),0x00
2812  0B83  DD 7E FE    	ld	a,(ix-2)
2813  0B86  DD 77 FC    	ld	(ix-4),a
2814  0B89  DD 7E FF    	ld	a,(ix-1)
2815  0B8C  DD 77 FD    	ld	(ix-3),a
2816  0B8F              l_game_round_init_00120:
2817  0B8F  21 00 00    	ld	hl,_s_col0
2818  0B92  7E          	ld	a, (hl)
2819  0B93  D6 1E       	sub	a,0x1e
2820  0B95  D2 59 0C    	jp	NC, l_game_round_init_00122
2821  0B98  7E          	ld	a, (hl)
2822  0B99  B7          	or	a, a
2823  0B9A  28 2B       	jr	Z,l_game_round_init_00114
2824  0B9C  46          	ld	b, (hl)
2825  0B9D  05          	dec	b
2826  0B9E  3E 58       	ld	a,0x58
2827  0BA0  F5          	push	af
2828  0BA1  33          	inc	sp
2829  0BA2  7E          	ld	a, (hl)
2830  0BA3  48          	ld	c,b
2831  0BA4  47          	ld	b,a
2832  0BA5  C5          	push	bc
2833  0BA6  21 00 00    	ld	hl,_attrib
2834  0BA9  E5          	push	hl
2835  0BAA  CD 13 0E    	call	_game_paint_attrib
2836  0BAD  F1          	pop	af
2837  0BAE  F1          	pop	af
2838  0BAF  33          	inc	sp
2839  0BB0  21 00 00    	ld	hl,_s_col0
2840  0BB3  46          	ld	b, (hl)
2841  0BB4  05          	dec	b
2842  0BB5  3E 60       	ld	a,0x60
2843  0BB7  F5          	push	af
2844  0BB8  33          	inc	sp
2845  0BB9  7E          	ld	a, (hl)
2846  0BBA  48          	ld	c,b
2847  0BBB  47          	ld	b,a
2848  0BBC  C5          	push	bc
2849  0BBD  21 00 00    	ld	hl,_attrib
2850  0BC0  E5          	push	hl
2851  0BC1  CD 13 0E    	call	_game_paint_attrib
2852  0BC4  F1          	pop	af
2853  0BC5  F1          	pop	af
2854  0BC6  33          	inc	sp
2855  0BC7              l_game_round_init_00114:
2856  0BC7  21 00 00    	ld	hl,_scr_curr
2857  0BCA  7E          	ld	a, (hl)
2858  0BCB  D6 14       	sub	a,0x14
2859  0BCD  38 19       	jr	C,l_game_round_init_00116
2860  0BCF  7E          	ld	a, (hl)
2861  0BD0  C6 ED       	add	a,0xed
2862  0BD2  F5          	push	af
2863  0BD3  33          	inc	sp
2864  0BD4  21 0A 11    	ld	hl,0x110a
2865  0BD7  E5          	push	hl
2866  0BD8  CD 00 00    	call	_zx_print_chr
2867  0BDB  21 2F 00    	ld	hl,___str_8
2868  0BDE  E5          	push	hl
2869  0BDF  21 0A 15    	ld	hl,0x150a
2870  0BE2  E5          	push	hl
2871  0BE3  CD 00 00    	call	_zx_print_str
2872  0BE6  18 19       	jr	l_game_round_init_00117
2873  0BE8              l_game_round_init_00116:
2874  0BE8  21 00 00    	ld	hl,_scr_curr
2875  0BEB  46          	ld	b, (hl)
2876  0BEC  04          	inc	b
2877  0BED  C5          	push	bc
2878  0BEE  33          	inc	sp
2879  0BEF  21 0A 11    	ld	hl,0x110a
2880  0BF2  E5          	push	hl
2881  0BF3  CD 00 00    	call	_zx_print_chr
2882  0BF6  21 31 00    	ld	hl,___str_9
2883  0BF9  E5          	push	hl
2884  0BFA  21 0A 15    	ld	hl,0x150a
2885  0BFD  E5          	push	hl
2886  0BFE  CD 00 00    	call	_zx_print_str
2887  0C01              l_game_round_init_00117:
2888  0C01  21 33 00    	ld	hl,___str_10
2889  0C04  E5          	push	hl
2890  0C05  21 0A 0B    	ld	hl,0x0b0a
2891  0C08  E5          	push	hl
2892  0C09  CD 00 00    	call	_zx_print_str
2893  0C0C  DD 4E FC    	ld	c,(ix-4)
2894  0C0F  DD 46 FD    	ld	b,(ix-3)
2895  0C12  C5          	push	bc
2896  0C13  21 0B 00    	ld	hl,0x000b
2897  0C16  E5          	push	hl
2898  0C17  CD 00 00    	call	_zx_print_str
2899  0C1A  21 00 00    	ld	hl,_v0
2900  0C1D  34          	inc	(hl)
2901  0C1E  21 01 00    	ld	hl,0x0001
2902  0C21  CD 00 00    	call	_z80_delay_ms_fastcall
2903  0C24  76          	halt
2904  0C25  3A 00 00    	ld	a,(_v0)
2905  0C28  D6 03       	sub	a,0x03
2906  0C2A  20 15       	jr	NZ,l_game_round_init_00119
2907  0C2C  3A 00 00    	ld	a,(_s_col0)
2908  0C2F  F5          	push	af
2909  0C30  33          	inc	sp
2910  0C31  21 5E 58    	ld	hl,0x585e
2911  0C34  E5          	push	hl
2912  0C35  CD 00 00    	call	_NIRVANAP_drawT_callee
2913  0C38  21 00 00    	ld	hl,_s_col0
2914  0C3B  34          	inc	(hl)
2915  0C3C  21 00 00    	ld	hl,_v0
2916  0C3F  36 00       	ld	(hl),0x00
2917  0C41              l_game_round_init_00119:
2918  0C41  3A 00 00    	ld	a,(_v0)
2919  0C44  C6 08       	add	a,0x08
2920  0C46  47          	ld	b, a
2921  0C47  3A 00 00    	ld	a,(_s_col0)
2922  0C4A  57          	ld	d,a
2923  0C4B  1E 58       	ld	e,0x58
2924  0C4D  D5          	push	de
2925  0C4E  C5          	push	bc
2926  0C4F  33          	inc	sp
2927  0C50  AF          	xor	a, a
2928  0C51  F5          	push	af
2929  0C52  33          	inc	sp
2930  0C53  CD 00 00    	call	_NIRVANAP_spriteT_callee
2931  0C56  C3 8F 0B    	jp	l_game_round_init_00120
2932  0C59              l_game_round_init_00122:
2933  0C59  CD 00 00    	call	_ay_reset
2934  0C5C  CD 00 00    	call	_spr_clear_scr
2935  0C5F              l_game_round_init_00124:
2936  0C5F  CD 3C 02    	call	_game_draw_map
2937  0C62  3A 00 00    	ld	a,(_game_atrac)
2938  0C65  B7          	or	a, a
2939  0C66  20 03       	jr	NZ,l_game_round_init_00127
2940  0C68  CD 00 00    	call	_audio_ingame
2941  0C6B              l_game_round_init_00127:
2942  0C6B  AF          	xor	a, a
2943  0C6C  F5          	push	af
2944  0C6D  33          	inc	sp
2945  0C6E  CD 1F 11    	call	_game_flash_exit
2946  0C71  33          	inc	sp
2947  0C72  2A 00 00    	ld	hl,(_map_border)
2948  0C75  CD 00 00    	call	_zx_border_fastcall
2949  0C78  21 00 00    	ld	hl,_map_border
2950  0C7B  7E          	ld	a, (hl)
2951  0C7C  07          	rlca
2952  0C7D  07          	rlca
2953  0C7E  07          	rlca
2954  0C7F  E6 F8       	and	a,0xf8
2955  0C81  B6          	or	a, (hl)
2956  0C82  32 00 00    	ld	(_screen_ink),a
2957  0C85  21 00 20    	ld	hl,0x2000
2958  0C88  E5          	push	hl
2959  0C89  CD 00 00    	call	_game_fill_row
2960  0C8C  3A 00 00    	ld	a,(_game_over)
2961  0C8F  B7          	or	a, a
2962  0C90  20 17       	jr	NZ,l_game_round_init_00129
2963  0C92  2A 00 00    	ld	hl,(_player_col_scr)
2964  0C95  26 08       	ld	h,0x08
2965  0C97  3A 00 00    	ld	a,(_player_lin_scr)
2966  0C9A  E5          	push	hl
2967  0C9B  F5          	push	af
2968  0C9C  33          	inc	sp
2969  0C9D  CD 00 00    	call	_player_init
2970  0CA0  F1          	pop	af
2971  0CA1  33          	inc	sp
2972  0CA2  01 08 00    	ld	bc,_state+8
2973  0CA5  0A          	ld	a, (bc)
2974  0CA6  E6 DF       	and	a,0xdf
2975  0CA8  02          	ld	(bc), a
2976  0CA9              l_game_round_init_00129:
2977  0CA9  21 00 00    	ld	hl,_screen_ink
2978  0CAC  36 30       	ld	(hl),0x30
2979  0CAE  21 11 20    	ld	hl,0x2011
2980  0CB1  E5          	push	hl
2981  0CB2  CD 00 00    	call	_game_fill_row
2982  0CB5  DD 4E FE    	ld	c,(ix-2)
2983  0CB8  DD 46 FF    	ld	b,(ix-1)
2984  0CBB  C5          	push	bc
2985  0CBC  21 11 00    	ld	hl,0x0011
2986  0CBF  E5          	push	hl
2987  0CC0  CD 00 00    	call	_zx_print_str
2988  0CC3  21 00 00    	ld	hl,_screen_ink
2989  0CC6  36 57       	ld	(hl),0x57
2990  0CC8  21 39 00    	ld	hl,___str_11
2991  0CCB  E5          	push	hl
2992  0CCC  21 12 00    	ld	hl,0x0012
2993  0CCF  E5          	push	hl
2994  0CD0  CD 00 00    	call	_zx_print_str
2995  0CD3  21 00 00    	ld	hl,_screen_ink
2996  0CD6  36 67       	ld	(hl),0x67
2997  0CD8  21 44 00    	ld	hl,___str_12
2998  0CDB  E5          	push	hl
2999  0CDC  21 12 0A    	ld	hl,0x0a12
3000  0CDF  E5          	push	hl
3001  0CE0  CD 00 00    	call	_zx_print_str
3002  0CE3  21 00 00    	ld	hl,_screen_ink
3003  0CE6  36 06       	ld	(hl),0x06
3004  0CE8  21 5B 00    	ld	hl,___str_13
3005  0CEB  E5          	push	hl
3006  0CEC  21 14 00    	ld	hl,0x0014
3007  0CEF  E5          	push	hl
3008  0CF0  CD 00 00    	call	_zx_print_str
3009  0CF3  CD B2 07    	call	_game_print_score
3010  0CF6  CD D3 07    	call	_game_print_lives
3011  0CF9  21 00 00    	ld	hl,_screen_ink
3012  0CFC  36 07       	ld	(hl),0x07
3013  0CFE  21 00 00    	ld	hl,0x0000
3014  0D01  22 00 00    	ld	(_fps),hl
3015  0D04  3A 00 00    	ld	a,(_scr_curr)
3016  0D07  D6 12       	sub	a,0x12
3017  0D09  20 23       	jr	NZ,l_game_round_init_00134
3018  0D0B  21 00 00    	ld	hl,_v0
3019  0D0E  36 10       	ld	(hl),0x10
3020  0D10              l_game_round_init_00130:
3021  0D10  21 00 00    	ld	hl,_v0
3022  0D13  7E          	ld	a, (hl)
3023  0D14  D6 80       	sub	a,0x80
3024  0D16  30 16       	jr	NC,l_game_round_init_00134
3025  0D18  3E 17       	ld	a,0x17
3026  0D1A  F5          	push	af
3027  0D1B  33          	inc	sp
3028  0D1C  56          	ld	d, (hl)
3029  0D1D  1E 11       	ld	e,0x11
3030  0D1F  D5          	push	de
3031  0D20  CD 00 00    	call	_spr_draw8
3032  0D23  F1          	pop	af
3033  0D24  33          	inc	sp
3034  0D25  21 00 00    	ld	hl,_v0
3035  0D28  7E          	ld	a, (hl)
3036  0D29  C6 08       	add	a,0x08
3037  0D2B  77          	ld	(hl), a
3038  0D2C  18 E2       	jr	l_game_round_init_00130
3039  0D2E              l_game_round_init_00134:
3040  0D2E  3A 00 00    	ld	a,(_game_debug)
3041  0D31  B7          	or	a, a
3042  0D32  28 0C       	jr	Z,l_game_round_init_00136
3043  0D34  3A 00 00    	ld	a,(_scr_curr)
3044  0D37  F5          	push	af
3045  0D38  33          	inc	sp
3046  0D39  21 17 14    	ld	hl,0x1417
3047  0D3C  E5          	push	hl
3048  0D3D  CD 00 00    	call	_zx_print_chr
3049  0D40              l_game_round_init_00136:
3050  0D40  76          	halt
3051  0D41  DD F9       	ld	sp, ix
3052  0D43  DD E1       	pop	ix
3053  0D45  C9          	ret
3054  0D46              	SECTION rodata_compiler
3055  002F              ___str_8:
3056  002F  41          	DEFM "A"
3057  0030  00          	DEFB 0x00
3058  0031              	SECTION rodata_compiler
3059  0031              ___str_9:
3060  0031  42          	DEFM "B"
3061  0032  00          	DEFB 0x00
3062  0033              	SECTION rodata_compiler
3063  0033              ___str_10:
3064  0033  52 4F 55 4E 44 
                        	DEFM "ROUND"
3065  0038  00          	DEFB 0x00
3066  0039              	SECTION rodata_compiler
3067  0039              ___str_11:
3068  0039  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
3069  0043  00          	DEFB 0x00
3070  0044              	SECTION rodata_compiler
3071  0044              ___str_12:
3072  0044  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
3073  005A  00          	DEFB 0x00
3074  005B              	SECTION rodata_compiler
3075  005B              ___str_13:
3076  005B  48 69 67 68 20 53 63 6F 72 65 20 20 20 20 20 20 20 20 20 53 63 6F 72 65 20 20 20 20 20 20 
                        	DEFM "High Score         Score      "
3077  0079  00          	DEFB 0x00
3078  007A              	SECTION code_compiler
3079  0D46              ;	---------------------------------
3080  0D46              ; Function game_color_hacks
3081  0D46              ; ---------------------------------
3082  0D46              _game_color_hacks:
3083  0D46  21 00 00    	ld	hl,_map_paper
3084  0D49  CB 76       	bit	6, (hl)
3085  0D4B  28 05       	jr	Z,l_game_color_hacks_00102
3086  0D4D  21 00 00    	ld	hl,_spr_init_bright
3087  0D50  36 40       	ld	(hl),0x40
3088  0D52              l_game_color_hacks_00102:
3089  0D52  3A 00 00    	ld	a,(_scr_curr)
3090  0D55  D6 14       	sub	a,0x14
3091  0D57  30 24       	jr	NC,l_game_color_hacks_00112
3092  0D59  3A 00 00    	ld	a,(_map_paper)
3093  0D5C  D6 10       	sub	a,0x10
3094  0D5E  20 0A       	jr	NZ,l_game_color_hacks_00104
3095  0D60  21 00 00    	ld	hl,_spr_init_cin0
3096  0D63  36 02       	ld	(hl),0x02
3097  0D65  21 00 00    	ld	hl,_spr_init_cout0
3098  0D68  36 03       	ld	(hl),0x03
3099  0D6A              l_game_color_hacks_00104:
3100  0D6A  3A 00 00    	ld	a,(_map_paper)
3101  0D6D  D6 20       	sub	a,0x20
3102  0D6F  20 5F       	jr	NZ,l_game_color_hacks_00114
3103  0D71  21 00 00    	ld	hl,_spr_init_cin0
3104  0D74  36 05       	ld	(hl),0x05
3105  0D76  21 00 00    	ld	hl,_spr_init_cout0
3106  0D79  36 01       	ld	(hl),0x01
3107  0D7B  18 53       	jr	l_game_color_hacks_00114
3108  0D7D              l_game_color_hacks_00112:
3109  0D7D  3A 00 00    	ld	a,(_map_paper)
3110  0D80  D6 08       	sub	a,0x08
3111  0D82  20 1E       	jr	NZ,l_game_color_hacks_00108
3112  0D84  21 00 00    	ld	hl,_spr_init_cin0
3113  0D87  36 01       	ld	(hl),0x01
3114  0D89  21 00 00    	ld	hl,_spr_init_cout0
3115  0D8C  36 07       	ld	(hl),0x07
3116  0D8E  21 00 00    	ld	hl,_spr_init_cin1
3117  0D91  36 02       	ld	(hl),0x02
3118  0D93  21 00 00    	ld	hl,_spr_init_cout1
3119  0D96  36 04       	ld	(hl),0x04
3120  0D98  21 00 00    	ld	hl,_spr_init_cin2
3121  0D9B  36 16       	ld	(hl),0x16
3122  0D9D  21 00 00    	ld	hl,_spr_init_cout2
3123  0DA0  36 27       	ld	(hl),0x27
3124  0DA2              l_game_color_hacks_00108:
3125  0DA2  3A 00 00    	ld	a,(_map_paper)
3126  0DA5  D6 38       	sub	a,0x38
3127  0DA7  C0          	ret	NZ
3128  0DA8  21 00 00    	ld	hl,_spr_init_cin0
3129  0DAB  36 06       	ld	(hl),0x06
3130  0DAD  21 00 00    	ld	hl,_spr_init_cout0
3131  0DB0  36 00       	ld	(hl),0x00
3132  0DB2  21 00 00    	ld	hl,_spr_init_cin1
3133  0DB5  36 01       	ld	(hl),0x01
3134  0DB7  21 00 00    	ld	hl,_spr_init_cout1
3135  0DBA  36 01       	ld	(hl),0x01
3136  0DBC  21 00 00    	ld	hl,_spr_init_cin2
3137  0DBF  36 02       	ld	(hl),0x02
3138  0DC1  21 00 00    	ld	hl,_spr_init_cout2
3139  0DC4  36 03       	ld	(hl),0x03
3140  0DC6  21 00 00    	ld	hl,_spr_init_cin3
3141  0DC9  36 16       	ld	(hl),0x16
3142  0DCB  21 00 00    	ld	hl,_spr_init_cout3
3143  0DCE  36 08       	ld	(hl),0x08
3144  0DD0              l_game_color_hacks_00114:
3145  0DD0  C9          	ret
3146  0DD1              	SECTION code_compiler
3147  0DD1              ;	---------------------------------
3148  0DD1              ; Function game_print_header
3149  0DD1              ; ---------------------------------
3150  0DD1              	defc _game_print_header	=	_game_print_score
3151  0DD1              	SECTION code_compiler
3152  0DD1              ;	---------------------------------
3153  0DD1              ; Function game_check_map
3154  0DD1              ; ---------------------------------
3155  0DD1              _game_check_map:
3156  0DD1  CD 00 00    	call	___sdcc_enter_ix
3157  0DD4  DD 66 05    	ld	h,(ix+5)
3158  0DD7  DD 6E 04    	ld	l,(ix+4)
3159  0DDA  E5          	push	hl
3160  0DDB  CD 00 00    	call	_spr_calc_index
3161  0DDE  F1          	pop	af
3162  0DDF  22 00 00    	ld	(_index1),hl
3163  0DE2  21 00 00    	ld	hl,_index1
3164  0DE5  DD E1       	pop	ix
3165  0DE7  C3 EA 0D    	jp	_game_check_cell
3166  0DEA              	SECTION code_compiler
3167  0DEA              ;	---------------------------------
3168  0DEA              ; Function game_check_cell
3169  0DEA              ; ---------------------------------
3170  0DEA              _game_check_cell:
3171  0DEA  4E          	ld	c, (hl)
3172  0DEB  23          	inc	hl
3173  0DEC  46          	ld	b, (hl)
3174  0DED  AF          	xor	a, a
3175  0DEE  B9          	cp	a, c
3176  0DEF  3E 02       	ld	a,0x02
3177  0DF1  98          	sbc	a, b
3178  0DF2  30 04       	jr	NC,l_game_check_cell_00102
3179  0DF4  2E 01       	ld	l,0x01
3180  0DF6  18 1A       	jr	l_game_check_cell_00106
3181  0DF8              l_game_check_cell_00102:
3182  0DF8  21 00 00    	ld	hl,_scr_map
3183  0DFB  09          	add	hl, bc
3184  0DFC  5E          	ld	e, (hl)
3185  0DFD  16 00       	ld	d,0x00
3186  0DFF  21 00 00    	ld	hl,_tile_class
3187  0E02  19          	add	hl, de
3188  0E03  5E          	ld	e, (hl)
3189  0E04  ED 43 00 00 	ld	(_index1),bc
3190  0E08  7B          	ld	a,e
3191  0E09  D6 03       	sub	a,0x03
3192  0E0B  28 04       	jr	Z,l_game_check_cell_00104
3193  0E0D  2E 00       	ld	l,0x00
3194  0E0F  18 01       	jr	l_game_check_cell_00106
3195  0E11              l_game_check_cell_00104:
3196  0E11  6B          	ld	l, e
3197  0E12              l_game_check_cell_00106:
3198  0E12  C9          	ret
3199  0E13              	SECTION code_compiler
3200  0E13              ;	---------------------------------
3201  0E13              ; Function game_paint_attrib
3202  0E13              ; ---------------------------------
3203  0E13              _game_paint_attrib:
3204  0E13  CD 00 00    	call	___sdcc_enter_ix
3205  0E16  DD 46 06    	ld	b,(ix+6)
3206  0E19              l_game_paint_attrib_00103:
3207  0E19  78          	ld	a, b
3208  0E1A  DD 96 07    	sub	a,(ix+7)
3209  0E1D  30 13       	jr	NC,l_game_paint_attrib_00105
3210  0E1F  DD 5E 04    	ld	e,(ix+4)
3211  0E22  DD 56 05    	ld	d,(ix+5)
3212  0E25  C5          	push	bc
3213  0E26  DD 4E 08    	ld	c,(ix+8)
3214  0E29  C5          	push	bc
3215  0E2A  D5          	push	de
3216  0E2B  CD 00 00    	call	_NIRVANAP_paintC_callee
3217  0E2E  C1          	pop	bc
3218  0E2F  04          	inc	b
3219  0E30  18 E7       	jr	l_game_paint_attrib_00103
3220  0E32              l_game_paint_attrib_00105:
3221  0E32  DD E1       	pop	ix
3222  0E34  C9          	ret
3223  0E35              	SECTION code_compiler
3224  0E35              ;	---------------------------------
3225  0E35              ; Function game_check_time
3226  0E35              ; ---------------------------------
3227  0E35              _game_check_time:
3228  0E35  CD 00 00    	call	___sdcc_enter_ix
3229  0E38  2A 00 00    	ld	hl,(_curr_time)
3230  0E3B  4D          	ld	c, l
3231  0E3C  DD 6E 04    	ld	l,(ix+4)
3232  0E3F  44          	ld	b,h
3233  0E40  DD 66 05    	ld	h,(ix+5)
3234  0E43  5E          	ld	e, (hl)
3235  0E44  23          	inc	hl
3236  0E45  56          	ld	d, (hl)
3237  0E46  79          	ld	a, c
3238  0E47  93          	sub	a, e
3239  0E48  4F          	ld	c, a
3240  0E49  78          	ld	a, b
3241  0E4A  9A          	sbc	a, d
3242  0E4B  47          	ld	b, a
3243  0E4C  DD 7E 06    	ld	a,(ix+6)
3244  0E4F  91          	sub	a, c
3245  0E50  DD 7E 07    	ld	a,(ix+7)
3246  0E53  98          	sbc	a, b
3247  0E54  30 04       	jr	NC,l_game_check_time_00102
3248  0E56  2E 01       	ld	l,0x01
3249  0E58  18 02       	jr	l_game_check_time_00104
3250  0E5A              l_game_check_time_00102:
3251  0E5A  2E 00       	ld	l,0x00
3252  0E5C              l_game_check_time_00104:
3253  0E5C  DD E1       	pop	ix
3254  0E5E  C9          	ret
3255  0E5F              	SECTION code_compiler
3256  0E5F              ;	---------------------------------
3257  0E5F              ; Function game_key_paint
3258  0E5F              ; ---------------------------------
3259  0E5F              _game_key_paint:
3260  0E5F  CD 00 00    	call	___sdcc_enter_ix
3261  0E62  F5          	push	af
3262  0E63  21 00 00    	ld	hl,_v0
3263  0E66  36 00       	ld	(hl),0x00
3264  0E68  01 00 00    	ld	bc,_obj_col+0
3265  0E6B  DD 36 FE 00 	ld	(ix-2),+((_obj_lin) & 0xFF)
3266  0E6F  DD 36 FF 00 	ld	(ix-1),+((_obj_lin) / 256)
3267  0E73              l_game_key_paint_00105:
3268  0E73  3A 00 00    	ld	a,(_v0)
3269  0E76  D6 05       	sub	a,0x05
3270  0E78  30 48       	jr	NC,l_game_key_paint_00108
3271  0E7A  0A          	ld	a, (bc)
3272  0E7B  3C          	inc	a
3273  0E7C  28 2A       	jr	Z,l_game_key_paint_00102
3274  0E7E  3A 00 00    	ld	a,(_map_paper)
3275  0E81  21 00 00    	ld	hl,_key_ink
3276  0E84  B6          	or	a, (hl)
3277  0E85  E1          	pop	hl
3278  0E86  32 00 00    	ld	(_v1),a
3279  0E89  11 00 00    	ld	de,_key_attrib+0
3280  0E8C  12          	ld	(de),a
3281  0E8D  3A 00 00    	ld	a,(_v1)
3282  0E90  32 01 00    	ld	((_key_attrib + 0x0001)),a
3283  0E93  32 02 00    	ld	((_key_attrib + 0x0002)),a
3284  0E96  3A 00 00    	ld	a,(_v1)
3285  0E99  32 03 00    	ld	((_key_attrib + 0x0003)),a
3286  0E9C  0A          	ld	a,(bc)
3287  0E9D  E5          	push	hl
3288  0E9E  66          	ld	h, (hl)
3289  0E9F  C5          	push	bc
3290  0EA0  6C          	ld	l,h
3291  0EA1  67          	ld	h,a
3292  0EA2  E5          	push	hl
3293  0EA3  D5          	push	de
3294  0EA4  CD 00 00    	call	_NIRVANAP_paintC_callee
3295  0EA7  C1          	pop	bc
3296  0EA8              l_game_key_paint_00102:
3297  0EA8  21 00 00    	ld	hl,_v0
3298  0EAB  34          	inc	(hl)
3299  0EAC  03          	inc	bc
3300  0EAD  DD 34 FE    	inc	(ix-2)
3301  0EB0  20 03       	jr	NZ,l_game_key_paint_00128
3302  0EB2  DD 34 FF    	inc	(ix-1)
3303  0EB5              l_game_key_paint_00128:
3304  0EB5  21 00 00    	ld	hl,_key_ink
3305  0EB8  34          	inc	(hl)
3306  0EB9  3E 06       	ld	a,0x06
3307  0EBB  96          	sub	a, (hl)
3308  0EBC  30 B5       	jr	NC,l_game_key_paint_00105
3309  0EBE  36 03       	ld	(hl),0x03
3310  0EC0  18 B1       	jr	l_game_key_paint_00105
3311  0EC2              l_game_key_paint_00108:
3312  0EC2  F1          	pop	af
3313  0EC3  DD E1       	pop	ix
3314  0EC5  C9          	ret
3315  0EC6              	SECTION code_compiler
3316  0EC6              ;	---------------------------------
3317  0EC6              ; Function game_attribs
3318  0EC6              ; ---------------------------------
3319  0EC6              _game_attribs:
3320  0EC6  01 00 00    	ld	bc,_attrib+0
3321  0EC9  21 00 00    	ld	hl,_map_paper
3322  0ECC  7E          	ld	a, (hl)
3323  0ECD  F6 06       	or	a,0x06
3324  0ECF  02          	ld	(bc), a
3325  0ED0  59          	ld	e, c
3326  0ED1  50          	ld	d, b
3327  0ED2  13          	inc	de
3328  0ED3  7E          	ld	a, (hl)
3329  0ED4  F6 46       	or	a,0x46
3330  0ED6  12          	ld	(de), a
3331  0ED7  7E          	ld	a, (hl)
3332  0ED8  F6 07       	or	a,0x07
3333  0EDA  32 02 00    	ld	((_attrib + 0x0002)),a
3334  0EDD  03          	inc	bc
3335  0EDE  03          	inc	bc
3336  0EDF  03          	inc	bc
3337  0EE0  21 00 00    	ld	hl,_map_paper
3338  0EE3  7E          	ld	a, (hl)
3339  0EE4  F6 06       	or	a,0x06
3340  0EE6  02          	ld	(bc), a
3341  0EE7  01 00 00    	ld	bc,_attrib_hl+0
3342  0EEA  7E          	ld	a, (hl)
3343  0EEB  F6 15       	or	a,0x15
3344  0EED  02          	ld	(bc), a
3345  0EEE  59          	ld	e, c
3346  0EEF  50          	ld	d, b
3347  0EF0  13          	inc	de
3348  0EF1  7E          	ld	a, (hl)
3349  0EF2  F6 55       	or	a,0x55
3350  0EF4  12          	ld	(de), a
3351  0EF5  7E          	ld	a, (hl)
3352  0EF6  F6 17       	or	a,0x17
3353  0EF8  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3354  0EFB  03          	inc	bc
3355  0EFC  03          	inc	bc
3356  0EFD  03          	inc	bc
3357  0EFE  3A 00 00    	ld	a,(_map_paper)
3358  0F01  F6 15       	or	a,0x15
3359  0F03  02          	ld	(bc), a
3360  0F04  21 42 43    	ld	hl,0x4342
3361  0F07  22 00 00    	ld	(_attrib_osd),hl
3362  0F0A  21 45 46    	ld	hl,0x4645
3363  0F0D  22 02 00    	ld	(_attrib_osd + 2),hl
3364  0F10  21 24 24    	ld	hl,0x2424
3365  0F13  22 00 00    	ld	(_attrib_sol0),hl
3366  0F16  22 02 00    	ld	(_attrib_sol0 + 2),hl
3367  0F19  21 36 76    	ld	hl,0x7636
3368  0F1C  22 00 00    	ld	(_attrib_sol1),hl
3369  0F1F  21 76 36    	ld	hl,0x3676
3370  0F22  22 02 00    	ld	(_attrib_sol1 + 2),hl
3371  0F25  C9          	ret
3372  0F26              	SECTION code_compiler
3373  0F26              ;	---------------------------------
3374  0F26              ; Function game_page_map
3375  0F26              ; ---------------------------------
3376  0F26              _game_page_map:
3377  0F26  CD 00 00    	call	___sdcc_enter_ix
3378  0F29  21 EA FF    	ld	hl, -22
3379  0F2C  39          	add	hl, sp
3380  0F2D  F9          	ld	sp, hl
3381  0F2E  21 00 00    	ld	hl,_scr_curr
3382  0F31  4E          	ld	c, (hl)
3383  0F32  DD 71 FF    	ld	(ix-1),c
3384  0F35  3E 13       	ld	a,0x13
3385  0F37  91          	sub	a, c
3386  0F38  30 06       	jr	NC,l_game_page_map_00102
3387  0F3A  79          	ld	a, c
3388  0F3B  C6 EC       	add	a,0xec
3389  0F3D  DD 77 FF    	ld	(ix-1),a
3390  0F40              l_game_page_map_00102:
3391  0F40  DD 36 F0 00 	ld	(ix-16),0x00
3392  0F44  DD 36 F1 00 	ld	(ix-15),0x00
3393  0F48  C5          	push	bc
3394  0F49  3E 06       	ld	a,0x06
3395  0F4B  F5          	push	af
3396  0F4C  33          	inc	sp
3397  0F4D  CD CF 13    	call	_page
3398  0F50  33          	inc	sp
3399  0F51  C1          	pop	bc
3400  0F52  06 00       	ld	b,0x00
3401  0F54  69          	ld	l, c
3402  0F55  60          	ld	h, b
3403  0F56  29          	add	hl, hl
3404  0F57  11 00 00    	ld	de,_lenght0
3405  0F5A  19          	add	hl, de
3406  0F5B  5E          	ld	e, (hl)
3407  0F5C  23          	inc	hl
3408  0F5D  56          	ld	d, (hl)
3409  0F5E  69          	ld	l,c
3410  0F5F  60          	ld	h,b
3411  0F60  23          	inc	hl
3412  0F61  29          	add	hl, hl
3413  0F62  01 00 00    	ld	bc,_lenght0
3414  0F65  09          	add	hl, bc
3415  0F66  01 EC FF    	ld	bc,-20
3416  0F69  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_bcix
3417  0F6C  01 00 00    	ld	bc,_btiles+0
3418  0F6F  21 00 00    	ld	hl,_world0
3419  0F72  19          	add	hl, de
3420  0F73  DD 7E EC    	ld	a,(ix-20)
3421  0F76  93          	sub	a, e
3422  0F77  5F          	ld	e, a
3423  0F78  DD 7E ED    	ld	a,(ix-19)
3424  0F7B  9A          	sbc	a, d
3425  0F7C  57          	ld	d, a
3426  0F7D  C5          	push	bc
3427  0F7E  D5          	push	de
3428  0F7F  E5          	push	hl
3429  0F80  21 00 00    	ld	hl,_btiles
3430  0F83  E5          	push	hl
3431  0F84  CD 00 00    	call	_memcpy_callee
3432  0F87  AF          	xor	a, a
3433  0F88  F5          	push	af
3434  0F89  33          	inc	sp
3435  0F8A  CD CF 13    	call	_page
3436  0F8D  33          	inc	sp
3437  0F8E  C1          	pop	bc
3438  0F8F  DD 36 F4 00 	ld	(ix-12),0x00
3439  0F93  DD 36 F5 00 	ld	(ix-11),0x00
3440  0F97  11 00 00    	ld	de,_scr_map+0
3441  0F9A              l_game_page_map_00121:
3442  0F9A  DD 6E F4    	ld	l,(ix-12)
3443  0F9D  DD 66 F5    	ld	h,(ix-11)
3444  0FA0  09          	add	hl, bc
3445  0FA1  7E          	ld	a, (hl)
3446  0FA2  DD 77 F8    	ld	(ix-8),a
3447  0FA5  DD 7E F4    	ld	a,(ix-12)
3448  0FA8  C6 01       	add	a,0x01
3449  0FAA  DD 77 FD    	ld	(ix-3),a
3450  0FAD  6F          	ld	l,a
3451  0FAE  DD 7E F5    	ld	a,(ix-11)
3452  0FB1  CE 00       	adc	a,0x00
3453  0FB3  DD 77 FE    	ld	(ix-2),a
3454  0FB6  67          	ld	h,a
3455  0FB7  09          	add	hl, bc
3456  0FB8  7E          	ld	a, (hl)
3457  0FB9  DD 77 F7    	ld	(ix-9),a
3458  0FBC  DD 7E F8    	ld	a,(ix-8)
3459  0FBF  D6 80       	sub	a,0x80
3460  0FC1  30 15       	jr	NC,l_game_page_map_00107
3461  0FC3  DD 6E F0    	ld	l,(ix-16)
3462  0FC6  DD 66 F1    	ld	h,(ix-15)
3463  0FC9  19          	add	hl, de
3464  0FCA  DD 7E F8    	ld	a,(ix-8)
3465  0FCD  77          	ld	(hl), a
3466  0FCE  DD 34 F0    	inc	(ix-16)
3467  0FD1  20 77       	jr	NZ,l_game_page_map_00108
3468  0FD3  DD 34 F1    	inc	(ix-15)
3469  0FD6  18 72       	jr	l_game_page_map_00108
3470  0FD8              l_game_page_map_00107:
3471  0FD8  DD 7E F8    	ld	a,(ix-8)
3472  0FDB  C6 80       	add	a,0x80
3473  0FDD  DD 77 F6    	ld	(ix-10),a
3474  0FE0  DD 7E F0    	ld	a,(ix-16)
3475  0FE3  DD 77 FB    	ld	(ix-5),a
3476  0FE6  DD 7E F1    	ld	a,(ix-15)
3477  0FE9  DD 77 FC    	ld	(ix-4),a
3478  0FEC  DD 36 F2 00 	ld	(ix-14),0x00
3479  0FF0  DD 36 F3 00 	ld	(ix-13),0x00
3480  0FF4              l_game_page_map_00119:
3481  0FF4  DD 6E F6    	ld	l,(ix-10)
3482  0FF7  26 00       	ld	h,0x00
3483  0FF9  DD 7E F2    	ld	a,(ix-14)
3484  0FFC  95          	sub	a, l
3485  0FFD  DD 7E F3    	ld	a,(ix-13)
3486  1000  9C          	sbc	a, h
3487  1001  30 2F       	jr	NC,l_game_page_map_00135
3488  1003  7B          	ld	a, e
3489  1004  DD 86 FB    	add	a,(ix-5)
3490  1007  DD 77 F9    	ld	(ix-7),a
3491  100A  7A          	ld	a, d
3492  100B  DD 8E FC    	adc	a,(ix-4)
3493  100E  DD 6E F9    	ld	l,(ix-7)
3494  1011  DD 77 FA    	ld	(ix-6),a
3495  1014  67          	ld	h,a
3496  1015  DD 7E F7    	ld	a,(ix-9)
3497  1018  77          	ld	(hl), a
3498  1019  DD 34 FB    	inc	(ix-5)
3499  101C  20 03       	jr	NZ,l_game_page_map_00168
3500  101E  DD 34 FC    	inc	(ix-4)
3501  1021              l_game_page_map_00168:
3502  1021  DD 7E FC    	ld	a,(ix-4)
3503  1024  D6 02       	sub	a,0x02
3504  1026  30 0A       	jr	NC,l_game_page_map_00135
3505  1028  DD 34 F2    	inc	(ix-14)
3506  102B  20 C7       	jr	NZ,l_game_page_map_00119
3507  102D  DD 34 F3    	inc	(ix-13)
3508  1030  18 C2       	jr	l_game_page_map_00119
3509  1032              l_game_page_map_00135:
3510  1032  DD 7E FB    	ld	a,(ix-5)
3511  1035  DD 77 F0    	ld	(ix-16),a
3512  1038  DD 7E FC    	ld	a,(ix-4)
3513  103B  DD 77 F1    	ld	(ix-15),a
3514  103E  DD 7E FD    	ld	a,(ix-3)
3515  1041  DD 77 F4    	ld	(ix-12),a
3516  1044  DD 7E FE    	ld	a,(ix-2)
3517  1047  DD 77 F5    	ld	(ix-11),a
3518  104A              l_game_page_map_00108:
3519  104A  DD 7E F1    	ld	a,(ix-15)
3520  104D  D6 02       	sub	a,0x02
3521  104F  30 10       	jr	NC,l_game_page_map_00111
3522  1051  DD 34 F4    	inc	(ix-12)
3523  1054  20 03       	jr	NZ,l_game_page_map_00170
3524  1056  DD 34 F5    	inc	(ix-11)
3525  1059              l_game_page_map_00170:
3526  1059  DD 7E F5    	ld	a,(ix-11)
3527  105C  D6 02       	sub	a,0x02
3528  105E  DA 9A 0F    	jp	C, l_game_page_map_00121
3529  1061              l_game_page_map_00111:
3530  1061  DD 5E FF    	ld	e,(ix-1)
3531  1064  16 00       	ld	d,0x00
3532  1066  6B          	ld	l, e
3533  1067  62          	ld	h, d
3534  1068  29          	add	hl, hl
3535  1069  19          	add	hl, de
3536  106A  AF          	xor	a,a
3537  106B  CB 3C       	srl	h
3538  106D  CB 1D       	rr	l
3539  106F  1F          	rra
3540  1070  DD 77 EE    	ld	(ix-18),a
3541  1073  DD 75 EF    	ld	(ix-17),l
3542  1076  DD 36 F0 00 	ld	(ix-16),0x00
3543  107A  DD 36 F1 00 	ld	(ix-15),0x00
3544  107E              l_game_page_map_00115:
3545  107E  DD 7E F0    	ld	a,(ix-16)
3546  1081  D6 80       	sub	a,0x80
3547  1083  DD 7E F1    	ld	a,(ix-15)
3548  1086  DE 01       	sbc	a,0x01
3549  1088  D2 08 11    	jp	NC, l_game_page_map_00117
3550  108B  DD 36 EA 00 	ld	(ix-22),+((_btiles + 0x1200) & 0xFF)
3551  108F  DD 36 EB 12 	ld	(ix-21),+((_btiles + 0x1200) / 256)
3552  1093  DD 7E EE    	ld	a,(ix-18)
3553  1096  DD 86 F0    	add	a,(ix-16)
3554  1099  DD 77 F9    	ld	(ix-7),a
3555  109C  DD 7E EF    	ld	a,(ix-17)
3556  109F  DD 8E F1    	adc	a,(ix-15)
3557  10A2  DD 77 FA    	ld	(ix-6),a
3558  10A5  3A 00 00    	ld	a,(_scr_curr)
3559  10A8  D6 14       	sub	a,0x14
3560  10AA  30 0E       	jr	NC,l_game_page_map_00113
3561  10AC  3E 00       	ld	a, +((_hitiles1) & 0xFF)
3562  10AE  DD 86 F9    	add	a,(ix-7)
3563  10B1  5F          	ld	e, a
3564  10B2  3E 00       	ld	a, +((_hitiles1) / 256)
3565  10B4  DD 8E FA    	adc	a,(ix-6)
3566  10B7  57          	ld	d, a
3567  10B8  18 0C       	jr	l_game_page_map_00114
3568  10BA              l_game_page_map_00113:
3569  10BA  3E 00       	ld	a, +((_hitiles2) & 0xFF)
3570  10BC  DD 86 F9    	add	a,(ix-7)
3571  10BF  5F          	ld	e, a
3572  10C0  3E 00       	ld	a, +((_hitiles2) / 256)
3573  10C2  DD 8E FA    	adc	a,(ix-6)
3574  10C5  57          	ld	d, a
3575  10C6              l_game_page_map_00114:
3576  10C6  C5          	push	bc
3577  10C7  D5          	push	de
3578  10C8  3E 07       	ld	a,0x07
3579  10CA  F5          	push	af
3580  10CB  33          	inc	sp
3581  10CC  CD CF 13    	call	_page
3582  10CF  33          	inc	sp
3583  10D0  D1          	pop	de
3584  10D1  C1          	pop	bc
3585  10D2  E1          	pop	hl
3586  10D3  E5          	push	hl
3587  10D4  C5          	push	bc
3588  10D5  EB          	ex	de, hl
3589  10D6  01 30 00    	ld	bc,0x0030
3590  10D9  ED B0       	ldir
3591  10DB  AF          	xor	a, a
3592  10DC  F5          	push	af
3593  10DD  33          	inc	sp
3594  10DE  CD CF 13    	call	_page
3595  10E1  33          	inc	sp
3596  10E2  C1          	pop	bc
3597  10E3  DD 6E F0    	ld	l,(ix-16)
3598  10E6  DD 66 F1    	ld	h,(ix-15)
3599  10E9  09          	add	hl, bc
3600  10EA  11 00 12    	ld	de, +(_btiles + 0x1200)
3601  10ED  C5          	push	bc
3602  10EE  EB          	ex	de, hl
3603  10EF  01 30 00    	ld	bc,0x0030
3604  10F2  ED B0       	ldir
3605  10F4  C1          	pop	bc
3606  10F5  DD 7E F0    	ld	a,(ix-16)
3607  10F8  C6 30       	add	a,0x30
3608  10FA  DD 77 F0    	ld	(ix-16),a
3609  10FD  DD 7E F1    	ld	a,(ix-15)
3610  1100  CE 00       	adc	a,0x00
3611  1102  DD 77 F1    	ld	(ix-15),a
3612  1105  C3 7E 10    	jp	l_game_page_map_00115
3613  1108              l_game_page_map_00117:
3614  1108  3A 20 00    	ld	a, (_btiles + 32)
3615  110B  E6 F8       	and	a,0xf8
3616  110D  21 00 00    	ld	hl,_map_paper
3617  1110  77          	ld	(hl),a
3618  1111  0F          	rrca
3619  1112  0F          	rrca
3620  1113  0F          	rrca
3621  1114  E6 1F       	and	a,0x1f
3622  1116  B6          	or	a, (hl)
3623  1117  32 00 00    	ld	(_map_clear),a
3624  111A  DD F9       	ld	sp, ix
3625  111C  DD E1       	pop	ix
3626  111E  C9          	ret
3627  111F              	SECTION code_compiler
3628  111F              ;	---------------------------------
3629  111F              ; Function game_flash_exit
3630  111F              ; ---------------------------------
3631  111F              _game_flash_exit:
3632  111F  CD 00 00    	call	___sdcc_enter_ix
3633  1122  21 00 00    	ld	hl,_i
3634  1125  36 00       	ld	(hl),0x00
3635  1127  01 70 01    	ld	bc,0x0170
3636  112A              l_game_flash_exit_00101:
3637  112A  3A 00 00    	ld	a,(_i)
3638  112D  D6 10       	sub	a,0x10
3639  112F  30 14       	jr	NC,l_game_flash_exit_00103
3640  1131  21 00 00    	ld	hl,_btiles
3641  1134  09          	add	hl,bc
3642  1135  7E          	ld	a,(hl)
3643  1136  EB          	ex	de,hl
3644  1137  E6 7F       	and	a,0x7f
3645  1139  12          	ld	(de), a
3646  113A  DD B6 04    	or	a,(ix+4)
3647  113D  12          	ld	(de), a
3648  113E  21 00 00    	ld	hl,_i
3649  1141  34          	inc	(hl)
3650  1142  03          	inc	bc
3651  1143  18 E5       	jr	l_game_flash_exit_00101
3652  1145              l_game_flash_exit_00103:
3653  1145  2A FF FF    	ld	hl,(_game_exit_col - 1)
3654  1148  3A 00 00    	ld	a,(_game_exit_lin)
3655  114B  6F          	ld	l,a
3656  114C  E5          	push	hl
3657  114D  21 06 07    	ld	hl,0x0706
3658  1150  E5          	push	hl
3659  1151  CD 00 00    	call	_NIRVANAP_spriteT_callee
3660  1154  76          	halt
3661  1155  DD E1       	pop	ix
3662  1157  C9          	ret
3663  1158              	SECTION code_compiler
3664  1158              ;	---------------------------------
3665  1158              ; Function game_copy_sprite_color_reset
3666  1158              ; ---------------------------------
3667  1158              _game_copy_sprite_color_reset:
3668  1158  21 00 00    	ld	hl,_spr_init_bright
3669  115B  36 00       	ld	(hl),0x00
3670  115D  21 00 00    	ld	hl,_spr_init_cin0
3671  1160  36 00       	ld	(hl),0x00
3672  1162  21 00 00    	ld	hl,_spr_init_cout0
3673  1165  36 00       	ld	(hl),0x00
3674  1167  21 00 00    	ld	hl,_spr_init_cin1
3675  116A  36 00       	ld	(hl),0x00
3676  116C  21 00 00    	ld	hl,_spr_init_cout1
3677  116F  36 00       	ld	(hl),0x00
3678  1171  21 00 00    	ld	hl,_spr_init_cin2
3679  1174  36 00       	ld	(hl),0x00
3680  1176  21 00 00    	ld	hl,_spr_init_cout2
3681  1179  36 00       	ld	(hl),0x00
3682  117B  21 00 00    	ld	hl,_spr_init_cin3
3683  117E  36 00       	ld	(hl),0x00
3684  1180  21 00 00    	ld	hl,_spr_init_cout3
3685  1183  36 00       	ld	(hl),0x00
3686  1185  C9          	ret
3687  1186              	SECTION code_compiler
3688  1186              ;	---------------------------------
3689  1186              ; Function game_copy_sprite_std
3690  1186              ; ---------------------------------
3691  1186              _game_copy_sprite_std:
3692  1186  CD 00 00    	call	___sdcc_enter_ix
3693  1189  AF          	xor	a, a
3694  118A  F5          	push	af
3695  118B  33          	inc	sp
3696  118C  DD 66 05    	ld	h,(ix+5)
3697  118F  DD 6E 04    	ld	l,(ix+4)
3698  1192  E5          	push	hl
3699  1193  CD 33 12    	call	_game_copy_sprite
3700  1196  F1          	pop	af
3701  1197  33          	inc	sp
3702  1198  DD 46 05    	ld	b,(ix+5)
3703  119B  04          	inc	b
3704  119C  DD 4E 04    	ld	c,(ix+4)
3705  119F  0C          	inc	c
3706  11A0  C5          	push	bc
3707  11A1  AF          	xor	a, a
3708  11A2  F5          	push	af
3709  11A3  33          	inc	sp
3710  11A4  C5          	push	bc
3711  11A5  CD 33 12    	call	_game_copy_sprite
3712  11A8  F1          	pop	af
3713  11A9  33          	inc	sp
3714  11AA  C1          	pop	bc
3715  11AB  DD 56 05    	ld	d,(ix+5)
3716  11AE  14          	inc	d
3717  11AF  14          	inc	d
3718  11B0  DD 46 04    	ld	b,(ix+4)
3719  11B3  04          	inc	b
3720  11B4  04          	inc	b
3721  11B5  C5          	push	bc
3722  11B6  AF          	xor	a, a
3723  11B7  5A          	ld	e,d
3724  11B8  57          	ld	d,a
3725  11B9  D5          	push	de
3726  11BA  C5          	push	bc
3727  11BB  33          	inc	sp
3728  11BC  CD 33 12    	call	_game_copy_sprite
3729  11BF  F1          	pop	af
3730  11C0  33          	inc	sp
3731  11C1  C1          	pop	bc
3732  11C2  DD 56 05    	ld	d,(ix+5)
3733  11C5  14          	inc	d
3734  11C6  14          	inc	d
3735  11C7  14          	inc	d
3736  11C8  DD 5E 04    	ld	e,(ix+4)
3737  11CB  1C          	inc	e
3738  11CC  1C          	inc	e
3739  11CD  1C          	inc	e
3740  11CE  C5          	push	bc
3741  11CF  D5          	push	de
3742  11D0  AF          	xor	a, a
3743  11D1  F5          	push	af
3744  11D2  33          	inc	sp
3745  11D3  D5          	push	de
3746  11D4  CD 33 12    	call	_game_copy_sprite
3747  11D7  F1          	pop	af
3748  11D8  33          	inc	sp
3749  11D9  D1          	pop	de
3750  11DA  C1          	pop	bc
3751  11DB  DD 56 05    	ld	d,(ix+5)
3752  11DE  14          	inc	d
3753  11DF  14          	inc	d
3754  11E0  14          	inc	d
3755  11E1  14          	inc	d
3756  11E2  C5          	push	bc
3757  11E3  3E 01       	ld	a,0x01
3758  11E5  F5          	push	af
3759  11E6  33          	inc	sp
3760  11E7  D5          	push	de
3761  11E8  CD 33 12    	call	_game_copy_sprite
3762  11EB  F1          	pop	af
3763  11EC  33          	inc	sp
3764  11ED  C1          	pop	bc
3765  11EE  DD 7E 05    	ld	a,(ix+5)
3766  11F1  C6 05       	add	a,0x05
3767  11F3  57          	ld	d, a
3768  11F4  C5          	push	bc
3769  11F5  3E 01       	ld	a,0x01
3770  11F7  5A          	ld	e,d
3771  11F8  57          	ld	d,a
3772  11F9  D5          	push	de
3773  11FA  C5          	push	bc
3774  11FB  33          	inc	sp
3775  11FC  CD 33 12    	call	_game_copy_sprite
3776  11FF  F1          	pop	af
3777  1200  33          	inc	sp
3778  1201  C1          	pop	bc
3779  1202  DD 7E 05    	ld	a,(ix+5)
3780  1205  C6 06       	add	a,0x06
3781  1207  47          	ld	b, a
3782  1208  3E 01       	ld	a,0x01
3783  120A  F5          	push	af
3784  120B  33          	inc	sp
3785  120C  C5          	push	bc
3786  120D  CD 33 12    	call	_game_copy_sprite
3787  1210  F1          	pop	af
3788  1211  33          	inc	sp
3789  1212  DD 7E 05    	ld	a,(ix+5)
3790  1215  C6 07       	add	a,0x07
3791  1217  47          	ld	b, a
3792  1218  3E 01       	ld	a,0x01
3793  121A  48          	ld	c,b
3794  121B  47          	ld	b,a
3795  121C  C5          	push	bc
3796  121D  DD 7E 04    	ld	a,(ix+4)
3797  1220  F5          	push	af
3798  1221  33          	inc	sp
3799  1222  CD 33 12    	call	_game_copy_sprite
3800  1225  F1          	pop	af
3801  1226  33          	inc	sp
3802  1227  CD 58 11    	call	_game_copy_sprite_color_reset
3803  122A  DD 7E 05    	ld	a,(ix+5)
3804  122D  C6 08       	add	a,0x08
3805  122F  6F          	ld	l, a
3806  1230  DD E1       	pop	ix
3807  1232  C9          	ret
3808  1233              	SECTION code_compiler
3809  1233              ;	---------------------------------
3810  1233              ; Function game_copy_sprite
3811  1233              ; ---------------------------------
3812  1233              _game_copy_sprite:
3813  1233  CD 00 00    	call	___sdcc_enter_ix
3814  1236  F5          	push	af
3815  1237  F5          	push	af
3816  1238  F5          	push	af
3817  1239  F3          	di
3818  123A  DD 6E 04    	ld	l,(ix+4)
3819  123D  26 00       	ld	h,0x00
3820  123F  4D          	ld	c,l
3821  1240  44          	ld	b,h
3822  1241  29          	add	hl, hl
3823  1242  09          	add	hl, bc
3824  1243  29          	add	hl, hl
3825  1244  29          	add	hl, hl
3826  1245  29          	add	hl, hl
3827  1246  29          	add	hl, hl
3828  1247  3A 00 00    	ld	a,(_scr_curr)
3829  124A  D6 14       	sub	a,0x14
3830  124C  4D          	ld	c,l
3831  124D  44          	ld	b,h
3832  124E  30 08       	jr	NC,l_game_copy_sprite_00102
3833  1250  21 00 00    	ld	hl,_hisprites1
3834  1253  09          	add	hl,bc
3835  1254  4D          	ld	c, l
3836  1255  44          	ld	b, h
3837  1256  18 06       	jr	l_game_copy_sprite_00103
3838  1258              l_game_copy_sprite_00102:
3839  1258  21 00 00    	ld	hl,_hisprites2
3840  125B  09          	add	hl,bc
3841  125C  4D          	ld	c, l
3842  125D  44          	ld	b, h
3843  125E              l_game_copy_sprite_00103:
3844  125E  11 00 12    	ld	de, +(_btiles + 0x1200)
3845  1261  C5          	push	bc
3846  1262  D5          	push	de
3847  1263  3E 03       	ld	a,0x03
3848  1265  F5          	push	af
3849  1266  33          	inc	sp
3850  1267  CD CF 13    	call	_page
3851  126A  33          	inc	sp
3852  126B  D1          	pop	de
3853  126C  E1          	pop	hl
3854  126D  01 30 00    	ld	bc,0x0030
3855  1270  ED B0       	ldir
3856  1272  AF          	xor	a, a
3857  1273  F5          	push	af
3858  1274  33          	inc	sp
3859  1275  CD CF 13    	call	_page
3860  1278  33          	inc	sp
3861  1279  FB          	ei
3862  127A  0E 20       	ld	c,0x20
3863  127C              l_game_copy_sprite_00115:
3864  127C  79          	ld	a, c
3865  127D  D6 30       	sub	a,0x30
3866  127F  30 42       	jr	NC,l_game_copy_sprite_00117
3867  1281  3E 00       	ld	a,+((_btiles+0x1200) & 0xFF)
3868  1283  81          	add	a, c
3869  1284  5F          	ld	e, a
3870  1285  3E 12       	ld	a,+((_btiles+0x1200) / 256)
3871  1287  CE 00       	adc	a,0x00
3872  1289  57          	ld	d, a
3873  128A  1A          	ld	a, (de)
3874  128B  47          	ld	b, a
3875  128C  3A 00 00    	ld	a,(_spr_init_cin0)
3876  128F  90          	sub	a, b
3877  1290  20 06       	jr	NZ,l_game_copy_sprite_00113
3878  1292  3A 00 00    	ld	a,(_spr_init_cout0)
3879  1295  12          	ld	(de), a
3880  1296  18 22       	jr	l_game_copy_sprite_00114
3881  1298              l_game_copy_sprite_00113:
3882  1298  3A 00 00    	ld	a,(_spr_init_cin1)
3883  129B  90          	sub	a, b
3884  129C  20 06       	jr	NZ,l_game_copy_sprite_00110
3885  129E  3A 00 00    	ld	a,(_spr_init_cout1)
3886  12A1  12          	ld	(de), a
3887  12A2  18 16       	jr	l_game_copy_sprite_00114
3888  12A4              l_game_copy_sprite_00110:
3889  12A4  3A 00 00    	ld	a,(_spr_init_cin2)
3890  12A7  90          	sub	a, b
3891  12A8  20 06       	jr	NZ,l_game_copy_sprite_00107
3892  12AA  3A 00 00    	ld	a,(_spr_init_cout2)
3893  12AD  12          	ld	(de), a
3894  12AE  18 0A       	jr	l_game_copy_sprite_00114
3895  12B0              l_game_copy_sprite_00107:
3896  12B0  3A 00 00    	ld	a,(_spr_init_cin3)
3897  12B3  90          	sub	a, b
3898  12B4  20 04       	jr	NZ,l_game_copy_sprite_00114
3899  12B6  3A 00 00    	ld	a,(_spr_init_cout3)
3900  12B9  12          	ld	(de), a
3901  12BA              l_game_copy_sprite_00114:
3902  12BA  1A          	ld	a, (de)
3903  12BB  21 00 00    	ld	hl,_spr_init_bright
3904  12BE  B6          	or	a, (hl)
3905  12BF  12          	ld	(de), a
3906  12C0  0C          	inc	c
3907  12C1  18 B9       	jr	l_game_copy_sprite_00115
3908  12C3              l_game_copy_sprite_00117:
3909  12C3  DD 6E 05    	ld	l,(ix+5)
3910  12C6  26 00       	ld	h,0x00
3911  12C8  4D          	ld	c,l
3912  12C9  44          	ld	b,h
3913  12CA  29          	add	hl, hl
3914  12CB  09          	add	hl, bc
3915  12CC  29          	add	hl, hl
3916  12CD  29          	add	hl, hl
3917  12CE  29          	add	hl, hl
3918  12CF  29          	add	hl, hl
3919  12D0  DD 75 FB    	ld	(ix-5),l
3920  12D3  DD 74 FC    	ld	(ix-4),h
3921  12D6  DD 36 FA 00 	ld	(ix-6),0x00
3922  12DA              l_game_copy_sprite_00130:
3923  12DA  DD 7E FA    	ld	a,(ix-6)
3924  12DD  D6 30       	sub	a,0x30
3925  12DF  D2 87 13    	jp	NC, l_game_copy_sprite_00133
3926  12E2  DD 7E FA    	ld	a,(ix-6)
3927  12E5  3C          	inc	a
3928  12E6  DD 77 FF    	ld	(ix-1),a
3929  12E9  3E 00       	ld	a, +((_btiles) & 0xFF)
3930  12EB  DD 86 FB    	add	a,(ix-5)
3931  12EE  DD 77 FD    	ld	(ix-3),a
3932  12F1  3E 00       	ld	a, +((_btiles) / 256)
3933  12F3  DD 8E FC    	adc	a,(ix-4)
3934  12F6  DD 77 FE    	ld	(ix-2),a
3935  12F9  DD 7E 06    	ld	a,(ix+6)
3936  12FC  B7          	or	a, a
3937  12FD  28 63       	jr	Z,l_game_copy_sprite_00128
3938  12FF  DD 7E FA    	ld	a,(ix-6)
3939  1302  D6 20       	sub	a,0x20
3940  1304  30 30       	jr	NC,l_game_copy_sprite_00125
3941  1306  DD CB FA 46 	bit	0,(ix-6)
3942  130A  20 08       	jr	NZ,l_game_copy_sprite_00119
3943  130C  DD 7E FF    	ld	a,(ix-1)
3944  130F  32 00 00    	ld	(_v0),a
3945  1312  18 08       	jr	l_game_copy_sprite_00120
3946  1314              l_game_copy_sprite_00119:
3947  1314  DD 7E FA    	ld	a,(ix-6)
3948  1317  C6 FF       	add	a,0xff
3949  1319  32 00 00    	ld	(_v0),a
3950  131C              l_game_copy_sprite_00120:
3951  131C  2A 00 00    	ld	hl,(_v0)
3952  131F  26 00       	ld	h,0x00
3953  1321  01 00 12    	ld	bc,+(_btiles + 0x1200)
3954  1324  09          	add	hl,bc
3955  1325  7E          	ld	a,(hl)
3956  1326  F5          	push	af
3957  1327  33          	inc	sp
3958  1328  CD 8C 13    	call	_reverse
3959  132B  33          	inc	sp
3960  132C  4D          	ld	c, l
3961  132D  DD 6E FD    	ld	l,(ix-3)
3962  1330  DD 66 FE    	ld	h,(ix-2)
3963  1333  71          	ld	(hl), c
3964  1334  18 3F       	jr	l_game_copy_sprite_00129
3965  1336              l_game_copy_sprite_00125:
3966  1336  DD 7E FA    	ld	a,(ix-6)
3967  1339  D6 28       	sub	a,0x28
3968  133B  30 0A       	jr	NC,l_game_copy_sprite_00122
3969  133D  DD 7E FA    	ld	a,(ix-6)
3970  1340  C6 08       	add	a,0x08
3971  1342  32 00 00    	ld	(_v0),a
3972  1345  18 08       	jr	l_game_copy_sprite_00123
3973  1347              l_game_copy_sprite_00122:
3974  1347  DD 7E FA    	ld	a,(ix-6)
3975  134A  C6 F8       	add	a,0xf8
3976  134C  32 00 00    	ld	(_v0),a
3977  134F              l_game_copy_sprite_00123:
3978  134F  2A 00 00    	ld	hl,(_v0)
3979  1352  26 00       	ld	h,0x00
3980  1354  01 00 12    	ld	bc,+(_btiles + 0x1200)
3981  1357  09          	add	hl,bc
3982  1358  7E          	ld	a,(hl)
3983  1359  DD 6E FD    	ld	l,(ix-3)
3984  135C  DD 66 FE    	ld	h,(ix-2)
3985  135F  77          	ld	(hl), a
3986  1360  18 13       	jr	l_game_copy_sprite_00129
3987  1362              l_game_copy_sprite_00128:
3988  1362  3E 00       	ld	a,+((_btiles+0x1200) & 0xFF)
3989  1364  DD 86 FA    	add	a,(ix-6)
3990  1367  4F          	ld	c, a
3991  1368  3E 12       	ld	a,+((_btiles+0x1200) / 256)
3992  136A  CE 00       	adc	a,0x00
3993  136C  47          	ld	b, a
3994  136D  0A          	ld	a, (bc)
3995  136E  DD 6E FD    	ld	l,(ix-3)
3996  1371  DD 66 FE    	ld	h,(ix-2)
3997  1374  77          	ld	(hl), a
3998  1375              l_game_copy_sprite_00129:
3999  1375  DD 7E FF    	ld	a,(ix-1)
4000  1378  DD 77 FA    	ld	(ix-6),a
4001  137B  DD 34 FB    	inc	(ix-5)
4002  137E  C2 DA 12    	jp	NZ,l_game_copy_sprite_00130
4003  1381  DD 34 FC    	inc	(ix-4)
4004  1384  C3 DA 12    	jp	l_game_copy_sprite_00130
4005  1387              l_game_copy_sprite_00133:
4006  1387  DD F9       	ld	sp, ix
4007  1389  DD E1       	pop	ix
4008  138B  C9          	ret
4009  138C              	SECTION code_compiler
4010  138C              ;	---------------------------------
4011  138C              ; Function reverse
4012  138C              ; ---------------------------------
4013  138C              _reverse:
4014  138C  CD 00 00    	call	___sdcc_enter_ix
4015  138F  DD 7E 04    	ld	a,(ix+4)
4016  1392  E6 F0       	and	a,0xf0
4017  1394  07          	rlca
4018  1395  07          	rlca
4019  1396  07          	rlca
4020  1397  07          	rlca
4021  1398  E6 0F       	and	a,0x0f
4022  139A  4F          	ld	c, a
4023  139B  DD 7E 04    	ld	a,(ix+4)
4024  139E  E6 0F       	and	a,0x0f
4025  13A0  07          	rlca
4026  13A1  07          	rlca
4027  13A2  07          	rlca
4028  13A3  07          	rlca
4029  13A4  E6 F0       	and	a,0xf0
4030  13A6  B1          	or	a, c
4031  13A7  DD 77 04    	ld	(ix+4),a
4032  13AA  E6 CC       	and	a,0xcc
4033  13AC  4F          	ld	c, a
4034  13AD  CB 39       	srl	c
4035  13AF  CB 39       	srl	c
4036  13B1  DD 7E 04    	ld	a,(ix+4)
4037  13B4  E6 33       	and	a,0x33
4038  13B6  87          	add	a, a
4039  13B7  87          	add	a, a
4040  13B8  B1          	or	a, c
4041  13B9  DD 77 04    	ld	(ix+4),a
4042  13BC  E6 AA       	and	a,0xaa
4043  13BE  4F          	ld	c, a
4044  13BF  CB 39       	srl	c
4045  13C1  DD 7E 04    	ld	a,(ix+4)
4046  13C4  E6 55       	and	a,0x55
4047  13C6  87          	add	a, a
4048  13C7  B1          	or	a, c
4049  13C8  DD 77 04    	ld	(ix+4),a
4050  13CB  6F          	ld	l, a
4051  13CC  DD E1       	pop	ix
4052  13CE  C9          	ret
4053  13CF              	SECTION code_compiler
4054  13CF              ;	---------------------------------
4055  13CF              ; Function page
4056  13CF              ; ---------------------------------
4057  13CF              _page:
4058  13CF  CD 00 00    	call	___sdcc_enter_ix
4059  13D2  DD 7E 04    	ld	a,(ix+4)
4060  13D5  C6 10       	add	a,0x10
4061  13D7  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
4062  13DA  01 FD 7F    	ld	bc,_IO_7FFD
4063  13DD  ED 79       	out	(c),a
4064  13DF  DD E1       	pop	ix
4065  13E1  C9          	ret
4066  13E2              	SECTION code_compiler
4067  13E2              ;	---------------------------------
4068  13E2              ; Function game_intro
4069  13E2              ; ---------------------------------
4070  13E2              _game_intro:
4071  13E2  3A 00 00    	ld	a,(_game_debug)
4072  13E5  B7          	or	a, a
4073  13E6  C2 6D 14    	jp	NZ, l_game_intro_00108
4074  13E9  CD 00 00    	call	_audio_coin_noentiendo
4075  13EC  CD 34 08    	call	_game_cls
4076  13EF  21 00 00    	ld	hl,_v0
4077  13F2  36 00       	ld	(hl),0x00
4078  13F4  21 00 00    	ld	hl,_v2
4079  13F7  36 50       	ld	(hl),0x50
4080  13F9  21 00 00    	ld	hl,_v1
4081  13FC  36 00       	ld	(hl),0x00
4082  13FE              l_game_intro_00103:
4083  13FE  21 00 00    	ld	hl,_v0
4084  1401  7E          	ld	a, (hl)
4085  1402  D6 10       	sub	a,0x10
4086  1404  30 2E       	jr	NC,l_game_intro_00105
4087  1406  7E          	ld	a, (hl)
4088  1407  C6 08       	add	a,0x08
4089  1409  F5          	push	af
4090  140A  33          	inc	sp
4091  140B  2A 00 00    	ld	hl,(_v2)
4092  140E  26 60       	ld	h,0x60
4093  1410  3A 00 00    	ld	a,(_v1)
4094  1413  E5          	push	hl
4095  1414  F5          	push	af
4096  1415  33          	inc	sp
4097  1416  CD 00 00    	call	_NIRVANAP_spriteT_callee
4098  1419  21 00 00    	ld	hl,_v0
4099  141C  34          	inc	(hl)
4100  141D  34          	inc	(hl)
4101  141E  21 00 00    	ld	hl,_v2
4102  1421  34          	inc	(hl)
4103  1422  21 00 00    	ld	hl,_v1
4104  1425  7E          	ld	a,(hl)
4105  1426  3C          	inc	a
4106  1427  77          	ld	(hl),a
4107  1428  D6 07       	sub	a,0x07
4108  142A  20 D2       	jr	NZ,l_game_intro_00103
4109  142C  21 00 00    	ld	hl,_v1
4110  142F  36 00       	ld	(hl),0x00
4111  1431  76          	halt
4112  1432  18 CA       	jr	l_game_intro_00103
4113  1434              l_game_intro_00105:
4114  1434  21 5E 01    	ld	hl,0x015e
4115  1437  CD 00 00    	call	_z80_delay_ms_fastcall
4116  143A  21 08 0A    	ld	hl,0x0a08
4117  143D  E5          	push	hl
4118  143E  21 10 04    	ld	hl,0x0410
4119  1441  E5          	push	hl
4120  1442  AF          	xor	a, a
4121  1443  F5          	push	af
4122  1444  33          	inc	sp
4123  1445  CD 01 06    	call	_game_logo1
4124  1448  F1          	pop	af
4125  1449  33          	inc	sp
4126  144A  21 00 13    	ld	hl,0x1300
4127  144D  E3          	ex	(sp),hl
4128  144E  CD FC 16    	call	_game_text
4129  1451  21 01 14    	ld	hl,0x1401
4130  1454  E3          	ex	(sp),hl
4131  1455  CD FC 16    	call	_game_text
4132  1458  21 02 15    	ld	hl,0x1502
4133  145B  E3          	ex	(sp),hl
4134  145C  CD FC 16    	call	_game_text
4135  145F  21 03 16    	ld	hl,0x1603
4136  1462  E3          	ex	(sp),hl
4137  1463  CD FC 16    	call	_game_text
4138  1466  F1          	pop	af
4139  1467  21 E8 03    	ld	hl,0x03e8
4140  146A  CD 00 00    	call	_z80_delay_ms_fastcall
4141  146D              l_game_intro_00108:
4142  146D  C9          	ret
4143  146E              	SECTION code_compiler
4144  146E              ;	---------------------------------
4145  146E              ; Function game_shoe
4146  146E              ; ---------------------------------
4147  146E              _game_shoe:
4148  146E  CD 00 00    	call	___sdcc_enter_ix
4149  1471  F5          	push	af
4150  1472  CD 34 08    	call	_game_cls
4151  1475  CD 00 00    	call	_audio_game_over
4152  1478  3E 13       	ld	a,0x13
4153  147A  21 00 00    	ld	hl,_scr_curr
4154  147D  96          	sub	a, (hl)
4155  147E  30 0D       	jr	NC,l_game_shoe_00102
4156  1480  21 60 0F    	ld	hl,0x0f60
4157  1483  E5          	push	hl
4158  1484  3E 5A       	ld	a,0x5a
4159  1486  F5          	push	af
4160  1487  33          	inc	sp
4161  1488  CD 00 00    	call	_NIRVANAP_drawT_callee
4162  148B  18 0B       	jr	l_game_shoe_00103
4163  148D              l_game_shoe_00102:
4164  148D  21 60 0F    	ld	hl,0x0f60
4165  1490  E5          	push	hl
4166  1491  3E 5B       	ld	a,0x5b
4167  1493  F5          	push	af
4168  1494  33          	inc	sp
4169  1495  CD 00 00    	call	_NIRVANAP_drawT_callee
4170  1498              l_game_shoe_00103:
4171  1498  21 70 0F    	ld	hl,0x0f70
4172  149B  E5          	push	hl
4173  149C  3E 5C       	ld	a,0x5c
4174  149E  F5          	push	af
4175  149F  33          	inc	sp
4176  14A0  CD 00 00    	call	_NIRVANAP_drawT_callee
4177  14A3  21 00 00    	ld	hl,_v0
4178  14A6  36 10       	ld	(hl),0x10
4179  14A8              l_game_shoe_00104:
4180  14A8  3E 5E       	ld	a,0x5e
4181  14AA  21 00 00    	ld	hl,_v0
4182  14AD  96          	sub	a, (hl)
4183  14AE  38 15       	jr	C,l_game_shoe_00106
4184  14B0  34          	inc	(hl)
4185  14B1  34          	inc	(hl)
4186  14B2  6E          	ld	l,(hl)
4187  14B3  26 0F       	ld	h,0x0f
4188  14B5  E5          	push	hl
4189  14B6  21 00 5D    	ld	hl,0x5d00
4190  14B9  E5          	push	hl
4191  14BA  CD 00 00    	call	_NIRVANAP_spriteT_callee
4192  14BD  21 19 00    	ld	hl,0x0019
4193  14C0  CD 00 00    	call	_z80_delay_ms_fastcall
4194  14C3  18 E3       	jr	l_game_shoe_00104
4195  14C5              l_game_shoe_00106:
4196  14C5  21 00 00    	ld	hl,_v0
4197  14C8  36 01       	ld	(hl),0x01
4198  14CA  2A 00 00    	ld	hl,(_curr_time)
4199  14CD  22 00 00    	ld	(_time_conv),hl
4200  14D0  3E 0A       	ld	a,0x0a
4201  14D2  2A 00 00    	ld	hl,(_scr_curr)
4202  14D5  67          	ld	h,a
4203  14D6  E5          	push	hl
4204  14D7  CD 00 00    	call	__divuchar_callee
4205  14DA  DD 75 FE    	ld	(ix-2),l
4206  14DD  21 05 00    	ld	hl, +(_code0 + 0x0005)
4207  14E0  DD 7E FE    	ld	a,(ix-2)
4208  14E3  77          	ld	(hl),a
4209  14E4  4F          	ld	c, a
4210  14E5  87          	add	a, a
4211  14E6  87          	add	a, a
4212  14E7  81          	add	a, c
4213  14E8  87          	add	a, a
4214  14E9  4F          	ld	c, a
4215  14EA  3A 00 00    	ld	a,(_scr_curr)
4216  14ED  91          	sub	a, c
4217  14EE  DD 77 FF    	ld	(ix-1),a
4218  14F1  21 02 00    	ld	hl, +(_code0 + 0x0002)
4219  14F4  DD 7E FF    	ld	a,(ix-1)
4220  14F7  77          	ld	(hl), a
4221  14F8  2A 00 00    	ld	hl,(_game_lives)
4222  14FB  26 64       	ld	h,0x64
4223  14FD  E5          	push	hl
4224  14FE  CD 00 00    	call	__divuchar_callee
4225  1501  7D          	ld	a,l
4226  1502  32 03 00    	ld	((_code0 + 0x0003)),a
4227  1505  4F          	ld	c,a
4228  1506  3A 00 00    	ld	a,(_game_lives)
4229  1509  5F          	ld	e,a
4230  150A  16 00       	ld	d,0x00
4231  150C  42          	ld	b,d
4232  150D  69          	ld	l, c
4233  150E  60          	ld	h, b
4234  150F  29          	add	hl, hl
4235  1510  09          	add	hl, bc
4236  1511  29          	add	hl, hl
4237  1512  29          	add	hl, hl
4238  1513  29          	add	hl, hl
4239  1514  09          	add	hl, bc
4240  1515  29          	add	hl, hl
4241  1516  29          	add	hl, hl
4242  1517  7B          	ld	a, e
4243  1518  95          	sub	a, l
4244  1519  5F          	ld	e, a
4245  151A  7A          	ld	a, d
4246  151B  9C          	sbc	a, h
4247  151C  57          	ld	d, a
4248  151D  C5          	push	bc
4249  151E  21 0A 00    	ld	hl,0x000a
4250  1521  E5          	push	hl
4251  1522  D5          	push	de
4252  1523  CD 00 00    	call	__divsint_callee
4253  1526  C1          	pop	bc
4254  1527  55          	ld	d,l
4255  1528  21 06 00    	ld	hl, +(_code0 + 0x0006)
4256  152B  72          	ld	(hl), d
4257  152C  79          	ld	a, c
4258  152D  87          	add	a, a
4259  152E  81          	add	a, c
4260  152F  87          	add	a, a
4261  1530  87          	add	a, a
4262  1531  87          	add	a, a
4263  1532  81          	add	a, c
4264  1533  87          	add	a, a
4265  1534  87          	add	a, a
4266  1535  5F          	ld	e, a
4267  1536  D5          	push	de
4268  1537  6A          	ld	l, d
4269  1538  5D          	ld	e, l
4270  1539  29          	add	hl, hl
4271  153A  29          	add	hl, hl
4272  153B  19          	add	hl, de
4273  153C  29          	add	hl, hl
4274  153D  D1          	pop	de
4275  153E  7B          	ld	a, e
4276  153F  85          	add	a, l
4277  1540  5F          	ld	e, a
4278  1541  3A 00 00    	ld	a,(_game_lives)
4279  1544  93          	sub	a, e
4280  1545  21 00 00    	ld	hl,_code0
4281  1548  77          	ld	(hl),a
4282  1549  5F          	ld	e,a
4283  154A  DD 7E FE    	ld	a,(ix-2)
4284  154D  DD 86 FF    	add	a,(ix-1)
4285  1550  6F          	ld	l, a
4286  1551  19          	add	hl, de
4287  1552  7D          	ld	a, l
4288  1553  82          	add	a, d
4289  1554  81          	add	a, c
4290  1555  32 00 00    	ld	(_v3),a
4291  1558  6F          	ld	l,a
4292  1559  26 64       	ld	h,0x64
4293  155B  E5          	push	hl
4294  155C  CD 00 00    	call	__divuchar_callee
4295  155F  7D          	ld	a,l
4296  1560  32 07 00    	ld	((_code0 + 0x0007)),a
4297  1563  4F          	ld	c,a
4298  1564  3A 00 00    	ld	a,(_v3)
4299  1567  5F          	ld	e,a
4300  1568  16 00       	ld	d,0x00
4301  156A  42          	ld	b,d
4302  156B  69          	ld	l, c
4303  156C  60          	ld	h, b
4304  156D  29          	add	hl, hl
4305  156E  09          	add	hl, bc
4306  156F  29          	add	hl, hl
4307  1570  29          	add	hl, hl
4308  1571  29          	add	hl, hl
4309  1572  09          	add	hl, bc
4310  1573  29          	add	hl, hl
4311  1574  29          	add	hl, hl
4312  1575  7B          	ld	a, e
4313  1576  95          	sub	a, l
4314  1577  5F          	ld	e, a
4315  1578  7A          	ld	a, d
4316  1579  9C          	sbc	a, h
4317  157A  57          	ld	d, a
4318  157B  C5          	push	bc
4319  157C  21 0A 00    	ld	hl,0x000a
4320  157F  E5          	push	hl
4321  1580  D5          	push	de
4322  1581  CD 00 00    	call	__divsint_callee
4323  1584  EB          	ex	de,hl
4324  1585  C1          	pop	bc
4325  1586  21 04 00    	ld	hl, +(_code0 + 0x0004)
4326  1589  73          	ld	(hl), e
4327  158A  79          	ld	a, c
4328  158B  87          	add	a, a
4329  158C  81          	add	a, c
4330  158D  87          	add	a, a
4331  158E  87          	add	a, a
4332  158F  87          	add	a, a
4333  1590  81          	add	a, c
4334  1591  87          	add	a, a
4335  1592  87          	add	a, a
4336  1593  4F          	ld	c, a
4337  1594  6B          	ld	l, e
4338  1595  29          	add	hl, hl
4339  1596  29          	add	hl, hl
4340  1597  19          	add	hl, de
4341  1598  29          	add	hl, hl
4342  1599  79          	ld	a, c
4343  159A  85          	add	a, l
4344  159B  4F          	ld	c, a
4345  159C  3A 00 00    	ld	a,(_v3)
4346  159F  91          	sub	a, c
4347  15A0  32 01 00    	ld	((_code0 + 0x0001)),a
4348  15A3  21 00 00    	ld	hl,_screen_ink
4349  15A6  36 46       	ld	(hl),0x46
4350  15A8  21 7A 00    	ld	hl,___str_14
4351  15AB  E5          	push	hl
4352  15AC  21 14 08    	ld	hl,0x0814
4353  15AF  E5          	push	hl
4354  15B0  CD 00 00    	call	_zx_print_str
4355  15B3  21 00 00    	ld	hl,_i
4356  15B6  36 00       	ld	(hl),0x00
4357  15B8              l_game_shoe_00107:
4358  15B8  21 00 00    	ld	hl,_i
4359  15BB  7E          	ld	a, (hl)
4360  15BC  D6 08       	sub	a,0x08
4361  15BE  30 25       	jr	NC,l_game_shoe_00125
4362  15C0  4E          	ld	c,(hl)
4363  15C1  06 00       	ld	b,0x00
4364  15C3  21 00 00    	ld	hl,_code0
4365  15C6  09          	add	hl,bc
4366  15C7  4E          	ld	c, (hl)
4367  15C8  06 00       	ld	b,0x00
4368  15CA  21 00 00    	ld	hl,_game_encode
4369  15CD  09          	add	hl, bc
4370  15CE  56          	ld	d, (hl)
4371  15CF  3A 00 00    	ld	a,(_i)
4372  15D2  C6 0F       	add	a,0x0f
4373  15D4  5F          	ld	e, a
4374  15D5  D5          	push	de
4375  15D6  3E 14       	ld	a,0x14
4376  15D8  F5          	push	af
4377  15D9  33          	inc	sp
4378  15DA  CD DA 16    	call	_zx_print_char
4379  15DD  F1          	pop	af
4380  15DE  33          	inc	sp
4381  15DF  21 00 00    	ld	hl,_i
4382  15E2  34          	inc	(hl)
4383  15E3  18 D3       	jr	l_game_shoe_00107
4384  15E5              l_game_shoe_00125:
4385  15E5              l_game_shoe_00113:
4386  15E5  3A 00 00    	ld	a,(_v0)
4387  15E8  B7          	or	a, a
4388  15E9  CA 68 16    	jp	Z, l_game_shoe_00116
4389  15EC  21 0C 38    	ld	hl,0x380c
4390  15EF  E5          	push	hl
4391  15F0  3E 08       	ld	a,0x08
4392  15F2  F5          	push	af
4393  15F3  33          	inc	sp
4394  15F4  21 00 00    	ld	hl,_attrib_osd
4395  15F7  E5          	push	hl
4396  15F8  CD 13 0E    	call	_game_paint_attrib
4397  15FB  F1          	pop	af
4398  15FC  33          	inc	sp
4399  15FD  21 82 00    	ld	hl,___str_15
4400  1600  E3          	ex	(sp),hl
4401  1601  21 06 08    	ld	hl,0x0806
4402  1604  E5          	push	hl
4403  1605  CD 00 00    	call	_zx_print_str
4404  1608  21 18 38    	ld	hl,0x3818
4405  160B  E5          	push	hl
4406  160C  3E 14       	ld	a,0x14
4407  160E  F5          	push	af
4408  160F  33          	inc	sp
4409  1610  21 00 00    	ld	hl,_attrib_osd
4410  1613  E5          	push	hl
4411  1614  CD 13 0E    	call	_game_paint_attrib
4412  1617  F1          	pop	af
4413  1618  33          	inc	sp
4414  1619  21 87 00    	ld	hl,___str_16
4415  161C  E3          	ex	(sp),hl
4416  161D  21 06 14    	ld	hl,0x1406
4417  1620  E5          	push	hl
4418  1621  CD 00 00    	call	_zx_print_str
4419  1624  01 03 00    	ld	bc,_attrib_osd + 3
4420  1627  0A          	ld	a, (bc)
4421  1628  32 00 00    	ld	(_v1),a
4422  162B  11 02 00    	ld	de,_attrib_osd + 2
4423  162E  1A          	ld	a, (de)
4424  162F  02          	ld	(bc), a
4425  1630  01 01 00    	ld	bc,_attrib_osd + 1
4426  1633  0A          	ld	a, (bc)
4427  1634  12          	ld	(de), a
4428  1635  3A 00 00    	ld	a,(_attrib_osd)
4429  1638  02          	ld	(bc), a
4430  1639  3A 00 00    	ld	a,(_v1)
4431  163C  32 00 00    	ld	(_attrib_osd),a
4432  163F  CD 00 00    	call	_in_inkey
4433  1642  7D          	ld	a,l
4434  1643  32 00 00    	ld	(_v2),a
4435  1646  B7          	or	a, a
4436  1647  20 11       	jr	NZ,l_game_shoe_00110
4437  1649  21 F4 01    	ld	hl,0x01f4
4438  164C  E5          	push	hl
4439  164D  21 00 00    	ld	hl,_time_conv
4440  1650  E5          	push	hl
4441  1651  CD 35 0E    	call	_game_check_time
4442  1654  F1          	pop	af
4443  1655  F1          	pop	af
4444  1656  7D          	ld	a, l
4445  1657  B7          	or	a, a
4446  1658  28 05       	jr	Z,l_game_shoe_00111
4447  165A              l_game_shoe_00110:
4448  165A  21 00 00    	ld	hl,_v0
4449  165D  36 00       	ld	(hl),0x00
4450  165F              l_game_shoe_00111:
4451  165F  21 0A 00    	ld	hl,0x000a
4452  1662  CD 00 00    	call	_z80_delay_ms_fastcall
4453  1665  C3 E5 15    	jp	l_game_shoe_00113
4454  1668              l_game_shoe_00116:
4455  1668  F1          	pop	af
4456  1669  DD E1       	pop	ix
4457  166B  C9          	ret
4458  166C              	SECTION rodata_compiler
4459  007A              ___str_14:
4460  007A  43 4F 44 45 20 3A 20 
                        	DEFM "CODE : "
4461  0081  00          	DEFB 0x00
4462  0082              	SECTION rodata_compiler
4463  0082              ___str_15:
4464  0082  47 61 6D 65 	DEFM "Game"
4465  0086  00          	DEFB 0x00
4466  0087              	SECTION rodata_compiler
4467  0087              ___str_16:
4468  0087  4F 76 65 72 	DEFM "Over"
4469  008B  00          	DEFB 0x00
4470  008C              	SECTION code_compiler
4471  166C              ;	---------------------------------
4472  166C              ; Function game_set_attr
4473  166C              ; ---------------------------------
4474  166C              _game_set_attr:
4475  166C  CD 00 00    	call	___sdcc_enter_ix
4476  166F  21 00 00    	ld	hl,_attribs
4477  1672  7E          	ld	a, (hl)
4478  1673  DD 86 04    	add	a,(ix+4)
4479  1676  5F          	ld	e, a
4480  1677  23          	inc	hl
4481  1678  7E          	ld	a, (hl)
4482  1679  CE 00       	adc	a,0x00
4483  167B  57          	ld	d, a
4484  167C  1A          	ld	a, (de)
4485  167D  4F          	ld	c, a
4486  167E  06 00       	ld	b,0x00
4487  1680  EB          	ex	de,hl
4488  1681  23          	inc	hl
4489  1682  66          	ld	h, (hl)
4490  1683  2E 00       	ld	l,0x00
4491  1685  09          	add	hl,bc
4492  1686  4D          	ld	c, l
4493  1687  44          	ld	b, h
4494  1688  21 00 00    	ld	hl,_deltas
4495  168B  7E          	ld	a, (hl)
4496  168C  DD 86 05    	add	a,(ix+5)
4497  168F  5F          	ld	e, a
4498  1690  23          	inc	hl
4499  1691  7E          	ld	a, (hl)
4500  1692  CE 00       	adc	a,0x00
4501  1694  57          	ld	d, a
4502  1695  1A          	ld	a, (de)
4503  1696  6F          	ld	l, a
4504  1697  26 00       	ld	h,0x00
4505  1699  09          	add	hl, bc
4506  169A  DD 7E 06    	ld	a,(ix+6)
4507  169D  77          	ld	(hl),a
4508  169E  DD E1       	pop	ix
4509  16A0  C9          	ret
4510  16A1              	SECTION code_compiler
4511  16A1              ;	---------------------------------
4512  16A1              ; Function game_crumble
4513  16A1              ; ---------------------------------
4514  16A1              _game_crumble:
4515  16A1  3A 08 00    	ld	a,(_state + 0x0008)
4516  16A4  CB 47       	bit	0, a
4517  16A6  20 31       	jr	NZ,l_game_crumble_00104
4518  16A8  CB 4F       	bit	1, a
4519  16AA  20 2D       	jr	NZ,l_game_crumble_00104
4520  16AC  3A 08 00    	ld	a,(_col + 0x0008)
4521  16AF  32 00 00    	ld	(_s_col1),a
4522  16B2  3A 08 00    	ld	a,(_lin + 0x0008)
4523  16B5  C6 10       	add	a,0x10
4524  16B7  4F          	ld	c, a
4525  16B8  3A 00 00    	ld	a,(_s_col1)
4526  16BB  F5          	push	af
4527  16BC  33          	inc	sp
4528  16BD  79          	ld	a, c
4529  16BE  F5          	push	af
4530  16BF  33          	inc	sp
4531  16C0  CD 00 00    	call	_spr_calc_index
4532  16C3  F1          	pop	af
4533  16C4  22 00 00    	ld	(_index1),hl
4534  16C7  CD 00 00    	call	_player_crumble
4535  16CA  21 00 00    	ld	hl,_index1
4536  16CD  34          	inc	(hl)
4537  16CE  20 02       	jr	NZ,l_game_crumble_00118
4538  16D0  23          	inc	hl
4539  16D1  34          	inc	(hl)
4540  16D2              l_game_crumble_00118:
4541  16D2  21 00 00    	ld	hl,_s_col1
4542  16D5  34          	inc	(hl)
4543  16D6  CD 00 00    	call	_player_crumble
4544  16D9              l_game_crumble_00104:
4545  16D9  C9          	ret
4546  16DA              	SECTION code_compiler
4547  16DA              ;	---------------------------------
4548  16DA              ; Function zx_print_char
4549  16DA              ; ---------------------------------
4550  16DA              _zx_print_char:
4551  16DA  CD 00 00    	call	___sdcc_enter_ix
4552  16DD  F5          	push	af
4553  16DE  21 00 00    	ld	hl,0x0000
4554  16E1  39          	add	hl, sp
4555  16E2  DD 7E 06    	ld	a,(ix+6)
4556  16E5  77          	ld	(hl),a
4557  16E6  5D          	ld	e,l
4558  16E7  54          	ld	d,h
4559  16E8  4D          	ld	c,l
4560  16E9  44          	ld	b,h
4561  16EA  13          	inc	de
4562  16EB  AF          	xor	a, a
4563  16EC  12          	ld	(de), a
4564  16ED  C5          	push	bc
4565  16EE  DD 66 05    	ld	h,(ix+5)
4566  16F1  DD 6E 04    	ld	l,(ix+4)
4567  16F4  E5          	push	hl
4568  16F5  CD 00 00    	call	_zx_print_str
4569  16F8  F1          	pop	af
4570  16F9  DD E1       	pop	ix
4571  16FB  C9          	ret
4572  16FC              	SECTION code_compiler
4573  16FC              ;	---------------------------------
4574  16FC              ; Function game_text
4575  16FC              ; ---------------------------------
4576  16FC              _game_text:
4577  16FC  CD 00 00    	call	___sdcc_enter_ix
4578  16FF  21 DE FF    	ld	hl, -34
4579  1702  39          	add	hl, sp
4580  1703  F9          	ld	sp, hl
4581  1704  01 00 00    	ld	bc,_texts+0
4582  1707  DD 6E 04    	ld	l,(ix+4)
4583  170A  26 00       	ld	h,0x00
4584  170C  29          	add	hl, hl
4585  170D  29          	add	hl, hl
4586  170E  29          	add	hl, hl
4587  170F  29          	add	hl, hl
4588  1710  29          	add	hl, hl
4589  1711  09          	add	hl,bc
4590  1712  4D          	ld	c, l
4591  1713  44          	ld	b, h
4592  1714  21 00 00    	ld	hl,0x0000
4593  1717  39          	add	hl, sp
4594  1718  DD 75 FE    	ld	(ix-2),l
4595  171B  DD 74 FF    	ld	(ix-1),h
4596  171E  C5          	push	bc
4597  171F  E5          	push	hl
4598  1720  3E 06       	ld	a,0x06
4599  1722  F5          	push	af
4600  1723  33          	inc	sp
4601  1724  CD CF 13    	call	_page
4602  1727  33          	inc	sp
4603  1728  D1          	pop	de
4604  1729  E1          	pop	hl
4605  172A  01 20 00    	ld	bc,0x0020
4606  172D  ED B0       	ldir
4607  172F  AF          	xor	a, a
4608  1730  F5          	push	af
4609  1731  33          	inc	sp
4610  1732  CD CF 13    	call	_page
4611  1735  33          	inc	sp
4612  1736  0E 01       	ld	c,0x01
4613  1738  21 00 00    	ld	hl,_v0
4614  173B  36 00       	ld	(hl),0x00
4615  173D  21 00 00    	ld	hl,_s_col1
4616  1740  36 00       	ld	(hl),0x00
4617  1742  21 00 00    	ld	hl,_color
4618  1745  36 01       	ld	(hl),0x01
4619  1747              l_game_text_00108:
4620  1747  79          	ld	a, c
4621  1748  B7          	or	a, a
4622  1749  28 66       	jr	Z,l_game_text_00111
4623  174B  21 00 00    	ld	hl,_color
4624  174E  36 01       	ld	(hl),0x01
4625  1750              l_game_text_00101:
4626  1750  21 00 00    	ld	hl,_color
4627  1753  7E          	ld	a, (hl)
4628  1754  D6 08       	sub	a,0x08
4629  1756  30 32       	jr	NC,l_game_text_00103
4630  1758  7E          	ld	a, (hl)
4631  1759  F6 40       	or	a,0x40
4632  175B  32 00 00    	ld	(_screen_ink),a
4633  175E  DD 7E FE    	ld	a,(ix-2)
4634  1761  21 00 00    	ld	hl,_v0
4635  1764  86          	add	a, (hl)
4636  1765  5F          	ld	e, a
4637  1766  DD 7E FF    	ld	a,(ix-1)
4638  1769  CE 00       	adc	a,0x00
4639  176B  57          	ld	d, a
4640  176C  1A          	ld	a, (de)
4641  176D  47          	ld	b, a
4642  176E  C5          	push	bc
4643  176F  C5          	push	bc
4644  1770  33          	inc	sp
4645  1771  2A FF FF    	ld	hl,(_s_col1-1)
4646  1774  DD 6E 05    	ld	l,(ix+5)
4647  1777  E5          	push	hl
4648  1778  CD DA 16    	call	_zx_print_char
4649  177B  F1          	pop	af
4650  177C  33          	inc	sp
4651  177D  21 01 00    	ld	hl,0x0001
4652  1780  CD 00 00    	call	_z80_delay_ms_fastcall
4653  1783  C1          	pop	bc
4654  1784  21 00 00    	ld	hl,_color
4655  1787  34          	inc	(hl)
4656  1788  18 C6       	jr	l_game_text_00101
4657  178A              l_game_text_00103:
4658  178A  C5          	push	bc
4659  178B  21 08 00    	ld	hl,0x0008
4660  178E  CD 00 00    	call	_z80_delay_ms_fastcall
4661  1791  C1          	pop	bc
4662  1792  21 00 00    	ld	hl,_v0
4663  1795  34          	inc	(hl)
4664  1796  21 00 00    	ld	hl,_s_col1
4665  1799  34          	inc	(hl)
4666  179A  21 00 00    	ld	hl,_color
4667  179D  34          	inc	(hl)
4668  179E  3E 07       	ld	a,0x07
4669  17A0  96          	sub	a, (hl)
4670  17A1  30 02       	jr	NC,l_game_text_00105
4671  17A3  36 01       	ld	(hl),0x01
4672  17A5              l_game_text_00105:
4673  17A5  3E 1F       	ld	a,0x1f
4674  17A7  21 00 00    	ld	hl,_v0
4675  17AA  96          	sub	a, (hl)
4676  17AB  30 9A       	jr	NC,l_game_text_00108
4677  17AD  0E 00       	ld	c,0x00
4678  17AF  18 96       	jr	l_game_text_00108
4679  17B1              l_game_text_00111:
4680  17B1  DD F9       	ld	sp, ix
4681  17B3  DD E1       	pop	ix
4682  17B5  C9          	ret
4683  17B6              	SECTION IGNORE
4684  0000              
