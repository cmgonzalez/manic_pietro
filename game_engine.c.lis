1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_flash_exit
204   0000              	GLOBAL _game_anim_conveyor
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_tick
207   0000              	GLOBAL _game_loop
208   0000              	GLOBAL _game_fps
209   0000              	GLOBAL _game_draw_map
210   0000              	GLOBAL _game_cell_paint_index
211   0000              	GLOBAL _game_cell_paint
212   0000              	GLOBAL _game_print_footer
213   0000              	GLOBAL _game_print_score
214   0000              	GLOBAL _game_cls
215   0000              	GLOBAL _game_update_stats
216   0000              	GLOBAL _game_start_timer
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_rotate_attrib
225   0000              	GLOBAL _game_rotate_attrib_osd
226   0000              	GLOBAL _game_attribs
227   0000              	GLOBAL _game_page_map
228   0000              ;--------------------------------------------------------
229   0000              ; Externals used
230   0000              ;--------------------------------------------------------
231   0000              	GLOBAL _ffsll_callee
232   0000              	GLOBAL _ffsll
233   0000              	GLOBAL _strxfrm_callee
234   0000              	GLOBAL _strxfrm
235   0000              	GLOBAL _strupr_fastcall
236   0000              	GLOBAL _strupr
237   0000              	GLOBAL _strtok_r_callee
238   0000              	GLOBAL _strtok_r
239   0000              	GLOBAL _strtok_callee
240   0000              	GLOBAL _strtok
241   0000              	GLOBAL _strstrip_fastcall
242   0000              	GLOBAL _strstrip
243   0000              	GLOBAL _strstr_callee
244   0000              	GLOBAL _strstr
245   0000              	GLOBAL _strspn_callee
246   0000              	GLOBAL _strspn
247   0000              	GLOBAL _strsep_callee
248   0000              	GLOBAL _strsep
249   0000              	GLOBAL _strrstrip_fastcall
250   0000              	GLOBAL _strrstrip
251   0000              	GLOBAL _strrstr_callee
252   0000              	GLOBAL _strrstr
253   0000              	GLOBAL _strrspn_callee
254   0000              	GLOBAL _strrspn
255   0000              	GLOBAL _strrev_fastcall
256   0000              	GLOBAL _strrev
257   0000              	GLOBAL _strrcspn_callee
258   0000              	GLOBAL _strrcspn
259   0000              	GLOBAL _strrchr_callee
260   0000              	GLOBAL _strrchr
261   0000              	GLOBAL _strpbrk_callee
262   0000              	GLOBAL _strpbrk
263   0000              	GLOBAL _strnlen_callee
264   0000              	GLOBAL _strnlen
265   0000              	GLOBAL _strnicmp_callee
266   0000              	GLOBAL _strnicmp
267   0000              	GLOBAL _strndup_callee
268   0000              	GLOBAL _strndup
269   0000              	GLOBAL _strncpy_callee
270   0000              	GLOBAL _strncpy
271   0000              	GLOBAL _strncmp_callee
272   0000              	GLOBAL _strncmp
273   0000              	GLOBAL _strnchr_callee
274   0000              	GLOBAL _strnchr
275   0000              	GLOBAL _strncat_callee
276   0000              	GLOBAL _strncat
277   0000              	GLOBAL _strncasecmp_callee
278   0000              	GLOBAL _strncasecmp
279   0000              	GLOBAL _strlwr_fastcall
280   0000              	GLOBAL _strlwr
281   0000              	GLOBAL _strlen_fastcall
282   0000              	GLOBAL _strlen
283   0000              	GLOBAL _strlcpy_callee
284   0000              	GLOBAL _strlcpy
285   0000              	GLOBAL _strlcat_callee
286   0000              	GLOBAL _strlcat
287   0000              	GLOBAL _stricmp_callee
288   0000              	GLOBAL _stricmp
289   0000              	GLOBAL _strerror_fastcall
290   0000              	GLOBAL _strerror
291   0000              	GLOBAL _strdup_fastcall
292   0000              	GLOBAL _strdup
293   0000              	GLOBAL _strcspn_callee
294   0000              	GLOBAL _strcspn
295   0000              	GLOBAL _strcpy_callee
296   0000              	GLOBAL _strcpy
297   0000              	GLOBAL _strcoll_callee
298   0000              	GLOBAL _strcoll
299   0000              	GLOBAL _strcmp_callee
300   0000              	GLOBAL _strcmp
301   0000              	GLOBAL _strchrnul_callee
302   0000              	GLOBAL _strchrnul
303   0000              	GLOBAL _strchr_callee
304   0000              	GLOBAL _strchr
305   0000              	GLOBAL _strcat_callee
306   0000              	GLOBAL _strcat
307   0000              	GLOBAL _strcasecmp_callee
308   0000              	GLOBAL _strcasecmp
309   0000              	GLOBAL _stpncpy_callee
310   0000              	GLOBAL _stpncpy
311   0000              	GLOBAL _stpcpy_callee
312   0000              	GLOBAL _stpcpy
313   0000              	GLOBAL _memswap_callee
314   0000              	GLOBAL _memswap
315   0000              	GLOBAL _memset_callee
316   0000              	GLOBAL _memset
317   0000              	GLOBAL _memrchr_callee
318   0000              	GLOBAL _memrchr
319   0000              	GLOBAL _memmove_callee
320   0000              	GLOBAL _memmove
321   0000              	GLOBAL _memmem_callee
322   0000              	GLOBAL _memmem
323   0000              	GLOBAL _memcpy_callee
324   0000              	GLOBAL _memcpy
325   0000              	GLOBAL _memcmp_callee
326   0000              	GLOBAL _memcmp
327   0000              	GLOBAL _memchr_callee
328   0000              	GLOBAL _memchr
329   0000              	GLOBAL _memccpy_callee
330   0000              	GLOBAL _memccpy
331   0000              	GLOBAL _ffsl_fastcall
332   0000              	GLOBAL _ffsl
333   0000              	GLOBAL _ffs_fastcall
334   0000              	GLOBAL _ffs
335   0000              	GLOBAL __strrstrip__fastcall
336   0000              	GLOBAL __strrstrip_
337   0000              	GLOBAL __memupr__callee
338   0000              	GLOBAL __memupr_
339   0000              	GLOBAL __memstrcpy__callee
340   0000              	GLOBAL __memstrcpy_
341   0000              	GLOBAL __memlwr__callee
342   0000              	GLOBAL __memlwr_
343   0000              	GLOBAL _rawmemchr_callee
344   0000              	GLOBAL _rawmemchr
345   0000              	GLOBAL _strnset_callee
346   0000              	GLOBAL _strnset
347   0000              	GLOBAL _strset_callee
348   0000              	GLOBAL _strset
349   0000              	GLOBAL _rindex_callee
350   0000              	GLOBAL _rindex
351   0000              	GLOBAL _index_callee
352   0000              	GLOBAL _index
353   0000              	GLOBAL _bzero_callee
354   0000              	GLOBAL _bzero
355   0000              	GLOBAL _bcopy_callee
356   0000              	GLOBAL _bcopy
357   0000              	GLOBAL _bcmp_callee
358   0000              	GLOBAL _bcmp
359   0000              	GLOBAL _ulltoa_callee
360   0000              	GLOBAL _ulltoa
361   0000              	GLOBAL _strtoull_callee
362   0000              	GLOBAL _strtoull
363   0000              	GLOBAL _strtoll_callee
364   0000              	GLOBAL _strtoll
365   0000              	GLOBAL _lltoa_callee
366   0000              	GLOBAL _lltoa
367   0000              	GLOBAL _llabs_callee
368   0000              	GLOBAL _llabs
369   0000              	GLOBAL __lldivu__callee
370   0000              	GLOBAL __lldivu_
371   0000              	GLOBAL __lldiv__callee
372   0000              	GLOBAL __lldiv_
373   0000              	GLOBAL _atoll_callee
374   0000              	GLOBAL _atoll
375   0000              	GLOBAL _realloc_unlocked_callee
376   0000              	GLOBAL _realloc_unlocked
377   0000              	GLOBAL _malloc_unlocked_fastcall
378   0000              	GLOBAL _malloc_unlocked
379   0000              	GLOBAL _free_unlocked_fastcall
380   0000              	GLOBAL _free_unlocked
381   0000              	GLOBAL _calloc_unlocked_callee
382   0000              	GLOBAL _calloc_unlocked
383   0000              	GLOBAL _aligned_alloc_unlocked_callee
384   0000              	GLOBAL _aligned_alloc_unlocked
385   0000              	GLOBAL _realloc_callee
386   0000              	GLOBAL _realloc
387   0000              	GLOBAL _malloc_fastcall
388   0000              	GLOBAL _malloc
389   0000              	GLOBAL _free_fastcall
390   0000              	GLOBAL _free
391   0000              	GLOBAL _calloc_callee
392   0000              	GLOBAL _calloc
393   0000              	GLOBAL _aligned_alloc_callee
394   0000              	GLOBAL _aligned_alloc
395   0000              	GLOBAL _utoa_callee
396   0000              	GLOBAL _utoa
397   0000              	GLOBAL _ultoa_callee
398   0000              	GLOBAL _ultoa
399   0000              	GLOBAL _system_fastcall
400   0000              	GLOBAL _system
401   0000              	GLOBAL _strtoul_callee
402   0000              	GLOBAL _strtoul
403   0000              	GLOBAL _strtol_callee
404   0000              	GLOBAL _strtol
405   0000              	GLOBAL _strtof_callee
406   0000              	GLOBAL _strtof
407   0000              	GLOBAL _strtod_callee
408   0000              	GLOBAL _strtod
409   0000              	GLOBAL _srand_fastcall
410   0000              	GLOBAL _srand
411   0000              	GLOBAL _rand
412   0000              	GLOBAL _quick_exit_fastcall
413   0000              	GLOBAL _quick_exit
414   0000              	GLOBAL _qsort_callee
415   0000              	GLOBAL _qsort
416   0000              	GLOBAL _ltoa_callee
417   0000              	GLOBAL _ltoa
418   0000              	GLOBAL _labs_fastcall
419   0000              	GLOBAL _labs
420   0000              	GLOBAL _itoa_callee
421   0000              	GLOBAL _itoa
422   0000              	GLOBAL _ftoh_callee
423   0000              	GLOBAL _ftoh
424   0000              	GLOBAL _ftog_callee
425   0000              	GLOBAL _ftog
426   0000              	GLOBAL _ftoe_callee
427   0000              	GLOBAL _ftoe
428   0000              	GLOBAL _ftoa_callee
429   0000              	GLOBAL _ftoa
430   0000              	GLOBAL _exit_fastcall
431   0000              	GLOBAL _exit
432   0000              	GLOBAL _dtoh_callee
433   0000              	GLOBAL _dtoh
434   0000              	GLOBAL _dtog_callee
435   0000              	GLOBAL _dtog
436   0000              	GLOBAL _dtoe_callee
437   0000              	GLOBAL _dtoe
438   0000              	GLOBAL _dtoa_callee
439   0000              	GLOBAL _dtoa
440   0000              	GLOBAL _bsearch_callee
441   0000              	GLOBAL _bsearch
442   0000              	GLOBAL _atol_fastcall
443   0000              	GLOBAL _atol
444   0000              	GLOBAL _atoi_fastcall
445   0000              	GLOBAL _atoi
446   0000              	GLOBAL _atof_fastcall
447   0000              	GLOBAL _atof
448   0000              	GLOBAL _atexit_fastcall
449   0000              	GLOBAL _atexit
450   0000              	GLOBAL _at_quick_exit_fastcall
451   0000              	GLOBAL _at_quick_exit
452   0000              	GLOBAL _abs_fastcall
453   0000              	GLOBAL _abs
454   0000              	GLOBAL _abort
455   0000              	GLOBAL __strtou__callee
456   0000              	GLOBAL __strtou_
457   0000              	GLOBAL __strtoi__callee
458   0000              	GLOBAL __strtoi_
459   0000              	GLOBAL __random_uniform_xor_8__fastcall
460   0000              	GLOBAL __random_uniform_xor_8_
461   0000              	GLOBAL __random_uniform_xor_32__fastcall
462   0000              	GLOBAL __random_uniform_xor_32_
463   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
464   0000              	GLOBAL __random_uniform_cmwc_8_
465   0000              	GLOBAL __shellsort__callee
466   0000              	GLOBAL __shellsort_
467   0000              	GLOBAL __quicksort__callee
468   0000              	GLOBAL __quicksort_
469   0000              	GLOBAL __insertion_sort__callee
470   0000              	GLOBAL __insertion_sort_
471   0000              	GLOBAL __ldivu__callee
472   0000              	GLOBAL __ldivu_
473   0000              	GLOBAL __ldiv__callee
474   0000              	GLOBAL __ldiv_
475   0000              	GLOBAL __divu__callee
476   0000              	GLOBAL __divu_
477   0000              	GLOBAL __div__callee
478   0000              	GLOBAL __div_
479   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
480   0000              	GLOBAL _NIRVANAP_drawTW_raw
481   0000              	GLOBAL _NIRVANAP_drawTW_callee
482   0000              	GLOBAL _NIRVANAP_drawTW
483   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
484   0000              	GLOBAL _NIRVANAP_drawW_raw
485   0000              	GLOBAL _NIRVANAP_drawW_callee
486   0000              	GLOBAL _NIRVANAP_drawW
487   0000              	GLOBAL _NIRVANAP_spriteT_callee
488   0000              	GLOBAL _NIRVANAP_spriteT
489   0000              	GLOBAL _NIRVANAP_fillC_callee
490   0000              	GLOBAL _NIRVANAP_fillC
491   0000              	GLOBAL _NIRVANAP_readC_callee
492   0000              	GLOBAL _NIRVANAP_readC
493   0000              	GLOBAL _NIRVANAP_paintC_callee
494   0000              	GLOBAL _NIRVANAP_paintC
495   0000              	GLOBAL _NIRVANAP_printC_callee
496   0000              	GLOBAL _NIRVANAP_printC
497   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
498   0000              	GLOBAL _NIRVANAP_fillT_raw
499   0000              	GLOBAL _NIRVANAP_fillT_callee
500   0000              	GLOBAL _NIRVANAP_fillT
501   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
502   0000              	GLOBAL _NIRVANAP_drawT_raw
503   0000              	GLOBAL _NIRVANAP_drawT_callee
504   0000              	GLOBAL _NIRVANAP_drawT
505   0000              	GLOBAL _NIRVANAP_stop
506   0000              	GLOBAL _NIRVANAP_start
507   0000              	GLOBAL _zx_print_str
508   0000              	GLOBAL _zx_print_int
509   0000              	GLOBAL _zx_print_chr
510   0000              	GLOBAL _zx_isr
511   0000              	GLOBAL _z80_otdr_callee
512   0000              	GLOBAL _z80_otdr
513   0000              	GLOBAL _z80_otir_callee
514   0000              	GLOBAL _z80_otir
515   0000              	GLOBAL _z80_outp_callee
516   0000              	GLOBAL _z80_outp
517   0000              	GLOBAL _z80_indr_callee
518   0000              	GLOBAL _z80_indr
519   0000              	GLOBAL _z80_inir_callee
520   0000              	GLOBAL _z80_inir
521   0000              	GLOBAL _z80_inp_fastcall
522   0000              	GLOBAL _z80_inp
523   0000              	GLOBAL _z80_set_int_state_fastcall
524   0000              	GLOBAL _z80_set_int_state
525   0000              	GLOBAL _z80_get_int_state
526   0000              	GLOBAL _z80_delay_tstate_fastcall
527   0000              	GLOBAL _z80_delay_tstate
528   0000              	GLOBAL _z80_delay_ms_fastcall
529   0000              	GLOBAL _z80_delay_ms
530   0000              	GLOBAL _im2_remove_generic_callback_callee
531   0000              	GLOBAL _im2_remove_generic_callback
532   0000              	GLOBAL _im2_prepend_generic_callback_callee
533   0000              	GLOBAL _im2_prepend_generic_callback
534   0000              	GLOBAL _im2_append_generic_callback_callee
535   0000              	GLOBAL _im2_append_generic_callback
536   0000              	GLOBAL _im2_create_generic_isr_8080_callee
537   0000              	GLOBAL _im2_create_generic_isr_8080
538   0000              	GLOBAL _im2_create_generic_isr_callee
539   0000              	GLOBAL _im2_create_generic_isr
540   0000              	GLOBAL _im2_install_isr_callee
541   0000              	GLOBAL _im2_install_isr
542   0000              	GLOBAL _im2_init_fastcall
543   0000              	GLOBAL _im2_init
544   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
545   0000              	GLOBAL _intrinsic_swap_word_32
546   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
547   0000              	GLOBAL _intrinsic_swap_endian_32
548   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
549   0000              	GLOBAL _intrinsic_swap_endian_16
550   0000              	GLOBAL _intrinsic_return_de
551   0000              	GLOBAL _intrinsic_return_bc
552   0000              	GLOBAL _intrinsic_exx
553   0000              	GLOBAL _intrinsic_ex_de_hl
554   0000              	GLOBAL _intrinsic_nop
555   0000              	GLOBAL _intrinsic_im_2
556   0000              	GLOBAL _intrinsic_im_1
557   0000              	GLOBAL _intrinsic_im_0
558   0000              	GLOBAL _intrinsic_retn
559   0000              	GLOBAL _intrinsic_reti
560   0000              	GLOBAL _intrinsic_halt
561   0000              	GLOBAL _intrinsic_ei
562   0000              	GLOBAL _intrinsic_di
563   0000              	GLOBAL _intrinsic_stub
564   0000              	GLOBAL _intrinsic_ini
565   0000              	GLOBAL _intrinsic_outi
566   0000              	GLOBAL _intrinsic_ldi
567   0000              	GLOBAL _zx_pattern_fill_callee
568   0000              	GLOBAL _zx_pattern_fill
569   0000              	GLOBAL _zx_saddrpup_fastcall
570   0000              	GLOBAL _zx_saddrpup
571   0000              	GLOBAL _zx_saddrpright_callee
572   0000              	GLOBAL _zx_saddrpright
573   0000              	GLOBAL _zx_saddrpleft_callee
574   0000              	GLOBAL _zx_saddrpleft
575   0000              	GLOBAL _zx_saddrpdown_fastcall
576   0000              	GLOBAL _zx_saddrpdown
577   0000              	GLOBAL _zx_saddrcup_fastcall
578   0000              	GLOBAL _zx_saddrcup
579   0000              	GLOBAL _zx_saddrcright_fastcall
580   0000              	GLOBAL _zx_saddrcright
581   0000              	GLOBAL _zx_saddrcleft_fastcall
582   0000              	GLOBAL _zx_saddrcleft
583   0000              	GLOBAL _zx_saddrcdown_fastcall
584   0000              	GLOBAL _zx_saddrcdown
585   0000              	GLOBAL _zx_saddr2py_fastcall
586   0000              	GLOBAL _zx_saddr2py
587   0000              	GLOBAL _zx_saddr2px_fastcall
588   0000              	GLOBAL _zx_saddr2px
589   0000              	GLOBAL _zx_saddr2cy_fastcall
590   0000              	GLOBAL _zx_saddr2cy
591   0000              	GLOBAL _zx_saddr2cx_fastcall
592   0000              	GLOBAL _zx_saddr2cx
593   0000              	GLOBAL _zx_saddr2aaddr_fastcall
594   0000              	GLOBAL _zx_saddr2aaddr
595   0000              	GLOBAL _zx_py2saddr_fastcall
596   0000              	GLOBAL _zx_py2saddr
597   0000              	GLOBAL _zx_py2aaddr_fastcall
598   0000              	GLOBAL _zx_py2aaddr
599   0000              	GLOBAL _zx_pxy2saddr_callee
600   0000              	GLOBAL _zx_pxy2saddr
601   0000              	GLOBAL _zx_pxy2aaddr_callee
602   0000              	GLOBAL _zx_pxy2aaddr
603   0000              	GLOBAL _zx_px2bitmask_fastcall
604   0000              	GLOBAL _zx_px2bitmask
605   0000              	GLOBAL _zx_cy2saddr_fastcall
606   0000              	GLOBAL _zx_cy2saddr
607   0000              	GLOBAL _zx_cy2aaddr_fastcall
608   0000              	GLOBAL _zx_cy2aaddr
609   0000              	GLOBAL _zx_cxy2saddr_callee
610   0000              	GLOBAL _zx_cxy2saddr
611   0000              	GLOBAL _zx_cxy2aaddr_callee
612   0000              	GLOBAL _zx_cxy2aaddr
613   0000              	GLOBAL _zx_bitmask2px_fastcall
614   0000              	GLOBAL _zx_bitmask2px
615   0000              	GLOBAL _zx_aaddrcup_fastcall
616   0000              	GLOBAL _zx_aaddrcup
617   0000              	GLOBAL _zx_aaddrcright_fastcall
618   0000              	GLOBAL _zx_aaddrcright
619   0000              	GLOBAL _zx_aaddrcleft_fastcall
620   0000              	GLOBAL _zx_aaddrcleft
621   0000              	GLOBAL _zx_aaddrcdown_fastcall
622   0000              	GLOBAL _zx_aaddrcdown
623   0000              	GLOBAL _zx_aaddr2saddr_fastcall
624   0000              	GLOBAL _zx_aaddr2saddr
625   0000              	GLOBAL _zx_aaddr2py_fastcall
626   0000              	GLOBAL _zx_aaddr2py
627   0000              	GLOBAL _zx_aaddr2px_fastcall
628   0000              	GLOBAL _zx_aaddr2px
629   0000              	GLOBAL _zx_aaddr2cy_fastcall
630   0000              	GLOBAL _zx_aaddr2cy
631   0000              	GLOBAL _zx_aaddr2cx_fastcall
632   0000              	GLOBAL _zx_aaddr2cx
633   0000              	GLOBAL _zx_visit_wc_pix_callee
634   0000              	GLOBAL _zx_visit_wc_pix
635   0000              	GLOBAL _zx_visit_wc_attr_callee
636   0000              	GLOBAL _zx_visit_wc_attr
637   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
638   0000              	GLOBAL _zx_scroll_wc_up_pix
639   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
640   0000              	GLOBAL _zx_scroll_wc_up_attr
641   0000              	GLOBAL _zx_scroll_wc_up_callee
642   0000              	GLOBAL _zx_scroll_wc_up
643   0000              	GLOBAL _zx_scroll_up_pix_callee
644   0000              	GLOBAL _zx_scroll_up_pix
645   0000              	GLOBAL _zx_scroll_up_attr_callee
646   0000              	GLOBAL _zx_scroll_up_attr
647   0000              	GLOBAL _zx_scroll_up_callee
648   0000              	GLOBAL _zx_scroll_up
649   0000              	GLOBAL _zx_cls_wc_pix_callee
650   0000              	GLOBAL _zx_cls_wc_pix
651   0000              	GLOBAL _zx_cls_wc_attr_callee
652   0000              	GLOBAL _zx_cls_wc_attr
653   0000              	GLOBAL _zx_cls_wc_callee
654   0000              	GLOBAL _zx_cls_wc
655   0000              	GLOBAL _zx_cls_pix_fastcall
656   0000              	GLOBAL _zx_cls_pix
657   0000              	GLOBAL _zx_cls_attr_fastcall
658   0000              	GLOBAL _zx_cls_attr
659   0000              	GLOBAL _zx_cls_fastcall
660   0000              	GLOBAL _zx_cls
661   0000              	GLOBAL _zx_border_fastcall
662   0000              	GLOBAL _zx_border
663   0000              	GLOBAL _zx_tape_verify_block_callee
664   0000              	GLOBAL _zx_tape_verify_block
665   0000              	GLOBAL _zx_tape_save_block_callee
666   0000              	GLOBAL _zx_tape_save_block
667   0000              	GLOBAL _zx_tape_load_block_callee
668   0000              	GLOBAL _zx_tape_load_block
669   0000              	GLOBAL _spr_destroy
670   0000              	GLOBAL _spr_unflattenP1
671   0000              	GLOBAL _spr_flatten
672   0000              	GLOBAL _spr_btile_paint_back
673   0000              	GLOBAL _spr_init_effects
674   0000              	GLOBAL _spr_turn_horizontal
675   0000              	GLOBAL _spr_play_anim
676   0000              	GLOBAL _spr_add_anim
677   0000              	GLOBAL _spr_clear_scr
678   0000              	GLOBAL _spr_back_repaint
679   0000              	GLOBAL _spr_get_tile_dir
680   0000              	GLOBAL _spr_get_tile
681   0000              	GLOBAL _spr_paint_player
682   0000              	GLOBAL _spr_paint
683   0000              	GLOBAL _spr_move_left
684   0000              	GLOBAL _spr_move_right
685   0000              	GLOBAL _spr_move_left_f
686   0000              	GLOBAL _spr_move_right_f
687   0000              	GLOBAL _spr_move_horizontal
688   0000              	GLOBAL _spr_move_down
689   0000              	GLOBAL _spr_move_up
690   0000              	GLOBAL _spr_set_right
691   0000              	GLOBAL _spr_set_left
692   0000              	GLOBAL _spr_set_down
693   0000              	GLOBAL _spr_set_up
694   0000              	GLOBAL _spr_calc_index
695   0000              	GLOBAL _spr_chktime
696   0000              	GLOBAL _player_use_floor
697   0000              	GLOBAL _player_lost_life
698   0000              	GLOBAL _player_move_jump
699   0000              	GLOBAL _player_tile
700   0000              	GLOBAL _player_pick_exit
701   0000              	GLOBAL _player_pick_deadly
702   0000              	GLOBAL _player_pick_item
703   0000              	GLOBAL _player_check_ceil
704   0000              	GLOBAL _player_check_floor_walk
705   0000              	GLOBAL _player_score_add
706   0000              	GLOBAL _player_move_walk
707   0000              	GLOBAL _player_turn
708   0000              	GLOBAL _player_move
709   0000              	GLOBAL _player_check_input
710   0000              	GLOBAL _player_init
711   0000              	GLOBAL _menu_define_key
712   0000              	GLOBAL _menu_redefine
713   0000              	GLOBAL _menu_main_print
714   0000              	GLOBAL _menu_main
715   0000              	GLOBAL _game_fill_row
716   0000              	GLOBAL _enemy_avoid_dead
717   0000              	GLOBAL _enemy_avoid_fall
718   0000              	GLOBAL _enemy_kill
719   0000              	GLOBAL _enemy_init
720   0000              	GLOBAL _enemy_move
721   0000              	GLOBAL _enemy_turn
722   0000              	GLOBAL _enemy_static
723   0000              	GLOBAL _enemy_walk
724   0000              	GLOBAL _enemy_horizontal
725   0000              	GLOBAL _enemy_vertical
726   0000              	GLOBAL _ay_reset
727   0000              	GLOBAL _ay_song_stop
728   0000              	GLOBAL _ay_song_play
729   0000              	GLOBAL _ay_fx_stop
730   0000              	GLOBAL _ay_fx_play
731   0000              	GLOBAL _ay_is_playing
732   0000              	GLOBAL _audio_levelup
733   0000              	GLOBAL _audio_menu
734   0000              	GLOBAL _audio_game_end
735   0000              	GLOBAL _audio_level_complete
736   0000              	GLOBAL _audio_level_start
737   0000              	GLOBAL _audio_lotr_lose_a_life
738   0000              	GLOBAL _audio_puerta
739   0000              	GLOBAL _audio_sin_mana
740   0000              	GLOBAL _audio_magic1
741   0000              	GLOBAL _audio_coin
742   0000              	GLOBAL _audio_golpe
743   0000              	GLOBAL _audio_salto
744   0000              	GLOBAL _audio_efecto
745   0000              	GLOBAL _audio_disparo_fire
746   0000              	GLOBAL _audio_disparo_axe
747   0000              	GLOBAL _audio_disparo2
748   0000              	GLOBAL _audio_disparo1
749   0000              	GLOBAL _audio_explosion1
750   0000              	GLOBAL _audio_explosion
751   0000              	GLOBAL _audio_ingame
752   0000              	GLOBAL _game_sprite_draw8
753   0000              	GLOBAL _test_func
754   0000              	GLOBAL _test_proc
755   0000              	GLOBAL _in_mouse_kempston_wheel_delta
756   0000              	GLOBAL _in_mouse_kempston_wheel
757   0000              	GLOBAL _in_mouse_kempston_callee
758   0000              	GLOBAL _in_mouse_kempston
759   0000              	GLOBAL _in_mouse_kempston_setpos_callee
760   0000              	GLOBAL _in_mouse_kempston_setpos
761   0000              	GLOBAL _in_mouse_kempston_reset
762   0000              	GLOBAL _in_mouse_kempston_init
763   0000              	GLOBAL _in_mouse_amx_wheel_delta
764   0000              	GLOBAL _in_mouse_amx_wheel
765   0000              	GLOBAL _in_mouse_amx_callee
766   0000              	GLOBAL _in_mouse_amx
767   0000              	GLOBAL _in_mouse_amx_setpos_callee
768   0000              	GLOBAL _in_mouse_amx_setpos
769   0000              	GLOBAL _in_mouse_amx_reset
770   0000              	GLOBAL _in_mouse_amx_init_callee
771   0000              	GLOBAL _in_mouse_amx_init
772   0000              	GLOBAL _in_stick_sinclair2
773   0000              	GLOBAL _in_stick_sinclair1
774   0000              	GLOBAL _in_stick_kempston
775   0000              	GLOBAL _in_stick_fuller
776   0000              	GLOBAL _in_stick_cursor
777   0000              	GLOBAL _in_stick_keyboard_fastcall
778   0000              	GLOBAL _in_stick_keyboard
779   0000              	GLOBAL _in_wait_nokey
780   0000              	GLOBAL _in_wait_key
781   0000              	GLOBAL _in_test_key
782   0000              	GLOBAL _in_pause_fastcall
783   0000              	GLOBAL _in_pause
784   0000              	GLOBAL _in_key_scancode_fastcall
785   0000              	GLOBAL _in_key_scancode
786   0000              	GLOBAL _in_key_pressed_fastcall
787   0000              	GLOBAL _in_key_pressed
788   0000              	GLOBAL _in_inkey
789   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
790   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
791   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
792   0000              	GLOBAL _NIRVANAP_HOLE
793   0000              	GLOBAL _NIRVANAP_ISR_HOOK
794   0000              	GLOBAL _scan_map
795   0000              	GLOBAL _map_paper_last_a
796   0000              	GLOBAL _map_paper_last
797   0000              	GLOBAL _map_paper_clr
798   0000              	GLOBAL _map_paper
799   0000              	GLOBAL _anim_count
800   0000              	GLOBAL _anim_loop
801   0000              	GLOBAL _anim_end
802   0000              	GLOBAL _anim_int
803   0000              	GLOBAL _anim_tile
804   0000              	GLOBAL _anim_col
805   0000              	GLOBAL _anim_lin
806   0000              	GLOBAL _map_heigth
807   0000              	GLOBAL _map_width
808   0000              	GLOBAL _scr_curr
809   0000              	GLOBAL _scr_map
810   0000              	GLOBAL _spr_kind
811   0000              	GLOBAL _spr_frames
812   0000              	GLOBAL _spr_speed
813   0000              	GLOBAL _spr_tile
814   0000              	GLOBAL _screen_ink
815   0000              	GLOBAL _screen_paper
816   0000              	GLOBAL _game_start_scr
817   0000              	GLOBAL _game_score_top
818   0000              	GLOBAL _player_coins
819   0000              	GLOBAL _player_lives
820   0000              	GLOBAL _game_over
821   0000              	GLOBAL _game_sound
822   0000              	GLOBAL _game_inf_lives
823   0000              	GLOBAL _game_inmune
824   0000              	GLOBAL _sprite_curr_index
825   0000              	GLOBAL _spr_count
826   0000              	GLOBAL _last_rotated
827   0000              	GLOBAL _anim_time
828   0000              	GLOBAL _frame_time
829   0000              	GLOBAL _curr_time
830   0000              	GLOBAL _game_conveyor_flag
831   0000              	GLOBAL _game_conveyor_tile
832   0000              	GLOBAL _p_state_a
833   0000              	GLOBAL _p_state
834   0000              	GLOBAL _attrib_key
835   0000              	GLOBAL _game_attrib_osd
836   0000              	GLOBAL _attrib_osd
837   0000              	GLOBAL _attrib_hl
838   0000              	GLOBAL _attrib
839   0000              	GLOBAL _zx_val_asm
840   0000              	GLOBAL _enemies
841   0000              	GLOBAL _tmp_ui
842   0000              	GLOBAL _tmp_sc
843   0000              	GLOBAL _tmp_uc
844   0000              	GLOBAL _tmp1
845   0000              	GLOBAL _tmp0
846   0000              	GLOBAL _tmp
847   0000              	GLOBAL _index1
848   0000              	GLOBAL _index0
849   0000              	GLOBAL _index_tmp
850   0000              	GLOBAL _loop_count
851   0000              	GLOBAL _s_class
852   0000              	GLOBAL _s_row1
853   0000              	GLOBAL _s_col1
854   0000              	GLOBAL _s_col0
855   0000              	GLOBAL _s_lin1
856   0000              	GLOBAL _s_lin0
857   0000              	GLOBAL _s_tile1
858   0000              	GLOBAL _s_tile0
859   0000              	GLOBAL _nirv_sprite_index
860   0000              	GLOBAL _player_kill_index
861   0000              	GLOBAL _player_killed
862   0000              	GLOBAL _player_jump_top
863   0000              	GLOBAL _game_fps_show
864   0000              	GLOBAL _game_debug
865   0000              	GLOBAL _sprite
866   0000              	GLOBAL _fps
867   0000              	GLOBAL _game_tileset
868   0000              	GLOBAL _menu_curr_sel
869   0000              	GLOBAL _game_round_up
870   0000              	GLOBAL _game_exit_lin
871   0000              	GLOBAL _game_exit_col
872   0000              	GLOBAL _game_conveyor_col1
873   0000              	GLOBAL _game_conveyor_col0
874   0000              	GLOBAL _game_conveyor_lin
875   0000              	GLOBAL _game_conveyor_dir
876   0000              	GLOBAL _game_song_play_start
877   0000              	GLOBAL _game_song_play
878   0000              	GLOBAL _game_world
879   0000              	GLOBAL _game_gravity
880   0000              	GLOBAL _player_jumpcount
881   0000              	GLOBAL _player_hit
882   0000              	GLOBAL _player_hit_time
883   0000              	GLOBAL _player_lin_scr
884   0000              	GLOBAL _player_col_scr
885   0000              	GLOBAL _player_vel_inc
886   0000              	GLOBAL _player_vel_y0
887   0000              	GLOBAL _player_vel_y
888   0000              	GLOBAL _player_score
889   0000              	GLOBAL _tbuffer
890   0000              	GLOBAL _obj_count
891   0000              	GLOBAL _obj_col
892   0000              	GLOBAL _obj_lin
893   0000              	GLOBAL _spr_timer
894   0000              	GLOBAL _last_time
895   0000              	GLOBAL _jump_lin
896   0000              	GLOBAL _colint
897   0000              	GLOBAL _col
898   0000              	GLOBAL _lin
899   0000              	GLOBAL _tile
900   0000              	GLOBAL _value_b
901   0000              	GLOBAL _value_a
902   0000              	GLOBAL _state_a
903   0000              	GLOBAL _state
904   0000              	GLOBAL _class
905   0000              	GLOBAL _dirs
906   0000              	GLOBAL _k1
907   0000              	GLOBAL _joyfunc2
908   0000              	GLOBAL _joyfunc1
909   0000              	GLOBAL _btiles
910   0000              	GLOBAL _v3
911   0000              	GLOBAL _v2
912   0000              	GLOBAL _v1
913   0000              	GLOBAL _v0
914   0000              	GLOBAL _i
915   0000              	GLOBAL _spec128
916   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
917   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
918   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
919   0000              	GLOBAL _ay_fx_06_disparo_fire
920   0000              	GLOBAL _ay_fx_06_disparo_axe
921   0000              	GLOBAL _ay_fx_06_explosion1
922   0000              	GLOBAL _ay_fx_06_efecto
923   0000              	GLOBAL _ay_fx_06_disparo2
924   0000              	GLOBAL _ay_fx_06_disparo1
925   0000              	GLOBAL _ay_fx_06_levelup
926   0000              	GLOBAL _ay_fx_06_magic
927   0000              	GLOBAL _ay_fx_06_sin_mana
928   0000              	GLOBAL _ay_fx_06_salto
929   0000              	GLOBAL _ay_fx_06_puerta
930   0000              	GLOBAL _ay_fx_06_magic1
931   0000              	GLOBAL _ay_fx_06_golpe
932   0000              	GLOBAL _ay_fx_06_explosion
933   0000              	GLOBAL _ay_fx_06_dano_por_toque
934   0000              	GLOBAL _ay_fx_06_coin
935   0000              	GLOBAL _ay_song_06_lotr_level_start
936   0000              	GLOBAL _ay_song_06_lotr_level_complete
937   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
938   0000              	GLOBAL _ay_song_04_ingame0
939   0000              	GLOBAL _ay_song_04_ingame
940   0000              	GLOBAL _hibtiles
941   0000              	GLOBAL _key_map
942   0000              	GLOBAL _start_scr0
943   0000              	GLOBAL _paper0
944   0000              	GLOBAL _lenght0
945   0000              	GLOBAL _world0
946   0000              	GLOBAL _spr_init
947   0000              ;--------------------------------------------------------
948   0000              ; special function registers
949   0000              ;--------------------------------------------------------
950   0000              defc _IO_FE	=	0x00fe
951   0000              defc _IO_1FFD	=	0x1ffd
952   0000              defc _IO_7FFD	=	0x7ffd
953   0000              ;--------------------------------------------------------
954   0000              ; ram data
955   0000              ;--------------------------------------------------------
956   0000              	SECTION bss_compiler
957   0000              ;--------------------------------------------------------
958   0000              ; ram data
959   0000              ;--------------------------------------------------------
960   0000              
961   0000              IF 0
962   0000              
963   0000              ; .area _INITIALIZED removed by z88dk
964   0000              
965   0000              
966   0000              ENDIF
967   0000              
968   0000              ;--------------------------------------------------------
969   0000              ; absolute external ram data
970   0000              ;--------------------------------------------------------
971   0000              	SECTION IGNORE
972   0000              ;--------------------------------------------------------
973   0000              ; global & static initialisations
974   0000              ;--------------------------------------------------------
975   0000              	SECTION code_crt_init
976   0000              ;--------------------------------------------------------
977   0000              ; Home
978   0000              ;--------------------------------------------------------
979   0000              	SECTION IGNORE
980   0000              ;--------------------------------------------------------
981   0000              ; code
982   0000              ;--------------------------------------------------------
983   0000              	SECTION code_compiler
984   0000              ;	---------------------------------
985   0000              ; Function game_tick
986   0000              ; ---------------------------------
987   0000              _game_tick:
988   0000  21 00 00    	ld	hl,_curr_time
989   0003  34          	inc	(hl)
990   0004  20 02       	jr	NZ,l_game_tick_00103
991   0006  23          	inc	hl
992   0007  34          	inc	(hl)
993   0008              l_game_tick_00103:
994   0008  CD 00 00    	call	_zx_isr
995   000B  C3 88 09    	jp  _game_rotate_attrib
996   000E              	SECTION code_compiler
997   000E              ;	---------------------------------
998   000E              ; Function game_loop
999   000E              ; ---------------------------------
1000  000E              _game_loop:
1001  000E  21 00 00    	ld	hl,_player_lives
1002  0011  36 03       	ld	(hl),0x03
1003  0013  21 00 00    	ld	hl,0x0000
1004  0016  22 00 00    	ld	(_player_score),hl
1005  0019  21 00 00    	ld	hl,_game_over
1006  001C  36 00       	ld	(hl),0x00
1007  001E  21 00 00    	ld	hl,_game_round_up
1008  0021  36 00       	ld	(hl),0x00
1009  0023  21 00 00    	ld	hl,_game_world
1010  0026  36 00       	ld	(hl),0x00
1011  0028  21 00 00    	ld	hl,_map_paper
1012  002B  36 00       	ld	(hl),0x00
1013  002D  21 00 00    	ld	hl,_player_lin_scr
1014  0030  36 68       	ld	(hl),0x68
1015  0032  21 00 00    	ld	hl,_player_col_scr
1016  0035  36 02       	ld	(hl),0x02
1017  0037  CD 03 05    	call	_game_round_init
1018  003A              l_game_loop_00117:
1019  003A  3A 00 00    	ld	a,(_game_over)
1020  003D  B7          	or	a, a
1021  003E  C2 DA 00    	jp	NZ, l_game_loop_00120
1022  0041  21 00 00    	ld	hl,_dirs
1023  0044  36 00       	ld	(hl),0x00
1024  0046              l_game_loop_00112:
1025  0046  3A 00 00    	ld	a,(_game_round_up)
1026  0049  B7          	or	a, a
1027  004A  C2 C8 00    	jp	NZ, l_game_loop_00114
1028  004D  3A 00 00    	ld	a,(_game_over)
1029  0050  B7          	or	a, a
1030  0051  20 75       	jr	NZ,l_game_loop_00114
1031  0053  2E 02       	ld	l,0x02
1032  0055  CD 00 00    	call	_zx_border_fastcall
1033  0058  CD 00 00    	call	_enemy_turn
1034  005B  CD 00 00    	call	_player_turn
1035  005E  3E 03       	ld	a,0x03
1036  0060  F5          	push	af
1037  0061  33          	inc	sp
1038  0062  21 00 00    	ld	hl,_anim_time
1039  0065  E5          	push	hl
1040  0066  CD 5E 09    	call	_game_check_time
1041  0069  F1          	pop	af
1042  006A  33          	inc	sp
1043  006B  7D          	ld	a, l
1044  006C  B7          	or	a, a
1045  006D  28 10       	jr	Z,l_game_loop_00104
1046  006F  2A 00 00    	ld	hl,(_curr_time)
1047  0072  22 00 00    	ld	(_anim_time),hl
1048  0075  21 00 00    	ld	hl,_game_conveyor_col0
1049  0078  7E          	ld	a, (hl)
1050  0079  B7          	or	a, a
1051  007A  28 03       	jr	Z,l_game_loop_00104
1052  007C  CD 2B 04    	call	_game_anim_conveyor
1053  007F              l_game_loop_00104:
1054  007F  3E 64       	ld	a,0x64
1055  0081  F5          	push	af
1056  0082  33          	inc	sp
1057  0083  21 00 00    	ld	hl,_frame_time
1058  0086  E5          	push	hl
1059  0087  CD 5E 09    	call	_game_check_time
1060  008A  F1          	pop	af
1061  008B  33          	inc	sp
1062  008C  7D          	ld	a, l
1063  008D  B7          	or	a, a
1064  008E  28 0F       	jr	Z,l_game_loop_00108
1065  0090  2A 00 00    	ld	hl,(_curr_time)
1066  0093  22 00 00    	ld	(_frame_time),hl
1067  0096  3A 00 00    	ld	a,(_game_fps_show)
1068  0099  B7          	or	a,a
1069  009A  28 03       	jr	Z,l_game_loop_00108
1070  009C  CD DB 00    	call	_game_fps
1071  009F              l_game_loop_00108:
1072  009F  21 00 00    	ld	hl,_loop_count
1073  00A2  34          	inc	(hl)
1074  00A3  20 02       	jr	NZ,l_game_loop_00166
1075  00A5  23          	inc	hl
1076  00A6  34          	inc	(hl)
1077  00A7              l_game_loop_00166:
1078  00A7  21 00 00    	ld	hl,_fps
1079  00AA  34          	inc	(hl)
1080  00AB  20 02       	jr	NZ,l_game_loop_00167
1081  00AD  23          	inc	hl
1082  00AE  34          	inc	(hl)
1083  00AF              l_game_loop_00167:
1084  00AF  3A 00 00    	ld	a,(_obj_count)
1085  00B2  21 00 00    	ld	hl,_player_coins
1086  00B5  96          	sub	a, (hl)
1087  00B6  20 8E       	jr	NZ,l_game_loop_00112
1088  00B8  CD F4 0F    	call	_game_flash_exit
1089  00BB  2E 00       	ld	l,0x00
1090  00BD  CD 00 00    	call	_zx_border_fastcall
1091  00C0  21 00 00    	ld	hl,_obj_count
1092  00C3  36 FF       	ld	(hl),0xff
1093  00C5  C3 46 00    	jp	l_game_loop_00112
1094  00C8              l_game_loop_00114:
1095  00C8  3A 00 00    	ld	a,(_game_round_up)
1096  00CB  B7          	or	a, a
1097  00CC  CA 3A 00    	jp	Z, l_game_loop_00117
1098  00CF  CD 03 05    	call	_game_round_init
1099  00D2  21 00 00    	ld	hl,_game_round_up
1100  00D5  36 00       	ld	(hl),0x00
1101  00D7  C3 3A 00    	jp	l_game_loop_00117
1102  00DA              l_game_loop_00120:
1103  00DA  C9          	ret
1104  00DB              	SECTION code_compiler
1105  00DB              ;	---------------------------------
1106  00DB              ; Function game_fps
1107  00DB              ; ---------------------------------
1108  00DB              _game_fps:
1109  00DB  21 00 00    	ld	hl,_screen_ink
1110  00DE  36 07       	ld	(hl),0x07
1111  00E0  2A 00 00    	ld	hl,(_fps)
1112  00E3  E5          	push	hl
1113  00E4  21 17 18    	ld	hl,0x1817
1114  00E7  E5          	push	hl
1115  00E8  CD 00 00    	call	_zx_print_int
1116  00EB  21 00 00    	ld	hl,0x0000
1117  00EE  22 00 00    	ld	(_fps),hl
1118  00F1  C9          	ret
1119  00F2              	SECTION code_compiler
1120  00F2              ;	---------------------------------
1121  00F2              ; Function game_draw_map
1122  00F2              ; ---------------------------------
1123  00F2              _game_draw_map:
1124  00F2  CD 00 00    	call	___sdcc_enter_ix
1125  00F5  F5          	push	af
1126  00F6  F5          	push	af
1127  00F7  3B          	dec	sp
1128  00F8  76          	halt
1129  00F9  21 00 00    	ld	hl,_v0
1130  00FC  36 00       	ld	(hl),0x00
1131  00FE  CD 00 00    	call	_spr_init_effects
1132  0101  11 00 00    	ld	de,_obj_col+0
1133  0104              l_game_draw_map_00101:
1134  0104  21 00 00    	ld	hl,_v0
1135  0107  7E          	ld	a, (hl)
1136  0108  D6 0F       	sub	a,0x0f
1137  010A  30 22       	jr	NC,l_game_draw_map_00103
1138  010C  3E 00       	ld	a, +((_class) & 0xFF)
1139  010E  86          	add	a, (hl)
1140  010F  4F          	ld	c, a
1141  0110  3E 00       	ld	a, +((_class) / 256)
1142  0112  CE 00       	adc	a,0x00
1143  0114  47          	ld	b, a
1144  0115  AF          	xor	a, a
1145  0116  02          	ld	(bc), a
1146  0117  7B          	ld	a, e
1147  0118  86          	add	a, (hl)
1148  0119  4F          	ld	c, a
1149  011A  7A          	ld	a, d
1150  011B  CE 00       	adc	a,0x00
1151  011D  47          	ld	b, a
1152  011E  AF          	xor	a, a
1153  011F  02          	ld	(bc), a
1154  0120  3E 00       	ld	a, +((_obj_lin) & 0xFF)
1155  0122  86          	add	a, (hl)
1156  0123  4F          	ld	c, a
1157  0124  3E 00       	ld	a, +((_obj_lin) / 256)
1158  0126  CE 00       	adc	a,0x00
1159  0128  47          	ld	b, a
1160  0129  AF          	xor	a, a
1161  012A  02          	ld	(bc), a
1162  012B  34          	inc	(hl)
1163  012C  18 D6       	jr	l_game_draw_map_00101
1164  012E              l_game_draw_map_00103:
1165  012E  21 00 00    	ld	hl,_spr_count
1166  0131  36 00       	ld	(hl),0x00
1167  0133  21 00 00    	ld	hl,0x0000
1168  0136  22 00 00    	ld	(_index1),hl
1169  0139  21 00 00    	ld	hl,_s_row1
1170  013C  36 01       	ld	(hl),0x01
1171  013E  21 00 00    	ld	hl,_s_lin1
1172  0141  36 10       	ld	(hl),0x10
1173  0143  21 00 00    	ld	hl,_s_col1
1174  0146  36 00       	ld	(hl),0x00
1175  0148  21 00 00    	ld	hl,_obj_count
1176  014B  36 00       	ld	(hl),0x00
1177  014D  CD 00 00    	call	_NIRVANAP_stop
1178  0150  21 00 00    	ld	hl,_screen_ink
1179  0153  36 00       	ld	(hl),0x00
1180  0155  21 00 00    	ld	hl,_game_conveyor_lin
1181  0158  36 00       	ld	(hl),0x00
1182  015A  21 00 00    	ld	hl,_game_conveyor_col0
1183  015D  36 00       	ld	(hl),0x00
1184  015F  21 00 00    	ld	hl,_game_conveyor_col1
1185  0162  36 00       	ld	(hl),0x00
1186  0164  21 00 00    	ld	hl,_game_conveyor_tile
1187  0167  36 11       	ld	(hl),0x11
1188  0169              l_game_draw_map_00129:
1189  0169  21 01 00    	ld	hl,_index1 + 1
1190  016C  7E          	ld	a, (hl)
1191  016D  D6 02       	sub	a,0x02
1192  016F  D2 7B 03    	jp	NC, l_game_draw_map_00131
1193  0172  3E 00       	ld	a, +((_scr_map) & 0xFF)
1194  0174  2B          	dec	hl
1195  0175  86          	add	a, (hl)
1196  0176  DD 77 FE    	ld	(ix-2),a
1197  0179  3E 00       	ld	a, +((_scr_map) / 256)
1198  017B  23          	inc	hl
1199  017C  8E          	adc	a, (hl)
1200  017D  DD 6E FE    	ld	l,(ix-2)
1201  0180  DD 77 FF    	ld	(ix-1),a
1202  0183  67          	ld	h,a
1203  0184  7E          	ld	a, (hl)
1204  0185  DD 77 FD    	ld	(ix-3),a
1205  0188  D6 40       	sub	a,0x40
1206  018A  D2 73 02    	jp	NC, l_game_draw_map_00125
1207  018D  DD 7E FD    	ld	a,(ix-3)
1208  0190  D6 08       	sub	a,0x08
1209  0192  20 1B       	jr	NZ,l_game_draw_map_00105
1210  0194  2A 00 00    	ld	hl,(_obj_count)
1211  0197  26 00       	ld	h,0x00
1212  0199  19          	add	hl,de
1213  019A  3A 00 00    	ld	a,(_s_col1)
1214  019D  77          	ld	(hl),a
1215  019E  2A 00 00    	ld	hl,(_obj_count)
1216  01A1  26 00       	ld	h,0x00
1217  01A3  01 00 00    	ld	bc,_obj_lin
1218  01A6  09          	add	hl,bc
1219  01A7  3A 00 00    	ld	a,(_s_lin1)
1220  01AA  77          	ld	(hl),a
1221  01AB  21 00 00    	ld	hl,_obj_count
1222  01AE  34          	inc	(hl)
1223  01AF              l_game_draw_map_00105:
1224  01AF  2A 00 00    	ld	hl,(_index1)
1225  01B2  01 00 00    	ld	bc,_scr_map
1226  01B5  09          	add	hl,bc
1227  01B6  3A 00 00    	ld	a,(_index1)
1228  01B9  E6 1F       	and	a,0x1f
1229  01BB  DD 77 FB    	ld	(ix-5),a
1230  01BE  DD 36 FC 00 	ld	(ix-4),0x00
1231  01C2  4E          	ld	c, (hl)
1232  01C3  DD 46 FB    	ld	b,(ix-5)
1233  01C6  79          	ld	a, c
1234  01C7  D6 04       	sub	a,0x04
1235  01C9  20 04       	jr	NZ,l_game_draw_map_00200
1236  01CB  3E 01       	ld	a,0x01
1237  01CD  18 01       	jr	l_game_draw_map_00201
1238  01CF              l_game_draw_map_00200:
1239  01CF  AF          	xor	a,a
1240  01D0              l_game_draw_map_00201:
1241  01D0  4F          	ld	c, a
1242  01D1  3A 00 00    	ld	a,(_game_conveyor_col0)
1243  01D4  B7          	or	a, a
1244  01D5  28 0C       	jr	Z,l_game_draw_map_00107
1245  01D7  21 00 00    	ld	hl,_game_conveyor_col1
1246  01DA  7E          	ld	a, (hl)
1247  01DB  B7          	or	a, a
1248  01DC  20 05       	jr	NZ,l_game_draw_map_00107
1249  01DE  CB 41       	bit	0, c
1250  01E0  20 01       	jr	NZ,l_game_draw_map_00107
1251  01E2  70          	ld	(hl), b
1252  01E3              l_game_draw_map_00107:
1253  01E3  CB 41       	bit	0, c
1254  01E5  28 3E       	jr	Z,l_game_draw_map_00116
1255  01E7  21 00 00    	ld	hl,_game_conveyor_col0
1256  01EA  7E          	ld	a, (hl)
1257  01EB  B7          	or	a, a
1258  01EC  20 37       	jr	NZ,l_game_draw_map_00116
1259  01EE  70          	ld	(hl), b
1260  01EF  ED 4B 00 00 	ld	bc,(_index1)
1261  01F3  79          	ld	a,c
1262  01F4  0E 05       	ld	c,0x05
1263  01F6              l_game_draw_map_00202:
1264  01F6  CB 38       	srl	b
1265  01F8  1F          	rra
1266  01F9  0D          	dec	c
1267  01FA  20 FA       	jr	NZ,l_game_draw_map_00202
1268  01FC  07          	rlca
1269  01FD  07          	rlca
1270  01FE  07          	rlca
1271  01FF  E6 F8       	and	a,0xf8
1272  0201  C6 08       	add	a,0x08
1273  0203  32 00 00    	ld	(_game_conveyor_lin),a
1274  0206  ED 4B 00 00 	ld	bc,(_index1)
1275  020A  03          	inc	bc
1276  020B  21 00 00    	ld	hl,_scr_map
1277  020E  09          	add	hl,bc
1278  020F  F1          	pop	af
1279  0210  7E          	ld	a,(hl)
1280  0211  E5          	push	hl
1281  0212  B7          	or	a, a
1282  0213  28 07       	jr	Z,l_game_draw_map_00111
1283  0215  21 00 00    	ld	hl,_game_conveyor_dir
1284  0218  36 FF       	ld	(hl),0xff
1285  021A  18 05       	jr	l_game_draw_map_00112
1286  021C              l_game_draw_map_00111:
1287  021C  21 00 00    	ld	hl,_game_conveyor_dir
1288  021F  36 01       	ld	(hl),0x01
1289  0221              l_game_draw_map_00112:
1290  0221  E1          	pop	hl
1291  0222  E5          	push	hl
1292  0223  36 04       	ld	(hl),0x04
1293  0225              l_game_draw_map_00116:
1294  0225  2A 00 00    	ld	hl,(_index1)
1295  0228  01 00 00    	ld	bc,_scr_map
1296  022B  09          	add	hl,bc
1297  022C  7E          	ld	a,(hl)
1298  022D  21 01 00    	ld	hl,_index1 + 1
1299  0230  DD 77 FB    	ld	(ix-5),a
1300  0233  D6 1C       	sub	a,0x1c
1301  0235  20 1E       	jr	NZ,l_game_draw_map_00118
1302  0237  2B          	dec	hl
1303  0238  7E          	ld	a, (hl)
1304  0239  E6 1F       	and	a,0x1f
1305  023B  32 00 00    	ld	(_game_exit_col),a
1306  023E  ED 4B 00 00 	ld	bc,(_index1)
1307  0242  79          	ld	a,c
1308  0243  0E 05       	ld	c,0x05
1309  0245              l_game_draw_map_00205:
1310  0245  CB 38       	srl	b
1311  0247  1F          	rra
1312  0248  0D          	dec	c
1313  0249  20 FA       	jr	NZ,l_game_draw_map_00205
1314  024B  07          	rlca
1315  024C  07          	rlca
1316  024D  07          	rlca
1317  024E  E6 F8       	and	a,0xf8
1318  0250  C6 10       	add	a,0x10
1319  0252  32 00 00    	ld	(_game_exit_lin),a
1320  0255              l_game_draw_map_00118:
1321  0255  3A 00 00    	ld	a,(_s_row1)
1322  0258  07          	rlca
1323  0259  07          	rlca
1324  025A  07          	rlca
1325  025B  E6 F8       	and	a,0xf8
1326  025D  47          	ld	b, a
1327  025E  3A 00 00    	ld	a,(_s_col1)
1328  0261  D5          	push	de
1329  0262  48          	ld	c,b
1330  0263  47          	ld	b,a
1331  0264  C5          	push	bc
1332  0265  DD 7E FB    	ld	a,(ix-5)
1333  0268  F5          	push	af
1334  0269  33          	inc	sp
1335  026A  CD 00 00    	call	_game_sprite_draw8
1336  026D  F1          	pop	af
1337  026E  33          	inc	sp
1338  026F  D1          	pop	de
1339  0270  C3 54 03    	jp	l_game_draw_map_00126
1340  0273              l_game_draw_map_00125:
1341  0273  DD 7E FD    	ld	a,(ix-3)
1342  0276  D6 78       	sub	a,0x78
1343  0278  D2 1E 03    	jp	NC, l_game_draw_map_00122
1344  027B  21 00 00    	ld	hl,_index1
1345  027E  7E          	ld	a, (hl)
1346  027F  E6 1F       	and	a,0x1f
1347  0281  DD 77 FB    	ld	(ix-5),a
1348  0284  23          	inc	hl
1349  0285  46          	ld	b,(hl)
1350  0286  2B          	dec	hl
1351  0287  7E          	ld	a,(hl)
1352  0288  0E 05       	ld	c,0x05
1353  028A              l_game_draw_map_00206:
1354  028A  CB 38       	srl	b
1355  028C  1F          	rra
1356  028D  0D          	dec	c
1357  028E  20 FA       	jr	NZ,l_game_draw_map_00206
1358  0290  4F          	ld	c,a
1359  0291  07          	rlca
1360  0292  07          	rlca
1361  0293  07          	rlca
1362  0294  E6 F8       	and	a,0xf8
1363  0296  47          	ld	b, a
1364  0297  D5          	push	de
1365  0298  DD 66 FD    	ld	h,(ix-3)
1366  029B  DD 6E FB    	ld	l,(ix-5)
1367  029E  E5          	push	hl
1368  029F  C5          	push	bc
1369  02A0  33          	inc	sp
1370  02A1  CD 00 00    	call	_enemy_init
1371  02A4  F1          	pop	af
1372  02A5  33          	inc	sp
1373  02A6  D1          	pop	de
1374  02A7  3E 00       	ld	a, +((_value_a) & 0xFF)
1375  02A9  21 00 00    	ld	hl,_sprite
1376  02AC  86          	add	a, (hl)
1377  02AD  DD 77 FB    	ld	(ix-5),a
1378  02B0  3E 00       	ld	a, +((_value_a) / 256)
1379  02B2  CE 00       	adc	a,0x00
1380  02B4  DD 77 FC    	ld	(ix-4),a
1381  02B7  2A 00 00    	ld	hl,(_index1)
1382  02BA  01 20 00    	ld	bc,0x0020
1383  02BD  09          	add	hl,bc
1384  02BE  01 00 00    	ld	bc,_scr_map
1385  02C1  09          	add	hl,bc
1386  02C2  4E          	ld	c, (hl)
1387  02C3  E1          	pop	hl
1388  02C4  E5          	push	hl
1389  02C5  71          	ld	(hl), c
1390  02C6  3E 00       	ld	a, +((_value_b) & 0xFF)
1391  02C8  21 00 00    	ld	hl,_sprite
1392  02CB  86          	add	a, (hl)
1393  02CC  DD 77 FB    	ld	(ix-5),a
1394  02CF  3E 00       	ld	a, +((_value_b) / 256)
1395  02D1  CE 00       	adc	a,0x00
1396  02D3  DD 77 FC    	ld	(ix-4),a
1397  02D6  2A 00 00    	ld	hl,(_index1)
1398  02D9  01 21 00    	ld	bc,0x0021
1399  02DC  09          	add	hl,bc
1400  02DD  01 00 00    	ld	bc,_scr_map
1401  02E0  09          	add	hl,bc
1402  02E1  4E          	ld	c, (hl)
1403  02E2  E1          	pop	hl
1404  02E3  E5          	push	hl
1405  02E4  71          	ld	(hl), c
1406  02E5  2A 00 00    	ld	hl,(_index1)
1407  02E8  01 00 00    	ld	bc,_scr_map
1408  02EB  09          	add	hl,bc
1409  02EC  AF          	xor	a,a
1410  02ED  77          	ld	(hl),a
1411  02EE  2A 00 00    	ld	hl,(_index1)
1412  02F1  01 00 00    	ld	bc,_scr_map
1413  02F4  09          	add	hl,bc
1414  02F5  AF          	xor	a,a
1415  02F6  77          	ld	(hl),a
1416  02F7  ED 4B 00 00 	ld	bc,(_index1)
1417  02FB  03          	inc	bc
1418  02FC  21 00 00    	ld	hl,_scr_map
1419  02FF  09          	add	hl, bc
1420  0300  36 00       	ld	(hl),0x00
1421  0302  2A 00 00    	ld	hl,(_index1)
1422  0305  01 20 00    	ld	bc,0x0020
1423  0308  09          	add	hl,bc
1424  0309  01 00 00    	ld	bc,_scr_map
1425  030C  09          	add	hl,bc
1426  030D  36 00       	ld	(hl),0x00
1427  030F  2A 00 00    	ld	hl,(_index1)
1428  0312  01 21 00    	ld	bc,0x0021
1429  0315  09          	add	hl,bc
1430  0316  01 00 00    	ld	bc,_scr_map
1431  0319  09          	add	hl,bc
1432  031A  36 00       	ld	(hl),0x00
1433  031C  18 36       	jr	l_game_draw_map_00126
1434  031E              l_game_draw_map_00122:
1435  031E  DD 7E FD    	ld	a,(ix-3)
1436  0321  D6 7F       	sub	a,0x7f
1437  0323  20 2F       	jr	NZ,l_game_draw_map_00126
1438  0325  3A 00 00    	ld	a,(_s_lin1)
1439  0328  C6 F0       	add	a,0xf0
1440  032A  32 00 00    	ld	(_player_lin_scr),a
1441  032D  3A 00 00    	ld	a,(_s_col1)
1442  0330  32 00 00    	ld	(_player_col_scr),a
1443  0333  DD 6E FE    	ld	l,(ix-2)
1444  0336  DD 66 FF    	ld	h,(ix-1)
1445  0339  36 00       	ld	(hl),0x00
1446  033B  3A 00 00    	ld	a,(_s_row1)
1447  033E  07          	rlca
1448  033F  07          	rlca
1449  0340  07          	rlca
1450  0341  E6 F8       	and	a,0xf8
1451  0343  47          	ld	b, a
1452  0344  3A 00 00    	ld	a,(_s_col1)
1453  0347  D5          	push	de
1454  0348  48          	ld	c,b
1455  0349  47          	ld	b,a
1456  034A  C5          	push	bc
1457  034B  AF          	xor	a, a
1458  034C  F5          	push	af
1459  034D  33          	inc	sp
1460  034E  CD 00 00    	call	_game_sprite_draw8
1461  0351  F1          	pop	af
1462  0352  33          	inc	sp
1463  0353  D1          	pop	de
1464  0354              l_game_draw_map_00126:
1465  0354  21 00 00    	ld	hl,_index1
1466  0357  34          	inc	(hl)
1467  0358  20 02       	jr	NZ,l_game_draw_map_00209
1468  035A  23          	inc	hl
1469  035B  34          	inc	(hl)
1470  035C              l_game_draw_map_00209:
1471  035C  21 00 00    	ld	hl,_s_col1
1472  035F  34          	inc	(hl)
1473  0360  3A 00 00    	ld	a,(_index1)
1474  0363  E6 1F       	and	a,0x1f
1475  0365  C2 69 01    	jp	NZ,l_game_draw_map_00129
1476  0368  21 00 00    	ld	hl,_s_row1
1477  036B  34          	inc	(hl)
1478  036C  21 00 00    	ld	hl,_s_lin1
1479  036F  7E          	ld	a, (hl)
1480  0370  C6 08       	add	a,0x08
1481  0372  77          	ld	(hl), a
1482  0373  21 00 00    	ld	hl,_s_col1
1483  0376  36 00       	ld	(hl),0x00
1484  0378  C3 69 01    	jp	l_game_draw_map_00129
1485  037B              l_game_draw_map_00131:
1486  037B  CD 00 00    	call	_NIRVANAP_start
1487  037E  76          	halt
1488  037F  CD 00 00    	call	_game_update_stats
1489  0382  DD F9       	ld	sp, ix
1490  0384  DD E1       	pop	ix
1491  0386  C9          	ret
1492  0387              	SECTION code_compiler
1493  0387              ;	---------------------------------
1494  0387              ; Function game_cell_paint_index
1495  0387              ; ---------------------------------
1496  0387              _game_cell_paint_index:
1497  0387  3A 00 00    	ld	a,(_index1)
1498  038A  E6 1F       	and	a,0x1f
1499  038C  32 00 00    	ld	(_s_col1),a
1500  038F  2A 00 00    	ld	hl,(_index1)
1501  0392  4D          	ld	c,l
1502  0393  5C          	ld	e,h
1503  0394  06 05       	ld	b,0x05
1504  0396  79          	ld	a,c
1505  0397              l_game_cell_paint_index_00103:
1506  0397  CB 3B       	srl	e
1507  0399  1F          	rra
1508  039A  10 FB       	djnz	l_game_cell_paint_index_00103
1509  039C  07          	rlca
1510  039D  07          	rlca
1511  039E  07          	rlca
1512  039F  E6 F8       	and	a,0xf8
1513  03A1  32 00 00    	ld	(_s_lin1),a
1514  03A4  0F          	rrca
1515  03A5  0F          	rrca
1516  03A6  0F          	rrca
1517  03A7  E6 1F       	and	a,0x1f
1518  03A9  3C          	inc	a
1519  03AA  32 00 00    	ld	(_s_row1),a
1520  03AD  21 00 00    	ld	hl,_s_lin1
1521  03B0  7E          	ld	a, (hl)
1522  03B1  C6 10       	add	a,0x10
1523  03B3  77          	ld	(hl), a
1524  03B4  3A 00 00    	ld	a,(_s_row1)
1525  03B7  07          	rlca
1526  03B8  07          	rlca
1527  03B9  07          	rlca
1528  03BA  E6 F8       	and	a,0xf8
1529  03BC  4F          	ld	c, a
1530  03BD  11 00 00    	ld	de,_scr_map
1531  03C0  2A 00 00    	ld	hl,(_index1)
1532  03C3  19          	add	hl,de
1533  03C4  46          	ld	b, (hl)
1534  03C5  3A 00 00    	ld	a,(_s_col1)
1535  03C8  F5          	push	af
1536  03C9  33          	inc	sp
1537  03CA  79          	ld	a, c
1538  03CB  48          	ld	c,b
1539  03CC  47          	ld	b,a
1540  03CD  C5          	push	bc
1541  03CE  CD 00 00    	call	_game_sprite_draw8
1542  03D1  F1          	pop	af
1543  03D2  33          	inc	sp
1544  03D3  C9          	ret
1545  03D4              	SECTION code_compiler
1546  03D4              ;	---------------------------------
1547  03D4              ; Function game_cell_paint
1548  03D4              ; ---------------------------------
1549  03D4              _game_cell_paint:
1550  03D4  3A 00 00    	ld	a,(_s_row1)
1551  03D7  07          	rlca
1552  03D8  07          	rlca
1553  03D9  07          	rlca
1554  03DA  E6 F8       	and	a,0xf8
1555  03DC  57          	ld	d, a
1556  03DD  01 00 00    	ld	bc,_scr_map
1557  03E0  2A 00 00    	ld	hl,(_index1)
1558  03E3  09          	add	hl,bc
1559  03E4  4D          	ld	c,l
1560  03E5  46          	ld	b, (hl)
1561  03E6  3A 00 00    	ld	a,(_s_col1)
1562  03E9  5A          	ld	e,d
1563  03EA  57          	ld	d,a
1564  03EB  D5          	push	de
1565  03EC  C5          	push	bc
1566  03ED  33          	inc	sp
1567  03EE  CD 00 00    	call	_game_sprite_draw8
1568  03F1  F1          	pop	af
1569  03F2  33          	inc	sp
1570  03F3  C9          	ret
1571  03F4              	SECTION code_compiler
1572  03F4              ;	---------------------------------
1573  03F4              ; Function game_end is a stub
1574  03F4              ; ---------------------------------
1575  03F4              EXTERN l_ret
1576  03F4              defc _game_end = l_ret
1577  03F4              	SECTION code_compiler
1578  03F4              ;	---------------------------------
1579  03F4              ; Function game_print_footer
1580  03F4              ; ---------------------------------
1581  03F4              _game_print_footer:
1582  03F4  3A 00 00    	ld	a,(_game_fps_show)
1583  03F7  B7          	or	a, a
1584  03F8  28 10       	jr	Z,l_game_print_footer_00102
1585  03FA  21 00 00    	ld	hl,_screen_ink
1586  03FD  36 07       	ld	(hl),0x07
1587  03FF  21 00 00    	ld	hl,___str_0
1588  0402  E5          	push	hl
1589  0403  21 17 14    	ld	hl,0x1417
1590  0406  E5          	push	hl
1591  0407  CD 00 00    	call	_zx_print_str
1592  040A              l_game_print_footer_00102:
1593  040A  CD 00 00    	call	_game_update_stats
1594  040D  C9          	ret
1595  040E              	SECTION rodata_compiler
1596  0000              ___str_0:
1597  0000  4C 50 53 3A 	DEFM "LPS:"
1598  0004  00          	DEFB 0x00
1599  0005              	SECTION code_compiler
1600  040E              ;	---------------------------------
1601  040E              ; Function game_print_score is a stub
1602  040E              ; ---------------------------------
1603  040E              EXTERN l_ret
1604  040E              defc _game_print_score = l_ret
1605  040E              	SECTION code_compiler
1606  040E              ;	---------------------------------
1607  040E              ; Function game_cls
1608  040E              ; ---------------------------------
1609  040E              _game_cls:
1610  040E  CD 00 00    	call	_NIRVANAP_stop
1611  0411  2E 00       	ld	l,0x00
1612  0413  CD 00 00    	call	_zx_cls_fastcall
1613  0416  21 00 00    	ld	hl,_screen_ink
1614  0419  36 07       	ld	(hl),0x07
1615  041B  C3 00 00    	jp  _NIRVANAP_start
1616  041E              	SECTION code_compiler
1617  041E              ;	---------------------------------
1618  041E              ; Function game_update_stats is a stub
1619  041E              ; ---------------------------------
1620  041E              EXTERN l_ret
1621  041E              defc _game_update_stats = l_ret
1622  041E              	SECTION code_compiler
1623  041E              ;	---------------------------------
1624  041E              ; Function game_start_timer
1625  041E              ; ---------------------------------
1626  041E              _game_start_timer:
1627  041E  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1628  0421  36 CD       	ld	(hl),0xcd
1629  0423  23          	inc	hl
1630  0424  11 00 00    	ld	de,_game_tick
1631  0427  73          	ld	(hl), e
1632  0428  23          	inc	hl
1633  0429  72          	ld	(hl), d
1634  042A  C9          	ret
1635  042B              	SECTION code_compiler
1636  042B              ;	---------------------------------
1637  042B              ; Function game_anim_conveyor
1638  042B              ; ---------------------------------
1639  042B              _game_anim_conveyor:
1640  042B  CD 00 00    	call	___sdcc_enter_ix
1641  042E  F5          	push	af
1642  042F  F5          	push	af
1643  0430  3B          	dec	sp
1644  0431  01 60 00    	ld	bc,_btiles+96
1645  0434  3A 00 00    	ld	a,(_game_conveyor_lin)
1646  0437  32 00 00    	ld	(_i),a
1647  043A  C6 08       	add	a,0x08
1648  043C  DD 77 FB    	ld	(ix-5),a
1649  043F  0A          	ld	a, (bc)
1650  0440  5F          	ld	e, a
1651  0441  3A 00 00    	ld	a,(_game_conveyor_dir)
1652  0444  3C          	inc	a
1653  0445  20 14       	jr	NZ,l_game_anim_conveyor_00102
1654  0447  7B          	ld	a, e
1655  0448  87          	add	a, a
1656  0449  57          	ld	d, a
1657  044A  7B          	ld	a, e
1658  044B  07          	rlca
1659  044C  E6 01       	and	a,0x01
1660  044E  B2          	or	a, d
1661  044F  57          	ld	d,a
1662  0450  02          	ld	(bc),a
1663  0451  87          	add	a, a
1664  0452  5F          	ld	e, a
1665  0453  7A          	ld	a, d
1666  0454  07          	rlca
1667  0455  E6 01       	and	a,0x01
1668  0457  B3          	or	a, e
1669  0458  02          	ld	(bc), a
1670  0459  18 14       	jr	l_game_anim_conveyor_00121
1671  045B              l_game_anim_conveyor_00102:
1672  045B  7B          	ld	a, e
1673  045C  0F          	rrca
1674  045D  E6 80       	and	a,0x80
1675  045F  6F          	ld	l, a
1676  0460  7B          	ld	a,e
1677  0461  CB 3F       	srl	a
1678  0463  B5          	or	a, l
1679  0464  5F          	ld	e,a
1680  0465  02          	ld	(bc),a
1681  0466  0F          	rrca
1682  0467  E6 80       	and	a,0x80
1683  0469  6F          	ld	l, a
1684  046A  CB 3B       	srl	e
1685  046C  7D          	ld	a, l
1686  046D  B3          	or	a, e
1687  046E  02          	ld	(bc), a
1688  046F              l_game_anim_conveyor_00121:
1689  046F              l_game_anim_conveyor_00112:
1690  046F  3A 00 00    	ld	a,(_i)
1691  0472  DD 96 FB    	sub	a,(ix-5)
1692  0475  D2 FE 04    	jp	NC, l_game_anim_conveyor_00115
1693  0478  3A 00 00    	ld	a,(_game_conveyor_col0)
1694  047B  DD 77 FC    	ld	(ix-4),a
1695  047E  2A 00 00    	ld	hl,(_i)
1696  0481  CD 00 00    	call	_zx_py2saddr_fastcall
1697  0484  EB          	ex	de,hl
1698  0485  7B          	ld	a, e
1699  0486  DD 86 FC    	add	a,(ix-4)
1700  0489  5F          	ld	e, a
1701  048A  7A          	ld	a, d
1702  048B  CE 00       	adc	a,0x00
1703  048D  57          	ld	d, a
1704  048E  DD 7E FC    	ld	a,(ix-4)
1705  0491  DD 77 FF    	ld	(ix-1),a
1706  0494              l_game_anim_conveyor_00104:
1707  0494  DD 7E FF    	ld	a,(ix-1)
1708  0497  21 00 00    	ld	hl,_game_conveyor_col1
1709  049A  96          	sub	a, (hl)
1710  049B  30 08       	jr	NC,l_game_anim_conveyor_00106
1711  049D  0A          	ld	a, (bc)
1712  049E  12          	ld	(de), a
1713  049F  13          	inc	de
1714  04A0  DD 34 FF    	inc	(ix-1)
1715  04A3  18 EF       	jr	l_game_anim_conveyor_00104
1716  04A5              l_game_anim_conveyor_00106:
1717  04A5  03          	inc	bc
1718  04A6  03          	inc	bc
1719  04A7  21 00 00    	ld	hl,_i
1720  04AA  34          	inc	(hl)
1721  04AB  3A 00 00    	ld	a,(_game_conveyor_lin)
1722  04AE  5F          	ld	e,a
1723  04AF  16 00       	ld	d,0x00
1724  04B1  13          	inc	de
1725  04B2  13          	inc	de
1726  04B3  DD 73 FD    	ld	(ix-3),e
1727  04B6  DD 72 FE    	ld	(ix-2),d
1728  04B9  3A 00 00    	ld	a,(_i)
1729  04BC  5F          	ld	e,a
1730  04BD  16 00       	ld	d,0x00
1731  04BF  DD 7E FD    	ld	a,(ix-3)
1732  04C2  93          	sub	a, e
1733  04C3  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1734  04C5  DD 7E FE    	ld	a,(ix-2)
1735  04C8  92          	sub	a, d
1736  04C9  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1737  04CB  0A          	ld	a, (bc)
1738  04CC  5F          	ld	e, a
1739  04CD  3A 00 00    	ld	a,(_game_conveyor_dir)
1740  04D0  3C          	inc	a
1741  04D1  20 16       	jr	NZ,l_game_anim_conveyor_00108
1742  04D3  7B          	ld	a, e
1743  04D4  0F          	rrca
1744  04D5  E6 80       	and	a,0x80
1745  04D7  57          	ld	d, a
1746  04D8  CB 3B       	srl	e
1747  04DA  7A          	ld	a, d
1748  04DB  B3          	or	a, e
1749  04DC  57          	ld	d,a
1750  04DD  02          	ld	(bc),a
1751  04DE  0F          	rrca
1752  04DF  E6 80       	and	a,0x80
1753  04E1  5F          	ld	e, a
1754  04E2  CB 3A       	srl	d
1755  04E4  7B          	ld	a, e
1756  04E5  B2          	or	a, d
1757  04E6  02          	ld	(bc), a
1758  04E7  18 86       	jr	l_game_anim_conveyor_00112
1759  04E9              l_game_anim_conveyor_00108:
1760  04E9  7B          	ld	a, e
1761  04EA  87          	add	a, a
1762  04EB  57          	ld	d, a
1763  04EC  7B          	ld	a, e
1764  04ED  07          	rlca
1765  04EE  E6 01       	and	a,0x01
1766  04F0  B2          	or	a, d
1767  04F1  5F          	ld	e,a
1768  04F2  02          	ld	(bc),a
1769  04F3  87          	add	a, a
1770  04F4  57          	ld	d, a
1771  04F5  7B          	ld	a, e
1772  04F6  07          	rlca
1773  04F7  E6 01       	and	a,0x01
1774  04F9  B2          	or	a, d
1775  04FA  02          	ld	(bc), a
1776  04FB  C3 6F 04    	jp	l_game_anim_conveyor_00112
1777  04FE              l_game_anim_conveyor_00115:
1778  04FE  DD F9       	ld	sp, ix
1779  0500  DD E1       	pop	ix
1780  0502  C9          	ret
1781  0503              	SECTION code_compiler
1782  0503              ;	---------------------------------
1783  0503              ; Function game_round_init
1784  0503              ; ---------------------------------
1785  0503              _game_round_init:
1786  0503  CD 00 00    	call	___sdcc_enter_ix
1787  0506  21 C2 FF    	ld	hl, -62
1788  0509  39          	add	hl, sp
1789  050A  F9          	ld	sp, hl
1790  050B  21 14 00    	ld	hl,0x0014
1791  050E  39          	add	hl, sp
1792  050F  4D          	ld	c,l
1793  0510  44          	ld	b,h
1794  0511  36 05       	ld	(hl), +((___str_1) & 0xFF)
1795  0513  23          	inc	hl
1796  0514  36 00       	ld	(hl), +((___str_1) / 256)
1797  0516  59          	ld	e, c
1798  0517  50          	ld	d, b
1799  0518  13          	inc	de
1800  0519  13          	inc	de
1801  051A  3E 14       	ld	a, +((___str_2) & 0xFF)
1802  051C  12          	ld	(de), a
1803  051D  13          	inc	de
1804  051E  3E 00       	ld	a, +((___str_2) / 256)
1805  0520  12          	ld	(de), a
1806  0521  21 04 00    	ld	hl,0x0004
1807  0524  09          	add	hl,bc
1808  0525  36 22       	ld	(hl), +((___str_3) & 0xFF)
1809  0527  EB          	ex	de,hl
1810  0528  13          	inc	de
1811  0529  3E 00       	ld	a, +((___str_3) / 256)
1812  052B  12          	ld	(de), a
1813  052C  21 06 00    	ld	hl,0x0006
1814  052F  09          	add	hl,bc
1815  0530  36 2C       	ld	(hl), +((___str_4) & 0xFF)
1816  0532  EB          	ex	de,hl
1817  0533  13          	inc	de
1818  0534  3E 00       	ld	a, +((___str_4) / 256)
1819  0536  12          	ld	(de), a
1820  0537  21 08 00    	ld	hl,0x0008
1821  053A  09          	add	hl,bc
1822  053B  36 47       	ld	(hl), +((___str_5) & 0xFF)
1823  053D  EB          	ex	de,hl
1824  053E  13          	inc	de
1825  053F  3E 00       	ld	a, +((___str_5) / 256)
1826  0541  12          	ld	(de), a
1827  0542  21 0A 00    	ld	hl,0x000a
1828  0545  09          	add	hl,bc
1829  0546  36 55       	ld	(hl), +((___str_6) & 0xFF)
1830  0548  EB          	ex	de,hl
1831  0549  13          	inc	de
1832  054A  3E 00       	ld	a, +((___str_6) / 256)
1833  054C  12          	ld	(de), a
1834  054D  21 0C 00    	ld	hl,0x000c
1835  0550  09          	add	hl,bc
1836  0551  36 66       	ld	(hl), +((___str_7) & 0xFF)
1837  0553  EB          	ex	de,hl
1838  0554  13          	inc	de
1839  0555  3E 00       	ld	a, +((___str_7) / 256)
1840  0557  12          	ld	(de), a
1841  0558  21 0E 00    	ld	hl,0x000e
1842  055B  09          	add	hl,bc
1843  055C  36 6E       	ld	(hl), +((___str_8) & 0xFF)
1844  055E  EB          	ex	de,hl
1845  055F  13          	inc	de
1846  0560  3E 00       	ld	a, +((___str_8) / 256)
1847  0562  12          	ld	(de), a
1848  0563  21 10 00    	ld	hl,0x0010
1849  0566  09          	add	hl,bc
1850  0567  36 80       	ld	(hl), +((___str_9) & 0xFF)
1851  0569  EB          	ex	de,hl
1852  056A  13          	inc	de
1853  056B  3E 00       	ld	a, +((___str_9) / 256)
1854  056D  12          	ld	(de), a
1855  056E  21 12 00    	ld	hl,0x0012
1856  0571  09          	add	hl,bc
1857  0572  36 94       	ld	(hl), +((___str_10) & 0xFF)
1858  0574  EB          	ex	de,hl
1859  0575  13          	inc	de
1860  0576  3E 00       	ld	a, +((___str_10) / 256)
1861  0578  12          	ld	(de), a
1862  0579  21 14 00    	ld	hl,0x0014
1863  057C  09          	add	hl,bc
1864  057D  36 B4       	ld	(hl), +((___str_11) & 0xFF)
1865  057F  EB          	ex	de,hl
1866  0580  13          	inc	de
1867  0581  3E 00       	ld	a, +((___str_11) / 256)
1868  0583  12          	ld	(de), a
1869  0584  21 16 00    	ld	hl,0x0016
1870  0587  09          	add	hl,bc
1871  0588  36 C1       	ld	(hl), +((___str_12) & 0xFF)
1872  058A  EB          	ex	de,hl
1873  058B  13          	inc	de
1874  058C  3E 00       	ld	a, +((___str_12) / 256)
1875  058E  12          	ld	(de), a
1876  058F  21 18 00    	ld	hl,0x0018
1877  0592  09          	add	hl,bc
1878  0593  36 CF       	ld	(hl), +((___str_13) & 0xFF)
1879  0595  EB          	ex	de,hl
1880  0596  13          	inc	de
1881  0597  3E 00       	ld	a, +((___str_13) / 256)
1882  0599  12          	ld	(de), a
1883  059A  21 1A 00    	ld	hl,0x001a
1884  059D  09          	add	hl,bc
1885  059E  36 E5       	ld	(hl), +((___str_14) & 0xFF)
1886  05A0  EB          	ex	de,hl
1887  05A1  13          	inc	de
1888  05A2  3E 00       	ld	a, +((___str_14) / 256)
1889  05A4  12          	ld	(de), a
1890  05A5  21 1C 00    	ld	hl,0x001c
1891  05A8  09          	add	hl,bc
1892  05A9  36 F9       	ld	(hl), +((___str_15) & 0xFF)
1893  05AB  EB          	ex	de,hl
1894  05AC  13          	inc	de
1895  05AD  3E 00       	ld	a, +((___str_15) / 256)
1896  05AF  12          	ld	(de), a
1897  05B0  21 1E 00    	ld	hl,0x001e
1898  05B3  09          	add	hl,bc
1899  05B4  36 1A       	ld	(hl), +((___str_16) & 0xFF)
1900  05B6  EB          	ex	de,hl
1901  05B7  13          	inc	de
1902  05B8  3E 01       	ld	a, +((___str_16) / 256)
1903  05BA  12          	ld	(de), a
1904  05BB  21 20 00    	ld	hl,0x0020
1905  05BE  09          	add	hl,bc
1906  05BF  36 39       	ld	(hl), +((___str_17) & 0xFF)
1907  05C1  EB          	ex	de,hl
1908  05C2  13          	inc	de
1909  05C3  3E 01       	ld	a, +((___str_17) / 256)
1910  05C5  12          	ld	(de), a
1911  05C6  21 22 00    	ld	hl,0x0022
1912  05C9  09          	add	hl,bc
1913  05CA  36 4B       	ld	(hl), +((___str_18) & 0xFF)
1914  05CC  EB          	ex	de,hl
1915  05CD  13          	inc	de
1916  05CE  3E 01       	ld	a, +((___str_18) / 256)
1917  05D0  12          	ld	(de), a
1918  05D1  21 24 00    	ld	hl,0x0024
1919  05D4  09          	add	hl,bc
1920  05D5  36 5E       	ld	(hl), +((___str_19) & 0xFF)
1921  05D7  EB          	ex	de,hl
1922  05D8  13          	inc	de
1923  05D9  3E 01       	ld	a, +((___str_19) / 256)
1924  05DB  12          	ld	(de), a
1925  05DC  21 26 00    	ld	hl,0x0026
1926  05DF  09          	add	hl,bc
1927  05E0  36 67       	ld	(hl), +((___str_20) & 0xFF)
1928  05E2  EB          	ex	de,hl
1929  05E3  13          	inc	de
1930  05E4  3E 01       	ld	a, +((___str_20) / 256)
1931  05E6  12          	ld	(de), a
1932  05E7  21 00 00    	ld	hl,0x0000
1933  05EA  39          	add	hl, sp
1934  05EB  36 0E       	ld	(hl),0x0e
1935  05ED  5D          	ld	e,l
1936  05EE  54          	ld	d,h
1937  05EF  23          	inc	hl
1938  05F0  36 0D       	ld	(hl),0x0d
1939  05F2  6B          	ld	l, e
1940  05F3  62          	ld	h, d
1941  05F4  23          	inc	hl
1942  05F5  23          	inc	hl
1943  05F6  36 09       	ld	(hl),0x09
1944  05F8  6B          	ld	l, e
1945  05F9  62          	ld	h, d
1946  05FA  23          	inc	hl
1947  05FB  23          	inc	hl
1948  05FC  23          	inc	hl
1949  05FD  36 1A       	ld	(hl),0x1a
1950  05FF  21 04 00    	ld	hl,0x0004
1951  0602  19          	add	hl, de
1952  0603  36 10       	ld	(hl),0x10
1953  0605  21 05 00    	ld	hl,0x0005
1954  0608  19          	add	hl, de
1955  0609  36 07       	ld	(hl),0x07
1956  060B  21 06 00    	ld	hl,0x0006
1957  060E  19          	add	hl, de
1958  060F  36 11       	ld	(hl),0x11
1959  0611  21 07 00    	ld	hl,0x0007
1960  0614  19          	add	hl, de
1961  0615  36 13       	ld	(hl),0x13
1962  0617  21 08 00    	ld	hl,0x0008
1963  061A  19          	add	hl, de
1964  061B  36 1F       	ld	(hl),0x1f
1965  061D  21 09 00    	ld	hl,0x0009
1966  0620  19          	add	hl, de
1967  0621  36 0C       	ld	(hl),0x0c
1968  0623  21 0A 00    	ld	hl,0x000a
1969  0626  19          	add	hl, de
1970  0627  36 0D       	ld	(hl),0x0d
1971  0629  21 0B 00    	ld	hl,0x000b
1972  062C  19          	add	hl, de
1973  062D  36 13       	ld	(hl),0x13
1974  062F  21 0C 00    	ld	hl,0x000c
1975  0632  19          	add	hl, de
1976  0633  36 15       	ld	(hl),0x15
1977  0635  21 0D 00    	ld	hl,0x000d
1978  0638  19          	add	hl, de
1979  0639  36 13       	ld	(hl),0x13
1980  063B  21 0E 00    	ld	hl,0x000e
1981  063E  19          	add	hl, de
1982  063F  36 20       	ld	(hl),0x20
1983  0641  21 0F 00    	ld	hl,0x000f
1984  0644  19          	add	hl, de
1985  0645  36 1E       	ld	(hl),0x1e
1986  0647  21 10 00    	ld	hl,0x0010
1987  064A  19          	add	hl, de
1988  064B  36 11       	ld	(hl),0x11
1989  064D  21 11 00    	ld	hl,0x0011
1990  0650  19          	add	hl, de
1991  0651  36 12       	ld	(hl),0x12
1992  0653  21 12 00    	ld	hl,0x0012
1993  0656  19          	add	hl, de
1994  0657  36 08       	ld	(hl),0x08
1995  0659  21 13 00    	ld	hl,0x0013
1996  065C  19          	add	hl, de
1997  065D  36 14       	ld	(hl),0x14
1998  065F  21 00 00    	ld	hl,0x0000
1999  0662  22 00 00    	ld	(_loop_count),hl
2000  0665  21 00 00    	ld	hl,0
2001  0668  22 00 00    	ld	(_curr_time),hl
2002  066B  21 00 00    	ld	hl,0x0000
2003  066E  22 00 00    	ld	(_frame_time),hl
2004  0671  21 00 00    	ld	hl,_player_coins
2005  0674  36 00       	ld	(hl),0x00
2006  0676  21 00 00    	ld	hl,_game_conveyor_flag
2007  0679  36 00       	ld	(hl),0x00
2008  067B  21 00 00    	ld	hl,_i
2009  067E  36 00       	ld	(hl),0x00
2010  0680              l_game_round_init_00107:
2011  0680  C5          	push	bc
2012  0681  D5          	push	de
2013  0682  21 00 00    	ld	hl,0x0000
2014  0685  E5          	push	hl
2015  0686  AF          	xor	a, a
2016  0687  2A 00 00    	ld	hl,(_i)
2017  068A  67          	ld	h,a
2018  068B  E5          	push	hl
2019  068C  CD 00 00    	call	_NIRVANAP_spriteT_callee
2020  068F  D1          	pop	de
2021  0690  C1          	pop	bc
2022  0691  21 00 00    	ld	hl,_i
2023  0694  7E          	ld	a,(hl)
2024  0695  3C          	inc	a
2025  0696  77          	ld	(hl),a
2026  0697  D6 08       	sub	a,0x08
2027  0699  38 E5       	jr	C,l_game_round_init_00107
2028  069B  36 00       	ld	(hl),0x00
2029  069D  21 00 00    	ld	hl,0x0000
2030  06A0  22 00 00    	ld	(_tmp_ui),hl
2031  06A3              l_game_round_init_00102:
2032  06A3  3A 00 00    	ld	a,(_i)
2033  06A6  21 00 00    	ld	hl,_scr_curr
2034  06A9  96          	sub	a, (hl)
2035  06AA  30 2C       	jr	NC,l_game_round_init_00104
2036  06AC  7B          	ld	a, e
2037  06AD  21 00 00    	ld	hl,_i
2038  06B0  86          	add	a, (hl)
2039  06B1  DD 77 FE    	ld	(ix-2),a
2040  06B4  6F          	ld	l,a
2041  06B5  7A          	ld	a,d
2042  06B6  CE 00       	adc	a,0x00
2043  06B8  DD 77 FF    	ld	(ix-1),a
2044  06BB  67          	ld	h,a
2045  06BC  6E          	ld	l, (hl)
2046  06BD  DD 75 FE    	ld	(ix-2),l
2047  06C0  DD 36 FF 00 	ld	(ix-1),0x00
2048  06C4  21 00 00    	ld	hl,_tmp_ui
2049  06C7  7E          	ld	a, (hl)
2050  06C8  DD 86 FE    	add	a,(ix-2)
2051  06CB  77          	ld	(hl), a
2052  06CC  23          	inc	hl
2053  06CD  7E          	ld	a, (hl)
2054  06CE  DD 8E FF    	adc	a,(ix-1)
2055  06D1  77          	ld	(hl), a
2056  06D2  21 00 00    	ld	hl,_i
2057  06D5  34          	inc	(hl)
2058  06D6  18 CB       	jr	l_game_round_init_00102
2059  06D8              l_game_round_init_00104:
2060  06D8  C5          	push	bc
2061  06D9  D5          	push	de
2062  06DA  21 7C 01    	ld	hl,___str_21
2063  06DD  E5          	push	hl
2064  06DE  21 16 00    	ld	hl,0x0016
2065  06E1  E5          	push	hl
2066  06E2  CD 00 00    	call	_zx_print_str
2067  06E5  D1          	pop	de
2068  06E6  C1          	pop	bc
2069  06E7  21 00 00    	ld	hl,_screen_ink
2070  06EA  36 30       	ld	(hl),0x30
2071  06EC  C5          	push	bc
2072  06ED  D5          	push	de
2073  06EE  21 9C 01    	ld	hl,___str_22
2074  06F1  E5          	push	hl
2075  06F2  21 11 00    	ld	hl,0x0011
2076  06F5  E5          	push	hl
2077  06F6  CD 00 00    	call	_zx_print_str
2078  06F9  D1          	pop	de
2079  06FA  C1          	pop	bc
2080  06FB  3A 00 00    	ld	a,(_scr_curr)
2081  06FE  DD 77 FE    	ld	(ix-2),a
2082  0701  6F          	ld	l, a
2083  0702  26 00       	ld	h,0x00
2084  0704  DD 74 FF    	ld	(ix-1),h
2085  0707  29          	add	hl, hl
2086  0708  09          	add	hl, bc
2087  0709  4E          	ld	c, (hl)
2088  070A  23          	inc	hl
2089  070B  46          	ld	b, (hl)
2090  070C  2A 00 00    	ld	hl,(_scr_curr)
2091  070F  26 00       	ld	h,0x00
2092  0711  19          	add	hl,de
2093  0712  6E          	ld	l, (hl)
2094  0713  AF          	xor	a,a
2095  0714  67          	ld	h,a
2096  0715  EB          	ex	de,hl
2097  0716  21 20 00    	ld	hl,0x0020
2098  0719  ED 52       	sbc	hl,de
2099  071B  CB 2C       	sra	h
2100  071D  CB 1D       	rr	l
2101  071F  EB          	ex	de,hl
2102  0720  53          	ld	d, e
2103  0721  C5          	push	bc
2104  0722  1E 11       	ld	e,0x11
2105  0724  D5          	push	de
2106  0725  CD 00 00    	call	_zx_print_str
2107  0728  21 00 00    	ld	hl,_screen_ink
2108  072B  36 57       	ld	(hl),0x57
2109  072D  21 BD 01    	ld	hl,___str_23
2110  0730  E5          	push	hl
2111  0731  21 12 00    	ld	hl,0x0012
2112  0734  E5          	push	hl
2113  0735  CD 00 00    	call	_zx_print_str
2114  0738  21 00 00    	ld	hl,_screen_ink
2115  073B  36 67       	ld	(hl),0x67
2116  073D  21 C8 01    	ld	hl,___str_24
2117  0740  E5          	push	hl
2118  0741  21 12 0A    	ld	hl,0x0a12
2119  0744  E5          	push	hl
2120  0745  CD 00 00    	call	_zx_print_str
2121  0748  21 00 00    	ld	hl,_screen_ink
2122  074B  36 06       	ld	(hl),0x06
2123  074D  21 DF 01    	ld	hl,___str_25
2124  0750  E5          	push	hl
2125  0751  21 14 00    	ld	hl,0x0014
2126  0754  E5          	push	hl
2127  0755  CD 00 00    	call	_zx_print_str
2128  0758  CD 00 00    	call	_spr_init_effects
2129  075B  CD 00 00    	call	_ay_reset
2130  075E  CD 9D 0A    	call	_game_page_map
2131  0761  CD 00 00    	call	_spr_btile_paint_back
2132  0764  21 20 90    	ld	hl,0x9020
2133  0767  E5          	push	hl
2134  0768  AF          	xor	a, a
2135  0769  F5          	push	af
2136  076A  33          	inc	sp
2137  076B  21 00 00    	ld	hl,_attrib_osd
2138  076E  E5          	push	hl
2139  076F  CD F3 07    	call	_game_paint_attrib
2140  0772  F1          	pop	af
2141  0773  F1          	pop	af
2142  0774  33          	inc	sp
2143  0775  CD F2 00    	call	_game_draw_map
2144  0778  21 00 00    	ld	hl,_game_song_play_start
2145  077B  36 00       	ld	(hl),0x00
2146  077D  3A 00 00    	ld	a,(_game_over)
2147  0780  B7          	or	a, a
2148  0781  20 10       	jr	NZ,l_game_round_init_00106
2149  0783  2A 00 00    	ld	hl,(_player_col_scr)
2150  0786  26 08       	ld	h,0x08
2151  0788  3A 00 00    	ld	a,(_player_lin_scr)
2152  078B  E5          	push	hl
2153  078C  F5          	push	af
2154  078D  33          	inc	sp
2155  078E  CD 00 00    	call	_player_init
2156  0791  F1          	pop	af
2157  0792  33          	inc	sp
2158  0793              l_game_round_init_00106:
2159  0793  CD 00 00    	call	_game_update_stats
2160  0796  CD 00 00    	call	_audio_ingame
2161  0799  21 00 00    	ld	hl,_screen_ink
2162  079C  36 12       	ld	(hl),0x12
2163  079E  21 9C 01    	ld	hl,___str_22
2164  07A1  E5          	push	hl
2165  07A2  21 00 00    	ld	hl,0x0000
2166  07A5  E5          	push	hl
2167  07A6  CD 00 00    	call	_zx_print_str
2168  07A9  2E 02       	ld	l,0x02
2169  07AB  CD 00 00    	call	_zx_border_fastcall
2170  07AE  21 00 00    	ld	hl,_screen_ink
2171  07B1  36 07       	ld	(hl),0x07
2172  07B3  DD F9       	ld	sp, ix
2173  07B5  DD E1       	pop	ix
2174  07B7  C9          	ret
2175  07B8              	SECTION rodata_compiler
2176  0005              ___str_1:
2177  0005  43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "Central Cavern"
2178  0013  00          	DEFB 0x00
2179  0014              	SECTION rodata_compiler
2180  0014              ___str_2:
2181  0014  54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "The Cold Room"
2182  0021  00          	DEFB 0x00
2183  0022              	SECTION rodata_compiler
2184  0022              ___str_3:
2185  0022  4D 65 6E 61 67 65 72 69 65 
                        	DEFM "Menagerie"
2186  002B  00          	DEFB 0x00
2187  002C              	SECTION rodata_compiler
2188  002C              ___str_4:
2189  002C  41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "Abandoned Uranium Workings"
2190  0046  00          	DEFB 0x00
2191  0047              	SECTION rodata_compiler
2192  0047              ___str_5:
2193  0047  45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "Eugene's Lair"
2194  0054  00          	DEFB 0x00
2195  0055              	SECTION rodata_compiler
2196  0055              ___str_6:
2197  0055  50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "Processing Plant"
2198  0065  00          	DEFB 0x00
2199  0066              	SECTION rodata_compiler
2200  0066              ___str_7:
2201  0066  54 68 65 20 56 61 74 
                        	DEFM "The Vat"
2202  006D  00          	DEFB 0x00
2203  006E              	SECTION rodata_compiler
2204  006E              ___str_8:
2205  006E  57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "Wacky Amoebatrons"
2206  007F  00          	DEFB 0x00
2207  0080              	SECTION rodata_compiler
2208  0080              ___str_9:
2209  0080  54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "The Endorian Forest"
2210  0093  00          	DEFB 0x00
2211  0094              	SECTION rodata_compiler
2212  0094              ___str_10:
2213  0094  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2214  00B3  00          	DEFB 0x00
2215  00B4              	SECTION rodata_compiler
2216  00B4              ___str_11:
2217  00B4  4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "Ore Refinery"
2218  00C0  00          	DEFB 0x00
2219  00C1              	SECTION rodata_compiler
2220  00C1              ___str_12:
2221  00C1  54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "The Warehouse"
2222  00CE  00          	DEFB 0x00
2223  00CF              	SECTION rodata_compiler
2224  00CF              ___str_13:
2225  00CF  53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "Solar Power Generator"
2226  00E4  00          	DEFB 0x00
2227  00E5              	SECTION rodata_compiler
2228  00E5              ___str_14:
2229  00E5  41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "Amoebatrons Revenge"
2230  00F8  00          	DEFB 0x00
2231  00F9              	SECTION rodata_compiler
2232  00F9              ___str_15:
2233  00F9  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2234  0119  00          	DEFB 0x00
2235  011A              	SECTION rodata_compiler
2236  011A              ___str_16:
2237  011A  52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Return of the Alien Kong Beast"
2238  0138  00          	DEFB 0x00
2239  0139              	SECTION rodata_compiler
2240  0139              ___str_17:
2241  0139  54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "The Final Barrier"
2242  014A  00          	DEFB 0x00
2243  014B              	SECTION rodata_compiler
2244  014B              ___str_18:
2245  014B  53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "Skylab Landing Bay"
2246  015D  00          	DEFB 0x00
2247  015E              	SECTION rodata_compiler
2248  015E              ___str_19:
2249  015E  54 68 65 20 42 61 6E 6B 
                        	DEFM "The Bank"
2250  0166  00          	DEFB 0x00
2251  0167              	SECTION rodata_compiler
2252  0167              ___str_20:
2253  0167  54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "The Sixteenth Cavern"
2254  017B  00          	DEFB 0x00
2255  017C              	SECTION rodata_compiler
2256  017C              ___str_21:
2257  017C  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                               "
2258  019B  00          	DEFB 0x00
2259  019C              	SECTION rodata_compiler
2260  019C              ___str_22:
2261  019C  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2262  01BC  00          	DEFB 0x00
2263  01BD              	SECTION rodata_compiler
2264  01BD              ___str_23:
2265  01BD  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2266  01C7  00          	DEFB 0x00
2267  01C8              	SECTION rodata_compiler
2268  01C8              ___str_24:
2269  01C8  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2270  01DE  00          	DEFB 0x00
2271  01DF              	SECTION rodata_compiler
2272  01DF              ___str_25:
2273  01DF  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
2274  01FF  00          	DEFB 0x00
2275  0200              	SECTION code_compiler
2276  07B8              ;	---------------------------------
2277  07B8              ; Function game_print_header
2278  07B8              ; ---------------------------------
2279  07B8              	defc _game_print_header	=	_game_print_score
2280  07B8              	SECTION code_compiler
2281  07B8              ;	---------------------------------
2282  07B8              ; Function game_check_map
2283  07B8              ; ---------------------------------
2284  07B8              _game_check_map:
2285  07B8  CD 00 00    	call	___sdcc_enter_ix
2286  07BB  DD 66 05    	ld	h,(ix+5)
2287  07BE  DD 6E 04    	ld	l,(ix+4)
2288  07C1  E5          	push	hl
2289  07C2  CD 00 00    	call	_spr_calc_index
2290  07C5  F1          	pop	af
2291  07C6  22 00 00    	ld	(_index1),hl
2292  07C9  21 00 00    	ld	hl,_index1
2293  07CC  DD E1       	pop	ix
2294  07CE  C3 D1 07    	jp	_game_check_cell
2295  07D1              	SECTION code_compiler
2296  07D1              ;	---------------------------------
2297  07D1              ; Function game_check_cell
2298  07D1              ; ---------------------------------
2299  07D1              _game_check_cell:
2300  07D1  4E          	ld	c, (hl)
2301  07D2  23          	inc	hl
2302  07D3  46          	ld	b, (hl)
2303  07D4  AF          	xor	a, a
2304  07D5  B9          	cp	a, c
2305  07D6  3E 02       	ld	a,0x02
2306  07D8  98          	sbc	a, b
2307  07D9  30 04       	jr	NC,l_game_check_cell_00102
2308  07DB  2E 01       	ld	l,0x01
2309  07DD  18 13       	jr	l_game_check_cell_00106
2310  07DF              l_game_check_cell_00102:
2311  07DF  21 00 00    	ld	hl,_scr_map
2312  07E2  09          	add	hl, bc
2313  07E3  5E          	ld	e, (hl)
2314  07E4  ED 43 00 00 	ld	(_index1),bc
2315  07E8  7B          	ld	a,e
2316  07E9  D6 03       	sub	a,0x03
2317  07EB  28 04       	jr	Z,l_game_check_cell_00104
2318  07ED  2E 00       	ld	l,0x00
2319  07EF  18 01       	jr	l_game_check_cell_00106
2320  07F1              l_game_check_cell_00104:
2321  07F1  6B          	ld	l, e
2322  07F2              l_game_check_cell_00106:
2323  07F2  C9          	ret
2324  07F3              	SECTION code_compiler
2325  07F3              ;	---------------------------------
2326  07F3              ; Function game_paint_attrib
2327  07F3              ; ---------------------------------
2328  07F3              _game_paint_attrib:
2329  07F3  CD 00 00    	call	___sdcc_enter_ix
2330  07F6  DD 7E 06    	ld	a,(ix+6)
2331  07F9  32 00 00    	ld	(_tmp_uc),a
2332  07FC              l_game_paint_attrib_00103:
2333  07FC  21 00 00    	ld	hl,_tmp_uc
2334  07FF  7E          	ld	a, (hl)
2335  0800  DD 96 07    	sub	a,(ix+7)
2336  0803  30 15       	jr	NC,l_game_paint_attrib_00105
2337  0805  DD 4E 04    	ld	c,(ix+4)
2338  0808  DD 46 05    	ld	b,(ix+5)
2339  080B  66          	ld	h,(hl)
2340  080C  DD 6E 08    	ld	l,(ix+8)
2341  080F  E5          	push	hl
2342  0810  C5          	push	bc
2343  0811  CD 00 00    	call	_NIRVANAP_paintC_callee
2344  0814  21 00 00    	ld	hl,_tmp_uc
2345  0817  34          	inc	(hl)
2346  0818  18 E2       	jr	l_game_paint_attrib_00103
2347  081A              l_game_paint_attrib_00105:
2348  081A  DD E1       	pop	ix
2349  081C  C9          	ret
2350  081D              	SECTION code_compiler
2351  081D              ;	---------------------------------
2352  081D              ; Function game_colour_message
2353  081D              ; ---------------------------------
2354  081D              _game_colour_message:
2355  081D  CD 00 00    	call	___sdcc_enter_ix
2356  0820  F5          	push	af
2357  0821  F5          	push	af
2358  0822  F5          	push	af
2359  0823  F5          	push	af
2360  0824  D1          	pop	de
2361  0825  21 00 00    	ld	hl,_tmp
2362  0828  36 01       	ld	(hl),0x01
2363  082A  2A 00 00    	ld	hl,(_curr_time)
2364  082D  22 00 00    	ld	(_frame_time),hl
2365  0830  E5          	push	hl
2366  0831  DD 7E 04    	ld	a,(ix+4)
2367  0834  4D          	ld	c,l
2368  0835  07          	rlca
2369  0836  07          	rlca
2370  0837  07          	rlca
2371  0838  E6 F8       	and	a,0xf8
2372  083A  DD 77 FA    	ld	(ix-6),a
2373  083D  C6 08       	add	a,0x08
2374  083F  DD 77 FF    	ld	(ix-1),a
2375  0842  DD 77 FE    	ld	(ix-2),a
2376  0845              l_game_colour_message_00112:
2377  0845  3A 00 00    	ld	a,(_tmp)
2378  0848  B7          	or	a, a
2379  0849  CA E8 08    	jp	Z, l_game_colour_message_00114
2380  084C  DD 46 07    	ld	b,(ix+7)
2381  084F  21 00 00    	ld	hl,0x0000
2382  0852  39          	add	hl, sp
2383  0853  EB          	ex	de,hl
2384  0854  C5          	push	bc
2385  0855  33          	inc	sp
2386  0856  D5          	push	de
2387  0857  CD 5E 09    	call	_game_check_time
2388  085A  F1          	pop	af
2389  085B  33          	inc	sp
2390  085C  7D          	ld	a, l
2391  085D  B7          	or	a, a
2392  085E  C2 E8 08    	jp	NZ, l_game_colour_message_00114
2393  0861  3E 05       	ld	a,0x05
2394  0863  F5          	push	af
2395  0864  33          	inc	sp
2396  0865  21 00 00    	ld	hl,_frame_time
2397  0868  E5          	push	hl
2398  0869  CD 5E 09    	call	_game_check_time
2399  086C  F1          	pop	af
2400  086D  33          	inc	sp
2401  086E  DD 75 FD    	ld	(ix-3),l
2402  0871  7D          	ld	a, l
2403  0872  B7          	or	a, a
2404  0873  28 4D       	jr	Z,l_game_colour_message_00105
2405  0875  2A 00 00    	ld	hl,(_curr_time)
2406  0878  DD 74 FC    	ld	(ix-4),h
2407  087B  DD 75 FB    	ld	(ix-5),l
2408  087E  7D          	ld	a, l
2409  087F  21 00 00    	ld	hl,_frame_time
2410  0882  77          	ld	(hl), a
2411  0883  DD 7E FC    	ld	a,(ix-4)
2412  0886  23          	inc	hl
2413  0887  77          	ld	(hl), a
2414  0888  3A 00 00    	ld	a,(_game_over)
2415  088B  B7          	or	a, a
2416  088C  28 1B       	jr	Z,l_game_colour_message_00102
2417  088E  DD 66 FE    	ld	h,(ix-2)
2418  0891  DD 6E 06    	ld	l,(ix+6)
2419  0894  E5          	push	hl
2420  0895  DD 7E 05    	ld	a,(ix+5)
2421  0898  F5          	push	af
2422  0899  33          	inc	sp
2423  089A  21 00 00    	ld	hl,_attrib_hl
2424  089D  E5          	push	hl
2425  089E  CD F3 07    	call	_game_paint_attrib
2426  08A1  F1          	pop	af
2427  08A2  F1          	pop	af
2428  08A3  33          	inc	sp
2429  08A4  CD 88 09    	call	_game_rotate_attrib
2430  08A7  18 19       	jr	l_game_colour_message_00105
2431  08A9              l_game_colour_message_00102:
2432  08A9  DD 66 FF    	ld	h,(ix-1)
2433  08AC  DD 6E 06    	ld	l,(ix+6)
2434  08AF  E5          	push	hl
2435  08B0  DD 7E 05    	ld	a,(ix+5)
2436  08B3  F5          	push	af
2437  08B4  33          	inc	sp
2438  08B5  21 00 00    	ld	hl,_attrib_osd
2439  08B8  E5          	push	hl
2440  08B9  CD F3 07    	call	_game_paint_attrib
2441  08BC  F1          	pop	af
2442  08BD  F1          	pop	af
2443  08BE  33          	inc	sp
2444  08BF  CD 0A 0A    	call	_game_rotate_attrib_osd
2445  08C2              l_game_colour_message_00105:
2446  08C2  DD 7E 09    	ld	a,(ix+9)
2447  08C5  B7          	or	a, a
2448  08C6  CA 45 08    	jp	Z, l_game_colour_message_00112
2449  08C9              l_game_colour_message_00106:
2450  08C9  21 00 00    	ld	hl,_k1
2451  08CC  E5          	push	hl
2452  08CD  2A 00 00    	ld	hl,(_joyfunc1)
2453  08D0  CD 00 00    	call	___sdcc_call_hl
2454  08D3  F1          	pop	af
2455  08D4  DD 74 FC    	ld	(ix-4),h
2456  08D7  DD 75 FB    	ld	(ix-5),l
2457  08DA  7C          	ld	a,h
2458  08DB  DD B6 FB    	or	a,(ix-5)
2459  08DE  CA 45 08    	jp	Z, l_game_colour_message_00112
2460  08E1  21 00 00    	ld	hl,_tmp
2461  08E4  36 00       	ld	(hl),0x00
2462  08E6  18 E1       	jr	l_game_colour_message_00106
2463  08E8              l_game_colour_message_00114:
2464  08E8  DD 7E 06    	ld	a,(ix+6)
2465  08EB  DD 96 05    	sub	a,(ix+5)
2466  08EE  4F          	ld	c, a
2467  08EF  3A 00 00    	ld	a,(_game_over)
2468  08F2  B7          	or	a, a
2469  08F3  28 2F       	jr	Z,l_game_colour_message_00118
2470  08F5  21 00 00    	ld	hl,_tmp1
2471  08F8  71          	ld	(hl), c
2472  08F9  21 00 00    	ld	hl,_tmp0
2473  08FC  36 00       	ld	(hl),0x00
2474  08FE              l_game_colour_message_00121:
2475  08FE  3A 00 00    	ld	a,(_tmp0)
2476  0901  21 00 00    	ld	hl,_tmp1
2477  0904  96          	sub	a, (hl)
2478  0905  30 52       	jr	NC,l_game_colour_message_00126
2479  0907  DD 7E 05    	ld	a,(ix+5)
2480  090A  21 00 00    	ld	hl,_tmp0
2481  090D  86          	add	a, (hl)
2482  090E  4F          	ld	c, a
2483  090F  21 00 02    	ld	hl,___str_26
2484  0912  E5          	push	hl
2485  0913  79          	ld	a, c
2486  0914  F5          	push	af
2487  0915  33          	inc	sp
2488  0916  DD 7E 04    	ld	a,(ix+4)
2489  0919  F5          	push	af
2490  091A  33          	inc	sp
2491  091B  CD 00 00    	call	_zx_print_str
2492  091E  21 00 00    	ld	hl,_tmp0
2493  0921  34          	inc	(hl)
2494  0922  18 DA       	jr	l_game_colour_message_00121
2495  0924              l_game_colour_message_00118:
2496  0924  21 00 00    	ld	hl,_tmp1
2497  0927  71          	ld	(hl), c
2498  0928  DD 7E FA    	ld	a,(ix-6)
2499  092B  32 00 00    	ld	(_s_lin0),a
2500  092E  DD 7E 05    	ld	a,(ix+5)
2501  0931  CB 3F       	srl	a
2502  0933  87          	add	a, a
2503  0934  32 00 00    	ld	(_s_col1),a
2504  0937  21 00 00    	ld	hl,_tmp0
2505  093A  36 00       	ld	(hl),0x00
2506  093C              l_game_colour_message_00124:
2507  093C  3A 00 00    	ld	a,(_tmp0)
2508  093F  21 00 00    	ld	hl,_tmp1
2509  0942  96          	sub	a, (hl)
2510  0943  30 14       	jr	NC,l_game_colour_message_00126
2511  0945  3A 00 00    	ld	a,(_s_col1)
2512  0948  21 00 00    	ld	hl,_tmp0
2513  094B  86          	add	a, (hl)
2514  094C  32 00 00    	ld	(_s_col0),a
2515  094F  CD 00 00    	call	_spr_back_repaint
2516  0952  21 00 00    	ld	hl,_tmp0
2517  0955  34          	inc	(hl)
2518  0956  34          	inc	(hl)
2519  0957  18 E3       	jr	l_game_colour_message_00124
2520  0959              l_game_colour_message_00126:
2521  0959  DD F9       	ld	sp, ix
2522  095B  DD E1       	pop	ix
2523  095D  C9          	ret
2524  095E              	SECTION rodata_compiler
2525  0200              ___str_26:
2526  0200  20          	DEFM " "
2527  0201  00          	DEFB 0x00
2528  0202              	SECTION code_compiler
2529  095E              ;	---------------------------------
2530  095E              ; Function game_check_time
2531  095E              ; ---------------------------------
2532  095E              _game_check_time:
2533  095E  CD 00 00    	call	___sdcc_enter_ix
2534  0961  2A 00 00    	ld	hl,(_curr_time)
2535  0964  4D          	ld	c, l
2536  0965  DD 6E 04    	ld	l,(ix+4)
2537  0968  44          	ld	b,h
2538  0969  DD 66 05    	ld	h,(ix+5)
2539  096C  5E          	ld	e, (hl)
2540  096D  23          	inc	hl
2541  096E  56          	ld	d, (hl)
2542  096F  79          	ld	a, c
2543  0970  93          	sub	a, e
2544  0971  4F          	ld	c, a
2545  0972  78          	ld	a, b
2546  0973  9A          	sbc	a, d
2547  0974  47          	ld	b, a
2548  0975  DD 7E 06    	ld	a,(ix+6)
2549  0978  16 00       	ld	d,0x00
2550  097A  91          	sub	a, c
2551  097B  7A          	ld	a, d
2552  097C  98          	sbc	a, b
2553  097D  30 04       	jr	NC,l_game_check_time_00102
2554  097F  2E 01       	ld	l,0x01
2555  0981  18 02       	jr	l_game_check_time_00104
2556  0983              l_game_check_time_00102:
2557  0983  2E 00       	ld	l,0x00
2558  0985              l_game_check_time_00104:
2559  0985  DD E1       	pop	ix
2560  0987  C9          	ret
2561  0988              	SECTION code_compiler
2562  0988              ;	---------------------------------
2563  0988              ; Function game_rotate_attrib
2564  0988              ; ---------------------------------
2565  0988              _game_rotate_attrib:
2566  0988  3A 00 00    	ld	a,(_game_over)
2567  098B  B7          	or	a, a
2568  098C  C2 09 0A    	jp	NZ, l_game_rotate_attrib_00115
2569  098F  3A 00 00    	ld	a,(_game_round_up)
2570  0992  B7          	or	a, a
2571  0993  20 74       	jr	NZ,l_game_rotate_attrib_00115
2572  0995  3E 07       	ld	a,0x07
2573  0997  21 00 00    	ld	hl,_last_rotated
2574  099A  96          	sub	a, (hl)
2575  099B  30 02       	jr	NC,l_game_rotate_attrib_00102
2576  099D  36 00       	ld	(hl),0x00
2577  099F              l_game_rotate_attrib_00102:
2578  099F  3A 00 00    	ld	a,(_last_rotated)
2579  09A2  32 00 00    	ld	(_tmp_uc),a
2580  09A5              l_game_rotate_attrib_00113:
2581  09A5  21 00 00    	ld	hl,_tmp_uc
2582  09A8  7E          	ld	a, (hl)
2583  09A9  D6 08       	sub	a,0x08
2584  09AB  30 5C       	jr	NC,l_game_rotate_attrib_00115
2585  09AD  3E 00       	ld	a, +((_obj_col) & 0xFF)
2586  09AF  86          	add	a, (hl)
2587  09B0  4F          	ld	c, a
2588  09B1  3E 00       	ld	a, +((_obj_col) / 256)
2589  09B3  CE 00       	adc	a,0x00
2590  09B5  47          	ld	b, a
2591  09B6  0A          	ld	a, (bc)
2592  09B7  4F          	ld	c,a
2593  09B8  B7          	or	a, a
2594  09B9  28 44       	jr	Z,l_game_rotate_attrib_00106
2595  09BB  7E          	ld	a, (hl)
2596  09BC  3C          	inc	a
2597  09BD  32 00 00    	ld	(_last_rotated),a
2598  09C0  2A 00 00    	ld	hl,(_tmp_uc)
2599  09C3  26 00       	ld	h,0x00
2600  09C5  11 00 00    	ld	de,_obj_lin
2601  09C8  19          	add	hl,de
2602  09C9  46          	ld	b, (hl)
2603  09CA  79          	ld	a, c
2604  09CB  48          	ld	c,b
2605  09CC  47          	ld	b,a
2606  09CD  C5          	push	bc
2607  09CE  21 00 00    	ld	hl,_attrib_key
2608  09D1  E5          	push	hl
2609  09D2  CD 00 00    	call	_NIRVANAP_paintC_callee
2610  09D5  3A 00 00    	ld	a,(_game_attrib_osd)
2611  09D8  D6 07       	sub	a,0x07
2612  09DA  20 05       	jr	NZ,l_game_rotate_attrib_00104
2613  09DC  21 00 00    	ld	hl,_game_attrib_osd
2614  09DF  36 01       	ld	(hl),0x01
2615  09E1              l_game_rotate_attrib_00104:
2616  09E1  21 00 00    	ld	hl,_game_attrib_osd
2617  09E4  34          	inc	(hl)
2618  09E5  3A 00 00    	ld	a,(_map_paper)
2619  09E8  21 00 00    	ld	hl,_game_attrib_osd
2620  09EB  B6          	or	a, (hl)
2621  09EC  32 00 00    	ld	(_attrib_key),a
2622  09EF  32 01 00    	ld	((_attrib_key + 0x0001)),a
2623  09F2  32 02 00    	ld	((_attrib_key + 0x0002)),a
2624  09F5  32 03 00    	ld	((_attrib_key + 0x0003)),a
2625  09F8  21 00 00    	ld	hl,_tmp_uc
2626  09FB  36 08       	ld	(hl),0x08
2627  09FD  18 04       	jr	l_game_rotate_attrib_00114
2628  09FF              l_game_rotate_attrib_00106:
2629  09FF  21 00 00    	ld	hl,_last_rotated
2630  0A02  34          	inc	(hl)
2631  0A03              l_game_rotate_attrib_00114:
2632  0A03  21 00 00    	ld	hl,_tmp_uc
2633  0A06  34          	inc	(hl)
2634  0A07  18 9C       	jr	l_game_rotate_attrib_00113
2635  0A09              l_game_rotate_attrib_00115:
2636  0A09  C9          	ret
2637  0A0A              	SECTION code_compiler
2638  0A0A              ;	---------------------------------
2639  0A0A              ; Function game_rotate_attrib_osd
2640  0A0A              ; ---------------------------------
2641  0A0A              _game_rotate_attrib_osd:
2642  0A0A  3A 00 00    	ld	a,(_game_attrib_osd)
2643  0A0D  D6 07       	sub	a,0x07
2644  0A0F  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2645  0A11  21 00 00    	ld	hl,_game_attrib_osd
2646  0A14  36 01       	ld	(hl),0x01
2647  0A16              l_game_rotate_attrib_osd_00102:
2648  0A16  21 00 00    	ld	hl,_game_attrib_osd
2649  0A19  34          	inc	(hl)
2650  0A1A  01 00 00    	ld	bc,_attrib_osd+0
2651  0A1D  0A          	ld	a, (bc)
2652  0A1E  32 00 00    	ld	(_tmp),a
2653  0A21  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2654  0A24  02          	ld	(bc), a
2655  0A25  59          	ld	e, c
2656  0A26  50          	ld	d, b
2657  0A27  13          	inc	de
2658  0A28  03          	inc	bc
2659  0A29  03          	inc	bc
2660  0A2A  0A          	ld	a, (bc)
2661  0A2B  12          	ld	(de), a
2662  0A2C  02          	ld	(bc), a
2663  0A2D  3A 00 00    	ld	a,(_tmp)
2664  0A30  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2665  0A33  C9          	ret
2666  0A34              	SECTION code_compiler
2667  0A34              ;	---------------------------------
2668  0A34              ; Function game_attribs
2669  0A34              ; ---------------------------------
2670  0A34              _game_attribs:
2671  0A34  01 00 00    	ld	bc,_attrib_key+0
2672  0A37  21 00 00    	ld	hl,_map_paper
2673  0A3A  7E          	ld	a, (hl)
2674  0A3B  F6 46       	or	a,0x46
2675  0A3D  02          	ld	(bc), a
2676  0A3E  59          	ld	e, c
2677  0A3F  50          	ld	d, b
2678  0A40  13          	inc	de
2679  0A41  7E          	ld	a, (hl)
2680  0A42  F6 42       	or	a,0x42
2681  0A44  12          	ld	(de), a
2682  0A45  7E          	ld	a, (hl)
2683  0A46  F6 46       	or	a,0x46
2684  0A48  32 02 00    	ld	((_attrib_key + 0x0002)),a
2685  0A4B  03          	inc	bc
2686  0A4C  03          	inc	bc
2687  0A4D  03          	inc	bc
2688  0A4E  21 00 00    	ld	hl,_map_paper
2689  0A51  7E          	ld	a, (hl)
2690  0A52  F6 42       	or	a,0x42
2691  0A54  02          	ld	(bc), a
2692  0A55  01 00 00    	ld	bc,_attrib+0
2693  0A58  7E          	ld	a, (hl)
2694  0A59  F6 47       	or	a,0x47
2695  0A5B  02          	ld	(bc), a
2696  0A5C  59          	ld	e, c
2697  0A5D  50          	ld	d, b
2698  0A5E  13          	inc	de
2699  0A5F  7E          	ld	a, (hl)
2700  0A60  F6 47       	or	a,0x47
2701  0A62  12          	ld	(de), a
2702  0A63  7E          	ld	a, (hl)
2703  0A64  F6 47       	or	a,0x47
2704  0A66  32 02 00    	ld	((_attrib + 0x0002)),a
2705  0A69  03          	inc	bc
2706  0A6A  03          	inc	bc
2707  0A6B  03          	inc	bc
2708  0A6C  21 00 00    	ld	hl,_map_paper
2709  0A6F  7E          	ld	a, (hl)
2710  0A70  F6 47       	or	a,0x47
2711  0A72  02          	ld	(bc), a
2712  0A73  01 00 00    	ld	bc,_attrib_hl+0
2713  0A76  7E          	ld	a, (hl)
2714  0A77  F6 33       	or	a,0x33
2715  0A79  02          	ld	(bc), a
2716  0A7A  59          	ld	e, c
2717  0A7B  50          	ld	d, b
2718  0A7C  13          	inc	de
2719  0A7D  7E          	ld	a, (hl)
2720  0A7E  F6 30       	or	a,0x30
2721  0A80  12          	ld	(de), a
2722  0A81  7E          	ld	a, (hl)
2723  0A82  F6 31       	or	a,0x31
2724  0A84  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2725  0A87  03          	inc	bc
2726  0A88  03          	inc	bc
2727  0A89  03          	inc	bc
2728  0A8A  3A 00 00    	ld	a,(_map_paper)
2729  0A8D  F6 30       	or	a,0x30
2730  0A8F  02          	ld	(bc), a
2731  0A90  21 70 71    	ld	hl,0x7170
2732  0A93  22 00 00    	ld	(_attrib_osd),hl
2733  0A96  21 71 73    	ld	hl,0x7371
2734  0A99  22 02 00    	ld	(_attrib_osd + 2),hl
2735  0A9C  C9          	ret
2736  0A9D              	SECTION code_compiler
2737  0A9D              ;	---------------------------------
2738  0A9D              ; Function game_page_map
2739  0A9D              ; ---------------------------------
2740  0A9D              _game_page_map:
2741  0A9D  CD 00 00    	call	___sdcc_enter_ix
2742  0AA0  21 AD FF    	ld	hl, -83
2743  0AA3  39          	add	hl, sp
2744  0AA4  F9          	ld	sp, hl
2745  0AA5  CD 00 00    	call	_spr_clear_scr
2746  0AA8  F3          	di
2747  0AA9  21 00 00    	ld	hl,_game_world
2748  0AAC  4E          	ld	c, (hl)
2749  0AAD  3A 00 00    	ld	a,(_scr_curr)
2750  0AB0  DD 77 DE    	ld	(ix-34),a
2751  0AB3  79          	ld	a, c
2752  0AB4  07          	rlca
2753  0AB5  07          	rlca
2754  0AB6  07          	rlca
2755  0AB7  07          	rlca
2756  0AB8  E6 F0       	and	a,0xf0
2757  0ABA  47          	ld	b,a
2758  0ABB  DD 86 DE    	add	a,(ix-34)
2759  0ABE  DD 77 DD    	ld	(ix-35),a
2760  0AC1  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2761  0AC4  36 16       	ld	(hl),0x16
2762  0AC6  C5          	push	bc
2763  0AC7  3E 16       	ld	a,0x16
2764  0AC9  01 FD 7F    	ld	bc,_IO_7FFD
2765  0ACC  ED 79       	out	(c),a
2766  0ACE  C1          	pop	bc
2767  0ACF  DD 7E DE    	ld	a,(ix-34)
2768  0AD2  3C          	inc	a
2769  0AD3  20 12       	jr	NZ,l_game_page_map_00102
2770  0AD5  11 00 00    	ld	de,_start_scr0+0
2771  0AD8  69          	ld	l,c
2772  0AD9  26 00       	ld	h,0x00
2773  0ADB  19          	add	hl, de
2774  0ADC  7E          	ld	a, (hl)
2775  0ADD  DD 77 DE    	ld	(ix-34),a
2776  0AE0  78          	ld	a, b
2777  0AE1  DD 86 DE    	add	a,(ix-34)
2778  0AE4  DD 77 DD    	ld	(ix-35),a
2779  0AE7              l_game_page_map_00102:
2780  0AE7  01 00 00    	ld	bc,_paper0+0
2781  0AEA  DD 6E DD    	ld	l,(ix-35)
2782  0AED  26 00       	ld	h,0x00
2783  0AEF  09          	add	hl, bc
2784  0AF0  7E          	ld	a, (hl)
2785  0AF1  DD 77 DF    	ld	(ix-33),a
2786  0AF4  3E 10       	ld	a,0x10
2787  0AF6  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2788  0AF9  01 FD 7F    	ld	bc,_IO_7FFD
2789  0AFC  ED 79       	out	(c),a
2790  0AFE  DD 4E DE    	ld	c,(ix-34)
2791  0B01  CB 39       	srl	c
2792  0B03  06 00       	ld	b,0x00
2793  0B05  69          	ld	l, c
2794  0B06  60          	ld	h, b
2795  0B07  29          	add	hl, hl
2796  0B08  09          	add	hl, bc
2797  0B09  AF          	xor	a,a
2798  0B0A  CB 3C       	srl	h
2799  0B0C  CB 1D       	rr	l
2800  0B0E  1F          	rra
2801  0B0F  CB 3C       	srl	h
2802  0B11  CB 1D       	rr	l
2803  0B13  1F          	rra
2804  0B14  DD 77 E2    	ld	(ix-30),a
2805  0B17  DD 75 E3    	ld	(ix-29),l
2806  0B1A  21 00 00    	ld	hl,0x0000
2807  0B1D  39          	add	hl, sp
2808  0B1E  DD 75 FE    	ld	(ix-2),l
2809  0B21  DD 74 FF    	ld	(ix-1),h
2810  0B24  DD 75 FC    	ld	(ix-4),l
2811  0B27  DD 74 FD    	ld	(ix-3),h
2812  0B2A  DD 7E FE    	ld	a,(ix-2)
2813  0B2D  DD 77 FA    	ld	(ix-6),a
2814  0B30  DD 7E FF    	ld	a,(ix-1)
2815  0B33  DD 77 FB    	ld	(ix-5),a
2816  0B36  DD 7E FE    	ld	a,(ix-2)
2817  0B39  DD 77 F8    	ld	(ix-8),a
2818  0B3C  DD 7E FF    	ld	a,(ix-1)
2819  0B3F  DD 77 F9    	ld	(ix-7),a
2820  0B42  DD 7E DE    	ld	a,(ix-34)
2821  0B45  E6 01       	and	a,0x01
2822  0B47  DD 77 F7    	ld	(ix-9),a
2823  0B4A  DD 7E FE    	ld	a,(ix-2)
2824  0B4D  DD 77 F5    	ld	(ix-11),a
2825  0B50  DD 7E FF    	ld	a,(ix-1)
2826  0B53  DD 77 F6    	ld	(ix-10),a
2827  0B56  DD 7E FE    	ld	a,(ix-2)
2828  0B59  DD 77 F3    	ld	(ix-13),a
2829  0B5C  DD 7E FF    	ld	a,(ix-1)
2830  0B5F  DD 77 F4    	ld	(ix-12),a
2831  0B62  DD 7E FE    	ld	a,(ix-2)
2832  0B65  DD 77 F1    	ld	(ix-15),a
2833  0B68  DD 7E FF    	ld	a,(ix-1)
2834  0B6B  DD 77 F2    	ld	(ix-14),a
2835  0B6E  DD 36 E4 00 	ld	(ix-28),0x00
2836  0B72  DD 36 E5 00 	ld	(ix-27),0x00
2837  0B76              l_game_page_map_00127:
2838  0B76  DD 7E E4    	ld	a,(ix-28)
2839  0B79  D6 F0       	sub	a,0xf0
2840  0B7B  DD 7E E5    	ld	a,(ix-27)
2841  0B7E  DE 00       	sbc	a,0x00
2842  0B80  D2 3F 0D    	jp	NC, l_game_page_map_00129
2843  0B83  3E 13       	ld	a,0x13
2844  0B85  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2845  0B88  01 FD 7F    	ld	bc,_IO_7FFD
2846  0B8B  ED 79       	out	(c),a
2847  0B8D  DD 36 E8 00 	ld	(ix-24),0x00
2848  0B91  DD 36 E9 00 	ld	(ix-23),0x00
2849  0B95              l_game_page_map_00103:
2850  0B95  DD 7E E8    	ld	a,(ix-24)
2851  0B98  D6 30       	sub	a,0x30
2852  0B9A  DD 7E E9    	ld	a,(ix-23)
2853  0B9D  DE 00       	sbc	a,0x00
2854  0B9F  30 54       	jr	NC,l_game_page_map_00105
2855  0BA1  DD 7E F8    	ld	a,(ix-8)
2856  0BA4  DD 86 E8    	add	a,(ix-24)
2857  0BA7  DD 77 EF    	ld	(ix-17),a
2858  0BAA  DD 7E F9    	ld	a,(ix-7)
2859  0BAD  DD 8E E9    	adc	a,(ix-23)
2860  0BB0  DD 77 F0    	ld	(ix-16),a
2861  0BB3  DD 7E E2    	ld	a,(ix-30)
2862  0BB6  DD 86 E8    	add	a,(ix-24)
2863  0BB9  DD 77 ED    	ld	(ix-19),a
2864  0BBC  DD 7E E3    	ld	a,(ix-29)
2865  0BBF  DD 8E E9    	adc	a,(ix-23)
2866  0BC2  DD 77 EE    	ld	(ix-18),a
2867  0BC5  DD 7E ED    	ld	a,(ix-19)
2868  0BC8  DD 86 E4    	add	a,(ix-28)
2869  0BCB  DD 77 ED    	ld	(ix-19),a
2870  0BCE  6F          	ld	l,a
2871  0BCF  DD 7E EE    	ld	a,(ix-18)
2872  0BD2  DD 8E E5    	adc	a,(ix-27)
2873  0BD5  DD 77 EE    	ld	(ix-18),a
2874  0BD8  67          	ld	h,a
2875  0BD9  01 00 00    	ld	bc,_hibtiles
2876  0BDC  09          	add	hl,bc
2877  0BDD  DD 75 ED    	ld	(ix-19),l
2878  0BE0  DD 74 EE    	ld	(ix-18),h
2879  0BE3  4E          	ld	c, (hl)
2880  0BE4  DD 6E EF    	ld	l,(ix-17)
2881  0BE7  DD 66 F0    	ld	h,(ix-16)
2882  0BEA  71          	ld	(hl), c
2883  0BEB  DD 34 E8    	inc	(ix-24)
2884  0BEE  20 A5       	jr	NZ,l_game_page_map_00103
2885  0BF0  DD 34 E9    	inc	(ix-23)
2886  0BF3  18 A0       	jr	l_game_page_map_00103
2887  0BF5              l_game_page_map_00105:
2888  0BF5  3E 10       	ld	a,0x10
2889  0BF7  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2890  0BFA  01 FD 7F    	ld	bc,_IO_7FFD
2891  0BFD  ED 79       	out	(c),a
2892  0BFF  DD 7E F7    	ld	a,(ix-9)
2893  0C02  B7          	or	a, a
2894  0C03  C2 A9 0C    	jp	NZ, l_game_page_map_00178
2895  0C06  01 00 00    	ld	bc,0x0000
2896  0C09              l_game_page_map_00106:
2897  0C09  79          	ld	a, c
2898  0C0A  D6 10       	sub	a,0x10
2899  0C0C  78          	ld	a, b
2900  0C0D  DE 00       	sbc	a,0x00
2901  0C0F  30 18       	jr	NC,l_game_page_map_00108
2902  0C11  DD 6E E4    	ld	l,(ix-28)
2903  0C14  DD 66 E5    	ld	h,(ix-27)
2904  0C17  09          	add	hl, bc
2905  0C18  11 00 00    	ld	de,_btiles
2906  0C1B  19          	add	hl,de
2907  0C1C  EB          	ex	de,hl
2908  0C1D  DD 6E FE    	ld	l,(ix-2)
2909  0C20  DD 66 FF    	ld	h,(ix-1)
2910  0C23  09          	add	hl, bc
2911  0C24  7E          	ld	a, (hl)
2912  0C25  12          	ld	(de), a
2913  0C26  03          	inc	bc
2914  0C27  18 E0       	jr	l_game_page_map_00106
2915  0C29              l_game_page_map_00108:
2916  0C29  DD 36 E8 20 	ld	(ix-24),0x20
2917  0C2D  DD 36 E9 00 	ld	(ix-23),0x00
2918  0C31              l_game_page_map_00109:
2919  0C31  DD 7E E8    	ld	a,(ix-24)
2920  0C34  D6 24       	sub	a,0x24
2921  0C36  DD 7E E9    	ld	a,(ix-23)
2922  0C39  DE 00       	sbc	a,0x00
2923  0C3B  30 48       	jr	NC,l_game_page_map_00111
2924  0C3D  DD 7E E8    	ld	a,(ix-24)
2925  0C40  DD 86 E4    	add	a,(ix-28)
2926  0C43  DD 77 ED    	ld	(ix-19),a
2927  0C46  DD 7E E9    	ld	a,(ix-23)
2928  0C49  DD 8E E5    	adc	a,(ix-27)
2929  0C4C  DD 77 EE    	ld	(ix-18),a
2930  0C4F  3E 00       	ld	a, +((_btiles) & 0xFF)
2931  0C51  DD 86 ED    	add	a,(ix-19)
2932  0C54  DD 77 ED    	ld	(ix-19),a
2933  0C57  3E 00       	ld	a, +((_btiles) / 256)
2934  0C59  DD 8E EE    	adc	a,(ix-18)
2935  0C5C  DD 77 EE    	ld	(ix-18),a
2936  0C5F  DD 7E FC    	ld	a,(ix-4)
2937  0C62  DD 86 E8    	add	a,(ix-24)
2938  0C65  DD 77 EF    	ld	(ix-17),a
2939  0C68  6F          	ld	l,a
2940  0C69  DD 7E FD    	ld	a,(ix-3)
2941  0C6C  DD 8E E9    	adc	a,(ix-23)
2942  0C6F  DD 77 F0    	ld	(ix-16),a
2943  0C72  67          	ld	h,a
2944  0C73  4E          	ld	c, (hl)
2945  0C74  DD 6E ED    	ld	l,(ix-19)
2946  0C77  DD 66 EE    	ld	h,(ix-18)
2947  0C7A  71          	ld	(hl), c
2948  0C7B  DD 34 E8    	inc	(ix-24)
2949  0C7E  20 B1       	jr	NZ,l_game_page_map_00109
2950  0C80  DD 34 E9    	inc	(ix-23)
2951  0C83  18 AC       	jr	l_game_page_map_00109
2952  0C85              l_game_page_map_00111:
2953  0C85  01 28 00    	ld	bc,0x0028
2954  0C88              l_game_page_map_00112:
2955  0C88  79          	ld	a, c
2956  0C89  D6 2C       	sub	a,0x2c
2957  0C8B  78          	ld	a, b
2958  0C8C  DE 00       	sbc	a,0x00
2959  0C8E  D2 2C 0D    	jp	NC, l_game_page_map_00126
2960  0C91  DD 6E E4    	ld	l,(ix-28)
2961  0C94  DD 66 E5    	ld	h,(ix-27)
2962  0C97  09          	add	hl, bc
2963  0C98  11 00 00    	ld	de,_btiles
2964  0C9B  19          	add	hl,de
2965  0C9C  EB          	ex	de,hl
2966  0C9D  DD 6E FA    	ld	l,(ix-6)
2967  0CA0  DD 66 FB    	ld	h,(ix-5)
2968  0CA3  09          	add	hl, bc
2969  0CA4  7E          	ld	a, (hl)
2970  0CA5  12          	ld	(de), a
2971  0CA6  03          	inc	bc
2972  0CA7  18 DF       	jr	l_game_page_map_00112
2973  0CA9              l_game_page_map_00178:
2974  0CA9  01 00 00    	ld	bc,0x0000
2975  0CAC              l_game_page_map_00115:
2976  0CAC  79          	ld	a, c
2977  0CAD  D6 10       	sub	a,0x10
2978  0CAF  78          	ld	a, b
2979  0CB0  DE 00       	sbc	a,0x00
2980  0CB2  30 20       	jr	NC,l_game_page_map_00117
2981  0CB4  DD 6E E4    	ld	l,(ix-28)
2982  0CB7  DD 66 E5    	ld	h,(ix-27)
2983  0CBA  09          	add	hl, bc
2984  0CBB  11 00 00    	ld	de,_btiles
2985  0CBE  19          	add	hl,de
2986  0CBF  79          	ld	a,c
2987  0CC0  EB          	ex	de,hl
2988  0CC1  C6 10       	add	a,0x10
2989  0CC3  6F          	ld	l, a
2990  0CC4  DD 7E F5    	ld	a,(ix-11)
2991  0CC7  85          	add	a, l
2992  0CC8  6F          	ld	l, a
2993  0CC9  DD 7E F6    	ld	a,(ix-10)
2994  0CCC  CE 00       	adc	a,0x00
2995  0CCE  67          	ld	h, a
2996  0CCF  7E          	ld	a, (hl)
2997  0CD0  12          	ld	(de), a
2998  0CD1  03          	inc	bc
2999  0CD2  18 D8       	jr	l_game_page_map_00115
3000  0CD4              l_game_page_map_00117:
3001  0CD4  01 20 00    	ld	bc,0x0020
3002  0CD7              l_game_page_map_00118:
3003  0CD7  79          	ld	a, c
3004  0CD8  D6 24       	sub	a,0x24
3005  0CDA  78          	ld	a, b
3006  0CDB  DE 00       	sbc	a,0x00
3007  0CDD  30 21       	jr	NC,l_game_page_map_00120
3008  0CDF  DD 6E E4    	ld	l,(ix-28)
3009  0CE2  DD 66 E5    	ld	h,(ix-27)
3010  0CE5  09          	add	hl, bc
3011  0CE6  11 00 00    	ld	de,_btiles
3012  0CE9  19          	add	hl,de
3013  0CEA  59          	ld	e,c
3014  0CEB  EB          	ex	de,hl
3015  0CEC  2C          	inc	l
3016  0CED  2C          	inc	l
3017  0CEE  2C          	inc	l
3018  0CEF  2C          	inc	l
3019  0CF0  DD 7E F3    	ld	a,(ix-13)
3020  0CF3  85          	add	a, l
3021  0CF4  6F          	ld	l, a
3022  0CF5  DD 7E F4    	ld	a,(ix-12)
3023  0CF8  CE 00       	adc	a,0x00
3024  0CFA  67          	ld	h, a
3025  0CFB  7E          	ld	a, (hl)
3026  0CFC  12          	ld	(de), a
3027  0CFD  03          	inc	bc
3028  0CFE  18 D7       	jr	l_game_page_map_00118
3029  0D00              l_game_page_map_00120:
3030  0D00  01 28 00    	ld	bc,0x0028
3031  0D03              l_game_page_map_00121:
3032  0D03  79          	ld	a, c
3033  0D04  D6 2C       	sub	a,0x2c
3034  0D06  78          	ld	a, b
3035  0D07  DE 00       	sbc	a,0x00
3036  0D09  30 21       	jr	NC,l_game_page_map_00126
3037  0D0B  DD 6E E4    	ld	l,(ix-28)
3038  0D0E  DD 66 E5    	ld	h,(ix-27)
3039  0D11  09          	add	hl, bc
3040  0D12  11 00 00    	ld	de,_btiles
3041  0D15  19          	add	hl,de
3042  0D16  59          	ld	e,c
3043  0D17  EB          	ex	de,hl
3044  0D18  2C          	inc	l
3045  0D19  2C          	inc	l
3046  0D1A  2C          	inc	l
3047  0D1B  2C          	inc	l
3048  0D1C  DD 7E F1    	ld	a,(ix-15)
3049  0D1F  85          	add	a, l
3050  0D20  6F          	ld	l, a
3051  0D21  DD 7E F2    	ld	a,(ix-14)
3052  0D24  CE 00       	adc	a,0x00
3053  0D26  67          	ld	h, a
3054  0D27  7E          	ld	a, (hl)
3055  0D28  12          	ld	(de), a
3056  0D29  03          	inc	bc
3057  0D2A  18 D7       	jr	l_game_page_map_00121
3058  0D2C              l_game_page_map_00126:
3059  0D2C  DD 7E E4    	ld	a,(ix-28)
3060  0D2F  C6 30       	add	a,0x30
3061  0D31  DD 77 E4    	ld	(ix-28),a
3062  0D34  DD 7E E5    	ld	a,(ix-27)
3063  0D37  CE 00       	adc	a,0x00
3064  0D39  DD 77 E5    	ld	(ix-27),a
3065  0D3C  C3 76 0B    	jp	l_game_page_map_00127
3066  0D3F              l_game_page_map_00129:
3067  0D3F  DD 36 E8 C0 	ld	(ix-24),0xc0
3068  0D43  DD 36 E9 00 	ld	(ix-23),0x00
3069  0D47              l_game_page_map_00138:
3070  0D47  DD 7E E8    	ld	a,(ix-24)
3071  0D4A  D6 80       	sub	a,0x80
3072  0D4C  DD 7E E9    	ld	a,(ix-23)
3073  0D4F  DE 01       	sbc	a,0x01
3074  0D51  30 68       	jr	NC,l_game_page_map_00140
3075  0D53  21 30 00    	ld	hl,0x0030
3076  0D56  E5          	push	hl
3077  0D57  DD 6E E8    	ld	l,(ix-24)
3078  0D5A  DD 66 E9    	ld	h,(ix-23)
3079  0D5D  E5          	push	hl
3080  0D5E  CD 00 00    	call	__moduint_callee
3081  0D61  7D          	ld	a,l
3082  0D62  32 00 00    	ld	(_v0),a
3083  0D65  D6 10       	sub	a,0x10
3084  0D67  30 0E       	jr	NC,l_game_page_map_00131
3085  0D69  3E 00       	ld	a, +((_btiles) & 0xFF)
3086  0D6B  DD 86 E8    	add	a,(ix-24)
3087  0D6E  4F          	ld	c, a
3088  0D6F  3E 00       	ld	a, +((_btiles) / 256)
3089  0D71  DD 8E E9    	adc	a,(ix-23)
3090  0D74  47          	ld	b, a
3091  0D75  AF          	xor	a, a
3092  0D76  02          	ld	(bc), a
3093  0D77              l_game_page_map_00131:
3094  0D77  21 00 00    	ld	hl,_v0
3095  0D7A  7E          	ld	a, (hl)
3096  0D7B  D6 20       	sub	a,0x20
3097  0D7D  38 15       	jr	C,l_game_page_map_00133
3098  0D7F  7E          	ld	a, (hl)
3099  0D80  D6 24       	sub	a,0x24
3100  0D82  30 10       	jr	NC,l_game_page_map_00133
3101  0D84  3E 00       	ld	a, +((_btiles) & 0xFF)
3102  0D86  DD 86 E8    	add	a,(ix-24)
3103  0D89  4F          	ld	c, a
3104  0D8A  3E 00       	ld	a, +((_btiles) / 256)
3105  0D8C  DD 8E E9    	adc	a,(ix-23)
3106  0D8F  47          	ld	b, a
3107  0D90  DD 7E DF    	ld	a,(ix-33)
3108  0D93  02          	ld	(bc), a
3109  0D94              l_game_page_map_00133:
3110  0D94  21 00 00    	ld	hl,_v0
3111  0D97  7E          	ld	a, (hl)
3112  0D98  D6 28       	sub	a,0x28
3113  0D9A  38 15       	jr	C,l_game_page_map_00136
3114  0D9C  7E          	ld	a, (hl)
3115  0D9D  D6 2C       	sub	a,0x2c
3116  0D9F  30 10       	jr	NC,l_game_page_map_00136
3117  0DA1  3E 00       	ld	a, +((_btiles) & 0xFF)
3118  0DA3  DD 86 E8    	add	a,(ix-24)
3119  0DA6  4F          	ld	c, a
3120  0DA7  3E 00       	ld	a, +((_btiles) / 256)
3121  0DA9  DD 8E E9    	adc	a,(ix-23)
3122  0DAC  47          	ld	b, a
3123  0DAD  DD 7E DF    	ld	a,(ix-33)
3124  0DB0  02          	ld	(bc), a
3125  0DB1              l_game_page_map_00136:
3126  0DB1  DD 34 E8    	inc	(ix-24)
3127  0DB4  20 91       	jr	NZ,l_game_page_map_00138
3128  0DB6  DD 34 E9    	inc	(ix-23)
3129  0DB9  18 8C       	jr	l_game_page_map_00138
3130  0DBB              l_game_page_map_00140:
3131  0DBB  DD 36 E8 00 	ld	(ix-24),0x00
3132  0DBF  DD 36 E9 00 	ld	(ix-23),0x00
3133  0DC3              l_game_page_map_00141:
3134  0DC3  DD 7E E8    	ld	a,(ix-24)
3135  0DC6  D6 10       	sub	a,0x10
3136  0DC8  DD 7E E9    	ld	a,(ix-23)
3137  0DCB  DE 00       	sbc	a,0x00
3138  0DCD  30 30       	jr	NC,l_game_page_map_00143
3139  0DCF  DD 7E E8    	ld	a,(ix-24)
3140  0DD2  C6 C0       	add	a,0xc0
3141  0DD4  4F          	ld	c, a
3142  0DD5  DD 7E E9    	ld	a,(ix-23)
3143  0DD8  CE 00       	adc	a,0x00
3144  0DDA  47          	ld	b, a
3145  0DDB  21 00 00    	ld	hl,_btiles
3146  0DDE  09          	add	hl,bc
3147  0DDF  3E 00       	ld	a,+((_btiles) & 0xFF)
3148  0DE1  DD 86 E8    	add	a,(ix-24)
3149  0DE4  5F          	ld	e,a
3150  0DE5  3E 00       	ld	a,+((_btiles) / 256)
3151  0DE7  DD 8E E9    	adc	a,(ix-23)
3152  0DEA  57          	ld	d,a
3153  0DEB  1A          	ld	a,(de)
3154  0DEC  77          	ld	(hl),a
3155  0DED  DD 7E E8    	ld	a,(ix-24)
3156  0DF0  C6 02       	add	a,0x02
3157  0DF2  DD 77 E8    	ld	(ix-24),a
3158  0DF5  DD 7E E9    	ld	a,(ix-23)
3159  0DF8  CE 00       	adc	a,0x00
3160  0DFA  DD 77 E9    	ld	(ix-23),a
3161  0DFD  18 C4       	jr	l_game_page_map_00141
3162  0DFF              l_game_page_map_00143:
3163  0DFF  DD 36 E8 00 	ld	(ix-24),0x00
3164  0E03  DD 36 E9 00 	ld	(ix-23),0x00
3165  0E07              l_game_page_map_00144:
3166  0E07  DD 7E E8    	ld	a,(ix-24)
3167  0E0A  D6 10       	sub	a,0x10
3168  0E0C  DD 7E E9    	ld	a,(ix-23)
3169  0E0F  DE 00       	sbc	a,0x00
3170  0E11  30 20       	jr	NC,l_game_page_map_00146
3171  0E13  3E 00       	ld	a, +((_btiles) & 0xFF)
3172  0E15  DD 86 E8    	add	a,(ix-24)
3173  0E18  4F          	ld	c, a
3174  0E19  3E 00       	ld	a, +((_btiles) / 256)
3175  0E1B  DD 8E E9    	adc	a,(ix-23)
3176  0E1E  47          	ld	b, a
3177  0E1F  AF          	xor	a, a
3178  0E20  02          	ld	(bc), a
3179  0E21  DD 7E E8    	ld	a,(ix-24)
3180  0E24  C6 02       	add	a,0x02
3181  0E26  DD 77 E8    	ld	(ix-24),a
3182  0E29  DD 7E E9    	ld	a,(ix-23)
3183  0E2C  CE 00       	adc	a,0x00
3184  0E2E  DD 77 E9    	ld	(ix-23),a
3185  0E31  18 D4       	jr	l_game_page_map_00144
3186  0E33              l_game_page_map_00146:
3187  0E33  3A 30 00    	ld	a,(_btiles + 0x0030)
3188  0E36  32 C5 00    	ld	((_btiles + 0x00c5)),a
3189  0E39  01 32 00    	ld	bc,_btiles + 50
3190  0E3C  0A          	ld	a, (bc)
3191  0E3D  32 C7 00    	ld	((_btiles + 0x00c7)),a
3192  0E40  3A 34 00    	ld	a,(_btiles + 0x0034)
3193  0E43  32 C9 00    	ld	((_btiles + 0x00c9)),a
3194  0E46  3A 36 00    	ld	a,(_btiles + 0x0036)
3195  0E49  32 CB 00    	ld	((_btiles + 0x00cb)),a
3196  0E4C  3A 38 00    	ld	a, (_btiles + 56)
3197  0E4F  32 CD 00    	ld	((_btiles + 0x00cd)),a
3198  0E52  3A 3A 00    	ld	a, (_btiles + 58)
3199  0E55  32 CF 00    	ld	((_btiles + 0x00cf)),a
3200  0E58  11 50 00    	ld	de,_btiles + 80
3201  0E5B  1A          	ld	a, (de)
3202  0E5C  32 E9 00    	ld	((_btiles + 0x00e9)),a
3203  0E5F  3A 51 00    	ld	a,(_btiles + 0x0051)
3204  0E62  32 EA 00    	ld	((_btiles + 0x00ea)),a
3205  0E65  3A 52 00    	ld	a, (_btiles + 82)
3206  0E68  32 EB 00    	ld	((_btiles + 0x00eb)),a
3207  0E6B  3A 30 00    	ld	a,(_btiles + 0x0030)
3208  0E6E  32 FA 00    	ld	((_btiles + 0x00fa)),a
3209  0E71  0A          	ld	a, (bc)
3210  0E72  32 FC 00    	ld	((_btiles + 0x00fc)),a
3211  0E75  3A 34 00    	ld	a,(_btiles + 0x0034)
3212  0E78  32 FE 00    	ld	((_btiles + 0x00fe)),a
3213  0E7B  3A 36 00    	ld	a,(_btiles + 0x0036)
3214  0E7E  32 00 01    	ld	((_btiles + 0x0100)),a
3215  0E81  1A          	ld	a, (de)
3216  0E82  32 12 01    	ld	((_btiles + 0x0112)),a
3217  0E85  3A 51 00    	ld	a,(_btiles + 0x0051)
3218  0E88  32 13 01    	ld	((_btiles + 0x0113)),a
3219  0E8B  3A 30 00    	ld	a,(_btiles + 0x0030)
3220  0E8E  32 FD 00    	ld	((_btiles + 0x00fd)),a
3221  0E91  0A          	ld	a, (bc)
3222  0E92  32 FF 00    	ld	((_btiles + 0x00ff)),a
3223  0E95  1A          	ld	a, (de)
3224  0E96  32 1B 01    	ld	((_btiles + 0x011b)),a
3225  0E99  3E 00       	ld	a,0x00
3226  0E9B  DD 77 E4    	ld	(ix-28),a
3227  0E9E  DD 77 E5    	ld	(ix-27),a
3228  0EA1  DD 77 E0    	ld	(ix-32),a
3229  0EA4  DD 77 E1    	ld	(ix-31),a
3230  0EA7  DD 36 E6 00 	ld	(ix-26),0x00
3231  0EAB  DD 36 E7 00 	ld	(ix-25),0x00
3232  0EAF              l_game_page_map_00147:
3233  0EAF  DD 4E DD    	ld	c,(ix-35)
3234  0EB2  06 00       	ld	b,0x00
3235  0EB4  DD 7E E6    	ld	a,(ix-26)
3236  0EB7  91          	sub	a, c
3237  0EB8  DD 7E E7    	ld	a,(ix-25)
3238  0EBB  98          	sbc	a, b
3239  0EBC  30 3A       	jr	NC,l_game_page_map_00149
3240  0EBE  3E 16       	ld	a,0x16
3241  0EC0  01 FD 7F    	ld	bc,_IO_7FFD
3242  0EC3  ED 79       	out	(c),a
3243  0EC5  01 00 00    	ld	bc,_lenght0
3244  0EC8  DD 6E E6    	ld	l,(ix-26)
3245  0ECB  DD 66 E7    	ld	h,(ix-25)
3246  0ECE  09          	add	hl,bc
3247  0ECF  4E          	ld	c, (hl)
3248  0ED0  06 00       	ld	b,0x00
3249  0ED2  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3250  0ED5  36 10       	ld	(hl),0x10
3251  0ED7  C5          	push	bc
3252  0ED8  3E 10       	ld	a,0x10
3253  0EDA  01 FD 7F    	ld	bc,_IO_7FFD
3254  0EDD  ED 79       	out	(c),a
3255  0EDF  C1          	pop	bc
3256  0EE0  DD 7E E0    	ld	a,(ix-32)
3257  0EE3  81          	add	a, c
3258  0EE4  DD 77 E0    	ld	(ix-32),a
3259  0EE7  DD 7E E1    	ld	a,(ix-31)
3260  0EEA  88          	adc	a, b
3261  0EEB  DD 77 E1    	ld	(ix-31),a
3262  0EEE  DD 34 E6    	inc	(ix-26)
3263  0EF1  20 BC       	jr	NZ,l_game_page_map_00147
3264  0EF3  DD 34 E7    	inc	(ix-25)
3265  0EF6  18 B7       	jr	l_game_page_map_00147
3266  0EF8              l_game_page_map_00149:
3267  0EF8  DD 36 E8 00 	ld	(ix-24),0x00
3268  0EFC  DD 36 E9 00 	ld	(ix-23),0x00
3269  0F00              l_game_page_map_00162:
3270  0F00  3E 16       	ld	a,0x16
3271  0F02  01 FD 7F    	ld	bc,_IO_7FFD
3272  0F05  ED 79       	out	(c),a
3273  0F07  DD 7E E0    	ld	a,(ix-32)
3274  0F0A  DD 86 E8    	add	a,(ix-24)
3275  0F0D  4F          	ld	c, a
3276  0F0E  DD 7E E1    	ld	a,(ix-31)
3277  0F11  DD 8E E9    	adc	a,(ix-23)
3278  0F14  47          	ld	b, a
3279  0F15  21 00 00    	ld	hl,_world0
3280  0F18  09          	add	hl, bc
3281  0F19  7E          	ld	a, (hl)
3282  0F1A  DD 77 EC    	ld	(ix-20),a
3283  0F1D  03          	inc	bc
3284  0F1E  21 00 00    	ld	hl,_world0
3285  0F21  09          	add	hl, bc
3286  0F22  7E          	ld	a, (hl)
3287  0F23  DD 77 EB    	ld	(ix-21),a
3288  0F26  3E 10       	ld	a,0x10
3289  0F28  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3290  0F2B  01 FD 7F    	ld	bc,_IO_7FFD
3291  0F2E  ED 79       	out	(c),a
3292  0F30  DD 7E EC    	ld	a,(ix-20)
3293  0F33  D6 80       	sub	a,0x80
3294  0F35  30 1F       	jr	NC,l_game_page_map_00154
3295  0F37  DD 6E E4    	ld	l,(ix-28)
3296  0F3A  DD 66 E5    	ld	h,(ix-27)
3297  0F3D  01 00 00    	ld	bc,_scr_map
3298  0F40  09          	add	hl,bc
3299  0F41  DD 75 ED    	ld	(ix-19),l
3300  0F44  DD 74 EE    	ld	(ix-18),h
3301  0F47  DD 7E EC    	ld	a,(ix-20)
3302  0F4A  77          	ld	(hl), a
3303  0F4B  DD 34 E4    	inc	(ix-28)
3304  0F4E  C2 CB 0F    	jp	NZ,l_game_page_map_00155
3305  0F51  DD 34 E5    	inc	(ix-27)
3306  0F54  18 75       	jr	l_game_page_map_00155
3307  0F56              l_game_page_map_00154:
3308  0F56  DD 7E EC    	ld	a,(ix-20)
3309  0F59  C6 80       	add	a,0x80
3310  0F5B  DD 77 EA    	ld	(ix-22),a
3311  0F5E  DD 7E E4    	ld	a,(ix-28)
3312  0F61  DD 77 ED    	ld	(ix-19),a
3313  0F64  DD 7E E5    	ld	a,(ix-27)
3314  0F67  DD 77 EE    	ld	(ix-18),a
3315  0F6A  DD 36 E6 00 	ld	(ix-26),0x00
3316  0F6E  DD 36 E7 00 	ld	(ix-25),0x00
3317  0F72              l_game_page_map_00160:
3318  0F72  DD 7E EA    	ld	a,(ix-22)
3319  0F75  DD 77 EF    	ld	(ix-17),a
3320  0F78  DD 36 F0 00 	ld	(ix-16),0x00
3321  0F7C  DD 7E E6    	ld	a,(ix-26)
3322  0F7F  DD 96 EF    	sub	a,(ix-17)
3323  0F82  DD 7E E7    	ld	a,(ix-25)
3324  0F85  DD 9E F0    	sbc	a,(ix-16)
3325  0F88  30 2D       	jr	NC,l_game_page_map_00214
3326  0F8A  DD 6E ED    	ld	l,(ix-19)
3327  0F8D  DD 66 EE    	ld	h,(ix-18)
3328  0F90  01 00 00    	ld	bc,_scr_map
3329  0F93  09          	add	hl,bc
3330  0F94  DD 75 EF    	ld	(ix-17),l
3331  0F97  DD 74 F0    	ld	(ix-16),h
3332  0F9A  DD 7E EB    	ld	a,(ix-21)
3333  0F9D  77          	ld	(hl), a
3334  0F9E  DD 34 ED    	inc	(ix-19)
3335  0FA1  20 03       	jr	NZ,l_game_page_map_00334
3336  0FA3  DD 34 EE    	inc	(ix-18)
3337  0FA6              l_game_page_map_00334:
3338  0FA6  DD 7E EE    	ld	a,(ix-18)
3339  0FA9  D6 02       	sub	a,0x02
3340  0FAB  30 0A       	jr	NC,l_game_page_map_00214
3341  0FAD  DD 34 E6    	inc	(ix-26)
3342  0FB0  20 C0       	jr	NZ,l_game_page_map_00160
3343  0FB2  DD 34 E7    	inc	(ix-25)
3344  0FB5  18 BB       	jr	l_game_page_map_00160
3345  0FB7              l_game_page_map_00214:
3346  0FB7  DD 7E ED    	ld	a,(ix-19)
3347  0FBA  DD 77 E4    	ld	(ix-28),a
3348  0FBD  DD 7E EE    	ld	a,(ix-18)
3349  0FC0  DD 77 E5    	ld	(ix-27),a
3350  0FC3  DD 34 E8    	inc	(ix-24)
3351  0FC6  20 03       	jr	NZ,l_game_page_map_00336
3352  0FC8  DD 34 E9    	inc	(ix-23)
3353  0FCB              l_game_page_map_00336:
3354  0FCB              l_game_page_map_00155:
3355  0FCB  DD 7E E5    	ld	a,(ix-27)
3356  0FCE  D6 02       	sub	a,0x02
3357  0FD0  30 10       	jr	NC,l_game_page_map_00158
3358  0FD2  DD 34 E8    	inc	(ix-24)
3359  0FD5  20 03       	jr	NZ,l_game_page_map_00337
3360  0FD7  DD 34 E9    	inc	(ix-23)
3361  0FDA              l_game_page_map_00337:
3362  0FDA  DD 7E E9    	ld	a,(ix-23)
3363  0FDD  D6 02       	sub	a,0x02
3364  0FDF  DA 00 0F    	jp	C, l_game_page_map_00162
3365  0FE2              l_game_page_map_00158:
3366  0FE2  DD 7E DE    	ld	a,(ix-34)
3367  0FE5  32 00 00    	ld	(_scr_curr),a
3368  0FE8  DD 7E DF    	ld	a,(ix-33)
3369  0FEB  32 00 00    	ld	(_map_paper),a
3370  0FEE  FB          	ei
3371  0FEF  DD F9       	ld	sp, ix
3372  0FF1  DD E1       	pop	ix
3373  0FF3  C9          	ret
3374  0FF4              	SECTION code_compiler
3375  0FF4              ;	---------------------------------
3376  0FF4              ; Function game_flash_exit
3377  0FF4              ; ---------------------------------
3378  0FF4              _game_flash_exit:
3379  0FF4  01 C0 00    	ld	bc,0x00c0
3380  0FF7              l_game_flash_exit_00106:
3381  0FF7  79          	ld	a, c
3382  0FF8  D6 80       	sub	a,0x80
3383  0FFA  78          	ld	a, b
3384  0FFB  DE 01       	sbc	a,0x01
3385  0FFD  30 2F       	jr	NC,l_game_flash_exit_00108
3386  0FFF  C5          	push	bc
3387  1000  21 30 00    	ld	hl,0x0030
3388  1003  E5          	push	hl
3389  1004  C5          	push	bc
3390  1005  CD 00 00    	call	__moduint_callee
3391  1008  C1          	pop	bc
3392  1009  5D          	ld	e,l
3393  100A  21 00 00    	ld	hl,_v0
3394  100D  73          	ld	(hl),e
3395  100E  7B          	ld	a,e
3396  100F  D6 24       	sub	a,0x24
3397  1011  38 05       	jr	C,l_game_flash_exit_00105
3398  1013  7E          	ld	a, (hl)
3399  1014  D6 28       	sub	a,0x28
3400  1016  38 0D       	jr	C,l_game_flash_exit_00101
3401  1018              l_game_flash_exit_00105:
3402  1018  21 00 00    	ld	hl,_v0
3403  101B  7E          	ld	a, (hl)
3404  101C  D6 2C       	sub	a,0x2c
3405  101E  38 0B       	jr	C,l_game_flash_exit_00102
3406  1020  7E          	ld	a, (hl)
3407  1021  D6 30       	sub	a,0x30
3408  1023  30 06       	jr	NC,l_game_flash_exit_00102
3409  1025              l_game_flash_exit_00101:
3410  1025  21 00 00    	ld	hl,_btiles
3411  1028  09          	add	hl, bc
3412  1029  CB FE       	set	7, (hl)
3413  102B              l_game_flash_exit_00102:
3414  102B  03          	inc	bc
3415  102C  18 C9       	jr	l_game_flash_exit_00106
3416  102E              l_game_flash_exit_00108:
3417  102E  3A 00 00    	ld	a,(_game_exit_lin)
3418  1031  C6 F8       	add	a,0xf8
3419  1033  4F          	ld	c, a
3420  1034  3A 00 00    	ld	a, (_game_exit_col)
3421  1037  47          	ld	b,a
3422  1038  C5          	push	bc
3423  1039  3E 1C       	ld	a,0x1c
3424  103B  F5          	push	af
3425  103C  33          	inc	sp
3426  103D  CD 00 00    	call	_game_sprite_draw8
3427  1040  F1          	pop	af
3428  1041  33          	inc	sp
3429  1042  21 00 00    	ld	hl,_game_exit_col
3430  1045  46          	ld	b, (hl)
3431  1046  04          	inc	b
3432  1047  3A 00 00    	ld	a,(_game_exit_lin)
3433  104A  C6 F8       	add	a,0xf8
3434  104C  4F          	ld	c,a
3435  104D  C5          	push	bc
3436  104E  3E 1D       	ld	a,0x1d
3437  1050  F5          	push	af
3438  1051  33          	inc	sp
3439  1052  CD 00 00    	call	_game_sprite_draw8
3440  1055  F1          	pop	af
3441  1056  33          	inc	sp
3442  1057  3A 00 00    	ld	a,(_game_exit_col)
3443  105A  F5          	push	af
3444  105B  33          	inc	sp
3445  105C  3A 00 00    	ld	a,(_game_exit_lin)
3446  105F  57          	ld	d,a
3447  1060  1E 1E       	ld	e,0x1e
3448  1062  D5          	push	de
3449  1063  CD 00 00    	call	_game_sprite_draw8
3450  1066  F1          	pop	af
3451  1067  33          	inc	sp
3452  1068  21 00 00    	ld	hl,_game_exit_col
3453  106B  46          	ld	b, (hl)
3454  106C  04          	inc	b
3455  106D  C5          	push	bc
3456  106E  33          	inc	sp
3457  106F  3A 00 00    	ld	a,(_game_exit_lin)
3458  1072  57          	ld	d,a
3459  1073  1E 1F       	ld	e,0x1f
3460  1075  D5          	push	de
3461  1076  CD 00 00    	call	_game_sprite_draw8
3462  1079  F1          	pop	af
3463  107A  33          	inc	sp
3464  107B  C9          	ret
3465  107C              	SECTION IGNORE
3466  0000              
