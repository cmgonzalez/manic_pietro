1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_tick
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_loop
207   0000              	GLOBAL _game_fps
208   0000              	GLOBAL _game_draw_map
209   0000              	GLOBAL _game_cell_paint_index
210   0000              	GLOBAL _game_cell_paint
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_round_init
217   0000              	GLOBAL _game_print_header
218   0000              	GLOBAL _game_check_map
219   0000              	GLOBAL _game_check_cell
220   0000              	GLOBAL _game_paint_attrib
221   0000              	GLOBAL _game_colour_message
222   0000              	GLOBAL _game_check_time
223   0000              	GLOBAL _game_rotate_attrib
224   0000              	GLOBAL _game_rotate_attrib_osd
225   0000              	GLOBAL _game_attribs
226   0000              	GLOBAL _game_page_map
227   0000              ;--------------------------------------------------------
228   0000              ; Externals used
229   0000              ;--------------------------------------------------------
230   0000              	GLOBAL _ffsll_callee
231   0000              	GLOBAL _ffsll
232   0000              	GLOBAL _strxfrm_callee
233   0000              	GLOBAL _strxfrm
234   0000              	GLOBAL _strupr_fastcall
235   0000              	GLOBAL _strupr
236   0000              	GLOBAL _strtok_r_callee
237   0000              	GLOBAL _strtok_r
238   0000              	GLOBAL _strtok_callee
239   0000              	GLOBAL _strtok
240   0000              	GLOBAL _strstrip_fastcall
241   0000              	GLOBAL _strstrip
242   0000              	GLOBAL _strstr_callee
243   0000              	GLOBAL _strstr
244   0000              	GLOBAL _strspn_callee
245   0000              	GLOBAL _strspn
246   0000              	GLOBAL _strsep_callee
247   0000              	GLOBAL _strsep
248   0000              	GLOBAL _strrstrip_fastcall
249   0000              	GLOBAL _strrstrip
250   0000              	GLOBAL _strrstr_callee
251   0000              	GLOBAL _strrstr
252   0000              	GLOBAL _strrspn_callee
253   0000              	GLOBAL _strrspn
254   0000              	GLOBAL _strrev_fastcall
255   0000              	GLOBAL _strrev
256   0000              	GLOBAL _strrcspn_callee
257   0000              	GLOBAL _strrcspn
258   0000              	GLOBAL _strrchr_callee
259   0000              	GLOBAL _strrchr
260   0000              	GLOBAL _strpbrk_callee
261   0000              	GLOBAL _strpbrk
262   0000              	GLOBAL _strnlen_callee
263   0000              	GLOBAL _strnlen
264   0000              	GLOBAL _strnicmp_callee
265   0000              	GLOBAL _strnicmp
266   0000              	GLOBAL _strndup_callee
267   0000              	GLOBAL _strndup
268   0000              	GLOBAL _strncpy_callee
269   0000              	GLOBAL _strncpy
270   0000              	GLOBAL _strncmp_callee
271   0000              	GLOBAL _strncmp
272   0000              	GLOBAL _strnchr_callee
273   0000              	GLOBAL _strnchr
274   0000              	GLOBAL _strncat_callee
275   0000              	GLOBAL _strncat
276   0000              	GLOBAL _strncasecmp_callee
277   0000              	GLOBAL _strncasecmp
278   0000              	GLOBAL _strlwr_fastcall
279   0000              	GLOBAL _strlwr
280   0000              	GLOBAL _strlen_fastcall
281   0000              	GLOBAL _strlen
282   0000              	GLOBAL _strlcpy_callee
283   0000              	GLOBAL _strlcpy
284   0000              	GLOBAL _strlcat_callee
285   0000              	GLOBAL _strlcat
286   0000              	GLOBAL _stricmp_callee
287   0000              	GLOBAL _stricmp
288   0000              	GLOBAL _strerror_fastcall
289   0000              	GLOBAL _strerror
290   0000              	GLOBAL _strdup_fastcall
291   0000              	GLOBAL _strdup
292   0000              	GLOBAL _strcspn_callee
293   0000              	GLOBAL _strcspn
294   0000              	GLOBAL _strcpy_callee
295   0000              	GLOBAL _strcpy
296   0000              	GLOBAL _strcoll_callee
297   0000              	GLOBAL _strcoll
298   0000              	GLOBAL _strcmp_callee
299   0000              	GLOBAL _strcmp
300   0000              	GLOBAL _strchrnul_callee
301   0000              	GLOBAL _strchrnul
302   0000              	GLOBAL _strchr_callee
303   0000              	GLOBAL _strchr
304   0000              	GLOBAL _strcat_callee
305   0000              	GLOBAL _strcat
306   0000              	GLOBAL _strcasecmp_callee
307   0000              	GLOBAL _strcasecmp
308   0000              	GLOBAL _stpncpy_callee
309   0000              	GLOBAL _stpncpy
310   0000              	GLOBAL _stpcpy_callee
311   0000              	GLOBAL _stpcpy
312   0000              	GLOBAL _memswap_callee
313   0000              	GLOBAL _memswap
314   0000              	GLOBAL _memset_callee
315   0000              	GLOBAL _memset
316   0000              	GLOBAL _memrchr_callee
317   0000              	GLOBAL _memrchr
318   0000              	GLOBAL _memmove_callee
319   0000              	GLOBAL _memmove
320   0000              	GLOBAL _memmem_callee
321   0000              	GLOBAL _memmem
322   0000              	GLOBAL _memcpy_callee
323   0000              	GLOBAL _memcpy
324   0000              	GLOBAL _memcmp_callee
325   0000              	GLOBAL _memcmp
326   0000              	GLOBAL _memchr_callee
327   0000              	GLOBAL _memchr
328   0000              	GLOBAL _memccpy_callee
329   0000              	GLOBAL _memccpy
330   0000              	GLOBAL _ffsl_fastcall
331   0000              	GLOBAL _ffsl
332   0000              	GLOBAL _ffs_fastcall
333   0000              	GLOBAL _ffs
334   0000              	GLOBAL __strrstrip__fastcall
335   0000              	GLOBAL __strrstrip_
336   0000              	GLOBAL __memupr__callee
337   0000              	GLOBAL __memupr_
338   0000              	GLOBAL __memstrcpy__callee
339   0000              	GLOBAL __memstrcpy_
340   0000              	GLOBAL __memlwr__callee
341   0000              	GLOBAL __memlwr_
342   0000              	GLOBAL _rawmemchr_callee
343   0000              	GLOBAL _rawmemchr
344   0000              	GLOBAL _strnset_callee
345   0000              	GLOBAL _strnset
346   0000              	GLOBAL _strset_callee
347   0000              	GLOBAL _strset
348   0000              	GLOBAL _rindex_callee
349   0000              	GLOBAL _rindex
350   0000              	GLOBAL _index_callee
351   0000              	GLOBAL _index
352   0000              	GLOBAL _bzero_callee
353   0000              	GLOBAL _bzero
354   0000              	GLOBAL _bcopy_callee
355   0000              	GLOBAL _bcopy
356   0000              	GLOBAL _bcmp_callee
357   0000              	GLOBAL _bcmp
358   0000              	GLOBAL _ulltoa_callee
359   0000              	GLOBAL _ulltoa
360   0000              	GLOBAL _strtoull_callee
361   0000              	GLOBAL _strtoull
362   0000              	GLOBAL _strtoll_callee
363   0000              	GLOBAL _strtoll
364   0000              	GLOBAL _lltoa_callee
365   0000              	GLOBAL _lltoa
366   0000              	GLOBAL _llabs_callee
367   0000              	GLOBAL _llabs
368   0000              	GLOBAL __lldivu__callee
369   0000              	GLOBAL __lldivu_
370   0000              	GLOBAL __lldiv__callee
371   0000              	GLOBAL __lldiv_
372   0000              	GLOBAL _atoll_callee
373   0000              	GLOBAL _atoll
374   0000              	GLOBAL _realloc_unlocked_callee
375   0000              	GLOBAL _realloc_unlocked
376   0000              	GLOBAL _malloc_unlocked_fastcall
377   0000              	GLOBAL _malloc_unlocked
378   0000              	GLOBAL _free_unlocked_fastcall
379   0000              	GLOBAL _free_unlocked
380   0000              	GLOBAL _calloc_unlocked_callee
381   0000              	GLOBAL _calloc_unlocked
382   0000              	GLOBAL _aligned_alloc_unlocked_callee
383   0000              	GLOBAL _aligned_alloc_unlocked
384   0000              	GLOBAL _realloc_callee
385   0000              	GLOBAL _realloc
386   0000              	GLOBAL _malloc_fastcall
387   0000              	GLOBAL _malloc
388   0000              	GLOBAL _free_fastcall
389   0000              	GLOBAL _free
390   0000              	GLOBAL _calloc_callee
391   0000              	GLOBAL _calloc
392   0000              	GLOBAL _aligned_alloc_callee
393   0000              	GLOBAL _aligned_alloc
394   0000              	GLOBAL _utoa_callee
395   0000              	GLOBAL _utoa
396   0000              	GLOBAL _ultoa_callee
397   0000              	GLOBAL _ultoa
398   0000              	GLOBAL _system_fastcall
399   0000              	GLOBAL _system
400   0000              	GLOBAL _strtoul_callee
401   0000              	GLOBAL _strtoul
402   0000              	GLOBAL _strtol_callee
403   0000              	GLOBAL _strtol
404   0000              	GLOBAL _strtof_callee
405   0000              	GLOBAL _strtof
406   0000              	GLOBAL _strtod_callee
407   0000              	GLOBAL _strtod
408   0000              	GLOBAL _srand_fastcall
409   0000              	GLOBAL _srand
410   0000              	GLOBAL _rand
411   0000              	GLOBAL _quick_exit_fastcall
412   0000              	GLOBAL _quick_exit
413   0000              	GLOBAL _qsort_callee
414   0000              	GLOBAL _qsort
415   0000              	GLOBAL _ltoa_callee
416   0000              	GLOBAL _ltoa
417   0000              	GLOBAL _labs_fastcall
418   0000              	GLOBAL _labs
419   0000              	GLOBAL _itoa_callee
420   0000              	GLOBAL _itoa
421   0000              	GLOBAL _ftoh_callee
422   0000              	GLOBAL _ftoh
423   0000              	GLOBAL _ftog_callee
424   0000              	GLOBAL _ftog
425   0000              	GLOBAL _ftoe_callee
426   0000              	GLOBAL _ftoe
427   0000              	GLOBAL _ftoa_callee
428   0000              	GLOBAL _ftoa
429   0000              	GLOBAL _exit_fastcall
430   0000              	GLOBAL _exit
431   0000              	GLOBAL _dtoh_callee
432   0000              	GLOBAL _dtoh
433   0000              	GLOBAL _dtog_callee
434   0000              	GLOBAL _dtog
435   0000              	GLOBAL _dtoe_callee
436   0000              	GLOBAL _dtoe
437   0000              	GLOBAL _dtoa_callee
438   0000              	GLOBAL _dtoa
439   0000              	GLOBAL _bsearch_callee
440   0000              	GLOBAL _bsearch
441   0000              	GLOBAL _atol_fastcall
442   0000              	GLOBAL _atol
443   0000              	GLOBAL _atoi_fastcall
444   0000              	GLOBAL _atoi
445   0000              	GLOBAL _atof_fastcall
446   0000              	GLOBAL _atof
447   0000              	GLOBAL _atexit_fastcall
448   0000              	GLOBAL _atexit
449   0000              	GLOBAL _at_quick_exit_fastcall
450   0000              	GLOBAL _at_quick_exit
451   0000              	GLOBAL _abs_fastcall
452   0000              	GLOBAL _abs
453   0000              	GLOBAL _abort
454   0000              	GLOBAL __strtou__callee
455   0000              	GLOBAL __strtou_
456   0000              	GLOBAL __strtoi__callee
457   0000              	GLOBAL __strtoi_
458   0000              	GLOBAL __random_uniform_xor_8__fastcall
459   0000              	GLOBAL __random_uniform_xor_8_
460   0000              	GLOBAL __random_uniform_xor_32__fastcall
461   0000              	GLOBAL __random_uniform_xor_32_
462   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
463   0000              	GLOBAL __random_uniform_cmwc_8_
464   0000              	GLOBAL __shellsort__callee
465   0000              	GLOBAL __shellsort_
466   0000              	GLOBAL __quicksort__callee
467   0000              	GLOBAL __quicksort_
468   0000              	GLOBAL __insertion_sort__callee
469   0000              	GLOBAL __insertion_sort_
470   0000              	GLOBAL __ldivu__callee
471   0000              	GLOBAL __ldivu_
472   0000              	GLOBAL __ldiv__callee
473   0000              	GLOBAL __ldiv_
474   0000              	GLOBAL __divu__callee
475   0000              	GLOBAL __divu_
476   0000              	GLOBAL __div__callee
477   0000              	GLOBAL __div_
478   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
479   0000              	GLOBAL _NIRVANAP_drawTW_raw
480   0000              	GLOBAL _NIRVANAP_drawTW_callee
481   0000              	GLOBAL _NIRVANAP_drawTW
482   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
483   0000              	GLOBAL _NIRVANAP_drawW_raw
484   0000              	GLOBAL _NIRVANAP_drawW_callee
485   0000              	GLOBAL _NIRVANAP_drawW
486   0000              	GLOBAL _NIRVANAP_spriteT_callee
487   0000              	GLOBAL _NIRVANAP_spriteT
488   0000              	GLOBAL _NIRVANAP_fillC_callee
489   0000              	GLOBAL _NIRVANAP_fillC
490   0000              	GLOBAL _NIRVANAP_readC_callee
491   0000              	GLOBAL _NIRVANAP_readC
492   0000              	GLOBAL _NIRVANAP_paintC_callee
493   0000              	GLOBAL _NIRVANAP_paintC
494   0000              	GLOBAL _NIRVANAP_printC_callee
495   0000              	GLOBAL _NIRVANAP_printC
496   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
497   0000              	GLOBAL _NIRVANAP_fillT_raw
498   0000              	GLOBAL _NIRVANAP_fillT_callee
499   0000              	GLOBAL _NIRVANAP_fillT
500   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
501   0000              	GLOBAL _NIRVANAP_drawT_raw
502   0000              	GLOBAL _NIRVANAP_drawT_callee
503   0000              	GLOBAL _NIRVANAP_drawT
504   0000              	GLOBAL _NIRVANAP_stop
505   0000              	GLOBAL _NIRVANAP_start
506   0000              	GLOBAL _zx_print_str
507   0000              	GLOBAL _zx_print_int
508   0000              	GLOBAL _zx_print_chr
509   0000              	GLOBAL _zx_print_bonus_time
510   0000              	GLOBAL _zx_isr
511   0000              	GLOBAL _z80_otdr_callee
512   0000              	GLOBAL _z80_otdr
513   0000              	GLOBAL _z80_otir_callee
514   0000              	GLOBAL _z80_otir
515   0000              	GLOBAL _z80_outp_callee
516   0000              	GLOBAL _z80_outp
517   0000              	GLOBAL _z80_indr_callee
518   0000              	GLOBAL _z80_indr
519   0000              	GLOBAL _z80_inir_callee
520   0000              	GLOBAL _z80_inir
521   0000              	GLOBAL _z80_inp_fastcall
522   0000              	GLOBAL _z80_inp
523   0000              	GLOBAL _z80_set_int_state_fastcall
524   0000              	GLOBAL _z80_set_int_state
525   0000              	GLOBAL _z80_get_int_state
526   0000              	GLOBAL _z80_delay_tstate_fastcall
527   0000              	GLOBAL _z80_delay_tstate
528   0000              	GLOBAL _z80_delay_ms_fastcall
529   0000              	GLOBAL _z80_delay_ms
530   0000              	GLOBAL _im2_remove_generic_callback_callee
531   0000              	GLOBAL _im2_remove_generic_callback
532   0000              	GLOBAL _im2_prepend_generic_callback_callee
533   0000              	GLOBAL _im2_prepend_generic_callback
534   0000              	GLOBAL _im2_append_generic_callback_callee
535   0000              	GLOBAL _im2_append_generic_callback
536   0000              	GLOBAL _im2_create_generic_isr_8080_callee
537   0000              	GLOBAL _im2_create_generic_isr_8080
538   0000              	GLOBAL _im2_create_generic_isr_callee
539   0000              	GLOBAL _im2_create_generic_isr
540   0000              	GLOBAL _im2_install_isr_callee
541   0000              	GLOBAL _im2_install_isr
542   0000              	GLOBAL _im2_init_fastcall
543   0000              	GLOBAL _im2_init
544   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
545   0000              	GLOBAL _intrinsic_swap_word_32
546   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
547   0000              	GLOBAL _intrinsic_swap_endian_32
548   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
549   0000              	GLOBAL _intrinsic_swap_endian_16
550   0000              	GLOBAL _intrinsic_return_de
551   0000              	GLOBAL _intrinsic_return_bc
552   0000              	GLOBAL _intrinsic_exx
553   0000              	GLOBAL _intrinsic_ex_de_hl
554   0000              	GLOBAL _intrinsic_nop
555   0000              	GLOBAL _intrinsic_im_2
556   0000              	GLOBAL _intrinsic_im_1
557   0000              	GLOBAL _intrinsic_im_0
558   0000              	GLOBAL _intrinsic_retn
559   0000              	GLOBAL _intrinsic_reti
560   0000              	GLOBAL _intrinsic_halt
561   0000              	GLOBAL _intrinsic_ei
562   0000              	GLOBAL _intrinsic_di
563   0000              	GLOBAL _intrinsic_stub
564   0000              	GLOBAL _intrinsic_ini
565   0000              	GLOBAL _intrinsic_outi
566   0000              	GLOBAL _intrinsic_ldi
567   0000              	GLOBAL _zx_pattern_fill_callee
568   0000              	GLOBAL _zx_pattern_fill
569   0000              	GLOBAL _zx_saddrpup_fastcall
570   0000              	GLOBAL _zx_saddrpup
571   0000              	GLOBAL _zx_saddrpright_callee
572   0000              	GLOBAL _zx_saddrpright
573   0000              	GLOBAL _zx_saddrpleft_callee
574   0000              	GLOBAL _zx_saddrpleft
575   0000              	GLOBAL _zx_saddrpdown_fastcall
576   0000              	GLOBAL _zx_saddrpdown
577   0000              	GLOBAL _zx_saddrcup_fastcall
578   0000              	GLOBAL _zx_saddrcup
579   0000              	GLOBAL _zx_saddrcright_fastcall
580   0000              	GLOBAL _zx_saddrcright
581   0000              	GLOBAL _zx_saddrcleft_fastcall
582   0000              	GLOBAL _zx_saddrcleft
583   0000              	GLOBAL _zx_saddrcdown_fastcall
584   0000              	GLOBAL _zx_saddrcdown
585   0000              	GLOBAL _zx_saddr2py_fastcall
586   0000              	GLOBAL _zx_saddr2py
587   0000              	GLOBAL _zx_saddr2px_fastcall
588   0000              	GLOBAL _zx_saddr2px
589   0000              	GLOBAL _zx_saddr2cy_fastcall
590   0000              	GLOBAL _zx_saddr2cy
591   0000              	GLOBAL _zx_saddr2cx_fastcall
592   0000              	GLOBAL _zx_saddr2cx
593   0000              	GLOBAL _zx_saddr2aaddr_fastcall
594   0000              	GLOBAL _zx_saddr2aaddr
595   0000              	GLOBAL _zx_py2saddr_fastcall
596   0000              	GLOBAL _zx_py2saddr
597   0000              	GLOBAL _zx_py2aaddr_fastcall
598   0000              	GLOBAL _zx_py2aaddr
599   0000              	GLOBAL _zx_pxy2saddr_callee
600   0000              	GLOBAL _zx_pxy2saddr
601   0000              	GLOBAL _zx_pxy2aaddr_callee
602   0000              	GLOBAL _zx_pxy2aaddr
603   0000              	GLOBAL _zx_px2bitmask_fastcall
604   0000              	GLOBAL _zx_px2bitmask
605   0000              	GLOBAL _zx_cy2saddr_fastcall
606   0000              	GLOBAL _zx_cy2saddr
607   0000              	GLOBAL _zx_cy2aaddr_fastcall
608   0000              	GLOBAL _zx_cy2aaddr
609   0000              	GLOBAL _zx_cxy2saddr_callee
610   0000              	GLOBAL _zx_cxy2saddr
611   0000              	GLOBAL _zx_cxy2aaddr_callee
612   0000              	GLOBAL _zx_cxy2aaddr
613   0000              	GLOBAL _zx_bitmask2px_fastcall
614   0000              	GLOBAL _zx_bitmask2px
615   0000              	GLOBAL _zx_aaddrcup_fastcall
616   0000              	GLOBAL _zx_aaddrcup
617   0000              	GLOBAL _zx_aaddrcright_fastcall
618   0000              	GLOBAL _zx_aaddrcright
619   0000              	GLOBAL _zx_aaddrcleft_fastcall
620   0000              	GLOBAL _zx_aaddrcleft
621   0000              	GLOBAL _zx_aaddrcdown_fastcall
622   0000              	GLOBAL _zx_aaddrcdown
623   0000              	GLOBAL _zx_aaddr2saddr_fastcall
624   0000              	GLOBAL _zx_aaddr2saddr
625   0000              	GLOBAL _zx_aaddr2py_fastcall
626   0000              	GLOBAL _zx_aaddr2py
627   0000              	GLOBAL _zx_aaddr2px_fastcall
628   0000              	GLOBAL _zx_aaddr2px
629   0000              	GLOBAL _zx_aaddr2cy_fastcall
630   0000              	GLOBAL _zx_aaddr2cy
631   0000              	GLOBAL _zx_aaddr2cx_fastcall
632   0000              	GLOBAL _zx_aaddr2cx
633   0000              	GLOBAL _zx_visit_wc_pix_callee
634   0000              	GLOBAL _zx_visit_wc_pix
635   0000              	GLOBAL _zx_visit_wc_attr_callee
636   0000              	GLOBAL _zx_visit_wc_attr
637   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
638   0000              	GLOBAL _zx_scroll_wc_up_pix
639   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
640   0000              	GLOBAL _zx_scroll_wc_up_attr
641   0000              	GLOBAL _zx_scroll_wc_up_callee
642   0000              	GLOBAL _zx_scroll_wc_up
643   0000              	GLOBAL _zx_scroll_up_pix_callee
644   0000              	GLOBAL _zx_scroll_up_pix
645   0000              	GLOBAL _zx_scroll_up_attr_callee
646   0000              	GLOBAL _zx_scroll_up_attr
647   0000              	GLOBAL _zx_scroll_up_callee
648   0000              	GLOBAL _zx_scroll_up
649   0000              	GLOBAL _zx_cls_wc_pix_callee
650   0000              	GLOBAL _zx_cls_wc_pix
651   0000              	GLOBAL _zx_cls_wc_attr_callee
652   0000              	GLOBAL _zx_cls_wc_attr
653   0000              	GLOBAL _zx_cls_wc_callee
654   0000              	GLOBAL _zx_cls_wc
655   0000              	GLOBAL _zx_cls_pix_fastcall
656   0000              	GLOBAL _zx_cls_pix
657   0000              	GLOBAL _zx_cls_attr_fastcall
658   0000              	GLOBAL _zx_cls_attr
659   0000              	GLOBAL _zx_cls_fastcall
660   0000              	GLOBAL _zx_cls
661   0000              	GLOBAL _zx_border_fastcall
662   0000              	GLOBAL _zx_border
663   0000              	GLOBAL _zx_tape_verify_block_callee
664   0000              	GLOBAL _zx_tape_verify_block
665   0000              	GLOBAL _zx_tape_save_block_callee
666   0000              	GLOBAL _zx_tape_save_block
667   0000              	GLOBAL _zx_tape_load_block_callee
668   0000              	GLOBAL _zx_tape_load_block
669   0000              	GLOBAL _spr_destroy
670   0000              	GLOBAL _spr_unflattenP1
671   0000              	GLOBAL _spr_flatten
672   0000              	GLOBAL _spr_btile_paint_back
673   0000              	GLOBAL _spr_init_effects
674   0000              	GLOBAL _spr_turn_horizontal
675   0000              	GLOBAL _spr_play_anim
676   0000              	GLOBAL _spr_add_anim
677   0000              	GLOBAL _spr_clear_scr
678   0000              	GLOBAL _spr_back_repaint
679   0000              	GLOBAL _spr_get_tile_dir
680   0000              	GLOBAL _spr_get_tile
681   0000              	GLOBAL _spr_paint_player
682   0000              	GLOBAL _spr_paint
683   0000              	GLOBAL _spr_move_left
684   0000              	GLOBAL _spr_move_right
685   0000              	GLOBAL _spr_move_left_f
686   0000              	GLOBAL _spr_move_right_f
687   0000              	GLOBAL _spr_move_horizontal
688   0000              	GLOBAL _spr_move_down
689   0000              	GLOBAL _spr_move_up
690   0000              	GLOBAL _spr_set_right
691   0000              	GLOBAL _spr_set_left
692   0000              	GLOBAL _spr_set_down
693   0000              	GLOBAL _spr_set_up
694   0000              	GLOBAL _spr_calc_index
695   0000              	GLOBAL _spr_chktime
696   0000              	GLOBAL _player_use_floor
697   0000              	GLOBAL _player_lost_life
698   0000              	GLOBAL _player_move_jump
699   0000              	GLOBAL _player_tile
700   0000              	GLOBAL _player_pick_deadly
701   0000              	GLOBAL _player_pick_item
702   0000              	GLOBAL _player_check_ceil
703   0000              	GLOBAL _player_check_floor_walk
704   0000              	GLOBAL _player_check_floor_jump
705   0000              	GLOBAL _player_score_add
706   0000              	GLOBAL _player_move_walk
707   0000              	GLOBAL _player_turn
708   0000              	GLOBAL _player_move
709   0000              	GLOBAL _player_check_input
710   0000              	GLOBAL _player_init
711   0000              	GLOBAL _menu_define_key
712   0000              	GLOBAL _menu_redefine
713   0000              	GLOBAL _menu_main_print
714   0000              	GLOBAL _menu_main
715   0000              	GLOBAL _game_fill_row
716   0000              	GLOBAL _enemy_avoid_dead
717   0000              	GLOBAL _enemy_avoid_fall
718   0000              	GLOBAL _enemy_kill
719   0000              	GLOBAL _enemy_init
720   0000              	GLOBAL _enemy_move
721   0000              	GLOBAL _enemy_turn
722   0000              	GLOBAL _enemy_static
723   0000              	GLOBAL _enemy_walk
724   0000              	GLOBAL _enemy_horizontal
725   0000              	GLOBAL _enemy_vertical
726   0000              	GLOBAL _ay_reset
727   0000              	GLOBAL _ay_song_stop
728   0000              	GLOBAL _ay_song_play
729   0000              	GLOBAL _ay_fx_stop
730   0000              	GLOBAL _ay_fx_play
731   0000              	GLOBAL _ay_is_playing
732   0000              	GLOBAL _audio_levelup
733   0000              	GLOBAL _audio_menu
734   0000              	GLOBAL _audio_game_end
735   0000              	GLOBAL _audio_level_complete
736   0000              	GLOBAL _audio_level_start
737   0000              	GLOBAL _audio_lotr_lose_a_life
738   0000              	GLOBAL _audio_puerta
739   0000              	GLOBAL _audio_sin_mana
740   0000              	GLOBAL _audio_magic1
741   0000              	GLOBAL _audio_coin
742   0000              	GLOBAL _audio_golpe
743   0000              	GLOBAL _audio_salto
744   0000              	GLOBAL _audio_efecto
745   0000              	GLOBAL _audio_disparo_fire
746   0000              	GLOBAL _audio_disparo_axe
747   0000              	GLOBAL _audio_disparo2
748   0000              	GLOBAL _audio_disparo1
749   0000              	GLOBAL _audio_explosion1
750   0000              	GLOBAL _audio_explosion
751   0000              	GLOBAL _audio_ingame
752   0000              	GLOBAL _game_sprite_draw8
753   0000              	GLOBAL _test_func
754   0000              	GLOBAL _test_proc
755   0000              	GLOBAL _in_mouse_kempston_wheel_delta
756   0000              	GLOBAL _in_mouse_kempston_wheel
757   0000              	GLOBAL _in_mouse_kempston_callee
758   0000              	GLOBAL _in_mouse_kempston
759   0000              	GLOBAL _in_mouse_kempston_setpos_callee
760   0000              	GLOBAL _in_mouse_kempston_setpos
761   0000              	GLOBAL _in_mouse_kempston_reset
762   0000              	GLOBAL _in_mouse_kempston_init
763   0000              	GLOBAL _in_mouse_amx_wheel_delta
764   0000              	GLOBAL _in_mouse_amx_wheel
765   0000              	GLOBAL _in_mouse_amx_callee
766   0000              	GLOBAL _in_mouse_amx
767   0000              	GLOBAL _in_mouse_amx_setpos_callee
768   0000              	GLOBAL _in_mouse_amx_setpos
769   0000              	GLOBAL _in_mouse_amx_reset
770   0000              	GLOBAL _in_mouse_amx_init_callee
771   0000              	GLOBAL _in_mouse_amx_init
772   0000              	GLOBAL _in_stick_sinclair2
773   0000              	GLOBAL _in_stick_sinclair1
774   0000              	GLOBAL _in_stick_kempston
775   0000              	GLOBAL _in_stick_fuller
776   0000              	GLOBAL _in_stick_cursor
777   0000              	GLOBAL _in_stick_keyboard_fastcall
778   0000              	GLOBAL _in_stick_keyboard
779   0000              	GLOBAL _in_wait_nokey
780   0000              	GLOBAL _in_wait_key
781   0000              	GLOBAL _in_test_key
782   0000              	GLOBAL _in_pause_fastcall
783   0000              	GLOBAL _in_pause
784   0000              	GLOBAL _in_key_scancode_fastcall
785   0000              	GLOBAL _in_key_scancode
786   0000              	GLOBAL _in_key_pressed_fastcall
787   0000              	GLOBAL _in_key_pressed
788   0000              	GLOBAL _in_inkey
789   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
790   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
791   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
792   0000              	GLOBAL _NIRVANAP_HOLE
793   0000              	GLOBAL _NIRVANAP_ISR_HOOK
794   0000              	GLOBAL _scan_map
795   0000              	GLOBAL _map_paper_last_a
796   0000              	GLOBAL _map_paper_last
797   0000              	GLOBAL _map_paper_clr
798   0000              	GLOBAL _map_paper
799   0000              	GLOBAL _anim_count
800   0000              	GLOBAL _anim_respanwn
801   0000              	GLOBAL _anim_loop
802   0000              	GLOBAL _anim_end
803   0000              	GLOBAL _anim_int
804   0000              	GLOBAL _anim_tile
805   0000              	GLOBAL _anim_col
806   0000              	GLOBAL _anim_lin
807   0000              	GLOBAL _map_heigth
808   0000              	GLOBAL _map_width
809   0000              	GLOBAL _scr_curr
810   0000              	GLOBAL _scr_map
811   0000              	GLOBAL _spr_kind
812   0000              	GLOBAL _spr_frames
813   0000              	GLOBAL _spr_speed
814   0000              	GLOBAL _spr_tile
815   0000              	GLOBAL _screen_ink
816   0000              	GLOBAL _screen_paper
817   0000              	GLOBAL _game_start_scr
818   0000              	GLOBAL _game_score_top
819   0000              	GLOBAL _player_coins
820   0000              	GLOBAL _player_lives
821   0000              	GLOBAL _game_over
822   0000              	GLOBAL _game_sound
823   0000              	GLOBAL _game_inf_lives
824   0000              	GLOBAL _game_inmune
825   0000              	GLOBAL _sprite_curr_index
826   0000              	GLOBAL _spr_count
827   0000              	GLOBAL _last_rotated
828   0000              	GLOBAL _anim_time
829   0000              	GLOBAL _frame_time
830   0000              	GLOBAL _curr_time
831   0000              	GLOBAL _game_conveyor_flag
832   0000              	GLOBAL _game_conveyor_tile
833   0000              	GLOBAL _p_state_a
834   0000              	GLOBAL _p_state
835   0000              	GLOBAL _attrib_key
836   0000              	GLOBAL _attrib_red
837   0000              	GLOBAL _game_attrib_osd
838   0000              	GLOBAL _attrib_osd
839   0000              	GLOBAL _attrib_hl
840   0000              	GLOBAL _attrib
841   0000              	GLOBAL _zx_val_asm
842   0000              	GLOBAL _enemies
843   0000              	GLOBAL _tmp_ui
844   0000              	GLOBAL _tmp_sc
845   0000              	GLOBAL _tmp_uc
846   0000              	GLOBAL _tmp1
847   0000              	GLOBAL _tmp0
848   0000              	GLOBAL _tmp
849   0000              	GLOBAL _index1
850   0000              	GLOBAL _index0
851   0000              	GLOBAL _index_tmp
852   0000              	GLOBAL _loop_count
853   0000              	GLOBAL _s_class
854   0000              	GLOBAL _s_row1
855   0000              	GLOBAL _s_col1
856   0000              	GLOBAL _s_col0
857   0000              	GLOBAL _s_lin1
858   0000              	GLOBAL _s_lin0
859   0000              	GLOBAL _s_tile1
860   0000              	GLOBAL _s_tile0
861   0000              	GLOBAL _player_kill_index
862   0000              	GLOBAL _player_killed
863   0000              	GLOBAL _player_jump_top
864   0000              	GLOBAL _game_fps_show
865   0000              	GLOBAL _game_debug
866   0000              	GLOBAL _sprite
867   0000              	GLOBAL _fps
868   0000              	GLOBAL _game_tileset
869   0000              	GLOBAL _menu_curr_sel
870   0000              	GLOBAL _game_round_up
871   0000              	GLOBAL _game_conveyor_col1
872   0000              	GLOBAL _game_conveyor_col0
873   0000              	GLOBAL _game_conveyor_lin
874   0000              	GLOBAL _game_conveyor_dir
875   0000              	GLOBAL _game_song_play_start
876   0000              	GLOBAL _game_song_play
877   0000              	GLOBAL _game_world
878   0000              	GLOBAL _game_gravity
879   0000              	GLOBAL _player_jumpcount
880   0000              	GLOBAL _player_hit
881   0000              	GLOBAL _player_hit_time
882   0000              	GLOBAL _player_lin_scr
883   0000              	GLOBAL _player_col_scr
884   0000              	GLOBAL _player_vel_inc
885   0000              	GLOBAL _player_vel_y0
886   0000              	GLOBAL _player_vel_y
887   0000              	GLOBAL _player_score
888   0000              	GLOBAL _last_time
889   0000              	GLOBAL _obj_count
890   0000              	GLOBAL _obj_col
891   0000              	GLOBAL _obj_lin
892   0000              	GLOBAL _spr_timer
893   0000              	GLOBAL _jump_lin
894   0000              	GLOBAL _colint
895   0000              	GLOBAL _col
896   0000              	GLOBAL _tbuffer
897   0000              	GLOBAL _lin
898   0000              	GLOBAL _tile
899   0000              	GLOBAL _value_b
900   0000              	GLOBAL _value_a
901   0000              	GLOBAL _state_a
902   0000              	GLOBAL _state
903   0000              	GLOBAL _class
904   0000              	GLOBAL _dirs
905   0000              	GLOBAL _k1
906   0000              	GLOBAL _joyfunc2
907   0000              	GLOBAL _joyfunc1
908   0000              	GLOBAL _btiles
909   0000              	GLOBAL _v3
910   0000              	GLOBAL _v2
911   0000              	GLOBAL _v1
912   0000              	GLOBAL _v0
913   0000              	GLOBAL _i
914   0000              	GLOBAL _spec128
915   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
916   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
917   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
918   0000              	GLOBAL _ay_fx_06_disparo_fire
919   0000              	GLOBAL _ay_fx_06_disparo_axe
920   0000              	GLOBAL _ay_fx_06_explosion1
921   0000              	GLOBAL _ay_fx_06_efecto
922   0000              	GLOBAL _ay_fx_06_disparo2
923   0000              	GLOBAL _ay_fx_06_disparo1
924   0000              	GLOBAL _ay_fx_06_levelup
925   0000              	GLOBAL _ay_fx_06_magic
926   0000              	GLOBAL _ay_fx_06_sin_mana
927   0000              	GLOBAL _ay_fx_06_salto
928   0000              	GLOBAL _ay_fx_06_puerta
929   0000              	GLOBAL _ay_fx_06_magic1
930   0000              	GLOBAL _ay_fx_06_golpe
931   0000              	GLOBAL _ay_fx_06_explosion
932   0000              	GLOBAL _ay_fx_06_dano_por_toque
933   0000              	GLOBAL _ay_fx_06_coin
934   0000              	GLOBAL _ay_song_06_lotr_level_start
935   0000              	GLOBAL _ay_song_06_lotr_level_complete
936   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
937   0000              	GLOBAL _ay_song_04_ingame0
938   0000              	GLOBAL _ay_song_04_ingame
939   0000              	GLOBAL _hibtiles
940   0000              	GLOBAL _key_map
941   0000              	GLOBAL _start_scr0
942   0000              	GLOBAL _paper0
943   0000              	GLOBAL _lenght0
944   0000              	GLOBAL _world0
945   0000              	GLOBAL _spr_init
946   0000              ;--------------------------------------------------------
947   0000              ; special function registers
948   0000              ;--------------------------------------------------------
949   0000              defc _IO_FE	=	0x00fe
950   0000              defc _IO_1FFD	=	0x1ffd
951   0000              defc _IO_7FFD	=	0x7ffd
952   0000              ;--------------------------------------------------------
953   0000              ; ram data
954   0000              ;--------------------------------------------------------
955   0000              	SECTION bss_compiler
956   0000              ;--------------------------------------------------------
957   0000              ; ram data
958   0000              ;--------------------------------------------------------
959   0000              
960   0000              IF 0
961   0000              
962   0000              ; .area _INITIALIZED removed by z88dk
963   0000              
964   0000              
965   0000              ENDIF
966   0000              
967   0000              ;--------------------------------------------------------
968   0000              ; absolute external ram data
969   0000              ;--------------------------------------------------------
970   0000              	SECTION IGNORE
971   0000              ;--------------------------------------------------------
972   0000              ; global & static initialisations
973   0000              ;--------------------------------------------------------
974   0000              	SECTION code_crt_init
975   0000              ;--------------------------------------------------------
976   0000              ; Home
977   0000              ;--------------------------------------------------------
978   0000              	SECTION IGNORE
979   0000              ;--------------------------------------------------------
980   0000              ; code
981   0000              ;--------------------------------------------------------
982   0000              	SECTION code_compiler
983   0000              ;	---------------------------------
984   0000              ; Function game_loop
985   0000              ; ---------------------------------
986   0000              _game_loop:
987   0000  21 00 00    	ld	hl,_player_lives
988   0003  36 03       	ld	(hl),0x03
989   0005  21 00 00    	ld	hl,0x0000
990   0008  22 00 00    	ld	(_player_score),hl
991   000B  21 00 00    	ld	hl,_game_over
992   000E  36 00       	ld	(hl),0x00
993   0010  21 00 00    	ld	hl,_game_round_up
994   0013  36 00       	ld	(hl),0x00
995   0015  21 00 00    	ld	hl,_game_world
996   0018  36 00       	ld	(hl),0x00
997   001A  21 00 00    	ld	hl,_map_paper
998   001D  36 00       	ld	(hl),0x00
999   001F  21 00 00    	ld	hl,_player_lin_scr
1000  0022  36 68       	ld	(hl),0x68
1001  0024  21 00 00    	ld	hl,_player_col_scr
1002  0027  36 02       	ld	(hl),0x02
1003  0029  CD D7 04    	call	_game_round_init
1004  002C              l_game_loop_00117:
1005  002C  3A 00 00    	ld	a,(_game_over)
1006  002F  B7          	or	a, a
1007  0030  C2 C4 00    	jp	NZ, l_game_loop_00120
1008  0033  21 00 00    	ld	hl,_dirs
1009  0036  36 00       	ld	(hl),0x00
1010  0038              l_game_loop_00112:
1011  0038  3A 00 00    	ld	a,(_game_round_up)
1012  003B  B7          	or	a, a
1013  003C  20 76       	jr	NZ,l_game_loop_00114
1014  003E  3A 00 00    	ld	a,(_game_over)
1015  0041  B7          	or	a, a
1016  0042  20 70       	jr	NZ,l_game_loop_00114
1017  0044  CD 00 00    	call	_enemy_turn
1018  0047  CD 00 00    	call	_player_turn
1019  004A  3E 03       	ld	a,0x03
1020  004C  F5          	push	af
1021  004D  33          	inc	sp
1022  004E  21 00 00    	ld	hl,_anim_time
1023  0051  E5          	push	hl
1024  0052  CD 55 09    	call	_game_check_time
1025  0055  F1          	pop	af
1026  0056  33          	inc	sp
1027  0057  7D          	ld	a, l
1028  0058  B7          	or	a, a
1029  0059  28 10       	jr	Z,l_game_loop_00104
1030  005B  2A 00 00    	ld	hl,(_curr_time)
1031  005E  22 00 00    	ld	(_anim_time),hl
1032  0061  21 00 00    	ld	hl,_game_conveyor_col0
1033  0064  7E          	ld	a, (hl)
1034  0065  B7          	or	a, a
1035  0066  28 03       	jr	Z,l_game_loop_00104
1036  0068  CD FF 03    	call	_game_anim_conveyor
1037  006B              l_game_loop_00104:
1038  006B  CD 7F 09    	call	_game_rotate_attrib
1039  006E  3E 64       	ld	a,0x64
1040  0070  F5          	push	af
1041  0071  33          	inc	sp
1042  0072  21 00 00    	ld	hl,_frame_time
1043  0075  E5          	push	hl
1044  0076  CD 55 09    	call	_game_check_time
1045  0079  F1          	pop	af
1046  007A  33          	inc	sp
1047  007B  7D          	ld	a, l
1048  007C  B7          	or	a, a
1049  007D  28 0F       	jr	Z,l_game_loop_00108
1050  007F  2A 00 00    	ld	hl,(_curr_time)
1051  0082  22 00 00    	ld	(_frame_time),hl
1052  0085  3A 00 00    	ld	a,(_game_fps_show)
1053  0088  B7          	or	a,a
1054  0089  28 03       	jr	Z,l_game_loop_00108
1055  008B  CD C5 00    	call	_game_fps
1056  008E              l_game_loop_00108:
1057  008E  21 00 00    	ld	hl,_loop_count
1058  0091  34          	inc	(hl)
1059  0092  20 02       	jr	NZ,l_game_loop_00166
1060  0094  23          	inc	hl
1061  0095  34          	inc	(hl)
1062  0096              l_game_loop_00166:
1063  0096  21 00 00    	ld	hl,_fps
1064  0099  34          	inc	(hl)
1065  009A  20 02       	jr	NZ,l_game_loop_00167
1066  009C  23          	inc	hl
1067  009D  34          	inc	(hl)
1068  009E              l_game_loop_00167:
1069  009E  3A 00 00    	ld	a,(_obj_count)
1070  00A1  21 00 00    	ld	hl,_player_coins
1071  00A4  96          	sub	a, (hl)
1072  00A5  20 91       	jr	NZ,l_game_loop_00112
1073  00A7  21 00 00    	ld	hl,_game_over
1074  00AA  36 01       	ld	(hl),0x01
1075  00AC  2E 00       	ld	l,0x00
1076  00AE  CD 00 00    	call	_zx_border_fastcall
1077  00B1  C3 38 00    	jp	l_game_loop_00112
1078  00B4              l_game_loop_00114:
1079  00B4  21 00 00    	ld	hl,_game_round_up
1080  00B7  7E          	ld	a, (hl)
1081  00B8  B7          	or	a, a
1082  00B9  CA 2C 00    	jp	Z, l_game_loop_00117
1083  00BC  36 00       	ld	(hl),0x00
1084  00BE  CD D7 04    	call	_game_round_init
1085  00C1  C3 2C 00    	jp	l_game_loop_00117
1086  00C4              l_game_loop_00120:
1087  00C4  C9          	ret
1088  00C5              	SECTION code_compiler
1089  00C5              ;	---------------------------------
1090  00C5              ; Function game_fps
1091  00C5              ; ---------------------------------
1092  00C5              _game_fps:
1093  00C5  21 00 00    	ld	hl,_screen_ink
1094  00C8  36 07       	ld	(hl),0x07
1095  00CA  2A 00 00    	ld	hl,(_fps)
1096  00CD  E5          	push	hl
1097  00CE  21 17 18    	ld	hl,0x1817
1098  00D1  E5          	push	hl
1099  00D2  CD 00 00    	call	_zx_print_int
1100  00D5  21 00 00    	ld	hl,0x0000
1101  00D8  22 00 00    	ld	(_fps),hl
1102  00DB  C9          	ret
1103  00DC              	SECTION code_compiler
1104  00DC              ;	---------------------------------
1105  00DC              ; Function game_draw_map
1106  00DC              ; ---------------------------------
1107  00DC              _game_draw_map:
1108  00DC  CD 00 00    	call	___sdcc_enter_ix
1109  00DF  F5          	push	af
1110  00E0  F5          	push	af
1111  00E1  3B          	dec	sp
1112  00E2  76          	halt
1113  00E3  21 00 00    	ld	hl,_spr_count
1114  00E6  36 00       	ld	(hl),0x00
1115  00E8  CD 00 00    	call	_spr_init_effects
1116  00EB  11 00 00    	ld	de,_obj_col+0
1117  00EE              l_game_draw_map_00101:
1118  00EE  21 00 00    	ld	hl,_spr_count
1119  00F1  7E          	ld	a, (hl)
1120  00F2  D6 07       	sub	a,0x07
1121  00F4  30 22       	jr	NC,l_game_draw_map_00103
1122  00F6  3E 00       	ld	a, +((_class) & 0xFF)
1123  00F8  86          	add	a, (hl)
1124  00F9  4F          	ld	c, a
1125  00FA  3E 00       	ld	a, +((_class) / 256)
1126  00FC  CE 00       	adc	a,0x00
1127  00FE  47          	ld	b, a
1128  00FF  AF          	xor	a, a
1129  0100  02          	ld	(bc), a
1130  0101  7B          	ld	a, e
1131  0102  86          	add	a, (hl)
1132  0103  4F          	ld	c, a
1133  0104  7A          	ld	a, d
1134  0105  CE 00       	adc	a,0x00
1135  0107  47          	ld	b, a
1136  0108  AF          	xor	a, a
1137  0109  02          	ld	(bc), a
1138  010A  3E 00       	ld	a, +((_obj_lin) & 0xFF)
1139  010C  86          	add	a, (hl)
1140  010D  4F          	ld	c, a
1141  010E  3E 00       	ld	a, +((_obj_lin) / 256)
1142  0110  CE 00       	adc	a,0x00
1143  0112  47          	ld	b, a
1144  0113  AF          	xor	a, a
1145  0114  02          	ld	(bc), a
1146  0115  34          	inc	(hl)
1147  0116  18 D6       	jr	l_game_draw_map_00101
1148  0118              l_game_draw_map_00103:
1149  0118  21 00 00    	ld	hl,_spr_count
1150  011B  36 00       	ld	(hl),0x00
1151  011D  21 00 00    	ld	hl,0x0000
1152  0120  22 00 00    	ld	(_index1),hl
1153  0123  21 00 00    	ld	hl,_s_row1
1154  0126  36 01       	ld	(hl),0x01
1155  0128  21 00 00    	ld	hl,_s_lin1
1156  012B  36 10       	ld	(hl),0x10
1157  012D  21 00 00    	ld	hl,_s_col1
1158  0130  36 00       	ld	(hl),0x00
1159  0132  21 00 00    	ld	hl,_obj_count
1160  0135  36 00       	ld	(hl),0x00
1161  0137  D5          	push	de
1162  0138  CD D6 03    	call	_game_cls
1163  013B  D1          	pop	de
1164  013C  CD 00 00    	call	_NIRVANAP_stop
1165  013F  21 00 00    	ld	hl,_screen_ink
1166  0142  36 00       	ld	(hl),0x00
1167  0144  21 00 00    	ld	hl,_game_conveyor_lin
1168  0147  36 00       	ld	(hl),0x00
1169  0149  21 00 00    	ld	hl,_game_conveyor_col0
1170  014C  36 00       	ld	(hl),0x00
1171  014E  21 00 00    	ld	hl,_game_conveyor_col1
1172  0151  36 00       	ld	(hl),0x00
1173  0153  21 00 00    	ld	hl,_game_conveyor_tile
1174  0156  36 11       	ld	(hl),0x11
1175  0158              l_game_draw_map_00129:
1176  0158  21 01 00    	ld	hl,_index1 + 1
1177  015B  7E          	ld	a, (hl)
1178  015C  D6 02       	sub	a,0x02
1179  015E  D2 43 03    	jp	NC, l_game_draw_map_00131
1180  0161  3E 00       	ld	a, +((_scr_map) & 0xFF)
1181  0163  2B          	dec	hl
1182  0164  86          	add	a, (hl)
1183  0165  DD 77 FB    	ld	(ix-5),a
1184  0168  3E 00       	ld	a, +((_scr_map) / 256)
1185  016A  23          	inc	hl
1186  016B  8E          	adc	a, (hl)
1187  016C  DD 77 FC    	ld	(ix-4),a
1188  016F  E1          	pop	hl
1189  0170  7E          	ld	a,(hl)
1190  0171  E5          	push	hl
1191  0172  DD 77 FF    	ld	(ix-1),a
1192  0175  D6 40       	sub	a,0x40
1193  0177  D2 42 02    	jp	NC, l_game_draw_map_00125
1194  017A  DD 7E FF    	ld	a,(ix-1)
1195  017D  D6 08       	sub	a,0x08
1196  017F  20 1B       	jr	NZ,l_game_draw_map_00105
1197  0181  2A 00 00    	ld	hl,(_obj_count)
1198  0184  26 00       	ld	h,0x00
1199  0186  19          	add	hl,de
1200  0187  3A 00 00    	ld	a,(_s_col1)
1201  018A  77          	ld	(hl),a
1202  018B  2A 00 00    	ld	hl,(_obj_count)
1203  018E  26 00       	ld	h,0x00
1204  0190  01 00 00    	ld	bc,_obj_lin
1205  0193  09          	add	hl,bc
1206  0194  3A 00 00    	ld	a,(_s_lin1)
1207  0197  77          	ld	(hl),a
1208  0198  21 00 00    	ld	hl,_obj_count
1209  019B  34          	inc	(hl)
1210  019C              l_game_draw_map_00105:
1211  019C  2A 00 00    	ld	hl,(_index1)
1212  019F  01 00 00    	ld	bc,_scr_map
1213  01A2  09          	add	hl,bc
1214  01A3  3A 00 00    	ld	a,(_index1)
1215  01A6  E6 1F       	and	a,0x1f
1216  01A8  DD 77 FD    	ld	(ix-3),a
1217  01AB  DD 36 FE 00 	ld	(ix-2),0x00
1218  01AF  4E          	ld	c, (hl)
1219  01B0  DD 46 FD    	ld	b,(ix-3)
1220  01B3  79          	ld	a, c
1221  01B4  D6 04       	sub	a,0x04
1222  01B6  20 04       	jr	NZ,l_game_draw_map_00200
1223  01B8  3E 01       	ld	a,0x01
1224  01BA  18 01       	jr	l_game_draw_map_00201
1225  01BC              l_game_draw_map_00200:
1226  01BC  AF          	xor	a,a
1227  01BD              l_game_draw_map_00201:
1228  01BD  4F          	ld	c, a
1229  01BE  3A 00 00    	ld	a,(_game_conveyor_col0)
1230  01C1  B7          	or	a, a
1231  01C2  28 0C       	jr	Z,l_game_draw_map_00107
1232  01C4  21 00 00    	ld	hl,_game_conveyor_col1
1233  01C7  7E          	ld	a, (hl)
1234  01C8  B7          	or	a, a
1235  01C9  20 05       	jr	NZ,l_game_draw_map_00107
1236  01CB  CB 41       	bit	0, c
1237  01CD  20 01       	jr	NZ,l_game_draw_map_00107
1238  01CF  70          	ld	(hl), b
1239  01D0              l_game_draw_map_00107:
1240  01D0  CB 41       	bit	0, c
1241  01D2  28 46       	jr	Z,l_game_draw_map_00116
1242  01D4  21 00 00    	ld	hl,_game_conveyor_col0
1243  01D7  7E          	ld	a, (hl)
1244  01D8  B7          	or	a, a
1245  01D9  20 3F       	jr	NZ,l_game_draw_map_00116
1246  01DB  70          	ld	(hl), b
1247  01DC  ED 4B 00 00 	ld	bc,(_index1)
1248  01E0  79          	ld	a,c
1249  01E1  0E 05       	ld	c,0x05
1250  01E3              l_game_draw_map_00202:
1251  01E3  CB 38       	srl	b
1252  01E5  1F          	rra
1253  01E6  0D          	dec	c
1254  01E7  20 FA       	jr	NZ,l_game_draw_map_00202
1255  01E9  07          	rlca
1256  01EA  07          	rlca
1257  01EB  07          	rlca
1258  01EC  E6 F8       	and	a,0xf8
1259  01EE  C6 08       	add	a,0x08
1260  01F0  32 00 00    	ld	(_game_conveyor_lin),a
1261  01F3  ED 4B 00 00 	ld	bc,(_index1)
1262  01F7  03          	inc	bc
1263  01F8  21 00 00    	ld	hl,_scr_map
1264  01FB  09          	add	hl,bc
1265  01FC  DD 75 FD    	ld	(ix-3),l
1266  01FF  DD 74 FE    	ld	(ix-2),h
1267  0202  7E          	ld	a, (hl)
1268  0203  B7          	or	a, a
1269  0204  28 07       	jr	Z,l_game_draw_map_00111
1270  0206  21 00 00    	ld	hl,_game_conveyor_dir
1271  0209  36 FF       	ld	(hl),0xff
1272  020B  18 05       	jr	l_game_draw_map_00112
1273  020D              l_game_draw_map_00111:
1274  020D  21 00 00    	ld	hl,_game_conveyor_dir
1275  0210  36 01       	ld	(hl),0x01
1276  0212              l_game_draw_map_00112:
1277  0212  DD 6E FD    	ld	l,(ix-3)
1278  0215  DD 66 FE    	ld	h,(ix-2)
1279  0218  36 04       	ld	(hl),0x04
1280  021A              l_game_draw_map_00116:
1281  021A  3A 00 00    	ld	a,(_s_row1)
1282  021D  07          	rlca
1283  021E  07          	rlca
1284  021F  07          	rlca
1285  0220  E6 F8       	and	a,0xf8
1286  0222  DD 77 FD    	ld	(ix-3),a
1287  0225  01 00 00    	ld	bc,_scr_map
1288  0228  2A 00 00    	ld	hl,(_index1)
1289  022B  09          	add	hl,bc
1290  022C  46          	ld	b, (hl)
1291  022D  3A 00 00    	ld	a,(_s_col1)
1292  0230  D5          	push	de
1293  0231  F5          	push	af
1294  0232  33          	inc	sp
1295  0233  DD 7E FD    	ld	a,(ix-3)
1296  0236  48          	ld	c,b
1297  0237  47          	ld	b,a
1298  0238  C5          	push	bc
1299  0239  CD 00 00    	call	_game_sprite_draw8
1300  023C  F1          	pop	af
1301  023D  33          	inc	sp
1302  023E  D1          	pop	de
1303  023F  C3 1C 03    	jp	l_game_draw_map_00126
1304  0242              l_game_draw_map_00125:
1305  0242  DD 7E FF    	ld	a,(ix-1)
1306  0245  D6 78       	sub	a,0x78
1307  0247  D2 F5 02    	jp	NC, l_game_draw_map_00122
1308  024A  21 00 00    	ld	hl,_index1
1309  024D  7E          	ld	a, (hl)
1310  024E  E6 1F       	and	a,0x1f
1311  0250  DD 77 FD    	ld	(ix-3),a
1312  0253  23          	inc	hl
1313  0254  46          	ld	b,(hl)
1314  0255  2B          	dec	hl
1315  0256  7E          	ld	a,(hl)
1316  0257  0E 05       	ld	c,0x05
1317  0259              l_game_draw_map_00203:
1318  0259  CB 38       	srl	b
1319  025B  1F          	rra
1320  025C  0D          	dec	c
1321  025D  20 FA       	jr	NZ,l_game_draw_map_00203
1322  025F  4F          	ld	c,a
1323  0260  07          	rlca
1324  0261  07          	rlca
1325  0262  07          	rlca
1326  0263  E6 F8       	and	a,0xf8
1327  0265  47          	ld	b, a
1328  0266  D5          	push	de
1329  0267  DD 66 FF    	ld	h,(ix-1)
1330  026A  DD 6E FD    	ld	l,(ix-3)
1331  026D  E5          	push	hl
1332  026E  C5          	push	bc
1333  026F  33          	inc	sp
1334  0270  CD 00 00    	call	_enemy_init
1335  0273  F1          	pop	af
1336  0274  33          	inc	sp
1337  0275  D1          	pop	de
1338  0276  3E 00       	ld	a, +((_value_a) & 0xFF)
1339  0278  21 00 00    	ld	hl,_sprite
1340  027B  86          	add	a, (hl)
1341  027C  DD 77 FD    	ld	(ix-3),a
1342  027F  3E 00       	ld	a, +((_value_a) / 256)
1343  0281  CE 00       	adc	a,0x00
1344  0283  DD 77 FE    	ld	(ix-2),a
1345  0286  2A 00 00    	ld	hl,(_index1)
1346  0289  01 20 00    	ld	bc,0x0020
1347  028C  09          	add	hl,bc
1348  028D  01 00 00    	ld	bc,_scr_map
1349  0290  09          	add	hl,bc
1350  0291  4E          	ld	c, (hl)
1351  0292  DD 6E FD    	ld	l,(ix-3)
1352  0295  DD 66 FE    	ld	h,(ix-2)
1353  0298  71          	ld	(hl), c
1354  0299  3E 00       	ld	a, +((_value_b) & 0xFF)
1355  029B  21 00 00    	ld	hl,_sprite
1356  029E  86          	add	a, (hl)
1357  029F  DD 77 FD    	ld	(ix-3),a
1358  02A2  3E 00       	ld	a, +((_value_b) / 256)
1359  02A4  CE 00       	adc	a,0x00
1360  02A6  DD 77 FE    	ld	(ix-2),a
1361  02A9  2A 00 00    	ld	hl,(_index1)
1362  02AC  01 21 00    	ld	bc,0x0021
1363  02AF  09          	add	hl,bc
1364  02B0  01 00 00    	ld	bc,_scr_map
1365  02B3  09          	add	hl,bc
1366  02B4  4E          	ld	c, (hl)
1367  02B5  DD 6E FD    	ld	l,(ix-3)
1368  02B8  DD 66 FE    	ld	h,(ix-2)
1369  02BB  71          	ld	(hl), c
1370  02BC  2A 00 00    	ld	hl,(_index1)
1371  02BF  01 00 00    	ld	bc,_scr_map
1372  02C2  09          	add	hl,bc
1373  02C3  AF          	xor	a,a
1374  02C4  77          	ld	(hl),a
1375  02C5  2A 00 00    	ld	hl,(_index1)
1376  02C8  01 00 00    	ld	bc,_scr_map
1377  02CB  09          	add	hl,bc
1378  02CC  AF          	xor	a,a
1379  02CD  77          	ld	(hl),a
1380  02CE  ED 4B 00 00 	ld	bc,(_index1)
1381  02D2  03          	inc	bc
1382  02D3  21 00 00    	ld	hl,_scr_map
1383  02D6  09          	add	hl, bc
1384  02D7  36 00       	ld	(hl),0x00
1385  02D9  2A 00 00    	ld	hl,(_index1)
1386  02DC  01 20 00    	ld	bc,0x0020
1387  02DF  09          	add	hl,bc
1388  02E0  01 00 00    	ld	bc,_scr_map
1389  02E3  09          	add	hl,bc
1390  02E4  36 00       	ld	(hl),0x00
1391  02E6  2A 00 00    	ld	hl,(_index1)
1392  02E9  01 21 00    	ld	bc,0x0021
1393  02EC  09          	add	hl,bc
1394  02ED  01 00 00    	ld	bc,_scr_map
1395  02F0  09          	add	hl,bc
1396  02F1  36 00       	ld	(hl),0x00
1397  02F3  18 27       	jr	l_game_draw_map_00126
1398  02F5              l_game_draw_map_00122:
1399  02F5  DD 7E FF    	ld	a,(ix-1)
1400  02F8  D6 7F       	sub	a,0x7f
1401  02FA  20 12       	jr	NZ,l_game_draw_map_00118
1402  02FC  3A 00 00    	ld	a,(_s_lin1)
1403  02FF  C6 F0       	add	a,0xf0
1404  0301  E1          	pop	hl
1405  0302  32 00 00    	ld	(_player_lin_scr),a
1406  0305  3A 00 00    	ld	a,(_s_col1)
1407  0308  32 00 00    	ld	(_player_col_scr),a
1408  030B  E5          	push	hl
1409  030C  36 00       	ld	(hl),0x00
1410  030E              l_game_draw_map_00118:
1411  030E  01 00 00    	ld	bc,_scr_map
1412  0311  2A 00 00    	ld	hl,(_index1)
1413  0314  09          	add	hl,bc
1414  0315  7E          	ld	a,(hl)
1415  0316  D6 7F       	sub	a,0x7f
1416  0318  20 02       	jr	NZ,l_game_draw_map_00126
1417  031A  AF          	xor	a,a
1418  031B  77          	ld	(hl),a
1419  031C              l_game_draw_map_00126:
1420  031C  21 00 00    	ld	hl,_index1
1421  031F  34          	inc	(hl)
1422  0320  20 02       	jr	NZ,l_game_draw_map_00208
1423  0322  23          	inc	hl
1424  0323  34          	inc	(hl)
1425  0324              l_game_draw_map_00208:
1426  0324  21 00 00    	ld	hl,_s_col1
1427  0327  34          	inc	(hl)
1428  0328  3A 00 00    	ld	a,(_index1)
1429  032B  E6 1F       	and	a,0x1f
1430  032D  C2 58 01    	jp	NZ,l_game_draw_map_00129
1431  0330  21 00 00    	ld	hl,_s_row1
1432  0333  34          	inc	(hl)
1433  0334  21 00 00    	ld	hl,_s_lin1
1434  0337  7E          	ld	a, (hl)
1435  0338  C6 08       	add	a,0x08
1436  033A  77          	ld	(hl), a
1437  033B  21 00 00    	ld	hl,_s_col1
1438  033E  36 00       	ld	(hl),0x00
1439  0340  C3 58 01    	jp	l_game_draw_map_00129
1440  0343              l_game_draw_map_00131:
1441  0343  CD 00 00    	call	_NIRVANAP_start
1442  0346  76          	halt
1443  0347  CD 00 00    	call	_game_update_stats
1444  034A  DD F9       	ld	sp, ix
1445  034C  DD E1       	pop	ix
1446  034E  C9          	ret
1447  034F              	SECTION code_compiler
1448  034F              ;	---------------------------------
1449  034F              ; Function game_cell_paint_index
1450  034F              ; ---------------------------------
1451  034F              _game_cell_paint_index:
1452  034F  3A 00 00    	ld	a,(_index1)
1453  0352  E6 1F       	and	a,0x1f
1454  0354  32 00 00    	ld	(_s_col1),a
1455  0357  2A 00 00    	ld	hl,(_index1)
1456  035A  4D          	ld	c,l
1457  035B  5C          	ld	e,h
1458  035C  06 05       	ld	b,0x05
1459  035E  79          	ld	a,c
1460  035F              l_game_cell_paint_index_00103:
1461  035F  CB 3B       	srl	e
1462  0361  1F          	rra
1463  0362  10 FB       	djnz	l_game_cell_paint_index_00103
1464  0364  07          	rlca
1465  0365  07          	rlca
1466  0366  07          	rlca
1467  0367  E6 F8       	and	a,0xf8
1468  0369  32 00 00    	ld	(_s_lin1),a
1469  036C  0F          	rrca
1470  036D  0F          	rrca
1471  036E  0F          	rrca
1472  036F  E6 1F       	and	a,0x1f
1473  0371  3C          	inc	a
1474  0372  32 00 00    	ld	(_s_row1),a
1475  0375  21 00 00    	ld	hl,_s_lin1
1476  0378  7E          	ld	a, (hl)
1477  0379  C6 10       	add	a,0x10
1478  037B  77          	ld	(hl), a
1479  037C  3A 00 00    	ld	a,(_s_row1)
1480  037F  07          	rlca
1481  0380  07          	rlca
1482  0381  07          	rlca
1483  0382  E6 F8       	and	a,0xf8
1484  0384  4F          	ld	c, a
1485  0385  11 00 00    	ld	de,_scr_map
1486  0388  2A 00 00    	ld	hl,(_index1)
1487  038B  19          	add	hl,de
1488  038C  46          	ld	b, (hl)
1489  038D  3A 00 00    	ld	a,(_s_col1)
1490  0390  F5          	push	af
1491  0391  33          	inc	sp
1492  0392  79          	ld	a, c
1493  0393  48          	ld	c,b
1494  0394  47          	ld	b,a
1495  0395  C5          	push	bc
1496  0396  CD 00 00    	call	_game_sprite_draw8
1497  0399  F1          	pop	af
1498  039A  33          	inc	sp
1499  039B  C9          	ret
1500  039C              	SECTION code_compiler
1501  039C              ;	---------------------------------
1502  039C              ; Function game_cell_paint
1503  039C              ; ---------------------------------
1504  039C              _game_cell_paint:
1505  039C  3A 00 00    	ld	a,(_s_row1)
1506  039F  07          	rlca
1507  03A0  07          	rlca
1508  03A1  07          	rlca
1509  03A2  E6 F8       	and	a,0xf8
1510  03A4  57          	ld	d, a
1511  03A5  01 00 00    	ld	bc,_scr_map
1512  03A8  2A 00 00    	ld	hl,(_index1)
1513  03AB  09          	add	hl,bc
1514  03AC  4D          	ld	c,l
1515  03AD  46          	ld	b, (hl)
1516  03AE  3A 00 00    	ld	a,(_s_col1)
1517  03B1  5A          	ld	e,d
1518  03B2  57          	ld	d,a
1519  03B3  D5          	push	de
1520  03B4  C5          	push	bc
1521  03B5  33          	inc	sp
1522  03B6  CD 00 00    	call	_game_sprite_draw8
1523  03B9  F1          	pop	af
1524  03BA  33          	inc	sp
1525  03BB  C9          	ret
1526  03BC              	SECTION code_compiler
1527  03BC              ;	---------------------------------
1528  03BC              ; Function game_end is a stub
1529  03BC              ; ---------------------------------
1530  03BC              EXTERN l_ret
1531  03BC              defc _game_end = l_ret
1532  03BC              	SECTION code_compiler
1533  03BC              ;	---------------------------------
1534  03BC              ; Function game_print_footer
1535  03BC              ; ---------------------------------
1536  03BC              _game_print_footer:
1537  03BC  3A 00 00    	ld	a,(_game_fps_show)
1538  03BF  B7          	or	a, a
1539  03C0  28 10       	jr	Z,l_game_print_footer_00102
1540  03C2  21 00 00    	ld	hl,_screen_ink
1541  03C5  36 07       	ld	(hl),0x07
1542  03C7  21 00 00    	ld	hl,___str_0
1543  03CA  E5          	push	hl
1544  03CB  21 17 14    	ld	hl,0x1417
1545  03CE  E5          	push	hl
1546  03CF  CD 00 00    	call	_zx_print_str
1547  03D2              l_game_print_footer_00102:
1548  03D2  CD 00 00    	call	_game_update_stats
1549  03D5  C9          	ret
1550  03D6              	SECTION rodata_compiler
1551  0000              ___str_0:
1552  0000  4C 50 53 3A 	DEFM "LPS:"
1553  0004  00          	DEFB 0x00
1554  0005              	SECTION code_compiler
1555  03D6              ;	---------------------------------
1556  03D6              ; Function game_print_score is a stub
1557  03D6              ; ---------------------------------
1558  03D6              EXTERN l_ret
1559  03D6              defc _game_print_score = l_ret
1560  03D6              	SECTION code_compiler
1561  03D6              ;	---------------------------------
1562  03D6              ; Function game_cls
1563  03D6              ; ---------------------------------
1564  03D6              _game_cls:
1565  03D6  CD 00 00    	call	_NIRVANAP_stop
1566  03D9  2E 00       	ld	l,0x00
1567  03DB  CD 00 00    	call	_zx_cls_fastcall
1568  03DE  21 00 00    	ld	hl,_screen_ink
1569  03E1  36 07       	ld	(hl),0x07
1570  03E3  C3 00 00    	jp  _NIRVANAP_start
1571  03E6              	SECTION code_compiler
1572  03E6              ;	---------------------------------
1573  03E6              ; Function game_update_stats is a stub
1574  03E6              ; ---------------------------------
1575  03E6              EXTERN l_ret
1576  03E6              defc _game_update_stats = l_ret
1577  03E6              	SECTION code_compiler
1578  03E6              ;	---------------------------------
1579  03E6              ; Function game_tick
1580  03E6              ; ---------------------------------
1581  03E6              _game_tick:
1582  03E6  21 00 00    	ld	hl,_curr_time
1583  03E9  34          	inc	(hl)
1584  03EA  C2 00 00    	jp	NZ,_zx_isr
1585  03ED  23          	inc	hl
1586  03EE  34          	inc	(hl)
1587  03EF  C3 00 00    	jp  _zx_isr
1588  03F2              	SECTION code_compiler
1589  03F2              ;	---------------------------------
1590  03F2              ; Function game_start_timer
1591  03F2              ; ---------------------------------
1592  03F2              _game_start_timer:
1593  03F2  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1594  03F5  36 CD       	ld	(hl),0xcd
1595  03F7  23          	inc	hl
1596  03F8  11 E6 03    	ld	de,_game_tick
1597  03FB  73          	ld	(hl), e
1598  03FC  23          	inc	hl
1599  03FD  72          	ld	(hl), d
1600  03FE  C9          	ret
1601  03FF              	SECTION code_compiler
1602  03FF              ;	---------------------------------
1603  03FF              ; Function game_anim_conveyor
1604  03FF              ; ---------------------------------
1605  03FF              _game_anim_conveyor:
1606  03FF  CD 00 00    	call	___sdcc_enter_ix
1607  0402  F5          	push	af
1608  0403  F5          	push	af
1609  0404  3B          	dec	sp
1610  0405  01 60 00    	ld	bc,_btiles+96
1611  0408  3A 00 00    	ld	a,(_game_conveyor_lin)
1612  040B  32 00 00    	ld	(_i),a
1613  040E  C6 08       	add	a,0x08
1614  0410  DD 77 FB    	ld	(ix-5),a
1615  0413  0A          	ld	a, (bc)
1616  0414  5F          	ld	e, a
1617  0415  3A 00 00    	ld	a,(_game_conveyor_dir)
1618  0418  3C          	inc	a
1619  0419  20 14       	jr	NZ,l_game_anim_conveyor_00102
1620  041B  7B          	ld	a, e
1621  041C  87          	add	a, a
1622  041D  57          	ld	d, a
1623  041E  7B          	ld	a, e
1624  041F  07          	rlca
1625  0420  E6 01       	and	a,0x01
1626  0422  B2          	or	a, d
1627  0423  57          	ld	d,a
1628  0424  02          	ld	(bc),a
1629  0425  87          	add	a, a
1630  0426  5F          	ld	e, a
1631  0427  7A          	ld	a, d
1632  0428  07          	rlca
1633  0429  E6 01       	and	a,0x01
1634  042B  B3          	or	a, e
1635  042C  02          	ld	(bc), a
1636  042D  18 14       	jr	l_game_anim_conveyor_00121
1637  042F              l_game_anim_conveyor_00102:
1638  042F  7B          	ld	a, e
1639  0430  0F          	rrca
1640  0431  E6 80       	and	a,0x80
1641  0433  6F          	ld	l, a
1642  0434  7B          	ld	a,e
1643  0435  CB 3F       	srl	a
1644  0437  B5          	or	a, l
1645  0438  5F          	ld	e,a
1646  0439  02          	ld	(bc),a
1647  043A  0F          	rrca
1648  043B  E6 80       	and	a,0x80
1649  043D  6F          	ld	l, a
1650  043E  CB 3B       	srl	e
1651  0440  7D          	ld	a, l
1652  0441  B3          	or	a, e
1653  0442  02          	ld	(bc), a
1654  0443              l_game_anim_conveyor_00121:
1655  0443              l_game_anim_conveyor_00112:
1656  0443  3A 00 00    	ld	a,(_i)
1657  0446  DD 96 FB    	sub	a,(ix-5)
1658  0449  D2 D2 04    	jp	NC, l_game_anim_conveyor_00115
1659  044C  3A 00 00    	ld	a,(_game_conveyor_col0)
1660  044F  DD 77 FC    	ld	(ix-4),a
1661  0452  2A 00 00    	ld	hl,(_i)
1662  0455  CD 00 00    	call	_zx_py2saddr_fastcall
1663  0458  EB          	ex	de,hl
1664  0459  7B          	ld	a, e
1665  045A  DD 86 FC    	add	a,(ix-4)
1666  045D  5F          	ld	e, a
1667  045E  7A          	ld	a, d
1668  045F  CE 00       	adc	a,0x00
1669  0461  57          	ld	d, a
1670  0462  DD 7E FC    	ld	a,(ix-4)
1671  0465  DD 77 FF    	ld	(ix-1),a
1672  0468              l_game_anim_conveyor_00104:
1673  0468  DD 7E FF    	ld	a,(ix-1)
1674  046B  21 00 00    	ld	hl,_game_conveyor_col1
1675  046E  96          	sub	a, (hl)
1676  046F  30 08       	jr	NC,l_game_anim_conveyor_00106
1677  0471  0A          	ld	a, (bc)
1678  0472  12          	ld	(de), a
1679  0473  13          	inc	de
1680  0474  DD 34 FF    	inc	(ix-1)
1681  0477  18 EF       	jr	l_game_anim_conveyor_00104
1682  0479              l_game_anim_conveyor_00106:
1683  0479  03          	inc	bc
1684  047A  03          	inc	bc
1685  047B  21 00 00    	ld	hl,_i
1686  047E  34          	inc	(hl)
1687  047F  3A 00 00    	ld	a,(_game_conveyor_lin)
1688  0482  5F          	ld	e,a
1689  0483  16 00       	ld	d,0x00
1690  0485  13          	inc	de
1691  0486  13          	inc	de
1692  0487  DD 73 FD    	ld	(ix-3),e
1693  048A  DD 72 FE    	ld	(ix-2),d
1694  048D  3A 00 00    	ld	a,(_i)
1695  0490  5F          	ld	e,a
1696  0491  16 00       	ld	d,0x00
1697  0493  DD 7E FD    	ld	a,(ix-3)
1698  0496  93          	sub	a, e
1699  0497  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1700  0499  DD 7E FE    	ld	a,(ix-2)
1701  049C  92          	sub	a, d
1702  049D  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1703  049F  0A          	ld	a, (bc)
1704  04A0  5F          	ld	e, a
1705  04A1  3A 00 00    	ld	a,(_game_conveyor_dir)
1706  04A4  3C          	inc	a
1707  04A5  20 16       	jr	NZ,l_game_anim_conveyor_00108
1708  04A7  7B          	ld	a, e
1709  04A8  0F          	rrca
1710  04A9  E6 80       	and	a,0x80
1711  04AB  57          	ld	d, a
1712  04AC  CB 3B       	srl	e
1713  04AE  7A          	ld	a, d
1714  04AF  B3          	or	a, e
1715  04B0  57          	ld	d,a
1716  04B1  02          	ld	(bc),a
1717  04B2  0F          	rrca
1718  04B3  E6 80       	and	a,0x80
1719  04B5  5F          	ld	e, a
1720  04B6  CB 3A       	srl	d
1721  04B8  7B          	ld	a, e
1722  04B9  B2          	or	a, d
1723  04BA  02          	ld	(bc), a
1724  04BB  18 86       	jr	l_game_anim_conveyor_00112
1725  04BD              l_game_anim_conveyor_00108:
1726  04BD  7B          	ld	a, e
1727  04BE  87          	add	a, a
1728  04BF  57          	ld	d, a
1729  04C0  7B          	ld	a, e
1730  04C1  07          	rlca
1731  04C2  E6 01       	and	a,0x01
1732  04C4  B2          	or	a, d
1733  04C5  5F          	ld	e,a
1734  04C6  02          	ld	(bc),a
1735  04C7  87          	add	a, a
1736  04C8  57          	ld	d, a
1737  04C9  7B          	ld	a, e
1738  04CA  07          	rlca
1739  04CB  E6 01       	and	a,0x01
1740  04CD  B2          	or	a, d
1741  04CE  02          	ld	(bc), a
1742  04CF  C3 43 04    	jp	l_game_anim_conveyor_00112
1743  04D2              l_game_anim_conveyor_00115:
1744  04D2  DD F9       	ld	sp, ix
1745  04D4  DD E1       	pop	ix
1746  04D6  C9          	ret
1747  04D7              	SECTION code_compiler
1748  04D7              ;	---------------------------------
1749  04D7              ; Function game_round_init
1750  04D7              ; ---------------------------------
1751  04D7              _game_round_init:
1752  04D7  CD 00 00    	call	___sdcc_enter_ix
1753  04DA  21 C2 FF    	ld	hl, -62
1754  04DD  39          	add	hl, sp
1755  04DE  F9          	ld	sp, hl
1756  04DF  21 14 00    	ld	hl,0x0014
1757  04E2  39          	add	hl, sp
1758  04E3  4D          	ld	c,l
1759  04E4  44          	ld	b,h
1760  04E5  36 05       	ld	(hl), +((___str_1) & 0xFF)
1761  04E7  23          	inc	hl
1762  04E8  36 00       	ld	(hl), +((___str_1) / 256)
1763  04EA  59          	ld	e, c
1764  04EB  50          	ld	d, b
1765  04EC  13          	inc	de
1766  04ED  13          	inc	de
1767  04EE  3E 14       	ld	a, +((___str_2) & 0xFF)
1768  04F0  12          	ld	(de), a
1769  04F1  13          	inc	de
1770  04F2  3E 00       	ld	a, +((___str_2) / 256)
1771  04F4  12          	ld	(de), a
1772  04F5  21 04 00    	ld	hl,0x0004
1773  04F8  09          	add	hl,bc
1774  04F9  36 22       	ld	(hl), +((___str_3) & 0xFF)
1775  04FB  EB          	ex	de,hl
1776  04FC  13          	inc	de
1777  04FD  3E 00       	ld	a, +((___str_3) / 256)
1778  04FF  12          	ld	(de), a
1779  0500  21 06 00    	ld	hl,0x0006
1780  0503  09          	add	hl,bc
1781  0504  36 2C       	ld	(hl), +((___str_4) & 0xFF)
1782  0506  EB          	ex	de,hl
1783  0507  13          	inc	de
1784  0508  3E 00       	ld	a, +((___str_4) / 256)
1785  050A  12          	ld	(de), a
1786  050B  21 08 00    	ld	hl,0x0008
1787  050E  09          	add	hl,bc
1788  050F  36 47       	ld	(hl), +((___str_5) & 0xFF)
1789  0511  EB          	ex	de,hl
1790  0512  13          	inc	de
1791  0513  3E 00       	ld	a, +((___str_5) / 256)
1792  0515  12          	ld	(de), a
1793  0516  21 0A 00    	ld	hl,0x000a
1794  0519  09          	add	hl,bc
1795  051A  36 55       	ld	(hl), +((___str_6) & 0xFF)
1796  051C  EB          	ex	de,hl
1797  051D  13          	inc	de
1798  051E  3E 00       	ld	a, +((___str_6) / 256)
1799  0520  12          	ld	(de), a
1800  0521  21 0C 00    	ld	hl,0x000c
1801  0524  09          	add	hl,bc
1802  0525  36 66       	ld	(hl), +((___str_7) & 0xFF)
1803  0527  EB          	ex	de,hl
1804  0528  13          	inc	de
1805  0529  3E 00       	ld	a, +((___str_7) / 256)
1806  052B  12          	ld	(de), a
1807  052C  21 0E 00    	ld	hl,0x000e
1808  052F  09          	add	hl,bc
1809  0530  36 6E       	ld	(hl), +((___str_8) & 0xFF)
1810  0532  EB          	ex	de,hl
1811  0533  13          	inc	de
1812  0534  3E 00       	ld	a, +((___str_8) / 256)
1813  0536  12          	ld	(de), a
1814  0537  21 10 00    	ld	hl,0x0010
1815  053A  09          	add	hl,bc
1816  053B  36 80       	ld	(hl), +((___str_9) & 0xFF)
1817  053D  EB          	ex	de,hl
1818  053E  13          	inc	de
1819  053F  3E 00       	ld	a, +((___str_9) / 256)
1820  0541  12          	ld	(de), a
1821  0542  21 12 00    	ld	hl,0x0012
1822  0545  09          	add	hl,bc
1823  0546  36 94       	ld	(hl), +((___str_10) & 0xFF)
1824  0548  EB          	ex	de,hl
1825  0549  13          	inc	de
1826  054A  3E 00       	ld	a, +((___str_10) / 256)
1827  054C  12          	ld	(de), a
1828  054D  21 14 00    	ld	hl,0x0014
1829  0550  09          	add	hl,bc
1830  0551  36 B4       	ld	(hl), +((___str_11) & 0xFF)
1831  0553  EB          	ex	de,hl
1832  0554  13          	inc	de
1833  0555  3E 00       	ld	a, +((___str_11) / 256)
1834  0557  12          	ld	(de), a
1835  0558  21 16 00    	ld	hl,0x0016
1836  055B  09          	add	hl,bc
1837  055C  36 C1       	ld	(hl), +((___str_12) & 0xFF)
1838  055E  EB          	ex	de,hl
1839  055F  13          	inc	de
1840  0560  3E 00       	ld	a, +((___str_12) / 256)
1841  0562  12          	ld	(de), a
1842  0563  21 18 00    	ld	hl,0x0018
1843  0566  09          	add	hl,bc
1844  0567  36 CF       	ld	(hl), +((___str_13) & 0xFF)
1845  0569  EB          	ex	de,hl
1846  056A  13          	inc	de
1847  056B  3E 00       	ld	a, +((___str_13) / 256)
1848  056D  12          	ld	(de), a
1849  056E  21 1A 00    	ld	hl,0x001a
1850  0571  09          	add	hl,bc
1851  0572  36 E5       	ld	(hl), +((___str_14) & 0xFF)
1852  0574  EB          	ex	de,hl
1853  0575  13          	inc	de
1854  0576  3E 00       	ld	a, +((___str_14) / 256)
1855  0578  12          	ld	(de), a
1856  0579  21 1C 00    	ld	hl,0x001c
1857  057C  09          	add	hl,bc
1858  057D  36 F9       	ld	(hl), +((___str_15) & 0xFF)
1859  057F  EB          	ex	de,hl
1860  0580  13          	inc	de
1861  0581  3E 00       	ld	a, +((___str_15) / 256)
1862  0583  12          	ld	(de), a
1863  0584  21 1E 00    	ld	hl,0x001e
1864  0587  09          	add	hl,bc
1865  0588  36 1A       	ld	(hl), +((___str_16) & 0xFF)
1866  058A  EB          	ex	de,hl
1867  058B  13          	inc	de
1868  058C  3E 01       	ld	a, +((___str_16) / 256)
1869  058E  12          	ld	(de), a
1870  058F  21 20 00    	ld	hl,0x0020
1871  0592  09          	add	hl,bc
1872  0593  36 39       	ld	(hl), +((___str_17) & 0xFF)
1873  0595  EB          	ex	de,hl
1874  0596  13          	inc	de
1875  0597  3E 01       	ld	a, +((___str_17) / 256)
1876  0599  12          	ld	(de), a
1877  059A  21 22 00    	ld	hl,0x0022
1878  059D  09          	add	hl,bc
1879  059E  36 4B       	ld	(hl), +((___str_18) & 0xFF)
1880  05A0  EB          	ex	de,hl
1881  05A1  13          	inc	de
1882  05A2  3E 01       	ld	a, +((___str_18) / 256)
1883  05A4  12          	ld	(de), a
1884  05A5  21 24 00    	ld	hl,0x0024
1885  05A8  09          	add	hl,bc
1886  05A9  36 5E       	ld	(hl), +((___str_19) & 0xFF)
1887  05AB  EB          	ex	de,hl
1888  05AC  13          	inc	de
1889  05AD  3E 01       	ld	a, +((___str_19) / 256)
1890  05AF  12          	ld	(de), a
1891  05B0  21 26 00    	ld	hl,0x0026
1892  05B3  09          	add	hl,bc
1893  05B4  36 67       	ld	(hl), +((___str_20) & 0xFF)
1894  05B6  EB          	ex	de,hl
1895  05B7  13          	inc	de
1896  05B8  3E 01       	ld	a, +((___str_20) / 256)
1897  05BA  12          	ld	(de), a
1898  05BB  21 00 00    	ld	hl,0x0000
1899  05BE  39          	add	hl, sp
1900  05BF  36 0E       	ld	(hl),0x0e
1901  05C1  5D          	ld	e,l
1902  05C2  54          	ld	d,h
1903  05C3  23          	inc	hl
1904  05C4  36 0D       	ld	(hl),0x0d
1905  05C6  6B          	ld	l, e
1906  05C7  62          	ld	h, d
1907  05C8  23          	inc	hl
1908  05C9  23          	inc	hl
1909  05CA  36 09       	ld	(hl),0x09
1910  05CC  6B          	ld	l, e
1911  05CD  62          	ld	h, d
1912  05CE  23          	inc	hl
1913  05CF  23          	inc	hl
1914  05D0  23          	inc	hl
1915  05D1  36 1A       	ld	(hl),0x1a
1916  05D3  21 04 00    	ld	hl,0x0004
1917  05D6  19          	add	hl, de
1918  05D7  36 10       	ld	(hl),0x10
1919  05D9  21 05 00    	ld	hl,0x0005
1920  05DC  19          	add	hl, de
1921  05DD  36 07       	ld	(hl),0x07
1922  05DF  21 06 00    	ld	hl,0x0006
1923  05E2  19          	add	hl, de
1924  05E3  36 11       	ld	(hl),0x11
1925  05E5  21 07 00    	ld	hl,0x0007
1926  05E8  19          	add	hl, de
1927  05E9  36 13       	ld	(hl),0x13
1928  05EB  21 08 00    	ld	hl,0x0008
1929  05EE  19          	add	hl, de
1930  05EF  36 1F       	ld	(hl),0x1f
1931  05F1  21 09 00    	ld	hl,0x0009
1932  05F4  19          	add	hl, de
1933  05F5  36 0C       	ld	(hl),0x0c
1934  05F7  21 0A 00    	ld	hl,0x000a
1935  05FA  19          	add	hl, de
1936  05FB  36 0D       	ld	(hl),0x0d
1937  05FD  21 0B 00    	ld	hl,0x000b
1938  0600  19          	add	hl, de
1939  0601  36 13       	ld	(hl),0x13
1940  0603  21 0C 00    	ld	hl,0x000c
1941  0606  19          	add	hl, de
1942  0607  36 15       	ld	(hl),0x15
1943  0609  21 0D 00    	ld	hl,0x000d
1944  060C  19          	add	hl, de
1945  060D  36 13       	ld	(hl),0x13
1946  060F  21 0E 00    	ld	hl,0x000e
1947  0612  19          	add	hl, de
1948  0613  36 20       	ld	(hl),0x20
1949  0615  21 0F 00    	ld	hl,0x000f
1950  0618  19          	add	hl, de
1951  0619  36 1E       	ld	(hl),0x1e
1952  061B  21 10 00    	ld	hl,0x0010
1953  061E  19          	add	hl, de
1954  061F  36 11       	ld	(hl),0x11
1955  0621  21 11 00    	ld	hl,0x0011
1956  0624  19          	add	hl, de
1957  0625  36 12       	ld	(hl),0x12
1958  0627  21 12 00    	ld	hl,0x0012
1959  062A  19          	add	hl, de
1960  062B  36 08       	ld	(hl),0x08
1961  062D  21 13 00    	ld	hl,0x0013
1962  0630  19          	add	hl, de
1963  0631  36 14       	ld	(hl),0x14
1964  0633  21 00 00    	ld	hl,0x0000
1965  0636  22 00 00    	ld	(_loop_count),hl
1966  0639  21 00 00    	ld	hl,0
1967  063C  22 00 00    	ld	(_curr_time),hl
1968  063F  21 00 00    	ld	hl,0x0000
1969  0642  22 00 00    	ld	(_frame_time),hl
1970  0645  21 00 00    	ld	hl,_player_coins
1971  0648  36 00       	ld	(hl),0x00
1972  064A  21 00 00    	ld	hl,_game_conveyor_flag
1973  064D  36 00       	ld	(hl),0x00
1974  064F  C5          	push	bc
1975  0650  D5          	push	de
1976  0651  CD 00 00    	call	_spr_init_effects
1977  0654  CD 00 00    	call	_game_print_header
1978  0657  CD BC 03    	call	_game_print_footer
1979  065A  D1          	pop	de
1980  065B  C1          	pop	bc
1981  065C  CD 00 00    	call	_ay_reset
1982  065F  C5          	push	bc
1983  0660  D5          	push	de
1984  0661  CD A7 0A    	call	_game_page_map
1985  0664  CD 00 00    	call	_spr_btile_paint_back
1986  0667  CD DC 00    	call	_game_draw_map
1987  066A  21 20 90    	ld	hl,0x9020
1988  066D  E5          	push	hl
1989  066E  AF          	xor	a, a
1990  066F  F5          	push	af
1991  0670  33          	inc	sp
1992  0671  21 00 00    	ld	hl,_attrib_osd
1993  0674  E5          	push	hl
1994  0675  CD EA 07    	call	_game_paint_attrib
1995  0678  F1          	pop	af
1996  0679  F1          	pop	af
1997  067A  33          	inc	sp
1998  067B  D1          	pop	de
1999  067C  C1          	pop	bc
2000  067D  21 00 00    	ld	hl,_i
2001  0680  36 00       	ld	(hl),0x00
2002  0682  21 00 00    	ld	hl,0x0000
2003  0685  22 00 00    	ld	(_tmp_ui),hl
2004  0688              l_game_round_init_00101:
2005  0688  3A 00 00    	ld	a,(_i)
2006  068B  21 00 00    	ld	hl,_scr_curr
2007  068E  96          	sub	a, (hl)
2008  068F  30 2C       	jr	NC,l_game_round_init_00103
2009  0691  7B          	ld	a, e
2010  0692  21 00 00    	ld	hl,_i
2011  0695  86          	add	a, (hl)
2012  0696  DD 77 FE    	ld	(ix-2),a
2013  0699  6F          	ld	l,a
2014  069A  7A          	ld	a,d
2015  069B  CE 00       	adc	a,0x00
2016  069D  DD 77 FF    	ld	(ix-1),a
2017  06A0  67          	ld	h,a
2018  06A1  6E          	ld	l, (hl)
2019  06A2  DD 75 FE    	ld	(ix-2),l
2020  06A5  DD 36 FF 00 	ld	(ix-1),0x00
2021  06A9  21 00 00    	ld	hl,_tmp_ui
2022  06AC  7E          	ld	a, (hl)
2023  06AD  DD 86 FE    	add	a,(ix-2)
2024  06B0  77          	ld	(hl), a
2025  06B1  23          	inc	hl
2026  06B2  7E          	ld	a, (hl)
2027  06B3  DD 8E FF    	adc	a,(ix-1)
2028  06B6  77          	ld	(hl), a
2029  06B7  21 00 00    	ld	hl,_i
2030  06BA  34          	inc	(hl)
2031  06BB  18 CB       	jr	l_game_round_init_00101
2032  06BD              l_game_round_init_00103:
2033  06BD  21 00 00    	ld	hl,_screen_ink
2034  06C0  36 30       	ld	(hl),0x30
2035  06C2  C5          	push	bc
2036  06C3  D5          	push	de
2037  06C4  21 7C 01    	ld	hl,___str_21
2038  06C7  E5          	push	hl
2039  06C8  21 11 00    	ld	hl,0x0011
2040  06CB  E5          	push	hl
2041  06CC  CD 00 00    	call	_zx_print_str
2042  06CF  D1          	pop	de
2043  06D0  C1          	pop	bc
2044  06D1  3A 00 00    	ld	a,(_scr_curr)
2045  06D4  DD 77 FE    	ld	(ix-2),a
2046  06D7  6F          	ld	l, a
2047  06D8  26 00       	ld	h,0x00
2048  06DA  DD 74 FF    	ld	(ix-1),h
2049  06DD  29          	add	hl, hl
2050  06DE  09          	add	hl, bc
2051  06DF  4E          	ld	c, (hl)
2052  06E0  23          	inc	hl
2053  06E1  46          	ld	b, (hl)
2054  06E2  2A 00 00    	ld	hl,(_scr_curr)
2055  06E5  26 00       	ld	h,0x00
2056  06E7  19          	add	hl,de
2057  06E8  6E          	ld	l, (hl)
2058  06E9  AF          	xor	a,a
2059  06EA  67          	ld	h,a
2060  06EB  EB          	ex	de,hl
2061  06EC  21 20 00    	ld	hl,0x0020
2062  06EF  ED 52       	sbc	hl,de
2063  06F1  CB 2C       	sra	h
2064  06F3  CB 1D       	rr	l
2065  06F5  EB          	ex	de,hl
2066  06F6  53          	ld	d, e
2067  06F7  C5          	push	bc
2068  06F8  1E 11       	ld	e,0x11
2069  06FA  D5          	push	de
2070  06FB  CD 00 00    	call	_zx_print_str
2071  06FE  21 00 00    	ld	hl,_screen_ink
2072  0701  36 57       	ld	(hl),0x57
2073  0703  21 9D 01    	ld	hl,___str_22
2074  0706  E5          	push	hl
2075  0707  21 12 00    	ld	hl,0x0012
2076  070A  E5          	push	hl
2077  070B  CD 00 00    	call	_zx_print_str
2078  070E  21 00 00    	ld	hl,_screen_ink
2079  0711  36 67       	ld	(hl),0x67
2080  0713  21 A8 01    	ld	hl,___str_23
2081  0716  E5          	push	hl
2082  0717  21 12 0A    	ld	hl,0x0a12
2083  071A  E5          	push	hl
2084  071B  CD 00 00    	call	_zx_print_str
2085  071E  21 00 00    	ld	hl,_screen_ink
2086  0721  36 06       	ld	(hl),0x06
2087  0723  21 BF 01    	ld	hl,___str_24
2088  0726  E5          	push	hl
2089  0727  21 14 00    	ld	hl,0x0014
2090  072A  E5          	push	hl
2091  072B  CD 00 00    	call	_zx_print_str
2092  072E  21 00 00    	ld	hl,_game_song_play_start
2093  0731  36 00       	ld	(hl),0x00
2094  0733  3A 00 00    	ld	a,(_game_over)
2095  0736  B7          	or	a, a
2096  0737  20 10       	jr	NZ,l_game_round_init_00105
2097  0739  2A 00 00    	ld	hl,(_player_col_scr)
2098  073C  26 08       	ld	h,0x08
2099  073E  3A 00 00    	ld	a,(_player_lin_scr)
2100  0741  E5          	push	hl
2101  0742  F5          	push	af
2102  0743  33          	inc	sp
2103  0744  CD 00 00    	call	_player_init
2104  0747  F1          	pop	af
2105  0748  33          	inc	sp
2106  0749              l_game_round_init_00105:
2107  0749  CD 00 00    	call	_game_update_stats
2108  074C  3A 00 00    	ld	a,(_game_debug)
2109  074F  B7          	or	a, a
2110  0750  20 3B       	jr	NZ,l_game_round_init_00107
2111  0752  21 E0 01    	ld	hl,___str_25
2112  0755  E5          	push	hl
2113  0756  21 0C 06    	ld	hl,0x060c
2114  0759  E5          	push	hl
2115  075A  CD 00 00    	call	_zx_print_str
2116  075D  21 00 00    	ld	hl,_tmp0
2117  0760  36 0B       	ld	(hl),0x0b
2118  0762  21 11 68    	ld	hl,0x6811
2119  0765  E5          	push	hl
2120  0766  3E 06       	ld	a,0x06
2121  0768  F5          	push	af
2122  0769  33          	inc	sp
2123  076A  21 00 00    	ld	hl,_attrib_osd
2124  076D  E5          	push	hl
2125  076E  CD EA 07    	call	_game_paint_attrib
2126  0771  F1          	pop	af
2127  0772  F1          	pop	af
2128  0773  33          	inc	sp
2129  0774  3A 00 00    	ld	a,(_tmp0)
2130  0777  C6 06       	add	a,0x06
2131  0779  47          	ld	b, a
2132  077A  AF          	xor	a, a
2133  077B  F5          	push	af
2134  077C  33          	inc	sp
2135  077D  21 C8 00    	ld	hl,0x00c8
2136  0780  E5          	push	hl
2137  0781  C5          	push	bc
2138  0782  33          	inc	sp
2139  0783  21 0C 06    	ld	hl,0x060c
2140  0786  E5          	push	hl
2141  0787  CD 14 08    	call	_game_colour_message
2142  078A  F1          	pop	af
2143  078B  F1          	pop	af
2144  078C  F1          	pop	af
2145  078D              l_game_round_init_00107:
2146  078D  CD 00 00    	call	_audio_ingame
2147  0790  21 00 00    	ld	hl,_screen_ink
2148  0793  36 12       	ld	(hl),0x12
2149  0795  21 7C 01    	ld	hl,___str_21
2150  0798  E5          	push	hl
2151  0799  21 00 00    	ld	hl,0x0000
2152  079C  E5          	push	hl
2153  079D  CD 00 00    	call	_zx_print_str
2154  07A0  2E 02       	ld	l,0x02
2155  07A2  CD 00 00    	call	_zx_border_fastcall
2156  07A5  21 00 00    	ld	hl,_screen_ink
2157  07A8  36 07       	ld	(hl),0x07
2158  07AA  DD F9       	ld	sp, ix
2159  07AC  DD E1       	pop	ix
2160  07AE  C9          	ret
2161  07AF              	SECTION rodata_compiler
2162  0005              ___str_1:
2163  0005  43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "Central Cavern"
2164  0013  00          	DEFB 0x00
2165  0014              	SECTION rodata_compiler
2166  0014              ___str_2:
2167  0014  54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "The Cold Room"
2168  0021  00          	DEFB 0x00
2169  0022              	SECTION rodata_compiler
2170  0022              ___str_3:
2171  0022  4D 65 6E 61 67 65 72 69 65 
                        	DEFM "Menagerie"
2172  002B  00          	DEFB 0x00
2173  002C              	SECTION rodata_compiler
2174  002C              ___str_4:
2175  002C  41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "Abandoned Uranium Workings"
2176  0046  00          	DEFB 0x00
2177  0047              	SECTION rodata_compiler
2178  0047              ___str_5:
2179  0047  45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "Eugene's Lair"
2180  0054  00          	DEFB 0x00
2181  0055              	SECTION rodata_compiler
2182  0055              ___str_6:
2183  0055  50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "Processing Plant"
2184  0065  00          	DEFB 0x00
2185  0066              	SECTION rodata_compiler
2186  0066              ___str_7:
2187  0066  54 68 65 20 56 61 74 
                        	DEFM "The Vat"
2188  006D  00          	DEFB 0x00
2189  006E              	SECTION rodata_compiler
2190  006E              ___str_8:
2191  006E  57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "Wacky Amoebatrons"
2192  007F  00          	DEFB 0x00
2193  0080              	SECTION rodata_compiler
2194  0080              ___str_9:
2195  0080  54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "The Endorian Forest"
2196  0093  00          	DEFB 0x00
2197  0094              	SECTION rodata_compiler
2198  0094              ___str_10:
2199  0094  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2200  00B3  00          	DEFB 0x00
2201  00B4              	SECTION rodata_compiler
2202  00B4              ___str_11:
2203  00B4  4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "Ore Refinery"
2204  00C0  00          	DEFB 0x00
2205  00C1              	SECTION rodata_compiler
2206  00C1              ___str_12:
2207  00C1  54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "The Warehouse"
2208  00CE  00          	DEFB 0x00
2209  00CF              	SECTION rodata_compiler
2210  00CF              ___str_13:
2211  00CF  53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "Solar Power Generator"
2212  00E4  00          	DEFB 0x00
2213  00E5              	SECTION rodata_compiler
2214  00E5              ___str_14:
2215  00E5  41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "Amoebatrons Revenge"
2216  00F8  00          	DEFB 0x00
2217  00F9              	SECTION rodata_compiler
2218  00F9              ___str_15:
2219  00F9  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2220  0119  00          	DEFB 0x00
2221  011A              	SECTION rodata_compiler
2222  011A              ___str_16:
2223  011A  52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Return of the Alien Kong Beast"
2224  0138  00          	DEFB 0x00
2225  0139              	SECTION rodata_compiler
2226  0139              ___str_17:
2227  0139  54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "The Final Barrier"
2228  014A  00          	DEFB 0x00
2229  014B              	SECTION rodata_compiler
2230  014B              ___str_18:
2231  014B  53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "Skylab Landing Bay"
2232  015D  00          	DEFB 0x00
2233  015E              	SECTION rodata_compiler
2234  015E              ___str_19:
2235  015E  54 68 65 20 42 61 6E 6B 
                        	DEFM "The Bank"
2236  0166  00          	DEFB 0x00
2237  0167              	SECTION rodata_compiler
2238  0167              ___str_20:
2239  0167  54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "The Sixteenth Cavern"
2240  017B  00          	DEFB 0x00
2241  017C              	SECTION rodata_compiler
2242  017C              ___str_21:
2243  017C  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2244  019C  00          	DEFB 0x00
2245  019D              	SECTION rodata_compiler
2246  019D              ___str_22:
2247  019D  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2248  01A7  00          	DEFB 0x00
2249  01A8              	SECTION rodata_compiler
2250  01A8              ___str_23:
2251  01A8  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2252  01BE  00          	DEFB 0x00
2253  01BF              	SECTION rodata_compiler
2254  01BF              ___str_24:
2255  01BF  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
2256  01DF  00          	DEFB 0x00
2257  01E0              	SECTION rodata_compiler
2258  01E0              ___str_25:
2259  01E0  52 4F 55 4E 44 20 53 54 41 52 54 
                        	DEFM "ROUND START"
2260  01EB  00          	DEFB 0x00
2261  01EC              	SECTION code_compiler
2262  07AF              ;	---------------------------------
2263  07AF              ; Function game_print_header
2264  07AF              ; ---------------------------------
2265  07AF              	defc _game_print_header	=	_game_print_score
2266  07AF              	SECTION code_compiler
2267  07AF              ;	---------------------------------
2268  07AF              ; Function game_check_map
2269  07AF              ; ---------------------------------
2270  07AF              _game_check_map:
2271  07AF  CD 00 00    	call	___sdcc_enter_ix
2272  07B2  DD 66 05    	ld	h,(ix+5)
2273  07B5  DD 6E 04    	ld	l,(ix+4)
2274  07B8  E5          	push	hl
2275  07B9  CD 00 00    	call	_spr_calc_index
2276  07BC  F1          	pop	af
2277  07BD  22 00 00    	ld	(_index1),hl
2278  07C0  21 00 00    	ld	hl,_index1
2279  07C3  DD E1       	pop	ix
2280  07C5  C3 C8 07    	jp	_game_check_cell
2281  07C8              	SECTION code_compiler
2282  07C8              ;	---------------------------------
2283  07C8              ; Function game_check_cell
2284  07C8              ; ---------------------------------
2285  07C8              _game_check_cell:
2286  07C8  4E          	ld	c, (hl)
2287  07C9  23          	inc	hl
2288  07CA  46          	ld	b, (hl)
2289  07CB  AF          	xor	a, a
2290  07CC  B9          	cp	a, c
2291  07CD  3E 02       	ld	a,0x02
2292  07CF  98          	sbc	a, b
2293  07D0  30 04       	jr	NC,l_game_check_cell_00102
2294  07D2  2E 01       	ld	l,0x01
2295  07D4  18 13       	jr	l_game_check_cell_00106
2296  07D6              l_game_check_cell_00102:
2297  07D6  21 00 00    	ld	hl,_scr_map
2298  07D9  09          	add	hl, bc
2299  07DA  5E          	ld	e, (hl)
2300  07DB  ED 43 00 00 	ld	(_index1),bc
2301  07DF  7B          	ld	a,e
2302  07E0  D6 03       	sub	a,0x03
2303  07E2  28 04       	jr	Z,l_game_check_cell_00104
2304  07E4  2E 00       	ld	l,0x00
2305  07E6  18 01       	jr	l_game_check_cell_00106
2306  07E8              l_game_check_cell_00104:
2307  07E8  6B          	ld	l, e
2308  07E9              l_game_check_cell_00106:
2309  07E9  C9          	ret
2310  07EA              	SECTION code_compiler
2311  07EA              ;	---------------------------------
2312  07EA              ; Function game_paint_attrib
2313  07EA              ; ---------------------------------
2314  07EA              _game_paint_attrib:
2315  07EA  CD 00 00    	call	___sdcc_enter_ix
2316  07ED  DD 7E 06    	ld	a,(ix+6)
2317  07F0  32 00 00    	ld	(_tmp_uc),a
2318  07F3              l_game_paint_attrib_00103:
2319  07F3  21 00 00    	ld	hl,_tmp_uc
2320  07F6  7E          	ld	a, (hl)
2321  07F7  DD 96 07    	sub	a,(ix+7)
2322  07FA  30 15       	jr	NC,l_game_paint_attrib_00105
2323  07FC  DD 4E 04    	ld	c,(ix+4)
2324  07FF  DD 46 05    	ld	b,(ix+5)
2325  0802  66          	ld	h,(hl)
2326  0803  DD 6E 08    	ld	l,(ix+8)
2327  0806  E5          	push	hl
2328  0807  C5          	push	bc
2329  0808  CD 00 00    	call	_NIRVANAP_paintC_callee
2330  080B  21 00 00    	ld	hl,_tmp_uc
2331  080E  34          	inc	(hl)
2332  080F  18 E2       	jr	l_game_paint_attrib_00103
2333  0811              l_game_paint_attrib_00105:
2334  0811  DD E1       	pop	ix
2335  0813  C9          	ret
2336  0814              	SECTION code_compiler
2337  0814              ;	---------------------------------
2338  0814              ; Function game_colour_message
2339  0814              ; ---------------------------------
2340  0814              _game_colour_message:
2341  0814  CD 00 00    	call	___sdcc_enter_ix
2342  0817  F5          	push	af
2343  0818  F5          	push	af
2344  0819  F5          	push	af
2345  081A  F5          	push	af
2346  081B  D1          	pop	de
2347  081C  21 00 00    	ld	hl,_tmp
2348  081F  36 01       	ld	(hl),0x01
2349  0821  2A 00 00    	ld	hl,(_curr_time)
2350  0824  22 00 00    	ld	(_frame_time),hl
2351  0827  E5          	push	hl
2352  0828  DD 7E 04    	ld	a,(ix+4)
2353  082B  4D          	ld	c,l
2354  082C  07          	rlca
2355  082D  07          	rlca
2356  082E  07          	rlca
2357  082F  E6 F8       	and	a,0xf8
2358  0831  DD 77 FA    	ld	(ix-6),a
2359  0834  C6 08       	add	a,0x08
2360  0836  DD 77 FF    	ld	(ix-1),a
2361  0839  DD 77 FE    	ld	(ix-2),a
2362  083C              l_game_colour_message_00112:
2363  083C  3A 00 00    	ld	a,(_tmp)
2364  083F  B7          	or	a, a
2365  0840  CA DF 08    	jp	Z, l_game_colour_message_00114
2366  0843  DD 46 07    	ld	b,(ix+7)
2367  0846  21 00 00    	ld	hl,0x0000
2368  0849  39          	add	hl, sp
2369  084A  EB          	ex	de,hl
2370  084B  C5          	push	bc
2371  084C  33          	inc	sp
2372  084D  D5          	push	de
2373  084E  CD 55 09    	call	_game_check_time
2374  0851  F1          	pop	af
2375  0852  33          	inc	sp
2376  0853  7D          	ld	a, l
2377  0854  B7          	or	a, a
2378  0855  C2 DF 08    	jp	NZ, l_game_colour_message_00114
2379  0858  3E 05       	ld	a,0x05
2380  085A  F5          	push	af
2381  085B  33          	inc	sp
2382  085C  21 00 00    	ld	hl,_frame_time
2383  085F  E5          	push	hl
2384  0860  CD 55 09    	call	_game_check_time
2385  0863  F1          	pop	af
2386  0864  33          	inc	sp
2387  0865  DD 75 FD    	ld	(ix-3),l
2388  0868  7D          	ld	a, l
2389  0869  B7          	or	a, a
2390  086A  28 4D       	jr	Z,l_game_colour_message_00105
2391  086C  2A 00 00    	ld	hl,(_curr_time)
2392  086F  DD 74 FC    	ld	(ix-4),h
2393  0872  DD 75 FB    	ld	(ix-5),l
2394  0875  7D          	ld	a, l
2395  0876  21 00 00    	ld	hl,_frame_time
2396  0879  77          	ld	(hl), a
2397  087A  DD 7E FC    	ld	a,(ix-4)
2398  087D  23          	inc	hl
2399  087E  77          	ld	(hl), a
2400  087F  3A 00 00    	ld	a,(_game_over)
2401  0882  B7          	or	a, a
2402  0883  28 1B       	jr	Z,l_game_colour_message_00102
2403  0885  DD 66 FE    	ld	h,(ix-2)
2404  0888  DD 6E 06    	ld	l,(ix+6)
2405  088B  E5          	push	hl
2406  088C  DD 7E 05    	ld	a,(ix+5)
2407  088F  F5          	push	af
2408  0890  33          	inc	sp
2409  0891  21 00 00    	ld	hl,_attrib_hl
2410  0894  E5          	push	hl
2411  0895  CD EA 07    	call	_game_paint_attrib
2412  0898  F1          	pop	af
2413  0899  F1          	pop	af
2414  089A  33          	inc	sp
2415  089B  CD 7F 09    	call	_game_rotate_attrib
2416  089E  18 19       	jr	l_game_colour_message_00105
2417  08A0              l_game_colour_message_00102:
2418  08A0  DD 66 FF    	ld	h,(ix-1)
2419  08A3  DD 6E 06    	ld	l,(ix+6)
2420  08A6  E5          	push	hl
2421  08A7  DD 7E 05    	ld	a,(ix+5)
2422  08AA  F5          	push	af
2423  08AB  33          	inc	sp
2424  08AC  21 00 00    	ld	hl,_attrib_osd
2425  08AF  E5          	push	hl
2426  08B0  CD EA 07    	call	_game_paint_attrib
2427  08B3  F1          	pop	af
2428  08B4  F1          	pop	af
2429  08B5  33          	inc	sp
2430  08B6  CD F4 09    	call	_game_rotate_attrib_osd
2431  08B9              l_game_colour_message_00105:
2432  08B9  DD 7E 09    	ld	a,(ix+9)
2433  08BC  B7          	or	a, a
2434  08BD  CA 3C 08    	jp	Z, l_game_colour_message_00112
2435  08C0              l_game_colour_message_00106:
2436  08C0  21 00 00    	ld	hl,_k1
2437  08C3  E5          	push	hl
2438  08C4  2A 00 00    	ld	hl,(_joyfunc1)
2439  08C7  CD 00 00    	call	___sdcc_call_hl
2440  08CA  F1          	pop	af
2441  08CB  DD 74 FC    	ld	(ix-4),h
2442  08CE  DD 75 FB    	ld	(ix-5),l
2443  08D1  7C          	ld	a,h
2444  08D2  DD B6 FB    	or	a,(ix-5)
2445  08D5  CA 3C 08    	jp	Z, l_game_colour_message_00112
2446  08D8  21 00 00    	ld	hl,_tmp
2447  08DB  36 00       	ld	(hl),0x00
2448  08DD  18 E1       	jr	l_game_colour_message_00106
2449  08DF              l_game_colour_message_00114:
2450  08DF  DD 7E 06    	ld	a,(ix+6)
2451  08E2  DD 96 05    	sub	a,(ix+5)
2452  08E5  4F          	ld	c, a
2453  08E6  3A 00 00    	ld	a,(_game_over)
2454  08E9  B7          	or	a, a
2455  08EA  28 2F       	jr	Z,l_game_colour_message_00118
2456  08EC  21 00 00    	ld	hl,_tmp1
2457  08EF  71          	ld	(hl), c
2458  08F0  21 00 00    	ld	hl,_tmp0
2459  08F3  36 00       	ld	(hl),0x00
2460  08F5              l_game_colour_message_00121:
2461  08F5  3A 00 00    	ld	a,(_tmp0)
2462  08F8  21 00 00    	ld	hl,_tmp1
2463  08FB  96          	sub	a, (hl)
2464  08FC  30 52       	jr	NC,l_game_colour_message_00126
2465  08FE  DD 7E 05    	ld	a,(ix+5)
2466  0901  21 00 00    	ld	hl,_tmp0
2467  0904  86          	add	a, (hl)
2468  0905  4F          	ld	c, a
2469  0906  21 EC 01    	ld	hl,___str_26
2470  0909  E5          	push	hl
2471  090A  79          	ld	a, c
2472  090B  F5          	push	af
2473  090C  33          	inc	sp
2474  090D  DD 7E 04    	ld	a,(ix+4)
2475  0910  F5          	push	af
2476  0911  33          	inc	sp
2477  0912  CD 00 00    	call	_zx_print_str
2478  0915  21 00 00    	ld	hl,_tmp0
2479  0918  34          	inc	(hl)
2480  0919  18 DA       	jr	l_game_colour_message_00121
2481  091B              l_game_colour_message_00118:
2482  091B  21 00 00    	ld	hl,_tmp1
2483  091E  71          	ld	(hl), c
2484  091F  DD 7E FA    	ld	a,(ix-6)
2485  0922  32 00 00    	ld	(_s_lin0),a
2486  0925  DD 7E 05    	ld	a,(ix+5)
2487  0928  CB 3F       	srl	a
2488  092A  87          	add	a, a
2489  092B  32 00 00    	ld	(_s_col1),a
2490  092E  21 00 00    	ld	hl,_tmp0
2491  0931  36 00       	ld	(hl),0x00
2492  0933              l_game_colour_message_00124:
2493  0933  3A 00 00    	ld	a,(_tmp0)
2494  0936  21 00 00    	ld	hl,_tmp1
2495  0939  96          	sub	a, (hl)
2496  093A  30 14       	jr	NC,l_game_colour_message_00126
2497  093C  3A 00 00    	ld	a,(_s_col1)
2498  093F  21 00 00    	ld	hl,_tmp0
2499  0942  86          	add	a, (hl)
2500  0943  32 00 00    	ld	(_s_col0),a
2501  0946  CD 00 00    	call	_spr_back_repaint
2502  0949  21 00 00    	ld	hl,_tmp0
2503  094C  34          	inc	(hl)
2504  094D  34          	inc	(hl)
2505  094E  18 E3       	jr	l_game_colour_message_00124
2506  0950              l_game_colour_message_00126:
2507  0950  DD F9       	ld	sp, ix
2508  0952  DD E1       	pop	ix
2509  0954  C9          	ret
2510  0955              	SECTION rodata_compiler
2511  01EC              ___str_26:
2512  01EC  20          	DEFM " "
2513  01ED  00          	DEFB 0x00
2514  01EE              	SECTION code_compiler
2515  0955              ;	---------------------------------
2516  0955              ; Function game_check_time
2517  0955              ; ---------------------------------
2518  0955              _game_check_time:
2519  0955  CD 00 00    	call	___sdcc_enter_ix
2520  0958  2A 00 00    	ld	hl,(_curr_time)
2521  095B  4D          	ld	c, l
2522  095C  DD 6E 04    	ld	l,(ix+4)
2523  095F  44          	ld	b,h
2524  0960  DD 66 05    	ld	h,(ix+5)
2525  0963  5E          	ld	e, (hl)
2526  0964  23          	inc	hl
2527  0965  56          	ld	d, (hl)
2528  0966  79          	ld	a, c
2529  0967  93          	sub	a, e
2530  0968  4F          	ld	c, a
2531  0969  78          	ld	a, b
2532  096A  9A          	sbc	a, d
2533  096B  47          	ld	b, a
2534  096C  DD 7E 06    	ld	a,(ix+6)
2535  096F  16 00       	ld	d,0x00
2536  0971  91          	sub	a, c
2537  0972  7A          	ld	a, d
2538  0973  98          	sbc	a, b
2539  0974  30 04       	jr	NC,l_game_check_time_00102
2540  0976  2E 01       	ld	l,0x01
2541  0978  18 02       	jr	l_game_check_time_00104
2542  097A              l_game_check_time_00102:
2543  097A  2E 00       	ld	l,0x00
2544  097C              l_game_check_time_00104:
2545  097C  DD E1       	pop	ix
2546  097E  C9          	ret
2547  097F              	SECTION code_compiler
2548  097F              ;	---------------------------------
2549  097F              ; Function game_rotate_attrib
2550  097F              ; ---------------------------------
2551  097F              _game_rotate_attrib:
2552  097F  3E 07       	ld	a,0x07
2553  0981  21 00 00    	ld	hl,_last_rotated
2554  0984  96          	sub	a, (hl)
2555  0985  30 02       	jr	NC,l_game_rotate_attrib_00102
2556  0987  36 00       	ld	(hl),0x00
2557  0989              l_game_rotate_attrib_00102:
2558  0989  3A 00 00    	ld	a,(_last_rotated)
2559  098C  32 00 00    	ld	(_tmp_uc),a
2560  098F              l_game_rotate_attrib_00110:
2561  098F  21 00 00    	ld	hl,_tmp_uc
2562  0992  7E          	ld	a, (hl)
2563  0993  D6 08       	sub	a,0x08
2564  0995  30 5C       	jr	NC,l_game_rotate_attrib_00112
2565  0997  3E 00       	ld	a, +((_obj_col) & 0xFF)
2566  0999  86          	add	a, (hl)
2567  099A  4F          	ld	c, a
2568  099B  3E 00       	ld	a, +((_obj_col) / 256)
2569  099D  CE 00       	adc	a,0x00
2570  099F  47          	ld	b, a
2571  09A0  0A          	ld	a, (bc)
2572  09A1  4F          	ld	c,a
2573  09A2  B7          	or	a, a
2574  09A3  28 44       	jr	Z,l_game_rotate_attrib_00106
2575  09A5  7E          	ld	a, (hl)
2576  09A6  3C          	inc	a
2577  09A7  32 00 00    	ld	(_last_rotated),a
2578  09AA  2A 00 00    	ld	hl,(_tmp_uc)
2579  09AD  26 00       	ld	h,0x00
2580  09AF  11 00 00    	ld	de,_obj_lin
2581  09B2  19          	add	hl,de
2582  09B3  46          	ld	b, (hl)
2583  09B4  79          	ld	a, c
2584  09B5  48          	ld	c,b
2585  09B6  47          	ld	b,a
2586  09B7  C5          	push	bc
2587  09B8  21 00 00    	ld	hl,_attrib_key
2588  09BB  E5          	push	hl
2589  09BC  CD 00 00    	call	_NIRVANAP_paintC_callee
2590  09BF  3A 00 00    	ld	a,(_game_attrib_osd)
2591  09C2  D6 07       	sub	a,0x07
2592  09C4  20 05       	jr	NZ,l_game_rotate_attrib_00104
2593  09C6  21 00 00    	ld	hl,_game_attrib_osd
2594  09C9  36 01       	ld	(hl),0x01
2595  09CB              l_game_rotate_attrib_00104:
2596  09CB  21 00 00    	ld	hl,_game_attrib_osd
2597  09CE  34          	inc	(hl)
2598  09CF  3A 00 00    	ld	a,(_map_paper)
2599  09D2  21 00 00    	ld	hl,_game_attrib_osd
2600  09D5  B6          	or	a, (hl)
2601  09D6  32 00 00    	ld	(_attrib_key),a
2602  09D9  32 01 00    	ld	((_attrib_key + 0x0001)),a
2603  09DC  32 02 00    	ld	((_attrib_key + 0x0002)),a
2604  09DF  32 03 00    	ld	((_attrib_key + 0x0003)),a
2605  09E2  21 00 00    	ld	hl,_tmp_uc
2606  09E5  36 08       	ld	(hl),0x08
2607  09E7  18 04       	jr	l_game_rotate_attrib_00111
2608  09E9              l_game_rotate_attrib_00106:
2609  09E9  21 00 00    	ld	hl,_last_rotated
2610  09EC  34          	inc	(hl)
2611  09ED              l_game_rotate_attrib_00111:
2612  09ED  21 00 00    	ld	hl,_tmp_uc
2613  09F0  34          	inc	(hl)
2614  09F1  18 9C       	jr	l_game_rotate_attrib_00110
2615  09F3              l_game_rotate_attrib_00112:
2616  09F3  C9          	ret
2617  09F4              	SECTION code_compiler
2618  09F4              ;	---------------------------------
2619  09F4              ; Function game_rotate_attrib_osd
2620  09F4              ; ---------------------------------
2621  09F4              _game_rotate_attrib_osd:
2622  09F4  3A 00 00    	ld	a,(_game_attrib_osd)
2623  09F7  D6 07       	sub	a,0x07
2624  09F9  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2625  09FB  21 00 00    	ld	hl,_game_attrib_osd
2626  09FE  36 01       	ld	(hl),0x01
2627  0A00              l_game_rotate_attrib_osd_00102:
2628  0A00  21 00 00    	ld	hl,_game_attrib_osd
2629  0A03  34          	inc	(hl)
2630  0A04  01 00 00    	ld	bc,_attrib_osd+0
2631  0A07  0A          	ld	a, (bc)
2632  0A08  32 00 00    	ld	(_tmp),a
2633  0A0B  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2634  0A0E  02          	ld	(bc), a
2635  0A0F  59          	ld	e, c
2636  0A10  50          	ld	d, b
2637  0A11  13          	inc	de
2638  0A12  03          	inc	bc
2639  0A13  03          	inc	bc
2640  0A14  0A          	ld	a, (bc)
2641  0A15  12          	ld	(de), a
2642  0A16  02          	ld	(bc), a
2643  0A17  3A 00 00    	ld	a,(_tmp)
2644  0A1A  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2645  0A1D  C9          	ret
2646  0A1E              	SECTION code_compiler
2647  0A1E              ;	---------------------------------
2648  0A1E              ; Function game_attribs
2649  0A1E              ; ---------------------------------
2650  0A1E              _game_attribs:
2651  0A1E  01 00 00    	ld	bc,_attrib_key+0
2652  0A21  21 00 00    	ld	hl,_map_paper
2653  0A24  7E          	ld	a, (hl)
2654  0A25  F6 46       	or	a,0x46
2655  0A27  02          	ld	(bc), a
2656  0A28  59          	ld	e, c
2657  0A29  50          	ld	d, b
2658  0A2A  13          	inc	de
2659  0A2B  7E          	ld	a, (hl)
2660  0A2C  F6 42       	or	a,0x42
2661  0A2E  12          	ld	(de), a
2662  0A2F  7E          	ld	a, (hl)
2663  0A30  F6 46       	or	a,0x46
2664  0A32  32 02 00    	ld	((_attrib_key + 0x0002)),a
2665  0A35  03          	inc	bc
2666  0A36  03          	inc	bc
2667  0A37  03          	inc	bc
2668  0A38  21 00 00    	ld	hl,_map_paper
2669  0A3B  7E          	ld	a, (hl)
2670  0A3C  F6 42       	or	a,0x42
2671  0A3E  02          	ld	(bc), a
2672  0A3F  01 00 00    	ld	bc,_attrib+0
2673  0A42  7E          	ld	a, (hl)
2674  0A43  F6 47       	or	a,0x47
2675  0A45  02          	ld	(bc), a
2676  0A46  59          	ld	e, c
2677  0A47  50          	ld	d, b
2678  0A48  13          	inc	de
2679  0A49  7E          	ld	a, (hl)
2680  0A4A  F6 47       	or	a,0x47
2681  0A4C  12          	ld	(de), a
2682  0A4D  7E          	ld	a, (hl)
2683  0A4E  F6 47       	or	a,0x47
2684  0A50  32 02 00    	ld	((_attrib + 0x0002)),a
2685  0A53  03          	inc	bc
2686  0A54  03          	inc	bc
2687  0A55  03          	inc	bc
2688  0A56  21 00 00    	ld	hl,_map_paper
2689  0A59  7E          	ld	a, (hl)
2690  0A5A  F6 47       	or	a,0x47
2691  0A5C  02          	ld	(bc), a
2692  0A5D  01 00 00    	ld	bc,_attrib_hl+0
2693  0A60  7E          	ld	a, (hl)
2694  0A61  F6 33       	or	a,0x33
2695  0A63  02          	ld	(bc), a
2696  0A64  59          	ld	e, c
2697  0A65  50          	ld	d, b
2698  0A66  13          	inc	de
2699  0A67  7E          	ld	a, (hl)
2700  0A68  F6 30       	or	a,0x30
2701  0A6A  12          	ld	(de), a
2702  0A6B  7E          	ld	a, (hl)
2703  0A6C  F6 31       	or	a,0x31
2704  0A6E  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2705  0A71  03          	inc	bc
2706  0A72  03          	inc	bc
2707  0A73  03          	inc	bc
2708  0A74  3A 00 00    	ld	a,(_map_paper)
2709  0A77  F6 30       	or	a,0x30
2710  0A79  02          	ld	(bc), a
2711  0A7A  21 70 71    	ld	hl,0x7170
2712  0A7D  22 00 00    	ld	(_attrib_osd),hl
2713  0A80  21 71 73    	ld	hl,0x7371
2714  0A83  22 02 00    	ld	(_attrib_osd + 2),hl
2715  0A86  01 00 00    	ld	bc,_attrib_red+0
2716  0A89  21 00 00    	ld	hl,_map_paper
2717  0A8C  7E          	ld	a, (hl)
2718  0A8D  F6 17       	or	a,0x17
2719  0A8F  02          	ld	(bc), a
2720  0A90  59          	ld	e, c
2721  0A91  50          	ld	d, b
2722  0A92  13          	inc	de
2723  0A93  7E          	ld	a, (hl)
2724  0A94  F6 17       	or	a,0x17
2725  0A96  12          	ld	(de), a
2726  0A97  7E          	ld	a, (hl)
2727  0A98  F6 17       	or	a,0x17
2728  0A9A  32 02 00    	ld	((_attrib_red + 0x0002)),a
2729  0A9D  03          	inc	bc
2730  0A9E  03          	inc	bc
2731  0A9F  03          	inc	bc
2732  0AA0  3A 00 00    	ld	a,(_map_paper)
2733  0AA3  F6 17       	or	a,0x17
2734  0AA5  02          	ld	(bc), a
2735  0AA6  C9          	ret
2736  0AA7              	SECTION code_compiler
2737  0AA7              ;	---------------------------------
2738  0AA7              ; Function game_page_map
2739  0AA7              ; ---------------------------------
2740  0AA7              _game_page_map:
2741  0AA7  CD 00 00    	call	___sdcc_enter_ix
2742  0AAA  21 AD FF    	ld	hl, -83
2743  0AAD  39          	add	hl, sp
2744  0AAE  F9          	ld	sp, hl
2745  0AAF  CD 00 00    	call	_spr_clear_scr
2746  0AB2  F3          	di
2747  0AB3  21 00 00    	ld	hl,_game_world
2748  0AB6  4E          	ld	c, (hl)
2749  0AB7  3A 00 00    	ld	a,(_scr_curr)
2750  0ABA  DD 77 DE    	ld	(ix-34),a
2751  0ABD  79          	ld	a, c
2752  0ABE  07          	rlca
2753  0ABF  07          	rlca
2754  0AC0  07          	rlca
2755  0AC1  07          	rlca
2756  0AC2  E6 F0       	and	a,0xf0
2757  0AC4  47          	ld	b,a
2758  0AC5  DD 86 DE    	add	a,(ix-34)
2759  0AC8  DD 77 DD    	ld	(ix-35),a
2760  0ACB  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2761  0ACE  36 16       	ld	(hl),0x16
2762  0AD0  C5          	push	bc
2763  0AD1  3E 16       	ld	a,0x16
2764  0AD3  01 FD 7F    	ld	bc,_IO_7FFD
2765  0AD6  ED 79       	out	(c),a
2766  0AD8  C1          	pop	bc
2767  0AD9  DD 7E DE    	ld	a,(ix-34)
2768  0ADC  3C          	inc	a
2769  0ADD  20 12       	jr	NZ,l_game_page_map_00102
2770  0ADF  11 00 00    	ld	de,_start_scr0+0
2771  0AE2  69          	ld	l,c
2772  0AE3  26 00       	ld	h,0x00
2773  0AE5  19          	add	hl, de
2774  0AE6  7E          	ld	a, (hl)
2775  0AE7  DD 77 DE    	ld	(ix-34),a
2776  0AEA  78          	ld	a, b
2777  0AEB  DD 86 DE    	add	a,(ix-34)
2778  0AEE  DD 77 DD    	ld	(ix-35),a
2779  0AF1              l_game_page_map_00102:
2780  0AF1  01 00 00    	ld	bc,_paper0+0
2781  0AF4  DD 6E DD    	ld	l,(ix-35)
2782  0AF7  26 00       	ld	h,0x00
2783  0AF9  09          	add	hl, bc
2784  0AFA  7E          	ld	a, (hl)
2785  0AFB  DD 77 DF    	ld	(ix-33),a
2786  0AFE  3E 10       	ld	a,0x10
2787  0B00  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2788  0B03  01 FD 7F    	ld	bc,_IO_7FFD
2789  0B06  ED 79       	out	(c),a
2790  0B08  DD 4E DE    	ld	c,(ix-34)
2791  0B0B  CB 39       	srl	c
2792  0B0D  06 00       	ld	b,0x00
2793  0B0F  69          	ld	l, c
2794  0B10  60          	ld	h, b
2795  0B11  29          	add	hl, hl
2796  0B12  09          	add	hl, bc
2797  0B13  AF          	xor	a,a
2798  0B14  CB 3C       	srl	h
2799  0B16  CB 1D       	rr	l
2800  0B18  1F          	rra
2801  0B19  CB 3C       	srl	h
2802  0B1B  CB 1D       	rr	l
2803  0B1D  1F          	rra
2804  0B1E  DD 77 E2    	ld	(ix-30),a
2805  0B21  DD 75 E3    	ld	(ix-29),l
2806  0B24  21 00 00    	ld	hl,0x0000
2807  0B27  39          	add	hl, sp
2808  0B28  DD 75 FE    	ld	(ix-2),l
2809  0B2B  DD 74 FF    	ld	(ix-1),h
2810  0B2E  DD 75 FC    	ld	(ix-4),l
2811  0B31  DD 74 FD    	ld	(ix-3),h
2812  0B34  DD 7E FE    	ld	a,(ix-2)
2813  0B37  DD 77 FA    	ld	(ix-6),a
2814  0B3A  DD 7E FF    	ld	a,(ix-1)
2815  0B3D  DD 77 FB    	ld	(ix-5),a
2816  0B40  DD 7E FE    	ld	a,(ix-2)
2817  0B43  DD 77 F8    	ld	(ix-8),a
2818  0B46  DD 7E FF    	ld	a,(ix-1)
2819  0B49  DD 77 F9    	ld	(ix-7),a
2820  0B4C  DD 7E DE    	ld	a,(ix-34)
2821  0B4F  E6 01       	and	a,0x01
2822  0B51  DD 77 F7    	ld	(ix-9),a
2823  0B54  DD 7E FE    	ld	a,(ix-2)
2824  0B57  DD 77 F5    	ld	(ix-11),a
2825  0B5A  DD 7E FF    	ld	a,(ix-1)
2826  0B5D  DD 77 F6    	ld	(ix-10),a
2827  0B60  DD 7E FE    	ld	a,(ix-2)
2828  0B63  DD 77 F3    	ld	(ix-13),a
2829  0B66  DD 7E FF    	ld	a,(ix-1)
2830  0B69  DD 77 F4    	ld	(ix-12),a
2831  0B6C  DD 7E FE    	ld	a,(ix-2)
2832  0B6F  DD 77 F1    	ld	(ix-15),a
2833  0B72  DD 7E FF    	ld	a,(ix-1)
2834  0B75  DD 77 F2    	ld	(ix-14),a
2835  0B78  DD 36 E4 00 	ld	(ix-28),0x00
2836  0B7C  DD 36 E5 00 	ld	(ix-27),0x00
2837  0B80              l_game_page_map_00127:
2838  0B80  DD 7E E4    	ld	a,(ix-28)
2839  0B83  D6 F0       	sub	a,0xf0
2840  0B85  DD 7E E5    	ld	a,(ix-27)
2841  0B88  DE 00       	sbc	a,0x00
2842  0B8A  D2 49 0D    	jp	NC, l_game_page_map_00129
2843  0B8D  3E 13       	ld	a,0x13
2844  0B8F  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2845  0B92  01 FD 7F    	ld	bc,_IO_7FFD
2846  0B95  ED 79       	out	(c),a
2847  0B97  DD 36 E8 00 	ld	(ix-24),0x00
2848  0B9B  DD 36 E9 00 	ld	(ix-23),0x00
2849  0B9F              l_game_page_map_00103:
2850  0B9F  DD 7E E8    	ld	a,(ix-24)
2851  0BA2  D6 30       	sub	a,0x30
2852  0BA4  DD 7E E9    	ld	a,(ix-23)
2853  0BA7  DE 00       	sbc	a,0x00
2854  0BA9  30 54       	jr	NC,l_game_page_map_00105
2855  0BAB  DD 7E F8    	ld	a,(ix-8)
2856  0BAE  DD 86 E8    	add	a,(ix-24)
2857  0BB1  DD 77 EF    	ld	(ix-17),a
2858  0BB4  DD 7E F9    	ld	a,(ix-7)
2859  0BB7  DD 8E E9    	adc	a,(ix-23)
2860  0BBA  DD 77 F0    	ld	(ix-16),a
2861  0BBD  DD 7E E2    	ld	a,(ix-30)
2862  0BC0  DD 86 E8    	add	a,(ix-24)
2863  0BC3  DD 77 ED    	ld	(ix-19),a
2864  0BC6  DD 7E E3    	ld	a,(ix-29)
2865  0BC9  DD 8E E9    	adc	a,(ix-23)
2866  0BCC  DD 77 EE    	ld	(ix-18),a
2867  0BCF  DD 7E ED    	ld	a,(ix-19)
2868  0BD2  DD 86 E4    	add	a,(ix-28)
2869  0BD5  DD 77 ED    	ld	(ix-19),a
2870  0BD8  6F          	ld	l,a
2871  0BD9  DD 7E EE    	ld	a,(ix-18)
2872  0BDC  DD 8E E5    	adc	a,(ix-27)
2873  0BDF  DD 77 EE    	ld	(ix-18),a
2874  0BE2  67          	ld	h,a
2875  0BE3  01 00 00    	ld	bc,_hibtiles
2876  0BE6  09          	add	hl,bc
2877  0BE7  DD 75 ED    	ld	(ix-19),l
2878  0BEA  DD 74 EE    	ld	(ix-18),h
2879  0BED  4E          	ld	c, (hl)
2880  0BEE  DD 6E EF    	ld	l,(ix-17)
2881  0BF1  DD 66 F0    	ld	h,(ix-16)
2882  0BF4  71          	ld	(hl), c
2883  0BF5  DD 34 E8    	inc	(ix-24)
2884  0BF8  20 A5       	jr	NZ,l_game_page_map_00103
2885  0BFA  DD 34 E9    	inc	(ix-23)
2886  0BFD  18 A0       	jr	l_game_page_map_00103
2887  0BFF              l_game_page_map_00105:
2888  0BFF  3E 10       	ld	a,0x10
2889  0C01  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2890  0C04  01 FD 7F    	ld	bc,_IO_7FFD
2891  0C07  ED 79       	out	(c),a
2892  0C09  DD 7E F7    	ld	a,(ix-9)
2893  0C0C  B7          	or	a, a
2894  0C0D  C2 B3 0C    	jp	NZ, l_game_page_map_00176
2895  0C10  01 00 00    	ld	bc,0x0000
2896  0C13              l_game_page_map_00106:
2897  0C13  79          	ld	a, c
2898  0C14  D6 10       	sub	a,0x10
2899  0C16  78          	ld	a, b
2900  0C17  DE 00       	sbc	a,0x00
2901  0C19  30 18       	jr	NC,l_game_page_map_00108
2902  0C1B  DD 6E E4    	ld	l,(ix-28)
2903  0C1E  DD 66 E5    	ld	h,(ix-27)
2904  0C21  09          	add	hl, bc
2905  0C22  11 00 00    	ld	de,_btiles
2906  0C25  19          	add	hl,de
2907  0C26  EB          	ex	de,hl
2908  0C27  DD 6E FE    	ld	l,(ix-2)
2909  0C2A  DD 66 FF    	ld	h,(ix-1)
2910  0C2D  09          	add	hl, bc
2911  0C2E  7E          	ld	a, (hl)
2912  0C2F  12          	ld	(de), a
2913  0C30  03          	inc	bc
2914  0C31  18 E0       	jr	l_game_page_map_00106
2915  0C33              l_game_page_map_00108:
2916  0C33  DD 36 E8 20 	ld	(ix-24),0x20
2917  0C37  DD 36 E9 00 	ld	(ix-23),0x00
2918  0C3B              l_game_page_map_00109:
2919  0C3B  DD 7E E8    	ld	a,(ix-24)
2920  0C3E  D6 24       	sub	a,0x24
2921  0C40  DD 7E E9    	ld	a,(ix-23)
2922  0C43  DE 00       	sbc	a,0x00
2923  0C45  30 48       	jr	NC,l_game_page_map_00111
2924  0C47  DD 7E E8    	ld	a,(ix-24)
2925  0C4A  DD 86 E4    	add	a,(ix-28)
2926  0C4D  DD 77 ED    	ld	(ix-19),a
2927  0C50  DD 7E E9    	ld	a,(ix-23)
2928  0C53  DD 8E E5    	adc	a,(ix-27)
2929  0C56  DD 77 EE    	ld	(ix-18),a
2930  0C59  3E 00       	ld	a, +((_btiles) & 0xFF)
2931  0C5B  DD 86 ED    	add	a,(ix-19)
2932  0C5E  DD 77 ED    	ld	(ix-19),a
2933  0C61  3E 00       	ld	a, +((_btiles) / 256)
2934  0C63  DD 8E EE    	adc	a,(ix-18)
2935  0C66  DD 77 EE    	ld	(ix-18),a
2936  0C69  DD 7E FC    	ld	a,(ix-4)
2937  0C6C  DD 86 E8    	add	a,(ix-24)
2938  0C6F  DD 77 EF    	ld	(ix-17),a
2939  0C72  6F          	ld	l,a
2940  0C73  DD 7E FD    	ld	a,(ix-3)
2941  0C76  DD 8E E9    	adc	a,(ix-23)
2942  0C79  DD 77 F0    	ld	(ix-16),a
2943  0C7C  67          	ld	h,a
2944  0C7D  4E          	ld	c, (hl)
2945  0C7E  DD 6E ED    	ld	l,(ix-19)
2946  0C81  DD 66 EE    	ld	h,(ix-18)
2947  0C84  71          	ld	(hl), c
2948  0C85  DD 34 E8    	inc	(ix-24)
2949  0C88  20 B1       	jr	NZ,l_game_page_map_00109
2950  0C8A  DD 34 E9    	inc	(ix-23)
2951  0C8D  18 AC       	jr	l_game_page_map_00109
2952  0C8F              l_game_page_map_00111:
2953  0C8F  01 28 00    	ld	bc,0x0028
2954  0C92              l_game_page_map_00112:
2955  0C92  79          	ld	a, c
2956  0C93  D6 2C       	sub	a,0x2c
2957  0C95  78          	ld	a, b
2958  0C96  DE 00       	sbc	a,0x00
2959  0C98  D2 36 0D    	jp	NC, l_game_page_map_00126
2960  0C9B  DD 6E E4    	ld	l,(ix-28)
2961  0C9E  DD 66 E5    	ld	h,(ix-27)
2962  0CA1  09          	add	hl, bc
2963  0CA2  11 00 00    	ld	de,_btiles
2964  0CA5  19          	add	hl,de
2965  0CA6  EB          	ex	de,hl
2966  0CA7  DD 6E FA    	ld	l,(ix-6)
2967  0CAA  DD 66 FB    	ld	h,(ix-5)
2968  0CAD  09          	add	hl, bc
2969  0CAE  7E          	ld	a, (hl)
2970  0CAF  12          	ld	(de), a
2971  0CB0  03          	inc	bc
2972  0CB1  18 DF       	jr	l_game_page_map_00112
2973  0CB3              l_game_page_map_00176:
2974  0CB3  01 00 00    	ld	bc,0x0000
2975  0CB6              l_game_page_map_00115:
2976  0CB6  79          	ld	a, c
2977  0CB7  D6 10       	sub	a,0x10
2978  0CB9  78          	ld	a, b
2979  0CBA  DE 00       	sbc	a,0x00
2980  0CBC  30 20       	jr	NC,l_game_page_map_00117
2981  0CBE  DD 6E E4    	ld	l,(ix-28)
2982  0CC1  DD 66 E5    	ld	h,(ix-27)
2983  0CC4  09          	add	hl, bc
2984  0CC5  11 00 00    	ld	de,_btiles
2985  0CC8  19          	add	hl,de
2986  0CC9  79          	ld	a,c
2987  0CCA  EB          	ex	de,hl
2988  0CCB  C6 10       	add	a,0x10
2989  0CCD  6F          	ld	l, a
2990  0CCE  DD 7E F5    	ld	a,(ix-11)
2991  0CD1  85          	add	a, l
2992  0CD2  6F          	ld	l, a
2993  0CD3  DD 7E F6    	ld	a,(ix-10)
2994  0CD6  CE 00       	adc	a,0x00
2995  0CD8  67          	ld	h, a
2996  0CD9  7E          	ld	a, (hl)
2997  0CDA  12          	ld	(de), a
2998  0CDB  03          	inc	bc
2999  0CDC  18 D8       	jr	l_game_page_map_00115
3000  0CDE              l_game_page_map_00117:
3001  0CDE  01 20 00    	ld	bc,0x0020
3002  0CE1              l_game_page_map_00118:
3003  0CE1  79          	ld	a, c
3004  0CE2  D6 24       	sub	a,0x24
3005  0CE4  78          	ld	a, b
3006  0CE5  DE 00       	sbc	a,0x00
3007  0CE7  30 21       	jr	NC,l_game_page_map_00120
3008  0CE9  DD 6E E4    	ld	l,(ix-28)
3009  0CEC  DD 66 E5    	ld	h,(ix-27)
3010  0CEF  09          	add	hl, bc
3011  0CF0  11 00 00    	ld	de,_btiles
3012  0CF3  19          	add	hl,de
3013  0CF4  59          	ld	e,c
3014  0CF5  EB          	ex	de,hl
3015  0CF6  2C          	inc	l
3016  0CF7  2C          	inc	l
3017  0CF8  2C          	inc	l
3018  0CF9  2C          	inc	l
3019  0CFA  DD 7E F3    	ld	a,(ix-13)
3020  0CFD  85          	add	a, l
3021  0CFE  6F          	ld	l, a
3022  0CFF  DD 7E F4    	ld	a,(ix-12)
3023  0D02  CE 00       	adc	a,0x00
3024  0D04  67          	ld	h, a
3025  0D05  7E          	ld	a, (hl)
3026  0D06  12          	ld	(de), a
3027  0D07  03          	inc	bc
3028  0D08  18 D7       	jr	l_game_page_map_00118
3029  0D0A              l_game_page_map_00120:
3030  0D0A  01 28 00    	ld	bc,0x0028
3031  0D0D              l_game_page_map_00121:
3032  0D0D  79          	ld	a, c
3033  0D0E  D6 2C       	sub	a,0x2c
3034  0D10  78          	ld	a, b
3035  0D11  DE 00       	sbc	a,0x00
3036  0D13  30 21       	jr	NC,l_game_page_map_00126
3037  0D15  DD 6E E4    	ld	l,(ix-28)
3038  0D18  DD 66 E5    	ld	h,(ix-27)
3039  0D1B  09          	add	hl, bc
3040  0D1C  11 00 00    	ld	de,_btiles
3041  0D1F  19          	add	hl,de
3042  0D20  59          	ld	e,c
3043  0D21  EB          	ex	de,hl
3044  0D22  2C          	inc	l
3045  0D23  2C          	inc	l
3046  0D24  2C          	inc	l
3047  0D25  2C          	inc	l
3048  0D26  DD 7E F1    	ld	a,(ix-15)
3049  0D29  85          	add	a, l
3050  0D2A  6F          	ld	l, a
3051  0D2B  DD 7E F2    	ld	a,(ix-14)
3052  0D2E  CE 00       	adc	a,0x00
3053  0D30  67          	ld	h, a
3054  0D31  7E          	ld	a, (hl)
3055  0D32  12          	ld	(de), a
3056  0D33  03          	inc	bc
3057  0D34  18 D7       	jr	l_game_page_map_00121
3058  0D36              l_game_page_map_00126:
3059  0D36  DD 7E E4    	ld	a,(ix-28)
3060  0D39  C6 30       	add	a,0x30
3061  0D3B  DD 77 E4    	ld	(ix-28),a
3062  0D3E  DD 7E E5    	ld	a,(ix-27)
3063  0D41  CE 00       	adc	a,0x00
3064  0D43  DD 77 E5    	ld	(ix-27),a
3065  0D46  C3 80 0B    	jp	l_game_page_map_00127
3066  0D49              l_game_page_map_00129:
3067  0D49  DD 36 E8 C0 	ld	(ix-24),0xc0
3068  0D4D  DD 36 E9 00 	ld	(ix-23),0x00
3069  0D51              l_game_page_map_00130:
3070  0D51  DD 7E E8    	ld	a,(ix-24)
3071  0D54  D6 80       	sub	a,0x80
3072  0D56  DD 7E E9    	ld	a,(ix-23)
3073  0D59  DE 01       	sbc	a,0x01
3074  0D5B  30 18       	jr	NC,l_game_page_map_00132
3075  0D5D  3E 00       	ld	a, +((_btiles) & 0xFF)
3076  0D5F  DD 86 E8    	add	a,(ix-24)
3077  0D62  4F          	ld	c, a
3078  0D63  3E 00       	ld	a, +((_btiles) / 256)
3079  0D65  DD 8E E9    	adc	a,(ix-23)
3080  0D68  47          	ld	b, a
3081  0D69  AF          	xor	a, a
3082  0D6A  02          	ld	(bc), a
3083  0D6B  DD 34 E8    	inc	(ix-24)
3084  0D6E  20 E1       	jr	NZ,l_game_page_map_00130
3085  0D70  DD 34 E9    	inc	(ix-23)
3086  0D73  18 DC       	jr	l_game_page_map_00130
3087  0D75              l_game_page_map_00132:
3088  0D75  DD 7E DF    	ld	a,(ix-33)
3089  0D78  F6 07       	or	a,0x07
3090  0D7A  DD 77 ED    	ld	(ix-19),a
3091  0D7D  DD 36 E4 E0 	ld	(ix-28),0xe0
3092  0D81  DD 36 E5 00 	ld	(ix-27),0x00
3093  0D85              l_game_page_map_00136:
3094  0D85  DD 7E E4    	ld	a,(ix-28)
3095  0D88  D6 80       	sub	a,0x80
3096  0D8A  DD 7E E5    	ld	a,(ix-27)
3097  0D8D  DE 01       	sbc	a,0x01
3098  0D8F  30 2F       	jr	NC,l_game_page_map_00138
3099  0D91  01 00 00    	ld	bc,0x0000
3100  0D94              l_game_page_map_00133:
3101  0D94  79          	ld	a, c
3102  0D95  D6 10       	sub	a,0x10
3103  0D97  78          	ld	a, b
3104  0D98  DE 00       	sbc	a,0x00
3105  0D9A  30 12       	jr	NC,l_game_page_map_00135
3106  0D9C  DD 6E E4    	ld	l,(ix-28)
3107  0D9F  DD 66 E5    	ld	h,(ix-27)
3108  0DA2  09          	add	hl, bc
3109  0DA3  11 00 00    	ld	de,_btiles
3110  0DA6  19          	add	hl, de
3111  0DA7  DD 7E ED    	ld	a,(ix-19)
3112  0DAA  77          	ld	(hl), a
3113  0DAB  03          	inc	bc
3114  0DAC  18 E6       	jr	l_game_page_map_00133
3115  0DAE              l_game_page_map_00135:
3116  0DAE  DD 7E E4    	ld	a,(ix-28)
3117  0DB1  C6 30       	add	a,0x30
3118  0DB3  DD 77 E4    	ld	(ix-28),a
3119  0DB6  DD 7E E5    	ld	a,(ix-27)
3120  0DB9  CE 00       	adc	a,0x00
3121  0DBB  DD 77 E5    	ld	(ix-27),a
3122  0DBE  18 C5       	jr	l_game_page_map_00136
3123  0DC0              l_game_page_map_00138:
3124  0DC0  DD 36 E8 00 	ld	(ix-24),0x00
3125  0DC4  DD 36 E9 00 	ld	(ix-23),0x00
3126  0DC8              l_game_page_map_00139:
3127  0DC8  DD 7E E8    	ld	a,(ix-24)
3128  0DCB  D6 10       	sub	a,0x10
3129  0DCD  DD 7E E9    	ld	a,(ix-23)
3130  0DD0  DE 00       	sbc	a,0x00
3131  0DD2  30 30       	jr	NC,l_game_page_map_00141
3132  0DD4  DD 7E E8    	ld	a,(ix-24)
3133  0DD7  C6 C0       	add	a,0xc0
3134  0DD9  4F          	ld	c, a
3135  0DDA  DD 7E E9    	ld	a,(ix-23)
3136  0DDD  CE 00       	adc	a,0x00
3137  0DDF  47          	ld	b, a
3138  0DE0  21 00 00    	ld	hl,_btiles
3139  0DE3  09          	add	hl,bc
3140  0DE4  3E 00       	ld	a,+((_btiles) & 0xFF)
3141  0DE6  DD 86 E8    	add	a,(ix-24)
3142  0DE9  5F          	ld	e,a
3143  0DEA  3E 00       	ld	a,+((_btiles) / 256)
3144  0DEC  DD 8E E9    	adc	a,(ix-23)
3145  0DEF  57          	ld	d,a
3146  0DF0  1A          	ld	a,(de)
3147  0DF1  77          	ld	(hl),a
3148  0DF2  DD 7E E8    	ld	a,(ix-24)
3149  0DF5  C6 02       	add	a,0x02
3150  0DF7  DD 77 E8    	ld	(ix-24),a
3151  0DFA  DD 7E E9    	ld	a,(ix-23)
3152  0DFD  CE 00       	adc	a,0x00
3153  0DFF  DD 77 E9    	ld	(ix-23),a
3154  0E02  18 C4       	jr	l_game_page_map_00139
3155  0E04              l_game_page_map_00141:
3156  0E04  DD 36 E8 00 	ld	(ix-24),0x00
3157  0E08  DD 36 E9 00 	ld	(ix-23),0x00
3158  0E0C              l_game_page_map_00142:
3159  0E0C  DD 7E E8    	ld	a,(ix-24)
3160  0E0F  D6 10       	sub	a,0x10
3161  0E11  DD 7E E9    	ld	a,(ix-23)
3162  0E14  DE 00       	sbc	a,0x00
3163  0E16  30 20       	jr	NC,l_game_page_map_00144
3164  0E18  3E 00       	ld	a, +((_btiles) & 0xFF)
3165  0E1A  DD 86 E8    	add	a,(ix-24)
3166  0E1D  4F          	ld	c, a
3167  0E1E  3E 00       	ld	a, +((_btiles) / 256)
3168  0E20  DD 8E E9    	adc	a,(ix-23)
3169  0E23  47          	ld	b, a
3170  0E24  AF          	xor	a, a
3171  0E25  02          	ld	(bc), a
3172  0E26  DD 7E E8    	ld	a,(ix-24)
3173  0E29  C6 02       	add	a,0x02
3174  0E2B  DD 77 E8    	ld	(ix-24),a
3175  0E2E  DD 7E E9    	ld	a,(ix-23)
3176  0E31  CE 00       	adc	a,0x00
3177  0E33  DD 77 E9    	ld	(ix-23),a
3178  0E36  18 D4       	jr	l_game_page_map_00142
3179  0E38              l_game_page_map_00144:
3180  0E38  3A 30 00    	ld	a,(_btiles + 0x0030)
3181  0E3B  32 C5 00    	ld	((_btiles + 0x00c5)),a
3182  0E3E  01 32 00    	ld	bc,_btiles + 50
3183  0E41  0A          	ld	a, (bc)
3184  0E42  32 C7 00    	ld	((_btiles + 0x00c7)),a
3185  0E45  3A 34 00    	ld	a,(_btiles + 0x0034)
3186  0E48  32 C9 00    	ld	((_btiles + 0x00c9)),a
3187  0E4B  3A 36 00    	ld	a,(_btiles + 0x0036)
3188  0E4E  32 CB 00    	ld	((_btiles + 0x00cb)),a
3189  0E51  3A 38 00    	ld	a, (_btiles + 56)
3190  0E54  32 CD 00    	ld	((_btiles + 0x00cd)),a
3191  0E57  3A 3A 00    	ld	a, (_btiles + 58)
3192  0E5A  32 CF 00    	ld	((_btiles + 0x00cf)),a
3193  0E5D  11 50 00    	ld	de,_btiles + 80
3194  0E60  1A          	ld	a, (de)
3195  0E61  32 E9 00    	ld	((_btiles + 0x00e9)),a
3196  0E64  3A 51 00    	ld	a,(_btiles + 0x0051)
3197  0E67  32 EA 00    	ld	((_btiles + 0x00ea)),a
3198  0E6A  3A 52 00    	ld	a, (_btiles + 82)
3199  0E6D  32 EB 00    	ld	((_btiles + 0x00eb)),a
3200  0E70  3A 30 00    	ld	a,(_btiles + 0x0030)
3201  0E73  32 FA 00    	ld	((_btiles + 0x00fa)),a
3202  0E76  0A          	ld	a, (bc)
3203  0E77  32 FC 00    	ld	((_btiles + 0x00fc)),a
3204  0E7A  3A 34 00    	ld	a,(_btiles + 0x0034)
3205  0E7D  32 FE 00    	ld	((_btiles + 0x00fe)),a
3206  0E80  3A 36 00    	ld	a,(_btiles + 0x0036)
3207  0E83  32 00 01    	ld	((_btiles + 0x0100)),a
3208  0E86  1A          	ld	a, (de)
3209  0E87  32 12 01    	ld	((_btiles + 0x0112)),a
3210  0E8A  3A 51 00    	ld	a,(_btiles + 0x0051)
3211  0E8D  32 13 01    	ld	((_btiles + 0x0113)),a
3212  0E90  3A 30 00    	ld	a,(_btiles + 0x0030)
3213  0E93  32 FD 00    	ld	((_btiles + 0x00fd)),a
3214  0E96  0A          	ld	a, (bc)
3215  0E97  32 FF 00    	ld	((_btiles + 0x00ff)),a
3216  0E9A  1A          	ld	a, (de)
3217  0E9B  32 1B 01    	ld	((_btiles + 0x011b)),a
3218  0E9E  3E 00       	ld	a,0x00
3219  0EA0  DD 77 E4    	ld	(ix-28),a
3220  0EA3  DD 77 E5    	ld	(ix-27),a
3221  0EA6  DD 77 E0    	ld	(ix-32),a
3222  0EA9  DD 77 E1    	ld	(ix-31),a
3223  0EAC  DD 36 E6 00 	ld	(ix-26),0x00
3224  0EB0  DD 36 E7 00 	ld	(ix-25),0x00
3225  0EB4              l_game_page_map_00145:
3226  0EB4  DD 4E DD    	ld	c,(ix-35)
3227  0EB7  06 00       	ld	b,0x00
3228  0EB9  DD 7E E6    	ld	a,(ix-26)
3229  0EBC  91          	sub	a, c
3230  0EBD  DD 7E E7    	ld	a,(ix-25)
3231  0EC0  98          	sbc	a, b
3232  0EC1  30 3A       	jr	NC,l_game_page_map_00147
3233  0EC3  3E 16       	ld	a,0x16
3234  0EC5  01 FD 7F    	ld	bc,_IO_7FFD
3235  0EC8  ED 79       	out	(c),a
3236  0ECA  01 00 00    	ld	bc,_lenght0
3237  0ECD  DD 6E E6    	ld	l,(ix-26)
3238  0ED0  DD 66 E7    	ld	h,(ix-25)
3239  0ED3  09          	add	hl,bc
3240  0ED4  4E          	ld	c, (hl)
3241  0ED5  06 00       	ld	b,0x00
3242  0ED7  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3243  0EDA  36 10       	ld	(hl),0x10
3244  0EDC  C5          	push	bc
3245  0EDD  3E 10       	ld	a,0x10
3246  0EDF  01 FD 7F    	ld	bc,_IO_7FFD
3247  0EE2  ED 79       	out	(c),a
3248  0EE4  C1          	pop	bc
3249  0EE5  DD 7E E0    	ld	a,(ix-32)
3250  0EE8  81          	add	a, c
3251  0EE9  DD 77 E0    	ld	(ix-32),a
3252  0EEC  DD 7E E1    	ld	a,(ix-31)
3253  0EEF  88          	adc	a, b
3254  0EF0  DD 77 E1    	ld	(ix-31),a
3255  0EF3  DD 34 E6    	inc	(ix-26)
3256  0EF6  20 BC       	jr	NZ,l_game_page_map_00145
3257  0EF8  DD 34 E7    	inc	(ix-25)
3258  0EFB  18 B7       	jr	l_game_page_map_00145
3259  0EFD              l_game_page_map_00147:
3260  0EFD  DD 36 E8 00 	ld	(ix-24),0x00
3261  0F01  DD 36 E9 00 	ld	(ix-23),0x00
3262  0F05              l_game_page_map_00160:
3263  0F05  3E 16       	ld	a,0x16
3264  0F07  01 FD 7F    	ld	bc,_IO_7FFD
3265  0F0A  ED 79       	out	(c),a
3266  0F0C  DD 7E E0    	ld	a,(ix-32)
3267  0F0F  DD 86 E8    	add	a,(ix-24)
3268  0F12  4F          	ld	c, a
3269  0F13  DD 7E E1    	ld	a,(ix-31)
3270  0F16  DD 8E E9    	adc	a,(ix-23)
3271  0F19  47          	ld	b, a
3272  0F1A  21 00 00    	ld	hl,_world0
3273  0F1D  09          	add	hl, bc
3274  0F1E  7E          	ld	a, (hl)
3275  0F1F  DD 77 EC    	ld	(ix-20),a
3276  0F22  03          	inc	bc
3277  0F23  21 00 00    	ld	hl,_world0
3278  0F26  09          	add	hl, bc
3279  0F27  7E          	ld	a, (hl)
3280  0F28  DD 77 EB    	ld	(ix-21),a
3281  0F2B  3E 10       	ld	a,0x10
3282  0F2D  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3283  0F30  01 FD 7F    	ld	bc,_IO_7FFD
3284  0F33  ED 79       	out	(c),a
3285  0F35  DD 7E EC    	ld	a,(ix-20)
3286  0F38  D6 80       	sub	a,0x80
3287  0F3A  30 1F       	jr	NC,l_game_page_map_00152
3288  0F3C  DD 6E E4    	ld	l,(ix-28)
3289  0F3F  DD 66 E5    	ld	h,(ix-27)
3290  0F42  01 00 00    	ld	bc,_scr_map
3291  0F45  09          	add	hl,bc
3292  0F46  DD 75 ED    	ld	(ix-19),l
3293  0F49  DD 74 EE    	ld	(ix-18),h
3294  0F4C  DD 7E EC    	ld	a,(ix-20)
3295  0F4F  77          	ld	(hl), a
3296  0F50  DD 34 E4    	inc	(ix-28)
3297  0F53  C2 D0 0F    	jp	NZ,l_game_page_map_00153
3298  0F56  DD 34 E5    	inc	(ix-27)
3299  0F59  18 75       	jr	l_game_page_map_00153
3300  0F5B              l_game_page_map_00152:
3301  0F5B  DD 7E EC    	ld	a,(ix-20)
3302  0F5E  C6 80       	add	a,0x80
3303  0F60  DD 77 EA    	ld	(ix-22),a
3304  0F63  DD 7E E4    	ld	a,(ix-28)
3305  0F66  DD 77 ED    	ld	(ix-19),a
3306  0F69  DD 7E E5    	ld	a,(ix-27)
3307  0F6C  DD 77 EE    	ld	(ix-18),a
3308  0F6F  DD 36 E6 00 	ld	(ix-26),0x00
3309  0F73  DD 36 E7 00 	ld	(ix-25),0x00
3310  0F77              l_game_page_map_00158:
3311  0F77  DD 7E EA    	ld	a,(ix-22)
3312  0F7A  DD 77 EF    	ld	(ix-17),a
3313  0F7D  DD 36 F0 00 	ld	(ix-16),0x00
3314  0F81  DD 7E E6    	ld	a,(ix-26)
3315  0F84  DD 96 EF    	sub	a,(ix-17)
3316  0F87  DD 7E E7    	ld	a,(ix-25)
3317  0F8A  DD 9E F0    	sbc	a,(ix-16)
3318  0F8D  30 2D       	jr	NC,l_game_page_map_00212
3319  0F8F  DD 6E ED    	ld	l,(ix-19)
3320  0F92  DD 66 EE    	ld	h,(ix-18)
3321  0F95  01 00 00    	ld	bc,_scr_map
3322  0F98  09          	add	hl,bc
3323  0F99  DD 75 EF    	ld	(ix-17),l
3324  0F9C  DD 74 F0    	ld	(ix-16),h
3325  0F9F  DD 7E EB    	ld	a,(ix-21)
3326  0FA2  77          	ld	(hl), a
3327  0FA3  DD 34 ED    	inc	(ix-19)
3328  0FA6  20 03       	jr	NZ,l_game_page_map_00330
3329  0FA8  DD 34 EE    	inc	(ix-18)
3330  0FAB              l_game_page_map_00330:
3331  0FAB  DD 7E EE    	ld	a,(ix-18)
3332  0FAE  D6 02       	sub	a,0x02
3333  0FB0  30 0A       	jr	NC,l_game_page_map_00212
3334  0FB2  DD 34 E6    	inc	(ix-26)
3335  0FB5  20 C0       	jr	NZ,l_game_page_map_00158
3336  0FB7  DD 34 E7    	inc	(ix-25)
3337  0FBA  18 BB       	jr	l_game_page_map_00158
3338  0FBC              l_game_page_map_00212:
3339  0FBC  DD 7E ED    	ld	a,(ix-19)
3340  0FBF  DD 77 E4    	ld	(ix-28),a
3341  0FC2  DD 7E EE    	ld	a,(ix-18)
3342  0FC5  DD 77 E5    	ld	(ix-27),a
3343  0FC8  DD 34 E8    	inc	(ix-24)
3344  0FCB  20 03       	jr	NZ,l_game_page_map_00332
3345  0FCD  DD 34 E9    	inc	(ix-23)
3346  0FD0              l_game_page_map_00332:
3347  0FD0              l_game_page_map_00153:
3348  0FD0  DD 7E E5    	ld	a,(ix-27)
3349  0FD3  D6 02       	sub	a,0x02
3350  0FD5  30 10       	jr	NC,l_game_page_map_00156
3351  0FD7  DD 34 E8    	inc	(ix-24)
3352  0FDA  20 03       	jr	NZ,l_game_page_map_00333
3353  0FDC  DD 34 E9    	inc	(ix-23)
3354  0FDF              l_game_page_map_00333:
3355  0FDF  DD 7E E9    	ld	a,(ix-23)
3356  0FE2  D6 02       	sub	a,0x02
3357  0FE4  DA 05 0F    	jp	C, l_game_page_map_00160
3358  0FE7              l_game_page_map_00156:
3359  0FE7  DD 7E DE    	ld	a,(ix-34)
3360  0FEA  32 00 00    	ld	(_scr_curr),a
3361  0FED  DD 7E DF    	ld	a,(ix-33)
3362  0FF0  32 00 00    	ld	(_map_paper),a
3363  0FF3  FB          	ei
3364  0FF4  DD F9       	ld	sp, ix
3365  0FF6  DD E1       	pop	ix
3366  0FF8  C9          	ret
3367  0FF9              	SECTION IGNORE
3368  0000              
