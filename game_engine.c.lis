1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_end
205   0000              	GLOBAL _game_tick
206   0000              	GLOBAL _game_loop
207   0000              	GLOBAL _game_fps
208   0000              	GLOBAL _game_draw_map
209   0000              	GLOBAL _game_cell_paint_index
210   0000              	GLOBAL _game_cell_paint
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_round_init
217   0000              	GLOBAL _game_print_header
218   0000              	GLOBAL _game_check_map
219   0000              	GLOBAL _game_check_cell
220   0000              	GLOBAL _game_paint_attrib
221   0000              	GLOBAL _game_colour_message
222   0000              	GLOBAL _game_check_time
223   0000              	GLOBAL _game_key_paint
224   0000              	GLOBAL _game_rotate_attrib_osd
225   0000              	GLOBAL _game_attribs
226   0000              	GLOBAL _game_page_map
227   0000              	GLOBAL _game_flash_exit
228   0000              	GLOBAL _game_copy_tile_std
229   0000              	GLOBAL _game_copy_tile
230   0000              	GLOBAL _reverse
231   0000              ;--------------------------------------------------------
232   0000              ; Externals used
233   0000              ;--------------------------------------------------------
234   0000              	GLOBAL _ffsll_callee
235   0000              	GLOBAL _ffsll
236   0000              	GLOBAL _strxfrm_callee
237   0000              	GLOBAL _strxfrm
238   0000              	GLOBAL _strupr_fastcall
239   0000              	GLOBAL _strupr
240   0000              	GLOBAL _strtok_r_callee
241   0000              	GLOBAL _strtok_r
242   0000              	GLOBAL _strtok_callee
243   0000              	GLOBAL _strtok
244   0000              	GLOBAL _strstrip_fastcall
245   0000              	GLOBAL _strstrip
246   0000              	GLOBAL _strstr_callee
247   0000              	GLOBAL _strstr
248   0000              	GLOBAL _strspn_callee
249   0000              	GLOBAL _strspn
250   0000              	GLOBAL _strsep_callee
251   0000              	GLOBAL _strsep
252   0000              	GLOBAL _strrstrip_fastcall
253   0000              	GLOBAL _strrstrip
254   0000              	GLOBAL _strrstr_callee
255   0000              	GLOBAL _strrstr
256   0000              	GLOBAL _strrspn_callee
257   0000              	GLOBAL _strrspn
258   0000              	GLOBAL _strrev_fastcall
259   0000              	GLOBAL _strrev
260   0000              	GLOBAL _strrcspn_callee
261   0000              	GLOBAL _strrcspn
262   0000              	GLOBAL _strrchr_callee
263   0000              	GLOBAL _strrchr
264   0000              	GLOBAL _strpbrk_callee
265   0000              	GLOBAL _strpbrk
266   0000              	GLOBAL _strnlen_callee
267   0000              	GLOBAL _strnlen
268   0000              	GLOBAL _strnicmp_callee
269   0000              	GLOBAL _strnicmp
270   0000              	GLOBAL _strndup_callee
271   0000              	GLOBAL _strndup
272   0000              	GLOBAL _strncpy_callee
273   0000              	GLOBAL _strncpy
274   0000              	GLOBAL _strncmp_callee
275   0000              	GLOBAL _strncmp
276   0000              	GLOBAL _strnchr_callee
277   0000              	GLOBAL _strnchr
278   0000              	GLOBAL _strncat_callee
279   0000              	GLOBAL _strncat
280   0000              	GLOBAL _strncasecmp_callee
281   0000              	GLOBAL _strncasecmp
282   0000              	GLOBAL _strlwr_fastcall
283   0000              	GLOBAL _strlwr
284   0000              	GLOBAL _strlen_fastcall
285   0000              	GLOBAL _strlen
286   0000              	GLOBAL _strlcpy_callee
287   0000              	GLOBAL _strlcpy
288   0000              	GLOBAL _strlcat_callee
289   0000              	GLOBAL _strlcat
290   0000              	GLOBAL _stricmp_callee
291   0000              	GLOBAL _stricmp
292   0000              	GLOBAL _strerror_fastcall
293   0000              	GLOBAL _strerror
294   0000              	GLOBAL _strdup_fastcall
295   0000              	GLOBAL _strdup
296   0000              	GLOBAL _strcspn_callee
297   0000              	GLOBAL _strcspn
298   0000              	GLOBAL _strcpy_callee
299   0000              	GLOBAL _strcpy
300   0000              	GLOBAL _strcoll_callee
301   0000              	GLOBAL _strcoll
302   0000              	GLOBAL _strcmp_callee
303   0000              	GLOBAL _strcmp
304   0000              	GLOBAL _strchrnul_callee
305   0000              	GLOBAL _strchrnul
306   0000              	GLOBAL _strchr_callee
307   0000              	GLOBAL _strchr
308   0000              	GLOBAL _strcat_callee
309   0000              	GLOBAL _strcat
310   0000              	GLOBAL _strcasecmp_callee
311   0000              	GLOBAL _strcasecmp
312   0000              	GLOBAL _stpncpy_callee
313   0000              	GLOBAL _stpncpy
314   0000              	GLOBAL _stpcpy_callee
315   0000              	GLOBAL _stpcpy
316   0000              	GLOBAL _memswap_callee
317   0000              	GLOBAL _memswap
318   0000              	GLOBAL _memset_callee
319   0000              	GLOBAL _memset
320   0000              	GLOBAL _memrchr_callee
321   0000              	GLOBAL _memrchr
322   0000              	GLOBAL _memmove_callee
323   0000              	GLOBAL _memmove
324   0000              	GLOBAL _memmem_callee
325   0000              	GLOBAL _memmem
326   0000              	GLOBAL _memcpy_callee
327   0000              	GLOBAL _memcpy
328   0000              	GLOBAL _memcmp_callee
329   0000              	GLOBAL _memcmp
330   0000              	GLOBAL _memchr_callee
331   0000              	GLOBAL _memchr
332   0000              	GLOBAL _memccpy_callee
333   0000              	GLOBAL _memccpy
334   0000              	GLOBAL _ffsl_fastcall
335   0000              	GLOBAL _ffsl
336   0000              	GLOBAL _ffs_fastcall
337   0000              	GLOBAL _ffs
338   0000              	GLOBAL __strrstrip__fastcall
339   0000              	GLOBAL __strrstrip_
340   0000              	GLOBAL __memupr__callee
341   0000              	GLOBAL __memupr_
342   0000              	GLOBAL __memstrcpy__callee
343   0000              	GLOBAL __memstrcpy_
344   0000              	GLOBAL __memlwr__callee
345   0000              	GLOBAL __memlwr_
346   0000              	GLOBAL _rawmemchr_callee
347   0000              	GLOBAL _rawmemchr
348   0000              	GLOBAL _strnset_callee
349   0000              	GLOBAL _strnset
350   0000              	GLOBAL _strset_callee
351   0000              	GLOBAL _strset
352   0000              	GLOBAL _rindex_callee
353   0000              	GLOBAL _rindex
354   0000              	GLOBAL _index_callee
355   0000              	GLOBAL _index
356   0000              	GLOBAL _bzero_callee
357   0000              	GLOBAL _bzero
358   0000              	GLOBAL _bcopy_callee
359   0000              	GLOBAL _bcopy
360   0000              	GLOBAL _bcmp_callee
361   0000              	GLOBAL _bcmp
362   0000              	GLOBAL _ulltoa_callee
363   0000              	GLOBAL _ulltoa
364   0000              	GLOBAL _strtoull_callee
365   0000              	GLOBAL _strtoull
366   0000              	GLOBAL _strtoll_callee
367   0000              	GLOBAL _strtoll
368   0000              	GLOBAL _lltoa_callee
369   0000              	GLOBAL _lltoa
370   0000              	GLOBAL _llabs_callee
371   0000              	GLOBAL _llabs
372   0000              	GLOBAL __lldivu__callee
373   0000              	GLOBAL __lldivu_
374   0000              	GLOBAL __lldiv__callee
375   0000              	GLOBAL __lldiv_
376   0000              	GLOBAL _atoll_callee
377   0000              	GLOBAL _atoll
378   0000              	GLOBAL _realloc_unlocked_callee
379   0000              	GLOBAL _realloc_unlocked
380   0000              	GLOBAL _malloc_unlocked_fastcall
381   0000              	GLOBAL _malloc_unlocked
382   0000              	GLOBAL _free_unlocked_fastcall
383   0000              	GLOBAL _free_unlocked
384   0000              	GLOBAL _calloc_unlocked_callee
385   0000              	GLOBAL _calloc_unlocked
386   0000              	GLOBAL _aligned_alloc_unlocked_callee
387   0000              	GLOBAL _aligned_alloc_unlocked
388   0000              	GLOBAL _realloc_callee
389   0000              	GLOBAL _realloc
390   0000              	GLOBAL _malloc_fastcall
391   0000              	GLOBAL _malloc
392   0000              	GLOBAL _free_fastcall
393   0000              	GLOBAL _free
394   0000              	GLOBAL _calloc_callee
395   0000              	GLOBAL _calloc
396   0000              	GLOBAL _aligned_alloc_callee
397   0000              	GLOBAL _aligned_alloc
398   0000              	GLOBAL _utoa_callee
399   0000              	GLOBAL _utoa
400   0000              	GLOBAL _ultoa_callee
401   0000              	GLOBAL _ultoa
402   0000              	GLOBAL _system_fastcall
403   0000              	GLOBAL _system
404   0000              	GLOBAL _strtoul_callee
405   0000              	GLOBAL _strtoul
406   0000              	GLOBAL _strtol_callee
407   0000              	GLOBAL _strtol
408   0000              	GLOBAL _strtof_callee
409   0000              	GLOBAL _strtof
410   0000              	GLOBAL _strtod_callee
411   0000              	GLOBAL _strtod
412   0000              	GLOBAL _srand_fastcall
413   0000              	GLOBAL _srand
414   0000              	GLOBAL _rand
415   0000              	GLOBAL _quick_exit_fastcall
416   0000              	GLOBAL _quick_exit
417   0000              	GLOBAL _qsort_callee
418   0000              	GLOBAL _qsort
419   0000              	GLOBAL _ltoa_callee
420   0000              	GLOBAL _ltoa
421   0000              	GLOBAL _labs_fastcall
422   0000              	GLOBAL _labs
423   0000              	GLOBAL _itoa_callee
424   0000              	GLOBAL _itoa
425   0000              	GLOBAL _ftoh_callee
426   0000              	GLOBAL _ftoh
427   0000              	GLOBAL _ftog_callee
428   0000              	GLOBAL _ftog
429   0000              	GLOBAL _ftoe_callee
430   0000              	GLOBAL _ftoe
431   0000              	GLOBAL _ftoa_callee
432   0000              	GLOBAL _ftoa
433   0000              	GLOBAL _exit_fastcall
434   0000              	GLOBAL _exit
435   0000              	GLOBAL _dtoh_callee
436   0000              	GLOBAL _dtoh
437   0000              	GLOBAL _dtog_callee
438   0000              	GLOBAL _dtog
439   0000              	GLOBAL _dtoe_callee
440   0000              	GLOBAL _dtoe
441   0000              	GLOBAL _dtoa_callee
442   0000              	GLOBAL _dtoa
443   0000              	GLOBAL _bsearch_callee
444   0000              	GLOBAL _bsearch
445   0000              	GLOBAL _atol_fastcall
446   0000              	GLOBAL _atol
447   0000              	GLOBAL _atoi_fastcall
448   0000              	GLOBAL _atoi
449   0000              	GLOBAL _atof_fastcall
450   0000              	GLOBAL _atof
451   0000              	GLOBAL _atexit_fastcall
452   0000              	GLOBAL _atexit
453   0000              	GLOBAL _at_quick_exit_fastcall
454   0000              	GLOBAL _at_quick_exit
455   0000              	GLOBAL _abs_fastcall
456   0000              	GLOBAL _abs
457   0000              	GLOBAL _abort
458   0000              	GLOBAL __strtou__callee
459   0000              	GLOBAL __strtou_
460   0000              	GLOBAL __strtoi__callee
461   0000              	GLOBAL __strtoi_
462   0000              	GLOBAL __random_uniform_xor_8__fastcall
463   0000              	GLOBAL __random_uniform_xor_8_
464   0000              	GLOBAL __random_uniform_xor_32__fastcall
465   0000              	GLOBAL __random_uniform_xor_32_
466   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
467   0000              	GLOBAL __random_uniform_cmwc_8_
468   0000              	GLOBAL __shellsort__callee
469   0000              	GLOBAL __shellsort_
470   0000              	GLOBAL __quicksort__callee
471   0000              	GLOBAL __quicksort_
472   0000              	GLOBAL __insertion_sort__callee
473   0000              	GLOBAL __insertion_sort_
474   0000              	GLOBAL __ldivu__callee
475   0000              	GLOBAL __ldivu_
476   0000              	GLOBAL __ldiv__callee
477   0000              	GLOBAL __ldiv_
478   0000              	GLOBAL __divu__callee
479   0000              	GLOBAL __divu_
480   0000              	GLOBAL __div__callee
481   0000              	GLOBAL __div_
482   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
483   0000              	GLOBAL _NIRVANAP_drawTW_raw
484   0000              	GLOBAL _NIRVANAP_drawTW_callee
485   0000              	GLOBAL _NIRVANAP_drawTW
486   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
487   0000              	GLOBAL _NIRVANAP_drawW_raw
488   0000              	GLOBAL _NIRVANAP_drawW_callee
489   0000              	GLOBAL _NIRVANAP_drawW
490   0000              	GLOBAL _NIRVANAP_spriteT_callee
491   0000              	GLOBAL _NIRVANAP_spriteT
492   0000              	GLOBAL _NIRVANAP_fillC_callee
493   0000              	GLOBAL _NIRVANAP_fillC
494   0000              	GLOBAL _NIRVANAP_readC_callee
495   0000              	GLOBAL _NIRVANAP_readC
496   0000              	GLOBAL _NIRVANAP_paintC_callee
497   0000              	GLOBAL _NIRVANAP_paintC
498   0000              	GLOBAL _NIRVANAP_printC_callee
499   0000              	GLOBAL _NIRVANAP_printC
500   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
501   0000              	GLOBAL _NIRVANAP_fillT_raw
502   0000              	GLOBAL _NIRVANAP_fillT_callee
503   0000              	GLOBAL _NIRVANAP_fillT
504   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
505   0000              	GLOBAL _NIRVANAP_drawT_raw
506   0000              	GLOBAL _NIRVANAP_drawT_callee
507   0000              	GLOBAL _NIRVANAP_drawT
508   0000              	GLOBAL _NIRVANAP_stop
509   0000              	GLOBAL _NIRVANAP_start
510   0000              	GLOBAL _zx_print_str
511   0000              	GLOBAL _zx_print_int
512   0000              	GLOBAL _zx_print_chr
513   0000              	GLOBAL _zx_isr
514   0000              	GLOBAL _z80_otdr_callee
515   0000              	GLOBAL _z80_otdr
516   0000              	GLOBAL _z80_otir_callee
517   0000              	GLOBAL _z80_otir
518   0000              	GLOBAL _z80_outp_callee
519   0000              	GLOBAL _z80_outp
520   0000              	GLOBAL _z80_indr_callee
521   0000              	GLOBAL _z80_indr
522   0000              	GLOBAL _z80_inir_callee
523   0000              	GLOBAL _z80_inir
524   0000              	GLOBAL _z80_inp_fastcall
525   0000              	GLOBAL _z80_inp
526   0000              	GLOBAL _z80_set_int_state_fastcall
527   0000              	GLOBAL _z80_set_int_state
528   0000              	GLOBAL _z80_get_int_state
529   0000              	GLOBAL _z80_delay_tstate_fastcall
530   0000              	GLOBAL _z80_delay_tstate
531   0000              	GLOBAL _z80_delay_ms_fastcall
532   0000              	GLOBAL _z80_delay_ms
533   0000              	GLOBAL _im2_remove_generic_callback_callee
534   0000              	GLOBAL _im2_remove_generic_callback
535   0000              	GLOBAL _im2_prepend_generic_callback_callee
536   0000              	GLOBAL _im2_prepend_generic_callback
537   0000              	GLOBAL _im2_append_generic_callback_callee
538   0000              	GLOBAL _im2_append_generic_callback
539   0000              	GLOBAL _im2_create_generic_isr_8080_callee
540   0000              	GLOBAL _im2_create_generic_isr_8080
541   0000              	GLOBAL _im2_create_generic_isr_callee
542   0000              	GLOBAL _im2_create_generic_isr
543   0000              	GLOBAL _im2_install_isr_callee
544   0000              	GLOBAL _im2_install_isr
545   0000              	GLOBAL _im2_init_fastcall
546   0000              	GLOBAL _im2_init
547   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
548   0000              	GLOBAL _intrinsic_swap_word_32
549   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
550   0000              	GLOBAL _intrinsic_swap_endian_32
551   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
552   0000              	GLOBAL _intrinsic_swap_endian_16
553   0000              	GLOBAL _intrinsic_return_de
554   0000              	GLOBAL _intrinsic_return_bc
555   0000              	GLOBAL _intrinsic_exx
556   0000              	GLOBAL _intrinsic_ex_de_hl
557   0000              	GLOBAL _intrinsic_nop
558   0000              	GLOBAL _intrinsic_im_2
559   0000              	GLOBAL _intrinsic_im_1
560   0000              	GLOBAL _intrinsic_im_0
561   0000              	GLOBAL _intrinsic_retn
562   0000              	GLOBAL _intrinsic_reti
563   0000              	GLOBAL _intrinsic_halt
564   0000              	GLOBAL _intrinsic_ei
565   0000              	GLOBAL _intrinsic_di
566   0000              	GLOBAL _intrinsic_stub
567   0000              	GLOBAL _intrinsic_ini
568   0000              	GLOBAL _intrinsic_outi
569   0000              	GLOBAL _intrinsic_ldi
570   0000              	GLOBAL _zx_pattern_fill_callee
571   0000              	GLOBAL _zx_pattern_fill
572   0000              	GLOBAL _zx_saddrpup_fastcall
573   0000              	GLOBAL _zx_saddrpup
574   0000              	GLOBAL _zx_saddrpright_callee
575   0000              	GLOBAL _zx_saddrpright
576   0000              	GLOBAL _zx_saddrpleft_callee
577   0000              	GLOBAL _zx_saddrpleft
578   0000              	GLOBAL _zx_saddrpdown_fastcall
579   0000              	GLOBAL _zx_saddrpdown
580   0000              	GLOBAL _zx_saddrcup_fastcall
581   0000              	GLOBAL _zx_saddrcup
582   0000              	GLOBAL _zx_saddrcright_fastcall
583   0000              	GLOBAL _zx_saddrcright
584   0000              	GLOBAL _zx_saddrcleft_fastcall
585   0000              	GLOBAL _zx_saddrcleft
586   0000              	GLOBAL _zx_saddrcdown_fastcall
587   0000              	GLOBAL _zx_saddrcdown
588   0000              	GLOBAL _zx_saddr2py_fastcall
589   0000              	GLOBAL _zx_saddr2py
590   0000              	GLOBAL _zx_saddr2px_fastcall
591   0000              	GLOBAL _zx_saddr2px
592   0000              	GLOBAL _zx_saddr2cy_fastcall
593   0000              	GLOBAL _zx_saddr2cy
594   0000              	GLOBAL _zx_saddr2cx_fastcall
595   0000              	GLOBAL _zx_saddr2cx
596   0000              	GLOBAL _zx_saddr2aaddr_fastcall
597   0000              	GLOBAL _zx_saddr2aaddr
598   0000              	GLOBAL _zx_py2saddr_fastcall
599   0000              	GLOBAL _zx_py2saddr
600   0000              	GLOBAL _zx_py2aaddr_fastcall
601   0000              	GLOBAL _zx_py2aaddr
602   0000              	GLOBAL _zx_pxy2saddr_callee
603   0000              	GLOBAL _zx_pxy2saddr
604   0000              	GLOBAL _zx_pxy2aaddr_callee
605   0000              	GLOBAL _zx_pxy2aaddr
606   0000              	GLOBAL _zx_px2bitmask_fastcall
607   0000              	GLOBAL _zx_px2bitmask
608   0000              	GLOBAL _zx_cy2saddr_fastcall
609   0000              	GLOBAL _zx_cy2saddr
610   0000              	GLOBAL _zx_cy2aaddr_fastcall
611   0000              	GLOBAL _zx_cy2aaddr
612   0000              	GLOBAL _zx_cxy2saddr_callee
613   0000              	GLOBAL _zx_cxy2saddr
614   0000              	GLOBAL _zx_cxy2aaddr_callee
615   0000              	GLOBAL _zx_cxy2aaddr
616   0000              	GLOBAL _zx_bitmask2px_fastcall
617   0000              	GLOBAL _zx_bitmask2px
618   0000              	GLOBAL _zx_aaddrcup_fastcall
619   0000              	GLOBAL _zx_aaddrcup
620   0000              	GLOBAL _zx_aaddrcright_fastcall
621   0000              	GLOBAL _zx_aaddrcright
622   0000              	GLOBAL _zx_aaddrcleft_fastcall
623   0000              	GLOBAL _zx_aaddrcleft
624   0000              	GLOBAL _zx_aaddrcdown_fastcall
625   0000              	GLOBAL _zx_aaddrcdown
626   0000              	GLOBAL _zx_aaddr2saddr_fastcall
627   0000              	GLOBAL _zx_aaddr2saddr
628   0000              	GLOBAL _zx_aaddr2py_fastcall
629   0000              	GLOBAL _zx_aaddr2py
630   0000              	GLOBAL _zx_aaddr2px_fastcall
631   0000              	GLOBAL _zx_aaddr2px
632   0000              	GLOBAL _zx_aaddr2cy_fastcall
633   0000              	GLOBAL _zx_aaddr2cy
634   0000              	GLOBAL _zx_aaddr2cx_fastcall
635   0000              	GLOBAL _zx_aaddr2cx
636   0000              	GLOBAL _zx_visit_wc_pix_callee
637   0000              	GLOBAL _zx_visit_wc_pix
638   0000              	GLOBAL _zx_visit_wc_attr_callee
639   0000              	GLOBAL _zx_visit_wc_attr
640   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
641   0000              	GLOBAL _zx_scroll_wc_up_pix
642   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
643   0000              	GLOBAL _zx_scroll_wc_up_attr
644   0000              	GLOBAL _zx_scroll_wc_up_callee
645   0000              	GLOBAL _zx_scroll_wc_up
646   0000              	GLOBAL _zx_scroll_up_pix_callee
647   0000              	GLOBAL _zx_scroll_up_pix
648   0000              	GLOBAL _zx_scroll_up_attr_callee
649   0000              	GLOBAL _zx_scroll_up_attr
650   0000              	GLOBAL _zx_scroll_up_callee
651   0000              	GLOBAL _zx_scroll_up
652   0000              	GLOBAL _zx_cls_wc_pix_callee
653   0000              	GLOBAL _zx_cls_wc_pix
654   0000              	GLOBAL _zx_cls_wc_attr_callee
655   0000              	GLOBAL _zx_cls_wc_attr
656   0000              	GLOBAL _zx_cls_wc_callee
657   0000              	GLOBAL _zx_cls_wc
658   0000              	GLOBAL _zx_cls_pix_fastcall
659   0000              	GLOBAL _zx_cls_pix
660   0000              	GLOBAL _zx_cls_attr_fastcall
661   0000              	GLOBAL _zx_cls_attr
662   0000              	GLOBAL _zx_cls_fastcall
663   0000              	GLOBAL _zx_cls
664   0000              	GLOBAL _zx_border_fastcall
665   0000              	GLOBAL _zx_border
666   0000              	GLOBAL _zx_tape_verify_block_callee
667   0000              	GLOBAL _zx_tape_verify_block
668   0000              	GLOBAL _zx_tape_save_block_callee
669   0000              	GLOBAL _zx_tape_save_block
670   0000              	GLOBAL _zx_tape_load_block_callee
671   0000              	GLOBAL _zx_tape_load_block
672   0000              	GLOBAL _spr_draw8
673   0000              	GLOBAL _spr_destroy
674   0000              	GLOBAL _spr_unflattenP1
675   0000              	GLOBAL _spr_flatten
676   0000              	GLOBAL _spr_btile_paint_back
677   0000              	GLOBAL _spr_turn_horizontal
678   0000              	GLOBAL _spr_play_anim
679   0000              	GLOBAL _spr_add_anim
680   0000              	GLOBAL _spr_clear_scr
681   0000              	GLOBAL _spr_back_repaint
682   0000              	GLOBAL _spr_get_tile_dir
683   0000              	GLOBAL _spr_get_tile
684   0000              	GLOBAL _spr_paint_player
685   0000              	GLOBAL _spr_paint
686   0000              	GLOBAL _spr_move_left
687   0000              	GLOBAL _spr_move_right
688   0000              	GLOBAL _spr_move_left_f
689   0000              	GLOBAL _spr_move_right_f
690   0000              	GLOBAL _spr_move_horizontal
691   0000              	GLOBAL _spr_move_down_f
692   0000              	GLOBAL _spr_move_up_f
693   0000              	GLOBAL _spr_move_down
694   0000              	GLOBAL _spr_move_up
695   0000              	GLOBAL _spr_set_right
696   0000              	GLOBAL _spr_set_left
697   0000              	GLOBAL _spr_set_down
698   0000              	GLOBAL _spr_set_up
699   0000              	GLOBAL _spr_calc_index
700   0000              	GLOBAL _spr_chktime
701   0000              	GLOBAL _player_use_floor
702   0000              	GLOBAL _player_lost_life
703   0000              	GLOBAL _player_move_jump
704   0000              	GLOBAL _player_tile
705   0000              	GLOBAL _player_pick_exit
706   0000              	GLOBAL _player_pick_deadly
707   0000              	GLOBAL _player_pick_item
708   0000              	GLOBAL _player_check_ceil
709   0000              	GLOBAL _player_check_floor
710   0000              	GLOBAL _player_score_add
711   0000              	GLOBAL _player_move_walk
712   0000              	GLOBAL _player_turn
713   0000              	GLOBAL _player_move
714   0000              	GLOBAL _player_check_input
715   0000              	GLOBAL _player_init
716   0000              	GLOBAL _menu_define_key
717   0000              	GLOBAL _menu_redefine
718   0000              	GLOBAL _menu_main_print
719   0000              	GLOBAL _menu_main
720   0000              	GLOBAL _game_fill_row
721   0000              	GLOBAL _enemy_kill
722   0000              	GLOBAL _enemy_init
723   0000              	GLOBAL _enemy_move
724   0000              	GLOBAL _enemy_turn
725   0000              	GLOBAL _enemy_static
726   0000              	GLOBAL _enemy_walk
727   0000              	GLOBAL _enemy_horizontal
728   0000              	GLOBAL _enemy_vertical
729   0000              	GLOBAL _ay_reset
730   0000              	GLOBAL _ay_song_stop
731   0000              	GLOBAL _ay_song_play
732   0000              	GLOBAL _ay_fx_stop
733   0000              	GLOBAL _ay_fx_play
734   0000              	GLOBAL _ay_is_playing
735   0000              	GLOBAL _audio_levelup
736   0000              	GLOBAL _audio_menu
737   0000              	GLOBAL _audio_game_end
738   0000              	GLOBAL _audio_level_complete
739   0000              	GLOBAL _audio_level_start
740   0000              	GLOBAL _audio_lotr_lose_a_life
741   0000              	GLOBAL _audio_puerta
742   0000              	GLOBAL _audio_sin_mana
743   0000              	GLOBAL _audio_magic1
744   0000              	GLOBAL _audio_coin
745   0000              	GLOBAL _audio_golpe
746   0000              	GLOBAL _audio_salto
747   0000              	GLOBAL _audio_efecto
748   0000              	GLOBAL _audio_disparo_fire
749   0000              	GLOBAL _audio_disparo_axe
750   0000              	GLOBAL _audio_disparo2
751   0000              	GLOBAL _audio_disparo1
752   0000              	GLOBAL _audio_explosion1
753   0000              	GLOBAL _audio_explosion
754   0000              	GLOBAL _audio_ingame
755   0000              	GLOBAL _test_func
756   0000              	GLOBAL _test_proc
757   0000              	GLOBAL _in_mouse_kempston_wheel_delta
758   0000              	GLOBAL _in_mouse_kempston_wheel
759   0000              	GLOBAL _in_mouse_kempston_callee
760   0000              	GLOBAL _in_mouse_kempston
761   0000              	GLOBAL _in_mouse_kempston_setpos_callee
762   0000              	GLOBAL _in_mouse_kempston_setpos
763   0000              	GLOBAL _in_mouse_kempston_reset
764   0000              	GLOBAL _in_mouse_kempston_init
765   0000              	GLOBAL _in_mouse_amx_wheel_delta
766   0000              	GLOBAL _in_mouse_amx_wheel
767   0000              	GLOBAL _in_mouse_amx_callee
768   0000              	GLOBAL _in_mouse_amx
769   0000              	GLOBAL _in_mouse_amx_setpos_callee
770   0000              	GLOBAL _in_mouse_amx_setpos
771   0000              	GLOBAL _in_mouse_amx_reset
772   0000              	GLOBAL _in_mouse_amx_init_callee
773   0000              	GLOBAL _in_mouse_amx_init
774   0000              	GLOBAL _in_stick_sinclair2
775   0000              	GLOBAL _in_stick_sinclair1
776   0000              	GLOBAL _in_stick_kempston
777   0000              	GLOBAL _in_stick_fuller
778   0000              	GLOBAL _in_stick_cursor
779   0000              	GLOBAL _in_stick_keyboard_fastcall
780   0000              	GLOBAL _in_stick_keyboard
781   0000              	GLOBAL _in_wait_nokey
782   0000              	GLOBAL _in_wait_key
783   0000              	GLOBAL _in_test_key
784   0000              	GLOBAL _in_pause_fastcall
785   0000              	GLOBAL _in_pause
786   0000              	GLOBAL _in_key_scancode_fastcall
787   0000              	GLOBAL _in_key_scancode
788   0000              	GLOBAL _in_key_pressed_fastcall
789   0000              	GLOBAL _in_key_pressed
790   0000              	GLOBAL _in_inkey
791   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
792   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
793   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
794   0000              	GLOBAL _NIRVANAP_HOLE
795   0000              	GLOBAL _NIRVANAP_ISR_HOOK
796   0000              	GLOBAL _scan_map
797   0000              	GLOBAL _map_paper_last
798   0000              	GLOBAL _map_paper_clr
799   0000              	GLOBAL _map_paper
800   0000              	GLOBAL _anim_count
801   0000              	GLOBAL _anim_loop
802   0000              	GLOBAL _anim_end
803   0000              	GLOBAL _anim_int
804   0000              	GLOBAL _anim_tile
805   0000              	GLOBAL _anim_col
806   0000              	GLOBAL _anim_lin
807   0000              	GLOBAL _map_heigth
808   0000              	GLOBAL _map_width
809   0000              	GLOBAL _scr_curr
810   0000              	GLOBAL _scr_map
811   0000              	GLOBAL _spr_kind
812   0000              	GLOBAL _spr_frames
813   0000              	GLOBAL _spr_speed
814   0000              	GLOBAL _spr_tile
815   0000              	GLOBAL _spr_init_tile
816   0000              	GLOBAL _screen_ink
817   0000              	GLOBAL _screen_paper
818   0000              	GLOBAL _game_start_scr
819   0000              	GLOBAL _game_score_top
820   0000              	GLOBAL _player_coins
821   0000              	GLOBAL _player_lives
822   0000              	GLOBAL _game_over
823   0000              	GLOBAL _game_tile_cnt
824   0000              	GLOBAL _game_sound
825   0000              	GLOBAL _game_inf_lives
826   0000              	GLOBAL _game_inmune
827   0000              	GLOBAL _sprite_curr_index
828   0000              	GLOBAL _spr_count
829   0000              	GLOBAL _key_ink
830   0000              	GLOBAL _key_last
831   0000              	GLOBAL _anim_time
832   0000              	GLOBAL _frame_time
833   0000              	GLOBAL _curr_time
834   0000              	GLOBAL _game_conveyor_flag
835   0000              	GLOBAL _game_conveyor_tile
836   0000              	GLOBAL _p_state_a
837   0000              	GLOBAL _p_state
838   0000              	GLOBAL _key_attrib
839   0000              	GLOBAL _game_attrib_osd
840   0000              	GLOBAL _attrib_osd
841   0000              	GLOBAL _attrib_hl
842   0000              	GLOBAL _attrib
843   0000              	GLOBAL _zx_val_asm
844   0000              	GLOBAL _enemies
845   0000              	GLOBAL _tmp_ui
846   0000              	GLOBAL _index1
847   0000              	GLOBAL _index0
848   0000              	GLOBAL _index_tmp
849   0000              	GLOBAL _loop_count
850   0000              	GLOBAL _s_class
851   0000              	GLOBAL _s_row1
852   0000              	GLOBAL _s_col1
853   0000              	GLOBAL _s_col0
854   0000              	GLOBAL _s_lin1
855   0000              	GLOBAL _s_lin0
856   0000              	GLOBAL _s_tile1
857   0000              	GLOBAL _s_tile0
858   0000              	GLOBAL _nirv_sprite_index
859   0000              	GLOBAL _player_kill_index
860   0000              	GLOBAL _player_killed
861   0000              	GLOBAL _player_jump_top
862   0000              	GLOBAL _game_fps_show
863   0000              	GLOBAL _game_debug
864   0000              	GLOBAL _sprite
865   0000              	GLOBAL _fps
866   0000              	GLOBAL _game_tileset
867   0000              	GLOBAL _menu_curr_sel
868   0000              	GLOBAL _game_round_up
869   0000              	GLOBAL _game_playing
870   0000              	GLOBAL _game_exit_lin
871   0000              	GLOBAL _game_exit_col
872   0000              	GLOBAL _game_conveyor_col1
873   0000              	GLOBAL _game_conveyor_col0
874   0000              	GLOBAL _game_conveyor_lin
875   0000              	GLOBAL _game_conveyor_dir
876   0000              	GLOBAL _game_song_play_start
877   0000              	GLOBAL _game_song_play
878   0000              	GLOBAL _game_world
879   0000              	GLOBAL _game_gravity
880   0000              	GLOBAL _player_jumpcount
881   0000              	GLOBAL _player_hit
882   0000              	GLOBAL _player_hit_time
883   0000              	GLOBAL _player_lin_scr
884   0000              	GLOBAL _player_col_scr
885   0000              	GLOBAL _player_jump_count
886   0000              	GLOBAL _player_jump_hack
887   0000              	GLOBAL _player_vel_inc
888   0000              	GLOBAL _player_vel_y0
889   0000              	GLOBAL _player_vel_y
890   0000              	GLOBAL _player_score
891   0000              	GLOBAL _tbuffer
892   0000              	GLOBAL _obj_count
893   0000              	GLOBAL _obj_col
894   0000              	GLOBAL _obj_lin
895   0000              	GLOBAL _spr_timer
896   0000              	GLOBAL _last_time
897   0000              	GLOBAL _colint
898   0000              	GLOBAL _col
899   0000              	GLOBAL _lin
900   0000              	GLOBAL _tile
901   0000              	GLOBAL _value_b
902   0000              	GLOBAL _value_a
903   0000              	GLOBAL _state_a
904   0000              	GLOBAL _state
905   0000              	GLOBAL _class
906   0000              	GLOBAL _dirs
907   0000              	GLOBAL _k1
908   0000              	GLOBAL _joyfunc2
909   0000              	GLOBAL _joyfunc1
910   0000              	GLOBAL _btiles
911   0000              	GLOBAL _v3
912   0000              	GLOBAL _v2
913   0000              	GLOBAL _v1
914   0000              	GLOBAL _v0
915   0000              	GLOBAL _i
916   0000              	GLOBAL _spec128
917   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
918   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
919   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
920   0000              	GLOBAL _ay_fx_06_disparo_fire
921   0000              	GLOBAL _ay_fx_06_disparo_axe
922   0000              	GLOBAL _ay_fx_06_explosion1
923   0000              	GLOBAL _ay_fx_06_efecto
924   0000              	GLOBAL _ay_fx_06_disparo2
925   0000              	GLOBAL _ay_fx_06_disparo1
926   0000              	GLOBAL _ay_fx_06_levelup
927   0000              	GLOBAL _ay_fx_06_magic
928   0000              	GLOBAL _ay_fx_06_sin_mana
929   0000              	GLOBAL _ay_fx_06_salto
930   0000              	GLOBAL _ay_fx_06_puerta
931   0000              	GLOBAL _ay_fx_06_magic1
932   0000              	GLOBAL _ay_fx_06_golpe
933   0000              	GLOBAL _ay_fx_06_explosion
934   0000              	GLOBAL _ay_fx_06_dano_por_toque
935   0000              	GLOBAL _ay_fx_06_coin
936   0000              	GLOBAL _ay_song_06_lotr_level_start
937   0000              	GLOBAL _ay_song_06_lotr_level_complete
938   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
939   0000              	GLOBAL _ay_song_04_ingame0
940   0000              	GLOBAL _ay_song_04_ingame
941   0000              	GLOBAL _hibtiles
942   0000              	GLOBAL _key_map
943   0000              	GLOBAL _paper0
944   0000              	GLOBAL _lenght0
945   0000              	GLOBAL _world0
946   0000              	GLOBAL _spr_init
947   0000              ;--------------------------------------------------------
948   0000              ; special function registers
949   0000              ;--------------------------------------------------------
950   0000              defc _IO_FE	=	0x00fe
951   0000              defc _IO_1FFD	=	0x1ffd
952   0000              defc _IO_7FFD	=	0x7ffd
953   0000              ;--------------------------------------------------------
954   0000              ; ram data
955   0000              ;--------------------------------------------------------
956   0000              	SECTION bss_compiler
957   0000              ;--------------------------------------------------------
958   0000              ; ram data
959   0000              ;--------------------------------------------------------
960   0000              
961   0000              IF 0
962   0000              
963   0000              ; .area _INITIALIZED removed by z88dk
964   0000              
965   0000              
966   0000              ENDIF
967   0000              
968   0000              ;--------------------------------------------------------
969   0000              ; absolute external ram data
970   0000              ;--------------------------------------------------------
971   0000              	SECTION IGNORE
972   0000              ;--------------------------------------------------------
973   0000              ; global & static initialisations
974   0000              ;--------------------------------------------------------
975   0000              	SECTION code_crt_init
976   0000              ;--------------------------------------------------------
977   0000              ; Home
978   0000              ;--------------------------------------------------------
979   0000              	SECTION IGNORE
980   0000              ;--------------------------------------------------------
981   0000              ; code
982   0000              ;--------------------------------------------------------
983   0000              	SECTION code_compiler
984   0000              ;	---------------------------------
985   0000              ; Function game_tick
986   0000              ; ---------------------------------
987   0000              _game_tick:
988   0000  21 00 00    	ld	hl,_curr_time
989   0003  34          	inc	(hl)
990   0004  C2 00 00    	jp	NZ,_zx_isr
991   0007  23          	inc	hl
992   0008  34          	inc	(hl)
993   0009  C3 00 00    	jp  _zx_isr
994   000C              	SECTION code_compiler
995   000C              ;	---------------------------------
996   000C              ; Function game_loop
997   000C              ; ---------------------------------
998   000C              _game_loop:
999   000C  21 00 00    	ld	hl,_player_lives
1000  000F  36 03       	ld	(hl),0x03
1001  0011  21 00 00    	ld	hl,0x0000
1002  0014  22 00 00    	ld	(_player_score),hl
1003  0017  21 00 00    	ld	hl,_game_over
1004  001A  36 00       	ld	(hl),0x00
1005  001C  21 00 00    	ld	hl,_game_round_up
1006  001F  36 00       	ld	(hl),0x00
1007  0021  21 00 00    	ld	hl,_game_world
1008  0024  36 00       	ld	(hl),0x00
1009  0026  21 00 00    	ld	hl,_map_paper
1010  0029  36 00       	ld	(hl),0x00
1011  002B  21 00 00    	ld	hl,_player_lin_scr
1012  002E  36 68       	ld	(hl),0x68
1013  0030  21 00 00    	ld	hl,_player_col_scr
1014  0033  36 02       	ld	(hl),0x02
1015  0035  CD 55 05    	call	_game_round_init
1016  0038              l_game_loop_00119:
1017  0038  3A 00 00    	ld	a,(_game_over)
1018  003B  B7          	or	a, a
1019  003C  C2 F6 00    	jp	NZ, l_game_loop_00122
1020  003F  21 00 00    	ld	hl,_dirs
1021  0042  36 00       	ld	(hl),0x00
1022  0044  21 00 00    	ld	hl,_game_playing
1023  0047  36 01       	ld	(hl),0x01
1024  0049              l_game_loop_00114:
1025  0049  3A 00 00    	ld	a,(_game_round_up)
1026  004C  B7          	or	a, a
1027  004D  C2 DA 00    	jp	NZ, l_game_loop_00116
1028  0050  3A 00 00    	ld	a,(_game_over)
1029  0053  B7          	or	a, a
1030  0054  C2 DA 00    	jp	NZ, l_game_loop_00116
1031  0057  2E 02       	ld	l,0x02
1032  0059  CD 00 00    	call	_zx_border_fastcall
1033  005C  CD 00 00    	call	_enemy_turn
1034  005F  CD 00 00    	call	_player_turn
1035  0062  3A 00 00    	ld	a,(_loop_count)
1036  0065  E6 03       	and	a,0x03
1037  0067  20 03       	jr	NZ,l_game_loop_00102
1038  0069  CD 19 0B    	call	_game_key_paint
1039  006C              l_game_loop_00102:
1040  006C  3A 00 00    	ld	a,(_loop_count)
1041  006F  E6 0F       	and	a,0x0f
1042  0071  20 19       	jr	NZ,l_game_loop_00106
1043  0073  21 00 00    	ld	hl,_game_conveyor_col0
1044  0076  7E          	ld	a, (hl)
1045  0077  B7          	or	a, a
1046  0078  28 03       	jr	Z,l_game_loop_00104
1047  007A  CD 7D 04    	call	_game_anim_conveyor
1048  007D              l_game_loop_00104:
1049  007D  2A FF FF    	ld	hl,(_game_exit_col - 1)
1050  0080  3A 00 00    	ld	a,(_game_exit_lin)
1051  0083  6F          	ld	l,a
1052  0084  E5          	push	hl
1053  0085  21 06 4F    	ld	hl,0x4f06
1054  0088  E5          	push	hl
1055  0089  CD 00 00    	call	_NIRVANAP_spriteT_callee
1056  008C              l_game_loop_00106:
1057  008C  3E 64       	ld	a,0x64
1058  008E  F5          	push	af
1059  008F  33          	inc	sp
1060  0090  21 00 00    	ld	hl,_frame_time
1061  0093  E5          	push	hl
1062  0094  CD EF 0A    	call	_game_check_time
1063  0097  F1          	pop	af
1064  0098  33          	inc	sp
1065  0099  7D          	ld	a, l
1066  009A  B7          	or	a, a
1067  009B  28 0F       	jr	Z,l_game_loop_00110
1068  009D  2A 00 00    	ld	hl,(_curr_time)
1069  00A0  22 00 00    	ld	(_frame_time),hl
1070  00A3  3A 00 00    	ld	a,(_game_fps_show)
1071  00A6  B7          	or	a,a
1072  00A7  28 03       	jr	Z,l_game_loop_00110
1073  00A9  CD F7 00    	call	_game_fps
1074  00AC              l_game_loop_00110:
1075  00AC  21 00 00    	ld	hl,_loop_count
1076  00AF  34          	inc	(hl)
1077  00B0  20 02       	jr	NZ,l_game_loop_00176
1078  00B2  23          	inc	hl
1079  00B3  34          	inc	(hl)
1080  00B4              l_game_loop_00176:
1081  00B4  21 00 00    	ld	hl,_fps
1082  00B7  34          	inc	(hl)
1083  00B8  20 02       	jr	NZ,l_game_loop_00177
1084  00BA  23          	inc	hl
1085  00BB  34          	inc	(hl)
1086  00BC              l_game_loop_00177:
1087  00BC  3A 00 00    	ld	a,(_obj_count)
1088  00BF  21 00 00    	ld	hl,_player_coins
1089  00C2  96          	sub	a, (hl)
1090  00C3  20 84       	jr	NZ,l_game_loop_00114
1091  00C5  3E 80       	ld	a,0x80
1092  00C7  F5          	push	af
1093  00C8  33          	inc	sp
1094  00C9  CD 51 11    	call	_game_flash_exit
1095  00CC  33          	inc	sp
1096  00CD  2E 00       	ld	l,0x00
1097  00CF  CD 00 00    	call	_zx_border_fastcall
1098  00D2  21 00 00    	ld	hl,_obj_count
1099  00D5  36 FF       	ld	(hl),0xff
1100  00D7  C3 49 00    	jp	l_game_loop_00114
1101  00DA              l_game_loop_00116:
1102  00DA  3A 00 00    	ld	a,(_game_round_up)
1103  00DD  B7          	or	a, a
1104  00DE  CA 38 00    	jp	Z, l_game_loop_00119
1105  00E1  21 00 00    	ld	hl,_game_playing
1106  00E4  36 00       	ld	(hl),0x00
1107  00E6  CD 55 05    	call	_game_round_init
1108  00E9  21 00 00    	ld	hl,_game_round_up
1109  00EC  36 00       	ld	(hl),0x00
1110  00EE  21 00 00    	ld	hl,_game_playing
1111  00F1  36 01       	ld	(hl),0x01
1112  00F3  C3 38 00    	jp	l_game_loop_00119
1113  00F6              l_game_loop_00122:
1114  00F6  C9          	ret
1115  00F7              	SECTION code_compiler
1116  00F7              ;	---------------------------------
1117  00F7              ; Function game_fps
1118  00F7              ; ---------------------------------
1119  00F7              _game_fps:
1120  00F7  21 00 00    	ld	hl,_screen_ink
1121  00FA  36 07       	ld	(hl),0x07
1122  00FC  2A 00 00    	ld	hl,(_fps)
1123  00FF  E5          	push	hl
1124  0100  21 17 18    	ld	hl,0x1817
1125  0103  E5          	push	hl
1126  0104  CD 00 00    	call	_zx_print_int
1127  0107  21 00 00    	ld	hl,0x0000
1128  010A  22 00 00    	ld	(_fps),hl
1129  010D  C9          	ret
1130  010E              	SECTION code_compiler
1131  010E              ;	---------------------------------
1132  010E              ; Function game_draw_map
1133  010E              ; ---------------------------------
1134  010E              _game_draw_map:
1135  010E  CD 00 00    	call	___sdcc_enter_ix
1136  0111  F5          	push	af
1137  0112  F5          	push	af
1138  0113  F5          	push	af
1139  0114  F5          	push	af
1140  0115  76          	halt
1141  0116  21 00 00    	ld	hl,_screen_ink
1142  0119  36 07       	ld	(hl),0x07
1143  011B  21 00 00    	ld	hl,_v0
1144  011E  36 00       	ld	(hl),0x00
1145  0120              l_game_draw_map_00101:
1146  0120  21 00 00    	ld	hl,_v0
1147  0123  7E          	ld	a, (hl)
1148  0124  D6 0F       	sub	a,0x0f
1149  0126  30 0E       	jr	NC,l_game_draw_map_00103
1150  0128  3E 00       	ld	a, +((_class) & 0xFF)
1151  012A  86          	add	a, (hl)
1152  012B  4F          	ld	c, a
1153  012C  3E 00       	ld	a, +((_class) / 256)
1154  012E  CE 00       	adc	a,0x00
1155  0130  47          	ld	b, a
1156  0131  AF          	xor	a, a
1157  0132  02          	ld	(bc), a
1158  0133  34          	inc	(hl)
1159  0134  18 EA       	jr	l_game_draw_map_00101
1160  0136              l_game_draw_map_00103:
1161  0136  21 00 00    	ld	hl,_spr_count
1162  0139  36 00       	ld	(hl),0x00
1163  013B  21 00 00    	ld	hl,0x0000
1164  013E  22 00 00    	ld	(_index1),hl
1165  0141  21 00 00    	ld	hl,_s_row1
1166  0144  36 01       	ld	(hl),0x01
1167  0146  21 00 00    	ld	hl,_s_lin1
1168  0149  36 10       	ld	(hl),0x10
1169  014B  21 00 00    	ld	hl,_s_col1
1170  014E  36 00       	ld	(hl),0x00
1171  0150  21 00 00    	ld	hl,_obj_count
1172  0153  36 00       	ld	(hl),0x00
1173  0155  21 00 00    	ld	hl,_game_conveyor_lin
1174  0158  36 00       	ld	(hl),0x00
1175  015A  21 00 00    	ld	hl,_game_conveyor_col0
1176  015D  36 00       	ld	(hl),0x00
1177  015F  21 00 00    	ld	hl,_game_conveyor_col1
1178  0162  36 00       	ld	(hl),0x00
1179  0164  21 00 00    	ld	hl,_game_conveyor_tile
1180  0167  36 11       	ld	(hl),0x11
1181  0169  CD 00 00    	call	_NIRVANAP_stop
1182  016C  21 00 00    	ld	hl,_map_paper
1183  016F  7E          	ld	a, (hl)
1184  0170  0F          	rrca
1185  0171  0F          	rrca
1186  0172  0F          	rrca
1187  0173  E6 1F       	and	a,0x1f
1188  0175  B6          	or	a, (hl)
1189  0176  32 00 00    	ld	(_attrib_hl),a
1190  0179  32 01 00    	ld	((_attrib_hl + 0x0001)),a
1191  017C  32 02 00    	ld	((_attrib_hl + 0x0002)),a
1192  017F  32 03 00    	ld	((_attrib_hl + 0x0003)),a
1193  0182              l_game_draw_map_00129:
1194  0182  21 01 00    	ld	hl,_index1 + 1
1195  0185  7E          	ld	a, (hl)
1196  0186  D6 02       	sub	a,0x02
1197  0188  D2 CE 03    	jp	NC, l_game_draw_map_00131
1198  018B  3E 00       	ld	a, +((_scr_map) & 0xFF)
1199  018D  2B          	dec	hl
1200  018E  86          	add	a, (hl)
1201  018F  DD 77 FE    	ld	(ix-2),a
1202  0192  3E 00       	ld	a, +((_scr_map) / 256)
1203  0194  23          	inc	hl
1204  0195  8E          	adc	a, (hl)
1205  0196  DD 6E FE    	ld	l,(ix-2)
1206  0199  DD 77 FF    	ld	(ix-1),a
1207  019C  67          	ld	h,a
1208  019D  7E          	ld	a, (hl)
1209  019E  DD 77 FD    	ld	(ix-3),a
1210  01A1  3A 00 00    	ld	a,(_s_row1)
1211  01A4  07          	rlca
1212  01A5  07          	rlca
1213  01A6  07          	rlca
1214  01A7  E6 F8       	and	a,0xf8
1215  01A9  DD 77 FC    	ld	(ix-4),a
1216  01AC  DD 7E FD    	ld	a,(ix-3)
1217  01AF  D6 40       	sub	a,0x40
1218  01B1  D2 F2 02    	jp	NC, l_game_draw_map_00125
1219  01B4  3A 00 00    	ld	a,(_s_col1)
1220  01B7  F5          	push	af
1221  01B8  33          	inc	sp
1222  01B9  DD 66 FC    	ld	h,(ix-4)
1223  01BC  DD 6E FD    	ld	l,(ix-3)
1224  01BF  E5          	push	hl
1225  01C0  CD 00 00    	call	_spr_draw8
1226  01C3  F1          	pop	af
1227  01C4  33          	inc	sp
1228  01C5  01 00 00    	ld	bc,_scr_map
1229  01C8  2A 00 00    	ld	hl,(_index1)
1230  01CB  09          	add	hl,bc
1231  01CC  7E          	ld	a,(hl)
1232  01CD  D6 08       	sub	a,0x08
1233  01CF  20 2D       	jr	NZ,l_game_draw_map_00105
1234  01D1  2A 00 00    	ld	hl,(_obj_count)
1235  01D4  26 00       	ld	h,0x00
1236  01D6  01 00 00    	ld	bc,_obj_col
1237  01D9  09          	add	hl,bc
1238  01DA  3A 00 00    	ld	a,(_s_col1)
1239  01DD  77          	ld	(hl),a
1240  01DE  2A 00 00    	ld	hl,(_obj_count)
1241  01E1  26 00       	ld	h,0x00
1242  01E3  01 00 00    	ld	bc,_obj_lin
1243  01E6  09          	add	hl,bc
1244  01E7  3A 00 00    	ld	a,(_s_lin1)
1245  01EA  77          	ld	(hl),a
1246  01EB  21 00 00    	ld	hl,_obj_count
1247  01EE  34          	inc	(hl)
1248  01EF  2A FF FF    	ld	hl,(_s_col1 - 1)
1249  01F2  3A 00 00    	ld	a,(_s_lin1)
1250  01F5  6F          	ld	l,a
1251  01F6  E5          	push	hl
1252  01F7  21 00 00    	ld	hl,_attrib_hl
1253  01FA  E5          	push	hl
1254  01FB  CD 00 00    	call	_NIRVANAP_paintC_callee
1255  01FE              l_game_draw_map_00105:
1256  01FE  2A 00 00    	ld	hl,(_index1)
1257  0201  01 00 00    	ld	bc,_scr_map
1258  0204  09          	add	hl,bc
1259  0205  3A 00 00    	ld	a,(_index1)
1260  0208  E6 1F       	and	a,0x1f
1261  020A  5F          	ld	e,a
1262  020B  7E          	ld	a,(hl)
1263  020C  DD 73 FB    	ld	(ix-5),e
1264  020F  D6 04       	sub	a,0x04
1265  0211  20 04       	jr	NZ,l_game_draw_map_00200
1266  0213  3E 01       	ld	a,0x01
1267  0215  18 01       	jr	l_game_draw_map_00201
1268  0217              l_game_draw_map_00200:
1269  0217  AF          	xor	a,a
1270  0218              l_game_draw_map_00201:
1271  0218  DD 77 FA    	ld	(ix-6),a
1272  021B  3A 00 00    	ld	a,(_game_conveyor_col0)
1273  021E  B7          	or	a, a
1274  021F  28 11       	jr	Z,l_game_draw_map_00107
1275  0221  21 00 00    	ld	hl,_game_conveyor_col1
1276  0224  7E          	ld	a, (hl)
1277  0225  B7          	or	a, a
1278  0226  20 0A       	jr	NZ,l_game_draw_map_00107
1279  0228  DD CB FA 46 	bit	0,(ix-6)
1280  022C  20 04       	jr	NZ,l_game_draw_map_00107
1281  022E  DD 7E FB    	ld	a,(ix-5)
1282  0231  77          	ld	(hl), a
1283  0232              l_game_draw_map_00107:
1284  0232  DD CB FA 46 	bit	0,(ix-6)
1285  0236  28 66       	jr	Z,l_game_draw_map_00116
1286  0238  21 00 00    	ld	hl,_game_conveyor_col0
1287  023B  7E          	ld	a, (hl)
1288  023C  B7          	or	a, a
1289  023D  20 5F       	jr	NZ,l_game_draw_map_00116
1290  023F  DD 7E FB    	ld	a,(ix-5)
1291  0242  77          	ld	(hl), a
1292  0243  11 F8 FF    	ld	de,-8
1293  0246  21 00 00    	ld	hl,_index1
1294  0249  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1295  024C  06 05       	ld	b,0x05
1296  024E              l_game_draw_map_00202:
1297  024E  DD CB F9 3E 	srl	(ix-7)
1298  0252  DD CB F8 1E 	rr	(ix-8)
1299  0256  10 F6       	djnz	l_game_draw_map_00202
1300  0258  DD 7E F8    	ld	a,(ix-8)
1301  025B  07          	rlca
1302  025C  07          	rlca
1303  025D  07          	rlca
1304  025E  E6 F8       	and	a,0xf8
1305  0260  DD 77 F8    	ld	(ix-8),a
1306  0263  C6 08       	add	a,0x08
1307  0265  32 00 00    	ld	(_game_conveyor_lin),a
1308  0268  21 00 00    	ld	hl,_index1
1309  026B  7E          	ld	a, (hl)
1310  026C  C6 01       	add	a,0x01
1311  026E  DD 77 F8    	ld	(ix-8),a
1312  0271  23          	inc	hl
1313  0272  7E          	ld	a, (hl)
1314  0273  CE 00       	adc	a,0x00
1315  0275  DD 77 F9    	ld	(ix-7),a
1316  0278  3E 00       	ld	a, +((_scr_map) & 0xFF)
1317  027A  DD 86 F8    	add	a,(ix-8)
1318  027D  DD 77 F8    	ld	(ix-8),a
1319  0280  3E 00       	ld	a, +((_scr_map) / 256)
1320  0282  DD 8E F9    	adc	a,(ix-7)
1321  0285  DD 77 F9    	ld	(ix-7),a
1322  0288  E1          	pop	hl
1323  0289  7E          	ld	a,(hl)
1324  028A  E5          	push	hl
1325  028B  B7          	or	a, a
1326  028C  28 07       	jr	Z,l_game_draw_map_00111
1327  028E  21 00 00    	ld	hl,_game_conveyor_dir
1328  0291  36 01       	ld	(hl),0x01
1329  0293  18 05       	jr	l_game_draw_map_00112
1330  0295              l_game_draw_map_00111:
1331  0295  21 00 00    	ld	hl,_game_conveyor_dir
1332  0298  36 02       	ld	(hl),0x02
1333  029A              l_game_draw_map_00112:
1334  029A  E1          	pop	hl
1335  029B  E5          	push	hl
1336  029C  36 04       	ld	(hl),0x04
1337  029E              l_game_draw_map_00116:
1338  029E  2A 00 00    	ld	hl,(_index1)
1339  02A1  01 00 00    	ld	bc,_scr_map
1340  02A4  09          	add	hl,bc
1341  02A5  7E          	ld	a,(hl)
1342  02A6  D6 1C       	sub	a,0x1c
1343  02A8  C2 A7 03    	jp	NZ,l_game_draw_map_00126
1344  02AB  3A 00 00    	ld	a,(_index1)
1345  02AE  E6 1F       	and	a,0x1f
1346  02B0  32 00 00    	ld	(_game_exit_col),a
1347  02B3  2A 00 00    	ld	hl,(_index1)
1348  02B6  4D          	ld	c,l
1349  02B7  5C          	ld	e,h
1350  02B8  06 05       	ld	b,0x05
1351  02BA  79          	ld	a,c
1352  02BB              l_game_draw_map_00205:
1353  02BB  CB 3B       	srl	e
1354  02BD  1F          	rra
1355  02BE  10 FB       	djnz	l_game_draw_map_00205
1356  02C0  07          	rlca
1357  02C1  07          	rlca
1358  02C2  07          	rlca
1359  02C3  E6 F8       	and	a,0xf8
1360  02C5  C6 10       	add	a,0x10
1361  02C7  32 00 00    	ld	(_game_exit_lin),a
1362  02CA  ED 4B 00 00 	ld	bc,(_index1)
1363  02CE  03          	inc	bc
1364  02CF  21 00 00    	ld	hl,_scr_map
1365  02D2  09          	add	hl, bc
1366  02D3  36 1D       	ld	(hl),0x1d
1367  02D5  2A 00 00    	ld	hl,(_index1)
1368  02D8  01 20 00    	ld	bc,0x0020
1369  02DB  09          	add	hl,bc
1370  02DC  01 00 00    	ld	bc,_scr_map
1371  02DF  09          	add	hl,bc
1372  02E0  36 1E       	ld	(hl),0x1e
1373  02E2  2A 00 00    	ld	hl,(_index1)
1374  02E5  01 21 00    	ld	bc,0x0021
1375  02E8  09          	add	hl,bc
1376  02E9  01 00 00    	ld	bc,_scr_map
1377  02EC  09          	add	hl,bc
1378  02ED  36 1F       	ld	(hl),0x1f
1379  02EF  C3 A7 03    	jp	l_game_draw_map_00126
1380  02F2              l_game_draw_map_00125:
1381  02F2  DD 7E FD    	ld	a,(ix-3)
1382  02F5  D6 78       	sub	a,0x78
1383  02F7  30 7B       	jr	NC,l_game_draw_map_00122
1384  02F9  2A FF FF    	ld	hl,(_s_col1-1)
1385  02FC  DD 6E FC    	ld	l,(ix-4)
1386  02FF  E5          	push	hl
1387  0300  AF          	xor	a, a
1388  0301  F5          	push	af
1389  0302  33          	inc	sp
1390  0303  CD 00 00    	call	_spr_draw8
1391  0306  F1          	pop	af
1392  0307  33          	inc	sp
1393  0308  CD 00 00    	call	_enemy_init
1394  030B  2A 00 00    	ld	hl,(_sprite)
1395  030E  26 00       	ld	h,0x00
1396  0310  01 00 00    	ld	bc,_value_a
1397  0313  09          	add	hl,bc
1398  0314  4D          	ld	c,l
1399  0315  44          	ld	b,h
1400  0316  2A 00 00    	ld	hl,(_index1)
1401  0319  11 20 00    	ld	de,0x0020
1402  031C  19          	add	hl,de
1403  031D  11 00 00    	ld	de,_scr_map
1404  0320  19          	add	hl, de
1405  0321  7E          	ld	a, (hl)
1406  0322  02          	ld	(bc), a
1407  0323  2A 00 00    	ld	hl,(_sprite)
1408  0326  26 00       	ld	h,0x00
1409  0328  01 00 00    	ld	bc,_value_b
1410  032B  09          	add	hl,bc
1411  032C  4D          	ld	c,l
1412  032D  44          	ld	b,h
1413  032E  2A 00 00    	ld	hl,(_index1)
1414  0331  11 21 00    	ld	de,0x0021
1415  0334  19          	add	hl,de
1416  0335  11 00 00    	ld	de,_scr_map
1417  0338  19          	add	hl, de
1418  0339  7E          	ld	a, (hl)
1419  033A  02          	ld	(bc), a
1420  033B  2A 00 00    	ld	hl,(_index1)
1421  033E  01 00 00    	ld	bc,_scr_map
1422  0341  09          	add	hl,bc
1423  0342  AF          	xor	a,a
1424  0343  77          	ld	(hl),a
1425  0344  2A 00 00    	ld	hl,(_index1)
1426  0347  01 00 00    	ld	bc,_scr_map
1427  034A  09          	add	hl,bc
1428  034B  AF          	xor	a,a
1429  034C  77          	ld	(hl),a
1430  034D  ED 4B 00 00 	ld	bc,(_index1)
1431  0351  03          	inc	bc
1432  0352  21 00 00    	ld	hl,_scr_map
1433  0355  09          	add	hl, bc
1434  0356  36 00       	ld	(hl),0x00
1435  0358  2A 00 00    	ld	hl,(_index1)
1436  035B  01 20 00    	ld	bc,0x0020
1437  035E  09          	add	hl,bc
1438  035F  01 00 00    	ld	bc,_scr_map
1439  0362  09          	add	hl,bc
1440  0363  36 00       	ld	(hl),0x00
1441  0365  2A 00 00    	ld	hl,(_index1)
1442  0368  01 21 00    	ld	bc,0x0021
1443  036B  09          	add	hl,bc
1444  036C  01 00 00    	ld	bc,_scr_map
1445  036F  09          	add	hl,bc
1446  0370  36 00       	ld	(hl),0x00
1447  0372  18 33       	jr	l_game_draw_map_00126
1448  0374              l_game_draw_map_00122:
1449  0374  DD 7E FD    	ld	a,(ix-3)
1450  0377  D6 7F       	sub	a,0x7f
1451  0379  20 2C       	jr	NZ,l_game_draw_map_00126
1452  037B  3A 00 00    	ld	a,(_s_lin1)
1453  037E  C6 F0       	add	a,0xf0
1454  0380  32 00 00    	ld	(_player_lin_scr),a
1455  0383  3A 00 00    	ld	a,(_s_col1)
1456  0386  32 00 00    	ld	(_player_col_scr),a
1457  0389  DD 6E FE    	ld	l,(ix-2)
1458  038C  DD 66 FF    	ld	h,(ix-1)
1459  038F  36 00       	ld	(hl),0x00
1460  0391  3A 00 00    	ld	a,(_s_row1)
1461  0394  07          	rlca
1462  0395  07          	rlca
1463  0396  07          	rlca
1464  0397  E6 F8       	and	a,0xf8
1465  0399  4F          	ld	c, a
1466  039A  3A 00 00    	ld	a, (_s_col1)
1467  039D  47          	ld	b,a
1468  039E  C5          	push	bc
1469  039F  AF          	xor	a, a
1470  03A0  F5          	push	af
1471  03A1  33          	inc	sp
1472  03A2  CD 00 00    	call	_spr_draw8
1473  03A5  F1          	pop	af
1474  03A6  33          	inc	sp
1475  03A7              l_game_draw_map_00126:
1476  03A7  21 00 00    	ld	hl,_index1
1477  03AA  34          	inc	(hl)
1478  03AB  20 02       	jr	NZ,l_game_draw_map_00208
1479  03AD  23          	inc	hl
1480  03AE  34          	inc	(hl)
1481  03AF              l_game_draw_map_00208:
1482  03AF  21 00 00    	ld	hl,_s_col1
1483  03B2  34          	inc	(hl)
1484  03B3  3A 00 00    	ld	a,(_index1)
1485  03B6  E6 1F       	and	a,0x1f
1486  03B8  C2 82 01    	jp	NZ,l_game_draw_map_00129
1487  03BB  21 00 00    	ld	hl,_s_row1
1488  03BE  34          	inc	(hl)
1489  03BF  21 00 00    	ld	hl,_s_lin1
1490  03C2  7E          	ld	a, (hl)
1491  03C3  C6 08       	add	a,0x08
1492  03C5  77          	ld	(hl), a
1493  03C6  21 00 00    	ld	hl,_s_col1
1494  03C9  36 00       	ld	(hl),0x00
1495  03CB  C3 82 01    	jp	l_game_draw_map_00129
1496  03CE              l_game_draw_map_00131:
1497  03CE  CD 00 00    	call	_NIRVANAP_start
1498  03D1  CD 00 00    	call	_game_update_stats
1499  03D4  DD F9       	ld	sp, ix
1500  03D6  DD E1       	pop	ix
1501  03D8  C9          	ret
1502  03D9              	SECTION code_compiler
1503  03D9              ;	---------------------------------
1504  03D9              ; Function game_cell_paint_index
1505  03D9              ; ---------------------------------
1506  03D9              _game_cell_paint_index:
1507  03D9  3A 00 00    	ld	a,(_index1)
1508  03DC  E6 1F       	and	a,0x1f
1509  03DE  32 00 00    	ld	(_s_col1),a
1510  03E1  2A 00 00    	ld	hl,(_index1)
1511  03E4  4D          	ld	c,l
1512  03E5  5C          	ld	e,h
1513  03E6  06 05       	ld	b,0x05
1514  03E8  79          	ld	a,c
1515  03E9              l_game_cell_paint_index_00103:
1516  03E9  CB 3B       	srl	e
1517  03EB  1F          	rra
1518  03EC  10 FB       	djnz	l_game_cell_paint_index_00103
1519  03EE  07          	rlca
1520  03EF  07          	rlca
1521  03F0  07          	rlca
1522  03F1  E6 F8       	and	a,0xf8
1523  03F3  32 00 00    	ld	(_s_lin1),a
1524  03F6  0F          	rrca
1525  03F7  0F          	rrca
1526  03F8  0F          	rrca
1527  03F9  E6 1F       	and	a,0x1f
1528  03FB  3C          	inc	a
1529  03FC  32 00 00    	ld	(_s_row1),a
1530  03FF  21 00 00    	ld	hl,_s_lin1
1531  0402  7E          	ld	a, (hl)
1532  0403  C6 10       	add	a,0x10
1533  0405  77          	ld	(hl), a
1534  0406  3A 00 00    	ld	a,(_s_row1)
1535  0409  07          	rlca
1536  040A  07          	rlca
1537  040B  07          	rlca
1538  040C  E6 F8       	and	a,0xf8
1539  040E  4F          	ld	c, a
1540  040F  11 00 00    	ld	de,_scr_map
1541  0412  2A 00 00    	ld	hl,(_index1)
1542  0415  19          	add	hl,de
1543  0416  46          	ld	b, (hl)
1544  0417  3A 00 00    	ld	a,(_s_col1)
1545  041A  F5          	push	af
1546  041B  33          	inc	sp
1547  041C  79          	ld	a, c
1548  041D  48          	ld	c,b
1549  041E  47          	ld	b,a
1550  041F  C5          	push	bc
1551  0420  CD 00 00    	call	_spr_draw8
1552  0423  F1          	pop	af
1553  0424  33          	inc	sp
1554  0425  C9          	ret
1555  0426              	SECTION code_compiler
1556  0426              ;	---------------------------------
1557  0426              ; Function game_cell_paint
1558  0426              ; ---------------------------------
1559  0426              _game_cell_paint:
1560  0426  3A 00 00    	ld	a,(_s_row1)
1561  0429  07          	rlca
1562  042A  07          	rlca
1563  042B  07          	rlca
1564  042C  E6 F8       	and	a,0xf8
1565  042E  57          	ld	d, a
1566  042F  01 00 00    	ld	bc,_scr_map
1567  0432  2A 00 00    	ld	hl,(_index1)
1568  0435  09          	add	hl,bc
1569  0436  4D          	ld	c,l
1570  0437  46          	ld	b, (hl)
1571  0438  3A 00 00    	ld	a,(_s_col1)
1572  043B  5A          	ld	e,d
1573  043C  57          	ld	d,a
1574  043D  D5          	push	de
1575  043E  C5          	push	bc
1576  043F  33          	inc	sp
1577  0440  CD 00 00    	call	_spr_draw8
1578  0443  F1          	pop	af
1579  0444  33          	inc	sp
1580  0445  C9          	ret
1581  0446              	SECTION code_compiler
1582  0446              ;	---------------------------------
1583  0446              ; Function game_end is a stub
1584  0446              ; ---------------------------------
1585  0446              EXTERN l_ret
1586  0446              defc _game_end = l_ret
1587  0446              	SECTION code_compiler
1588  0446              ;	---------------------------------
1589  0446              ; Function game_print_footer
1590  0446              ; ---------------------------------
1591  0446              _game_print_footer:
1592  0446  3A 00 00    	ld	a,(_game_fps_show)
1593  0449  B7          	or	a, a
1594  044A  28 10       	jr	Z,l_game_print_footer_00102
1595  044C  21 00 00    	ld	hl,_screen_ink
1596  044F  36 07       	ld	(hl),0x07
1597  0451  21 00 00    	ld	hl,___str_0
1598  0454  E5          	push	hl
1599  0455  21 17 14    	ld	hl,0x1417
1600  0458  E5          	push	hl
1601  0459  CD 00 00    	call	_zx_print_str
1602  045C              l_game_print_footer_00102:
1603  045C  CD 00 00    	call	_game_update_stats
1604  045F  C9          	ret
1605  0460              	SECTION rodata_compiler
1606  0000              ___str_0:
1607  0000  4C 50 53 3A 	DEFM "LPS:"
1608  0004  00          	DEFB 0x00
1609  0005              	SECTION code_compiler
1610  0460              ;	---------------------------------
1611  0460              ; Function game_print_score is a stub
1612  0460              ; ---------------------------------
1613  0460              EXTERN l_ret
1614  0460              defc _game_print_score = l_ret
1615  0460              	SECTION code_compiler
1616  0460              ;	---------------------------------
1617  0460              ; Function game_cls
1618  0460              ; ---------------------------------
1619  0460              _game_cls:
1620  0460  CD 00 00    	call	_NIRVANAP_stop
1621  0463  2E 00       	ld	l,0x00
1622  0465  CD 00 00    	call	_zx_cls_fastcall
1623  0468  21 00 00    	ld	hl,_screen_ink
1624  046B  36 07       	ld	(hl),0x07
1625  046D  C3 00 00    	jp  _NIRVANAP_start
1626  0470              	SECTION code_compiler
1627  0470              ;	---------------------------------
1628  0470              ; Function game_update_stats is a stub
1629  0470              ; ---------------------------------
1630  0470              EXTERN l_ret
1631  0470              defc _game_update_stats = l_ret
1632  0470              	SECTION code_compiler
1633  0470              ;	---------------------------------
1634  0470              ; Function game_start_timer
1635  0470              ; ---------------------------------
1636  0470              _game_start_timer:
1637  0470  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1638  0473  36 CD       	ld	(hl),0xcd
1639  0475  23          	inc	hl
1640  0476  11 00 00    	ld	de,_game_tick
1641  0479  73          	ld	(hl), e
1642  047A  23          	inc	hl
1643  047B  72          	ld	(hl), d
1644  047C  C9          	ret
1645  047D              	SECTION code_compiler
1646  047D              ;	---------------------------------
1647  047D              ; Function game_anim_conveyor
1648  047D              ; ---------------------------------
1649  047D              _game_anim_conveyor:
1650  047D  CD 00 00    	call	___sdcc_enter_ix
1651  0480  F5          	push	af
1652  0481  F5          	push	af
1653  0482  3B          	dec	sp
1654  0483  01 60 00    	ld	bc,_btiles+96
1655  0486  3A 00 00    	ld	a,(_game_conveyor_lin)
1656  0489  32 00 00    	ld	(_i),a
1657  048C  C6 08       	add	a,0x08
1658  048E  DD 77 FB    	ld	(ix-5),a
1659  0491  0A          	ld	a, (bc)
1660  0492  5F          	ld	e, a
1661  0493  3A 00 00    	ld	a,(_game_conveyor_dir)
1662  0496  3D          	dec	a
1663  0497  20 14       	jr	NZ,l_game_anim_conveyor_00102
1664  0499  7B          	ld	a, e
1665  049A  87          	add	a, a
1666  049B  57          	ld	d, a
1667  049C  7B          	ld	a, e
1668  049D  07          	rlca
1669  049E  E6 01       	and	a,0x01
1670  04A0  B2          	or	a, d
1671  04A1  57          	ld	d,a
1672  04A2  02          	ld	(bc),a
1673  04A3  87          	add	a, a
1674  04A4  5F          	ld	e, a
1675  04A5  7A          	ld	a, d
1676  04A6  07          	rlca
1677  04A7  E6 01       	and	a,0x01
1678  04A9  B3          	or	a, e
1679  04AA  02          	ld	(bc), a
1680  04AB  18 14       	jr	l_game_anim_conveyor_00121
1681  04AD              l_game_anim_conveyor_00102:
1682  04AD  7B          	ld	a, e
1683  04AE  0F          	rrca
1684  04AF  E6 80       	and	a,0x80
1685  04B1  6F          	ld	l, a
1686  04B2  7B          	ld	a,e
1687  04B3  CB 3F       	srl	a
1688  04B5  B5          	or	a, l
1689  04B6  5F          	ld	e,a
1690  04B7  02          	ld	(bc),a
1691  04B8  0F          	rrca
1692  04B9  E6 80       	and	a,0x80
1693  04BB  6F          	ld	l, a
1694  04BC  CB 3B       	srl	e
1695  04BE  7D          	ld	a, l
1696  04BF  B3          	or	a, e
1697  04C0  02          	ld	(bc), a
1698  04C1              l_game_anim_conveyor_00121:
1699  04C1              l_game_anim_conveyor_00112:
1700  04C1  3A 00 00    	ld	a,(_i)
1701  04C4  DD 96 FB    	sub	a,(ix-5)
1702  04C7  D2 50 05    	jp	NC, l_game_anim_conveyor_00115
1703  04CA  3A 00 00    	ld	a,(_game_conveyor_col0)
1704  04CD  DD 77 FC    	ld	(ix-4),a
1705  04D0  2A 00 00    	ld	hl,(_i)
1706  04D3  CD 00 00    	call	_zx_py2saddr_fastcall
1707  04D6  EB          	ex	de,hl
1708  04D7  7B          	ld	a, e
1709  04D8  DD 86 FC    	add	a,(ix-4)
1710  04DB  5F          	ld	e, a
1711  04DC  7A          	ld	a, d
1712  04DD  CE 00       	adc	a,0x00
1713  04DF  57          	ld	d, a
1714  04E0  DD 7E FC    	ld	a,(ix-4)
1715  04E3  DD 77 FF    	ld	(ix-1),a
1716  04E6              l_game_anim_conveyor_00104:
1717  04E6  DD 7E FF    	ld	a,(ix-1)
1718  04E9  21 00 00    	ld	hl,_game_conveyor_col1
1719  04EC  96          	sub	a, (hl)
1720  04ED  30 08       	jr	NC,l_game_anim_conveyor_00106
1721  04EF  0A          	ld	a, (bc)
1722  04F0  12          	ld	(de), a
1723  04F1  13          	inc	de
1724  04F2  DD 34 FF    	inc	(ix-1)
1725  04F5  18 EF       	jr	l_game_anim_conveyor_00104
1726  04F7              l_game_anim_conveyor_00106:
1727  04F7  03          	inc	bc
1728  04F8  03          	inc	bc
1729  04F9  21 00 00    	ld	hl,_i
1730  04FC  34          	inc	(hl)
1731  04FD  3A 00 00    	ld	a,(_game_conveyor_lin)
1732  0500  5F          	ld	e,a
1733  0501  16 00       	ld	d,0x00
1734  0503  13          	inc	de
1735  0504  13          	inc	de
1736  0505  DD 73 FD    	ld	(ix-3),e
1737  0508  DD 72 FE    	ld	(ix-2),d
1738  050B  3A 00 00    	ld	a,(_i)
1739  050E  5F          	ld	e,a
1740  050F  16 00       	ld	d,0x00
1741  0511  DD 7E FD    	ld	a,(ix-3)
1742  0514  93          	sub	a, e
1743  0515  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1744  0517  DD 7E FE    	ld	a,(ix-2)
1745  051A  92          	sub	a, d
1746  051B  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1747  051D  0A          	ld	a, (bc)
1748  051E  5F          	ld	e, a
1749  051F  3A 00 00    	ld	a,(_game_conveyor_dir)
1750  0522  3D          	dec	a
1751  0523  20 16       	jr	NZ,l_game_anim_conveyor_00108
1752  0525  7B          	ld	a, e
1753  0526  0F          	rrca
1754  0527  E6 80       	and	a,0x80
1755  0529  57          	ld	d, a
1756  052A  CB 3B       	srl	e
1757  052C  7A          	ld	a, d
1758  052D  B3          	or	a, e
1759  052E  57          	ld	d,a
1760  052F  02          	ld	(bc),a
1761  0530  0F          	rrca
1762  0531  E6 80       	and	a,0x80
1763  0533  5F          	ld	e, a
1764  0534  CB 3A       	srl	d
1765  0536  7B          	ld	a, e
1766  0537  B2          	or	a, d
1767  0538  02          	ld	(bc), a
1768  0539  18 86       	jr	l_game_anim_conveyor_00112
1769  053B              l_game_anim_conveyor_00108:
1770  053B  7B          	ld	a, e
1771  053C  87          	add	a, a
1772  053D  57          	ld	d, a
1773  053E  7B          	ld	a, e
1774  053F  07          	rlca
1775  0540  E6 01       	and	a,0x01
1776  0542  B2          	or	a, d
1777  0543  5F          	ld	e,a
1778  0544  02          	ld	(bc),a
1779  0545  87          	add	a, a
1780  0546  57          	ld	d, a
1781  0547  7B          	ld	a, e
1782  0548  07          	rlca
1783  0549  E6 01       	and	a,0x01
1784  054B  B2          	or	a, d
1785  054C  02          	ld	(bc), a
1786  054D  C3 C1 04    	jp	l_game_anim_conveyor_00112
1787  0550              l_game_anim_conveyor_00115:
1788  0550  DD F9       	ld	sp, ix
1789  0552  DD E1       	pop	ix
1790  0554  C9          	ret
1791  0555              	SECTION code_compiler
1792  0555              ;	---------------------------------
1793  0555              ; Function game_round_init
1794  0555              ; ---------------------------------
1795  0555              _game_round_init:
1796  0555  CD 00 00    	call	___sdcc_enter_ix
1797  0558  21 C0 FF    	ld	hl, -64
1798  055B  39          	add	hl, sp
1799  055C  F9          	ld	sp, hl
1800  055D  21 14 00    	ld	hl,0x0014
1801  0560  39          	add	hl, sp
1802  0561  DD 75 FC    	ld	(ix-4),l
1803  0564  DD 74 FD    	ld	(ix-3),h
1804  0567  36 05       	ld	(hl), +((___str_1) & 0xFF)
1805  0569  23          	inc	hl
1806  056A  36 00       	ld	(hl), +((___str_1) / 256)
1807  056C  DD 4E FC    	ld	c,(ix-4)
1808  056F  DD 46 FD    	ld	b,(ix-3)
1809  0572  03          	inc	bc
1810  0573  03          	inc	bc
1811  0574  3E 14       	ld	a, +((___str_2) & 0xFF)
1812  0576  02          	ld	(bc), a
1813  0577  03          	inc	bc
1814  0578  3E 00       	ld	a, +((___str_2) / 256)
1815  057A  02          	ld	(bc), a
1816  057B  DD 7E FC    	ld	a,(ix-4)
1817  057E  C6 04       	add	a,0x04
1818  0580  4F          	ld	c, a
1819  0581  DD 7E FD    	ld	a,(ix-3)
1820  0584  CE 00       	adc	a,0x00
1821  0586  47          	ld	b, a
1822  0587  3E 22       	ld	a, +((___str_3) & 0xFF)
1823  0589  02          	ld	(bc), a
1824  058A  03          	inc	bc
1825  058B  3E 00       	ld	a, +((___str_3) / 256)
1826  058D  02          	ld	(bc), a
1827  058E  DD 7E FC    	ld	a,(ix-4)
1828  0591  C6 06       	add	a,0x06
1829  0593  4F          	ld	c, a
1830  0594  DD 7E FD    	ld	a,(ix-3)
1831  0597  CE 00       	adc	a,0x00
1832  0599  47          	ld	b, a
1833  059A  3E 2C       	ld	a, +((___str_4) & 0xFF)
1834  059C  02          	ld	(bc), a
1835  059D  03          	inc	bc
1836  059E  3E 00       	ld	a, +((___str_4) / 256)
1837  05A0  02          	ld	(bc), a
1838  05A1  DD 7E FC    	ld	a,(ix-4)
1839  05A4  C6 08       	add	a,0x08
1840  05A6  4F          	ld	c, a
1841  05A7  DD 7E FD    	ld	a,(ix-3)
1842  05AA  CE 00       	adc	a,0x00
1843  05AC  47          	ld	b, a
1844  05AD  3E 47       	ld	a, +((___str_5) & 0xFF)
1845  05AF  02          	ld	(bc), a
1846  05B0  03          	inc	bc
1847  05B1  3E 00       	ld	a, +((___str_5) / 256)
1848  05B3  02          	ld	(bc), a
1849  05B4  DD 7E FC    	ld	a,(ix-4)
1850  05B7  C6 0A       	add	a,0x0a
1851  05B9  4F          	ld	c, a
1852  05BA  DD 7E FD    	ld	a,(ix-3)
1853  05BD  CE 00       	adc	a,0x00
1854  05BF  47          	ld	b, a
1855  05C0  3E 55       	ld	a, +((___str_6) & 0xFF)
1856  05C2  02          	ld	(bc), a
1857  05C3  03          	inc	bc
1858  05C4  3E 00       	ld	a, +((___str_6) / 256)
1859  05C6  02          	ld	(bc), a
1860  05C7  DD 7E FC    	ld	a,(ix-4)
1861  05CA  C6 0C       	add	a,0x0c
1862  05CC  4F          	ld	c, a
1863  05CD  DD 7E FD    	ld	a,(ix-3)
1864  05D0  CE 00       	adc	a,0x00
1865  05D2  47          	ld	b, a
1866  05D3  3E 66       	ld	a, +((___str_7) & 0xFF)
1867  05D5  02          	ld	(bc), a
1868  05D6  03          	inc	bc
1869  05D7  3E 00       	ld	a, +((___str_7) / 256)
1870  05D9  02          	ld	(bc), a
1871  05DA  DD 7E FC    	ld	a,(ix-4)
1872  05DD  C6 0E       	add	a,0x0e
1873  05DF  4F          	ld	c, a
1874  05E0  DD 7E FD    	ld	a,(ix-3)
1875  05E3  CE 00       	adc	a,0x00
1876  05E5  47          	ld	b, a
1877  05E6  3E 6E       	ld	a, +((___str_8) & 0xFF)
1878  05E8  02          	ld	(bc), a
1879  05E9  03          	inc	bc
1880  05EA  3E 00       	ld	a, +((___str_8) / 256)
1881  05EC  02          	ld	(bc), a
1882  05ED  DD 7E FC    	ld	a,(ix-4)
1883  05F0  C6 10       	add	a,0x10
1884  05F2  4F          	ld	c, a
1885  05F3  DD 7E FD    	ld	a,(ix-3)
1886  05F6  CE 00       	adc	a,0x00
1887  05F8  47          	ld	b, a
1888  05F9  3E 8F       	ld	a, +((___str_9) & 0xFF)
1889  05FB  02          	ld	(bc), a
1890  05FC  03          	inc	bc
1891  05FD  3E 00       	ld	a, +((___str_9) / 256)
1892  05FF  02          	ld	(bc), a
1893  0600  DD 7E FC    	ld	a,(ix-4)
1894  0603  C6 12       	add	a,0x12
1895  0605  4F          	ld	c, a
1896  0606  DD 7E FD    	ld	a,(ix-3)
1897  0609  CE 00       	adc	a,0x00
1898  060B  47          	ld	b, a
1899  060C  3E A1       	ld	a, +((___str_10) & 0xFF)
1900  060E  02          	ld	(bc), a
1901  060F  03          	inc	bc
1902  0610  3E 00       	ld	a, +((___str_10) / 256)
1903  0612  02          	ld	(bc), a
1904  0613  DD 7E FC    	ld	a,(ix-4)
1905  0616  C6 14       	add	a,0x14
1906  0618  4F          	ld	c, a
1907  0619  DD 7E FD    	ld	a,(ix-3)
1908  061C  CE 00       	adc	a,0x00
1909  061E  47          	ld	b, a
1910  061F  3E B5       	ld	a, +((___str_11) & 0xFF)
1911  0621  02          	ld	(bc), a
1912  0622  03          	inc	bc
1913  0623  3E 00       	ld	a, +((___str_11) / 256)
1914  0625  02          	ld	(bc), a
1915  0626  DD 7E FC    	ld	a,(ix-4)
1916  0629  C6 16       	add	a,0x16
1917  062B  4F          	ld	c, a
1918  062C  DD 7E FD    	ld	a,(ix-3)
1919  062F  CE 00       	adc	a,0x00
1920  0631  47          	ld	b, a
1921  0632  3E D5       	ld	a, +((___str_12) & 0xFF)
1922  0634  02          	ld	(bc), a
1923  0635  03          	inc	bc
1924  0636  3E 00       	ld	a, +((___str_12) / 256)
1925  0638  02          	ld	(bc), a
1926  0639  DD 7E FC    	ld	a,(ix-4)
1927  063C  C6 18       	add	a,0x18
1928  063E  4F          	ld	c, a
1929  063F  DD 7E FD    	ld	a,(ix-3)
1930  0642  CE 00       	adc	a,0x00
1931  0644  47          	ld	b, a
1932  0645  3E E2       	ld	a, +((___str_13) & 0xFF)
1933  0647  02          	ld	(bc), a
1934  0648  03          	inc	bc
1935  0649  3E 00       	ld	a, +((___str_13) / 256)
1936  064B  02          	ld	(bc), a
1937  064C  DD 7E FC    	ld	a,(ix-4)
1938  064F  C6 1A       	add	a,0x1a
1939  0651  4F          	ld	c, a
1940  0652  DD 7E FD    	ld	a,(ix-3)
1941  0655  CE 00       	adc	a,0x00
1942  0657  47          	ld	b, a
1943  0658  3E F0       	ld	a, +((___str_14) & 0xFF)
1944  065A  02          	ld	(bc), a
1945  065B  03          	inc	bc
1946  065C  3E 00       	ld	a, +((___str_14) / 256)
1947  065E  02          	ld	(bc), a
1948  065F  DD 7E FC    	ld	a,(ix-4)
1949  0662  C6 1C       	add	a,0x1c
1950  0664  4F          	ld	c, a
1951  0665  DD 7E FD    	ld	a,(ix-3)
1952  0668  CE 00       	adc	a,0x00
1953  066A  47          	ld	b, a
1954  066B  3E 06       	ld	a, +((___str_15) & 0xFF)
1955  066D  02          	ld	(bc), a
1956  066E  03          	inc	bc
1957  066F  3E 01       	ld	a, +((___str_15) / 256)
1958  0671  02          	ld	(bc), a
1959  0672  DD 7E FC    	ld	a,(ix-4)
1960  0675  C6 1E       	add	a,0x1e
1961  0677  4F          	ld	c, a
1962  0678  DD 7E FD    	ld	a,(ix-3)
1963  067B  CE 00       	adc	a,0x00
1964  067D  47          	ld	b, a
1965  067E  3E 1A       	ld	a, +((___str_16) & 0xFF)
1966  0680  02          	ld	(bc), a
1967  0681  03          	inc	bc
1968  0682  3E 01       	ld	a, +((___str_16) / 256)
1969  0684  02          	ld	(bc), a
1970  0685  DD 7E FC    	ld	a,(ix-4)
1971  0688  C6 20       	add	a,0x20
1972  068A  4F          	ld	c, a
1973  068B  DD 7E FD    	ld	a,(ix-3)
1974  068E  CE 00       	adc	a,0x00
1975  0690  47          	ld	b, a
1976  0691  3E 39       	ld	a, +((___str_17) & 0xFF)
1977  0693  02          	ld	(bc), a
1978  0694  03          	inc	bc
1979  0695  3E 01       	ld	a, +((___str_17) / 256)
1980  0697  02          	ld	(bc), a
1981  0698  DD 7E FC    	ld	a,(ix-4)
1982  069B  C6 22       	add	a,0x22
1983  069D  4F          	ld	c, a
1984  069E  DD 7E FD    	ld	a,(ix-3)
1985  06A1  CE 00       	adc	a,0x00
1986  06A3  47          	ld	b, a
1987  06A4  3E 4B       	ld	a, +((___str_18) & 0xFF)
1988  06A6  02          	ld	(bc), a
1989  06A7  03          	inc	bc
1990  06A8  3E 01       	ld	a, +((___str_18) / 256)
1991  06AA  02          	ld	(bc), a
1992  06AB  DD 7E FC    	ld	a,(ix-4)
1993  06AE  C6 24       	add	a,0x24
1994  06B0  4F          	ld	c, a
1995  06B1  DD 7E FD    	ld	a,(ix-3)
1996  06B4  CE 00       	adc	a,0x00
1997  06B6  47          	ld	b, a
1998  06B7  3E 5E       	ld	a, +((___str_19) & 0xFF)
1999  06B9  02          	ld	(bc), a
2000  06BA  03          	inc	bc
2001  06BB  3E 01       	ld	a, +((___str_19) / 256)
2002  06BD  02          	ld	(bc), a
2003  06BE  DD 7E FC    	ld	a,(ix-4)
2004  06C1  C6 26       	add	a,0x26
2005  06C3  4F          	ld	c, a
2006  06C4  DD 7E FD    	ld	a,(ix-3)
2007  06C7  CE 00       	adc	a,0x00
2008  06C9  47          	ld	b, a
2009  06CA  3E 67       	ld	a, +((___str_20) & 0xFF)
2010  06CC  02          	ld	(bc), a
2011  06CD  03          	inc	bc
2012  06CE  3E 01       	ld	a, +((___str_20) / 256)
2013  06D0  02          	ld	(bc), a
2014  06D1  21 00 00    	ld	hl,0x0000
2015  06D4  39          	add	hl, sp
2016  06D5  DD 75 FE    	ld	(ix-2),l
2017  06D8  DD 74 FF    	ld	(ix-1),h
2018  06DB  36 0E       	ld	(hl),0x0e
2019  06DD  23          	inc	hl
2020  06DE  36 0D       	ld	(hl),0x0d
2021  06E0  23          	inc	hl
2022  06E1  36 09       	ld	(hl),0x09
2023  06E3  23          	inc	hl
2024  06E4  36 1A       	ld	(hl),0x1a
2025  06E6  DD 6E FE    	ld	l,(ix-2)
2026  06E9  DD 66 FF    	ld	h,(ix-1)
2027  06EC  11 04 00    	ld	de,0x0004
2028  06EF  19          	add	hl,de
2029  06F0  36 0D       	ld	(hl),0x0d
2030  06F2  DD 6E FE    	ld	l,(ix-2)
2031  06F5  DD 66 FF    	ld	h,(ix-1)
2032  06F8  11 05 00    	ld	de,0x0005
2033  06FB  19          	add	hl,de
2034  06FC  36 10       	ld	(hl),0x10
2035  06FE  DD 6E FE    	ld	l,(ix-2)
2036  0701  DD 66 FF    	ld	h,(ix-1)
2037  0704  11 06 00    	ld	de,0x0006
2038  0707  19          	add	hl,de
2039  0708  36 07       	ld	(hl),0x07
2040  070A  DD 6E FE    	ld	l,(ix-2)
2041  070D  DD 66 FF    	ld	h,(ix-1)
2042  0710  11 07 00    	ld	de,0x0007
2043  0713  19          	add	hl,de
2044  0714  36 20       	ld	(hl),0x20
2045  0716  DD 6E FE    	ld	l,(ix-2)
2046  0719  DD 66 FF    	ld	h,(ix-1)
2047  071C  11 08 00    	ld	de,0x0008
2048  071F  19          	add	hl,de
2049  0720  36 11       	ld	(hl),0x11
2050  0722  DD 6E FE    	ld	l,(ix-2)
2051  0725  DD 66 FF    	ld	h,(ix-1)
2052  0728  11 09 00    	ld	de,0x0009
2053  072B  19          	add	hl,de
2054  072C  36 13       	ld	(hl),0x13
2055  072E  DD 6E FE    	ld	l,(ix-2)
2056  0731  DD 66 FF    	ld	h,(ix-1)
2057  0734  11 0A 00    	ld	de,0x000a
2058  0737  19          	add	hl,de
2059  0738  36 1F       	ld	(hl),0x1f
2060  073A  DD 6E FE    	ld	l,(ix-2)
2061  073D  DD 66 FF    	ld	h,(ix-1)
2062  0740  11 0B 00    	ld	de,0x000b
2063  0743  19          	add	hl,de
2064  0744  36 0C       	ld	(hl),0x0c
2065  0746  DD 6E FE    	ld	l,(ix-2)
2066  0749  DD 66 FF    	ld	h,(ix-1)
2067  074C  11 0C 00    	ld	de,0x000c
2068  074F  19          	add	hl,de
2069  0750  36 0D       	ld	(hl),0x0d
2070  0752  DD 6E FE    	ld	l,(ix-2)
2071  0755  DD 66 FF    	ld	h,(ix-1)
2072  0758  11 0D 00    	ld	de,0x000d
2073  075B  19          	add	hl,de
2074  075C  36 15       	ld	(hl),0x15
2075  075E  DD 6E FE    	ld	l,(ix-2)
2076  0761  DD 66 FF    	ld	h,(ix-1)
2077  0764  11 0E 00    	ld	de,0x000e
2078  0767  19          	add	hl,de
2079  0768  36 13       	ld	(hl),0x13
2080  076A  DD 6E FE    	ld	l,(ix-2)
2081  076D  DD 66 FF    	ld	h,(ix-1)
2082  0770  11 0F 00    	ld	de,0x000f
2083  0773  19          	add	hl,de
2084  0774  36 1E       	ld	(hl),0x1e
2085  0776  DD 6E FE    	ld	l,(ix-2)
2086  0779  DD 66 FF    	ld	h,(ix-1)
2087  077C  11 10 00    	ld	de,0x0010
2088  077F  19          	add	hl,de
2089  0780  36 11       	ld	(hl),0x11
2090  0782  DD 6E FE    	ld	l,(ix-2)
2091  0785  DD 66 FF    	ld	h,(ix-1)
2092  0788  11 11 00    	ld	de,0x0011
2093  078B  19          	add	hl,de
2094  078C  36 12       	ld	(hl),0x12
2095  078E  DD 6E FE    	ld	l,(ix-2)
2096  0791  DD 66 FF    	ld	h,(ix-1)
2097  0794  11 12 00    	ld	de,0x0012
2098  0797  19          	add	hl,de
2099  0798  36 08       	ld	(hl),0x08
2100  079A  DD 6E FE    	ld	l,(ix-2)
2101  079D  DD 66 FF    	ld	h,(ix-1)
2102  07A0  11 13 00    	ld	de,0x0013
2103  07A3  19          	add	hl,de
2104  07A4  36 14       	ld	(hl),0x14
2105  07A6  21 00 00    	ld	hl,0x0000
2106  07A9  22 00 00    	ld	(_loop_count),hl
2107  07AC  21 00 00    	ld	hl,0
2108  07AF  22 00 00    	ld	(_curr_time),hl
2109  07B2  21 00 00    	ld	hl,0x0000
2110  07B5  22 00 00    	ld	(_frame_time),hl
2111  07B8  21 00 00    	ld	hl,_player_coins
2112  07BB  36 00       	ld	(hl),0x00
2113  07BD  21 00 00    	ld	hl,_game_conveyor_flag
2114  07C0  36 00       	ld	(hl),0x00
2115  07C2  21 00 00    	ld	hl,_i
2116  07C5  36 00       	ld	(hl),0x00
2117  07C7              l_game_round_init_00111:
2118  07C7  21 00 00    	ld	hl,0x0000
2119  07CA  E5          	push	hl
2120  07CB  AF          	xor	a, a
2121  07CC  2A 00 00    	ld	hl,(_i)
2122  07CF  67          	ld	h,a
2123  07D0  E5          	push	hl
2124  07D1  CD 00 00    	call	_NIRVANAP_spriteT_callee
2125  07D4  21 00 00    	ld	hl,_i
2126  07D7  7E          	ld	a,(hl)
2127  07D8  3C          	inc	a
2128  07D9  77          	ld	(hl),a
2129  07DA  D6 08       	sub	a,0x08
2130  07DC  38 E9       	jr	C,l_game_round_init_00111
2131  07DE  36 00       	ld	(hl),0x00
2132  07E0  01 00 00    	ld	bc,_spr_init_tile+0
2133  07E3              l_game_round_init_00113:
2134  07E3  79          	ld	a, c
2135  07E4  21 00 00    	ld	hl,_i
2136  07E7  86          	add	a, (hl)
2137  07E8  5F          	ld	e, a
2138  07E9  78          	ld	a, b
2139  07EA  CE 00       	adc	a,0x00
2140  07EC  57          	ld	d, a
2141  07ED  AF          	xor	a, a
2142  07EE  12          	ld	(de), a
2143  07EF  7E          	ld	a,(hl)
2144  07F0  3C          	inc	a
2145  07F1  77          	ld	(hl),a
2146  07F2  D6 06       	sub	a,0x06
2147  07F4  38 ED       	jr	C,l_game_round_init_00113
2148  07F6  76          	halt
2149  07F7  C5          	push	bc
2150  07F8  CD 00 00    	call	_spr_clear_scr
2151  07FB  C1          	pop	bc
2152  07FC  21 00 00    	ld	hl,_v0
2153  07FF  36 00       	ld	(hl),0x00
2154  0801              l_game_round_init_00103:
2155  0801  21 00 00    	ld	hl,_v0
2156  0804  7E          	ld	a, (hl)
2157  0805  D6 18       	sub	a,0x18
2158  0807  30 0C       	jr	NC,l_game_round_init_00105
2159  0809  79          	ld	a, c
2160  080A  86          	add	a, (hl)
2161  080B  5F          	ld	e, a
2162  080C  78          	ld	a, b
2163  080D  CE 00       	adc	a,0x00
2164  080F  57          	ld	d, a
2165  0810  AF          	xor	a, a
2166  0811  12          	ld	(de), a
2167  0812  34          	inc	(hl)
2168  0813  18 EC       	jr	l_game_round_init_00103
2169  0815              l_game_round_init_00105:
2170  0815  21 28 08    	ld	hl,0x0828
2171  0818  E5          	push	hl
2172  0819  CD 08 12    	call	_game_copy_tile_std
2173  081C  F1          	pop	af
2174  081D  7D          	ld	a,l
2175  081E  32 00 00    	ld	(_game_tile_cnt),a
2176  0821  21 00 00    	ld	hl,_key_last
2177  0824  36 00       	ld	(hl),0x00
2178  0826  21 00 00    	ld	hl,_key_ink
2179  0829  36 06       	ld	(hl),0x06
2180  082B  21 00 00    	ld	hl,_i
2181  082E  36 00       	ld	(hl),0x00
2182  0830              l_game_round_init_00106:
2183  0830  21 00 00    	ld	hl,_i
2184  0833  7E          	ld	a, (hl)
2185  0834  D6 08       	sub	a,0x08
2186  0836  30 1B       	jr	NC,l_game_round_init_00108
2187  0838  3E 00       	ld	a, +((_obj_col) & 0xFF)
2188  083A  86          	add	a, (hl)
2189  083B  4F          	ld	c, a
2190  083C  3E 00       	ld	a, +((_obj_col) / 256)
2191  083E  CE 00       	adc	a,0x00
2192  0840  47          	ld	b, a
2193  0841  3E FF       	ld	a,0xff
2194  0843  02          	ld	(bc), a
2195  0844  3E 00       	ld	a, +((_obj_lin) & 0xFF)
2196  0846  86          	add	a, (hl)
2197  0847  4F          	ld	c, a
2198  0848  3E 00       	ld	a, +((_obj_lin) / 256)
2199  084A  CE 00       	adc	a,0x00
2200  084C  47          	ld	b, a
2201  084D  3E FF       	ld	a,0xff
2202  084F  02          	ld	(bc), a
2203  0850  34          	inc	(hl)
2204  0851  18 DD       	jr	l_game_round_init_00106
2205  0853              l_game_round_init_00108:
2206  0853  21 00 00    	ld	hl,_screen_ink
2207  0856  36 30       	ld	(hl),0x30
2208  0858  21 7C 01    	ld	hl,___str_21
2209  085B  E5          	push	hl
2210  085C  21 11 00    	ld	hl,0x0011
2211  085F  E5          	push	hl
2212  0860  CD 00 00    	call	_zx_print_str
2213  0863  2A 00 00    	ld	hl,(_scr_curr)
2214  0866  26 00       	ld	h,0x00
2215  0868  29          	add	hl, hl
2216  0869  DD 5E FC    	ld	e,(ix-4)
2217  086C  DD 56 FD    	ld	d,(ix-3)
2218  086F  19          	add	hl, de
2219  0870  4E          	ld	c, (hl)
2220  0871  23          	inc	hl
2221  0872  46          	ld	b, (hl)
2222  0873  DD 7E FE    	ld	a,(ix-2)
2223  0876  21 00 00    	ld	hl,_scr_curr
2224  0879  86          	add	a, (hl)
2225  087A  5F          	ld	e, a
2226  087B  DD 7E FF    	ld	a,(ix-1)
2227  087E  CE 00       	adc	a,0x00
2228  0880  57          	ld	d, a
2229  0881  1A          	ld	a, (de)
2230  0882  5F          	ld	e, a
2231  0883  AF          	xor	a,a
2232  0884  57          	ld	d,a
2233  0885  21 20 00    	ld	hl,0x0020
2234  0888  ED 52       	sbc	hl,de
2235  088A  CB 2C       	sra	h
2236  088C  CB 1D       	rr	l
2237  088E  EB          	ex	de,hl
2238  088F  53          	ld	d, e
2239  0890  C5          	push	bc
2240  0891  1E 11       	ld	e,0x11
2241  0893  D5          	push	de
2242  0894  CD 00 00    	call	_zx_print_str
2243  0897  21 00 00    	ld	hl,_screen_ink
2244  089A  36 57       	ld	(hl),0x57
2245  089C  21 9D 01    	ld	hl,___str_22
2246  089F  E5          	push	hl
2247  08A0  21 12 00    	ld	hl,0x0012
2248  08A3  E5          	push	hl
2249  08A4  CD 00 00    	call	_zx_print_str
2250  08A7  21 00 00    	ld	hl,_screen_ink
2251  08AA  36 67       	ld	(hl),0x67
2252  08AC  21 A8 01    	ld	hl,___str_23
2253  08AF  E5          	push	hl
2254  08B0  21 12 0A    	ld	hl,0x0a12
2255  08B3  E5          	push	hl
2256  08B4  CD 00 00    	call	_zx_print_str
2257  08B7  21 00 00    	ld	hl,_screen_ink
2258  08BA  36 06       	ld	(hl),0x06
2259  08BC  21 BF 01    	ld	hl,___str_24
2260  08BF  E5          	push	hl
2261  08C0  21 14 00    	ld	hl,0x0014
2262  08C3  E5          	push	hl
2263  08C4  CD 00 00    	call	_zx_print_str
2264  08C7  21 E0 01    	ld	hl,___str_25
2265  08CA  E5          	push	hl
2266  08CB  21 15 00    	ld	hl,0x0015
2267  08CE  E5          	push	hl
2268  08CF  CD 00 00    	call	_zx_print_str
2269  08D2  21 01 02    	ld	hl,___str_26
2270  08D5  E5          	push	hl
2271  08D6  21 16 00    	ld	hl,0x0016
2272  08D9  E5          	push	hl
2273  08DA  CD 00 00    	call	_zx_print_str
2274  08DD  CD 00 00    	call	_ay_reset
2275  08E0  21 20 90    	ld	hl,0x9020
2276  08E3  E5          	push	hl
2277  08E4  AF          	xor	a, a
2278  08E5  F5          	push	af
2279  08E6  33          	inc	sp
2280  08E7  21 00 00    	ld	hl,_attrib_osd
2281  08EA  E5          	push	hl
2282  08EB  CD 8F 09    	call	_game_paint_attrib
2283  08EE  F1          	pop	af
2284  08EF  F1          	pop	af
2285  08F0  33          	inc	sp
2286  08F1  CD 0C 0C    	call	_game_page_map
2287  08F4  CD 0E 01    	call	_game_draw_map
2288  08F7  CD 00 00    	call	_spr_btile_paint_back
2289  08FA  3A 00 00    	ld	a,(_map_paper)
2290  08FD  21 00 00    	ld	hl,_key_ink
2291  0900  B6          	or	a, (hl)
2292  0901  32 00 00    	ld	(_key_attrib),a
2293  0904  32 01 00    	ld	((_key_attrib + 0x0001)),a
2294  0907  32 02 00    	ld	((_key_attrib + 0x0002)),a
2295  090A  32 03 00    	ld	((_key_attrib + 0x0003)),a
2296  090D  AF          	xor	a, a
2297  090E  F5          	push	af
2298  090F  33          	inc	sp
2299  0910  CD 51 11    	call	_game_flash_exit
2300  0913  33          	inc	sp
2301  0914  21 00 00    	ld	hl,_game_song_play_start
2302  0917  36 00       	ld	(hl),0x00
2303  0919  3A 00 00    	ld	a,(_game_over)
2304  091C  B7          	or	a, a
2305  091D  20 10       	jr	NZ,l_game_round_init_00110
2306  091F  2A 00 00    	ld	hl,(_player_col_scr)
2307  0922  26 08       	ld	h,0x08
2308  0924  3A 00 00    	ld	a,(_player_lin_scr)
2309  0927  E5          	push	hl
2310  0928  F5          	push	af
2311  0929  33          	inc	sp
2312  092A  CD 00 00    	call	_player_init
2313  092D  F1          	pop	af
2314  092E  33          	inc	sp
2315  092F              l_game_round_init_00110:
2316  092F  CD 00 00    	call	_game_update_stats
2317  0932  CD 00 00    	call	_audio_ingame
2318  0935  21 00 00    	ld	hl,_screen_ink
2319  0938  36 12       	ld	(hl),0x12
2320  093A  21 7C 01    	ld	hl,___str_21
2321  093D  E5          	push	hl
2322  093E  21 00 00    	ld	hl,0x0000
2323  0941  E5          	push	hl
2324  0942  CD 00 00    	call	_zx_print_str
2325  0945  2E 02       	ld	l,0x02
2326  0947  CD 00 00    	call	_zx_border_fastcall
2327  094A  21 00 00    	ld	hl,_screen_ink
2328  094D  36 07       	ld	(hl),0x07
2329  094F  DD F9       	ld	sp, ix
2330  0951  DD E1       	pop	ix
2331  0953  C9          	ret
2332  0954              	SECTION rodata_compiler
2333  0005              ___str_1:
2334  0005  43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "Central Cavern"
2335  0013  00          	DEFB 0x00
2336  0014              	SECTION rodata_compiler
2337  0014              ___str_2:
2338  0014  54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "The Cold Room"
2339  0021  00          	DEFB 0x00
2340  0022              	SECTION rodata_compiler
2341  0022              ___str_3:
2342  0022  4D 65 6E 61 67 65 72 69 65 
                        	DEFM "Menagerie"
2343  002B  00          	DEFB 0x00
2344  002C              	SECTION rodata_compiler
2345  002C              ___str_4:
2346  002C  41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "Abandoned Uranium Workings"
2347  0046  00          	DEFB 0x00
2348  0047              	SECTION rodata_compiler
2349  0047              ___str_5:
2350  0047  45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "Eugene's Lair"
2351  0054  00          	DEFB 0x00
2352  0055              	SECTION rodata_compiler
2353  0055              ___str_6:
2354  0055  50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "Processing Plant"
2355  0065  00          	DEFB 0x00
2356  0066              	SECTION rodata_compiler
2357  0066              ___str_7:
2358  0066  54 68 65 20 56 61 74 
                        	DEFM "The Vat"
2359  006D  00          	DEFB 0x00
2360  006E              	SECTION rodata_compiler
2361  006E              ___str_8:
2362  006E  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2363  008E  00          	DEFB 0x00
2364  008F              	SECTION rodata_compiler
2365  008F              ___str_9:
2366  008F  57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "Wacky Amoebatrons"
2367  00A0  00          	DEFB 0x00
2368  00A1              	SECTION rodata_compiler
2369  00A1              ___str_10:
2370  00A1  54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "The Endorian Forest"
2371  00B4  00          	DEFB 0x00
2372  00B5              	SECTION rodata_compiler
2373  00B5              ___str_11:
2374  00B5  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2375  00D4  00          	DEFB 0x00
2376  00D5              	SECTION rodata_compiler
2377  00D5              ___str_12:
2378  00D5  4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "Ore Refinery"
2379  00E1  00          	DEFB 0x00
2380  00E2              	SECTION rodata_compiler
2381  00E2              ___str_13:
2382  00E2  54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "The Warehouse"
2383  00EF  00          	DEFB 0x00
2384  00F0              	SECTION rodata_compiler
2385  00F0              ___str_14:
2386  00F0  53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "Solar Power Generator"
2387  0105  00          	DEFB 0x00
2388  0106              	SECTION rodata_compiler
2389  0106              ___str_15:
2390  0106  41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "Amoebatrons Revenge"
2391  0119  00          	DEFB 0x00
2392  011A              	SECTION rodata_compiler
2393  011A              ___str_16:
2394  011A  52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Return of the Alien Kong Beast"
2395  0138  00          	DEFB 0x00
2396  0139              	SECTION rodata_compiler
2397  0139              ___str_17:
2398  0139  54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "The Final Barrier"
2399  014A  00          	DEFB 0x00
2400  014B              	SECTION rodata_compiler
2401  014B              ___str_18:
2402  014B  53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "Skylab Landing Bay"
2403  015D  00          	DEFB 0x00
2404  015E              	SECTION rodata_compiler
2405  015E              ___str_19:
2406  015E  54 68 65 20 42 61 6E 6B 
                        	DEFM "The Bank"
2407  0166  00          	DEFB 0x00
2408  0167              	SECTION rodata_compiler
2409  0167              ___str_20:
2410  0167  54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "The Sixteenth Cavern"
2411  017B  00          	DEFB 0x00
2412  017C              	SECTION rodata_compiler
2413  017C              ___str_21:
2414  017C  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2415  019C  00          	DEFB 0x00
2416  019D              	SECTION rodata_compiler
2417  019D              ___str_22:
2418  019D  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2419  01A7  00          	DEFB 0x00
2420  01A8              	SECTION rodata_compiler
2421  01A8              ___str_23:
2422  01A8  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2423  01BE  00          	DEFB 0x00
2424  01BF              	SECTION rodata_compiler
2425  01BF              ___str_24:
2426  01BF  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
2427  01DF  00          	DEFB 0x00
2428  01E0              	SECTION rodata_compiler
2429  01E0              ___str_25:
2430  01E0  44 45 4D 4F 20 50 41 52 41 20 4E 55 45 53 54 52 4F 20 4C 49 44 45 52 20 53 55 50 52 45 4D 4F 21 
                        	DEFM "DEMO PARA NUESTRO LIDER SUPREMO!"
2431  0200  00          	DEFB 0x00
2432  0201              	SECTION rodata_compiler
2433  0201              ___str_26:
2434  0201  20 20 20 45 4C 20 53 50 45 43 54 52 55 4D 45 52 4F 20 4A 41 56 49 20 4F 52 54 49 5A 20 20 20 20 
                        	DEFM "   EL SPECTRUMERO JAVI ORTIZ    "
2435  0221  00          	DEFB 0x00
2436  0222              	SECTION code_compiler
2437  0954              ;	---------------------------------
2438  0954              ; Function game_print_header
2439  0954              ; ---------------------------------
2440  0954              	defc _game_print_header	=	_game_print_score
2441  0954              	SECTION code_compiler
2442  0954              ;	---------------------------------
2443  0954              ; Function game_check_map
2444  0954              ; ---------------------------------
2445  0954              _game_check_map:
2446  0954  CD 00 00    	call	___sdcc_enter_ix
2447  0957  DD 66 05    	ld	h,(ix+5)
2448  095A  DD 6E 04    	ld	l,(ix+4)
2449  095D  E5          	push	hl
2450  095E  CD 00 00    	call	_spr_calc_index
2451  0961  F1          	pop	af
2452  0962  22 00 00    	ld	(_index1),hl
2453  0965  21 00 00    	ld	hl,_index1
2454  0968  DD E1       	pop	ix
2455  096A  C3 6D 09    	jp	_game_check_cell
2456  096D              	SECTION code_compiler
2457  096D              ;	---------------------------------
2458  096D              ; Function game_check_cell
2459  096D              ; ---------------------------------
2460  096D              _game_check_cell:
2461  096D  4E          	ld	c, (hl)
2462  096E  23          	inc	hl
2463  096F  46          	ld	b, (hl)
2464  0970  AF          	xor	a, a
2465  0971  B9          	cp	a, c
2466  0972  3E 02       	ld	a,0x02
2467  0974  98          	sbc	a, b
2468  0975  30 04       	jr	NC,l_game_check_cell_00102
2469  0977  2E 01       	ld	l,0x01
2470  0979  18 13       	jr	l_game_check_cell_00106
2471  097B              l_game_check_cell_00102:
2472  097B  21 00 00    	ld	hl,_scr_map
2473  097E  09          	add	hl, bc
2474  097F  5E          	ld	e, (hl)
2475  0980  ED 43 00 00 	ld	(_index1),bc
2476  0984  7B          	ld	a,e
2477  0985  D6 03       	sub	a,0x03
2478  0987  28 04       	jr	Z,l_game_check_cell_00104
2479  0989  2E 00       	ld	l,0x00
2480  098B  18 01       	jr	l_game_check_cell_00106
2481  098D              l_game_check_cell_00104:
2482  098D  6B          	ld	l, e
2483  098E              l_game_check_cell_00106:
2484  098E  C9          	ret
2485  098F              	SECTION code_compiler
2486  098F              ;	---------------------------------
2487  098F              ; Function game_paint_attrib
2488  098F              ; ---------------------------------
2489  098F              _game_paint_attrib:
2490  098F  CD 00 00    	call	___sdcc_enter_ix
2491  0992  DD 46 06    	ld	b,(ix+6)
2492  0995              l_game_paint_attrib_00103:
2493  0995  78          	ld	a, b
2494  0996  DD 96 07    	sub	a,(ix+7)
2495  0999  30 13       	jr	NC,l_game_paint_attrib_00105
2496  099B  DD 5E 04    	ld	e,(ix+4)
2497  099E  DD 56 05    	ld	d,(ix+5)
2498  09A1  C5          	push	bc
2499  09A2  DD 4E 08    	ld	c,(ix+8)
2500  09A5  C5          	push	bc
2501  09A6  D5          	push	de
2502  09A7  CD 00 00    	call	_NIRVANAP_paintC_callee
2503  09AA  C1          	pop	bc
2504  09AB  04          	inc	b
2505  09AC  18 E7       	jr	l_game_paint_attrib_00103
2506  09AE              l_game_paint_attrib_00105:
2507  09AE  DD E1       	pop	ix
2508  09B0  C9          	ret
2509  09B1              	SECTION code_compiler
2510  09B1              ;	---------------------------------
2511  09B1              ; Function game_colour_message
2512  09B1              ; ---------------------------------
2513  09B1              _game_colour_message:
2514  09B1  CD 00 00    	call	___sdcc_enter_ix
2515  09B4  F5          	push	af
2516  09B5  F5          	push	af
2517  09B6  F5          	push	af
2518  09B7  F5          	push	af
2519  09B8  D1          	pop	de
2520  09B9  21 00 00    	ld	hl,_v0
2521  09BC  36 01       	ld	(hl),0x01
2522  09BE  2A 00 00    	ld	hl,(_curr_time)
2523  09C1  22 00 00    	ld	(_frame_time),hl
2524  09C4  E5          	push	hl
2525  09C5  DD 7E 04    	ld	a,(ix+4)
2526  09C8  4D          	ld	c,l
2527  09C9  07          	rlca
2528  09CA  07          	rlca
2529  09CB  07          	rlca
2530  09CC  E6 F8       	and	a,0xf8
2531  09CE  DD 77 FE    	ld	(ix-2),a
2532  09D1  C6 08       	add	a,0x08
2533  09D3  DD 77 FF    	ld	(ix-1),a
2534  09D6  DD 77 FD    	ld	(ix-3),a
2535  09D9              l_game_colour_message_00112:
2536  09D9  3A 00 00    	ld	a,(_v0)
2537  09DC  B7          	or	a, a
2538  09DD  CA 79 0A    	jp	Z, l_game_colour_message_00114
2539  09E0  DD 46 07    	ld	b,(ix+7)
2540  09E3  21 00 00    	ld	hl,0x0000
2541  09E6  39          	add	hl, sp
2542  09E7  EB          	ex	de,hl
2543  09E8  C5          	push	bc
2544  09E9  33          	inc	sp
2545  09EA  D5          	push	de
2546  09EB  CD EF 0A    	call	_game_check_time
2547  09EE  F1          	pop	af
2548  09EF  33          	inc	sp
2549  09F0  7D          	ld	a, l
2550  09F1  B7          	or	a, a
2551  09F2  C2 79 0A    	jp	NZ, l_game_colour_message_00114
2552  09F5  3E 05       	ld	a,0x05
2553  09F7  F5          	push	af
2554  09F8  33          	inc	sp
2555  09F9  21 00 00    	ld	hl,_frame_time
2556  09FC  E5          	push	hl
2557  09FD  CD EF 0A    	call	_game_check_time
2558  0A00  F1          	pop	af
2559  0A01  33          	inc	sp
2560  0A02  DD 75 FC    	ld	(ix-4),l
2561  0A05  7D          	ld	a, l
2562  0A06  B7          	or	a, a
2563  0A07  28 4A       	jr	Z,l_game_colour_message_00105
2564  0A09  2A 00 00    	ld	hl,(_curr_time)
2565  0A0C  DD 74 FB    	ld	(ix-5),h
2566  0A0F  DD 75 FA    	ld	(ix-6),l
2567  0A12  7D          	ld	a, l
2568  0A13  21 00 00    	ld	hl,_frame_time
2569  0A16  77          	ld	(hl), a
2570  0A17  DD 7E FB    	ld	a,(ix-5)
2571  0A1A  23          	inc	hl
2572  0A1B  77          	ld	(hl), a
2573  0A1C  3A 00 00    	ld	a,(_game_over)
2574  0A1F  B7          	or	a, a
2575  0A20  28 18       	jr	Z,l_game_colour_message_00102
2576  0A22  DD 66 FD    	ld	h,(ix-3)
2577  0A25  DD 6E 06    	ld	l,(ix+6)
2578  0A28  E5          	push	hl
2579  0A29  DD 7E 05    	ld	a,(ix+5)
2580  0A2C  F5          	push	af
2581  0A2D  33          	inc	sp
2582  0A2E  21 00 00    	ld	hl,_attrib_hl
2583  0A31  E5          	push	hl
2584  0A32  CD 8F 09    	call	_game_paint_attrib
2585  0A35  F1          	pop	af
2586  0A36  F1          	pop	af
2587  0A37  33          	inc	sp
2588  0A38  18 19       	jr	l_game_colour_message_00105
2589  0A3A              l_game_colour_message_00102:
2590  0A3A  DD 66 FF    	ld	h,(ix-1)
2591  0A3D  DD 6E 06    	ld	l,(ix+6)
2592  0A40  E5          	push	hl
2593  0A41  DD 7E 05    	ld	a,(ix+5)
2594  0A44  F5          	push	af
2595  0A45  33          	inc	sp
2596  0A46  21 00 00    	ld	hl,_attrib_osd
2597  0A49  E5          	push	hl
2598  0A4A  CD 8F 09    	call	_game_paint_attrib
2599  0A4D  F1          	pop	af
2600  0A4E  F1          	pop	af
2601  0A4F  33          	inc	sp
2602  0A50  CD 97 0B    	call	_game_rotate_attrib_osd
2603  0A53              l_game_colour_message_00105:
2604  0A53  DD 7E 09    	ld	a,(ix+9)
2605  0A56  B7          	or	a, a
2606  0A57  CA D9 09    	jp	Z, l_game_colour_message_00112
2607  0A5A              l_game_colour_message_00106:
2608  0A5A  21 00 00    	ld	hl,_k1
2609  0A5D  E5          	push	hl
2610  0A5E  2A 00 00    	ld	hl,(_joyfunc1)
2611  0A61  CD 00 00    	call	___sdcc_call_hl
2612  0A64  F1          	pop	af
2613  0A65  DD 74 FB    	ld	(ix-5),h
2614  0A68  DD 75 FA    	ld	(ix-6),l
2615  0A6B  7C          	ld	a,h
2616  0A6C  DD B6 FA    	or	a,(ix-6)
2617  0A6F  CA D9 09    	jp	Z, l_game_colour_message_00112
2618  0A72  21 00 00    	ld	hl,_v0
2619  0A75  36 00       	ld	(hl),0x00
2620  0A77  18 E1       	jr	l_game_colour_message_00106
2621  0A79              l_game_colour_message_00114:
2622  0A79  DD 7E 06    	ld	a,(ix+6)
2623  0A7C  DD 96 05    	sub	a,(ix+5)
2624  0A7F  4F          	ld	c, a
2625  0A80  3A 00 00    	ld	a,(_game_over)
2626  0A83  B7          	or	a, a
2627  0A84  28 2F       	jr	Z,l_game_colour_message_00118
2628  0A86  21 00 00    	ld	hl,_v1
2629  0A89  71          	ld	(hl), c
2630  0A8A  21 00 00    	ld	hl,_v0
2631  0A8D  36 00       	ld	(hl),0x00
2632  0A8F              l_game_colour_message_00121:
2633  0A8F  3A 00 00    	ld	a,(_v0)
2634  0A92  21 00 00    	ld	hl,_v1
2635  0A95  96          	sub	a, (hl)
2636  0A96  30 52       	jr	NC,l_game_colour_message_00126
2637  0A98  DD 7E 05    	ld	a,(ix+5)
2638  0A9B  21 00 00    	ld	hl,_v0
2639  0A9E  86          	add	a, (hl)
2640  0A9F  4F          	ld	c, a
2641  0AA0  21 22 02    	ld	hl,___str_27
2642  0AA3  E5          	push	hl
2643  0AA4  79          	ld	a, c
2644  0AA5  F5          	push	af
2645  0AA6  33          	inc	sp
2646  0AA7  DD 7E 04    	ld	a,(ix+4)
2647  0AAA  F5          	push	af
2648  0AAB  33          	inc	sp
2649  0AAC  CD 00 00    	call	_zx_print_str
2650  0AAF  21 00 00    	ld	hl,_v0
2651  0AB2  34          	inc	(hl)
2652  0AB3  18 DA       	jr	l_game_colour_message_00121
2653  0AB5              l_game_colour_message_00118:
2654  0AB5  21 00 00    	ld	hl,_v1
2655  0AB8  71          	ld	(hl), c
2656  0AB9  DD 7E FE    	ld	a,(ix-2)
2657  0ABC  32 00 00    	ld	(_s_lin0),a
2658  0ABF  DD 7E 05    	ld	a,(ix+5)
2659  0AC2  CB 3F       	srl	a
2660  0AC4  87          	add	a, a
2661  0AC5  32 00 00    	ld	(_s_col1),a
2662  0AC8  21 00 00    	ld	hl,_v2
2663  0ACB  36 00       	ld	(hl),0x00
2664  0ACD              l_game_colour_message_00124:
2665  0ACD  3A 00 00    	ld	a,(_v2)
2666  0AD0  21 00 00    	ld	hl,_v1
2667  0AD3  96          	sub	a, (hl)
2668  0AD4  30 14       	jr	NC,l_game_colour_message_00126
2669  0AD6  3A 00 00    	ld	a,(_s_col1)
2670  0AD9  21 00 00    	ld	hl,_v2
2671  0ADC  86          	add	a, (hl)
2672  0ADD  32 00 00    	ld	(_s_col0),a
2673  0AE0  CD 00 00    	call	_spr_back_repaint
2674  0AE3  21 00 00    	ld	hl,_v2
2675  0AE6  34          	inc	(hl)
2676  0AE7  34          	inc	(hl)
2677  0AE8  18 E3       	jr	l_game_colour_message_00124
2678  0AEA              l_game_colour_message_00126:
2679  0AEA  DD F9       	ld	sp, ix
2680  0AEC  DD E1       	pop	ix
2681  0AEE  C9          	ret
2682  0AEF              	SECTION rodata_compiler
2683  0222              ___str_27:
2684  0222  20          	DEFM " "
2685  0223  00          	DEFB 0x00
2686  0224              	SECTION code_compiler
2687  0AEF              ;	---------------------------------
2688  0AEF              ; Function game_check_time
2689  0AEF              ; ---------------------------------
2690  0AEF              _game_check_time:
2691  0AEF  CD 00 00    	call	___sdcc_enter_ix
2692  0AF2  2A 00 00    	ld	hl,(_curr_time)
2693  0AF5  4D          	ld	c, l
2694  0AF6  DD 6E 04    	ld	l,(ix+4)
2695  0AF9  44          	ld	b,h
2696  0AFA  DD 66 05    	ld	h,(ix+5)
2697  0AFD  5E          	ld	e, (hl)
2698  0AFE  23          	inc	hl
2699  0AFF  56          	ld	d, (hl)
2700  0B00  79          	ld	a, c
2701  0B01  93          	sub	a, e
2702  0B02  4F          	ld	c, a
2703  0B03  78          	ld	a, b
2704  0B04  9A          	sbc	a, d
2705  0B05  47          	ld	b, a
2706  0B06  DD 7E 06    	ld	a,(ix+6)
2707  0B09  16 00       	ld	d,0x00
2708  0B0B  91          	sub	a, c
2709  0B0C  7A          	ld	a, d
2710  0B0D  98          	sbc	a, b
2711  0B0E  30 04       	jr	NC,l_game_check_time_00102
2712  0B10  2E 01       	ld	l,0x01
2713  0B12  18 02       	jr	l_game_check_time_00104
2714  0B14              l_game_check_time_00102:
2715  0B14  2E 00       	ld	l,0x00
2716  0B16              l_game_check_time_00104:
2717  0B16  DD E1       	pop	ix
2718  0B18  C9          	ret
2719  0B19              	SECTION code_compiler
2720  0B19              ;	---------------------------------
2721  0B19              ; Function game_key_paint
2722  0B19              ; ---------------------------------
2723  0B19              _game_key_paint:
2724  0B19  3A 00 00    	ld	a,(_game_playing)
2725  0B1C  B7          	or	a, a
2726  0B1D  CA 96 0B    	jp	Z, l_game_key_paint_00117
2727  0B20  3A 00 00    	ld	a,(_obj_count)
2728  0B23  B7          	or	a, a
2729  0B24  28 70       	jr	Z,l_game_key_paint_00117
2730  0B26  21 00 00    	ld	hl,_key_last
2731  0B29  4E          	ld	c, (hl)
2732  0B2A  59          	ld	e, c
2733  0B2B              l_game_key_paint_00105:
2734  0B2B  7B          	ld	a, e
2735  0B2C  D6 08       	sub	a,0x08
2736  0B2E  30 4A       	jr	NC,l_game_key_paint_00107
2737  0B30  16 00       	ld	d,0x00
2738  0B32  21 00 00    	ld	hl,_obj_col
2739  0B35  19          	add	hl, de
2740  0B36  7E          	ld	a,(hl)
2741  0B37  47          	ld	b,a
2742  0B38  3C          	inc	a
2743  0B39  28 3B       	jr	Z,l_game_key_paint_00104
2744  0B3B  11 00 00    	ld	de,_obj_lin+0
2745  0B3E  69          	ld	l,c
2746  0B3F  26 00       	ld	h,0x00
2747  0B41  19          	add	hl, de
2748  0B42  5E          	ld	e, (hl)
2749  0B43  C5          	push	bc
2750  0B44  C5          	push	bc
2751  0B45  33          	inc	sp
2752  0B46  7B          	ld	a, e
2753  0B47  F5          	push	af
2754  0B48  33          	inc	sp
2755  0B49  21 00 00    	ld	hl,_key_attrib
2756  0B4C  E5          	push	hl
2757  0B4D  CD 00 00    	call	_NIRVANAP_paintC_callee
2758  0B50  C1          	pop	bc
2759  0B51  3A 00 00    	ld	a,(_map_paper)
2760  0B54  21 00 00    	ld	hl,_key_ink
2761  0B57  B6          	or	a, (hl)
2762  0B58  32 00 00    	ld	(_key_attrib),a
2763  0B5B  32 01 00    	ld	((_key_attrib + 0x0001)),a
2764  0B5E  32 02 00    	ld	((_key_attrib + 0x0002)),a
2765  0B61  32 03 00    	ld	((_key_attrib + 0x0003)),a
2766  0B64  21 00 00    	ld	hl,_key_ink
2767  0B67  34          	inc	(hl)
2768  0B68  3E 06       	ld	a,0x06
2769  0B6A  96          	sub	a, (hl)
2770  0B6B  30 02       	jr	NC,l_game_key_paint_00102
2771  0B6D  36 03       	ld	(hl),0x03
2772  0B6F              l_game_key_paint_00102:
2773  0B6F  79          	ld	a, c
2774  0B70  3C          	inc	a
2775  0B71  32 00 00    	ld	(_key_last),a
2776  0B74  18 04       	jr	l_game_key_paint_00107
2777  0B76              l_game_key_paint_00104:
2778  0B76  1C          	inc	e
2779  0B77  4B          	ld	c, e
2780  0B78  18 B1       	jr	l_game_key_paint_00105
2781  0B7A              l_game_key_paint_00107:
2782  0B7A  79          	ld	a, c
2783  0B7B  D6 08       	sub	a,0x08
2784  0B7D  38 17       	jr	C,l_game_key_paint_00117
2785  0B7F  3A 00 00    	ld	a,(_obj_count)
2786  0B82  D6 04       	sub	a,0x04
2787  0B84  20 0B       	jr	NZ,l_game_key_paint_00111
2788  0B86  21 00 00    	ld	hl,_key_ink
2789  0B89  34          	inc	(hl)
2790  0B8A  3E 06       	ld	a,0x06
2791  0B8C  96          	sub	a, (hl)
2792  0B8D  30 02       	jr	NC,l_game_key_paint_00111
2793  0B8F  36 03       	ld	(hl),0x03
2794  0B91              l_game_key_paint_00111:
2795  0B91  21 00 00    	ld	hl,_key_last
2796  0B94  36 00       	ld	(hl),0x00
2797  0B96              l_game_key_paint_00117:
2798  0B96  C9          	ret
2799  0B97              	SECTION code_compiler
2800  0B97              ;	---------------------------------
2801  0B97              ; Function game_rotate_attrib_osd
2802  0B97              ; ---------------------------------
2803  0B97              _game_rotate_attrib_osd:
2804  0B97  3A 00 00    	ld	a,(_game_attrib_osd)
2805  0B9A  D6 07       	sub	a,0x07
2806  0B9C  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2807  0B9E  21 00 00    	ld	hl,_game_attrib_osd
2808  0BA1  36 01       	ld	(hl),0x01
2809  0BA3              l_game_rotate_attrib_osd_00102:
2810  0BA3  21 00 00    	ld	hl,_game_attrib_osd
2811  0BA6  34          	inc	(hl)
2812  0BA7  01 00 00    	ld	bc,_attrib_osd+0
2813  0BAA  0A          	ld	a, (bc)
2814  0BAB  32 00 00    	ld	(_v0),a
2815  0BAE  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2816  0BB1  02          	ld	(bc), a
2817  0BB2  59          	ld	e, c
2818  0BB3  50          	ld	d, b
2819  0BB4  13          	inc	de
2820  0BB5  03          	inc	bc
2821  0BB6  03          	inc	bc
2822  0BB7  0A          	ld	a, (bc)
2823  0BB8  12          	ld	(de), a
2824  0BB9  02          	ld	(bc), a
2825  0BBA  3A 00 00    	ld	a,(_v0)
2826  0BBD  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2827  0BC0  C9          	ret
2828  0BC1              	SECTION code_compiler
2829  0BC1              ;	---------------------------------
2830  0BC1              ; Function game_attribs
2831  0BC1              ; ---------------------------------
2832  0BC1              _game_attribs:
2833  0BC1  01 00 00    	ld	bc,_attrib+0
2834  0BC4  21 00 00    	ld	hl,_map_paper
2835  0BC7  7E          	ld	a, (hl)
2836  0BC8  F6 47       	or	a,0x47
2837  0BCA  02          	ld	(bc), a
2838  0BCB  59          	ld	e, c
2839  0BCC  50          	ld	d, b
2840  0BCD  13          	inc	de
2841  0BCE  7E          	ld	a, (hl)
2842  0BCF  F6 47       	or	a,0x47
2843  0BD1  12          	ld	(de), a
2844  0BD2  7E          	ld	a, (hl)
2845  0BD3  F6 47       	or	a,0x47
2846  0BD5  32 02 00    	ld	((_attrib + 0x0002)),a
2847  0BD8  03          	inc	bc
2848  0BD9  03          	inc	bc
2849  0BDA  03          	inc	bc
2850  0BDB  21 00 00    	ld	hl,_map_paper
2851  0BDE  7E          	ld	a, (hl)
2852  0BDF  F6 47       	or	a,0x47
2853  0BE1  02          	ld	(bc), a
2854  0BE2  01 00 00    	ld	bc,_attrib_hl+0
2855  0BE5  7E          	ld	a, (hl)
2856  0BE6  F6 33       	or	a,0x33
2857  0BE8  02          	ld	(bc), a
2858  0BE9  59          	ld	e, c
2859  0BEA  50          	ld	d, b
2860  0BEB  13          	inc	de
2861  0BEC  7E          	ld	a, (hl)
2862  0BED  F6 30       	or	a,0x30
2863  0BEF  12          	ld	(de), a
2864  0BF0  7E          	ld	a, (hl)
2865  0BF1  F6 31       	or	a,0x31
2866  0BF3  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2867  0BF6  03          	inc	bc
2868  0BF7  03          	inc	bc
2869  0BF8  03          	inc	bc
2870  0BF9  3A 00 00    	ld	a,(_map_paper)
2871  0BFC  F6 30       	or	a,0x30
2872  0BFE  02          	ld	(bc), a
2873  0BFF  21 70 71    	ld	hl,0x7170
2874  0C02  22 00 00    	ld	(_attrib_osd),hl
2875  0C05  21 71 73    	ld	hl,0x7371
2876  0C08  22 02 00    	ld	(_attrib_osd + 2),hl
2877  0C0B  C9          	ret
2878  0C0C              	SECTION code_compiler
2879  0C0C              ;	---------------------------------
2880  0C0C              ; Function game_page_map
2881  0C0C              ; ---------------------------------
2882  0C0C              _game_page_map:
2883  0C0C  CD 00 00    	call	___sdcc_enter_ix
2884  0C0F  21 AD FF    	ld	hl, -83
2885  0C12  39          	add	hl, sp
2886  0C13  F9          	ld	sp, hl
2887  0C14  F3          	di
2888  0C15  21 00 00    	ld	hl,_game_world
2889  0C18  4E          	ld	c, (hl)
2890  0C19  3A 00 00    	ld	a,(_scr_curr)
2891  0C1C  DD 77 DE    	ld	(ix-34),a
2892  0C1F  79          	ld	a, c
2893  0C20  07          	rlca
2894  0C21  07          	rlca
2895  0C22  07          	rlca
2896  0C23  07          	rlca
2897  0C24  E6 F0       	and	a,0xf0
2898  0C26  DD 86 DE    	add	a,(ix-34)
2899  0C29  DD 77 DD    	ld	(ix-35),a
2900  0C2C  4F          	ld	c,a
2901  0C2D  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2902  0C30  36 16       	ld	(hl),0x16
2903  0C32  C5          	push	bc
2904  0C33  3E 16       	ld	a,0x16
2905  0C35  01 FD 7F    	ld	bc,_IO_7FFD
2906  0C38  ED 79       	out	(c),a
2907  0C3A  C1          	pop	bc
2908  0C3B  DD 7E DE    	ld	a,(ix-34)
2909  0C3E  3C          	inc	a
2910  0C3F  20 03       	jr	NZ,l_game_page_map_00102
2911  0C41  DD 71 DD    	ld	(ix-35),c
2912  0C44              l_game_page_map_00102:
2913  0C44  01 00 00    	ld	bc,_paper0+0
2914  0C47  DD 6E DD    	ld	l,(ix-35)
2915  0C4A  26 00       	ld	h,0x00
2916  0C4C  09          	add	hl, bc
2917  0C4D  7E          	ld	a, (hl)
2918  0C4E  DD 77 DF    	ld	(ix-33),a
2919  0C51  3E 10       	ld	a,0x10
2920  0C53  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2921  0C56  01 FD 7F    	ld	bc,_IO_7FFD
2922  0C59  ED 79       	out	(c),a
2923  0C5B  DD 4E DE    	ld	c,(ix-34)
2924  0C5E  CB 39       	srl	c
2925  0C60  06 00       	ld	b,0x00
2926  0C62  69          	ld	l, c
2927  0C63  60          	ld	h, b
2928  0C64  29          	add	hl, hl
2929  0C65  09          	add	hl, bc
2930  0C66  AF          	xor	a,a
2931  0C67  CB 3C       	srl	h
2932  0C69  CB 1D       	rr	l
2933  0C6B  1F          	rra
2934  0C6C  CB 3C       	srl	h
2935  0C6E  CB 1D       	rr	l
2936  0C70  1F          	rra
2937  0C71  DD 77 E2    	ld	(ix-30),a
2938  0C74  DD 75 E3    	ld	(ix-29),l
2939  0C77  21 00 00    	ld	hl,0x0000
2940  0C7A  39          	add	hl, sp
2941  0C7B  DD 75 FE    	ld	(ix-2),l
2942  0C7E  DD 74 FF    	ld	(ix-1),h
2943  0C81  DD 75 FC    	ld	(ix-4),l
2944  0C84  DD 74 FD    	ld	(ix-3),h
2945  0C87  DD 7E FE    	ld	a,(ix-2)
2946  0C8A  DD 77 FA    	ld	(ix-6),a
2947  0C8D  DD 7E FF    	ld	a,(ix-1)
2948  0C90  DD 77 FB    	ld	(ix-5),a
2949  0C93  DD 7E FE    	ld	a,(ix-2)
2950  0C96  DD 77 F8    	ld	(ix-8),a
2951  0C99  DD 7E FF    	ld	a,(ix-1)
2952  0C9C  DD 77 F9    	ld	(ix-7),a
2953  0C9F  DD 7E DE    	ld	a,(ix-34)
2954  0CA2  E6 01       	and	a,0x01
2955  0CA4  DD 77 F7    	ld	(ix-9),a
2956  0CA7  DD 7E FE    	ld	a,(ix-2)
2957  0CAA  DD 77 F5    	ld	(ix-11),a
2958  0CAD  DD 7E FF    	ld	a,(ix-1)
2959  0CB0  DD 77 F6    	ld	(ix-10),a
2960  0CB3  DD 7E FE    	ld	a,(ix-2)
2961  0CB6  DD 77 F3    	ld	(ix-13),a
2962  0CB9  DD 7E FF    	ld	a,(ix-1)
2963  0CBC  DD 77 F4    	ld	(ix-12),a
2964  0CBF  DD 7E FE    	ld	a,(ix-2)
2965  0CC2  DD 77 F1    	ld	(ix-15),a
2966  0CC5  DD 7E FF    	ld	a,(ix-1)
2967  0CC8  DD 77 F2    	ld	(ix-14),a
2968  0CCB  DD 36 E4 00 	ld	(ix-28),0x00
2969  0CCF  DD 36 E5 00 	ld	(ix-27),0x00
2970  0CD3              l_game_page_map_00127:
2971  0CD3  DD 7E E4    	ld	a,(ix-28)
2972  0CD6  D6 F0       	sub	a,0xf0
2973  0CD8  DD 7E E5    	ld	a,(ix-27)
2974  0CDB  DE 00       	sbc	a,0x00
2975  0CDD  D2 9C 0E    	jp	NC, l_game_page_map_00129
2976  0CE0  3E 13       	ld	a,0x13
2977  0CE2  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2978  0CE5  01 FD 7F    	ld	bc,_IO_7FFD
2979  0CE8  ED 79       	out	(c),a
2980  0CEA  DD 36 E8 00 	ld	(ix-24),0x00
2981  0CEE  DD 36 E9 00 	ld	(ix-23),0x00
2982  0CF2              l_game_page_map_00103:
2983  0CF2  DD 7E E8    	ld	a,(ix-24)
2984  0CF5  D6 30       	sub	a,0x30
2985  0CF7  DD 7E E9    	ld	a,(ix-23)
2986  0CFA  DE 00       	sbc	a,0x00
2987  0CFC  30 54       	jr	NC,l_game_page_map_00105
2988  0CFE  DD 7E F8    	ld	a,(ix-8)
2989  0D01  DD 86 E8    	add	a,(ix-24)
2990  0D04  DD 77 EF    	ld	(ix-17),a
2991  0D07  DD 7E F9    	ld	a,(ix-7)
2992  0D0A  DD 8E E9    	adc	a,(ix-23)
2993  0D0D  DD 77 F0    	ld	(ix-16),a
2994  0D10  DD 7E E2    	ld	a,(ix-30)
2995  0D13  DD 86 E8    	add	a,(ix-24)
2996  0D16  DD 77 ED    	ld	(ix-19),a
2997  0D19  DD 7E E3    	ld	a,(ix-29)
2998  0D1C  DD 8E E9    	adc	a,(ix-23)
2999  0D1F  DD 77 EE    	ld	(ix-18),a
3000  0D22  DD 7E ED    	ld	a,(ix-19)
3001  0D25  DD 86 E4    	add	a,(ix-28)
3002  0D28  DD 77 ED    	ld	(ix-19),a
3003  0D2B  6F          	ld	l,a
3004  0D2C  DD 7E EE    	ld	a,(ix-18)
3005  0D2F  DD 8E E5    	adc	a,(ix-27)
3006  0D32  DD 77 EE    	ld	(ix-18),a
3007  0D35  67          	ld	h,a
3008  0D36  01 00 00    	ld	bc,_hibtiles
3009  0D39  09          	add	hl,bc
3010  0D3A  DD 75 ED    	ld	(ix-19),l
3011  0D3D  DD 74 EE    	ld	(ix-18),h
3012  0D40  4E          	ld	c, (hl)
3013  0D41  DD 6E EF    	ld	l,(ix-17)
3014  0D44  DD 66 F0    	ld	h,(ix-16)
3015  0D47  71          	ld	(hl), c
3016  0D48  DD 34 E8    	inc	(ix-24)
3017  0D4B  20 A5       	jr	NZ,l_game_page_map_00103
3018  0D4D  DD 34 E9    	inc	(ix-23)
3019  0D50  18 A0       	jr	l_game_page_map_00103
3020  0D52              l_game_page_map_00105:
3021  0D52  3E 10       	ld	a,0x10
3022  0D54  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3023  0D57  01 FD 7F    	ld	bc,_IO_7FFD
3024  0D5A  ED 79       	out	(c),a
3025  0D5C  DD 7E F7    	ld	a,(ix-9)
3026  0D5F  B7          	or	a, a
3027  0D60  C2 06 0E    	jp	NZ, l_game_page_map_00178
3028  0D63  01 00 00    	ld	bc,0x0000
3029  0D66              l_game_page_map_00106:
3030  0D66  79          	ld	a, c
3031  0D67  D6 10       	sub	a,0x10
3032  0D69  78          	ld	a, b
3033  0D6A  DE 00       	sbc	a,0x00
3034  0D6C  30 18       	jr	NC,l_game_page_map_00108
3035  0D6E  DD 6E E4    	ld	l,(ix-28)
3036  0D71  DD 66 E5    	ld	h,(ix-27)
3037  0D74  09          	add	hl, bc
3038  0D75  11 00 00    	ld	de,_btiles
3039  0D78  19          	add	hl,de
3040  0D79  EB          	ex	de,hl
3041  0D7A  DD 6E FE    	ld	l,(ix-2)
3042  0D7D  DD 66 FF    	ld	h,(ix-1)
3043  0D80  09          	add	hl, bc
3044  0D81  7E          	ld	a, (hl)
3045  0D82  12          	ld	(de), a
3046  0D83  03          	inc	bc
3047  0D84  18 E0       	jr	l_game_page_map_00106
3048  0D86              l_game_page_map_00108:
3049  0D86  DD 36 E8 20 	ld	(ix-24),0x20
3050  0D8A  DD 36 E9 00 	ld	(ix-23),0x00
3051  0D8E              l_game_page_map_00109:
3052  0D8E  DD 7E E8    	ld	a,(ix-24)
3053  0D91  D6 24       	sub	a,0x24
3054  0D93  DD 7E E9    	ld	a,(ix-23)
3055  0D96  DE 00       	sbc	a,0x00
3056  0D98  30 48       	jr	NC,l_game_page_map_00111
3057  0D9A  DD 7E E8    	ld	a,(ix-24)
3058  0D9D  DD 86 E4    	add	a,(ix-28)
3059  0DA0  DD 77 ED    	ld	(ix-19),a
3060  0DA3  DD 7E E9    	ld	a,(ix-23)
3061  0DA6  DD 8E E5    	adc	a,(ix-27)
3062  0DA9  DD 77 EE    	ld	(ix-18),a
3063  0DAC  3E 00       	ld	a, +((_btiles) & 0xFF)
3064  0DAE  DD 86 ED    	add	a,(ix-19)
3065  0DB1  DD 77 ED    	ld	(ix-19),a
3066  0DB4  3E 00       	ld	a, +((_btiles) / 256)
3067  0DB6  DD 8E EE    	adc	a,(ix-18)
3068  0DB9  DD 77 EE    	ld	(ix-18),a
3069  0DBC  DD 7E FC    	ld	a,(ix-4)
3070  0DBF  DD 86 E8    	add	a,(ix-24)
3071  0DC2  DD 77 EF    	ld	(ix-17),a
3072  0DC5  6F          	ld	l,a
3073  0DC6  DD 7E FD    	ld	a,(ix-3)
3074  0DC9  DD 8E E9    	adc	a,(ix-23)
3075  0DCC  DD 77 F0    	ld	(ix-16),a
3076  0DCF  67          	ld	h,a
3077  0DD0  4E          	ld	c, (hl)
3078  0DD1  DD 6E ED    	ld	l,(ix-19)
3079  0DD4  DD 66 EE    	ld	h,(ix-18)
3080  0DD7  71          	ld	(hl), c
3081  0DD8  DD 34 E8    	inc	(ix-24)
3082  0DDB  20 B1       	jr	NZ,l_game_page_map_00109
3083  0DDD  DD 34 E9    	inc	(ix-23)
3084  0DE0  18 AC       	jr	l_game_page_map_00109
3085  0DE2              l_game_page_map_00111:
3086  0DE2  01 28 00    	ld	bc,0x0028
3087  0DE5              l_game_page_map_00112:
3088  0DE5  79          	ld	a, c
3089  0DE6  D6 2C       	sub	a,0x2c
3090  0DE8  78          	ld	a, b
3091  0DE9  DE 00       	sbc	a,0x00
3092  0DEB  D2 89 0E    	jp	NC, l_game_page_map_00126
3093  0DEE  DD 6E E4    	ld	l,(ix-28)
3094  0DF1  DD 66 E5    	ld	h,(ix-27)
3095  0DF4  09          	add	hl, bc
3096  0DF5  11 00 00    	ld	de,_btiles
3097  0DF8  19          	add	hl,de
3098  0DF9  EB          	ex	de,hl
3099  0DFA  DD 6E FA    	ld	l,(ix-6)
3100  0DFD  DD 66 FB    	ld	h,(ix-5)
3101  0E00  09          	add	hl, bc
3102  0E01  7E          	ld	a, (hl)
3103  0E02  12          	ld	(de), a
3104  0E03  03          	inc	bc
3105  0E04  18 DF       	jr	l_game_page_map_00112
3106  0E06              l_game_page_map_00178:
3107  0E06  01 00 00    	ld	bc,0x0000
3108  0E09              l_game_page_map_00115:
3109  0E09  79          	ld	a, c
3110  0E0A  D6 10       	sub	a,0x10
3111  0E0C  78          	ld	a, b
3112  0E0D  DE 00       	sbc	a,0x00
3113  0E0F  30 20       	jr	NC,l_game_page_map_00117
3114  0E11  DD 6E E4    	ld	l,(ix-28)
3115  0E14  DD 66 E5    	ld	h,(ix-27)
3116  0E17  09          	add	hl, bc
3117  0E18  11 00 00    	ld	de,_btiles
3118  0E1B  19          	add	hl,de
3119  0E1C  79          	ld	a,c
3120  0E1D  EB          	ex	de,hl
3121  0E1E  C6 10       	add	a,0x10
3122  0E20  6F          	ld	l, a
3123  0E21  DD 7E F5    	ld	a,(ix-11)
3124  0E24  85          	add	a, l
3125  0E25  6F          	ld	l, a
3126  0E26  DD 7E F6    	ld	a,(ix-10)
3127  0E29  CE 00       	adc	a,0x00
3128  0E2B  67          	ld	h, a
3129  0E2C  7E          	ld	a, (hl)
3130  0E2D  12          	ld	(de), a
3131  0E2E  03          	inc	bc
3132  0E2F  18 D8       	jr	l_game_page_map_00115
3133  0E31              l_game_page_map_00117:
3134  0E31  01 20 00    	ld	bc,0x0020
3135  0E34              l_game_page_map_00118:
3136  0E34  79          	ld	a, c
3137  0E35  D6 24       	sub	a,0x24
3138  0E37  78          	ld	a, b
3139  0E38  DE 00       	sbc	a,0x00
3140  0E3A  30 21       	jr	NC,l_game_page_map_00120
3141  0E3C  DD 6E E4    	ld	l,(ix-28)
3142  0E3F  DD 66 E5    	ld	h,(ix-27)
3143  0E42  09          	add	hl, bc
3144  0E43  11 00 00    	ld	de,_btiles
3145  0E46  19          	add	hl,de
3146  0E47  59          	ld	e,c
3147  0E48  EB          	ex	de,hl
3148  0E49  2C          	inc	l
3149  0E4A  2C          	inc	l
3150  0E4B  2C          	inc	l
3151  0E4C  2C          	inc	l
3152  0E4D  DD 7E F3    	ld	a,(ix-13)
3153  0E50  85          	add	a, l
3154  0E51  6F          	ld	l, a
3155  0E52  DD 7E F4    	ld	a,(ix-12)
3156  0E55  CE 00       	adc	a,0x00
3157  0E57  67          	ld	h, a
3158  0E58  7E          	ld	a, (hl)
3159  0E59  12          	ld	(de), a
3160  0E5A  03          	inc	bc
3161  0E5B  18 D7       	jr	l_game_page_map_00118
3162  0E5D              l_game_page_map_00120:
3163  0E5D  01 28 00    	ld	bc,0x0028
3164  0E60              l_game_page_map_00121:
3165  0E60  79          	ld	a, c
3166  0E61  D6 2C       	sub	a,0x2c
3167  0E63  78          	ld	a, b
3168  0E64  DE 00       	sbc	a,0x00
3169  0E66  30 21       	jr	NC,l_game_page_map_00126
3170  0E68  DD 6E E4    	ld	l,(ix-28)
3171  0E6B  DD 66 E5    	ld	h,(ix-27)
3172  0E6E  09          	add	hl, bc
3173  0E6F  11 00 00    	ld	de,_btiles
3174  0E72  19          	add	hl,de
3175  0E73  59          	ld	e,c
3176  0E74  EB          	ex	de,hl
3177  0E75  2C          	inc	l
3178  0E76  2C          	inc	l
3179  0E77  2C          	inc	l
3180  0E78  2C          	inc	l
3181  0E79  DD 7E F1    	ld	a,(ix-15)
3182  0E7C  85          	add	a, l
3183  0E7D  6F          	ld	l, a
3184  0E7E  DD 7E F2    	ld	a,(ix-14)
3185  0E81  CE 00       	adc	a,0x00
3186  0E83  67          	ld	h, a
3187  0E84  7E          	ld	a, (hl)
3188  0E85  12          	ld	(de), a
3189  0E86  03          	inc	bc
3190  0E87  18 D7       	jr	l_game_page_map_00121
3191  0E89              l_game_page_map_00126:
3192  0E89  DD 7E E4    	ld	a,(ix-28)
3193  0E8C  C6 30       	add	a,0x30
3194  0E8E  DD 77 E4    	ld	(ix-28),a
3195  0E91  DD 7E E5    	ld	a,(ix-27)
3196  0E94  CE 00       	adc	a,0x00
3197  0E96  DD 77 E5    	ld	(ix-27),a
3198  0E99  C3 D3 0C    	jp	l_game_page_map_00127
3199  0E9C              l_game_page_map_00129:
3200  0E9C  DD 36 E8 C0 	ld	(ix-24),0xc0
3201  0EA0  DD 36 E9 00 	ld	(ix-23),0x00
3202  0EA4              l_game_page_map_00138:
3203  0EA4  DD 7E E8    	ld	a,(ix-24)
3204  0EA7  D6 80       	sub	a,0x80
3205  0EA9  DD 7E E9    	ld	a,(ix-23)
3206  0EAC  DE 01       	sbc	a,0x01
3207  0EAE  30 68       	jr	NC,l_game_page_map_00140
3208  0EB0  21 30 00    	ld	hl,0x0030
3209  0EB3  E5          	push	hl
3210  0EB4  DD 6E E8    	ld	l,(ix-24)
3211  0EB7  DD 66 E9    	ld	h,(ix-23)
3212  0EBA  E5          	push	hl
3213  0EBB  CD 00 00    	call	__moduint_callee
3214  0EBE  7D          	ld	a,l
3215  0EBF  32 00 00    	ld	(_v0),a
3216  0EC2  D6 10       	sub	a,0x10
3217  0EC4  30 0E       	jr	NC,l_game_page_map_00131
3218  0EC6  3E 00       	ld	a, +((_btiles) & 0xFF)
3219  0EC8  DD 86 E8    	add	a,(ix-24)
3220  0ECB  4F          	ld	c, a
3221  0ECC  3E 00       	ld	a, +((_btiles) / 256)
3222  0ECE  DD 8E E9    	adc	a,(ix-23)
3223  0ED1  47          	ld	b, a
3224  0ED2  AF          	xor	a, a
3225  0ED3  02          	ld	(bc), a
3226  0ED4              l_game_page_map_00131:
3227  0ED4  21 00 00    	ld	hl,_v0
3228  0ED7  7E          	ld	a, (hl)
3229  0ED8  D6 20       	sub	a,0x20
3230  0EDA  38 15       	jr	C,l_game_page_map_00133
3231  0EDC  7E          	ld	a, (hl)
3232  0EDD  D6 24       	sub	a,0x24
3233  0EDF  30 10       	jr	NC,l_game_page_map_00133
3234  0EE1  3E 00       	ld	a, +((_btiles) & 0xFF)
3235  0EE3  DD 86 E8    	add	a,(ix-24)
3236  0EE6  4F          	ld	c, a
3237  0EE7  3E 00       	ld	a, +((_btiles) / 256)
3238  0EE9  DD 8E E9    	adc	a,(ix-23)
3239  0EEC  47          	ld	b, a
3240  0EED  DD 7E DF    	ld	a,(ix-33)
3241  0EF0  02          	ld	(bc), a
3242  0EF1              l_game_page_map_00133:
3243  0EF1  21 00 00    	ld	hl,_v0
3244  0EF4  7E          	ld	a, (hl)
3245  0EF5  D6 28       	sub	a,0x28
3246  0EF7  38 15       	jr	C,l_game_page_map_00136
3247  0EF9  7E          	ld	a, (hl)
3248  0EFA  D6 2C       	sub	a,0x2c
3249  0EFC  30 10       	jr	NC,l_game_page_map_00136
3250  0EFE  3E 00       	ld	a, +((_btiles) & 0xFF)
3251  0F00  DD 86 E8    	add	a,(ix-24)
3252  0F03  4F          	ld	c, a
3253  0F04  3E 00       	ld	a, +((_btiles) / 256)
3254  0F06  DD 8E E9    	adc	a,(ix-23)
3255  0F09  47          	ld	b, a
3256  0F0A  DD 7E DF    	ld	a,(ix-33)
3257  0F0D  02          	ld	(bc), a
3258  0F0E              l_game_page_map_00136:
3259  0F0E  DD 34 E8    	inc	(ix-24)
3260  0F11  20 91       	jr	NZ,l_game_page_map_00138
3261  0F13  DD 34 E9    	inc	(ix-23)
3262  0F16  18 8C       	jr	l_game_page_map_00138
3263  0F18              l_game_page_map_00140:
3264  0F18  DD 36 E8 00 	ld	(ix-24),0x00
3265  0F1C  DD 36 E9 00 	ld	(ix-23),0x00
3266  0F20              l_game_page_map_00141:
3267  0F20  DD 7E E8    	ld	a,(ix-24)
3268  0F23  D6 10       	sub	a,0x10
3269  0F25  DD 7E E9    	ld	a,(ix-23)
3270  0F28  DE 00       	sbc	a,0x00
3271  0F2A  30 30       	jr	NC,l_game_page_map_00143
3272  0F2C  DD 7E E8    	ld	a,(ix-24)
3273  0F2F  C6 C0       	add	a,0xc0
3274  0F31  4F          	ld	c, a
3275  0F32  DD 7E E9    	ld	a,(ix-23)
3276  0F35  CE 00       	adc	a,0x00
3277  0F37  47          	ld	b, a
3278  0F38  21 00 00    	ld	hl,_btiles
3279  0F3B  09          	add	hl,bc
3280  0F3C  3E 00       	ld	a,+((_btiles) & 0xFF)
3281  0F3E  DD 86 E8    	add	a,(ix-24)
3282  0F41  5F          	ld	e,a
3283  0F42  3E 00       	ld	a,+((_btiles) / 256)
3284  0F44  DD 8E E9    	adc	a,(ix-23)
3285  0F47  57          	ld	d,a
3286  0F48  1A          	ld	a,(de)
3287  0F49  77          	ld	(hl),a
3288  0F4A  DD 7E E8    	ld	a,(ix-24)
3289  0F4D  C6 02       	add	a,0x02
3290  0F4F  DD 77 E8    	ld	(ix-24),a
3291  0F52  DD 7E E9    	ld	a,(ix-23)
3292  0F55  CE 00       	adc	a,0x00
3293  0F57  DD 77 E9    	ld	(ix-23),a
3294  0F5A  18 C4       	jr	l_game_page_map_00141
3295  0F5C              l_game_page_map_00143:
3296  0F5C  DD 36 E8 00 	ld	(ix-24),0x00
3297  0F60  DD 36 E9 00 	ld	(ix-23),0x00
3298  0F64              l_game_page_map_00144:
3299  0F64  DD 7E E8    	ld	a,(ix-24)
3300  0F67  D6 10       	sub	a,0x10
3301  0F69  DD 7E E9    	ld	a,(ix-23)
3302  0F6C  DE 00       	sbc	a,0x00
3303  0F6E  30 20       	jr	NC,l_game_page_map_00146
3304  0F70  3E 00       	ld	a, +((_btiles) & 0xFF)
3305  0F72  DD 86 E8    	add	a,(ix-24)
3306  0F75  4F          	ld	c, a
3307  0F76  3E 00       	ld	a, +((_btiles) / 256)
3308  0F78  DD 8E E9    	adc	a,(ix-23)
3309  0F7B  47          	ld	b, a
3310  0F7C  AF          	xor	a, a
3311  0F7D  02          	ld	(bc), a
3312  0F7E  DD 7E E8    	ld	a,(ix-24)
3313  0F81  C6 02       	add	a,0x02
3314  0F83  DD 77 E8    	ld	(ix-24),a
3315  0F86  DD 7E E9    	ld	a,(ix-23)
3316  0F89  CE 00       	adc	a,0x00
3317  0F8B  DD 77 E9    	ld	(ix-23),a
3318  0F8E  18 D4       	jr	l_game_page_map_00144
3319  0F90              l_game_page_map_00146:
3320  0F90  3A 30 00    	ld	a,(_btiles + 0x0030)
3321  0F93  32 C5 00    	ld	((_btiles + 0x00c5)),a
3322  0F96  01 32 00    	ld	bc,_btiles + 50
3323  0F99  0A          	ld	a, (bc)
3324  0F9A  32 C7 00    	ld	((_btiles + 0x00c7)),a
3325  0F9D  3A 34 00    	ld	a,(_btiles + 0x0034)
3326  0FA0  32 C9 00    	ld	((_btiles + 0x00c9)),a
3327  0FA3  3A 36 00    	ld	a,(_btiles + 0x0036)
3328  0FA6  32 CB 00    	ld	((_btiles + 0x00cb)),a
3329  0FA9  3A 38 00    	ld	a, (_btiles + 56)
3330  0FAC  32 CD 00    	ld	((_btiles + 0x00cd)),a
3331  0FAF  3A 3A 00    	ld	a, (_btiles + 58)
3332  0FB2  32 CF 00    	ld	((_btiles + 0x00cf)),a
3333  0FB5  11 50 00    	ld	de,_btiles + 80
3334  0FB8  1A          	ld	a, (de)
3335  0FB9  32 E9 00    	ld	((_btiles + 0x00e9)),a
3336  0FBC  3A 51 00    	ld	a,(_btiles + 0x0051)
3337  0FBF  32 EA 00    	ld	((_btiles + 0x00ea)),a
3338  0FC2  3A 52 00    	ld	a, (_btiles + 82)
3339  0FC5  32 EB 00    	ld	((_btiles + 0x00eb)),a
3340  0FC8  3A 30 00    	ld	a,(_btiles + 0x0030)
3341  0FCB  32 FA 00    	ld	((_btiles + 0x00fa)),a
3342  0FCE  0A          	ld	a, (bc)
3343  0FCF  32 FC 00    	ld	((_btiles + 0x00fc)),a
3344  0FD2  3A 34 00    	ld	a,(_btiles + 0x0034)
3345  0FD5  32 FE 00    	ld	((_btiles + 0x00fe)),a
3346  0FD8  3A 36 00    	ld	a,(_btiles + 0x0036)
3347  0FDB  32 00 01    	ld	((_btiles + 0x0100)),a
3348  0FDE  1A          	ld	a, (de)
3349  0FDF  32 12 01    	ld	((_btiles + 0x0112)),a
3350  0FE2  3A 51 00    	ld	a,(_btiles + 0x0051)
3351  0FE5  32 13 01    	ld	((_btiles + 0x0113)),a
3352  0FE8  3A 30 00    	ld	a,(_btiles + 0x0030)
3353  0FEB  32 FD 00    	ld	((_btiles + 0x00fd)),a
3354  0FEE  0A          	ld	a, (bc)
3355  0FEF  32 FF 00    	ld	((_btiles + 0x00ff)),a
3356  0FF2  1A          	ld	a, (de)
3357  0FF3  32 1B 01    	ld	((_btiles + 0x011b)),a
3358  0FF6  3E 00       	ld	a,0x00
3359  0FF8  DD 77 E4    	ld	(ix-28),a
3360  0FFB  DD 77 E5    	ld	(ix-27),a
3361  0FFE  DD 77 E0    	ld	(ix-32),a
3362  1001  DD 77 E1    	ld	(ix-31),a
3363  1004  DD 36 E6 00 	ld	(ix-26),0x00
3364  1008  DD 36 E7 00 	ld	(ix-25),0x00
3365  100C              l_game_page_map_00147:
3366  100C  DD 4E DD    	ld	c,(ix-35)
3367  100F  06 00       	ld	b,0x00
3368  1011  DD 7E E6    	ld	a,(ix-26)
3369  1014  91          	sub	a, c
3370  1015  DD 7E E7    	ld	a,(ix-25)
3371  1018  98          	sbc	a, b
3372  1019  30 3A       	jr	NC,l_game_page_map_00149
3373  101B  3E 16       	ld	a,0x16
3374  101D  01 FD 7F    	ld	bc,_IO_7FFD
3375  1020  ED 79       	out	(c),a
3376  1022  01 00 00    	ld	bc,_lenght0
3377  1025  DD 6E E6    	ld	l,(ix-26)
3378  1028  DD 66 E7    	ld	h,(ix-25)
3379  102B  09          	add	hl,bc
3380  102C  4E          	ld	c, (hl)
3381  102D  06 00       	ld	b,0x00
3382  102F  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3383  1032  36 10       	ld	(hl),0x10
3384  1034  C5          	push	bc
3385  1035  3E 10       	ld	a,0x10
3386  1037  01 FD 7F    	ld	bc,_IO_7FFD
3387  103A  ED 79       	out	(c),a
3388  103C  C1          	pop	bc
3389  103D  DD 7E E0    	ld	a,(ix-32)
3390  1040  81          	add	a, c
3391  1041  DD 77 E0    	ld	(ix-32),a
3392  1044  DD 7E E1    	ld	a,(ix-31)
3393  1047  88          	adc	a, b
3394  1048  DD 77 E1    	ld	(ix-31),a
3395  104B  DD 34 E6    	inc	(ix-26)
3396  104E  20 BC       	jr	NZ,l_game_page_map_00147
3397  1050  DD 34 E7    	inc	(ix-25)
3398  1053  18 B7       	jr	l_game_page_map_00147
3399  1055              l_game_page_map_00149:
3400  1055  DD 36 E8 00 	ld	(ix-24),0x00
3401  1059  DD 36 E9 00 	ld	(ix-23),0x00
3402  105D              l_game_page_map_00162:
3403  105D  3E 16       	ld	a,0x16
3404  105F  01 FD 7F    	ld	bc,_IO_7FFD
3405  1062  ED 79       	out	(c),a
3406  1064  DD 7E E0    	ld	a,(ix-32)
3407  1067  DD 86 E8    	add	a,(ix-24)
3408  106A  4F          	ld	c, a
3409  106B  DD 7E E1    	ld	a,(ix-31)
3410  106E  DD 8E E9    	adc	a,(ix-23)
3411  1071  47          	ld	b, a
3412  1072  21 00 00    	ld	hl,_world0
3413  1075  09          	add	hl, bc
3414  1076  7E          	ld	a, (hl)
3415  1077  DD 77 EC    	ld	(ix-20),a
3416  107A  03          	inc	bc
3417  107B  21 00 00    	ld	hl,_world0
3418  107E  09          	add	hl, bc
3419  107F  7E          	ld	a, (hl)
3420  1080  DD 77 EB    	ld	(ix-21),a
3421  1083  3E 10       	ld	a,0x10
3422  1085  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3423  1088  01 FD 7F    	ld	bc,_IO_7FFD
3424  108B  ED 79       	out	(c),a
3425  108D  DD 7E EC    	ld	a,(ix-20)
3426  1090  D6 80       	sub	a,0x80
3427  1092  30 1F       	jr	NC,l_game_page_map_00154
3428  1094  DD 6E E4    	ld	l,(ix-28)
3429  1097  DD 66 E5    	ld	h,(ix-27)
3430  109A  01 00 00    	ld	bc,_scr_map
3431  109D  09          	add	hl,bc
3432  109E  DD 75 ED    	ld	(ix-19),l
3433  10A1  DD 74 EE    	ld	(ix-18),h
3434  10A4  DD 7E EC    	ld	a,(ix-20)
3435  10A7  77          	ld	(hl), a
3436  10A8  DD 34 E4    	inc	(ix-28)
3437  10AB  C2 28 11    	jp	NZ,l_game_page_map_00155
3438  10AE  DD 34 E5    	inc	(ix-27)
3439  10B1  18 75       	jr	l_game_page_map_00155
3440  10B3              l_game_page_map_00154:
3441  10B3  DD 7E EC    	ld	a,(ix-20)
3442  10B6  C6 80       	add	a,0x80
3443  10B8  DD 77 EA    	ld	(ix-22),a
3444  10BB  DD 7E E4    	ld	a,(ix-28)
3445  10BE  DD 77 ED    	ld	(ix-19),a
3446  10C1  DD 7E E5    	ld	a,(ix-27)
3447  10C4  DD 77 EE    	ld	(ix-18),a
3448  10C7  DD 36 E6 00 	ld	(ix-26),0x00
3449  10CB  DD 36 E7 00 	ld	(ix-25),0x00
3450  10CF              l_game_page_map_00160:
3451  10CF  DD 7E EA    	ld	a,(ix-22)
3452  10D2  DD 77 EF    	ld	(ix-17),a
3453  10D5  DD 36 F0 00 	ld	(ix-16),0x00
3454  10D9  DD 7E E6    	ld	a,(ix-26)
3455  10DC  DD 96 EF    	sub	a,(ix-17)
3456  10DF  DD 7E E7    	ld	a,(ix-25)
3457  10E2  DD 9E F0    	sbc	a,(ix-16)
3458  10E5  30 2D       	jr	NC,l_game_page_map_00214
3459  10E7  DD 6E ED    	ld	l,(ix-19)
3460  10EA  DD 66 EE    	ld	h,(ix-18)
3461  10ED  01 00 00    	ld	bc,_scr_map
3462  10F0  09          	add	hl,bc
3463  10F1  DD 75 EF    	ld	(ix-17),l
3464  10F4  DD 74 F0    	ld	(ix-16),h
3465  10F7  DD 7E EB    	ld	a,(ix-21)
3466  10FA  77          	ld	(hl), a
3467  10FB  DD 34 ED    	inc	(ix-19)
3468  10FE  20 03       	jr	NZ,l_game_page_map_00334
3469  1100  DD 34 EE    	inc	(ix-18)
3470  1103              l_game_page_map_00334:
3471  1103  DD 7E EE    	ld	a,(ix-18)
3472  1106  D6 02       	sub	a,0x02
3473  1108  30 0A       	jr	NC,l_game_page_map_00214
3474  110A  DD 34 E6    	inc	(ix-26)
3475  110D  20 C0       	jr	NZ,l_game_page_map_00160
3476  110F  DD 34 E7    	inc	(ix-25)
3477  1112  18 BB       	jr	l_game_page_map_00160
3478  1114              l_game_page_map_00214:
3479  1114  DD 7E ED    	ld	a,(ix-19)
3480  1117  DD 77 E4    	ld	(ix-28),a
3481  111A  DD 7E EE    	ld	a,(ix-18)
3482  111D  DD 77 E5    	ld	(ix-27),a
3483  1120  DD 34 E8    	inc	(ix-24)
3484  1123  20 03       	jr	NZ,l_game_page_map_00336
3485  1125  DD 34 E9    	inc	(ix-23)
3486  1128              l_game_page_map_00336:
3487  1128              l_game_page_map_00155:
3488  1128  DD 7E E5    	ld	a,(ix-27)
3489  112B  D6 02       	sub	a,0x02
3490  112D  30 10       	jr	NC,l_game_page_map_00158
3491  112F  DD 34 E8    	inc	(ix-24)
3492  1132  20 03       	jr	NZ,l_game_page_map_00337
3493  1134  DD 34 E9    	inc	(ix-23)
3494  1137              l_game_page_map_00337:
3495  1137  DD 7E E9    	ld	a,(ix-23)
3496  113A  D6 02       	sub	a,0x02
3497  113C  DA 5D 10    	jp	C, l_game_page_map_00162
3498  113F              l_game_page_map_00158:
3499  113F  DD 7E DE    	ld	a,(ix-34)
3500  1142  32 00 00    	ld	(_scr_curr),a
3501  1145  DD 7E DF    	ld	a,(ix-33)
3502  1148  32 00 00    	ld	(_map_paper),a
3503  114B  FB          	ei
3504  114C  DD F9       	ld	sp, ix
3505  114E  DD E1       	pop	ix
3506  1150  C9          	ret
3507  1151              	SECTION code_compiler
3508  1151              ;	---------------------------------
3509  1151              ; Function game_flash_exit
3510  1151              ; ---------------------------------
3511  1151              _game_flash_exit:
3512  1151  CD 00 00    	call	___sdcc_enter_ix
3513  1154  01 C0 00    	ld	bc,0x00c0
3514  1157              l_game_flash_exit_00106:
3515  1157  79          	ld	a, c
3516  1158  D6 80       	sub	a,0x80
3517  115A  78          	ld	a, b
3518  115B  DE 01       	sbc	a,0x01
3519  115D  30 36       	jr	NC,l_game_flash_exit_00108
3520  115F  C5          	push	bc
3521  1160  21 30 00    	ld	hl,0x0030
3522  1163  E5          	push	hl
3523  1164  C5          	push	bc
3524  1165  CD 00 00    	call	__moduint_callee
3525  1168  C1          	pop	bc
3526  1169  5D          	ld	e,l
3527  116A  21 00 00    	ld	hl,_v0
3528  116D  73          	ld	(hl),e
3529  116E  7B          	ld	a,e
3530  116F  D6 24       	sub	a,0x24
3531  1171  38 05       	jr	C,l_game_flash_exit_00105
3532  1173  7E          	ld	a, (hl)
3533  1174  D6 28       	sub	a,0x28
3534  1176  38 0D       	jr	C,l_game_flash_exit_00101
3535  1178              l_game_flash_exit_00105:
3536  1178  21 00 00    	ld	hl,_v0
3537  117B  7E          	ld	a, (hl)
3538  117C  D6 2C       	sub	a,0x2c
3539  117E  38 12       	jr	C,l_game_flash_exit_00102
3540  1180  7E          	ld	a, (hl)
3541  1181  D6 30       	sub	a,0x30
3542  1183  30 0D       	jr	NC,l_game_flash_exit_00102
3543  1185              l_game_flash_exit_00101:
3544  1185  21 00 00    	ld	hl,_btiles
3545  1188  09          	add	hl,bc
3546  1189  7E          	ld	a,(hl)
3547  118A  EB          	ex	de,hl
3548  118B  E6 7F       	and	a,0x7f
3549  118D  12          	ld	(de), a
3550  118E  DD B6 04    	or	a,(ix+4)
3551  1191  12          	ld	(de), a
3552  1192              l_game_flash_exit_00102:
3553  1192  03          	inc	bc
3554  1193  18 C2       	jr	l_game_flash_exit_00106
3555  1195              l_game_flash_exit_00108:
3556  1195  3A 00 00    	ld	a,(_game_exit_lin)
3557  1198  C6 F8       	add	a,0xf8
3558  119A  4F          	ld	c, a
3559  119B  3A 00 00    	ld	a, (_game_exit_col)
3560  119E  47          	ld	b,a
3561  119F  C5          	push	bc
3562  11A0  3E 1C       	ld	a,0x1c
3563  11A2  F5          	push	af
3564  11A3  33          	inc	sp
3565  11A4  CD 00 00    	call	_spr_draw8
3566  11A7  F1          	pop	af
3567  11A8  33          	inc	sp
3568  11A9  21 00 00    	ld	hl,_game_exit_col
3569  11AC  56          	ld	d, (hl)
3570  11AD  14          	inc	d
3571  11AE  3A 00 00    	ld	a,(_game_exit_lin)
3572  11B1  C6 F8       	add	a,0xf8
3573  11B3  5F          	ld	e, a
3574  11B4  D5          	push	de
3575  11B5  3E 1D       	ld	a,0x1d
3576  11B7  F5          	push	af
3577  11B8  33          	inc	sp
3578  11B9  CD 00 00    	call	_spr_draw8
3579  11BC  F1          	pop	af
3580  11BD  33          	inc	sp
3581  11BE  3A 00 00    	ld	a,(_game_exit_col)
3582  11C1  F5          	push	af
3583  11C2  33          	inc	sp
3584  11C3  3A 00 00    	ld	a,(_game_exit_lin)
3585  11C6  57          	ld	d,a
3586  11C7  1E 1E       	ld	e,0x1e
3587  11C9  D5          	push	de
3588  11CA  CD 00 00    	call	_spr_draw8
3589  11CD  F1          	pop	af
3590  11CE  33          	inc	sp
3591  11CF  21 00 00    	ld	hl,_game_exit_col
3592  11D2  46          	ld	b, (hl)
3593  11D3  04          	inc	b
3594  11D4  C5          	push	bc
3595  11D5  33          	inc	sp
3596  11D6  3A 00 00    	ld	a,(_game_exit_lin)
3597  11D9  57          	ld	d,a
3598  11DA  1E 1F       	ld	e,0x1f
3599  11DC  D5          	push	de
3600  11DD  CD 00 00    	call	_spr_draw8
3601  11E0  F1          	pop	af
3602  11E1  33          	inc	sp
3603  11E2  21 00 00    	ld	hl,_i
3604  11E5  36 00       	ld	(hl),0x00
3605  11E7  01 F0 0E    	ld	bc,0x0ef0
3606  11EA              l_game_flash_exit_00109:
3607  11EA  3A 00 00    	ld	a,(_i)
3608  11ED  D6 10       	sub	a,0x10
3609  11EF  30 14       	jr	NC,l_game_flash_exit_00112
3610  11F1  21 00 00    	ld	hl,_btiles
3611  11F4  09          	add	hl,bc
3612  11F5  7E          	ld	a,(hl)
3613  11F6  EB          	ex	de,hl
3614  11F7  E6 7F       	and	a,0x7f
3615  11F9  12          	ld	(de), a
3616  11FA  DD B6 04    	or	a,(ix+4)
3617  11FD  12          	ld	(de), a
3618  11FE  21 00 00    	ld	hl,_i
3619  1201  34          	inc	(hl)
3620  1202  03          	inc	bc
3621  1203  18 E5       	jr	l_game_flash_exit_00109
3622  1205              l_game_flash_exit_00112:
3623  1205  DD E1       	pop	ix
3624  1207  C9          	ret
3625  1208              	SECTION code_compiler
3626  1208              ;	---------------------------------
3627  1208              ; Function game_copy_tile_std
3628  1208              ; ---------------------------------
3629  1208              _game_copy_tile_std:
3630  1208  CD 00 00    	call	___sdcc_enter_ix
3631  120B  AF          	xor	a, a
3632  120C  F5          	push	af
3633  120D  33          	inc	sp
3634  120E  DD 66 05    	ld	h,(ix+5)
3635  1211  DD 6E 04    	ld	l,(ix+4)
3636  1214  E5          	push	hl
3637  1215  CD B0 12    	call	_game_copy_tile
3638  1218  F1          	pop	af
3639  1219  33          	inc	sp
3640  121A  DD 46 05    	ld	b,(ix+5)
3641  121D  04          	inc	b
3642  121E  DD 4E 04    	ld	c,(ix+4)
3643  1221  0C          	inc	c
3644  1222  C5          	push	bc
3645  1223  AF          	xor	a, a
3646  1224  F5          	push	af
3647  1225  33          	inc	sp
3648  1226  C5          	push	bc
3649  1227  CD B0 12    	call	_game_copy_tile
3650  122A  F1          	pop	af
3651  122B  33          	inc	sp
3652  122C  C1          	pop	bc
3653  122D  DD 56 05    	ld	d,(ix+5)
3654  1230  14          	inc	d
3655  1231  14          	inc	d
3656  1232  DD 46 04    	ld	b,(ix+4)
3657  1235  04          	inc	b
3658  1236  04          	inc	b
3659  1237  C5          	push	bc
3660  1238  AF          	xor	a, a
3661  1239  5A          	ld	e,d
3662  123A  57          	ld	d,a
3663  123B  D5          	push	de
3664  123C  C5          	push	bc
3665  123D  33          	inc	sp
3666  123E  CD B0 12    	call	_game_copy_tile
3667  1241  F1          	pop	af
3668  1242  33          	inc	sp
3669  1243  C1          	pop	bc
3670  1244  DD 56 05    	ld	d,(ix+5)
3671  1247  14          	inc	d
3672  1248  14          	inc	d
3673  1249  14          	inc	d
3674  124A  DD 5E 04    	ld	e,(ix+4)
3675  124D  1C          	inc	e
3676  124E  1C          	inc	e
3677  124F  1C          	inc	e
3678  1250  C5          	push	bc
3679  1251  D5          	push	de
3680  1252  AF          	xor	a, a
3681  1253  F5          	push	af
3682  1254  33          	inc	sp
3683  1255  D5          	push	de
3684  1256  CD B0 12    	call	_game_copy_tile
3685  1259  F1          	pop	af
3686  125A  33          	inc	sp
3687  125B  D1          	pop	de
3688  125C  C1          	pop	bc
3689  125D  DD 56 05    	ld	d,(ix+5)
3690  1260  14          	inc	d
3691  1261  14          	inc	d
3692  1262  14          	inc	d
3693  1263  14          	inc	d
3694  1264  C5          	push	bc
3695  1265  3E 01       	ld	a,0x01
3696  1267  F5          	push	af
3697  1268  33          	inc	sp
3698  1269  D5          	push	de
3699  126A  CD B0 12    	call	_game_copy_tile
3700  126D  F1          	pop	af
3701  126E  33          	inc	sp
3702  126F  C1          	pop	bc
3703  1270  DD 7E 05    	ld	a,(ix+5)
3704  1273  C6 05       	add	a,0x05
3705  1275  57          	ld	d, a
3706  1276  C5          	push	bc
3707  1277  3E 01       	ld	a,0x01
3708  1279  5A          	ld	e,d
3709  127A  57          	ld	d,a
3710  127B  D5          	push	de
3711  127C  C5          	push	bc
3712  127D  33          	inc	sp
3713  127E  CD B0 12    	call	_game_copy_tile
3714  1281  F1          	pop	af
3715  1282  33          	inc	sp
3716  1283  C1          	pop	bc
3717  1284  DD 7E 05    	ld	a,(ix+5)
3718  1287  C6 06       	add	a,0x06
3719  1289  47          	ld	b, a
3720  128A  3E 01       	ld	a,0x01
3721  128C  F5          	push	af
3722  128D  33          	inc	sp
3723  128E  C5          	push	bc
3724  128F  CD B0 12    	call	_game_copy_tile
3725  1292  F1          	pop	af
3726  1293  33          	inc	sp
3727  1294  DD 7E 05    	ld	a,(ix+5)
3728  1297  C6 07       	add	a,0x07
3729  1299  4F          	ld	c, a
3730  129A  06 01       	ld	b,0x01
3731  129C  C5          	push	bc
3732  129D  DD 7E 04    	ld	a,(ix+4)
3733  12A0  F5          	push	af
3734  12A1  33          	inc	sp
3735  12A2  CD B0 12    	call	_game_copy_tile
3736  12A5  F1          	pop	af
3737  12A6  33          	inc	sp
3738  12A7  DD 7E 05    	ld	a,(ix+5)
3739  12AA  C6 08       	add	a,0x08
3740  12AC  6F          	ld	l, a
3741  12AD  DD E1       	pop	ix
3742  12AF  C9          	ret
3743  12B0              	SECTION code_compiler
3744  12B0              ;	---------------------------------
3745  12B0              ; Function game_copy_tile
3746  12B0              ; ---------------------------------
3747  12B0              _game_copy_tile:
3748  12B0  CD 00 00    	call	___sdcc_enter_ix
3749  12B3  21 C2 FF    	ld	hl, -62
3750  12B6  39          	add	hl, sp
3751  12B7  F9          	ld	sp, hl
3752  12B8  F3          	di
3753  12B9  3E 13       	ld	a,0x13
3754  12BB  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3755  12BE  01 FD 7F    	ld	bc,_IO_7FFD
3756  12C1  ED 79       	out	(c),a
3757  12C3  DD 6E 04    	ld	l,(ix+4)
3758  12C6  26 00       	ld	h,0x00
3759  12C8  4D          	ld	c,l
3760  12C9  44          	ld	b,h
3761  12CA  29          	add	hl, hl
3762  12CB  09          	add	hl, bc
3763  12CC  29          	add	hl, hl
3764  12CD  29          	add	hl, hl
3765  12CE  29          	add	hl, hl
3766  12CF  29          	add	hl, hl
3767  12D0  4D          	ld	c, l
3768  12D1  44          	ld	b, h
3769  12D2  21 01 00    	ld	hl,0x0001
3770  12D5  39          	add	hl, sp
3771  12D6  EB          	ex	de,hl
3772  12D7  DD 36 C2 00 	ld	(ix-62),0x00
3773  12DB              l_game_copy_tile_00101:
3774  12DB  DD 7E C2    	ld	a,(ix-62)
3775  12DE  D6 30       	sub	a,0x30
3776  12E0  30 25       	jr	NC,l_game_copy_tile_00103
3777  12E2  7B          	ld	a, e
3778  12E3  DD 86 C2    	add	a,(ix-62)
3779  12E6  DD 77 FE    	ld	(ix-2),a
3780  12E9  7A          	ld	a, d
3781  12EA  CE 00       	adc	a,0x00
3782  12EC  DD 77 FF    	ld	(ix-1),a
3783  12EF  21 00 00    	ld	hl,_hibtiles
3784  12F2  09          	add	hl,bc
3785  12F3  DD 75 FC    	ld	(ix-4),l
3786  12F6  DD 74 FD    	ld	(ix-3),h
3787  12F9  7E          	ld	a, (hl)
3788  12FA  DD 6E FE    	ld	l,(ix-2)
3789  12FD  DD 66 FF    	ld	h,(ix-1)
3790  1300  77          	ld	(hl), a
3791  1301  DD 34 C2    	inc	(ix-62)
3792  1304  03          	inc	bc
3793  1305  18 D4       	jr	l_game_copy_tile_00101
3794  1307              l_game_copy_tile_00103:
3795  1307  3E 10       	ld	a,0x10
3796  1309  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3797  130C  01 FD 7F    	ld	bc,_IO_7FFD
3798  130F  ED 79       	out	(c),a
3799  1311  FB          	ei
3800  1312  DD 6E 05    	ld	l,(ix+5)
3801  1315  26 00       	ld	h,0x00
3802  1317  4D          	ld	c,l
3803  1318  44          	ld	b,h
3804  1319  29          	add	hl, hl
3805  131A  09          	add	hl, bc
3806  131B  29          	add	hl, hl
3807  131C  29          	add	hl, hl
3808  131D  29          	add	hl, hl
3809  131E  29          	add	hl, hl
3810  131F  DD 73 FC    	ld	(ix-4),e
3811  1322  DD 72 FD    	ld	(ix-3),d
3812  1325  DD 73 FE    	ld	(ix-2),e
3813  1328  DD 72 FF    	ld	(ix-1),d
3814  132B  DD 73 FA    	ld	(ix-6),e
3815  132E  DD 72 FB    	ld	(ix-5),d
3816  1331  DD 73 F8    	ld	(ix-8),e
3817  1334  DD 72 F9    	ld	(ix-7),d
3818  1337  DD 73 F6    	ld	(ix-10),e
3819  133A  DD 72 F7    	ld	(ix-9),d
3820  133D  1E 00       	ld	e,0x00
3821  133F  4D          	ld	c,l
3822  1340  44          	ld	b,h
3823  1341              l_game_copy_tile_00116:
3824  1341  7B          	ld	a,e
3825  1342  FE 30       	cp	a,0x30
3826  1344  D2 0D 14    	jp	NC,l_game_copy_tile_00119
3827  1347  3C          	inc	a
3828  1348  DD 77 F5    	ld	(ix-11),a
3829  134B  DD 7E 06    	ld	a,(ix+6)
3830  134E  B7          	or	a, a
3831  134F  CA EB 13    	jp	Z, l_game_copy_tile_00114
3832  1352  7B          	ld	a, e
3833  1353  D6 20       	sub	a,0x20
3834  1355  30 4D       	jr	NC,l_game_copy_tile_00111
3835  1357  CB 43       	bit	0, e
3836  1359  20 22       	jr	NZ,l_game_copy_tile_00105
3837  135B  21 00 00    	ld	hl,_btiles
3838  135E  09          	add	hl,bc
3839  135F  EB          	ex	de,hl
3840  1360  DD 7E F6    	ld	a,(ix-10)
3841  1363  DD 86 F5    	add	a,(ix-11)
3842  1366  6F          	ld	l, a
3843  1367  DD 7E F7    	ld	a,(ix-9)
3844  136A  CE 00       	adc	a,0x00
3845  136C  67          	ld	h, a
3846  136D  66          	ld	h, (hl)
3847  136E  C5          	push	bc
3848  136F  D5          	push	de
3849  1370  E5          	push	hl
3850  1371  33          	inc	sp
3851  1372  CD 12 14    	call	_reverse
3852  1375  33          	inc	sp
3853  1376  D1          	pop	de
3854  1377  C1          	pop	bc
3855  1378  7D          	ld	a,l
3856  1379  12          	ld	(de), a
3857  137A  C3 06 14    	jp	l_game_copy_tile_00115
3858  137D              l_game_copy_tile_00105:
3859  137D  21 00 00    	ld	hl,_btiles
3860  1380  09          	add	hl,bc
3861  1381  DD 75 F3    	ld	(ix-13),l
3862  1384  DD 74 F4    	ld	(ix-12),h
3863  1387  1D          	dec	e
3864  1388  DD 6E F8    	ld	l,(ix-8)
3865  138B  DD 66 F9    	ld	h,(ix-7)
3866  138E  16 00       	ld	d,0x00
3867  1390  19          	add	hl, de
3868  1391  56          	ld	d, (hl)
3869  1392  C5          	push	bc
3870  1393  D5          	push	de
3871  1394  33          	inc	sp
3872  1395  CD 12 14    	call	_reverse
3873  1398  33          	inc	sp
3874  1399  C1          	pop	bc
3875  139A  5D          	ld	e,l
3876  139B  DD 6E F3    	ld	l,(ix-13)
3877  139E  DD 66 F4    	ld	h,(ix-12)
3878  13A1  73          	ld	(hl), e
3879  13A2  18 62       	jr	l_game_copy_tile_00115
3880  13A4              l_game_copy_tile_00111:
3881  13A4  7B          	ld	a, e
3882  13A5  D6 28       	sub	a,0x28
3883  13A7  30 21       	jr	NC,l_game_copy_tile_00108
3884  13A9  21 00 00    	ld	hl,_btiles
3885  13AC  09          	add	hl,bc
3886  13AD  DD 75 F3    	ld	(ix-13),l
3887  13B0  DD 74 F4    	ld	(ix-12),h
3888  13B3  7B          	ld	a, e
3889  13B4  C6 08       	add	a,0x08
3890  13B6  5F          	ld	e, a
3891  13B7  DD 6E FA    	ld	l,(ix-6)
3892  13BA  DD 66 FB    	ld	h,(ix-5)
3893  13BD  16 00       	ld	d,0x00
3894  13BF  19          	add	hl, de
3895  13C0  5E          	ld	e, (hl)
3896  13C1  DD 6E F3    	ld	l,(ix-13)
3897  13C4  DD 66 F4    	ld	h,(ix-12)
3898  13C7  73          	ld	(hl), e
3899  13C8  18 3C       	jr	l_game_copy_tile_00115
3900  13CA              l_game_copy_tile_00108:
3901  13CA  21 00 00    	ld	hl,_btiles
3902  13CD  09          	add	hl,bc
3903  13CE  DD 75 F3    	ld	(ix-13),l
3904  13D1  DD 74 F4    	ld	(ix-12),h
3905  13D4  7B          	ld	a, e
3906  13D5  C6 F8       	add	a,0xf8
3907  13D7  5F          	ld	e, a
3908  13D8  DD 6E FE    	ld	l,(ix-2)
3909  13DB  DD 66 FF    	ld	h,(ix-1)
3910  13DE  16 00       	ld	d,0x00
3911  13E0  19          	add	hl, de
3912  13E1  5E          	ld	e, (hl)
3913  13E2  DD 6E F3    	ld	l,(ix-13)
3914  13E5  DD 66 F4    	ld	h,(ix-12)
3915  13E8  73          	ld	(hl), e
3916  13E9  18 1B       	jr	l_game_copy_tile_00115
3917  13EB              l_game_copy_tile_00114:
3918  13EB  21 00 00    	ld	hl,_btiles
3919  13EE  09          	add	hl,bc
3920  13EF  DD 75 F3    	ld	(ix-13),l
3921  13F2  DD 74 F4    	ld	(ix-12),h
3922  13F5  DD 6E FC    	ld	l,(ix-4)
3923  13F8  DD 66 FD    	ld	h,(ix-3)
3924  13FB  16 00       	ld	d,0x00
3925  13FD  19          	add	hl, de
3926  13FE  5E          	ld	e, (hl)
3927  13FF  DD 6E F3    	ld	l,(ix-13)
3928  1402  DD 66 F4    	ld	h,(ix-12)
3929  1405  73          	ld	(hl), e
3930  1406              l_game_copy_tile_00115:
3931  1406  DD 5E F5    	ld	e,(ix-11)
3932  1409  03          	inc	bc
3933  140A  C3 41 13    	jp	l_game_copy_tile_00116
3934  140D              l_game_copy_tile_00119:
3935  140D  DD F9       	ld	sp, ix
3936  140F  DD E1       	pop	ix
3937  1411  C9          	ret
3938  1412              	SECTION code_compiler
3939  1412              ;	---------------------------------
3940  1412              ; Function reverse
3941  1412              ; ---------------------------------
3942  1412              _reverse:
3943  1412  CD 00 00    	call	___sdcc_enter_ix
3944  1415  DD 7E 04    	ld	a,(ix+4)
3945  1418  E6 F0       	and	a,0xf0
3946  141A  07          	rlca
3947  141B  07          	rlca
3948  141C  07          	rlca
3949  141D  07          	rlca
3950  141E  E6 0F       	and	a,0x0f
3951  1420  4F          	ld	c, a
3952  1421  DD 7E 04    	ld	a,(ix+4)
3953  1424  E6 0F       	and	a,0x0f
3954  1426  07          	rlca
3955  1427  07          	rlca
3956  1428  07          	rlca
3957  1429  07          	rlca
3958  142A  E6 F0       	and	a,0xf0
3959  142C  B1          	or	a, c
3960  142D  DD 77 04    	ld	(ix+4),a
3961  1430  E6 CC       	and	a,0xcc
3962  1432  4F          	ld	c, a
3963  1433  CB 39       	srl	c
3964  1435  CB 39       	srl	c
3965  1437  DD 7E 04    	ld	a,(ix+4)
3966  143A  E6 33       	and	a,0x33
3967  143C  87          	add	a, a
3968  143D  87          	add	a, a
3969  143E  B1          	or	a, c
3970  143F  DD 77 04    	ld	(ix+4),a
3971  1442  E6 AA       	and	a,0xaa
3972  1444  4F          	ld	c, a
3973  1445  CB 39       	srl	c
3974  1447  DD 7E 04    	ld	a,(ix+4)
3975  144A  E6 55       	and	a,0x55
3976  144C  87          	add	a, a
3977  144D  B1          	or	a, c
3978  144E  DD 77 04    	ld	(ix+4),a
3979  1451  6F          	ld	l, a
3980  1452  DD E1       	pop	ix
3981  1454  C9          	ret
3982  1455              	SECTION IGNORE
3983  0000              
