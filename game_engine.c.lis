1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_print_lives
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_img1
207   0000              	GLOBAL _game_tick
208   0000              	GLOBAL _game_loop
209   0000              	GLOBAL _game_fps
210   0000              	GLOBAL _game_draw_map
211   0000              	GLOBAL _game_cell_paint_index
212   0000              	GLOBAL _game_cell_paint
213   0000              	GLOBAL _game_print_footer
214   0000              	GLOBAL _game_print_score
215   0000              	GLOBAL _game_cls
216   0000              	GLOBAL _game_start_timer
217   0000              	GLOBAL _game_anim_air
218   0000              	GLOBAL _game_round_init
219   0000              	GLOBAL _game_print_header
220   0000              	GLOBAL _game_check_map
221   0000              	GLOBAL _game_check_cell
222   0000              	GLOBAL _game_paint_attrib
223   0000              	GLOBAL _game_colour_message
224   0000              	GLOBAL _game_check_time
225   0000              	GLOBAL _game_key_paint
226   0000              	GLOBAL _game_rotate_attrib_osd
227   0000              	GLOBAL _game_attribs
228   0000              	GLOBAL _game_page_map
229   0000              	GLOBAL _game_flash_exit
230   0000              	GLOBAL _game_copy_sprite_color_reset
231   0000              	GLOBAL _game_copy_sprite_std
232   0000              	GLOBAL _game_copy_sprite
233   0000              	GLOBAL _reverse
234   0000              	GLOBAL _page
235   0000              ;--------------------------------------------------------
236   0000              ; Externals used
237   0000              ;--------------------------------------------------------
238   0000              	GLOBAL _ffsll_callee
239   0000              	GLOBAL _ffsll
240   0000              	GLOBAL _strxfrm_callee
241   0000              	GLOBAL _strxfrm
242   0000              	GLOBAL _strupr_fastcall
243   0000              	GLOBAL _strupr
244   0000              	GLOBAL _strtok_r_callee
245   0000              	GLOBAL _strtok_r
246   0000              	GLOBAL _strtok_callee
247   0000              	GLOBAL _strtok
248   0000              	GLOBAL _strstrip_fastcall
249   0000              	GLOBAL _strstrip
250   0000              	GLOBAL _strstr_callee
251   0000              	GLOBAL _strstr
252   0000              	GLOBAL _strspn_callee
253   0000              	GLOBAL _strspn
254   0000              	GLOBAL _strsep_callee
255   0000              	GLOBAL _strsep
256   0000              	GLOBAL _strrstrip_fastcall
257   0000              	GLOBAL _strrstrip
258   0000              	GLOBAL _strrstr_callee
259   0000              	GLOBAL _strrstr
260   0000              	GLOBAL _strrspn_callee
261   0000              	GLOBAL _strrspn
262   0000              	GLOBAL _strrev_fastcall
263   0000              	GLOBAL _strrev
264   0000              	GLOBAL _strrcspn_callee
265   0000              	GLOBAL _strrcspn
266   0000              	GLOBAL _strrchr_callee
267   0000              	GLOBAL _strrchr
268   0000              	GLOBAL _strpbrk_callee
269   0000              	GLOBAL _strpbrk
270   0000              	GLOBAL _strnlen_callee
271   0000              	GLOBAL _strnlen
272   0000              	GLOBAL _strnicmp_callee
273   0000              	GLOBAL _strnicmp
274   0000              	GLOBAL _strndup_callee
275   0000              	GLOBAL _strndup
276   0000              	GLOBAL _strncpy_callee
277   0000              	GLOBAL _strncpy
278   0000              	GLOBAL _strncmp_callee
279   0000              	GLOBAL _strncmp
280   0000              	GLOBAL _strnchr_callee
281   0000              	GLOBAL _strnchr
282   0000              	GLOBAL _strncat_callee
283   0000              	GLOBAL _strncat
284   0000              	GLOBAL _strncasecmp_callee
285   0000              	GLOBAL _strncasecmp
286   0000              	GLOBAL _strlwr_fastcall
287   0000              	GLOBAL _strlwr
288   0000              	GLOBAL _strlen_fastcall
289   0000              	GLOBAL _strlen
290   0000              	GLOBAL _strlcpy_callee
291   0000              	GLOBAL _strlcpy
292   0000              	GLOBAL _strlcat_callee
293   0000              	GLOBAL _strlcat
294   0000              	GLOBAL _stricmp_callee
295   0000              	GLOBAL _stricmp
296   0000              	GLOBAL _strerror_fastcall
297   0000              	GLOBAL _strerror
298   0000              	GLOBAL _strdup_fastcall
299   0000              	GLOBAL _strdup
300   0000              	GLOBAL _strcspn_callee
301   0000              	GLOBAL _strcspn
302   0000              	GLOBAL _strcpy_callee
303   0000              	GLOBAL _strcpy
304   0000              	GLOBAL _strcoll_callee
305   0000              	GLOBAL _strcoll
306   0000              	GLOBAL _strcmp_callee
307   0000              	GLOBAL _strcmp
308   0000              	GLOBAL _strchrnul_callee
309   0000              	GLOBAL _strchrnul
310   0000              	GLOBAL _strchr_callee
311   0000              	GLOBAL _strchr
312   0000              	GLOBAL _strcat_callee
313   0000              	GLOBAL _strcat
314   0000              	GLOBAL _strcasecmp_callee
315   0000              	GLOBAL _strcasecmp
316   0000              	GLOBAL _stpncpy_callee
317   0000              	GLOBAL _stpncpy
318   0000              	GLOBAL _stpcpy_callee
319   0000              	GLOBAL _stpcpy
320   0000              	GLOBAL _memswap_callee
321   0000              	GLOBAL _memswap
322   0000              	GLOBAL _memset_callee
323   0000              	GLOBAL _memset
324   0000              	GLOBAL _memrchr_callee
325   0000              	GLOBAL _memrchr
326   0000              	GLOBAL _memmove_callee
327   0000              	GLOBAL _memmove
328   0000              	GLOBAL _memmem_callee
329   0000              	GLOBAL _memmem
330   0000              	GLOBAL _memcpy_callee
331   0000              	GLOBAL _memcpy
332   0000              	GLOBAL _memcmp_callee
333   0000              	GLOBAL _memcmp
334   0000              	GLOBAL _memchr_callee
335   0000              	GLOBAL _memchr
336   0000              	GLOBAL _memccpy_callee
337   0000              	GLOBAL _memccpy
338   0000              	GLOBAL _ffsl_fastcall
339   0000              	GLOBAL _ffsl
340   0000              	GLOBAL _ffs_fastcall
341   0000              	GLOBAL _ffs
342   0000              	GLOBAL __strrstrip__fastcall
343   0000              	GLOBAL __strrstrip_
344   0000              	GLOBAL __memupr__callee
345   0000              	GLOBAL __memupr_
346   0000              	GLOBAL __memstrcpy__callee
347   0000              	GLOBAL __memstrcpy_
348   0000              	GLOBAL __memlwr__callee
349   0000              	GLOBAL __memlwr_
350   0000              	GLOBAL _rawmemchr_callee
351   0000              	GLOBAL _rawmemchr
352   0000              	GLOBAL _strnset_callee
353   0000              	GLOBAL _strnset
354   0000              	GLOBAL _strset_callee
355   0000              	GLOBAL _strset
356   0000              	GLOBAL _rindex_callee
357   0000              	GLOBAL _rindex
358   0000              	GLOBAL _index_callee
359   0000              	GLOBAL _index
360   0000              	GLOBAL _bzero_callee
361   0000              	GLOBAL _bzero
362   0000              	GLOBAL _bcopy_callee
363   0000              	GLOBAL _bcopy
364   0000              	GLOBAL _bcmp_callee
365   0000              	GLOBAL _bcmp
366   0000              	GLOBAL _ulltoa_callee
367   0000              	GLOBAL _ulltoa
368   0000              	GLOBAL _strtoull_callee
369   0000              	GLOBAL _strtoull
370   0000              	GLOBAL _strtoll_callee
371   0000              	GLOBAL _strtoll
372   0000              	GLOBAL _lltoa_callee
373   0000              	GLOBAL _lltoa
374   0000              	GLOBAL _llabs_callee
375   0000              	GLOBAL _llabs
376   0000              	GLOBAL __lldivu__callee
377   0000              	GLOBAL __lldivu_
378   0000              	GLOBAL __lldiv__callee
379   0000              	GLOBAL __lldiv_
380   0000              	GLOBAL _atoll_callee
381   0000              	GLOBAL _atoll
382   0000              	GLOBAL _realloc_unlocked_callee
383   0000              	GLOBAL _realloc_unlocked
384   0000              	GLOBAL _malloc_unlocked_fastcall
385   0000              	GLOBAL _malloc_unlocked
386   0000              	GLOBAL _free_unlocked_fastcall
387   0000              	GLOBAL _free_unlocked
388   0000              	GLOBAL _calloc_unlocked_callee
389   0000              	GLOBAL _calloc_unlocked
390   0000              	GLOBAL _aligned_alloc_unlocked_callee
391   0000              	GLOBAL _aligned_alloc_unlocked
392   0000              	GLOBAL _realloc_callee
393   0000              	GLOBAL _realloc
394   0000              	GLOBAL _malloc_fastcall
395   0000              	GLOBAL _malloc
396   0000              	GLOBAL _free_fastcall
397   0000              	GLOBAL _free
398   0000              	GLOBAL _calloc_callee
399   0000              	GLOBAL _calloc
400   0000              	GLOBAL _aligned_alloc_callee
401   0000              	GLOBAL _aligned_alloc
402   0000              	GLOBAL _utoa_callee
403   0000              	GLOBAL _utoa
404   0000              	GLOBAL _ultoa_callee
405   0000              	GLOBAL _ultoa
406   0000              	GLOBAL _system_fastcall
407   0000              	GLOBAL _system
408   0000              	GLOBAL _strtoul_callee
409   0000              	GLOBAL _strtoul
410   0000              	GLOBAL _strtol_callee
411   0000              	GLOBAL _strtol
412   0000              	GLOBAL _strtof_callee
413   0000              	GLOBAL _strtof
414   0000              	GLOBAL _strtod_callee
415   0000              	GLOBAL _strtod
416   0000              	GLOBAL _srand_fastcall
417   0000              	GLOBAL _srand
418   0000              	GLOBAL _rand
419   0000              	GLOBAL _quick_exit_fastcall
420   0000              	GLOBAL _quick_exit
421   0000              	GLOBAL _qsort_callee
422   0000              	GLOBAL _qsort
423   0000              	GLOBAL _ltoa_callee
424   0000              	GLOBAL _ltoa
425   0000              	GLOBAL _labs_fastcall
426   0000              	GLOBAL _labs
427   0000              	GLOBAL _itoa_callee
428   0000              	GLOBAL _itoa
429   0000              	GLOBAL _ftoh_callee
430   0000              	GLOBAL _ftoh
431   0000              	GLOBAL _ftog_callee
432   0000              	GLOBAL _ftog
433   0000              	GLOBAL _ftoe_callee
434   0000              	GLOBAL _ftoe
435   0000              	GLOBAL _ftoa_callee
436   0000              	GLOBAL _ftoa
437   0000              	GLOBAL _exit_fastcall
438   0000              	GLOBAL _exit
439   0000              	GLOBAL _dtoh_callee
440   0000              	GLOBAL _dtoh
441   0000              	GLOBAL _dtog_callee
442   0000              	GLOBAL _dtog
443   0000              	GLOBAL _dtoe_callee
444   0000              	GLOBAL _dtoe
445   0000              	GLOBAL _dtoa_callee
446   0000              	GLOBAL _dtoa
447   0000              	GLOBAL _bsearch_callee
448   0000              	GLOBAL _bsearch
449   0000              	GLOBAL _atol_fastcall
450   0000              	GLOBAL _atol
451   0000              	GLOBAL _atoi_fastcall
452   0000              	GLOBAL _atoi
453   0000              	GLOBAL _atof_fastcall
454   0000              	GLOBAL _atof
455   0000              	GLOBAL _atexit_fastcall
456   0000              	GLOBAL _atexit
457   0000              	GLOBAL _at_quick_exit_fastcall
458   0000              	GLOBAL _at_quick_exit
459   0000              	GLOBAL _abs_fastcall
460   0000              	GLOBAL _abs
461   0000              	GLOBAL _abort
462   0000              	GLOBAL __strtou__callee
463   0000              	GLOBAL __strtou_
464   0000              	GLOBAL __strtoi__callee
465   0000              	GLOBAL __strtoi_
466   0000              	GLOBAL __random_uniform_xor_8__fastcall
467   0000              	GLOBAL __random_uniform_xor_8_
468   0000              	GLOBAL __random_uniform_xor_32__fastcall
469   0000              	GLOBAL __random_uniform_xor_32_
470   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
471   0000              	GLOBAL __random_uniform_cmwc_8_
472   0000              	GLOBAL __shellsort__callee
473   0000              	GLOBAL __shellsort_
474   0000              	GLOBAL __quicksort__callee
475   0000              	GLOBAL __quicksort_
476   0000              	GLOBAL __insertion_sort__callee
477   0000              	GLOBAL __insertion_sort_
478   0000              	GLOBAL __ldivu__callee
479   0000              	GLOBAL __ldivu_
480   0000              	GLOBAL __ldiv__callee
481   0000              	GLOBAL __ldiv_
482   0000              	GLOBAL __divu__callee
483   0000              	GLOBAL __divu_
484   0000              	GLOBAL __div__callee
485   0000              	GLOBAL __div_
486   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
487   0000              	GLOBAL _NIRVANAP_drawTW_raw
488   0000              	GLOBAL _NIRVANAP_drawTW_callee
489   0000              	GLOBAL _NIRVANAP_drawTW
490   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
491   0000              	GLOBAL _NIRVANAP_drawW_raw
492   0000              	GLOBAL _NIRVANAP_drawW_callee
493   0000              	GLOBAL _NIRVANAP_drawW
494   0000              	GLOBAL _NIRVANAP_spriteT_callee
495   0000              	GLOBAL _NIRVANAP_spriteT
496   0000              	GLOBAL _NIRVANAP_fillC_callee
497   0000              	GLOBAL _NIRVANAP_fillC
498   0000              	GLOBAL _NIRVANAP_readC_callee
499   0000              	GLOBAL _NIRVANAP_readC
500   0000              	GLOBAL _NIRVANAP_paintC_callee
501   0000              	GLOBAL _NIRVANAP_paintC
502   0000              	GLOBAL _NIRVANAP_printQ_callee
503   0000              	GLOBAL _NIRVANAP_printQ
504   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
505   0000              	GLOBAL _NIRVANAP_fillT_raw
506   0000              	GLOBAL _NIRVANAP_fillT_callee
507   0000              	GLOBAL _NIRVANAP_fillT
508   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
509   0000              	GLOBAL _NIRVANAP_drawT_raw
510   0000              	GLOBAL _NIRVANAP_drawT_callee
511   0000              	GLOBAL _NIRVANAP_drawT
512   0000              	GLOBAL _NIRVANAP_stop
513   0000              	GLOBAL _NIRVANAP_start
514   0000              	GLOBAL _zx_print_str
515   0000              	GLOBAL _zx_print_int
516   0000              	GLOBAL _zx_print_chr
517   0000              	GLOBAL _zx_isr
518   0000              	GLOBAL _z80_otdr_callee
519   0000              	GLOBAL _z80_otdr
520   0000              	GLOBAL _z80_otir_callee
521   0000              	GLOBAL _z80_otir
522   0000              	GLOBAL _z80_outp_callee
523   0000              	GLOBAL _z80_outp
524   0000              	GLOBAL _z80_indr_callee
525   0000              	GLOBAL _z80_indr
526   0000              	GLOBAL _z80_inir_callee
527   0000              	GLOBAL _z80_inir
528   0000              	GLOBAL _z80_inp_fastcall
529   0000              	GLOBAL _z80_inp
530   0000              	GLOBAL _z80_set_int_state_fastcall
531   0000              	GLOBAL _z80_set_int_state
532   0000              	GLOBAL _z80_get_int_state
533   0000              	GLOBAL _z80_delay_tstate_fastcall
534   0000              	GLOBAL _z80_delay_tstate
535   0000              	GLOBAL _z80_delay_ms_fastcall
536   0000              	GLOBAL _z80_delay_ms
537   0000              	GLOBAL _im2_remove_generic_callback_callee
538   0000              	GLOBAL _im2_remove_generic_callback
539   0000              	GLOBAL _im2_prepend_generic_callback_callee
540   0000              	GLOBAL _im2_prepend_generic_callback
541   0000              	GLOBAL _im2_append_generic_callback_callee
542   0000              	GLOBAL _im2_append_generic_callback
543   0000              	GLOBAL _im2_create_generic_isr_8080_callee
544   0000              	GLOBAL _im2_create_generic_isr_8080
545   0000              	GLOBAL _im2_create_generic_isr_callee
546   0000              	GLOBAL _im2_create_generic_isr
547   0000              	GLOBAL _im2_install_isr_callee
548   0000              	GLOBAL _im2_install_isr
549   0000              	GLOBAL _im2_init_fastcall
550   0000              	GLOBAL _im2_init
551   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
552   0000              	GLOBAL _intrinsic_swap_word_32
553   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
554   0000              	GLOBAL _intrinsic_swap_endian_32
555   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
556   0000              	GLOBAL _intrinsic_swap_endian_16
557   0000              	GLOBAL _intrinsic_return_de
558   0000              	GLOBAL _intrinsic_return_bc
559   0000              	GLOBAL _intrinsic_exx
560   0000              	GLOBAL _intrinsic_ex_de_hl
561   0000              	GLOBAL _intrinsic_nop
562   0000              	GLOBAL _intrinsic_im_2
563   0000              	GLOBAL _intrinsic_im_1
564   0000              	GLOBAL _intrinsic_im_0
565   0000              	GLOBAL _intrinsic_retn
566   0000              	GLOBAL _intrinsic_reti
567   0000              	GLOBAL _intrinsic_halt
568   0000              	GLOBAL _intrinsic_ei
569   0000              	GLOBAL _intrinsic_di
570   0000              	GLOBAL _intrinsic_stub
571   0000              	GLOBAL _intrinsic_ini
572   0000              	GLOBAL _intrinsic_outi
573   0000              	GLOBAL _intrinsic_ldi
574   0000              	GLOBAL _zx_pattern_fill_callee
575   0000              	GLOBAL _zx_pattern_fill
576   0000              	GLOBAL _zx_saddrpup_fastcall
577   0000              	GLOBAL _zx_saddrpup
578   0000              	GLOBAL _zx_saddrpright_callee
579   0000              	GLOBAL _zx_saddrpright
580   0000              	GLOBAL _zx_saddrpleft_callee
581   0000              	GLOBAL _zx_saddrpleft
582   0000              	GLOBAL _zx_saddrpdown_fastcall
583   0000              	GLOBAL _zx_saddrpdown
584   0000              	GLOBAL _zx_saddrcup_fastcall
585   0000              	GLOBAL _zx_saddrcup
586   0000              	GLOBAL _zx_saddrcright_fastcall
587   0000              	GLOBAL _zx_saddrcright
588   0000              	GLOBAL _zx_saddrcleft_fastcall
589   0000              	GLOBAL _zx_saddrcleft
590   0000              	GLOBAL _zx_saddrcdown_fastcall
591   0000              	GLOBAL _zx_saddrcdown
592   0000              	GLOBAL _zx_saddr2py_fastcall
593   0000              	GLOBAL _zx_saddr2py
594   0000              	GLOBAL _zx_saddr2px_fastcall
595   0000              	GLOBAL _zx_saddr2px
596   0000              	GLOBAL _zx_saddr2cy_fastcall
597   0000              	GLOBAL _zx_saddr2cy
598   0000              	GLOBAL _zx_saddr2cx_fastcall
599   0000              	GLOBAL _zx_saddr2cx
600   0000              	GLOBAL _zx_saddr2aaddr_fastcall
601   0000              	GLOBAL _zx_saddr2aaddr
602   0000              	GLOBAL _zx_py2saddr_fastcall
603   0000              	GLOBAL _zx_py2saddr
604   0000              	GLOBAL _zx_py2aaddr_fastcall
605   0000              	GLOBAL _zx_py2aaddr
606   0000              	GLOBAL _zx_pxy2saddr_callee
607   0000              	GLOBAL _zx_pxy2saddr
608   0000              	GLOBAL _zx_pxy2aaddr_callee
609   0000              	GLOBAL _zx_pxy2aaddr
610   0000              	GLOBAL _zx_px2bitmask_fastcall
611   0000              	GLOBAL _zx_px2bitmask
612   0000              	GLOBAL _zx_cy2saddr_fastcall
613   0000              	GLOBAL _zx_cy2saddr
614   0000              	GLOBAL _zx_cy2aaddr_fastcall
615   0000              	GLOBAL _zx_cy2aaddr
616   0000              	GLOBAL _zx_cxy2saddr_callee
617   0000              	GLOBAL _zx_cxy2saddr
618   0000              	GLOBAL _zx_cxy2aaddr_callee
619   0000              	GLOBAL _zx_cxy2aaddr
620   0000              	GLOBAL _zx_bitmask2px_fastcall
621   0000              	GLOBAL _zx_bitmask2px
622   0000              	GLOBAL _zx_aaddrcup_fastcall
623   0000              	GLOBAL _zx_aaddrcup
624   0000              	GLOBAL _zx_aaddrcright_fastcall
625   0000              	GLOBAL _zx_aaddrcright
626   0000              	GLOBAL _zx_aaddrcleft_fastcall
627   0000              	GLOBAL _zx_aaddrcleft
628   0000              	GLOBAL _zx_aaddrcdown_fastcall
629   0000              	GLOBAL _zx_aaddrcdown
630   0000              	GLOBAL _zx_aaddr2saddr_fastcall
631   0000              	GLOBAL _zx_aaddr2saddr
632   0000              	GLOBAL _zx_aaddr2py_fastcall
633   0000              	GLOBAL _zx_aaddr2py
634   0000              	GLOBAL _zx_aaddr2px_fastcall
635   0000              	GLOBAL _zx_aaddr2px
636   0000              	GLOBAL _zx_aaddr2cy_fastcall
637   0000              	GLOBAL _zx_aaddr2cy
638   0000              	GLOBAL _zx_aaddr2cx_fastcall
639   0000              	GLOBAL _zx_aaddr2cx
640   0000              	GLOBAL _zx_visit_wc_pix_callee
641   0000              	GLOBAL _zx_visit_wc_pix
642   0000              	GLOBAL _zx_visit_wc_attr_callee
643   0000              	GLOBAL _zx_visit_wc_attr
644   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
645   0000              	GLOBAL _zx_scroll_wc_up_pix
646   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
647   0000              	GLOBAL _zx_scroll_wc_up_attr
648   0000              	GLOBAL _zx_scroll_wc_up_callee
649   0000              	GLOBAL _zx_scroll_wc_up
650   0000              	GLOBAL _zx_scroll_up_pix_callee
651   0000              	GLOBAL _zx_scroll_up_pix
652   0000              	GLOBAL _zx_scroll_up_attr_callee
653   0000              	GLOBAL _zx_scroll_up_attr
654   0000              	GLOBAL _zx_scroll_up_callee
655   0000              	GLOBAL _zx_scroll_up
656   0000              	GLOBAL _zx_cls_wc_pix_callee
657   0000              	GLOBAL _zx_cls_wc_pix
658   0000              	GLOBAL _zx_cls_wc_attr_callee
659   0000              	GLOBAL _zx_cls_wc_attr
660   0000              	GLOBAL _zx_cls_wc_callee
661   0000              	GLOBAL _zx_cls_wc
662   0000              	GLOBAL _zx_cls_pix_fastcall
663   0000              	GLOBAL _zx_cls_pix
664   0000              	GLOBAL _zx_cls_attr_fastcall
665   0000              	GLOBAL _zx_cls_attr
666   0000              	GLOBAL _zx_cls_fastcall
667   0000              	GLOBAL _zx_cls
668   0000              	GLOBAL _zx_border_fastcall
669   0000              	GLOBAL _zx_border
670   0000              	GLOBAL _zx_tape_verify_block_callee
671   0000              	GLOBAL _zx_tape_verify_block
672   0000              	GLOBAL _zx_tape_save_block_callee
673   0000              	GLOBAL _zx_tape_save_block
674   0000              	GLOBAL _zx_tape_load_block_callee
675   0000              	GLOBAL _zx_tape_load_block
676   0000              	GLOBAL _spr_horizontal_check
677   0000              	GLOBAL _spr_draw8
678   0000              	GLOBAL _spr_destroy
679   0000              	GLOBAL _spr_unflattenP1
680   0000              	GLOBAL _spr_flatten
681   0000              	GLOBAL _spr_btile_paint_back
682   0000              	GLOBAL _spr_turn_horizontal
683   0000              	GLOBAL _spr_clear_scr
684   0000              	GLOBAL _spr_back_repaint
685   0000              	GLOBAL _spr_get_tile_dir
686   0000              	GLOBAL _spr_get_tile
687   0000              	GLOBAL _spr_paint_player
688   0000              	GLOBAL _spr_paint
689   0000              	GLOBAL _spr_move_left
690   0000              	GLOBAL _spr_move_right
691   0000              	GLOBAL _spr_move_left_f
692   0000              	GLOBAL _spr_move_right_f
693   0000              	GLOBAL _spr_move_horizontal
694   0000              	GLOBAL _spr_move_down_f
695   0000              	GLOBAL _spr_move_up_f
696   0000              	GLOBAL _spr_set_right
697   0000              	GLOBAL _spr_set_left
698   0000              	GLOBAL _spr_set_down
699   0000              	GLOBAL _spr_set_up
700   0000              	GLOBAL _spr_calc_index
701   0000              	GLOBAL _spr_chktime
702   0000              	GLOBAL _player_pick
703   0000              	GLOBAL _player_use_floor
704   0000              	GLOBAL _player_lost_life
705   0000              	GLOBAL _player_move_jump
706   0000              	GLOBAL _player_tile
707   0000              	GLOBAL _player_handle_conveyor
708   0000              	GLOBAL _player_pick_extra
709   0000              	GLOBAL _player_pick_exit
710   0000              	GLOBAL _player_pick_deadly
711   0000              	GLOBAL _player_pick_item
712   0000              	GLOBAL _player_check_ceil
713   0000              	GLOBAL _player_check_floor
714   0000              	GLOBAL _player_score_add
715   0000              	GLOBAL _player_move_walk
716   0000              	GLOBAL _player_turn
717   0000              	GLOBAL _player_move
718   0000              	GLOBAL _player_check_input
719   0000              	GLOBAL _player_init
720   0000              	GLOBAL _menu_define_key
721   0000              	GLOBAL _menu_redefine
722   0000              	GLOBAL _menu_main_print
723   0000              	GLOBAL _menu_main
724   0000              	GLOBAL _game_update_stats
725   0000              	GLOBAL _game_fill_row
726   0000              	GLOBAL _enemy_kill
727   0000              	GLOBAL _enemy_init
728   0000              	GLOBAL _enemy_move
729   0000              	GLOBAL _enemy_turn
730   0000              	GLOBAL _enemy_static
731   0000              	GLOBAL _enemy_walk
732   0000              	GLOBAL _enemy_horizontal
733   0000              	GLOBAL _enemy_vertical
734   0000              	GLOBAL _ay_reset
735   0000              	GLOBAL _ay_song_stop
736   0000              	GLOBAL _ay_song_play
737   0000              	GLOBAL _ay_fx_stop
738   0000              	GLOBAL _ay_fx_play
739   0000              	GLOBAL _ay_is_playing
740   0000              	GLOBAL _audio_levelup
741   0000              	GLOBAL _audio_menu
742   0000              	GLOBAL _audio_game_end
743   0000              	GLOBAL _audio_game_start
744   0000              	GLOBAL _audio_level_complete
745   0000              	GLOBAL _audio_level_start
746   0000              	GLOBAL _audio_puerta
747   0000              	GLOBAL _audio_tick
748   0000              	GLOBAL _audio_door
749   0000              	GLOBAL _audio_coin
750   0000              	GLOBAL _audio_fall
751   0000              	GLOBAL _audio_jump
752   0000              	GLOBAL _audio_dead
753   0000              	GLOBAL _audio_ingame
754   0000              	GLOBAL _test_func
755   0000              	GLOBAL _test_proc
756   0000              	GLOBAL _in_mouse_kempston_wheel_delta
757   0000              	GLOBAL _in_mouse_kempston_wheel
758   0000              	GLOBAL _in_mouse_kempston_callee
759   0000              	GLOBAL _in_mouse_kempston
760   0000              	GLOBAL _in_mouse_kempston_setpos_callee
761   0000              	GLOBAL _in_mouse_kempston_setpos
762   0000              	GLOBAL _in_mouse_kempston_reset
763   0000              	GLOBAL _in_mouse_kempston_init
764   0000              	GLOBAL _in_mouse_amx_wheel_delta
765   0000              	GLOBAL _in_mouse_amx_wheel
766   0000              	GLOBAL _in_mouse_amx_callee
767   0000              	GLOBAL _in_mouse_amx
768   0000              	GLOBAL _in_mouse_amx_setpos_callee
769   0000              	GLOBAL _in_mouse_amx_setpos
770   0000              	GLOBAL _in_mouse_amx_reset
771   0000              	GLOBAL _in_mouse_amx_init_callee
772   0000              	GLOBAL _in_mouse_amx_init
773   0000              	GLOBAL _in_stick_sinclair2
774   0000              	GLOBAL _in_stick_sinclair1
775   0000              	GLOBAL _in_stick_kempston
776   0000              	GLOBAL _in_stick_fuller
777   0000              	GLOBAL _in_stick_cursor
778   0000              	GLOBAL _in_stick_keyboard_fastcall
779   0000              	GLOBAL _in_stick_keyboard
780   0000              	GLOBAL _in_wait_nokey
781   0000              	GLOBAL _in_wait_key
782   0000              	GLOBAL _in_test_key
783   0000              	GLOBAL _in_pause_fastcall
784   0000              	GLOBAL _in_pause
785   0000              	GLOBAL _in_key_scancode_fastcall
786   0000              	GLOBAL _in_key_scancode
787   0000              	GLOBAL _in_key_pressed_fastcall
788   0000              	GLOBAL _in_key_pressed
789   0000              	GLOBAL _in_inkey
790   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
791   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
792   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
793   0000              	GLOBAL _NIRVANAP_HOLE
794   0000              	GLOBAL _NIRVANAP_ISR_HOOK
795   0000              	GLOBAL _air_curr_byte
796   0000              	GLOBAL _spr_init_bright
797   0000              	GLOBAL _spr_init_cout3
798   0000              	GLOBAL _spr_init_cin3
799   0000              	GLOBAL _spr_init_cout2
800   0000              	GLOBAL _spr_init_cin2
801   0000              	GLOBAL _spr_init_cout1
802   0000              	GLOBAL _spr_init_cin1
803   0000              	GLOBAL _spr_init_cout0
804   0000              	GLOBAL _spr_init_cin0
805   0000              	GLOBAL _map_paper_last
806   0000              	GLOBAL _map_paper_clr
807   0000              	GLOBAL _map_paper
808   0000              	GLOBAL _map_border
809   0000              	GLOBAL _map_heigth
810   0000              	GLOBAL _map_width
811   0000              	GLOBAL _scr_curr
812   0000              	GLOBAL _scr_map
813   0000              	GLOBAL _spr_kind
814   0000              	GLOBAL _spr_frames
815   0000              	GLOBAL _spr_speed
816   0000              	GLOBAL _spr_tile
817   0000              	GLOBAL _screen_ink
818   0000              	GLOBAL _screen_paper
819   0000              	GLOBAL _game_start_scr
820   0000              	GLOBAL _game_score_top
821   0000              	GLOBAL _player_coins
822   0000              	GLOBAL _player_lives
823   0000              	GLOBAL _game_over
824   0000              	GLOBAL _game_tile_cnt
825   0000              	GLOBAL _game_sound
826   0000              	GLOBAL _game_inf_lives
827   0000              	GLOBAL _game_inmune
828   0000              	GLOBAL _spr_count
829   0000              	GLOBAL _key_ink
830   0000              	GLOBAL _key_last
831   0000              	GLOBAL _time_key
832   0000              	GLOBAL _time_conv
833   0000              	GLOBAL _time_air
834   0000              	GLOBAL _frame_time
835   0000              	GLOBAL _curr_time
836   0000              	GLOBAL _p_state_a
837   0000              	GLOBAL _p_state
838   0000              	GLOBAL _key_attrib
839   0000              	GLOBAL _game_attrib_osd
840   0000              	GLOBAL _attrib_osd
841   0000              	GLOBAL _attrib_hl
842   0000              	GLOBAL _attrib
843   0000              	GLOBAL _zx_val_asm
844   0000              	GLOBAL _tmp_ui
845   0000              	GLOBAL _index1
846   0000              	GLOBAL _index0
847   0000              	GLOBAL _index_tmp
848   0000              	GLOBAL _loop_count
849   0000              	GLOBAL _s_class
850   0000              	GLOBAL _s_row1
851   0000              	GLOBAL _s_col1
852   0000              	GLOBAL _s_col0
853   0000              	GLOBAL _s_lin1
854   0000              	GLOBAL _s_lin0
855   0000              	GLOBAL _s_tile1
856   0000              	GLOBAL _s_tile0
857   0000              	GLOBAL _nirv_sprite_index
858   0000              	GLOBAL _player_kill_index
859   0000              	GLOBAL _player_killed
860   0000              	GLOBAL _player_jump_top
861   0000              	GLOBAL _game_fps_show
862   0000              	GLOBAL _game_debug
863   0000              	GLOBAL _sprite
864   0000              	GLOBAL _fps
865   0000              	GLOBAL _game_mode
866   0000              	GLOBAL _game_tileset
867   0000              	GLOBAL _menu_curr_sel
868   0000              	GLOBAL _game_round_up
869   0000              	GLOBAL _game_exit_lin
870   0000              	GLOBAL _game_exit_col
871   0000              	GLOBAL _game_conveyor_col1
872   0000              	GLOBAL _game_conveyor_col0
873   0000              	GLOBAL _game_conveyor_lin
874   0000              	GLOBAL _game_conveyor_dir
875   0000              	GLOBAL _game_song_play_start
876   0000              	GLOBAL _game_song_play
877   0000              	GLOBAL _game_gravity
878   0000              	GLOBAL _player_lin_scr
879   0000              	GLOBAL _player_col_scr
880   0000              	GLOBAL _player_fall_start
881   0000              	GLOBAL _player_jump_count
882   0000              	GLOBAL _player_jump_hack
883   0000              	GLOBAL _player_vel_inc
884   0000              	GLOBAL _player_vel_y0
885   0000              	GLOBAL _player_vel_y
886   0000              	GLOBAL _player_score
887   0000              	GLOBAL _tbuffer
888   0000              	GLOBAL _obj_count
889   0000              	GLOBAL _obj_col
890   0000              	GLOBAL _obj_lin
891   0000              	GLOBAL _spr_timer
892   0000              	GLOBAL _last_time
893   0000              	GLOBAL _colint
894   0000              	GLOBAL _col
895   0000              	GLOBAL _lin
896   0000              	GLOBAL _tile
897   0000              	GLOBAL _value_b
898   0000              	GLOBAL _value_a
899   0000              	GLOBAL _state_a
900   0000              	GLOBAL _state
901   0000              	GLOBAL _class
902   0000              	GLOBAL _dirs_last
903   0000              	GLOBAL _dirs
904   0000              	GLOBAL _k1
905   0000              	GLOBAL _joyfunc1
906   0000              	GLOBAL _btiles
907   0000              	GLOBAL _v3
908   0000              	GLOBAL _v2
909   0000              	GLOBAL _v1
910   0000              	GLOBAL _v0
911   0000              	GLOBAL _i
912   0000              	GLOBAL _spec128
913   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
914   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
915   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
916   0000              	GLOBAL _hitiles2
917   0000              	GLOBAL _hitiles1
918   0000              	GLOBAL _ay_fx_door
919   0000              	GLOBAL _ay_fx_tick
920   0000              	GLOBAL _ay_fx_game_start
921   0000              	GLOBAL _ay_fx_fall
922   0000              	GLOBAL _ay_fx_jump
923   0000              	GLOBAL _ay_fx_dead
924   0000              	GLOBAL _ay_fx_coin
925   0000              	GLOBAL _ay_song_menu
926   0000              	GLOBAL _ay_song_ingame1
927   0000              	GLOBAL _ay_song_ingame0
928   0000              	GLOBAL _hisprites2
929   0000              	GLOBAL _hisprites1
930   0000              	GLOBAL _img1
931   0000              	GLOBAL _air_end_byte
932   0000              	GLOBAL _air_start_byte
933   0000              	GLOBAL _tile_class
934   0000              	GLOBAL _scan_map
935   0000              	GLOBAL _key_map
936   0000              	GLOBAL _map_names0
937   0000              	GLOBAL _game_borders0
938   0000              	GLOBAL _paper0
939   0000              	GLOBAL _lenght0
940   0000              	GLOBAL _world0
941   0000              	GLOBAL _spr_init_len
942   0000              	GLOBAL _spr_init
943   0000              	GLOBAL _player_jump_hor
944   0000              ;--------------------------------------------------------
945   0000              ; special function registers
946   0000              ;--------------------------------------------------------
947   0000              defc _IO_FE	=	0x00fe
948   0000              defc _IO_1FFD	=	0x1ffd
949   0000              defc _IO_7FFD	=	0x7ffd
950   0000              ;--------------------------------------------------------
951   0000              ; ram data
952   0000              ;--------------------------------------------------------
953   0000              	SECTION bss_compiler
954   0000              ;--------------------------------------------------------
955   0000              ; ram data
956   0000              ;--------------------------------------------------------
957   0000              
958   0000              IF 0
959   0000              
960   0000              ; .area _INITIALIZED removed by z88dk
961   0000              
962   0000              
963   0000              ENDIF
964   0000              
965   0000              ;--------------------------------------------------------
966   0000              ; absolute external ram data
967   0000              ;--------------------------------------------------------
968   0000              	SECTION IGNORE
969   0000              ;--------------------------------------------------------
970   0000              ; global & static initialisations
971   0000              ;--------------------------------------------------------
972   0000              	SECTION code_crt_init
973   0000              ;--------------------------------------------------------
974   0000              ; Home
975   0000              ;--------------------------------------------------------
976   0000              	SECTION IGNORE
977   0000              ;--------------------------------------------------------
978   0000              ; code
979   0000              ;--------------------------------------------------------
980   0000              	SECTION code_compiler
981   0000              ;	---------------------------------
982   0000              ; Function game_tick
983   0000              ; ---------------------------------
984   0000              _game_tick:
985   0000  21 00 00    	ld	hl,_curr_time
986   0003  34          	inc	(hl)
987   0004  C2 00 00    	jp	NZ,_zx_isr
988   0007  23          	inc	hl
989   0008  34          	inc	(hl)
990   0009  C3 00 00    	jp  _zx_isr
991   000C              	SECTION code_compiler
992   000C              ;	---------------------------------
993   000C              ; Function game_loop
994   000C              ; ---------------------------------
995   000C              _game_loop:
996   000C  21 00 00    	ld	hl,_player_lives
997   000F  36 03       	ld	(hl),0x03
998   0011  21 00 00    	ld	hl,0x0000
999   0014  22 00 00    	ld	(_player_score),hl
1000  0017  21 00 00    	ld	hl,_game_over
1001  001A  36 00       	ld	(hl),0x00
1002  001C  21 00 00    	ld	hl,_game_round_up
1003  001F  36 00       	ld	(hl),0x00
1004  0021  21 00 00    	ld	hl,_map_paper
1005  0024  36 00       	ld	(hl),0x00
1006  0026  21 00 00    	ld	hl,_player_lin_scr
1007  0029  36 68       	ld	(hl),0x68
1008  002B  21 00 00    	ld	hl,_player_col_scr
1009  002E  36 02       	ld	(hl),0x02
1010  0030  CD 7A 06    	call	_game_round_init
1011  0033              l_game_loop_00119:
1012  0033  3A 00 00    	ld	a,(_game_over)
1013  0036  B7          	or	a, a
1014  0037  C2 00 01    	jp	NZ, l_game_loop_00122
1015  003A  21 00 00    	ld	hl,_dirs
1016  003D  36 00       	ld	(hl),0x00
1017  003F              l_game_loop_00114:
1018  003F  3A 00 00    	ld	a,(_game_round_up)
1019  0042  B7          	or	a, a
1020  0043  C2 D2 00    	jp	NZ, l_game_loop_00116
1021  0046  3A 00 00    	ld	a,(_game_over)
1022  0049  B7          	or	a, a
1023  004A  C2 D2 00    	jp	NZ, l_game_loop_00116
1024  004D  2A 00 00    	ld	hl,(_map_border)
1025  0050  CD 00 00    	call	_zx_border_fastcall
1026  0053  CD 00 00    	call	_enemy_turn
1027  0056  CD 00 00    	call	_player_turn
1028  0059  21 00 00    	ld	hl,_loop_count
1029  005C  CB 46       	bit	0, (hl)
1030  005E  28 03       	jr	Z,l_game_loop_00102
1031  0060  CD AD 0A    	call	_game_key_paint
1032  0063              l_game_loop_00102:
1033  0063  3E 05       	ld	a,0x05
1034  0065  F5          	push	af
1035  0066  33          	inc	sp
1036  0067  21 00 00    	ld	hl,_time_conv
1037  006A  E5          	push	hl
1038  006B  CD 83 0A    	call	_game_check_time
1039  006E  F1          	pop	af
1040  006F  33          	inc	sp
1041  0070  7D          	ld	a, l
1042  0071  B7          	or	a, a
1043  0072  28 10       	jr	Z,l_game_loop_00106
1044  0074  21 00 00    	ld	hl,_game_conveyor_col0
1045  0077  7E          	ld	a, (hl)
1046  0078  B7          	or	a, a
1047  0079  28 03       	jr	Z,l_game_loop_00104
1048  007B  CD A2 05    	call	_game_anim_conveyor
1049  007E              l_game_loop_00104:
1050  007E  2A 00 00    	ld	hl,(_curr_time)
1051  0081  22 00 00    	ld	(_time_conv),hl
1052  0084              l_game_loop_00106:
1053  0084  3E 19       	ld	a,0x19
1054  0086  F5          	push	af
1055  0087  33          	inc	sp
1056  0088  21 00 00    	ld	hl,_time_air
1057  008B  E5          	push	hl
1058  008C  CD 83 0A    	call	_game_check_time
1059  008F  F1          	pop	af
1060  0090  33          	inc	sp
1061  0091  7D          	ld	a, l
1062  0092  B7          	or	a, a
1063  0093  28 09       	jr	Z,l_game_loop_00108
1064  0095  CD 55 05    	call	_game_anim_air
1065  0098  2A 00 00    	ld	hl,(_curr_time)
1066  009B  22 00 00    	ld	(_time_air),hl
1067  009E              l_game_loop_00108:
1068  009E  3E 64       	ld	a,0x64
1069  00A0  F5          	push	af
1070  00A1  33          	inc	sp
1071  00A2  21 00 00    	ld	hl,_frame_time
1072  00A5  E5          	push	hl
1073  00A6  CD 83 0A    	call	_game_check_time
1074  00A9  F1          	pop	af
1075  00AA  33          	inc	sp
1076  00AB  7D          	ld	a, l
1077  00AC  B7          	or	a, a
1078  00AD  28 0F       	jr	Z,l_game_loop_00112
1079  00AF  2A 00 00    	ld	hl,(_curr_time)
1080  00B2  22 00 00    	ld	(_frame_time),hl
1081  00B5  3A 00 00    	ld	a,(_game_fps_show)
1082  00B8  B7          	or	a,a
1083  00B9  28 03       	jr	Z,l_game_loop_00112
1084  00BB  CD 01 01    	call	_game_fps
1085  00BE              l_game_loop_00112:
1086  00BE  21 00 00    	ld	hl,_loop_count
1087  00C1  34          	inc	(hl)
1088  00C2  20 02       	jr	NZ,l_game_loop_00173
1089  00C4  23          	inc	hl
1090  00C5  34          	inc	(hl)
1091  00C6              l_game_loop_00173:
1092  00C6  21 00 00    	ld	hl,_fps
1093  00C9  34          	inc	(hl)
1094  00CA  C2 3F 00    	jp	NZ,l_game_loop_00114
1095  00CD  23          	inc	hl
1096  00CE  34          	inc	(hl)
1097  00CF  C3 3F 00    	jp	l_game_loop_00114
1098  00D2              l_game_loop_00116:
1099  00D2  3A 00 00    	ld	a,(_game_round_up)
1100  00D5  B7          	or	a, a
1101  00D6  CA 33 00    	jp	Z, l_game_loop_00119
1102  00D9  21 00 00    	ld	hl,_screen_ink
1103  00DC  36 30       	ld	(hl),0x30
1104  00DE  21 11 20    	ld	hl,0x2011
1105  00E1  E5          	push	hl
1106  00E2  CD 00 00    	call	_game_fill_row
1107  00E5  CD 7A 06    	call	_game_round_init
1108  00E8  2A FF FF    	ld	hl,(_game_exit_col - 1)
1109  00EB  3A 00 00    	ld	a,(_game_exit_lin)
1110  00EE  6F          	ld	l,a
1111  00EF  E5          	push	hl
1112  00F0  21 06 07    	ld	hl,0x0706
1113  00F3  E5          	push	hl
1114  00F4  CD 00 00    	call	_NIRVANAP_spriteT_callee
1115  00F7  76          	halt
1116  00F8  21 00 00    	ld	hl,_game_round_up
1117  00FB  36 00       	ld	(hl),0x00
1118  00FD  C3 33 00    	jp	l_game_loop_00119
1119  0100              l_game_loop_00122:
1120  0100  C9          	ret
1121  0101              	SECTION code_compiler
1122  0101              ;	---------------------------------
1123  0101              ; Function game_fps
1124  0101              ; ---------------------------------
1125  0101              _game_fps:
1126  0101  21 00 00    	ld	hl,_screen_ink
1127  0104  36 07       	ld	(hl),0x07
1128  0106  2A 00 00    	ld	hl,(_fps)
1129  0109  E5          	push	hl
1130  010A  21 17 18    	ld	hl,0x1817
1131  010D  E5          	push	hl
1132  010E  CD 00 00    	call	_zx_print_int
1133  0111  21 00 00    	ld	hl,0x0000
1134  0114  22 00 00    	ld	(_fps),hl
1135  0117  C9          	ret
1136  0118              	SECTION code_compiler
1137  0118              ;	---------------------------------
1138  0118              ; Function game_draw_map
1139  0118              ; ---------------------------------
1140  0118              _game_draw_map:
1141  0118  CD 00 00    	call	___sdcc_enter_ix
1142  011B  F5          	push	af
1143  011C  F5          	push	af
1144  011D  76          	halt
1145  011E  21 00 00    	ld	hl,_screen_ink
1146  0121  36 07       	ld	(hl),0x07
1147  0123  21 00 00    	ld	hl,_v0
1148  0126  36 00       	ld	(hl),0x00
1149  0128              l_game_draw_map_00101:
1150  0128  21 00 00    	ld	hl,_v0
1151  012B  7E          	ld	a, (hl)
1152  012C  D6 0F       	sub	a,0x0f
1153  012E  30 0E       	jr	NC,l_game_draw_map_00103
1154  0130  3E 00       	ld	a, +((_class) & 0xFF)
1155  0132  86          	add	a, (hl)
1156  0133  4F          	ld	c, a
1157  0134  3E 00       	ld	a, +((_class) / 256)
1158  0136  CE 00       	adc	a,0x00
1159  0138  47          	ld	b, a
1160  0139  AF          	xor	a, a
1161  013A  02          	ld	(bc), a
1162  013B  34          	inc	(hl)
1163  013C  18 EA       	jr	l_game_draw_map_00101
1164  013E              l_game_draw_map_00103:
1165  013E  21 00 00    	ld	hl,_spr_count
1166  0141  36 00       	ld	(hl),0x00
1167  0143  21 00 00    	ld	hl,0x0000
1168  0146  22 00 00    	ld	(_index1),hl
1169  0149  21 00 00    	ld	hl,_s_row1
1170  014C  36 01       	ld	(hl),0x01
1171  014E  21 00 00    	ld	hl,_s_lin1
1172  0151  36 10       	ld	(hl),0x10
1173  0153  21 00 00    	ld	hl,_s_col1
1174  0156  36 00       	ld	(hl),0x00
1175  0158  21 00 00    	ld	hl,_obj_count
1176  015B  36 00       	ld	(hl),0x00
1177  015D  21 00 00    	ld	hl,_game_conveyor_lin
1178  0160  36 00       	ld	(hl),0x00
1179  0162  21 00 00    	ld	hl,_game_conveyor_col0
1180  0165  36 00       	ld	(hl),0x00
1181  0167  21 00 00    	ld	hl,_game_conveyor_col1
1182  016A  36 00       	ld	(hl),0x00
1183  016C  CD 00 00    	call	_NIRVANAP_stop
1184  016F  F3          	di
1185  0170  21 00 00    	ld	hl,_map_paper
1186  0173  7E          	ld	a, (hl)
1187  0174  0F          	rrca
1188  0175  0F          	rrca
1189  0176  0F          	rrca
1190  0177  E6 1F       	and	a,0x1f
1191  0179  B6          	or	a, (hl)
1192  017A  32 00 00    	ld	(_attrib_hl),a
1193  017D  32 01 00    	ld	((_attrib_hl + 0x0001)),a
1194  0180  32 02 00    	ld	((_attrib_hl + 0x0002)),a
1195  0183  32 03 00    	ld	((_attrib_hl + 0x0003)),a
1196  0186  DD 36 FC 00 	ld	(ix-4),0x00
1197  018A              l_game_draw_map_00132:
1198  018A  21 01 00    	ld	hl,_index1 + 1
1199  018D  7E          	ld	a, (hl)
1200  018E  D6 02       	sub	a,0x02
1201  0190  D2 32 03    	jp	NC, l_game_draw_map_00134
1202  0193  3E 00       	ld	a, +((_scr_map) & 0xFF)
1203  0195  2B          	dec	hl
1204  0196  86          	add	a, (hl)
1205  0197  4F          	ld	c, a
1206  0198  3E 00       	ld	a, +((_scr_map) / 256)
1207  019A  23          	inc	hl
1208  019B  8E          	adc	a, (hl)
1209  019C  47          	ld	b, a
1210  019D  0A          	ld	a, (bc)
1211  019E  DD 77 FF    	ld	(ix-1),a
1212  01A1  46          	ld	b,(hl)
1213  01A2  2B          	dec	hl
1214  01A3  4E          	ld	c,(hl)
1215  01A4  03          	inc	bc
1216  01A5  21 00 00    	ld	hl,_scr_map
1217  01A8  09          	add	hl,bc
1218  01A9  DD 75 FD    	ld	(ix-3),l
1219  01AC  DD 74 FE    	ld	(ix-2),h
1220  01AF  4E          	ld	c, (hl)
1221  01B0  DD 7E FF    	ld	a,(ix-1)
1222  01B3  D6 20       	sub	a,0x20
1223  01B5  D2 67 02    	jp	NC, l_game_draw_map_00128
1224  01B8  3A 00 00    	ld	a,(_s_row1)
1225  01BB  07          	rlca
1226  01BC  07          	rlca
1227  01BD  07          	rlca
1228  01BE  E6 F8       	and	a,0xf8
1229  01C0  47          	ld	b, a
1230  01C1  3A 00 00    	ld	a,(_s_col1)
1231  01C4  C5          	push	bc
1232  01C5  48          	ld	c,b
1233  01C6  47          	ld	b,a
1234  01C7  C5          	push	bc
1235  01C8  DD 7E FF    	ld	a,(ix-1)
1236  01CB  F5          	push	af
1237  01CC  33          	inc	sp
1238  01CD  CD 00 00    	call	_spr_draw8
1239  01D0  F1          	pop	af
1240  01D1  33          	inc	sp
1241  01D2  C1          	pop	bc
1242  01D3  3E 00       	ld	a, +((_tile_class) & 0xFF)
1243  01D5  DD 86 FF    	add	a,(ix-1)
1244  01D8  6F          	ld	l, a
1245  01D9  3E 00       	ld	a, +((_tile_class) / 256)
1246  01DB  CE 00       	adc	a,0x00
1247  01DD  67          	ld	h, a
1248  01DE  5E          	ld	e, (hl)
1249  01DF  06 00       	ld	b,0x00
1250  01E1  21 00 00    	ld	hl,_tile_class
1251  01E4  09          	add	hl, bc
1252  01E5  56          	ld	d, (hl)
1253  01E6  7B          	ld	a, e
1254  01E7  D6 08       	sub	a,0x08
1255  01E9  20 1E       	jr	NZ,l_game_draw_map_00105
1256  01EB  2A 00 00    	ld	hl,(_obj_count)
1257  01EE  26 00       	ld	h,0x00
1258  01F0  01 00 00    	ld	bc,_obj_col
1259  01F3  09          	add	hl,bc
1260  01F4  3A 00 00    	ld	a,(_s_col1)
1261  01F7  77          	ld	(hl),a
1262  01F8  2A 00 00    	ld	hl,(_obj_count)
1263  01FB  26 00       	ld	h,0x00
1264  01FD  01 00 00    	ld	bc,_obj_lin
1265  0200  09          	add	hl,bc
1266  0201  3A 00 00    	ld	a,(_s_lin1)
1267  0204  77          	ld	(hl),a
1268  0205  21 00 00    	ld	hl,_obj_count
1269  0208  34          	inc	(hl)
1270  0209              l_game_draw_map_00105:
1271  0209  7B          	ld	a, e
1272  020A  D6 04       	sub	a,0x04
1273  020C  20 04       	jr	NZ,l_game_draw_map_00221
1274  020E  3E 01       	ld	a,0x01
1275  0210  18 01       	jr	l_game_draw_map_00222
1276  0212              l_game_draw_map_00221:
1277  0212  AF          	xor	a,a
1278  0213              l_game_draw_map_00222:
1279  0213  47          	ld	b, a
1280  0214  21 00 00    	ld	hl,_s_col1
1281  0217  5E          	ld	e, (hl)
1282  0218  3A 00 00    	ld	a,(_game_conveyor_col0)
1283  021B  B7          	or	a, a
1284  021C  28 0C       	jr	Z,l_game_draw_map_00107
1285  021E  21 00 00    	ld	hl,_game_conveyor_col1
1286  0221  7E          	ld	a, (hl)
1287  0222  B7          	or	a, a
1288  0223  20 05       	jr	NZ,l_game_draw_map_00107
1289  0225  CB 40       	bit	0, b
1290  0227  20 01       	jr	NZ,l_game_draw_map_00107
1291  0229  73          	ld	(hl), e
1292  022A              l_game_draw_map_00107:
1293  022A  CB 40       	bit	0, b
1294  022C  CA 0C 03    	jp	Z, l_game_draw_map_00129
1295  022F  7A          	ld	a,d
1296  0230  B7          	or	a, a
1297  0231  28 05       	jr	Z,l_game_draw_map_00115
1298  0233  D6 04       	sub	a,0x04
1299  0235  C2 0C 03    	jp	NZ,l_game_draw_map_00129
1300  0238              l_game_draw_map_00115:
1301  0238  21 00 00    	ld	hl,_game_conveyor_col0
1302  023B  7E          	ld	a, (hl)
1303  023C  B7          	or	a, a
1304  023D  C2 0C 03    	jp	NZ, l_game_draw_map_00129
1305  0240  73          	ld	(hl), e
1306  0241  3A 00 00    	ld	a,(_s_lin1)
1307  0244  C6 F8       	add	a,0xf8
1308  0246  32 00 00    	ld	(_game_conveyor_lin),a
1309  0249  7A          	ld	a, d
1310  024A  B7          	or	a, a
1311  024B  28 07       	jr	Z,l_game_draw_map_00111
1312  024D  21 00 00    	ld	hl,_game_conveyor_dir
1313  0250  36 01       	ld	(hl),0x01
1314  0252  18 05       	jr	l_game_draw_map_00112
1315  0254              l_game_draw_map_00111:
1316  0254  21 00 00    	ld	hl,_game_conveyor_dir
1317  0257  36 02       	ld	(hl),0x02
1318  0259              l_game_draw_map_00112:
1319  0259  ED 4B 00 00 	ld	bc,(_index1)
1320  025D  03          	inc	bc
1321  025E  21 00 00    	ld	hl,_scr_map
1322  0261  09          	add	hl, bc
1323  0262  36 04       	ld	(hl),0x04
1324  0264  C3 0C 03    	jp	l_game_draw_map_00129
1325  0267              l_game_draw_map_00128:
1326  0267  DD 7E FF    	ld	a,(ix-1)
1327  026A  D6 20       	sub	a,0x20
1328  026C  20 38       	jr	NZ,l_game_draw_map_00120
1329  026E  DD 7E FC    	ld	a,(ix-4)
1330  0271  B7          	or	a, a
1331  0272  20 32       	jr	NZ,l_game_draw_map_00120
1332  0274  DD 36 FC 01 	ld	(ix-4),0x01
1333  0278  3A 00 00    	ld	a,(_s_col1)
1334  027B  32 00 00    	ld	(_game_exit_col),a
1335  027E  3A 00 00    	ld	a,(_s_lin1)
1336  0281  32 00 00    	ld	(_game_exit_lin),a
1337  0284  DD 6E FD    	ld	l,(ix-3)
1338  0287  DD 66 FE    	ld	h,(ix-2)
1339  028A  36 20       	ld	(hl),0x20
1340  028C  2A 00 00    	ld	hl,(_index1)
1341  028F  01 20 00    	ld	bc,0x0020
1342  0292  09          	add	hl,bc
1343  0293  01 00 00    	ld	bc,_scr_map
1344  0296  09          	add	hl,bc
1345  0297  36 20       	ld	(hl),0x20
1346  0299  2A 00 00    	ld	hl,(_index1)
1347  029C  01 21 00    	ld	bc,0x0021
1348  029F  09          	add	hl,bc
1349  02A0  01 00 00    	ld	bc,_scr_map
1350  02A3  09          	add	hl,bc
1351  02A4  36 20       	ld	(hl),0x20
1352  02A6              l_game_draw_map_00120:
1353  02A6  DD 7E FF    	ld	a,(ix-1)
1354  02A9  D6 40       	sub	a,0x40
1355  02AB  38 2A       	jr	C,l_game_draw_map_00123
1356  02AD  3E 79       	ld	a,0x79
1357  02AF  DD 96 FF    	sub	a,(ix-1)
1358  02B2  38 23       	jr	C,l_game_draw_map_00123
1359  02B4  3A 00 00    	ld	a,(_s_row1)
1360  02B7  07          	rlca
1361  02B8  07          	rlca
1362  02B9  07          	rlca
1363  02BA  E6 F8       	and	a,0xf8
1364  02BC  47          	ld	b, a
1365  02BD  3A 00 00    	ld	a,(_s_col1)
1366  02C0  48          	ld	c,b
1367  02C1  47          	ld	b,a
1368  02C2  C5          	push	bc
1369  02C3  AF          	xor	a, a
1370  02C4  F5          	push	af
1371  02C5  33          	inc	sp
1372  02C6  CD 00 00    	call	_spr_draw8
1373  02C9  F1          	pop	af
1374  02CA  33          	inc	sp
1375  02CB  CD 00 00    	call	_enemy_init
1376  02CE  01 00 00    	ld	bc,_scr_map
1377  02D1  2A 00 00    	ld	hl,(_index1)
1378  02D4  09          	add	hl,bc
1379  02D5  AF          	xor	a,a
1380  02D6  77          	ld	(hl),a
1381  02D7              l_game_draw_map_00123:
1382  02D7  DD 7E FF    	ld	a,(ix-1)
1383  02DA  D6 7F       	sub	a,0x7f
1384  02DC  20 2E       	jr	NZ,l_game_draw_map_00129
1385  02DE  3A 00 00    	ld	a,(_s_lin1)
1386  02E1  C6 F0       	add	a,0xf0
1387  02E3  32 00 00    	ld	(_player_lin_scr),a
1388  02E6  3A 00 00    	ld	a,(_s_col1)
1389  02E9  32 00 00    	ld	(_player_col_scr),a
1390  02EC  01 00 00    	ld	bc,_scr_map
1391  02EF  2A 00 00    	ld	hl,(_index1)
1392  02F2  09          	add	hl,bc
1393  02F3  AF          	xor	a,a
1394  02F4  77          	ld	(hl),a
1395  02F5  3A 00 00    	ld	a,(_s_row1)
1396  02F8  07          	rlca
1397  02F9  07          	rlca
1398  02FA  07          	rlca
1399  02FB  E6 F8       	and	a,0xf8
1400  02FD  47          	ld	b, a
1401  02FE  3A 00 00    	ld	a,(_s_col1)
1402  0301  48          	ld	c,b
1403  0302  47          	ld	b,a
1404  0303  C5          	push	bc
1405  0304  AF          	xor	a, a
1406  0305  F5          	push	af
1407  0306  33          	inc	sp
1408  0307  CD 00 00    	call	_spr_draw8
1409  030A  F1          	pop	af
1410  030B  33          	inc	sp
1411  030C              l_game_draw_map_00129:
1412  030C  21 00 00    	ld	hl,_index1
1413  030F  34          	inc	(hl)
1414  0310  20 02       	jr	NZ,l_game_draw_map_00229
1415  0312  23          	inc	hl
1416  0313  34          	inc	(hl)
1417  0314              l_game_draw_map_00229:
1418  0314  21 00 00    	ld	hl,_s_col1
1419  0317  7E          	ld	a,(hl)
1420  0318  3C          	inc	a
1421  0319  77          	ld	(hl),a
1422  031A  D6 20       	sub	a,0x20
1423  031C  C2 8A 01    	jp	NZ,l_game_draw_map_00132
1424  031F  21 00 00    	ld	hl,_s_row1
1425  0322  34          	inc	(hl)
1426  0323  21 00 00    	ld	hl,_s_lin1
1427  0326  7E          	ld	a, (hl)
1428  0327  C6 08       	add	a,0x08
1429  0329  77          	ld	(hl), a
1430  032A  21 00 00    	ld	hl,_s_col1
1431  032D  36 00       	ld	(hl),0x00
1432  032F  C3 8A 01    	jp	l_game_draw_map_00132
1433  0332              l_game_draw_map_00134:
1434  0332  3A 00 00    	ld	a,(_scr_curr)
1435  0335  D6 13       	sub	a,0x13
1436  0337  20 03       	jr	NZ,l_game_draw_map_00136
1437  0339  CD 45 03    	call	_game_img1
1438  033C              l_game_draw_map_00136:
1439  033C  FB          	ei
1440  033D  CD 00 00    	call	_NIRVANAP_start
1441  0340  DD F9       	ld	sp, ix
1442  0342  DD E1       	pop	ix
1443  0344  C9          	ret
1444  0345              	SECTION code_compiler
1445  0345              ;	---------------------------------
1446  0345              ; Function game_img1
1447  0345              ; ---------------------------------
1448  0345              _game_img1:
1449  0345  CD 00 00    	call	___sdcc_enter_ix
1450  0348  21 CA FF    	ld	hl, -54
1451  034B  39          	add	hl, sp
1452  034C  F9          	ld	sp, hl
1453  034D  21 00 00    	ld	hl,_v0
1454  0350  36 10       	ld	(hl),0x10
1455  0352  21 00 00    	ld	hl,_v1
1456  0355  36 00       	ld	(hl),0x00
1457  0357  21 00 00    	ld	hl,0x0000
1458  035A  39          	add	hl, sp
1459  035B  DD 75 FE    	ld	(ix-2),l
1460  035E  DD 74 FF    	ld	(ix-1),h
1461  0361  DD 36 FA 00 	ld	(ix-6),0x00
1462  0365  4D          	ld	c,l
1463  0366  44          	ld	b,h
1464  0367              l_game_img1_00110:
1465  0367  DD 7E FA    	ld	a,(ix-6)
1466  036A  D6 40       	sub	a,0x40
1467  036C  D2 20 04    	jp	NC, l_game_img1_00113
1468  036F  DD 5E FA    	ld	e,(ix-6)
1469  0372  16 00       	ld	d,0x00
1470  0374  6B          	ld	l, e
1471  0375  62          	ld	h, d
1472  0376  29          	add	hl, hl
1473  0377  19          	add	hl, de
1474  0378  29          	add	hl, hl
1475  0379  29          	add	hl, hl
1476  037A  29          	add	hl, hl
1477  037B  29          	add	hl, hl
1478  037C  C5          	push	bc
1479  037D  E5          	push	hl
1480  037E  3E 01       	ld	a,0x01
1481  0380  F5          	push	af
1482  0381  33          	inc	sp
1483  0382  CD CA 12    	call	_page
1484  0385  33          	inc	sp
1485  0386  D1          	pop	de
1486  0387  C1          	pop	bc
1487  0388  DD 36 FB 00 	ld	(ix-5),0x00
1488  038C              l_game_img1_00101:
1489  038C  DD 7E FB    	ld	a,(ix-5)
1490  038F  D6 30       	sub	a,0x30
1491  0391  30 1F       	jr	NC,l_game_img1_00103
1492  0393  79          	ld	a, c
1493  0394  DD 86 FB    	add	a,(ix-5)
1494  0397  DD 77 FC    	ld	(ix-4),a
1495  039A  78          	ld	a, b
1496  039B  CE 00       	adc	a,0x00
1497  039D  DD 77 FD    	ld	(ix-3),a
1498  03A0  21 00 00    	ld	hl,_img1
1499  03A3  19          	add	hl, de
1500  03A4  7E          	ld	a, (hl)
1501  03A5  DD 6E FC    	ld	l,(ix-4)
1502  03A8  DD 66 FD    	ld	h,(ix-3)
1503  03AB  77          	ld	(hl), a
1504  03AC  DD 34 FB    	inc	(ix-5)
1505  03AF  13          	inc	de
1506  03B0  18 DA       	jr	l_game_img1_00101
1507  03B2              l_game_img1_00103:
1508  03B2  C5          	push	bc
1509  03B3  AF          	xor	a, a
1510  03B4  F5          	push	af
1511  03B5  33          	inc	sp
1512  03B6  CD CA 12    	call	_page
1513  03B9  33          	inc	sp
1514  03BA  C1          	pop	bc
1515  03BB  76          	halt
1516  03BC  DD 36 FB 00 	ld	(ix-5),0x00
1517  03C0  11 00 0C    	ld	de,0x0c00
1518  03C3              l_game_img1_00104:
1519  03C3  DD 7E FB    	ld	a,(ix-5)
1520  03C6  D6 30       	sub	a,0x30
1521  03C8  30 25       	jr	NC,l_game_img1_00106
1522  03CA  21 00 00    	ld	hl,_btiles
1523  03CD  19          	add	hl,de
1524  03CE  DD 75 FC    	ld	(ix-4),l
1525  03D1  DD 74 FD    	ld	(ix-3),h
1526  03D4  DD 7E FE    	ld	a,(ix-2)
1527  03D7  DD 86 FB    	add	a,(ix-5)
1528  03DA  6F          	ld	l, a
1529  03DB  DD 7E FF    	ld	a,(ix-1)
1530  03DE  CE 00       	adc	a,0x00
1531  03E0  67          	ld	h, a
1532  03E1  7E          	ld	a, (hl)
1533  03E2  DD 6E FC    	ld	l,(ix-4)
1534  03E5  DD 66 FD    	ld	h,(ix-3)
1535  03E8  77          	ld	(hl), a
1536  03E9  DD 34 FB    	inc	(ix-5)
1537  03EC  13          	inc	de
1538  03ED  18 D4       	jr	l_game_img1_00104
1539  03EF              l_game_img1_00106:
1540  03EF  3A 00 00    	ld	a,(_v1)
1541  03F2  C5          	push	bc
1542  03F3  F5          	push	af
1543  03F4  33          	inc	sp
1544  03F5  3A 00 00    	ld	a,(_v0)
1545  03F8  57          	ld	d,a
1546  03F9  1E 40       	ld	e,0x40
1547  03FB  D5          	push	de
1548  03FC  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1549  03FF  C1          	pop	bc
1550  0400  3A 00 00    	ld	a,(_v1)
1551  0403  D6 1E       	sub	a,0x1e
1552  0405  20 0E       	jr	NZ,l_game_img1_00108
1553  0407  21 00 00    	ld	hl,_v0
1554  040A  7E          	ld	a, (hl)
1555  040B  C6 10       	add	a,0x10
1556  040D  77          	ld	(hl), a
1557  040E  21 00 00    	ld	hl,_v1
1558  0411  36 00       	ld	(hl),0x00
1559  0413  18 05       	jr	l_game_img1_00109
1560  0415              l_game_img1_00108:
1561  0415  21 00 00    	ld	hl,_v1
1562  0418  34          	inc	(hl)
1563  0419  34          	inc	(hl)
1564  041A              l_game_img1_00109:
1565  041A  DD 34 FA    	inc	(ix-6)
1566  041D  C3 67 03    	jp	l_game_img1_00110
1567  0420              l_game_img1_00113:
1568  0420  DD F9       	ld	sp, ix
1569  0422  DD E1       	pop	ix
1570  0424  C9          	ret
1571  0425              	SECTION code_compiler
1572  0425              ;	---------------------------------
1573  0425              ; Function game_cell_paint_index
1574  0425              ; ---------------------------------
1575  0425              _game_cell_paint_index:
1576  0425  3A 00 00    	ld	a,(_index1)
1577  0428  E6 1F       	and	a,0x1f
1578  042A  32 00 00    	ld	(_s_col1),a
1579  042D  2A 00 00    	ld	hl,(_index1)
1580  0430  4D          	ld	c,l
1581  0431  5C          	ld	e,h
1582  0432  06 05       	ld	b,0x05
1583  0434  79          	ld	a,c
1584  0435              l_game_cell_paint_index_00103:
1585  0435  CB 3B       	srl	e
1586  0437  1F          	rra
1587  0438  10 FB       	djnz	l_game_cell_paint_index_00103
1588  043A  07          	rlca
1589  043B  07          	rlca
1590  043C  07          	rlca
1591  043D  E6 F8       	and	a,0xf8
1592  043F  32 00 00    	ld	(_s_lin1),a
1593  0442  0F          	rrca
1594  0443  0F          	rrca
1595  0444  0F          	rrca
1596  0445  E6 1F       	and	a,0x1f
1597  0447  3C          	inc	a
1598  0448  32 00 00    	ld	(_s_row1),a
1599  044B  21 00 00    	ld	hl,_s_lin1
1600  044E  7E          	ld	a, (hl)
1601  044F  C6 10       	add	a,0x10
1602  0451  77          	ld	(hl), a
1603  0452  3A 00 00    	ld	a,(_s_row1)
1604  0455  07          	rlca
1605  0456  07          	rlca
1606  0457  07          	rlca
1607  0458  E6 F8       	and	a,0xf8
1608  045A  4F          	ld	c, a
1609  045B  11 00 00    	ld	de,_scr_map
1610  045E  2A 00 00    	ld	hl,(_index1)
1611  0461  19          	add	hl,de
1612  0462  46          	ld	b, (hl)
1613  0463  3A 00 00    	ld	a,(_s_col1)
1614  0466  F5          	push	af
1615  0467  33          	inc	sp
1616  0468  79          	ld	a, c
1617  0469  48          	ld	c,b
1618  046A  47          	ld	b,a
1619  046B  C5          	push	bc
1620  046C  CD 00 00    	call	_spr_draw8
1621  046F  F1          	pop	af
1622  0470  33          	inc	sp
1623  0471  C9          	ret
1624  0472              	SECTION code_compiler
1625  0472              ;	---------------------------------
1626  0472              ; Function game_cell_paint
1627  0472              ; ---------------------------------
1628  0472              _game_cell_paint:
1629  0472  3A 00 00    	ld	a,(_s_row1)
1630  0475  07          	rlca
1631  0476  07          	rlca
1632  0477  07          	rlca
1633  0478  E6 F8       	and	a,0xf8
1634  047A  57          	ld	d, a
1635  047B  01 00 00    	ld	bc,_scr_map
1636  047E  2A 00 00    	ld	hl,(_index1)
1637  0481  09          	add	hl,bc
1638  0482  4D          	ld	c,l
1639  0483  46          	ld	b, (hl)
1640  0484  3A 00 00    	ld	a,(_s_col1)
1641  0487  5A          	ld	e,d
1642  0488  57          	ld	d,a
1643  0489  D5          	push	de
1644  048A  C5          	push	bc
1645  048B  33          	inc	sp
1646  048C  CD 00 00    	call	_spr_draw8
1647  048F  F1          	pop	af
1648  0490  33          	inc	sp
1649  0491  C9          	ret
1650  0492              	SECTION code_compiler
1651  0492              ;	---------------------------------
1652  0492              ; Function game_end is a stub
1653  0492              ; ---------------------------------
1654  0492              EXTERN l_ret
1655  0492              defc _game_end = l_ret
1656  0492              	SECTION code_compiler
1657  0492              ;	---------------------------------
1658  0492              ; Function game_print_footer
1659  0492              ; ---------------------------------
1660  0492              _game_print_footer:
1661  0492  3A 00 00    	ld	a,(_game_fps_show)
1662  0495  B7          	or	a, a
1663  0496  C8          	ret	Z
1664  0497  21 00 00    	ld	hl,_screen_ink
1665  049A  36 07       	ld	(hl),0x07
1666  049C  21 00 00    	ld	hl,___str_0
1667  049F  E5          	push	hl
1668  04A0  21 17 14    	ld	hl,0x1417
1669  04A3  E5          	push	hl
1670  04A4  CD 00 00    	call	_zx_print_str
1671  04A7  C9          	ret
1672  04A8              	SECTION rodata_compiler
1673  0000              ___str_0:
1674  0000  4C 50 53 3A 	DEFM "LPS:"
1675  0004  00          	DEFB 0x00
1676  0005              	SECTION code_compiler
1677  04A8              ;	---------------------------------
1678  04A8              ; Function game_print_score
1679  04A8              ; ---------------------------------
1680  04A8              _game_print_score:
1681  04A8  21 00 00    	ld	hl,_screen_ink
1682  04AB  36 06       	ld	(hl),0x06
1683  04AD  21 00 00    	ld	hl,_screen_paper
1684  04B0  36 00       	ld	(hl),0x00
1685  04B2  2A 00 00    	ld	hl,(_player_score)
1686  04B5  E5          	push	hl
1687  04B6  21 14 1B    	ld	hl,0x1b14
1688  04B9  E5          	push	hl
1689  04BA  CD 00 00    	call	_zx_print_int
1690  04BD  2A 00 00    	ld	hl,(_game_score_top)
1691  04C0  E5          	push	hl
1692  04C1  21 14 0C    	ld	hl,0x0c14
1693  04C4  E5          	push	hl
1694  04C5  CD 00 00    	call	_zx_print_int
1695  04C8  C9          	ret
1696  04C9              	SECTION code_compiler
1697  04C9              ;	---------------------------------
1698  04C9              ; Function game_print_lives
1699  04C9              ; ---------------------------------
1700  04C9              _game_print_lives:
1701  04C9  21 00 00    	ld	hl,_v0
1702  04CC  36 00       	ld	(hl),0x00
1703  04CE  21 16 20    	ld	hl,0x2016
1704  04D1  E5          	push	hl
1705  04D2  CD 00 00    	call	_game_fill_row
1706  04D5              l_game_print_lives_00101:
1707  04D5  3A 00 00    	ld	a,(_v0)
1708  04D8  21 00 00    	ld	hl,_player_lives
1709  04DB  96          	sub	a, (hl)
1710  04DC  D0          	ret	NC
1711  04DD  21 00 00    	ld	hl,_screen_ink
1712  04E0  36 05       	ld	(hl),0x05
1713  04E2  3A 00 00    	ld	a,(_v0)
1714  04E5  21 05 00    	ld	hl,___str_1
1715  04E8  E5          	push	hl
1716  04E9  57          	ld	d,a
1717  04EA  1E 16       	ld	e,0x16
1718  04EC  D5          	push	de
1719  04ED  CD 00 00    	call	_zx_print_str
1720  04F0  21 00 00    	ld	hl,_v0
1721  04F3  34          	inc	(hl)
1722  04F4  18 DF       	jr	l_game_print_lives_00101
1723  04F6              	SECTION rodata_compiler
1724  0005              ___str_1:
1725  0005  3C          	DEFM "<"
1726  0006  00          	DEFB 0x00
1727  0007              	SECTION code_compiler
1728  04F6              ;	---------------------------------
1729  04F6              ; Function game_cls
1730  04F6              ; ---------------------------------
1731  04F6              _game_cls:
1732  04F6  CD 00 00    	call	_NIRVANAP_stop
1733  04F9  2E 00       	ld	l,0x00
1734  04FB  CD 00 00    	call	_zx_cls_fastcall
1735  04FE  2E 00       	ld	l,0x00
1736  0500  CD 00 00    	call	_zx_border_fastcall
1737  0503  F3          	di
1738  0504  21 00 00    	ld	hl,_v0
1739  0507  36 00       	ld	(hl),0x00
1740  0509              l_game_cls_00104:
1741  0509  3E 08       	ld	a,0x08
1742  050B  21 00 00    	ld	hl,_v0
1743  050E  96          	sub	a, (hl)
1744  050F  38 32       	jr	C,l_game_cls_00106
1745  0511  21 00 00    	ld	hl,_v1
1746  0514  36 00       	ld	(hl),0x00
1747  0516              l_game_cls_00101:
1748  0516  3A 00 00    	ld	a,(_v1)
1749  0519  D6 1F       	sub	a,0x1f
1750  051B  30 20       	jr	NC,l_game_cls_00103
1751  051D  3A 00 00    	ld	a,(_v0)
1752  0520  07          	rlca
1753  0521  07          	rlca
1754  0522  07          	rlca
1755  0523  07          	rlca
1756  0524  E6 F0       	and	a,0xf0
1757  0526  C6 08       	add	a,0x08
1758  0528  47          	ld	b, a
1759  0529  3A 00 00    	ld	a,(_v1)
1760  052C  48          	ld	c,b
1761  052D  47          	ld	b,a
1762  052E  C5          	push	bc
1763  052F  3E 5E       	ld	a,0x5e
1764  0531  F5          	push	af
1765  0532  33          	inc	sp
1766  0533  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1767  0536  21 00 00    	ld	hl,_v1
1768  0539  34          	inc	(hl)
1769  053A  34          	inc	(hl)
1770  053B  18 D9       	jr	l_game_cls_00101
1771  053D              l_game_cls_00103:
1772  053D  21 00 00    	ld	hl,_v0
1773  0540  34          	inc	(hl)
1774  0541  18 C6       	jr	l_game_cls_00104
1775  0543              l_game_cls_00106:
1776  0543  FB          	ei
1777  0544  CD 00 00    	call	_NIRVANAP_start
1778  0547  C9          	ret
1779  0548              	SECTION code_compiler
1780  0548              ;	---------------------------------
1781  0548              ; Function game_start_timer
1782  0548              ; ---------------------------------
1783  0548              _game_start_timer:
1784  0548  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1785  054B  36 CD       	ld	(hl),0xcd
1786  054D  23          	inc	hl
1787  054E  11 00 00    	ld	de,_game_tick
1788  0551  73          	ld	(hl), e
1789  0552  23          	inc	hl
1790  0553  72          	ld	(hl), d
1791  0554  C9          	ret
1792  0555              	SECTION code_compiler
1793  0555              ;	---------------------------------
1794  0555              ; Function game_anim_air
1795  0555              ; ---------------------------------
1796  0555              _game_anim_air:
1797  0555  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1798  0559  0A          	ld	a,(bc)
1799  055A  B7          	or	a, a
1800  055B  28 28       	jr	Z,l_game_anim_air_00105
1801  055D  87          	add	a, a
1802  055E  32 00 00    	ld	(_v0),a
1803  0561  02          	ld	(bc), a
1804  0562  2A 00 00    	ld	hl,(_air_curr_byte)
1805  0565  01 00 01    	ld	bc,0x0100
1806  0568  09          	add	hl,bc
1807  0569  3A 00 00    	ld	a,(_v0)
1808  056C  77          	ld	(hl),a
1809  056D  2A 00 00    	ld	hl,(_air_curr_byte)
1810  0570  01 00 02    	ld	bc,0x0200
1811  0573  09          	add	hl,bc
1812  0574  3A 00 00    	ld	a,(_v0)
1813  0577  77          	ld	(hl),a
1814  0578  2A 00 00    	ld	hl,(_air_curr_byte)
1815  057B  01 00 03    	ld	bc,0x0300
1816  057E  09          	add	hl,bc
1817  057F  3A 00 00    	ld	a,(_v0)
1818  0582  77          	ld	(hl),a
1819  0583  18 1C       	jr	l_game_anim_air_00107
1820  0585              l_game_anim_air_00105:
1821  0585  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1822  0589  ED 5B 00 00 	ld	de,(_air_end_byte)
1823  058D  7B          	ld	a,e
1824  058E  91          	sub	a,c
1825  058F  7A          	ld	a,d
1826  0590  98          	sbc	a,b
1827  0591  30 09       	jr	NC,l_game_anim_air_00102
1828  0593  2A 00 00    	ld	hl,(_air_curr_byte)
1829  0596  2B          	dec	hl
1830  0597  22 00 00    	ld	(_air_curr_byte),hl
1831  059A  18 05       	jr	l_game_anim_air_00107
1832  059C              l_game_anim_air_00102:
1833  059C  21 00 00    	ld	hl,_player_killed
1834  059F  36 01       	ld	(hl),0x01
1835  05A1              l_game_anim_air_00107:
1836  05A1  C9          	ret
1837  05A2              	SECTION code_compiler
1838  05A2              ;	---------------------------------
1839  05A2              ; Function game_anim_conveyor
1840  05A2              ; ---------------------------------
1841  05A2              _game_anim_conveyor:
1842  05A2  CD 00 00    	call	___sdcc_enter_ix
1843  05A5  F5          	push	af
1844  05A6  F5          	push	af
1845  05A7  3B          	dec	sp
1846  05A8  01 60 00    	ld	bc,_btiles+96
1847  05AB  3A 00 00    	ld	a,(_game_conveyor_lin)
1848  05AE  32 00 00    	ld	(_i),a
1849  05B1  C6 08       	add	a,0x08
1850  05B3  DD 77 FB    	ld	(ix-5),a
1851  05B6  0A          	ld	a, (bc)
1852  05B7  5F          	ld	e, a
1853  05B8  3A 00 00    	ld	a,(_game_conveyor_dir)
1854  05BB  3D          	dec	a
1855  05BC  20 14       	jr	NZ,l_game_anim_conveyor_00102
1856  05BE  7B          	ld	a, e
1857  05BF  87          	add	a, a
1858  05C0  57          	ld	d, a
1859  05C1  7B          	ld	a, e
1860  05C2  07          	rlca
1861  05C3  E6 01       	and	a,0x01
1862  05C5  B2          	or	a, d
1863  05C6  57          	ld	d,a
1864  05C7  02          	ld	(bc),a
1865  05C8  87          	add	a, a
1866  05C9  5F          	ld	e, a
1867  05CA  7A          	ld	a, d
1868  05CB  07          	rlca
1869  05CC  E6 01       	and	a,0x01
1870  05CE  B3          	or	a, e
1871  05CF  02          	ld	(bc), a
1872  05D0  18 14       	jr	l_game_anim_conveyor_00121
1873  05D2              l_game_anim_conveyor_00102:
1874  05D2  7B          	ld	a, e
1875  05D3  0F          	rrca
1876  05D4  E6 80       	and	a,0x80
1877  05D6  6F          	ld	l, a
1878  05D7  7B          	ld	a,e
1879  05D8  CB 3F       	srl	a
1880  05DA  B5          	or	a, l
1881  05DB  5F          	ld	e,a
1882  05DC  02          	ld	(bc),a
1883  05DD  0F          	rrca
1884  05DE  E6 80       	and	a,0x80
1885  05E0  6F          	ld	l, a
1886  05E1  CB 3B       	srl	e
1887  05E3  7D          	ld	a, l
1888  05E4  B3          	or	a, e
1889  05E5  02          	ld	(bc), a
1890  05E6              l_game_anim_conveyor_00121:
1891  05E6              l_game_anim_conveyor_00112:
1892  05E6  3A 00 00    	ld	a,(_i)
1893  05E9  DD 96 FB    	sub	a,(ix-5)
1894  05EC  D2 75 06    	jp	NC, l_game_anim_conveyor_00115
1895  05EF  3A 00 00    	ld	a,(_game_conveyor_col0)
1896  05F2  DD 77 FC    	ld	(ix-4),a
1897  05F5  2A 00 00    	ld	hl,(_i)
1898  05F8  CD 00 00    	call	_zx_py2saddr_fastcall
1899  05FB  EB          	ex	de,hl
1900  05FC  7B          	ld	a, e
1901  05FD  DD 86 FC    	add	a,(ix-4)
1902  0600  5F          	ld	e, a
1903  0601  7A          	ld	a, d
1904  0602  CE 00       	adc	a,0x00
1905  0604  57          	ld	d, a
1906  0605  DD 7E FC    	ld	a,(ix-4)
1907  0608  DD 77 FF    	ld	(ix-1),a
1908  060B              l_game_anim_conveyor_00104:
1909  060B  DD 7E FF    	ld	a,(ix-1)
1910  060E  21 00 00    	ld	hl,_game_conveyor_col1
1911  0611  96          	sub	a, (hl)
1912  0612  30 08       	jr	NC,l_game_anim_conveyor_00106
1913  0614  0A          	ld	a, (bc)
1914  0615  12          	ld	(de), a
1915  0616  13          	inc	de
1916  0617  DD 34 FF    	inc	(ix-1)
1917  061A  18 EF       	jr	l_game_anim_conveyor_00104
1918  061C              l_game_anim_conveyor_00106:
1919  061C  03          	inc	bc
1920  061D  03          	inc	bc
1921  061E  21 00 00    	ld	hl,_i
1922  0621  34          	inc	(hl)
1923  0622  3A 00 00    	ld	a,(_game_conveyor_lin)
1924  0625  5F          	ld	e,a
1925  0626  16 00       	ld	d,0x00
1926  0628  13          	inc	de
1927  0629  13          	inc	de
1928  062A  DD 73 FD    	ld	(ix-3),e
1929  062D  DD 72 FE    	ld	(ix-2),d
1930  0630  3A 00 00    	ld	a,(_i)
1931  0633  5F          	ld	e,a
1932  0634  16 00       	ld	d,0x00
1933  0636  DD 7E FD    	ld	a,(ix-3)
1934  0639  93          	sub	a, e
1935  063A  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1936  063C  DD 7E FE    	ld	a,(ix-2)
1937  063F  92          	sub	a, d
1938  0640  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1939  0642  0A          	ld	a, (bc)
1940  0643  5F          	ld	e, a
1941  0644  3A 00 00    	ld	a,(_game_conveyor_dir)
1942  0647  3D          	dec	a
1943  0648  20 16       	jr	NZ,l_game_anim_conveyor_00108
1944  064A  7B          	ld	a, e
1945  064B  0F          	rrca
1946  064C  E6 80       	and	a,0x80
1947  064E  57          	ld	d, a
1948  064F  CB 3B       	srl	e
1949  0651  7A          	ld	a, d
1950  0652  B3          	or	a, e
1951  0653  57          	ld	d,a
1952  0654  02          	ld	(bc),a
1953  0655  0F          	rrca
1954  0656  E6 80       	and	a,0x80
1955  0658  5F          	ld	e, a
1956  0659  CB 3A       	srl	d
1957  065B  7B          	ld	a, e
1958  065C  B2          	or	a, d
1959  065D  02          	ld	(bc), a
1960  065E  18 86       	jr	l_game_anim_conveyor_00112
1961  0660              l_game_anim_conveyor_00108:
1962  0660  7B          	ld	a, e
1963  0661  87          	add	a, a
1964  0662  57          	ld	d, a
1965  0663  7B          	ld	a, e
1966  0664  07          	rlca
1967  0665  E6 01       	and	a,0x01
1968  0667  B2          	or	a, d
1969  0668  5F          	ld	e,a
1970  0669  02          	ld	(bc),a
1971  066A  87          	add	a, a
1972  066B  57          	ld	d, a
1973  066C  7B          	ld	a, e
1974  066D  07          	rlca
1975  066E  E6 01       	and	a,0x01
1976  0670  B2          	or	a, d
1977  0671  02          	ld	(bc), a
1978  0672  C3 E6 05    	jp	l_game_anim_conveyor_00112
1979  0675              l_game_anim_conveyor_00115:
1980  0675  DD F9       	ld	sp, ix
1981  0677  DD E1       	pop	ix
1982  0679  C9          	ret
1983  067A              	SECTION code_compiler
1984  067A              ;	---------------------------------
1985  067A              ; Function game_round_init
1986  067A              ; ---------------------------------
1987  067A              _game_round_init:
1988  067A  CD 00 00    	call	___sdcc_enter_ix
1989  067D  21 DA FF    	ld	hl, -38
1990  0680  39          	add	hl, sp
1991  0681  F9          	ld	sp, hl
1992  0682  CD 00 00    	call	_ay_reset
1993  0685  2E 00       	ld	l,0x00
1994  0687  CD 00 00    	call	_zx_border_fastcall
1995  068A  21 00 00    	ld	hl,_screen_ink
1996  068D  36 00       	ld	(hl),0x00
1997  068F  21 00 20    	ld	hl,0x2000
1998  0692  E5          	push	hl
1999  0693  CD 00 00    	call	_game_fill_row
2000  0696  CD 00 00    	call	_spr_clear_scr
2001  0699  06 00       	ld	b,0x00
2002  069B              l_game_round_init_00124:
2003  069B  C5          	push	bc
2004  069C  21 00 00    	ld	hl,0x0000
2005  069F  E5          	push	hl
2006  06A0  AF          	xor	a, a
2007  06A1  48          	ld	c,b
2008  06A2  47          	ld	b,a
2009  06A3  C5          	push	bc
2010  06A4  CD 00 00    	call	_NIRVANAP_spriteT_callee
2011  06A7  C1          	pop	bc
2012  06A8  04          	inc	b
2013  06A9  78          	ld	a, b
2014  06AA  D6 07       	sub	a,0x07
2015  06AC  38 ED       	jr	C,l_game_round_init_00124
2016  06AE  76          	halt
2017  06AF  CD 00 00    	call	_NIRVANAP_stop
2018  06B2  21 00 00    	ld	hl,_scr_curr
2019  06B5  46          	ld	b, (hl)
2020  06B6  C5          	push	bc
2021  06B7  3E 06       	ld	a,0x06
2022  06B9  F5          	push	af
2023  06BA  33          	inc	sp
2024  06BB  CD CA 12    	call	_page
2025  06BE  33          	inc	sp
2026  06BF  C1          	pop	bc
2027  06C0  11 00 00    	ld	de,_game_borders0+0
2028  06C3  68          	ld	l,b
2029  06C4  26 00       	ld	h,0x00
2030  06C6  19          	add	hl, de
2031  06C7  4E          	ld	c, (hl)
2032  06C8  68          	ld	l, b
2033  06C9  26 00       	ld	h,0x00
2034  06CB  29          	add	hl, hl
2035  06CC  29          	add	hl, hl
2036  06CD  29          	add	hl, hl
2037  06CE  29          	add	hl, hl
2038  06CF  29          	add	hl, hl
2039  06D0  DD 75 FE    	ld	(ix-2),l
2040  06D3  DD 74 FF    	ld	(ix-1),h
2041  06D6  21 00 00    	ld	hl,0x0000
2042  06D9  39          	add	hl, sp
2043  06DA  EB          	ex	de,hl
2044  06DB  06 00       	ld	b,0x00
2045  06DD              l_game_round_init_00102:
2046  06DD  78          	ld	a, b
2047  06DE  D6 20       	sub	a,0x20
2048  06E0  30 2A       	jr	NC,l_game_round_init_00104
2049  06E2  7B          	ld	a, e
2050  06E3  80          	add	a, b
2051  06E4  DD 77 FC    	ld	(ix-4),a
2052  06E7  7A          	ld	a, d
2053  06E8  CE 00       	adc	a,0x00
2054  06EA  DD 77 FD    	ld	(ix-3),a
2055  06ED  3E 00       	ld	a, +((_map_names0) & 0xFF)
2056  06EF  DD 86 FE    	add	a,(ix-2)
2057  06F2  6F          	ld	l, a
2058  06F3  3E 00       	ld	a, +((_map_names0) / 256)
2059  06F5  DD 8E FF    	adc	a,(ix-1)
2060  06F8  67          	ld	h, a
2061  06F9  7E          	ld	a, (hl)
2062  06FA  DD 6E FC    	ld	l,(ix-4)
2063  06FD  DD 66 FD    	ld	h,(ix-3)
2064  0700  77          	ld	(hl), a
2065  0701  04          	inc	b
2066  0702  DD 34 FE    	inc	(ix-2)
2067  0705  20 D6       	jr	NZ,l_game_round_init_00102
2068  0707  DD 34 FF    	inc	(ix-1)
2069  070A  18 D1       	jr	l_game_round_init_00102
2070  070C              l_game_round_init_00104:
2071  070C  C5          	push	bc
2072  070D  D5          	push	de
2073  070E  AF          	xor	a, a
2074  070F  F5          	push	af
2075  0710  33          	inc	sp
2076  0711  CD CA 12    	call	_page
2077  0714  33          	inc	sp
2078  0715  D1          	pop	de
2079  0716  C1          	pop	bc
2080  0717  DD 73 FC    	ld	(ix-4),e
2081  071A  DD 72 FD    	ld	(ix-3),d
2082  071D  21 20 00    	ld	hl,0x0020
2083  0720  19          	add	hl, de
2084  0721  36 00       	ld	(hl),0x00
2085  0723  21 00 00    	ld	hl,_map_border
2086  0726  71          	ld	(hl), c
2087  0727  21 00 00    	ld	hl,0x0000
2088  072A  22 00 00    	ld	(_loop_count),hl
2089  072D  21 00 00    	ld	hl,0
2090  0730  22 00 00    	ld	(_curr_time),hl
2091  0733  21 00 00    	ld	hl,0x0000
2092  0736  22 00 00    	ld	(_frame_time),hl
2093  0739  21 00 00    	ld	hl,_player_coins
2094  073C  36 00       	ld	(hl),0x00
2095  073E  2A 00 00    	ld	hl,(_air_start_byte)
2096  0741  22 00 00    	ld	(_air_curr_byte),hl
2097  0744  21 00 00    	ld	hl,_key_last
2098  0747  36 00       	ld	(hl),0x00
2099  0749  21 00 00    	ld	hl,_key_ink
2100  074C  36 06       	ld	(hl),0x06
2101  074E  DD 36 FB 00 	ld	(ix-5),0x00
2102  0752              l_game_round_init_00105:
2103  0752  DD 7E FB    	ld	a,(ix-5)
2104  0755  D6 08       	sub	a,0x08
2105  0757  30 1F       	jr	NC,l_game_round_init_00107
2106  0759  3E 00       	ld	a, +((_obj_col) & 0xFF)
2107  075B  DD 86 FB    	add	a,(ix-5)
2108  075E  6F          	ld	l, a
2109  075F  3E 00       	ld	a, +((_obj_col) / 256)
2110  0761  CE 00       	adc	a,0x00
2111  0763  67          	ld	h, a
2112  0764  36 FF       	ld	(hl),0xff
2113  0766  3E 00       	ld	a, +((_obj_lin) & 0xFF)
2114  0768  DD 86 FB    	add	a,(ix-5)
2115  076B  6F          	ld	l, a
2116  076C  3E 00       	ld	a, +((_obj_lin) / 256)
2117  076E  CE 00       	adc	a,0x00
2118  0770  67          	ld	h, a
2119  0771  36 FF       	ld	(hl),0xff
2120  0773  DD 34 FB    	inc	(ix-5)
2121  0776  18 DA       	jr	l_game_round_init_00105
2122  0778              l_game_round_init_00107:
2123  0778  3A 00 00    	ld	a,(_scr_curr)
2124  077B  D6 14       	sub	a,0x14
2125  077D  30 0C       	jr	NC,l_game_round_init_00109
2126  077F  21 00 00    	ld	hl,_game_tileset
2127  0782  36 00       	ld	(hl),0x00
2128  0784  21 00 00    	ld	hl,_game_mode
2129  0787  36 00       	ld	(hl),0x00
2130  0789  18 0A       	jr	l_game_round_init_00110
2131  078B              l_game_round_init_00109:
2132  078B  21 00 00    	ld	hl,_game_tileset
2133  078E  36 01       	ld	(hl),0x01
2134  0790  21 00 00    	ld	hl,_game_mode
2135  0793  36 01       	ld	(hl),0x01
2136  0795              l_game_round_init_00110:
2137  0795  CD 99 0B    	call	_game_page_map
2138  0798  CD 29 0F    	call	_game_copy_sprite_color_reset
2139  079B  3A 00 00    	ld	a,(_scr_curr)
2140  079E  D6 14       	sub	a,0x14
2141  07A0  30 24       	jr	NC,l_game_round_init_00120
2142  07A2  3A 00 00    	ld	a,(_map_paper)
2143  07A5  D6 10       	sub	a,0x10
2144  07A7  20 0A       	jr	NZ,l_game_round_init_00112
2145  07A9  21 00 00    	ld	hl,_spr_init_cin0
2146  07AC  36 02       	ld	(hl),0x02
2147  07AE  21 00 00    	ld	hl,_spr_init_cout0
2148  07B1  36 03       	ld	(hl),0x03
2149  07B3              l_game_round_init_00112:
2150  07B3  3A 00 00    	ld	a,(_map_paper)
2151  07B6  D6 20       	sub	a,0x20
2152  07B8  20 60       	jr	NZ,l_game_round_init_00121
2153  07BA  21 00 00    	ld	hl,_spr_init_cin0
2154  07BD  36 05       	ld	(hl),0x05
2155  07BF  21 00 00    	ld	hl,_spr_init_cout0
2156  07C2  36 01       	ld	(hl),0x01
2157  07C4  18 54       	jr	l_game_round_init_00121
2158  07C6              l_game_round_init_00120:
2159  07C6  3A 00 00    	ld	a,(_map_paper)
2160  07C9  D6 08       	sub	a,0x08
2161  07CB  20 1E       	jr	NZ,l_game_round_init_00116
2162  07CD  21 00 00    	ld	hl,_spr_init_cin0
2163  07D0  36 01       	ld	(hl),0x01
2164  07D2  21 00 00    	ld	hl,_spr_init_cout0
2165  07D5  36 07       	ld	(hl),0x07
2166  07D7  21 00 00    	ld	hl,_spr_init_cin1
2167  07DA  36 02       	ld	(hl),0x02
2168  07DC  21 00 00    	ld	hl,_spr_init_cout1
2169  07DF  36 04       	ld	(hl),0x04
2170  07E1  21 00 00    	ld	hl,_spr_init_cin2
2171  07E4  36 16       	ld	(hl),0x16
2172  07E6  21 00 00    	ld	hl,_spr_init_cout2
2173  07E9  36 27       	ld	(hl),0x27
2174  07EB              l_game_round_init_00116:
2175  07EB  3A 00 00    	ld	a,(_map_paper)
2176  07EE  D6 38       	sub	a,0x38
2177  07F0  20 28       	jr	NZ,l_game_round_init_00121
2178  07F2  21 00 00    	ld	hl,_spr_init_cin0
2179  07F5  36 06       	ld	(hl),0x06
2180  07F7  21 00 00    	ld	hl,_spr_init_cout0
2181  07FA  36 00       	ld	(hl),0x00
2182  07FC  21 00 00    	ld	hl,_spr_init_cin1
2183  07FF  36 01       	ld	(hl),0x01
2184  0801  21 00 00    	ld	hl,_spr_init_cout1
2185  0804  36 01       	ld	(hl),0x01
2186  0806  21 00 00    	ld	hl,_spr_init_cin2
2187  0809  36 02       	ld	(hl),0x02
2188  080B  21 00 00    	ld	hl,_spr_init_cout2
2189  080E  36 03       	ld	(hl),0x03
2190  0810  21 00 00    	ld	hl,_spr_init_cin3
2191  0813  36 16       	ld	(hl),0x16
2192  0815  21 00 00    	ld	hl,_spr_init_cout3
2193  0818  36 08       	ld	(hl),0x08
2194  081A              l_game_round_init_00121:
2195  081A  21 00 08    	ld	hl,0x0800
2196  081D  E5          	push	hl
2197  081E  CD 57 0F    	call	_game_copy_sprite_std
2198  0821  F1          	pop	af
2199  0822  7D          	ld	a,l
2200  0823  32 00 00    	ld	(_game_tile_cnt),a
2201  0826  CD 00 00    	call	_spr_btile_paint_back
2202  0829  3A 00 00    	ld	a,(_map_paper)
2203  082C  21 00 00    	ld	hl,_key_ink
2204  082F  B6          	or	a, (hl)
2205  0830  32 00 00    	ld	(_key_attrib),a
2206  0833  32 01 00    	ld	((_key_attrib + 0x0001)),a
2207  0836  32 02 00    	ld	((_key_attrib + 0x0002)),a
2208  0839  32 03 00    	ld	((_key_attrib + 0x0003)),a
2209  083C  21 00 00    	ld	hl,_game_song_play_start
2210  083F  36 00       	ld	(hl),0x00
2211  0841  CD 00 00    	call	_audio_ingame
2212  0844  CD 00 00    	call	_NIRVANAP_start
2213  0847  CD 18 01    	call	_game_draw_map
2214  084A  AF          	xor	a, a
2215  084B  F5          	push	af
2216  084C  33          	inc	sp
2217  084D  CD F0 0E    	call	_game_flash_exit
2218  0850  33          	inc	sp
2219  0851  2A 00 00    	ld	hl,(_map_border)
2220  0854  CD 00 00    	call	_zx_border_fastcall
2221  0857  21 00 00    	ld	hl,_map_border
2222  085A  7E          	ld	a, (hl)
2223  085B  07          	rlca
2224  085C  07          	rlca
2225  085D  07          	rlca
2226  085E  E6 F8       	and	a,0xf8
2227  0860  B6          	or	a, (hl)
2228  0861  32 00 00    	ld	(_screen_ink),a
2229  0864  21 00 20    	ld	hl,0x2000
2230  0867  E5          	push	hl
2231  0868  CD 00 00    	call	_game_fill_row
2232  086B  3A 00 00    	ld	a,(_game_over)
2233  086E  B7          	or	a, a
2234  086F  20 15       	jr	NZ,l_game_round_init_00123
2235  0871  2A 00 00    	ld	hl,(_player_col_scr)
2236  0874  26 08       	ld	h,0x08
2237  0876  3A 00 00    	ld	a,(_player_lin_scr)
2238  0879  E5          	push	hl
2239  087A  F5          	push	af
2240  087B  33          	inc	sp
2241  087C  CD 00 00    	call	_player_init
2242  087F  F1          	pop	af
2243  0880  33          	inc	sp
2244  0881  21 00 00    	ld	hl,_player_killed
2245  0884  36 00       	ld	(hl),0x00
2246  0886              l_game_round_init_00123:
2247  0886  21 00 00    	ld	hl,_screen_ink
2248  0889  36 30       	ld	(hl),0x30
2249  088B  21 11 20    	ld	hl,0x2011
2250  088E  E5          	push	hl
2251  088F  CD 00 00    	call	_game_fill_row
2252  0892  DD 4E FC    	ld	c,(ix-4)
2253  0895  DD 46 FD    	ld	b,(ix-3)
2254  0898  C5          	push	bc
2255  0899  21 11 00    	ld	hl,0x0011
2256  089C  E5          	push	hl
2257  089D  CD 00 00    	call	_zx_print_str
2258  08A0  21 00 00    	ld	hl,_screen_ink
2259  08A3  36 57       	ld	(hl),0x57
2260  08A5  21 07 00    	ld	hl,___str_2
2261  08A8  E5          	push	hl
2262  08A9  21 12 00    	ld	hl,0x0012
2263  08AC  E5          	push	hl
2264  08AD  CD 00 00    	call	_zx_print_str
2265  08B0  21 00 00    	ld	hl,_screen_ink
2266  08B3  36 67       	ld	(hl),0x67
2267  08B5  21 12 00    	ld	hl,___str_3
2268  08B8  E5          	push	hl
2269  08B9  21 12 0A    	ld	hl,0x0a12
2270  08BC  E5          	push	hl
2271  08BD  CD 00 00    	call	_zx_print_str
2272  08C0  21 00 00    	ld	hl,_screen_ink
2273  08C3  36 06       	ld	(hl),0x06
2274  08C5  21 29 00    	ld	hl,___str_4
2275  08C8  E5          	push	hl
2276  08C9  21 14 00    	ld	hl,0x0014
2277  08CC  E5          	push	hl
2278  08CD  CD 00 00    	call	_zx_print_str
2279  08D0  CD A8 04    	call	_game_print_score
2280  08D3  CD C9 04    	call	_game_print_lives
2281  08D6  21 00 00    	ld	hl,_screen_ink
2282  08D9  36 07       	ld	(hl),0x07
2283  08DB  76          	halt
2284  08DC  DD F9       	ld	sp, ix
2285  08DE  DD E1       	pop	ix
2286  08E0  C9          	ret
2287  08E1              	SECTION rodata_compiler
2288  0007              ___str_2:
2289  0007  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2290  0011  00          	DEFB 0x00
2291  0012              	SECTION rodata_compiler
2292  0012              ___str_3:
2293  0012  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2294  0028  00          	DEFB 0x00
2295  0029              	SECTION rodata_compiler
2296  0029              ___str_4:
2297  0029  48 69 67 68 20 53 63 6F 72 65 20 20 20 20 20 20 20 20 20 53 63 6F 72 65 20 20 20 20 20 20 
                        	DEFM "High Score         Score      "
2298  0047  00          	DEFB 0x00
2299  0048              	SECTION code_compiler
2300  08E1              ;	---------------------------------
2301  08E1              ; Function game_print_header
2302  08E1              ; ---------------------------------
2303  08E1              	defc _game_print_header	=	_game_print_score
2304  08E1              	SECTION code_compiler
2305  08E1              ;	---------------------------------
2306  08E1              ; Function game_check_map
2307  08E1              ; ---------------------------------
2308  08E1              _game_check_map:
2309  08E1  CD 00 00    	call	___sdcc_enter_ix
2310  08E4  DD 66 05    	ld	h,(ix+5)
2311  08E7  DD 6E 04    	ld	l,(ix+4)
2312  08EA  E5          	push	hl
2313  08EB  CD 00 00    	call	_spr_calc_index
2314  08EE  F1          	pop	af
2315  08EF  22 00 00    	ld	(_index1),hl
2316  08F2  21 00 00    	ld	hl,_index1
2317  08F5  DD E1       	pop	ix
2318  08F7  C3 FA 08    	jp	_game_check_cell
2319  08FA              	SECTION code_compiler
2320  08FA              ;	---------------------------------
2321  08FA              ; Function game_check_cell
2322  08FA              ; ---------------------------------
2323  08FA              _game_check_cell:
2324  08FA  4E          	ld	c, (hl)
2325  08FB  23          	inc	hl
2326  08FC  46          	ld	b, (hl)
2327  08FD  AF          	xor	a, a
2328  08FE  B9          	cp	a, c
2329  08FF  3E 02       	ld	a,0x02
2330  0901  98          	sbc	a, b
2331  0902  30 04       	jr	NC,l_game_check_cell_00102
2332  0904  2E 01       	ld	l,0x01
2333  0906  18 1A       	jr	l_game_check_cell_00106
2334  0908              l_game_check_cell_00102:
2335  0908  21 00 00    	ld	hl,_scr_map
2336  090B  09          	add	hl, bc
2337  090C  5E          	ld	e, (hl)
2338  090D  16 00       	ld	d,0x00
2339  090F  21 00 00    	ld	hl,_tile_class
2340  0912  19          	add	hl, de
2341  0913  5E          	ld	e, (hl)
2342  0914  ED 43 00 00 	ld	(_index1),bc
2343  0918  7B          	ld	a,e
2344  0919  D6 03       	sub	a,0x03
2345  091B  28 04       	jr	Z,l_game_check_cell_00104
2346  091D  2E 00       	ld	l,0x00
2347  091F  18 01       	jr	l_game_check_cell_00106
2348  0921              l_game_check_cell_00104:
2349  0921  6B          	ld	l, e
2350  0922              l_game_check_cell_00106:
2351  0922  C9          	ret
2352  0923              	SECTION code_compiler
2353  0923              ;	---------------------------------
2354  0923              ; Function game_paint_attrib
2355  0923              ; ---------------------------------
2356  0923              _game_paint_attrib:
2357  0923  CD 00 00    	call	___sdcc_enter_ix
2358  0926  DD 46 06    	ld	b,(ix+6)
2359  0929              l_game_paint_attrib_00103:
2360  0929  78          	ld	a, b
2361  092A  DD 96 07    	sub	a,(ix+7)
2362  092D  30 13       	jr	NC,l_game_paint_attrib_00105
2363  092F  DD 5E 04    	ld	e,(ix+4)
2364  0932  DD 56 05    	ld	d,(ix+5)
2365  0935  C5          	push	bc
2366  0936  DD 4E 08    	ld	c,(ix+8)
2367  0939  C5          	push	bc
2368  093A  D5          	push	de
2369  093B  CD 00 00    	call	_NIRVANAP_paintC_callee
2370  093E  C1          	pop	bc
2371  093F  04          	inc	b
2372  0940  18 E7       	jr	l_game_paint_attrib_00103
2373  0942              l_game_paint_attrib_00105:
2374  0942  DD E1       	pop	ix
2375  0944  C9          	ret
2376  0945              	SECTION code_compiler
2377  0945              ;	---------------------------------
2378  0945              ; Function game_colour_message
2379  0945              ; ---------------------------------
2380  0945              _game_colour_message:
2381  0945  CD 00 00    	call	___sdcc_enter_ix
2382  0948  F5          	push	af
2383  0949  F5          	push	af
2384  094A  F5          	push	af
2385  094B  F5          	push	af
2386  094C  D1          	pop	de
2387  094D  21 00 00    	ld	hl,_v0
2388  0950  36 01       	ld	(hl),0x01
2389  0952  2A 00 00    	ld	hl,(_curr_time)
2390  0955  22 00 00    	ld	(_frame_time),hl
2391  0958  E5          	push	hl
2392  0959  DD 7E 04    	ld	a,(ix+4)
2393  095C  4D          	ld	c,l
2394  095D  07          	rlca
2395  095E  07          	rlca
2396  095F  07          	rlca
2397  0960  E6 F8       	and	a,0xf8
2398  0962  DD 77 FF    	ld	(ix-1),a
2399  0965  C6 08       	add	a,0x08
2400  0967  DD 77 FE    	ld	(ix-2),a
2401  096A  DD 77 FD    	ld	(ix-3),a
2402  096D              l_game_colour_message_00112:
2403  096D  3A 00 00    	ld	a,(_v0)
2404  0970  B7          	or	a, a
2405  0971  CA 0D 0A    	jp	Z, l_game_colour_message_00114
2406  0974  DD 46 07    	ld	b,(ix+7)
2407  0977  21 00 00    	ld	hl,0x0000
2408  097A  39          	add	hl, sp
2409  097B  EB          	ex	de,hl
2410  097C  C5          	push	bc
2411  097D  33          	inc	sp
2412  097E  D5          	push	de
2413  097F  CD 83 0A    	call	_game_check_time
2414  0982  F1          	pop	af
2415  0983  33          	inc	sp
2416  0984  7D          	ld	a, l
2417  0985  B7          	or	a, a
2418  0986  C2 0D 0A    	jp	NZ, l_game_colour_message_00114
2419  0989  3E 05       	ld	a,0x05
2420  098B  F5          	push	af
2421  098C  33          	inc	sp
2422  098D  21 00 00    	ld	hl,_frame_time
2423  0990  E5          	push	hl
2424  0991  CD 83 0A    	call	_game_check_time
2425  0994  F1          	pop	af
2426  0995  33          	inc	sp
2427  0996  DD 75 FC    	ld	(ix-4),l
2428  0999  7D          	ld	a, l
2429  099A  B7          	or	a, a
2430  099B  28 4A       	jr	Z,l_game_colour_message_00105
2431  099D  2A 00 00    	ld	hl,(_curr_time)
2432  09A0  DD 74 FB    	ld	(ix-5),h
2433  09A3  DD 75 FA    	ld	(ix-6),l
2434  09A6  7D          	ld	a, l
2435  09A7  21 00 00    	ld	hl,_frame_time
2436  09AA  77          	ld	(hl), a
2437  09AB  DD 7E FB    	ld	a,(ix-5)
2438  09AE  23          	inc	hl
2439  09AF  77          	ld	(hl), a
2440  09B0  3A 00 00    	ld	a,(_game_over)
2441  09B3  B7          	or	a, a
2442  09B4  28 18       	jr	Z,l_game_colour_message_00102
2443  09B6  DD 66 FD    	ld	h,(ix-3)
2444  09B9  DD 6E 06    	ld	l,(ix+6)
2445  09BC  E5          	push	hl
2446  09BD  DD 7E 05    	ld	a,(ix+5)
2447  09C0  F5          	push	af
2448  09C1  33          	inc	sp
2449  09C2  21 00 00    	ld	hl,_attrib_hl
2450  09C5  E5          	push	hl
2451  09C6  CD 23 09    	call	_game_paint_attrib
2452  09C9  F1          	pop	af
2453  09CA  F1          	pop	af
2454  09CB  33          	inc	sp
2455  09CC  18 19       	jr	l_game_colour_message_00105
2456  09CE              l_game_colour_message_00102:
2457  09CE  DD 66 FE    	ld	h,(ix-2)
2458  09D1  DD 6E 06    	ld	l,(ix+6)
2459  09D4  E5          	push	hl
2460  09D5  DD 7E 05    	ld	a,(ix+5)
2461  09D8  F5          	push	af
2462  09D9  33          	inc	sp
2463  09DA  21 00 00    	ld	hl,_attrib_osd
2464  09DD  E5          	push	hl
2465  09DE  CD 23 09    	call	_game_paint_attrib
2466  09E1  F1          	pop	af
2467  09E2  F1          	pop	af
2468  09E3  33          	inc	sp
2469  09E4  CD 24 0B    	call	_game_rotate_attrib_osd
2470  09E7              l_game_colour_message_00105:
2471  09E7  DD 7E 09    	ld	a,(ix+9)
2472  09EA  B7          	or	a, a
2473  09EB  CA 6D 09    	jp	Z, l_game_colour_message_00112
2474  09EE              l_game_colour_message_00106:
2475  09EE  21 00 00    	ld	hl,_k1
2476  09F1  E5          	push	hl
2477  09F2  2A 00 00    	ld	hl,(_joyfunc1)
2478  09F5  CD 00 00    	call	___sdcc_call_hl
2479  09F8  F1          	pop	af
2480  09F9  DD 74 FB    	ld	(ix-5),h
2481  09FC  DD 75 FA    	ld	(ix-6),l
2482  09FF  7C          	ld	a,h
2483  0A00  DD B6 FA    	or	a,(ix-6)
2484  0A03  CA 6D 09    	jp	Z, l_game_colour_message_00112
2485  0A06  21 00 00    	ld	hl,_v0
2486  0A09  36 00       	ld	(hl),0x00
2487  0A0B  18 E1       	jr	l_game_colour_message_00106
2488  0A0D              l_game_colour_message_00114:
2489  0A0D  DD 7E 06    	ld	a,(ix+6)
2490  0A10  DD 96 05    	sub	a,(ix+5)
2491  0A13  4F          	ld	c, a
2492  0A14  3A 00 00    	ld	a,(_game_over)
2493  0A17  B7          	or	a, a
2494  0A18  28 2F       	jr	Z,l_game_colour_message_00118
2495  0A1A  21 00 00    	ld	hl,_v1
2496  0A1D  71          	ld	(hl), c
2497  0A1E  21 00 00    	ld	hl,_v0
2498  0A21  36 00       	ld	(hl),0x00
2499  0A23              l_game_colour_message_00121:
2500  0A23  3A 00 00    	ld	a,(_v0)
2501  0A26  21 00 00    	ld	hl,_v1
2502  0A29  96          	sub	a, (hl)
2503  0A2A  30 52       	jr	NC,l_game_colour_message_00126
2504  0A2C  DD 7E 05    	ld	a,(ix+5)
2505  0A2F  21 00 00    	ld	hl,_v0
2506  0A32  86          	add	a, (hl)
2507  0A33  4F          	ld	c, a
2508  0A34  21 48 00    	ld	hl,___str_5
2509  0A37  E5          	push	hl
2510  0A38  79          	ld	a, c
2511  0A39  F5          	push	af
2512  0A3A  33          	inc	sp
2513  0A3B  DD 7E 04    	ld	a,(ix+4)
2514  0A3E  F5          	push	af
2515  0A3F  33          	inc	sp
2516  0A40  CD 00 00    	call	_zx_print_str
2517  0A43  21 00 00    	ld	hl,_v0
2518  0A46  34          	inc	(hl)
2519  0A47  18 DA       	jr	l_game_colour_message_00121
2520  0A49              l_game_colour_message_00118:
2521  0A49  21 00 00    	ld	hl,_v1
2522  0A4C  71          	ld	(hl), c
2523  0A4D  DD 7E FF    	ld	a,(ix-1)
2524  0A50  32 00 00    	ld	(_s_lin0),a
2525  0A53  DD 7E 05    	ld	a,(ix+5)
2526  0A56  CB 3F       	srl	a
2527  0A58  87          	add	a, a
2528  0A59  32 00 00    	ld	(_s_col1),a
2529  0A5C  21 00 00    	ld	hl,_v2
2530  0A5F  36 00       	ld	(hl),0x00
2531  0A61              l_game_colour_message_00124:
2532  0A61  3A 00 00    	ld	a,(_v2)
2533  0A64  21 00 00    	ld	hl,_v1
2534  0A67  96          	sub	a, (hl)
2535  0A68  30 14       	jr	NC,l_game_colour_message_00126
2536  0A6A  3A 00 00    	ld	a,(_s_col1)
2537  0A6D  21 00 00    	ld	hl,_v2
2538  0A70  86          	add	a, (hl)
2539  0A71  32 00 00    	ld	(_s_col0),a
2540  0A74  CD 00 00    	call	_spr_back_repaint
2541  0A77  21 00 00    	ld	hl,_v2
2542  0A7A  34          	inc	(hl)
2543  0A7B  34          	inc	(hl)
2544  0A7C  18 E3       	jr	l_game_colour_message_00124
2545  0A7E              l_game_colour_message_00126:
2546  0A7E  DD F9       	ld	sp, ix
2547  0A80  DD E1       	pop	ix
2548  0A82  C9          	ret
2549  0A83              	SECTION rodata_compiler
2550  0048              ___str_5:
2551  0048  20          	DEFM " "
2552  0049  00          	DEFB 0x00
2553  004A              	SECTION code_compiler
2554  0A83              ;	---------------------------------
2555  0A83              ; Function game_check_time
2556  0A83              ; ---------------------------------
2557  0A83              _game_check_time:
2558  0A83  CD 00 00    	call	___sdcc_enter_ix
2559  0A86  2A 00 00    	ld	hl,(_curr_time)
2560  0A89  4D          	ld	c, l
2561  0A8A  DD 6E 04    	ld	l,(ix+4)
2562  0A8D  44          	ld	b,h
2563  0A8E  DD 66 05    	ld	h,(ix+5)
2564  0A91  5E          	ld	e, (hl)
2565  0A92  23          	inc	hl
2566  0A93  56          	ld	d, (hl)
2567  0A94  79          	ld	a, c
2568  0A95  93          	sub	a, e
2569  0A96  4F          	ld	c, a
2570  0A97  78          	ld	a, b
2571  0A98  9A          	sbc	a, d
2572  0A99  47          	ld	b, a
2573  0A9A  DD 7E 06    	ld	a,(ix+6)
2574  0A9D  16 00       	ld	d,0x00
2575  0A9F  91          	sub	a, c
2576  0AA0  7A          	ld	a, d
2577  0AA1  98          	sbc	a, b
2578  0AA2  30 04       	jr	NC,l_game_check_time_00102
2579  0AA4  2E 01       	ld	l,0x01
2580  0AA6  18 02       	jr	l_game_check_time_00104
2581  0AA8              l_game_check_time_00102:
2582  0AA8  2E 00       	ld	l,0x00
2583  0AAA              l_game_check_time_00104:
2584  0AAA  DD E1       	pop	ix
2585  0AAC  C9          	ret
2586  0AAD              	SECTION code_compiler
2587  0AAD              ;	---------------------------------
2588  0AAD              ; Function game_key_paint
2589  0AAD              ; ---------------------------------
2590  0AAD              _game_key_paint:
2591  0AAD  3A 00 00    	ld	a,(_obj_count)
2592  0AB0  B7          	or	a, a
2593  0AB1  28 70       	jr	Z,l_game_key_paint_00116
2594  0AB3  21 00 00    	ld	hl,_key_last
2595  0AB6  4E          	ld	c, (hl)
2596  0AB7  59          	ld	e, c
2597  0AB8              l_game_key_paint_00105:
2598  0AB8  7B          	ld	a, e
2599  0AB9  D6 08       	sub	a,0x08
2600  0ABB  30 4A       	jr	NC,l_game_key_paint_00107
2601  0ABD  16 00       	ld	d,0x00
2602  0ABF  21 00 00    	ld	hl,_obj_col
2603  0AC2  19          	add	hl, de
2604  0AC3  7E          	ld	a,(hl)
2605  0AC4  47          	ld	b,a
2606  0AC5  3C          	inc	a
2607  0AC6  28 3B       	jr	Z,l_game_key_paint_00104
2608  0AC8  11 00 00    	ld	de,_obj_lin+0
2609  0ACB  69          	ld	l,c
2610  0ACC  26 00       	ld	h,0x00
2611  0ACE  19          	add	hl, de
2612  0ACF  5E          	ld	e, (hl)
2613  0AD0  C5          	push	bc
2614  0AD1  C5          	push	bc
2615  0AD2  33          	inc	sp
2616  0AD3  7B          	ld	a, e
2617  0AD4  F5          	push	af
2618  0AD5  33          	inc	sp
2619  0AD6  21 00 00    	ld	hl,_key_attrib
2620  0AD9  E5          	push	hl
2621  0ADA  CD 00 00    	call	_NIRVANAP_paintC_callee
2622  0ADD  C1          	pop	bc
2623  0ADE  3A 00 00    	ld	a,(_map_paper)
2624  0AE1  21 00 00    	ld	hl,_key_ink
2625  0AE4  B6          	or	a, (hl)
2626  0AE5  32 00 00    	ld	(_key_attrib),a
2627  0AE8  32 01 00    	ld	((_key_attrib + 0x0001)),a
2628  0AEB  32 02 00    	ld	((_key_attrib + 0x0002)),a
2629  0AEE  32 03 00    	ld	((_key_attrib + 0x0003)),a
2630  0AF1  21 00 00    	ld	hl,_key_ink
2631  0AF4  34          	inc	(hl)
2632  0AF5  3E 06       	ld	a,0x06
2633  0AF7  96          	sub	a, (hl)
2634  0AF8  30 02       	jr	NC,l_game_key_paint_00102
2635  0AFA  36 03       	ld	(hl),0x03
2636  0AFC              l_game_key_paint_00102:
2637  0AFC  79          	ld	a, c
2638  0AFD  3C          	inc	a
2639  0AFE  32 00 00    	ld	(_key_last),a
2640  0B01  18 04       	jr	l_game_key_paint_00107
2641  0B03              l_game_key_paint_00104:
2642  0B03  1C          	inc	e
2643  0B04  4B          	ld	c, e
2644  0B05  18 B1       	jr	l_game_key_paint_00105
2645  0B07              l_game_key_paint_00107:
2646  0B07  79          	ld	a, c
2647  0B08  D6 08       	sub	a,0x08
2648  0B0A  38 17       	jr	C,l_game_key_paint_00116
2649  0B0C  3A 00 00    	ld	a,(_obj_count)
2650  0B0F  D6 04       	sub	a,0x04
2651  0B11  20 0B       	jr	NZ,l_game_key_paint_00111
2652  0B13  21 00 00    	ld	hl,_key_ink
2653  0B16  34          	inc	(hl)
2654  0B17  3E 06       	ld	a,0x06
2655  0B19  96          	sub	a, (hl)
2656  0B1A  30 02       	jr	NC,l_game_key_paint_00111
2657  0B1C  36 03       	ld	(hl),0x03
2658  0B1E              l_game_key_paint_00111:
2659  0B1E  21 00 00    	ld	hl,_key_last
2660  0B21  36 00       	ld	(hl),0x00
2661  0B23              l_game_key_paint_00116:
2662  0B23  C9          	ret
2663  0B24              	SECTION code_compiler
2664  0B24              ;	---------------------------------
2665  0B24              ; Function game_rotate_attrib_osd
2666  0B24              ; ---------------------------------
2667  0B24              _game_rotate_attrib_osd:
2668  0B24  3A 00 00    	ld	a,(_game_attrib_osd)
2669  0B27  D6 07       	sub	a,0x07
2670  0B29  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2671  0B2B  21 00 00    	ld	hl,_game_attrib_osd
2672  0B2E  36 01       	ld	(hl),0x01
2673  0B30              l_game_rotate_attrib_osd_00102:
2674  0B30  21 00 00    	ld	hl,_game_attrib_osd
2675  0B33  34          	inc	(hl)
2676  0B34  01 00 00    	ld	bc,_attrib_osd+0
2677  0B37  0A          	ld	a, (bc)
2678  0B38  32 00 00    	ld	(_v0),a
2679  0B3B  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2680  0B3E  02          	ld	(bc), a
2681  0B3F  59          	ld	e, c
2682  0B40  50          	ld	d, b
2683  0B41  13          	inc	de
2684  0B42  03          	inc	bc
2685  0B43  03          	inc	bc
2686  0B44  0A          	ld	a, (bc)
2687  0B45  12          	ld	(de), a
2688  0B46  02          	ld	(bc), a
2689  0B47  3A 00 00    	ld	a,(_v0)
2690  0B4A  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2691  0B4D  C9          	ret
2692  0B4E              	SECTION code_compiler
2693  0B4E              ;	---------------------------------
2694  0B4E              ; Function game_attribs
2695  0B4E              ; ---------------------------------
2696  0B4E              _game_attribs:
2697  0B4E  01 00 00    	ld	bc,_attrib+0
2698  0B51  21 00 00    	ld	hl,_map_paper
2699  0B54  7E          	ld	a, (hl)
2700  0B55  F6 06       	or	a,0x06
2701  0B57  02          	ld	(bc), a
2702  0B58  59          	ld	e, c
2703  0B59  50          	ld	d, b
2704  0B5A  13          	inc	de
2705  0B5B  7E          	ld	a, (hl)
2706  0B5C  F6 46       	or	a,0x46
2707  0B5E  12          	ld	(de), a
2708  0B5F  7E          	ld	a, (hl)
2709  0B60  F6 07       	or	a,0x07
2710  0B62  32 02 00    	ld	((_attrib + 0x0002)),a
2711  0B65  03          	inc	bc
2712  0B66  03          	inc	bc
2713  0B67  03          	inc	bc
2714  0B68  21 00 00    	ld	hl,_map_paper
2715  0B6B  7E          	ld	a, (hl)
2716  0B6C  F6 06       	or	a,0x06
2717  0B6E  02          	ld	(bc), a
2718  0B6F  01 00 00    	ld	bc,_attrib_hl+0
2719  0B72  7E          	ld	a, (hl)
2720  0B73  F6 15       	or	a,0x15
2721  0B75  02          	ld	(bc), a
2722  0B76  59          	ld	e, c
2723  0B77  50          	ld	d, b
2724  0B78  13          	inc	de
2725  0B79  7E          	ld	a, (hl)
2726  0B7A  F6 55       	or	a,0x55
2727  0B7C  12          	ld	(de), a
2728  0B7D  7E          	ld	a, (hl)
2729  0B7E  F6 17       	or	a,0x17
2730  0B80  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2731  0B83  03          	inc	bc
2732  0B84  03          	inc	bc
2733  0B85  03          	inc	bc
2734  0B86  3A 00 00    	ld	a,(_map_paper)
2735  0B89  F6 15       	or	a,0x15
2736  0B8B  02          	ld	(bc), a
2737  0B8C  21 70 71    	ld	hl,0x7170
2738  0B8F  22 00 00    	ld	(_attrib_osd),hl
2739  0B92  21 71 73    	ld	hl,0x7371
2740  0B95  22 02 00    	ld	(_attrib_osd + 2),hl
2741  0B98  C9          	ret
2742  0B99              	SECTION code_compiler
2743  0B99              ;	---------------------------------
2744  0B99              ; Function game_page_map
2745  0B99              ; ---------------------------------
2746  0B99              _game_page_map:
2747  0B99  CD 00 00    	call	___sdcc_enter_ix
2748  0B9C  21 B6 FF    	ld	hl, -74
2749  0B9F  39          	add	hl, sp
2750  0BA0  F9          	ld	sp, hl
2751  0BA1  F3          	di
2752  0BA2  21 00 00    	ld	hl,_scr_curr
2753  0BA5  56          	ld	d, (hl)
2754  0BA6  4A          	ld	c, d
2755  0BA7  DD 72 FF    	ld	(ix-1),d
2756  0BAA  3E 13       	ld	a,0x13
2757  0BAC  92          	sub	a, d
2758  0BAD  30 06       	jr	NC,l_game_page_map_00102
2759  0BAF  7A          	ld	a, d
2760  0BB0  C6 EC       	add	a,0xec
2761  0BB2  DD 77 FF    	ld	(ix-1),a
2762  0BB5              l_game_page_map_00102:
2763  0BB5  DD 7E E7    	ld	a,(ix-25)
2764  0BB8  07          	rlca
2765  0BB9  07          	rlca
2766  0BBA  07          	rlca
2767  0BBB  07          	rlca
2768  0BBC  E6 F0       	and	a,0xf0
2769  0BBE  82          	add	a, d
2770  0BBF  DD 77 E6    	ld	(ix-26),a
2771  0BC2  5F          	ld	e,a
2772  0BC3  21 00 00    	ld	hl,_game_tileset
2773  0BC6  46          	ld	b, (hl)
2774  0BC7  C5          	push	bc
2775  0BC8  D5          	push	de
2776  0BC9  3E 06       	ld	a,0x06
2777  0BCB  F5          	push	af
2778  0BCC  33          	inc	sp
2779  0BCD  CD CA 12    	call	_page
2780  0BD0  33          	inc	sp
2781  0BD1  D1          	pop	de
2782  0BD2  C1          	pop	bc
2783  0BD3  14          	inc	d
2784  0BD4  20 03       	jr	NZ,l_game_page_map_00104
2785  0BD6  DD 73 E6    	ld	(ix-26),e
2786  0BD9              l_game_page_map_00104:
2787  0BD9  11 00 00    	ld	de,_paper0+0
2788  0BDC  DD 6E E6    	ld	l,(ix-26)
2789  0BDF  26 00       	ld	h,0x00
2790  0BE1  19          	add	hl, de
2791  0BE2  5E          	ld	e, (hl)
2792  0BE3  C5          	push	bc
2793  0BE4  D5          	push	de
2794  0BE5  AF          	xor	a, a
2795  0BE6  F5          	push	af
2796  0BE7  33          	inc	sp
2797  0BE8  CD CA 12    	call	_page
2798  0BEB  33          	inc	sp
2799  0BEC  D1          	pop	de
2800  0BED  C1          	pop	bc
2801  0BEE  21 50 01    	ld	hl,0x0150
2802  0BF1  22 00 00    	ld	(_index1),hl
2803  0BF4  21 00 00    	ld	hl,0x0000
2804  0BF7  39          	add	hl, sp
2805  0BF8  DD 75 FD    	ld	(ix-3),l
2806  0BFB  DD 74 FE    	ld	(ix-2),h
2807  0BFE  DD 36 F0 00 	ld	(ix-16),0x00
2808  0C02  DD 36 F1 00 	ld	(ix-15),0x00
2809  0C06              l_game_page_map_00105:
2810  0C06  DD 7E F0    	ld	a,(ix-16)
2811  0C09  D6 30       	sub	a,0x30
2812  0C0B  DD 7E F1    	ld	a,(ix-15)
2813  0C0E  DE 00       	sbc	a,0x00
2814  0C10  30 38       	jr	NC,l_game_page_map_00107
2815  0C12  DD 7E F0    	ld	a,(ix-16)
2816  0C15  C6 50       	add	a,0x50
2817  0C17  57          	ld	d, a
2818  0C18  DD 7E F1    	ld	a,(ix-15)
2819  0C1B  CE 01       	adc	a,0x01
2820  0C1D  6F          	ld	l, a
2821  0C1E  3E 00       	ld	a, +((_btiles) & 0xFF)
2822  0C20  82          	add	a, d
2823  0C21  DD 77 FB    	ld	(ix-5),a
2824  0C24  3E 00       	ld	a, +((_btiles) / 256)
2825  0C26  8D          	adc	a, l
2826  0C27  DD 77 FC    	ld	(ix-4),a
2827  0C2A  DD 7E FD    	ld	a,(ix-3)
2828  0C2D  DD 86 F0    	add	a,(ix-16)
2829  0C30  6F          	ld	l, a
2830  0C31  DD 7E FE    	ld	a,(ix-2)
2831  0C34  DD 8E F1    	adc	a,(ix-15)
2832  0C37  67          	ld	h, a
2833  0C38  56          	ld	d, (hl)
2834  0C39  DD 6E FB    	ld	l,(ix-5)
2835  0C3C  DD 66 FC    	ld	h,(ix-4)
2836  0C3F  72          	ld	(hl), d
2837  0C40  DD 34 F0    	inc	(ix-16)
2838  0C43  20 C1       	jr	NZ,l_game_page_map_00105
2839  0C45  DD 34 F1    	inc	(ix-15)
2840  0C48  18 BC       	jr	l_game_page_map_00105
2841  0C4A              l_game_page_map_00107:
2842  0C4A  DD 6E FF    	ld	l,(ix-1)
2843  0C4D  26 00       	ld	h,0x00
2844  0C4F  D5          	push	de
2845  0C50  5D          	ld	e, l
2846  0C51  54          	ld	d, h
2847  0C52  29          	add	hl, hl
2848  0C53  19          	add	hl, de
2849  0C54  AF          	xor	a,a
2850  0C55  CB 3C       	srl	h
2851  0C57  CB 1D       	rr	l
2852  0C59  1F          	rra
2853  0C5A  D1          	pop	de
2854  0C5B  DD 77 EA    	ld	(ix-22),a
2855  0C5E  DD 75 EB    	ld	(ix-21),l
2856  0C61  DD 7E FD    	ld	a,(ix-3)
2857  0C64  DD 77 FB    	ld	(ix-5),a
2858  0C67  DD 7E FE    	ld	a,(ix-2)
2859  0C6A  DD 77 FC    	ld	(ix-4),a
2860  0C6D  DD 7E FD    	ld	a,(ix-3)
2861  0C70  DD 77 F9    	ld	(ix-7),a
2862  0C73  DD 7E FE    	ld	a,(ix-2)
2863  0C76  DD 77 FA    	ld	(ix-6),a
2864  0C79  DD 36 EC 00 	ld	(ix-20),0x00
2865  0C7D  DD 36 ED 00 	ld	(ix-19),0x00
2866  0C81              l_game_page_map_00117:
2867  0C81  DD 7E EC    	ld	a,(ix-20)
2868  0C84  D6 80       	sub	a,0x80
2869  0C86  DD 7E ED    	ld	a,(ix-19)
2870  0C89  DE 01       	sbc	a,0x01
2871  0C8B  D2 94 0D    	jp	NC, l_game_page_map_00119
2872  0C8E  C5          	push	bc
2873  0C8F  D5          	push	de
2874  0C90  3E 07       	ld	a,0x07
2875  0C92  F5          	push	af
2876  0C93  33          	inc	sp
2877  0C94  CD CA 12    	call	_page
2878  0C97  33          	inc	sp
2879  0C98  D1          	pop	de
2880  0C99  C1          	pop	bc
2881  0C9A  DD 36 F0 00 	ld	(ix-16),0x00
2882  0C9E  DD 36 F1 00 	ld	(ix-15),0x00
2883  0CA2              l_game_page_map_00111:
2884  0CA2  DD 7E F0    	ld	a,(ix-16)
2885  0CA5  D6 30       	sub	a,0x30
2886  0CA7  DD 7E F1    	ld	a,(ix-15)
2887  0CAA  DE 00       	sbc	a,0x00
2888  0CAC  30 7A       	jr	NC,l_game_page_map_00113
2889  0CAE  DD 7E EA    	ld	a,(ix-22)
2890  0CB1  DD 86 F0    	add	a,(ix-16)
2891  0CB4  57          	ld	d, a
2892  0CB5  DD 7E EB    	ld	a,(ix-21)
2893  0CB8  DD 8E F1    	adc	a,(ix-15)
2894  0CBB  6F          	ld	l, a
2895  0CBC  7A          	ld	a, d
2896  0CBD  DD 86 EC    	add	a,(ix-20)
2897  0CC0  DD 77 F7    	ld	(ix-9),a
2898  0CC3  7D          	ld	a, l
2899  0CC4  DD 8E ED    	adc	a,(ix-19)
2900  0CC7  DD 77 F8    	ld	(ix-8),a
2901  0CCA  78          	ld	a, b
2902  0CCB  B7          	or	a, a
2903  0CCC  20 28       	jr	NZ,l_game_page_map_00109
2904  0CCE  DD 7E F9    	ld	a,(ix-7)
2905  0CD1  DD 86 F0    	add	a,(ix-16)
2906  0CD4  DD 77 F5    	ld	(ix-11),a
2907  0CD7  DD 7E FA    	ld	a,(ix-6)
2908  0CDA  DD 8E F1    	adc	a,(ix-15)
2909  0CDD  DD 77 F6    	ld	(ix-10),a
2910  0CE0  3E 00       	ld	a, +((_hitiles1) & 0xFF)
2911  0CE2  DD 86 F7    	add	a,(ix-9)
2912  0CE5  6F          	ld	l, a
2913  0CE6  3E 00       	ld	a, +((_hitiles1) / 256)
2914  0CE8  DD 8E F8    	adc	a,(ix-8)
2915  0CEB  67          	ld	h, a
2916  0CEC  56          	ld	d, (hl)
2917  0CED  DD 6E F5    	ld	l,(ix-11)
2918  0CF0  DD 66 F6    	ld	h,(ix-10)
2919  0CF3  72          	ld	(hl), d
2920  0CF4  18 26       	jr	l_game_page_map_00110
2921  0CF6              l_game_page_map_00109:
2922  0CF6  DD 7E FB    	ld	a,(ix-5)
2923  0CF9  DD 86 F0    	add	a,(ix-16)
2924  0CFC  DD 77 F5    	ld	(ix-11),a
2925  0CFF  DD 7E FC    	ld	a,(ix-4)
2926  0D02  DD 8E F1    	adc	a,(ix-15)
2927  0D05  DD 77 F6    	ld	(ix-10),a
2928  0D08  3E 00       	ld	a, +((_hitiles2) & 0xFF)
2929  0D0A  DD 86 F7    	add	a,(ix-9)
2930  0D0D  6F          	ld	l, a
2931  0D0E  3E 00       	ld	a, +((_hitiles2) / 256)
2932  0D10  DD 8E F8    	adc	a,(ix-8)
2933  0D13  67          	ld	h, a
2934  0D14  56          	ld	d, (hl)
2935  0D15  DD 6E F5    	ld	l,(ix-11)
2936  0D18  DD 66 F6    	ld	h,(ix-10)
2937  0D1B  72          	ld	(hl), d
2938  0D1C              l_game_page_map_00110:
2939  0D1C  DD 34 F0    	inc	(ix-16)
2940  0D1F  C2 A2 0C    	jp	NZ,l_game_page_map_00111
2941  0D22  DD 34 F1    	inc	(ix-15)
2942  0D25  C3 A2 0C    	jp	l_game_page_map_00111
2943  0D28              l_game_page_map_00113:
2944  0D28  C5          	push	bc
2945  0D29  D5          	push	de
2946  0D2A  AF          	xor	a, a
2947  0D2B  F5          	push	af
2948  0D2C  33          	inc	sp
2949  0D2D  CD CA 12    	call	_page
2950  0D30  33          	inc	sp
2951  0D31  D1          	pop	de
2952  0D32  C1          	pop	bc
2953  0D33  DD 36 F0 00 	ld	(ix-16),0x00
2954  0D37  DD 36 F1 00 	ld	(ix-15),0x00
2955  0D3B              l_game_page_map_00114:
2956  0D3B  DD 7E F0    	ld	a,(ix-16)
2957  0D3E  D6 30       	sub	a,0x30
2958  0D40  DD 7E F1    	ld	a,(ix-15)
2959  0D43  DE 00       	sbc	a,0x00
2960  0D45  30 3A       	jr	NC,l_game_page_map_00116
2961  0D47  DD 7E EC    	ld	a,(ix-20)
2962  0D4A  DD 86 F0    	add	a,(ix-16)
2963  0D4D  57          	ld	d, a
2964  0D4E  DD 7E ED    	ld	a,(ix-19)
2965  0D51  DD 8E F1    	adc	a,(ix-15)
2966  0D54  6F          	ld	l, a
2967  0D55  3E 00       	ld	a, +((_btiles) & 0xFF)
2968  0D57  82          	add	a, d
2969  0D58  DD 77 F5    	ld	(ix-11),a
2970  0D5B  3E 00       	ld	a, +((_btiles) / 256)
2971  0D5D  8D          	adc	a, l
2972  0D5E  DD 77 F6    	ld	(ix-10),a
2973  0D61  DD 7E FD    	ld	a,(ix-3)
2974  0D64  DD 86 F0    	add	a,(ix-16)
2975  0D67  6F          	ld	l, a
2976  0D68  DD 7E FE    	ld	a,(ix-2)
2977  0D6B  DD 8E F1    	adc	a,(ix-15)
2978  0D6E  67          	ld	h, a
2979  0D6F  56          	ld	d, (hl)
2980  0D70  DD 6E F5    	ld	l,(ix-11)
2981  0D73  DD 66 F6    	ld	h,(ix-10)
2982  0D76  72          	ld	(hl), d
2983  0D77  DD 34 F0    	inc	(ix-16)
2984  0D7A  20 BF       	jr	NZ,l_game_page_map_00114
2985  0D7C  DD 34 F1    	inc	(ix-15)
2986  0D7F  18 BA       	jr	l_game_page_map_00114
2987  0D81              l_game_page_map_00116:
2988  0D81  DD 7E EC    	ld	a,(ix-20)
2989  0D84  C6 30       	add	a,0x30
2990  0D86  DD 77 EC    	ld	(ix-20),a
2991  0D89  DD 7E ED    	ld	a,(ix-19)
2992  0D8C  CE 00       	adc	a,0x00
2993  0D8E  DD 77 ED    	ld	(ix-19),a
2994  0D91  C3 81 0C    	jp	l_game_page_map_00117
2995  0D94              l_game_page_map_00119:
2996  0D94  3E 00       	ld	a,0x00
2997  0D96  DD 77 EC    	ld	(ix-20),a
2998  0D99  DD 77 ED    	ld	(ix-19),a
2999  0D9C  DD 77 E8    	ld	(ix-24),a
3000  0D9F  DD 77 E9    	ld	(ix-23),a
3001  0DA2  C5          	push	bc
3002  0DA3  D5          	push	de
3003  0DA4  3E 06       	ld	a,0x06
3004  0DA6  F5          	push	af
3005  0DA7  33          	inc	sp
3006  0DA8  CD CA 12    	call	_page
3007  0DAB  33          	inc	sp
3008  0DAC  D1          	pop	de
3009  0DAD  C1          	pop	bc
3010  0DAE  DD 36 EE 00 	ld	(ix-18),0x00
3011  0DB2  DD 36 EF 00 	ld	(ix-17),0x00
3012  0DB6              l_game_page_map_00120:
3013  0DB6  DD 46 E6    	ld	b,(ix-26)
3014  0DB9  16 00       	ld	d,0x00
3015  0DBB  DD 7E EE    	ld	a,(ix-18)
3016  0DBE  90          	sub	a, b
3017  0DBF  DD 7E EF    	ld	a,(ix-17)
3018  0DC2  9A          	sbc	a, d
3019  0DC3  30 2A       	jr	NC,l_game_page_map_00122
3020  0DC5  DD 6E EE    	ld	l,(ix-18)
3021  0DC8  DD 66 EF    	ld	h,(ix-17)
3022  0DCB  29          	add	hl, hl
3023  0DCC  3E 00       	ld	a, +((_lenght0) & 0xFF)
3024  0DCE  85          	add	a, l
3025  0DCF  6F          	ld	l, a
3026  0DD0  3E 00       	ld	a, +((_lenght0) / 256)
3027  0DD2  8C          	adc	a, h
3028  0DD3  67          	ld	h, a
3029  0DD4  46          	ld	b, (hl)
3030  0DD5  23          	inc	hl
3031  0DD6  56          	ld	d, (hl)
3032  0DD7  DD 7E E8    	ld	a,(ix-24)
3033  0DDA  80          	add	a, b
3034  0DDB  DD 77 E8    	ld	(ix-24),a
3035  0DDE  DD 7E E9    	ld	a,(ix-23)
3036  0DE1  8A          	adc	a, d
3037  0DE2  DD 77 E9    	ld	(ix-23),a
3038  0DE5  DD 34 EE    	inc	(ix-18)
3039  0DE8  20 CC       	jr	NZ,l_game_page_map_00120
3040  0DEA  DD 34 EF    	inc	(ix-17)
3041  0DED  18 C7       	jr	l_game_page_map_00120
3042  0DEF              l_game_page_map_00122:
3043  0DEF  C5          	push	bc
3044  0DF0  D5          	push	de
3045  0DF1  AF          	xor	a, a
3046  0DF2  F5          	push	af
3047  0DF3  33          	inc	sp
3048  0DF4  CD CA 12    	call	_page
3049  0DF7  33          	inc	sp
3050  0DF8  D1          	pop	de
3051  0DF9  C1          	pop	bc
3052  0DFA  21 00 00    	ld	hl,_scr_curr
3053  0DFD  71          	ld	(hl), c
3054  0DFE  21 00 00    	ld	hl,_map_paper
3055  0E01  73          	ld	(hl), e
3056  0E02  DD 36 F0 00 	ld	(ix-16),0x00
3057  0E06  DD 36 F1 00 	ld	(ix-15),0x00
3058  0E0A              l_game_page_map_00135:
3059  0E0A  3E 06       	ld	a,0x06
3060  0E0C  F5          	push	af
3061  0E0D  33          	inc	sp
3062  0E0E  CD CA 12    	call	_page
3063  0E11  33          	inc	sp
3064  0E12  DD 7E E8    	ld	a,(ix-24)
3065  0E15  DD 86 F0    	add	a,(ix-16)
3066  0E18  4F          	ld	c, a
3067  0E19  DD 7E E9    	ld	a,(ix-23)
3068  0E1C  DD 8E F1    	adc	a,(ix-15)
3069  0E1F  47          	ld	b, a
3070  0E20  21 00 00    	ld	hl,_world0
3071  0E23  09          	add	hl, bc
3072  0E24  7E          	ld	a, (hl)
3073  0E25  DD 77 F4    	ld	(ix-12),a
3074  0E28  03          	inc	bc
3075  0E29  21 00 00    	ld	hl,_world0
3076  0E2C  09          	add	hl, bc
3077  0E2D  7E          	ld	a, (hl)
3078  0E2E  DD 77 F3    	ld	(ix-13),a
3079  0E31  AF          	xor	a, a
3080  0E32  F5          	push	af
3081  0E33  33          	inc	sp
3082  0E34  CD CA 12    	call	_page
3083  0E37  33          	inc	sp
3084  0E38  DD 7E F4    	ld	a,(ix-12)
3085  0E3B  D6 80       	sub	a,0x80
3086  0E3D  30 1F       	jr	NC,l_game_page_map_00127
3087  0E3F  DD 6E EC    	ld	l,(ix-20)
3088  0E42  DD 66 ED    	ld	h,(ix-19)
3089  0E45  01 00 00    	ld	bc,_scr_map
3090  0E48  09          	add	hl,bc
3091  0E49  DD 75 F5    	ld	(ix-11),l
3092  0E4C  DD 74 F6    	ld	(ix-10),h
3093  0E4F  DD 7E F4    	ld	a,(ix-12)
3094  0E52  77          	ld	(hl), a
3095  0E53  DD 34 EC    	inc	(ix-20)
3096  0E56  C2 D3 0E    	jp	NZ,l_game_page_map_00128
3097  0E59  DD 34 ED    	inc	(ix-19)
3098  0E5C  18 75       	jr	l_game_page_map_00128
3099  0E5E              l_game_page_map_00127:
3100  0E5E  DD 7E F4    	ld	a,(ix-12)
3101  0E61  C6 80       	add	a,0x80
3102  0E63  DD 77 F2    	ld	(ix-14),a
3103  0E66  DD 7E EC    	ld	a,(ix-20)
3104  0E69  DD 77 F5    	ld	(ix-11),a
3105  0E6C  DD 7E ED    	ld	a,(ix-19)
3106  0E6F  DD 77 F6    	ld	(ix-10),a
3107  0E72  DD 36 EE 00 	ld	(ix-18),0x00
3108  0E76  DD 36 EF 00 	ld	(ix-17),0x00
3109  0E7A              l_game_page_map_00133:
3110  0E7A  DD 7E F2    	ld	a,(ix-14)
3111  0E7D  DD 77 F7    	ld	(ix-9),a
3112  0E80  DD 36 F8 00 	ld	(ix-8),0x00
3113  0E84  DD 7E EE    	ld	a,(ix-18)
3114  0E87  DD 96 F7    	sub	a,(ix-9)
3115  0E8A  DD 7E EF    	ld	a,(ix-17)
3116  0E8D  DD 9E F8    	sbc	a,(ix-8)
3117  0E90  30 2D       	jr	NC,l_game_page_map_00162
3118  0E92  DD 6E F5    	ld	l,(ix-11)
3119  0E95  DD 66 F6    	ld	h,(ix-10)
3120  0E98  01 00 00    	ld	bc,_scr_map
3121  0E9B  09          	add	hl,bc
3122  0E9C  DD 75 F7    	ld	(ix-9),l
3123  0E9F  DD 74 F8    	ld	(ix-8),h
3124  0EA2  DD 7E F3    	ld	a,(ix-13)
3125  0EA5  77          	ld	(hl), a
3126  0EA6  DD 34 F5    	inc	(ix-11)
3127  0EA9  20 03       	jr	NZ,l_game_page_map_00228
3128  0EAB  DD 34 F6    	inc	(ix-10)
3129  0EAE              l_game_page_map_00228:
3130  0EAE  DD 7E F6    	ld	a,(ix-10)
3131  0EB1  D6 02       	sub	a,0x02
3132  0EB3  30 0A       	jr	NC,l_game_page_map_00162
3133  0EB5  DD 34 EE    	inc	(ix-18)
3134  0EB8  20 C0       	jr	NZ,l_game_page_map_00133
3135  0EBA  DD 34 EF    	inc	(ix-17)
3136  0EBD  18 BB       	jr	l_game_page_map_00133
3137  0EBF              l_game_page_map_00162:
3138  0EBF  DD 7E F5    	ld	a,(ix-11)
3139  0EC2  DD 77 EC    	ld	(ix-20),a
3140  0EC5  DD 7E F6    	ld	a,(ix-10)
3141  0EC8  DD 77 ED    	ld	(ix-19),a
3142  0ECB  DD 34 F0    	inc	(ix-16)
3143  0ECE  20 03       	jr	NZ,l_game_page_map_00230
3144  0ED0  DD 34 F1    	inc	(ix-15)
3145  0ED3              l_game_page_map_00230:
3146  0ED3              l_game_page_map_00128:
3147  0ED3  DD 7E ED    	ld	a,(ix-19)
3148  0ED6  D6 02       	sub	a,0x02
3149  0ED8  30 10       	jr	NC,l_game_page_map_00131
3150  0EDA  DD 34 F0    	inc	(ix-16)
3151  0EDD  20 03       	jr	NZ,l_game_page_map_00231
3152  0EDF  DD 34 F1    	inc	(ix-15)
3153  0EE2              l_game_page_map_00231:
3154  0EE2  DD 7E F1    	ld	a,(ix-15)
3155  0EE5  D6 02       	sub	a,0x02
3156  0EE7  DA 0A 0E    	jp	C, l_game_page_map_00135
3157  0EEA              l_game_page_map_00131:
3158  0EEA  FB          	ei
3159  0EEB  DD F9       	ld	sp, ix
3160  0EED  DD E1       	pop	ix
3161  0EEF  C9          	ret
3162  0EF0              	SECTION code_compiler
3163  0EF0              ;	---------------------------------
3164  0EF0              ; Function game_flash_exit
3165  0EF0              ; ---------------------------------
3166  0EF0              _game_flash_exit:
3167  0EF0  CD 00 00    	call	___sdcc_enter_ix
3168  0EF3  21 00 00    	ld	hl,_i
3169  0EF6  36 00       	ld	(hl),0x00
3170  0EF8  01 70 01    	ld	bc,0x0170
3171  0EFB              l_game_flash_exit_00101:
3172  0EFB  3A 00 00    	ld	a,(_i)
3173  0EFE  D6 10       	sub	a,0x10
3174  0F00  30 14       	jr	NC,l_game_flash_exit_00103
3175  0F02  21 00 00    	ld	hl,_btiles
3176  0F05  09          	add	hl,bc
3177  0F06  7E          	ld	a,(hl)
3178  0F07  EB          	ex	de,hl
3179  0F08  E6 7F       	and	a,0x7f
3180  0F0A  12          	ld	(de), a
3181  0F0B  DD B6 04    	or	a,(ix+4)
3182  0F0E  12          	ld	(de), a
3183  0F0F  21 00 00    	ld	hl,_i
3184  0F12  34          	inc	(hl)
3185  0F13  03          	inc	bc
3186  0F14  18 E5       	jr	l_game_flash_exit_00101
3187  0F16              l_game_flash_exit_00103:
3188  0F16  2A FF FF    	ld	hl,(_game_exit_col - 1)
3189  0F19  3A 00 00    	ld	a,(_game_exit_lin)
3190  0F1C  6F          	ld	l,a
3191  0F1D  E5          	push	hl
3192  0F1E  21 06 07    	ld	hl,0x0706
3193  0F21  E5          	push	hl
3194  0F22  CD 00 00    	call	_NIRVANAP_spriteT_callee
3195  0F25  76          	halt
3196  0F26  DD E1       	pop	ix
3197  0F28  C9          	ret
3198  0F29              	SECTION code_compiler
3199  0F29              ;	---------------------------------
3200  0F29              ; Function game_copy_sprite_color_reset
3201  0F29              ; ---------------------------------
3202  0F29              _game_copy_sprite_color_reset:
3203  0F29  21 00 00    	ld	hl,_spr_init_bright
3204  0F2C  36 00       	ld	(hl),0x00
3205  0F2E  21 00 00    	ld	hl,_spr_init_cin0
3206  0F31  36 00       	ld	(hl),0x00
3207  0F33  21 00 00    	ld	hl,_spr_init_cout0
3208  0F36  36 00       	ld	(hl),0x00
3209  0F38  21 00 00    	ld	hl,_spr_init_cin1
3210  0F3B  36 00       	ld	(hl),0x00
3211  0F3D  21 00 00    	ld	hl,_spr_init_cout1
3212  0F40  36 00       	ld	(hl),0x00
3213  0F42  21 00 00    	ld	hl,_spr_init_cin2
3214  0F45  36 00       	ld	(hl),0x00
3215  0F47  21 00 00    	ld	hl,_spr_init_cout2
3216  0F4A  36 00       	ld	(hl),0x00
3217  0F4C  21 00 00    	ld	hl,_spr_init_cin3
3218  0F4F  36 00       	ld	(hl),0x00
3219  0F51  21 00 00    	ld	hl,_spr_init_cout3
3220  0F54  36 00       	ld	(hl),0x00
3221  0F56  C9          	ret
3222  0F57              	SECTION code_compiler
3223  0F57              ;	---------------------------------
3224  0F57              ; Function game_copy_sprite_std
3225  0F57              ; ---------------------------------
3226  0F57              _game_copy_sprite_std:
3227  0F57  CD 00 00    	call	___sdcc_enter_ix
3228  0F5A  AF          	xor	a, a
3229  0F5B  F5          	push	af
3230  0F5C  33          	inc	sp
3231  0F5D  DD 66 05    	ld	h,(ix+5)
3232  0F60  DD 6E 04    	ld	l,(ix+4)
3233  0F63  E5          	push	hl
3234  0F64  CD 04 10    	call	_game_copy_sprite
3235  0F67  F1          	pop	af
3236  0F68  33          	inc	sp
3237  0F69  DD 46 05    	ld	b,(ix+5)
3238  0F6C  04          	inc	b
3239  0F6D  DD 4E 04    	ld	c,(ix+4)
3240  0F70  0C          	inc	c
3241  0F71  C5          	push	bc
3242  0F72  AF          	xor	a, a
3243  0F73  F5          	push	af
3244  0F74  33          	inc	sp
3245  0F75  C5          	push	bc
3246  0F76  CD 04 10    	call	_game_copy_sprite
3247  0F79  F1          	pop	af
3248  0F7A  33          	inc	sp
3249  0F7B  C1          	pop	bc
3250  0F7C  DD 56 05    	ld	d,(ix+5)
3251  0F7F  14          	inc	d
3252  0F80  14          	inc	d
3253  0F81  DD 46 04    	ld	b,(ix+4)
3254  0F84  04          	inc	b
3255  0F85  04          	inc	b
3256  0F86  C5          	push	bc
3257  0F87  AF          	xor	a, a
3258  0F88  5A          	ld	e,d
3259  0F89  57          	ld	d,a
3260  0F8A  D5          	push	de
3261  0F8B  C5          	push	bc
3262  0F8C  33          	inc	sp
3263  0F8D  CD 04 10    	call	_game_copy_sprite
3264  0F90  F1          	pop	af
3265  0F91  33          	inc	sp
3266  0F92  C1          	pop	bc
3267  0F93  DD 56 05    	ld	d,(ix+5)
3268  0F96  14          	inc	d
3269  0F97  14          	inc	d
3270  0F98  14          	inc	d
3271  0F99  DD 5E 04    	ld	e,(ix+4)
3272  0F9C  1C          	inc	e
3273  0F9D  1C          	inc	e
3274  0F9E  1C          	inc	e
3275  0F9F  C5          	push	bc
3276  0FA0  D5          	push	de
3277  0FA1  AF          	xor	a, a
3278  0FA2  F5          	push	af
3279  0FA3  33          	inc	sp
3280  0FA4  D5          	push	de
3281  0FA5  CD 04 10    	call	_game_copy_sprite
3282  0FA8  F1          	pop	af
3283  0FA9  33          	inc	sp
3284  0FAA  D1          	pop	de
3285  0FAB  C1          	pop	bc
3286  0FAC  DD 56 05    	ld	d,(ix+5)
3287  0FAF  14          	inc	d
3288  0FB0  14          	inc	d
3289  0FB1  14          	inc	d
3290  0FB2  14          	inc	d
3291  0FB3  C5          	push	bc
3292  0FB4  3E 01       	ld	a,0x01
3293  0FB6  F5          	push	af
3294  0FB7  33          	inc	sp
3295  0FB8  D5          	push	de
3296  0FB9  CD 04 10    	call	_game_copy_sprite
3297  0FBC  F1          	pop	af
3298  0FBD  33          	inc	sp
3299  0FBE  C1          	pop	bc
3300  0FBF  DD 7E 05    	ld	a,(ix+5)
3301  0FC2  C6 05       	add	a,0x05
3302  0FC4  57          	ld	d, a
3303  0FC5  C5          	push	bc
3304  0FC6  3E 01       	ld	a,0x01
3305  0FC8  5A          	ld	e,d
3306  0FC9  57          	ld	d,a
3307  0FCA  D5          	push	de
3308  0FCB  C5          	push	bc
3309  0FCC  33          	inc	sp
3310  0FCD  CD 04 10    	call	_game_copy_sprite
3311  0FD0  F1          	pop	af
3312  0FD1  33          	inc	sp
3313  0FD2  C1          	pop	bc
3314  0FD3  DD 7E 05    	ld	a,(ix+5)
3315  0FD6  C6 06       	add	a,0x06
3316  0FD8  47          	ld	b, a
3317  0FD9  3E 01       	ld	a,0x01
3318  0FDB  F5          	push	af
3319  0FDC  33          	inc	sp
3320  0FDD  C5          	push	bc
3321  0FDE  CD 04 10    	call	_game_copy_sprite
3322  0FE1  F1          	pop	af
3323  0FE2  33          	inc	sp
3324  0FE3  DD 7E 05    	ld	a,(ix+5)
3325  0FE6  C6 07       	add	a,0x07
3326  0FE8  47          	ld	b, a
3327  0FE9  3E 01       	ld	a,0x01
3328  0FEB  48          	ld	c,b
3329  0FEC  47          	ld	b,a
3330  0FED  C5          	push	bc
3331  0FEE  DD 7E 04    	ld	a,(ix+4)
3332  0FF1  F5          	push	af
3333  0FF2  33          	inc	sp
3334  0FF3  CD 04 10    	call	_game_copy_sprite
3335  0FF6  F1          	pop	af
3336  0FF7  33          	inc	sp
3337  0FF8  CD 29 0F    	call	_game_copy_sprite_color_reset
3338  0FFB  DD 7E 05    	ld	a,(ix+5)
3339  0FFE  C6 08       	add	a,0x08
3340  1000  6F          	ld	l, a
3341  1001  DD E1       	pop	ix
3342  1003  C9          	ret
3343  1004              	SECTION code_compiler
3344  1004              ;	---------------------------------
3345  1004              ; Function game_copy_sprite
3346  1004              ; ---------------------------------
3347  1004              _game_copy_sprite:
3348  1004  CD 00 00    	call	___sdcc_enter_ix
3349  1007  21 C2 FF    	ld	hl, -62
3350  100A  39          	add	hl, sp
3351  100B  F9          	ld	sp, hl
3352  100C  3A 00 00    	ld	a,(_game_tileset)
3353  100F  DD 77 C2    	ld	(ix-62),a
3354  1012  F3          	di
3355  1013  3E 03       	ld	a,0x03
3356  1015  F5          	push	af
3357  1016  33          	inc	sp
3358  1017  CD CA 12    	call	_page
3359  101A  33          	inc	sp
3360  101B  DD 6E 04    	ld	l,(ix+4)
3361  101E  26 00       	ld	h,0x00
3362  1020  4D          	ld	c,l
3363  1021  44          	ld	b,h
3364  1022  29          	add	hl, hl
3365  1023  09          	add	hl, bc
3366  1024  29          	add	hl, hl
3367  1025  29          	add	hl, hl
3368  1026  29          	add	hl, hl
3369  1027  29          	add	hl, hl
3370  1028  DD 75 FE    	ld	(ix-2),l
3371  102B  DD 74 FF    	ld	(ix-1),h
3372  102E  21 02 00    	ld	hl,0x0002
3373  1031  39          	add	hl, sp
3374  1032  DD 75 FC    	ld	(ix-4),l
3375  1035  DD 74 FD    	ld	(ix-3),h
3376  1038  DD 75 FA    	ld	(ix-6),l
3377  103B  DD 74 FB    	ld	(ix-5),h
3378  103E  DD 7E FC    	ld	a,(ix-4)
3379  1041  DD 77 F8    	ld	(ix-8),a
3380  1044  DD 7E FD    	ld	a,(ix-3)
3381  1047  DD 77 F9    	ld	(ix-7),a
3382  104A  DD 36 C3 00 	ld	(ix-61),0x00
3383  104E              l_game_copy_sprite_00107:
3384  104E  DD 7E C3    	ld	a,(ix-61)
3385  1051  D6 30       	sub	a,0x30
3386  1053  30 74       	jr	NC,l_game_copy_sprite_00109
3387  1055  DD 7E C2    	ld	a,(ix-62)
3388  1058  B7          	or	a, a
3389  1059  20 1D       	jr	NZ,l_game_copy_sprite_00102
3390  105B  DD 7E FA    	ld	a,(ix-6)
3391  105E  DD 86 C3    	add	a,(ix-61)
3392  1061  4F          	ld	c, a
3393  1062  DD 7E FB    	ld	a,(ix-5)
3394  1065  CE 00       	adc	a,0x00
3395  1067  47          	ld	b, a
3396  1068  3E 00       	ld	a, +((_hisprites1) & 0xFF)
3397  106A  DD 86 FE    	add	a,(ix-2)
3398  106D  5F          	ld	e, a
3399  106E  3E 00       	ld	a, +((_hisprites1) / 256)
3400  1070  DD 8E FF    	adc	a,(ix-1)
3401  1073  57          	ld	d, a
3402  1074  1A          	ld	a, (de)
3403  1075  02          	ld	(bc), a
3404  1076  18 23       	jr	l_game_copy_sprite_00103
3405  1078              l_game_copy_sprite_00102:
3406  1078  DD 7E FC    	ld	a,(ix-4)
3407  107B  DD 86 C3    	add	a,(ix-61)
3408  107E  DD 77 F6    	ld	(ix-10),a
3409  1081  DD 7E FD    	ld	a,(ix-3)
3410  1084  CE 00       	adc	a,0x00
3411  1086  DD 77 F7    	ld	(ix-9),a
3412  1089  01 00 00    	ld	bc,_hisprites2
3413  108C  DD 6E FE    	ld	l,(ix-2)
3414  108F  DD 66 FF    	ld	h,(ix-1)
3415  1092  09          	add	hl,bc
3416  1093  4E          	ld	c, (hl)
3417  1094  DD 6E F6    	ld	l,(ix-10)
3418  1097  DD 66 F7    	ld	h,(ix-9)
3419  109A  71          	ld	(hl), c
3420  109B              l_game_copy_sprite_00103:
3421  109B  3E 1F       	ld	a,0x1f
3422  109D  DD 96 C3    	sub	a,(ix-61)
3423  10A0  30 19       	jr	NC,l_game_copy_sprite_00105
3424  10A2  DD 7E F8    	ld	a,(ix-8)
3425  10A5  DD 86 C3    	add	a,(ix-61)
3426  10A8  4F          	ld	c, a
3427  10A9  DD 7E F9    	ld	a,(ix-7)
3428  10AC  CE 00       	adc	a,0x00
3429  10AE  47          	ld	b, a
3430  10AF  0A          	ld	a, (bc)
3431  10B0  5F          	ld	e, a
3432  10B1  3A 00 00    	ld	a,(_spr_init_cin0)
3433  10B4  93          	sub	a, e
3434  10B5  20 04       	jr	NZ,l_game_copy_sprite_00105
3435  10B7  3A 00 00    	ld	a,(_spr_init_cout0)
3436  10BA  02          	ld	(bc), a
3437  10BB              l_game_copy_sprite_00105:
3438  10BB  DD 34 C3    	inc	(ix-61)
3439  10BE  DD 34 FE    	inc	(ix-2)
3440  10C1  20 8B       	jr	NZ,l_game_copy_sprite_00107
3441  10C3  DD 34 FF    	inc	(ix-1)
3442  10C6  C3 4E 10    	jp	l_game_copy_sprite_00107
3443  10C9              l_game_copy_sprite_00109:
3444  10C9  AF          	xor	a, a
3445  10CA  F5          	push	af
3446  10CB  33          	inc	sp
3447  10CC  CD CA 12    	call	_page
3448  10CF  33          	inc	sp
3449  10D0  FB          	ei
3450  10D1  DD 7E FC    	ld	a,(ix-4)
3451  10D4  DD 77 F6    	ld	(ix-10),a
3452  10D7  DD 7E FD    	ld	a,(ix-3)
3453  10DA  DD 77 F7    	ld	(ix-9),a
3454  10DD  DD 36 C3 20 	ld	(ix-61),0x20
3455  10E1              l_game_copy_sprite_00121:
3456  10E1  DD 7E C3    	ld	a,(ix-61)
3457  10E4  D6 30       	sub	a,0x30
3458  10E6  30 71       	jr	NC,l_game_copy_sprite_00123
3459  10E8  DD 7E F6    	ld	a,(ix-10)
3460  10EB  DD 86 C3    	add	a,(ix-61)
3461  10EE  DD 77 F8    	ld	(ix-8),a
3462  10F1  6F          	ld	l,a
3463  10F2  DD 7E F7    	ld	a,(ix-9)
3464  10F5  CE 00       	adc	a,0x00
3465  10F7  DD 77 F9    	ld	(ix-7),a
3466  10FA  67          	ld	h,a
3467  10FB  4E          	ld	c, (hl)
3468  10FC  3A 00 00    	ld	a,(_spr_init_cin0)
3469  10FF  91          	sub	a, c
3470  1100  20 0C       	jr	NZ,l_game_copy_sprite_00119
3471  1102  DD 6E F8    	ld	l,(ix-8)
3472  1105  DD 66 F9    	ld	h,(ix-7)
3473  1108  3A 00 00    	ld	a,(_spr_init_cout0)
3474  110B  77          	ld	(hl),a
3475  110C  18 34       	jr	l_game_copy_sprite_00120
3476  110E              l_game_copy_sprite_00119:
3477  110E  3A 00 00    	ld	a,(_spr_init_cin1)
3478  1111  91          	sub	a, c
3479  1112  20 0C       	jr	NZ,l_game_copy_sprite_00116
3480  1114  DD 6E F8    	ld	l,(ix-8)
3481  1117  DD 66 F9    	ld	h,(ix-7)
3482  111A  3A 00 00    	ld	a,(_spr_init_cout1)
3483  111D  77          	ld	(hl),a
3484  111E  18 22       	jr	l_game_copy_sprite_00120
3485  1120              l_game_copy_sprite_00116:
3486  1120  3A 00 00    	ld	a,(_spr_init_cin2)
3487  1123  91          	sub	a, c
3488  1124  20 0C       	jr	NZ,l_game_copy_sprite_00113
3489  1126  DD 6E F8    	ld	l,(ix-8)
3490  1129  DD 66 F9    	ld	h,(ix-7)
3491  112C  3A 00 00    	ld	a,(_spr_init_cout2)
3492  112F  77          	ld	(hl),a
3493  1130  18 10       	jr	l_game_copy_sprite_00120
3494  1132              l_game_copy_sprite_00113:
3495  1132  3A 00 00    	ld	a,(_spr_init_cin3)
3496  1135  91          	sub	a, c
3497  1136  20 0A       	jr	NZ,l_game_copy_sprite_00120
3498  1138  DD 6E F8    	ld	l,(ix-8)
3499  113B  DD 66 F9    	ld	h,(ix-7)
3500  113E  3A 00 00    	ld	a,(_spr_init_cout3)
3501  1141  77          	ld	(hl),a
3502  1142              l_game_copy_sprite_00120:
3503  1142  DD 6E F8    	ld	l,(ix-8)
3504  1145  DD 66 F9    	ld	h,(ix-7)
3505  1148  7E          	ld	a, (hl)
3506  1149  21 00 00    	ld	hl,_spr_init_bright
3507  114C  B6          	or	a, (hl)
3508  114D  DD 6E F8    	ld	l,(ix-8)
3509  1150  DD 66 F9    	ld	h,(ix-7)
3510  1153  77          	ld	(hl), a
3511  1154  DD 34 C3    	inc	(ix-61)
3512  1157  18 88       	jr	l_game_copy_sprite_00121
3513  1159              l_game_copy_sprite_00123:
3514  1159  DD 6E 05    	ld	l,(ix+5)
3515  115C  26 00       	ld	h,0x00
3516  115E  4D          	ld	c,l
3517  115F  44          	ld	b,h
3518  1160  29          	add	hl, hl
3519  1161  09          	add	hl, bc
3520  1162  29          	add	hl, hl
3521  1163  29          	add	hl, hl
3522  1164  29          	add	hl, hl
3523  1165  29          	add	hl, hl
3524  1166  DD 75 F6    	ld	(ix-10),l
3525  1169  DD 74 F7    	ld	(ix-9),h
3526  116C  DD 7E FC    	ld	a,(ix-4)
3527  116F  DD 77 F8    	ld	(ix-8),a
3528  1172  DD 7E FD    	ld	a,(ix-3)
3529  1175  DD 77 F9    	ld	(ix-7),a
3530  1178  DD 7E FC    	ld	a,(ix-4)
3531  117B  DD 77 FA    	ld	(ix-6),a
3532  117E  DD 7E FD    	ld	a,(ix-3)
3533  1181  DD 77 FB    	ld	(ix-5),a
3534  1184  DD 7E FC    	ld	a,(ix-4)
3535  1187  DD 77 FE    	ld	(ix-2),a
3536  118A  DD 7E FD    	ld	a,(ix-3)
3537  118D  DD 77 FF    	ld	(ix-1),a
3538  1190  DD 7E FC    	ld	a,(ix-4)
3539  1193  DD 77 F4    	ld	(ix-12),a
3540  1196  DD 7E FD    	ld	a,(ix-3)
3541  1199  DD 77 F5    	ld	(ix-11),a
3542  119C  DD 36 C3 00 	ld	(ix-61),0x00
3543  11A0              l_game_copy_sprite_00136:
3544  11A0  DD 7E C3    	ld	a,(ix-61)
3545  11A3  D6 30       	sub	a,0x30
3546  11A5  D2 82 12    	jp	NC, l_game_copy_sprite_00139
3547  11A8  DD 4E C3    	ld	c,(ix-61)
3548  11AB  0C          	inc	c
3549  11AC  DD 7E 06    	ld	a,(ix+6)
3550  11AF  B7          	or	a, a
3551  11B0  CA 58 12    	jp	Z, l_game_copy_sprite_00134
3552  11B3  DD 7E C3    	ld	a,(ix-61)
3553  11B6  D6 20       	sub	a,0x20
3554  11B8  30 55       	jr	NC,l_game_copy_sprite_00131
3555  11BA  DD CB C3 46 	bit	0,(ix-61)
3556  11BE  20 25       	jr	NZ,l_game_copy_sprite_00125
3557  11C0  3E 00       	ld	a, +((_btiles) & 0xFF)
3558  11C2  DD 86 F6    	add	a,(ix-10)
3559  11C5  5F          	ld	e, a
3560  11C6  3E 00       	ld	a, +((_btiles) / 256)
3561  11C8  DD 8E F7    	adc	a,(ix-9)
3562  11CB  57          	ld	d, a
3563  11CC  DD 6E FC    	ld	l,(ix-4)
3564  11CF  DD 66 FD    	ld	h,(ix-3)
3565  11D2  06 00       	ld	b,0x00
3566  11D4  09          	add	hl, bc
3567  11D5  46          	ld	b, (hl)
3568  11D6  C5          	push	bc
3569  11D7  D5          	push	de
3570  11D8  C5          	push	bc
3571  11D9  33          	inc	sp
3572  11DA  CD 87 12    	call	_reverse
3573  11DD  33          	inc	sp
3574  11DE  D1          	pop	de
3575  11DF  C1          	pop	bc
3576  11E0  7D          	ld	a,l
3577  11E1  12          	ld	(de), a
3578  11E2  C3 73 12    	jp	l_game_copy_sprite_00135
3579  11E5              l_game_copy_sprite_00125:
3580  11E5  3E 00       	ld	a, +((_btiles) & 0xFF)
3581  11E7  DD 86 F6    	add	a,(ix-10)
3582  11EA  5F          	ld	e, a
3583  11EB  3E 00       	ld	a, +((_btiles) / 256)
3584  11ED  DD 8E F7    	adc	a,(ix-9)
3585  11F0  57          	ld	d, a
3586  11F1  DD 46 C3    	ld	b,(ix-61)
3587  11F4  05          	dec	b
3588  11F5  DD 7E F4    	ld	a,(ix-12)
3589  11F8  80          	add	a, b
3590  11F9  6F          	ld	l, a
3591  11FA  DD 7E F5    	ld	a,(ix-11)
3592  11FD  CE 00       	adc	a,0x00
3593  11FF  67          	ld	h, a
3594  1200  46          	ld	b, (hl)
3595  1201  C5          	push	bc
3596  1202  D5          	push	de
3597  1203  C5          	push	bc
3598  1204  33          	inc	sp
3599  1205  CD 87 12    	call	_reverse
3600  1208  33          	inc	sp
3601  1209  D1          	pop	de
3602  120A  C1          	pop	bc
3603  120B  7D          	ld	a,l
3604  120C  12          	ld	(de), a
3605  120D  18 64       	jr	l_game_copy_sprite_00135
3606  120F              l_game_copy_sprite_00131:
3607  120F  DD 7E C3    	ld	a,(ix-61)
3608  1212  D6 28       	sub	a,0x28
3609  1214  30 21       	jr	NC,l_game_copy_sprite_00128
3610  1216  3E 00       	ld	a, +((_btiles) & 0xFF)
3611  1218  DD 86 F6    	add	a,(ix-10)
3612  121B  5F          	ld	e, a
3613  121C  3E 00       	ld	a, +((_btiles) / 256)
3614  121E  DD 8E F7    	adc	a,(ix-9)
3615  1221  57          	ld	d, a
3616  1222  DD 7E C3    	ld	a,(ix-61)
3617  1225  C6 08       	add	a,0x08
3618  1227  47          	ld	b, a
3619  1228  DD 7E FE    	ld	a,(ix-2)
3620  122B  80          	add	a, b
3621  122C  6F          	ld	l, a
3622  122D  DD 7E FF    	ld	a,(ix-1)
3623  1230  CE 00       	adc	a,0x00
3624  1232  67          	ld	h, a
3625  1233  7E          	ld	a, (hl)
3626  1234  12          	ld	(de), a
3627  1235  18 3C       	jr	l_game_copy_sprite_00135
3628  1237              l_game_copy_sprite_00128:
3629  1237  3E 00       	ld	a, +((_btiles) & 0xFF)
3630  1239  DD 86 F6    	add	a,(ix-10)
3631  123C  5F          	ld	e, a
3632  123D  3E 00       	ld	a, +((_btiles) / 256)
3633  123F  DD 8E F7    	adc	a,(ix-9)
3634  1242  57          	ld	d, a
3635  1243  DD 7E C3    	ld	a,(ix-61)
3636  1246  C6 F8       	add	a,0xf8
3637  1248  47          	ld	b, a
3638  1249  DD 7E FA    	ld	a,(ix-6)
3639  124C  80          	add	a, b
3640  124D  6F          	ld	l, a
3641  124E  DD 7E FB    	ld	a,(ix-5)
3642  1251  CE 00       	adc	a,0x00
3643  1253  67          	ld	h, a
3644  1254  7E          	ld	a, (hl)
3645  1255  12          	ld	(de), a
3646  1256  18 1B       	jr	l_game_copy_sprite_00135
3647  1258              l_game_copy_sprite_00134:
3648  1258  3E 00       	ld	a, +((_btiles) & 0xFF)
3649  125A  DD 86 F6    	add	a,(ix-10)
3650  125D  5F          	ld	e, a
3651  125E  3E 00       	ld	a, +((_btiles) / 256)
3652  1260  DD 8E F7    	adc	a,(ix-9)
3653  1263  57          	ld	d, a
3654  1264  DD 7E F8    	ld	a,(ix-8)
3655  1267  DD 86 C3    	add	a,(ix-61)
3656  126A  6F          	ld	l, a
3657  126B  DD 7E F9    	ld	a,(ix-7)
3658  126E  CE 00       	adc	a,0x00
3659  1270  67          	ld	h, a
3660  1271  7E          	ld	a, (hl)
3661  1272  12          	ld	(de), a
3662  1273              l_game_copy_sprite_00135:
3663  1273  DD 71 C3    	ld	(ix-61),c
3664  1276  DD 34 F6    	inc	(ix-10)
3665  1279  C2 A0 11    	jp	NZ,l_game_copy_sprite_00136
3666  127C  DD 34 F7    	inc	(ix-9)
3667  127F  C3 A0 11    	jp	l_game_copy_sprite_00136
3668  1282              l_game_copy_sprite_00139:
3669  1282  DD F9       	ld	sp, ix
3670  1284  DD E1       	pop	ix
3671  1286  C9          	ret
3672  1287              	SECTION code_compiler
3673  1287              ;	---------------------------------
3674  1287              ; Function reverse
3675  1287              ; ---------------------------------
3676  1287              _reverse:
3677  1287  CD 00 00    	call	___sdcc_enter_ix
3678  128A  DD 7E 04    	ld	a,(ix+4)
3679  128D  E6 F0       	and	a,0xf0
3680  128F  07          	rlca
3681  1290  07          	rlca
3682  1291  07          	rlca
3683  1292  07          	rlca
3684  1293  E6 0F       	and	a,0x0f
3685  1295  4F          	ld	c, a
3686  1296  DD 7E 04    	ld	a,(ix+4)
3687  1299  E6 0F       	and	a,0x0f
3688  129B  07          	rlca
3689  129C  07          	rlca
3690  129D  07          	rlca
3691  129E  07          	rlca
3692  129F  E6 F0       	and	a,0xf0
3693  12A1  B1          	or	a, c
3694  12A2  DD 77 04    	ld	(ix+4),a
3695  12A5  E6 CC       	and	a,0xcc
3696  12A7  4F          	ld	c, a
3697  12A8  CB 39       	srl	c
3698  12AA  CB 39       	srl	c
3699  12AC  DD 7E 04    	ld	a,(ix+4)
3700  12AF  E6 33       	and	a,0x33
3701  12B1  87          	add	a, a
3702  12B2  87          	add	a, a
3703  12B3  B1          	or	a, c
3704  12B4  DD 77 04    	ld	(ix+4),a
3705  12B7  E6 AA       	and	a,0xaa
3706  12B9  4F          	ld	c, a
3707  12BA  CB 39       	srl	c
3708  12BC  DD 7E 04    	ld	a,(ix+4)
3709  12BF  E6 55       	and	a,0x55
3710  12C1  87          	add	a, a
3711  12C2  B1          	or	a, c
3712  12C3  DD 77 04    	ld	(ix+4),a
3713  12C6  6F          	ld	l, a
3714  12C7  DD E1       	pop	ix
3715  12C9  C9          	ret
3716  12CA              	SECTION code_compiler
3717  12CA              ;	---------------------------------
3718  12CA              ; Function page
3719  12CA              ; ---------------------------------
3720  12CA              _page:
3721  12CA  CD 00 00    	call	___sdcc_enter_ix
3722  12CD  DD 7E 04    	ld	a,(ix+4)
3723  12D0  C6 10       	add	a,0x10
3724  12D2  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3725  12D5  01 FD 7F    	ld	bc,_IO_7FFD
3726  12D8  ED 79       	out	(c),a
3727  12DA  DD E1       	pop	ix
3728  12DC  C9          	ret
3729  12DD              	SECTION IGNORE
3730  0000              
