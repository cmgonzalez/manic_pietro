1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_draw_conv
204   0000              	GLOBAL _game_anim_conveyor
205   0000              	GLOBAL _game_tick
206   0000              	GLOBAL _game_end
207   0000              	GLOBAL _game_loop
208   0000              	GLOBAL _game_fps
209   0000              	GLOBAL _game_draw_map
210   0000              	GLOBAL _game_cell_paint_index
211   0000              	GLOBAL _game_cell_paint
212   0000              	GLOBAL _game_print_footer
213   0000              	GLOBAL _game_print_score
214   0000              	GLOBAL _game_cls
215   0000              	GLOBAL _game_update_stats
216   0000              	GLOBAL _game_start_timer
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_rotate_attrib
225   0000              	GLOBAL _game_rotate_attrib_osd
226   0000              	GLOBAL _game_attribs
227   0000              	GLOBAL _game_page_map
228   0000              ;--------------------------------------------------------
229   0000              ; Externals used
230   0000              ;--------------------------------------------------------
231   0000              	GLOBAL _ffsll_callee
232   0000              	GLOBAL _ffsll
233   0000              	GLOBAL _strxfrm_callee
234   0000              	GLOBAL _strxfrm
235   0000              	GLOBAL _strupr_fastcall
236   0000              	GLOBAL _strupr
237   0000              	GLOBAL _strtok_r_callee
238   0000              	GLOBAL _strtok_r
239   0000              	GLOBAL _strtok_callee
240   0000              	GLOBAL _strtok
241   0000              	GLOBAL _strstrip_fastcall
242   0000              	GLOBAL _strstrip
243   0000              	GLOBAL _strstr_callee
244   0000              	GLOBAL _strstr
245   0000              	GLOBAL _strspn_callee
246   0000              	GLOBAL _strspn
247   0000              	GLOBAL _strsep_callee
248   0000              	GLOBAL _strsep
249   0000              	GLOBAL _strrstrip_fastcall
250   0000              	GLOBAL _strrstrip
251   0000              	GLOBAL _strrstr_callee
252   0000              	GLOBAL _strrstr
253   0000              	GLOBAL _strrspn_callee
254   0000              	GLOBAL _strrspn
255   0000              	GLOBAL _strrev_fastcall
256   0000              	GLOBAL _strrev
257   0000              	GLOBAL _strrcspn_callee
258   0000              	GLOBAL _strrcspn
259   0000              	GLOBAL _strrchr_callee
260   0000              	GLOBAL _strrchr
261   0000              	GLOBAL _strpbrk_callee
262   0000              	GLOBAL _strpbrk
263   0000              	GLOBAL _strnlen_callee
264   0000              	GLOBAL _strnlen
265   0000              	GLOBAL _strnicmp_callee
266   0000              	GLOBAL _strnicmp
267   0000              	GLOBAL _strndup_callee
268   0000              	GLOBAL _strndup
269   0000              	GLOBAL _strncpy_callee
270   0000              	GLOBAL _strncpy
271   0000              	GLOBAL _strncmp_callee
272   0000              	GLOBAL _strncmp
273   0000              	GLOBAL _strnchr_callee
274   0000              	GLOBAL _strnchr
275   0000              	GLOBAL _strncat_callee
276   0000              	GLOBAL _strncat
277   0000              	GLOBAL _strncasecmp_callee
278   0000              	GLOBAL _strncasecmp
279   0000              	GLOBAL _strlwr_fastcall
280   0000              	GLOBAL _strlwr
281   0000              	GLOBAL _strlen_fastcall
282   0000              	GLOBAL _strlen
283   0000              	GLOBAL _strlcpy_callee
284   0000              	GLOBAL _strlcpy
285   0000              	GLOBAL _strlcat_callee
286   0000              	GLOBAL _strlcat
287   0000              	GLOBAL _stricmp_callee
288   0000              	GLOBAL _stricmp
289   0000              	GLOBAL _strerror_fastcall
290   0000              	GLOBAL _strerror
291   0000              	GLOBAL _strdup_fastcall
292   0000              	GLOBAL _strdup
293   0000              	GLOBAL _strcspn_callee
294   0000              	GLOBAL _strcspn
295   0000              	GLOBAL _strcpy_callee
296   0000              	GLOBAL _strcpy
297   0000              	GLOBAL _strcoll_callee
298   0000              	GLOBAL _strcoll
299   0000              	GLOBAL _strcmp_callee
300   0000              	GLOBAL _strcmp
301   0000              	GLOBAL _strchrnul_callee
302   0000              	GLOBAL _strchrnul
303   0000              	GLOBAL _strchr_callee
304   0000              	GLOBAL _strchr
305   0000              	GLOBAL _strcat_callee
306   0000              	GLOBAL _strcat
307   0000              	GLOBAL _strcasecmp_callee
308   0000              	GLOBAL _strcasecmp
309   0000              	GLOBAL _stpncpy_callee
310   0000              	GLOBAL _stpncpy
311   0000              	GLOBAL _stpcpy_callee
312   0000              	GLOBAL _stpcpy
313   0000              	GLOBAL _memswap_callee
314   0000              	GLOBAL _memswap
315   0000              	GLOBAL _memset_callee
316   0000              	GLOBAL _memset
317   0000              	GLOBAL _memrchr_callee
318   0000              	GLOBAL _memrchr
319   0000              	GLOBAL _memmove_callee
320   0000              	GLOBAL _memmove
321   0000              	GLOBAL _memmem_callee
322   0000              	GLOBAL _memmem
323   0000              	GLOBAL _memcpy_callee
324   0000              	GLOBAL _memcpy
325   0000              	GLOBAL _memcmp_callee
326   0000              	GLOBAL _memcmp
327   0000              	GLOBAL _memchr_callee
328   0000              	GLOBAL _memchr
329   0000              	GLOBAL _memccpy_callee
330   0000              	GLOBAL _memccpy
331   0000              	GLOBAL _ffsl_fastcall
332   0000              	GLOBAL _ffsl
333   0000              	GLOBAL _ffs_fastcall
334   0000              	GLOBAL _ffs
335   0000              	GLOBAL __strrstrip__fastcall
336   0000              	GLOBAL __strrstrip_
337   0000              	GLOBAL __memupr__callee
338   0000              	GLOBAL __memupr_
339   0000              	GLOBAL __memstrcpy__callee
340   0000              	GLOBAL __memstrcpy_
341   0000              	GLOBAL __memlwr__callee
342   0000              	GLOBAL __memlwr_
343   0000              	GLOBAL _rawmemchr_callee
344   0000              	GLOBAL _rawmemchr
345   0000              	GLOBAL _strnset_callee
346   0000              	GLOBAL _strnset
347   0000              	GLOBAL _strset_callee
348   0000              	GLOBAL _strset
349   0000              	GLOBAL _rindex_callee
350   0000              	GLOBAL _rindex
351   0000              	GLOBAL _index_callee
352   0000              	GLOBAL _index
353   0000              	GLOBAL _bzero_callee
354   0000              	GLOBAL _bzero
355   0000              	GLOBAL _bcopy_callee
356   0000              	GLOBAL _bcopy
357   0000              	GLOBAL _bcmp_callee
358   0000              	GLOBAL _bcmp
359   0000              	GLOBAL _ulltoa_callee
360   0000              	GLOBAL _ulltoa
361   0000              	GLOBAL _strtoull_callee
362   0000              	GLOBAL _strtoull
363   0000              	GLOBAL _strtoll_callee
364   0000              	GLOBAL _strtoll
365   0000              	GLOBAL _lltoa_callee
366   0000              	GLOBAL _lltoa
367   0000              	GLOBAL _llabs_callee
368   0000              	GLOBAL _llabs
369   0000              	GLOBAL __lldivu__callee
370   0000              	GLOBAL __lldivu_
371   0000              	GLOBAL __lldiv__callee
372   0000              	GLOBAL __lldiv_
373   0000              	GLOBAL _atoll_callee
374   0000              	GLOBAL _atoll
375   0000              	GLOBAL _realloc_unlocked_callee
376   0000              	GLOBAL _realloc_unlocked
377   0000              	GLOBAL _malloc_unlocked_fastcall
378   0000              	GLOBAL _malloc_unlocked
379   0000              	GLOBAL _free_unlocked_fastcall
380   0000              	GLOBAL _free_unlocked
381   0000              	GLOBAL _calloc_unlocked_callee
382   0000              	GLOBAL _calloc_unlocked
383   0000              	GLOBAL _aligned_alloc_unlocked_callee
384   0000              	GLOBAL _aligned_alloc_unlocked
385   0000              	GLOBAL _realloc_callee
386   0000              	GLOBAL _realloc
387   0000              	GLOBAL _malloc_fastcall
388   0000              	GLOBAL _malloc
389   0000              	GLOBAL _free_fastcall
390   0000              	GLOBAL _free
391   0000              	GLOBAL _calloc_callee
392   0000              	GLOBAL _calloc
393   0000              	GLOBAL _aligned_alloc_callee
394   0000              	GLOBAL _aligned_alloc
395   0000              	GLOBAL _utoa_callee
396   0000              	GLOBAL _utoa
397   0000              	GLOBAL _ultoa_callee
398   0000              	GLOBAL _ultoa
399   0000              	GLOBAL _system_fastcall
400   0000              	GLOBAL _system
401   0000              	GLOBAL _strtoul_callee
402   0000              	GLOBAL _strtoul
403   0000              	GLOBAL _strtol_callee
404   0000              	GLOBAL _strtol
405   0000              	GLOBAL _strtof_callee
406   0000              	GLOBAL _strtof
407   0000              	GLOBAL _strtod_callee
408   0000              	GLOBAL _strtod
409   0000              	GLOBAL _srand_fastcall
410   0000              	GLOBAL _srand
411   0000              	GLOBAL _rand
412   0000              	GLOBAL _quick_exit_fastcall
413   0000              	GLOBAL _quick_exit
414   0000              	GLOBAL _qsort_callee
415   0000              	GLOBAL _qsort
416   0000              	GLOBAL _ltoa_callee
417   0000              	GLOBAL _ltoa
418   0000              	GLOBAL _labs_fastcall
419   0000              	GLOBAL _labs
420   0000              	GLOBAL _itoa_callee
421   0000              	GLOBAL _itoa
422   0000              	GLOBAL _ftoh_callee
423   0000              	GLOBAL _ftoh
424   0000              	GLOBAL _ftog_callee
425   0000              	GLOBAL _ftog
426   0000              	GLOBAL _ftoe_callee
427   0000              	GLOBAL _ftoe
428   0000              	GLOBAL _ftoa_callee
429   0000              	GLOBAL _ftoa
430   0000              	GLOBAL _exit_fastcall
431   0000              	GLOBAL _exit
432   0000              	GLOBAL _dtoh_callee
433   0000              	GLOBAL _dtoh
434   0000              	GLOBAL _dtog_callee
435   0000              	GLOBAL _dtog
436   0000              	GLOBAL _dtoe_callee
437   0000              	GLOBAL _dtoe
438   0000              	GLOBAL _dtoa_callee
439   0000              	GLOBAL _dtoa
440   0000              	GLOBAL _bsearch_callee
441   0000              	GLOBAL _bsearch
442   0000              	GLOBAL _atol_fastcall
443   0000              	GLOBAL _atol
444   0000              	GLOBAL _atoi_fastcall
445   0000              	GLOBAL _atoi
446   0000              	GLOBAL _atof_fastcall
447   0000              	GLOBAL _atof
448   0000              	GLOBAL _atexit_fastcall
449   0000              	GLOBAL _atexit
450   0000              	GLOBAL _at_quick_exit_fastcall
451   0000              	GLOBAL _at_quick_exit
452   0000              	GLOBAL _abs_fastcall
453   0000              	GLOBAL _abs
454   0000              	GLOBAL _abort
455   0000              	GLOBAL __strtou__callee
456   0000              	GLOBAL __strtou_
457   0000              	GLOBAL __strtoi__callee
458   0000              	GLOBAL __strtoi_
459   0000              	GLOBAL __random_uniform_xor_8__fastcall
460   0000              	GLOBAL __random_uniform_xor_8_
461   0000              	GLOBAL __random_uniform_xor_32__fastcall
462   0000              	GLOBAL __random_uniform_xor_32_
463   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
464   0000              	GLOBAL __random_uniform_cmwc_8_
465   0000              	GLOBAL __shellsort__callee
466   0000              	GLOBAL __shellsort_
467   0000              	GLOBAL __quicksort__callee
468   0000              	GLOBAL __quicksort_
469   0000              	GLOBAL __insertion_sort__callee
470   0000              	GLOBAL __insertion_sort_
471   0000              	GLOBAL __ldivu__callee
472   0000              	GLOBAL __ldivu_
473   0000              	GLOBAL __ldiv__callee
474   0000              	GLOBAL __ldiv_
475   0000              	GLOBAL __divu__callee
476   0000              	GLOBAL __divu_
477   0000              	GLOBAL __div__callee
478   0000              	GLOBAL __div_
479   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
480   0000              	GLOBAL _NIRVANAP_drawTW_raw
481   0000              	GLOBAL _NIRVANAP_drawTW_callee
482   0000              	GLOBAL _NIRVANAP_drawTW
483   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
484   0000              	GLOBAL _NIRVANAP_drawW_raw
485   0000              	GLOBAL _NIRVANAP_drawW_callee
486   0000              	GLOBAL _NIRVANAP_drawW
487   0000              	GLOBAL _NIRVANAP_spriteT_callee
488   0000              	GLOBAL _NIRVANAP_spriteT
489   0000              	GLOBAL _NIRVANAP_fillC_callee
490   0000              	GLOBAL _NIRVANAP_fillC
491   0000              	GLOBAL _NIRVANAP_readC_callee
492   0000              	GLOBAL _NIRVANAP_readC
493   0000              	GLOBAL _NIRVANAP_paintC_callee
494   0000              	GLOBAL _NIRVANAP_paintC
495   0000              	GLOBAL _NIRVANAP_printC_callee
496   0000              	GLOBAL _NIRVANAP_printC
497   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
498   0000              	GLOBAL _NIRVANAP_fillT_raw
499   0000              	GLOBAL _NIRVANAP_fillT_callee
500   0000              	GLOBAL _NIRVANAP_fillT
501   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
502   0000              	GLOBAL _NIRVANAP_drawT_raw
503   0000              	GLOBAL _NIRVANAP_drawT_callee
504   0000              	GLOBAL _NIRVANAP_drawT
505   0000              	GLOBAL _NIRVANAP_stop
506   0000              	GLOBAL _NIRVANAP_start
507   0000              	GLOBAL _zx_print_str
508   0000              	GLOBAL _zx_print_int
509   0000              	GLOBAL _zx_print_chr
510   0000              	GLOBAL _zx_print_bonus_time
511   0000              	GLOBAL _zx_isr
512   0000              	GLOBAL _z80_otdr_callee
513   0000              	GLOBAL _z80_otdr
514   0000              	GLOBAL _z80_otir_callee
515   0000              	GLOBAL _z80_otir
516   0000              	GLOBAL _z80_outp_callee
517   0000              	GLOBAL _z80_outp
518   0000              	GLOBAL _z80_indr_callee
519   0000              	GLOBAL _z80_indr
520   0000              	GLOBAL _z80_inir_callee
521   0000              	GLOBAL _z80_inir
522   0000              	GLOBAL _z80_inp_fastcall
523   0000              	GLOBAL _z80_inp
524   0000              	GLOBAL _z80_set_int_state_fastcall
525   0000              	GLOBAL _z80_set_int_state
526   0000              	GLOBAL _z80_get_int_state
527   0000              	GLOBAL _z80_delay_tstate_fastcall
528   0000              	GLOBAL _z80_delay_tstate
529   0000              	GLOBAL _z80_delay_ms_fastcall
530   0000              	GLOBAL _z80_delay_ms
531   0000              	GLOBAL _im2_remove_generic_callback_callee
532   0000              	GLOBAL _im2_remove_generic_callback
533   0000              	GLOBAL _im2_prepend_generic_callback_callee
534   0000              	GLOBAL _im2_prepend_generic_callback
535   0000              	GLOBAL _im2_append_generic_callback_callee
536   0000              	GLOBAL _im2_append_generic_callback
537   0000              	GLOBAL _im2_create_generic_isr_8080_callee
538   0000              	GLOBAL _im2_create_generic_isr_8080
539   0000              	GLOBAL _im2_create_generic_isr_callee
540   0000              	GLOBAL _im2_create_generic_isr
541   0000              	GLOBAL _im2_install_isr_callee
542   0000              	GLOBAL _im2_install_isr
543   0000              	GLOBAL _im2_init_fastcall
544   0000              	GLOBAL _im2_init
545   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
546   0000              	GLOBAL _intrinsic_swap_word_32
547   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
548   0000              	GLOBAL _intrinsic_swap_endian_32
549   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
550   0000              	GLOBAL _intrinsic_swap_endian_16
551   0000              	GLOBAL _intrinsic_return_de
552   0000              	GLOBAL _intrinsic_return_bc
553   0000              	GLOBAL _intrinsic_exx
554   0000              	GLOBAL _intrinsic_ex_de_hl
555   0000              	GLOBAL _intrinsic_nop
556   0000              	GLOBAL _intrinsic_im_2
557   0000              	GLOBAL _intrinsic_im_1
558   0000              	GLOBAL _intrinsic_im_0
559   0000              	GLOBAL _intrinsic_retn
560   0000              	GLOBAL _intrinsic_reti
561   0000              	GLOBAL _intrinsic_halt
562   0000              	GLOBAL _intrinsic_ei
563   0000              	GLOBAL _intrinsic_di
564   0000              	GLOBAL _intrinsic_stub
565   0000              	GLOBAL _intrinsic_ini
566   0000              	GLOBAL _intrinsic_outi
567   0000              	GLOBAL _intrinsic_ldi
568   0000              	GLOBAL _zx_pattern_fill_callee
569   0000              	GLOBAL _zx_pattern_fill
570   0000              	GLOBAL _zx_saddrpup_fastcall
571   0000              	GLOBAL _zx_saddrpup
572   0000              	GLOBAL _zx_saddrpright_callee
573   0000              	GLOBAL _zx_saddrpright
574   0000              	GLOBAL _zx_saddrpleft_callee
575   0000              	GLOBAL _zx_saddrpleft
576   0000              	GLOBAL _zx_saddrpdown_fastcall
577   0000              	GLOBAL _zx_saddrpdown
578   0000              	GLOBAL _zx_saddrcup_fastcall
579   0000              	GLOBAL _zx_saddrcup
580   0000              	GLOBAL _zx_saddrcright_fastcall
581   0000              	GLOBAL _zx_saddrcright
582   0000              	GLOBAL _zx_saddrcleft_fastcall
583   0000              	GLOBAL _zx_saddrcleft
584   0000              	GLOBAL _zx_saddrcdown_fastcall
585   0000              	GLOBAL _zx_saddrcdown
586   0000              	GLOBAL _zx_saddr2py_fastcall
587   0000              	GLOBAL _zx_saddr2py
588   0000              	GLOBAL _zx_saddr2px_fastcall
589   0000              	GLOBAL _zx_saddr2px
590   0000              	GLOBAL _zx_saddr2cy_fastcall
591   0000              	GLOBAL _zx_saddr2cy
592   0000              	GLOBAL _zx_saddr2cx_fastcall
593   0000              	GLOBAL _zx_saddr2cx
594   0000              	GLOBAL _zx_saddr2aaddr_fastcall
595   0000              	GLOBAL _zx_saddr2aaddr
596   0000              	GLOBAL _zx_py2saddr_fastcall
597   0000              	GLOBAL _zx_py2saddr
598   0000              	GLOBAL _zx_py2aaddr_fastcall
599   0000              	GLOBAL _zx_py2aaddr
600   0000              	GLOBAL _zx_pxy2saddr_callee
601   0000              	GLOBAL _zx_pxy2saddr
602   0000              	GLOBAL _zx_pxy2aaddr_callee
603   0000              	GLOBAL _zx_pxy2aaddr
604   0000              	GLOBAL _zx_px2bitmask_fastcall
605   0000              	GLOBAL _zx_px2bitmask
606   0000              	GLOBAL _zx_cy2saddr_fastcall
607   0000              	GLOBAL _zx_cy2saddr
608   0000              	GLOBAL _zx_cy2aaddr_fastcall
609   0000              	GLOBAL _zx_cy2aaddr
610   0000              	GLOBAL _zx_cxy2saddr_callee
611   0000              	GLOBAL _zx_cxy2saddr
612   0000              	GLOBAL _zx_cxy2aaddr_callee
613   0000              	GLOBAL _zx_cxy2aaddr
614   0000              	GLOBAL _zx_bitmask2px_fastcall
615   0000              	GLOBAL _zx_bitmask2px
616   0000              	GLOBAL _zx_aaddrcup_fastcall
617   0000              	GLOBAL _zx_aaddrcup
618   0000              	GLOBAL _zx_aaddrcright_fastcall
619   0000              	GLOBAL _zx_aaddrcright
620   0000              	GLOBAL _zx_aaddrcleft_fastcall
621   0000              	GLOBAL _zx_aaddrcleft
622   0000              	GLOBAL _zx_aaddrcdown_fastcall
623   0000              	GLOBAL _zx_aaddrcdown
624   0000              	GLOBAL _zx_aaddr2saddr_fastcall
625   0000              	GLOBAL _zx_aaddr2saddr
626   0000              	GLOBAL _zx_aaddr2py_fastcall
627   0000              	GLOBAL _zx_aaddr2py
628   0000              	GLOBAL _zx_aaddr2px_fastcall
629   0000              	GLOBAL _zx_aaddr2px
630   0000              	GLOBAL _zx_aaddr2cy_fastcall
631   0000              	GLOBAL _zx_aaddr2cy
632   0000              	GLOBAL _zx_aaddr2cx_fastcall
633   0000              	GLOBAL _zx_aaddr2cx
634   0000              	GLOBAL _zx_visit_wc_pix_callee
635   0000              	GLOBAL _zx_visit_wc_pix
636   0000              	GLOBAL _zx_visit_wc_attr_callee
637   0000              	GLOBAL _zx_visit_wc_attr
638   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
639   0000              	GLOBAL _zx_scroll_wc_up_pix
640   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
641   0000              	GLOBAL _zx_scroll_wc_up_attr
642   0000              	GLOBAL _zx_scroll_wc_up_callee
643   0000              	GLOBAL _zx_scroll_wc_up
644   0000              	GLOBAL _zx_scroll_up_pix_callee
645   0000              	GLOBAL _zx_scroll_up_pix
646   0000              	GLOBAL _zx_scroll_up_attr_callee
647   0000              	GLOBAL _zx_scroll_up_attr
648   0000              	GLOBAL _zx_scroll_up_callee
649   0000              	GLOBAL _zx_scroll_up
650   0000              	GLOBAL _zx_cls_wc_pix_callee
651   0000              	GLOBAL _zx_cls_wc_pix
652   0000              	GLOBAL _zx_cls_wc_attr_callee
653   0000              	GLOBAL _zx_cls_wc_attr
654   0000              	GLOBAL _zx_cls_wc_callee
655   0000              	GLOBAL _zx_cls_wc
656   0000              	GLOBAL _zx_cls_pix_fastcall
657   0000              	GLOBAL _zx_cls_pix
658   0000              	GLOBAL _zx_cls_attr_fastcall
659   0000              	GLOBAL _zx_cls_attr
660   0000              	GLOBAL _zx_cls_fastcall
661   0000              	GLOBAL _zx_cls
662   0000              	GLOBAL _zx_border_fastcall
663   0000              	GLOBAL _zx_border
664   0000              	GLOBAL _zx_tape_verify_block_callee
665   0000              	GLOBAL _zx_tape_verify_block
666   0000              	GLOBAL _zx_tape_save_block_callee
667   0000              	GLOBAL _zx_tape_save_block
668   0000              	GLOBAL _zx_tape_load_block_callee
669   0000              	GLOBAL _zx_tape_load_block
670   0000              	GLOBAL _spr_destroy
671   0000              	GLOBAL _spr_unflattenP1
672   0000              	GLOBAL _spr_flatten
673   0000              	GLOBAL _spr_btile_paint_back
674   0000              	GLOBAL _spr_init_effects
675   0000              	GLOBAL _spr_turn_horizontal
676   0000              	GLOBAL _spr_play_anim
677   0000              	GLOBAL _spr_add_anim
678   0000              	GLOBAL _spr_clear_scr
679   0000              	GLOBAL _spr_back_repaint
680   0000              	GLOBAL _spr_get_tile_dir
681   0000              	GLOBAL _spr_get_tile
682   0000              	GLOBAL _spr_paint_player
683   0000              	GLOBAL _spr_paint
684   0000              	GLOBAL _spr_move_left
685   0000              	GLOBAL _spr_move_right
686   0000              	GLOBAL _spr_move_left_f
687   0000              	GLOBAL _spr_move_right_f
688   0000              	GLOBAL _spr_move_horizontal
689   0000              	GLOBAL _spr_move_down
690   0000              	GLOBAL _spr_move_up
691   0000              	GLOBAL _spr_set_right
692   0000              	GLOBAL _spr_set_left
693   0000              	GLOBAL _spr_set_down
694   0000              	GLOBAL _spr_set_up
695   0000              	GLOBAL _spr_calc_index
696   0000              	GLOBAL _spr_chktime
697   0000              	GLOBAL _player_lost_life
698   0000              	GLOBAL _player_move_jump
699   0000              	GLOBAL _player_tile
700   0000              	GLOBAL _player_pick_deadly
701   0000              	GLOBAL _player_pick_item
702   0000              	GLOBAL _player_check_ceil
703   0000              	GLOBAL _player_check_floor_walk
704   0000              	GLOBAL _player_check_floor_jump
705   0000              	GLOBAL _player_score_add
706   0000              	GLOBAL _player_move_walk
707   0000              	GLOBAL _player_turn
708   0000              	GLOBAL _player_move
709   0000              	GLOBAL _player_check_input
710   0000              	GLOBAL _player_init
711   0000              	GLOBAL _menu_define_key
712   0000              	GLOBAL _menu_redefine
713   0000              	GLOBAL _menu_main_print
714   0000              	GLOBAL _menu_main
715   0000              	GLOBAL _game_fill_row
716   0000              	GLOBAL _enemy_avoid_dead
717   0000              	GLOBAL _enemy_avoid_fall
718   0000              	GLOBAL _enemy_kill
719   0000              	GLOBAL _enemy_init
720   0000              	GLOBAL _enemy_move
721   0000              	GLOBAL _enemy_turn
722   0000              	GLOBAL _enemy_static
723   0000              	GLOBAL _enemy_walk
724   0000              	GLOBAL _enemy_horizontal
725   0000              	GLOBAL _enemy_vertical
726   0000              	GLOBAL _ay_reset
727   0000              	GLOBAL _ay_song_stop
728   0000              	GLOBAL _ay_song_play
729   0000              	GLOBAL _ay_fx_stop
730   0000              	GLOBAL _ay_fx_play
731   0000              	GLOBAL _ay_is_playing
732   0000              	GLOBAL _audio_levelup
733   0000              	GLOBAL _audio_menu
734   0000              	GLOBAL _audio_game_end
735   0000              	GLOBAL _audio_level_complete
736   0000              	GLOBAL _audio_level_start
737   0000              	GLOBAL _audio_lotr_lose_a_life
738   0000              	GLOBAL _audio_puerta
739   0000              	GLOBAL _audio_sin_mana
740   0000              	GLOBAL _audio_magic1
741   0000              	GLOBAL _audio_coin
742   0000              	GLOBAL _audio_golpe
743   0000              	GLOBAL _audio_salto
744   0000              	GLOBAL _audio_efecto
745   0000              	GLOBAL _audio_disparo_fire
746   0000              	GLOBAL _audio_disparo_axe
747   0000              	GLOBAL _audio_disparo2
748   0000              	GLOBAL _audio_disparo1
749   0000              	GLOBAL _audio_explosion1
750   0000              	GLOBAL _audio_explosion
751   0000              	GLOBAL _audio_ingame
752   0000              	GLOBAL _game_sprite_draw8
753   0000              	GLOBAL _test_func
754   0000              	GLOBAL _test_proc
755   0000              	GLOBAL _in_mouse_kempston_wheel_delta
756   0000              	GLOBAL _in_mouse_kempston_wheel
757   0000              	GLOBAL _in_mouse_kempston_callee
758   0000              	GLOBAL _in_mouse_kempston
759   0000              	GLOBAL _in_mouse_kempston_setpos_callee
760   0000              	GLOBAL _in_mouse_kempston_setpos
761   0000              	GLOBAL _in_mouse_kempston_reset
762   0000              	GLOBAL _in_mouse_kempston_init
763   0000              	GLOBAL _in_mouse_amx_wheel_delta
764   0000              	GLOBAL _in_mouse_amx_wheel
765   0000              	GLOBAL _in_mouse_amx_callee
766   0000              	GLOBAL _in_mouse_amx
767   0000              	GLOBAL _in_mouse_amx_setpos_callee
768   0000              	GLOBAL _in_mouse_amx_setpos
769   0000              	GLOBAL _in_mouse_amx_reset
770   0000              	GLOBAL _in_mouse_amx_init_callee
771   0000              	GLOBAL _in_mouse_amx_init
772   0000              	GLOBAL _in_stick_sinclair2
773   0000              	GLOBAL _in_stick_sinclair1
774   0000              	GLOBAL _in_stick_kempston
775   0000              	GLOBAL _in_stick_fuller
776   0000              	GLOBAL _in_stick_cursor
777   0000              	GLOBAL _in_stick_keyboard_fastcall
778   0000              	GLOBAL _in_stick_keyboard
779   0000              	GLOBAL _in_wait_nokey
780   0000              	GLOBAL _in_wait_key
781   0000              	GLOBAL _in_test_key
782   0000              	GLOBAL _in_pause_fastcall
783   0000              	GLOBAL _in_pause
784   0000              	GLOBAL _in_key_scancode_fastcall
785   0000              	GLOBAL _in_key_scancode
786   0000              	GLOBAL _in_key_pressed_fastcall
787   0000              	GLOBAL _in_key_pressed
788   0000              	GLOBAL _in_inkey
789   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
790   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
791   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
792   0000              	GLOBAL _NIRVANAP_HOLE
793   0000              	GLOBAL _NIRVANAP_ISR_HOOK
794   0000              	GLOBAL _map_names
795   0000              	GLOBAL _scan_map
796   0000              	GLOBAL _key_map
797   0000              	GLOBAL _map_paper_last_a
798   0000              	GLOBAL _map_paper_last
799   0000              	GLOBAL _map_paper_clr
800   0000              	GLOBAL _map_paper
801   0000              	GLOBAL _anim_count
802   0000              	GLOBAL _anim_respanwn
803   0000              	GLOBAL _anim_loop
804   0000              	GLOBAL _anim_end
805   0000              	GLOBAL _anim_int
806   0000              	GLOBAL _anim_tile
807   0000              	GLOBAL _anim_col
808   0000              	GLOBAL _anim_lin
809   0000              	GLOBAL _map_heigth
810   0000              	GLOBAL _map_width
811   0000              	GLOBAL _scr_curr
812   0000              	GLOBAL _scr_map
813   0000              	GLOBAL _spr_kind
814   0000              	GLOBAL _spr_frames
815   0000              	GLOBAL _spr_speed
816   0000              	GLOBAL _spr_tile
817   0000              	GLOBAL _spr_init
818   0000              	GLOBAL _screen_ink
819   0000              	GLOBAL _screen_paper
820   0000              	GLOBAL _game_start_scr
821   0000              	GLOBAL _game_score_top
822   0000              	GLOBAL _player_coins
823   0000              	GLOBAL _player_lives
824   0000              	GLOBAL _game_over
825   0000              	GLOBAL _game_sound
826   0000              	GLOBAL _game_inf_lives
827   0000              	GLOBAL _game_inmune
828   0000              	GLOBAL _sprite_curr_index
829   0000              	GLOBAL _spr_count
830   0000              	GLOBAL _last_rotated
831   0000              	GLOBAL _anim_time
832   0000              	GLOBAL _frame_time
833   0000              	GLOBAL _curr_time
834   0000              	GLOBAL _game_conveyor_flag
835   0000              	GLOBAL _game_conveyor_tile
836   0000              	GLOBAL _p_state_a
837   0000              	GLOBAL _p_state
838   0000              	GLOBAL _attrib8
839   0000              	GLOBAL _attrib7
840   0000              	GLOBAL _attrib6
841   0000              	GLOBAL _attrib5
842   0000              	GLOBAL _attrib4
843   0000              	GLOBAL _attrib3
844   0000              	GLOBAL _attrib2
845   0000              	GLOBAL _attrib1
846   0000              	GLOBAL _attrib0
847   0000              	GLOBAL _attrib_red
848   0000              	GLOBAL _game_attrib_osd
849   0000              	GLOBAL _attrib_osd
850   0000              	GLOBAL _attrib_hl
851   0000              	GLOBAL _attrib
852   0000              	GLOBAL _zx_val_asm
853   0000              	GLOBAL _enemies
854   0000              	GLOBAL _tmp_ui
855   0000              	GLOBAL _tmp_sc
856   0000              	GLOBAL _tmp_uc
857   0000              	GLOBAL _tmp1
858   0000              	GLOBAL _tmp0
859   0000              	GLOBAL _tmp
860   0000              	GLOBAL _index1
861   0000              	GLOBAL _index0
862   0000              	GLOBAL _loop_count
863   0000              	GLOBAL _s_class
864   0000              	GLOBAL _s_row1
865   0000              	GLOBAL _s_col1
866   0000              	GLOBAL _s_col0
867   0000              	GLOBAL _s_lin1
868   0000              	GLOBAL _s_lin0
869   0000              	GLOBAL _s_tile1
870   0000              	GLOBAL _s_tile0
871   0000              	GLOBAL _player_kill_index
872   0000              	GLOBAL _player_killed
873   0000              	GLOBAL _player_jump_top
874   0000              	GLOBAL _player_hit_count
875   0000              	GLOBAL _game_fps_show
876   0000              	GLOBAL _game_debug
877   0000              	GLOBAL _sprite
878   0000              	GLOBAL _fps
879   0000              	GLOBAL _game_tileset
880   0000              	GLOBAL _menu_curr_sel
881   0000              	GLOBAL _game_control_mode
882   0000              	GLOBAL _game_round_up
883   0000              	GLOBAL _game_conveyor_col1
884   0000              	GLOBAL _game_conveyor_col0
885   0000              	GLOBAL _game_conveyor_lin
886   0000              	GLOBAL _game_conveyor_dir
887   0000              	GLOBAL _game_song_play_start
888   0000              	GLOBAL _game_song_play
889   0000              	GLOBAL _game_world
890   0000              	GLOBAL _game_gravity
891   0000              	GLOBAL _player_jumpcount
892   0000              	GLOBAL _player_hit
893   0000              	GLOBAL _player_hit_time
894   0000              	GLOBAL _player_lin_scr
895   0000              	GLOBAL _player_col_scr
896   0000              	GLOBAL _player_max_vita
897   0000              	GLOBAL _player_max_mana
898   0000              	GLOBAL _player_keys
899   0000              	GLOBAL _player_vel_inc
900   0000              	GLOBAL _player_vel_y0
901   0000              	GLOBAL _player_vel_y
902   0000              	GLOBAL _player_score
903   0000              	GLOBAL _last_time
904   0000              	GLOBAL _obj_count
905   0000              	GLOBAL _obj_col
906   0000              	GLOBAL _obj_lin
907   0000              	GLOBAL _spr_timer
908   0000              	GLOBAL _jump_lin
909   0000              	GLOBAL _colint
910   0000              	GLOBAL _col
911   0000              	GLOBAL _tbuffer
912   0000              	GLOBAL _lin
913   0000              	GLOBAL _tile
914   0000              	GLOBAL _value_b
915   0000              	GLOBAL _value_a
916   0000              	GLOBAL _state_a
917   0000              	GLOBAL _state
918   0000              	GLOBAL _class
919   0000              	GLOBAL _dirs
920   0000              	GLOBAL _k2
921   0000              	GLOBAL _k1
922   0000              	GLOBAL _joyfunc2
923   0000              	GLOBAL _joyfunc1
924   0000              	GLOBAL _btiles
925   0000              	GLOBAL _v3
926   0000              	GLOBAL _v2
927   0000              	GLOBAL _v1
928   0000              	GLOBAL _v0
929   0000              	GLOBAL _i
930   0000              	GLOBAL _spec128
931   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
932   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
933   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
934   0000              	GLOBAL _ay_fx_06_disparo_fire
935   0000              	GLOBAL _ay_fx_06_disparo_axe
936   0000              	GLOBAL _ay_fx_06_explosion1
937   0000              	GLOBAL _ay_fx_06_efecto
938   0000              	GLOBAL _ay_fx_06_disparo2
939   0000              	GLOBAL _ay_fx_06_disparo1
940   0000              	GLOBAL _ay_fx_06_levelup
941   0000              	GLOBAL _ay_fx_06_magic
942   0000              	GLOBAL _ay_fx_06_sin_mana
943   0000              	GLOBAL _ay_fx_06_salto
944   0000              	GLOBAL _ay_fx_06_puerta
945   0000              	GLOBAL _ay_fx_06_magic1
946   0000              	GLOBAL _ay_fx_06_golpe
947   0000              	GLOBAL _ay_fx_06_explosion
948   0000              	GLOBAL _ay_fx_06_dano_por_toque
949   0000              	GLOBAL _ay_fx_06_coin
950   0000              	GLOBAL _ay_song_06_lotr_level_start
951   0000              	GLOBAL _ay_song_06_lotr_level_complete
952   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
953   0000              	GLOBAL _ay_song_04_ingame0
954   0000              	GLOBAL _ay_song_04_ingame
955   0000              	GLOBAL _start_scr0
956   0000              	GLOBAL _paper0
957   0000              	GLOBAL _lenght0
958   0000              	GLOBAL _world0
959   0000              ;--------------------------------------------------------
960   0000              ; special function registers
961   0000              ;--------------------------------------------------------
962   0000              defc _IO_FE	=	0x00fe
963   0000              defc _IO_1FFD	=	0x1ffd
964   0000              defc _IO_7FFD	=	0x7ffd
965   0000              ;--------------------------------------------------------
966   0000              ; ram data
967   0000              ;--------------------------------------------------------
968   0000              	SECTION bss_compiler
969   0000              ;--------------------------------------------------------
970   0000              ; ram data
971   0000              ;--------------------------------------------------------
972   0000              
973   0000              IF 0
974   0000              
975   0000              ; .area _INITIALIZED removed by z88dk
976   0000              
977   0000              
978   0000              ENDIF
979   0000              
980   0000              ;--------------------------------------------------------
981   0000              ; absolute external ram data
982   0000              ;--------------------------------------------------------
983   0000              	SECTION IGNORE
984   0000              ;--------------------------------------------------------
985   0000              ; global & static initialisations
986   0000              ;--------------------------------------------------------
987   0000              	SECTION code_crt_init
988   0000              ;--------------------------------------------------------
989   0000              ; Home
990   0000              ;--------------------------------------------------------
991   0000              	SECTION IGNORE
992   0000              ;--------------------------------------------------------
993   0000              ; code
994   0000              ;--------------------------------------------------------
995   0000              	SECTION code_compiler
996   0000              ;	---------------------------------
997   0000              ; Function game_loop
998   0000              ; ---------------------------------
999   0000              _game_loop:
1000  0000  21 00 00    	ld	hl,_player_lives
1001  0003  36 03       	ld	(hl),0x03
1002  0005  21 00 00    	ld	hl,0x0000
1003  0008  22 00 00    	ld	(_player_score),hl
1004  000B  21 00 00    	ld	hl,_game_over
1005  000E  36 00       	ld	(hl),0x00
1006  0010  21 00 00    	ld	hl,_game_round_up
1007  0013  36 00       	ld	(hl),0x00
1008  0015  21 00 00    	ld	hl,_game_world
1009  0018  36 00       	ld	(hl),0x00
1010  001A  21 00 00    	ld	hl,_map_paper
1011  001D  36 00       	ld	(hl),0x00
1012  001F  21 00 00    	ld	hl,_player_lin_scr
1013  0022  36 68       	ld	(hl),0x68
1014  0024  21 00 00    	ld	hl,_player_col_scr
1015  0027  36 02       	ld	(hl),0x02
1016  0029  CD 8C 04    	call	_game_round_init
1017  002C              l_game_loop_00117:
1018  002C  3A 00 00    	ld	a,(_game_over)
1019  002F  B7          	or	a, a
1020  0030  C2 D7 00    	jp	NZ, l_game_loop_00120
1021  0033  21 00 00    	ld	hl,_dirs
1022  0036  36 00       	ld	(hl),0x00
1023  0038              l_game_loop_00112:
1024  0038  3A 00 00    	ld	a,(_game_round_up)
1025  003B  B7          	or	a, a
1026  003C  20 76       	jr	NZ,l_game_loop_00114
1027  003E  3A 00 00    	ld	a,(_game_over)
1028  0041  B7          	or	a, a
1029  0042  20 70       	jr	NZ,l_game_loop_00114
1030  0044  CD 00 00    	call	_enemy_turn
1031  0047  CD 00 00    	call	_player_turn
1032  004A  3E 08       	ld	a,0x08
1033  004C  F5          	push	af
1034  004D  33          	inc	sp
1035  004E  21 00 00    	ld	hl,_anim_time
1036  0051  E5          	push	hl
1037  0052  CD 42 07    	call	_game_check_time
1038  0055  F1          	pop	af
1039  0056  33          	inc	sp
1040  0057  7D          	ld	a, l
1041  0058  B7          	or	a, a
1042  0059  28 10       	jr	Z,l_game_loop_00104
1043  005B  2A 00 00    	ld	hl,(_curr_time)
1044  005E  22 00 00    	ld	(_anim_time),hl
1045  0061  21 00 00    	ld	hl,_game_conveyor_col0
1046  0064  7E          	ld	a, (hl)
1047  0065  B7          	or	a, a
1048  0066  28 03       	jr	Z,l_game_loop_00104
1049  0068  CD CC 03    	call	_game_anim_conveyor
1050  006B              l_game_loop_00104:
1051  006B  CD 6C 07    	call	_game_rotate_attrib
1052  006E  3E 64       	ld	a,0x64
1053  0070  F5          	push	af
1054  0071  33          	inc	sp
1055  0072  21 00 00    	ld	hl,_frame_time
1056  0075  E5          	push	hl
1057  0076  CD 42 07    	call	_game_check_time
1058  0079  F1          	pop	af
1059  007A  33          	inc	sp
1060  007B  7D          	ld	a, l
1061  007C  B7          	or	a, a
1062  007D  28 0F       	jr	Z,l_game_loop_00108
1063  007F  2A 00 00    	ld	hl,(_curr_time)
1064  0082  22 00 00    	ld	(_frame_time),hl
1065  0085  3A 00 00    	ld	a,(_game_fps_show)
1066  0088  B7          	or	a,a
1067  0089  28 03       	jr	Z,l_game_loop_00108
1068  008B  CD D8 00    	call	_game_fps
1069  008E              l_game_loop_00108:
1070  008E  21 00 00    	ld	hl,_loop_count
1071  0091  34          	inc	(hl)
1072  0092  20 02       	jr	NZ,l_game_loop_00166
1073  0094  23          	inc	hl
1074  0095  34          	inc	(hl)
1075  0096              l_game_loop_00166:
1076  0096  21 00 00    	ld	hl,_fps
1077  0099  34          	inc	(hl)
1078  009A  20 02       	jr	NZ,l_game_loop_00167
1079  009C  23          	inc	hl
1080  009D  34          	inc	(hl)
1081  009E              l_game_loop_00167:
1082  009E  3A 00 00    	ld	a,(_obj_count)
1083  00A1  21 00 00    	ld	hl,_player_coins
1084  00A4  96          	sub	a, (hl)
1085  00A5  20 91       	jr	NZ,l_game_loop_00112
1086  00A7  21 00 00    	ld	hl,_game_over
1087  00AA  36 01       	ld	(hl),0x01
1088  00AC  2E 00       	ld	l,0x00
1089  00AE  CD 00 00    	call	_zx_border_fastcall
1090  00B1  C3 38 00    	jp	l_game_loop_00112
1091  00B4              l_game_loop_00114:
1092  00B4  21 00 00    	ld	hl,_game_round_up
1093  00B7  7E          	ld	a, (hl)
1094  00B8  B7          	or	a, a
1095  00B9  CA 2C 00    	jp	Z, l_game_loop_00117
1096  00BC  36 00       	ld	(hl),0x00
1097  00BE  21 00 00    	ld	hl,_game_world
1098  00C1  34          	inc	(hl)
1099  00C2  21 00 00    	ld	hl,_scr_curr
1100  00C5  36 FF       	ld	(hl),0xff
1101  00C7  21 00 00    	ld	hl,_player_col_scr
1102  00CA  36 02       	ld	(hl),0x02
1103  00CC  21 00 00    	ld	hl,_player_lin_scr
1104  00CF  36 80       	ld	(hl),0x80
1105  00D1  CD 8C 04    	call	_game_round_init
1106  00D4  C3 2C 00    	jp	l_game_loop_00117
1107  00D7              l_game_loop_00120:
1108  00D7  C9          	ret
1109  00D8              	SECTION code_compiler
1110  00D8              ;	---------------------------------
1111  00D8              ; Function game_fps
1112  00D8              ; ---------------------------------
1113  00D8              _game_fps:
1114  00D8  21 00 00    	ld	hl,_screen_ink
1115  00DB  36 07       	ld	(hl),0x07
1116  00DD  2A 00 00    	ld	hl,(_fps)
1117  00E0  E5          	push	hl
1118  00E1  21 17 18    	ld	hl,0x1817
1119  00E4  E5          	push	hl
1120  00E5  CD 00 00    	call	_zx_print_int
1121  00E8  21 00 00    	ld	hl,0x0000
1122  00EB  22 00 00    	ld	(_fps),hl
1123  00EE  C9          	ret
1124  00EF              	SECTION code_compiler
1125  00EF              ;	---------------------------------
1126  00EF              ; Function game_draw_map
1127  00EF              ; ---------------------------------
1128  00EF              _game_draw_map:
1129  00EF  CD 00 00    	call	___sdcc_enter_ix
1130  00F2  F5          	push	af
1131  00F3  3B          	dec	sp
1132  00F4  76          	halt
1133  00F5  21 00 00    	ld	hl,_spr_count
1134  00F8  36 00       	ld	(hl),0x00
1135  00FA  CD 00 00    	call	_spr_init_effects
1136  00FD  11 00 00    	ld	de,_obj_col+0
1137  0100              l_game_draw_map_00101:
1138  0100  21 00 00    	ld	hl,_spr_count
1139  0103  7E          	ld	a, (hl)
1140  0104  D6 07       	sub	a,0x07
1141  0106  30 22       	jr	NC,l_game_draw_map_00103
1142  0108  3E 00       	ld	a, +((_class) & 0xFF)
1143  010A  86          	add	a, (hl)
1144  010B  4F          	ld	c, a
1145  010C  3E 00       	ld	a, +((_class) / 256)
1146  010E  CE 00       	adc	a,0x00
1147  0110  47          	ld	b, a
1148  0111  AF          	xor	a, a
1149  0112  02          	ld	(bc), a
1150  0113  7B          	ld	a, e
1151  0114  86          	add	a, (hl)
1152  0115  4F          	ld	c, a
1153  0116  7A          	ld	a, d
1154  0117  CE 00       	adc	a,0x00
1155  0119  47          	ld	b, a
1156  011A  AF          	xor	a, a
1157  011B  02          	ld	(bc), a
1158  011C  3E 00       	ld	a, +((_obj_lin) & 0xFF)
1159  011E  86          	add	a, (hl)
1160  011F  4F          	ld	c, a
1161  0120  3E 00       	ld	a, +((_obj_lin) / 256)
1162  0122  CE 00       	adc	a,0x00
1163  0124  47          	ld	b, a
1164  0125  AF          	xor	a, a
1165  0126  02          	ld	(bc), a
1166  0127  34          	inc	(hl)
1167  0128  18 D6       	jr	l_game_draw_map_00101
1168  012A              l_game_draw_map_00103:
1169  012A  21 00 00    	ld	hl,_spr_count
1170  012D  36 00       	ld	(hl),0x00
1171  012F  21 00 00    	ld	hl,0x0000
1172  0132  22 00 00    	ld	(_index1),hl
1173  0135  21 00 00    	ld	hl,_s_row1
1174  0138  36 01       	ld	(hl),0x01
1175  013A  21 00 00    	ld	hl,_s_lin1
1176  013D  36 10       	ld	(hl),0x10
1177  013F  21 00 00    	ld	hl,_s_col1
1178  0142  36 00       	ld	(hl),0x00
1179  0144  21 00 00    	ld	hl,_obj_count
1180  0147  36 00       	ld	(hl),0x00
1181  0149  D5          	push	de
1182  014A  CD A3 03    	call	_game_cls
1183  014D  D1          	pop	de
1184  014E  CD 00 00    	call	_NIRVANAP_stop
1185  0151  21 00 00    	ld	hl,_screen_ink
1186  0154  36 00       	ld	(hl),0x00
1187  0156  21 00 00    	ld	hl,_game_conveyor_lin
1188  0159  36 00       	ld	(hl),0x00
1189  015B  21 00 00    	ld	hl,_game_conveyor_col0
1190  015E  36 00       	ld	(hl),0x00
1191  0160  21 00 00    	ld	hl,_game_conveyor_col1
1192  0163  36 00       	ld	(hl),0x00
1193  0165  21 00 00    	ld	hl,_game_conveyor_tile
1194  0168  36 11       	ld	(hl),0x11
1195  016A              l_game_draw_map_00122:
1196  016A  21 01 00    	ld	hl,_index1 + 1
1197  016D  7E          	ld	a, (hl)
1198  016E  D6 02       	sub	a,0x02
1199  0170  D2 11 03    	jp	NC, l_game_draw_map_00124
1200  0173  3E 00       	ld	a, +((_scr_map) & 0xFF)
1201  0175  2B          	dec	hl
1202  0176  86          	add	a, (hl)
1203  0177  4F          	ld	c, a
1204  0178  3E 00       	ld	a, +((_scr_map) / 256)
1205  017A  23          	inc	hl
1206  017B  8E          	adc	a, (hl)
1207  017C  47          	ld	b, a
1208  017D  0A          	ld	a, (bc)
1209  017E  DD 77 FF    	ld	(ix-1),a
1210  0181  D6 40       	sub	a,0x40
1211  0183  D2 46 02    	jp	NC, l_game_draw_map_00118
1212  0186  DD 7E FF    	ld	a,(ix-1)
1213  0189  D6 0E       	sub	a,0x0e
1214  018B  20 1B       	jr	NZ,l_game_draw_map_00105
1215  018D  2A 00 00    	ld	hl,(_obj_count)
1216  0190  26 00       	ld	h,0x00
1217  0192  19          	add	hl,de
1218  0193  3A 00 00    	ld	a,(_s_col1)
1219  0196  77          	ld	(hl),a
1220  0197  2A 00 00    	ld	hl,(_obj_count)
1221  019A  26 00       	ld	h,0x00
1222  019C  01 00 00    	ld	bc,_obj_lin
1223  019F  09          	add	hl,bc
1224  01A0  3A 00 00    	ld	a,(_s_lin1)
1225  01A3  77          	ld	(hl),a
1226  01A4  21 00 00    	ld	hl,_obj_count
1227  01A7  34          	inc	(hl)
1228  01A8              l_game_draw_map_00105:
1229  01A8  2A 00 00    	ld	hl,(_index1)
1230  01AB  01 00 00    	ld	bc,_scr_map
1231  01AE  09          	add	hl,bc
1232  01AF  3A 00 00    	ld	a,(_index1)
1233  01B2  E6 1F       	and	a,0x1f
1234  01B4  DD 77 FD    	ld	(ix-3),a
1235  01B7  DD 36 FE 00 	ld	(ix-2),0x00
1236  01BB  4E          	ld	c, (hl)
1237  01BC  DD 46 FD    	ld	b,(ix-3)
1238  01BF  79          	ld	a, c
1239  01C0  D6 10       	sub	a,0x10
1240  01C2  20 04       	jr	NZ,l_game_draw_map_00181
1241  01C4  3E 01       	ld	a,0x01
1242  01C6  18 01       	jr	l_game_draw_map_00182
1243  01C8              l_game_draw_map_00181:
1244  01C8  AF          	xor	a,a
1245  01C9              l_game_draw_map_00182:
1246  01C9  4F          	ld	c, a
1247  01CA  3A 00 00    	ld	a,(_game_conveyor_col0)
1248  01CD  B7          	or	a, a
1249  01CE  28 0C       	jr	Z,l_game_draw_map_00107
1250  01D0  21 00 00    	ld	hl,_game_conveyor_col1
1251  01D3  7E          	ld	a, (hl)
1252  01D4  B7          	or	a, a
1253  01D5  20 05       	jr	NZ,l_game_draw_map_00107
1254  01D7  CB 41       	bit	0, c
1255  01D9  20 01       	jr	NZ,l_game_draw_map_00107
1256  01DB  70          	ld	(hl), b
1257  01DC              l_game_draw_map_00107:
1258  01DC  CB 41       	bit	0, c
1259  01DE  28 3E       	jr	Z,l_game_draw_map_00116
1260  01E0  21 00 00    	ld	hl,_game_conveyor_col0
1261  01E3  7E          	ld	a, (hl)
1262  01E4  B7          	or	a, a
1263  01E5  20 37       	jr	NZ,l_game_draw_map_00116
1264  01E7  70          	ld	(hl), b
1265  01E8  ED 4B 00 00 	ld	bc,(_index1)
1266  01EC  79          	ld	a,c
1267  01ED  0E 05       	ld	c,0x05
1268  01EF              l_game_draw_map_00183:
1269  01EF  CB 38       	srl	b
1270  01F1  1F          	rra
1271  01F2  0D          	dec	c
1272  01F3  20 FA       	jr	NZ,l_game_draw_map_00183
1273  01F5  07          	rlca
1274  01F6  07          	rlca
1275  01F7  07          	rlca
1276  01F8  E6 F8       	and	a,0xf8
1277  01FA  C6 08       	add	a,0x08
1278  01FC  32 00 00    	ld	(_game_conveyor_lin),a
1279  01FF  ED 4B 00 00 	ld	bc,(_index1)
1280  0203  03          	inc	bc
1281  0204  21 00 00    	ld	hl,_scr_map
1282  0207  09          	add	hl,bc
1283  0208  F1          	pop	af
1284  0209  7E          	ld	a,(hl)
1285  020A  E5          	push	hl
1286  020B  B7          	or	a, a
1287  020C  28 07       	jr	Z,l_game_draw_map_00111
1288  020E  21 00 00    	ld	hl,_game_conveyor_dir
1289  0211  36 FF       	ld	(hl),0xff
1290  0213  18 05       	jr	l_game_draw_map_00112
1291  0215              l_game_draw_map_00111:
1292  0215  21 00 00    	ld	hl,_game_conveyor_dir
1293  0218  36 01       	ld	(hl),0x01
1294  021A              l_game_draw_map_00112:
1295  021A  E1          	pop	hl
1296  021B  E5          	push	hl
1297  021C  36 10       	ld	(hl),0x10
1298  021E              l_game_draw_map_00116:
1299  021E  3A 00 00    	ld	a,(_s_row1)
1300  0221  07          	rlca
1301  0222  07          	rlca
1302  0223  07          	rlca
1303  0224  E6 F8       	and	a,0xf8
1304  0226  DD 77 FD    	ld	(ix-3),a
1305  0229  01 00 00    	ld	bc,_scr_map
1306  022C  2A 00 00    	ld	hl,(_index1)
1307  022F  09          	add	hl,bc
1308  0230  46          	ld	b, (hl)
1309  0231  3A 00 00    	ld	a,(_s_col1)
1310  0234  D5          	push	de
1311  0235  F5          	push	af
1312  0236  33          	inc	sp
1313  0237  DD 7E FD    	ld	a,(ix-3)
1314  023A  48          	ld	c,b
1315  023B  47          	ld	b,a
1316  023C  C5          	push	bc
1317  023D  CD 00 00    	call	_game_sprite_draw8
1318  0240  F1          	pop	af
1319  0241  33          	inc	sp
1320  0242  D1          	pop	de
1321  0243  C3 EA 02    	jp	l_game_draw_map_00119
1322  0246              l_game_draw_map_00118:
1323  0246  21 00 00    	ld	hl,_index1
1324  0249  7E          	ld	a, (hl)
1325  024A  E6 1F       	and	a,0x1f
1326  024C  DD 77 FD    	ld	(ix-3),a
1327  024F  23          	inc	hl
1328  0250  46          	ld	b,(hl)
1329  0251  2B          	dec	hl
1330  0252  7E          	ld	a,(hl)
1331  0253  0E 05       	ld	c,0x05
1332  0255              l_game_draw_map_00184:
1333  0255  CB 38       	srl	b
1334  0257  1F          	rra
1335  0258  0D          	dec	c
1336  0259  20 FA       	jr	NZ,l_game_draw_map_00184
1337  025B  4F          	ld	c,a
1338  025C  07          	rlca
1339  025D  07          	rlca
1340  025E  07          	rlca
1341  025F  E6 F8       	and	a,0xf8
1342  0261  47          	ld	b, a
1343  0262  D5          	push	de
1344  0263  DD 66 FF    	ld	h,(ix-1)
1345  0266  DD 6E FD    	ld	l,(ix-3)
1346  0269  E5          	push	hl
1347  026A  C5          	push	bc
1348  026B  33          	inc	sp
1349  026C  CD 00 00    	call	_enemy_init
1350  026F  F1          	pop	af
1351  0270  33          	inc	sp
1352  0271  D1          	pop	de
1353  0272  3E 00       	ld	a, +((_value_a) & 0xFF)
1354  0274  21 00 00    	ld	hl,_sprite
1355  0277  86          	add	a, (hl)
1356  0278  DD 77 FD    	ld	(ix-3),a
1357  027B  3E 00       	ld	a, +((_value_a) / 256)
1358  027D  CE 00       	adc	a,0x00
1359  027F  DD 77 FE    	ld	(ix-2),a
1360  0282  2A 00 00    	ld	hl,(_index1)
1361  0285  01 20 00    	ld	bc,0x0020
1362  0288  09          	add	hl,bc
1363  0289  01 00 00    	ld	bc,_scr_map
1364  028C  09          	add	hl,bc
1365  028D  4E          	ld	c, (hl)
1366  028E  E1          	pop	hl
1367  028F  E5          	push	hl
1368  0290  71          	ld	(hl), c
1369  0291  3E 00       	ld	a, +((_value_b) & 0xFF)
1370  0293  21 00 00    	ld	hl,_sprite
1371  0296  86          	add	a, (hl)
1372  0297  DD 77 FD    	ld	(ix-3),a
1373  029A  3E 00       	ld	a, +((_value_b) / 256)
1374  029C  CE 00       	adc	a,0x00
1375  029E  DD 77 FE    	ld	(ix-2),a
1376  02A1  2A 00 00    	ld	hl,(_index1)
1377  02A4  01 21 00    	ld	bc,0x0021
1378  02A7  09          	add	hl,bc
1379  02A8  01 00 00    	ld	bc,_scr_map
1380  02AB  09          	add	hl,bc
1381  02AC  4E          	ld	c, (hl)
1382  02AD  E1          	pop	hl
1383  02AE  E5          	push	hl
1384  02AF  71          	ld	(hl), c
1385  02B0  2A 00 00    	ld	hl,(_index1)
1386  02B3  01 00 00    	ld	bc,_scr_map
1387  02B6  09          	add	hl,bc
1388  02B7  AF          	xor	a,a
1389  02B8  77          	ld	(hl),a
1390  02B9  ED 4B 00 00 	ld	bc,(_index1)
1391  02BD  03          	inc	bc
1392  02BE  21 00 00    	ld	hl,_scr_map
1393  02C1  09          	add	hl, bc
1394  02C2  36 00       	ld	(hl),0x00
1395  02C4  ED 4B 00 00 	ld	bc,(_index1)
1396  02C8  03          	inc	bc
1397  02C9  03          	inc	bc
1398  02CA  21 00 00    	ld	hl,_scr_map
1399  02CD  09          	add	hl, bc
1400  02CE  36 00       	ld	(hl),0x00
1401  02D0  2A 00 00    	ld	hl,(_index1)
1402  02D3  01 20 00    	ld	bc,0x0020
1403  02D6  09          	add	hl,bc
1404  02D7  01 00 00    	ld	bc,_scr_map
1405  02DA  09          	add	hl,bc
1406  02DB  36 00       	ld	(hl),0x00
1407  02DD  2A 00 00    	ld	hl,(_index1)
1408  02E0  01 21 00    	ld	bc,0x0021
1409  02E3  09          	add	hl,bc
1410  02E4  01 00 00    	ld	bc,_scr_map
1411  02E7  09          	add	hl,bc
1412  02E8  36 00       	ld	(hl),0x00
1413  02EA              l_game_draw_map_00119:
1414  02EA  21 00 00    	ld	hl,_index1
1415  02ED  34          	inc	(hl)
1416  02EE  20 02       	jr	NZ,l_game_draw_map_00185
1417  02F0  23          	inc	hl
1418  02F1  34          	inc	(hl)
1419  02F2              l_game_draw_map_00185:
1420  02F2  21 00 00    	ld	hl,_s_col1
1421  02F5  34          	inc	(hl)
1422  02F6  3A 00 00    	ld	a,(_index1)
1423  02F9  E6 1F       	and	a,0x1f
1424  02FB  C2 6A 01    	jp	NZ,l_game_draw_map_00122
1425  02FE  21 00 00    	ld	hl,_s_row1
1426  0301  34          	inc	(hl)
1427  0302  21 00 00    	ld	hl,_s_lin1
1428  0305  7E          	ld	a, (hl)
1429  0306  C6 08       	add	a,0x08
1430  0308  77          	ld	(hl), a
1431  0309  21 00 00    	ld	hl,_s_col1
1432  030C  36 00       	ld	(hl),0x00
1433  030E  C3 6A 01    	jp	l_game_draw_map_00122
1434  0311              l_game_draw_map_00124:
1435  0311  CD 00 00    	call	_NIRVANAP_start
1436  0314  CD 00 00    	call	_game_update_stats
1437  0317  DD F9       	ld	sp, ix
1438  0319  DD E1       	pop	ix
1439  031B  C9          	ret
1440  031C              	SECTION code_compiler
1441  031C              ;	---------------------------------
1442  031C              ; Function game_cell_paint_index
1443  031C              ; ---------------------------------
1444  031C              _game_cell_paint_index:
1445  031C  3A 00 00    	ld	a,(_index1)
1446  031F  E6 1F       	and	a,0x1f
1447  0321  32 00 00    	ld	(_s_col1),a
1448  0324  2A 00 00    	ld	hl,(_index1)
1449  0327  4D          	ld	c,l
1450  0328  5C          	ld	e,h
1451  0329  06 05       	ld	b,0x05
1452  032B  79          	ld	a,c
1453  032C              l_game_cell_paint_index_00103:
1454  032C  CB 3B       	srl	e
1455  032E  1F          	rra
1456  032F  10 FB       	djnz	l_game_cell_paint_index_00103
1457  0331  07          	rlca
1458  0332  07          	rlca
1459  0333  07          	rlca
1460  0334  E6 F8       	and	a,0xf8
1461  0336  32 00 00    	ld	(_s_lin1),a
1462  0339  0F          	rrca
1463  033A  0F          	rrca
1464  033B  0F          	rrca
1465  033C  E6 1F       	and	a,0x1f
1466  033E  3C          	inc	a
1467  033F  32 00 00    	ld	(_s_row1),a
1468  0342  21 00 00    	ld	hl,_s_lin1
1469  0345  7E          	ld	a, (hl)
1470  0346  C6 10       	add	a,0x10
1471  0348  77          	ld	(hl), a
1472  0349  3A 00 00    	ld	a,(_s_row1)
1473  034C  07          	rlca
1474  034D  07          	rlca
1475  034E  07          	rlca
1476  034F  E6 F8       	and	a,0xf8
1477  0351  4F          	ld	c, a
1478  0352  11 00 00    	ld	de,_scr_map
1479  0355  2A 00 00    	ld	hl,(_index1)
1480  0358  19          	add	hl,de
1481  0359  46          	ld	b, (hl)
1482  035A  3A 00 00    	ld	a,(_s_col1)
1483  035D  F5          	push	af
1484  035E  33          	inc	sp
1485  035F  79          	ld	a, c
1486  0360  48          	ld	c,b
1487  0361  47          	ld	b,a
1488  0362  C5          	push	bc
1489  0363  CD 00 00    	call	_game_sprite_draw8
1490  0366  F1          	pop	af
1491  0367  33          	inc	sp
1492  0368  C9          	ret
1493  0369              	SECTION code_compiler
1494  0369              ;	---------------------------------
1495  0369              ; Function game_cell_paint
1496  0369              ; ---------------------------------
1497  0369              _game_cell_paint:
1498  0369  3A 00 00    	ld	a,(_s_row1)
1499  036C  07          	rlca
1500  036D  07          	rlca
1501  036E  07          	rlca
1502  036F  E6 F8       	and	a,0xf8
1503  0371  57          	ld	d, a
1504  0372  01 00 00    	ld	bc,_scr_map
1505  0375  2A 00 00    	ld	hl,(_index1)
1506  0378  09          	add	hl,bc
1507  0379  4D          	ld	c,l
1508  037A  46          	ld	b, (hl)
1509  037B  3A 00 00    	ld	a,(_s_col1)
1510  037E  5A          	ld	e,d
1511  037F  57          	ld	d,a
1512  0380  D5          	push	de
1513  0381  C5          	push	bc
1514  0382  33          	inc	sp
1515  0383  CD 00 00    	call	_game_sprite_draw8
1516  0386  F1          	pop	af
1517  0387  33          	inc	sp
1518  0388  C9          	ret
1519  0389              	SECTION code_compiler
1520  0389              ;	---------------------------------
1521  0389              ; Function game_end is a stub
1522  0389              ; ---------------------------------
1523  0389              EXTERN l_ret
1524  0389              defc _game_end = l_ret
1525  0389              	SECTION code_compiler
1526  0389              ;	---------------------------------
1527  0389              ; Function game_print_footer
1528  0389              ; ---------------------------------
1529  0389              _game_print_footer:
1530  0389  3A 00 00    	ld	a,(_game_fps_show)
1531  038C  B7          	or	a, a
1532  038D  28 10       	jr	Z,l_game_print_footer_00102
1533  038F  21 00 00    	ld	hl,_screen_ink
1534  0392  36 07       	ld	(hl),0x07
1535  0394  21 00 00    	ld	hl,___str_0
1536  0397  E5          	push	hl
1537  0398  21 17 14    	ld	hl,0x1417
1538  039B  E5          	push	hl
1539  039C  CD 00 00    	call	_zx_print_str
1540  039F              l_game_print_footer_00102:
1541  039F  CD 00 00    	call	_game_update_stats
1542  03A2  C9          	ret
1543  03A3              	SECTION rodata_compiler
1544  0000              ___str_0:
1545  0000  4C 50 53 3A 	DEFM "LPS:"
1546  0004  00          	DEFB 0x00
1547  0005              	SECTION code_compiler
1548  03A3              ;	---------------------------------
1549  03A3              ; Function game_print_score is a stub
1550  03A3              ; ---------------------------------
1551  03A3              EXTERN l_ret
1552  03A3              defc _game_print_score = l_ret
1553  03A3              	SECTION code_compiler
1554  03A3              ;	---------------------------------
1555  03A3              ; Function game_cls
1556  03A3              ; ---------------------------------
1557  03A3              _game_cls:
1558  03A3  CD 00 00    	call	_NIRVANAP_stop
1559  03A6  2E 00       	ld	l,0x00
1560  03A8  CD 00 00    	call	_zx_cls_fastcall
1561  03AB  21 00 00    	ld	hl,_screen_ink
1562  03AE  36 07       	ld	(hl),0x07
1563  03B0  C3 00 00    	jp  _NIRVANAP_start
1564  03B3              	SECTION code_compiler
1565  03B3              ;	---------------------------------
1566  03B3              ; Function game_update_stats is a stub
1567  03B3              ; ---------------------------------
1568  03B3              EXTERN l_ret
1569  03B3              defc _game_update_stats = l_ret
1570  03B3              	SECTION code_compiler
1571  03B3              ;	---------------------------------
1572  03B3              ; Function game_tick
1573  03B3              ; ---------------------------------
1574  03B3              _game_tick:
1575  03B3  21 00 00    	ld	hl,_curr_time
1576  03B6  34          	inc	(hl)
1577  03B7  C2 00 00    	jp	NZ,_zx_isr
1578  03BA  23          	inc	hl
1579  03BB  34          	inc	(hl)
1580  03BC  C3 00 00    	jp  _zx_isr
1581  03BF              	SECTION code_compiler
1582  03BF              ;	---------------------------------
1583  03BF              ; Function game_start_timer
1584  03BF              ; ---------------------------------
1585  03BF              _game_start_timer:
1586  03BF  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1587  03C2  36 CD       	ld	(hl),0xcd
1588  03C4  23          	inc	hl
1589  03C5  11 B3 03    	ld	de,_game_tick
1590  03C8  73          	ld	(hl), e
1591  03C9  23          	inc	hl
1592  03CA  72          	ld	(hl), d
1593  03CB  C9          	ret
1594  03CC              	SECTION code_compiler
1595  03CC              ;	---------------------------------
1596  03CC              ; Function game_anim_conveyor
1597  03CC              ; ---------------------------------
1598  03CC              _game_anim_conveyor:
1599  03CC  3A 00 00    	ld	a,(_game_conveyor_dir)
1600  03CF  3C          	inc	a
1601  03D0  20 0E       	jr	NZ,l_game_anim_conveyor_00106
1602  03D2  21 00 00    	ld	hl,_game_conveyor_tile
1603  03D5  7E          	ld	a,(hl)
1604  03D6  3D          	dec	a
1605  03D7  77          	ld	(hl),a
1606  03D8  D6 10       	sub	a,0x10
1607  03DA  30 11       	jr	NC,l_game_anim_conveyor_00107
1608  03DC  36 13       	ld	(hl),0x13
1609  03DE  18 0D       	jr	l_game_anim_conveyor_00107
1610  03E0              l_game_anim_conveyor_00106:
1611  03E0  21 00 00    	ld	hl,_game_conveyor_tile
1612  03E3  7E          	ld	a,(hl)
1613  03E4  3C          	inc	a
1614  03E5  77          	ld	(hl),a
1615  03E6  D6 14       	sub	a,0x14
1616  03E8  DA F0 03    	jp	C,_game_draw_conv
1617  03EB  36 10       	ld	(hl),0x10
1618  03ED              l_game_anim_conveyor_00107:
1619  03ED  C3 F0 03    	jp  _game_draw_conv
1620  03F0              	SECTION code_compiler
1621  03F0              ;	---------------------------------
1622  03F0              ; Function game_draw_conv
1623  03F0              ; ---------------------------------
1624  03F0              _game_draw_conv:
1625  03F0  CD 00 00    	call	___sdcc_enter_ix
1626  03F3  F5          	push	af
1627  03F4  F5          	push	af
1628  03F5  3B          	dec	sp
1629  03F6  21 00 00    	ld	hl,_game_conveyor_tile
1630  03F9  5E          	ld	e, (hl)
1631  03FA  CB 3B       	srl	e
1632  03FC  CB 3B       	srl	e
1633  03FE  7E          	ld	a, (hl)
1634  03FF  E6 03       	and	a,0x03
1635  0401  4F          	ld	c, a
1636  0402  21 00 00    	ld	hl,_game_conveyor_lin
1637  0405  46          	ld	b, (hl)
1638  0406  16 00       	ld	d,0x00
1639  0408  3A 00 00    	ld	a,(_game_tileset)
1640  040B  DD 77 FE    	ld	(ix-2),a
1641  040E  6F          	ld	l, a
1642  040F  26 00       	ld	h,0x00
1643  0411  DD 74 FF    	ld	(ix-1),h
1644  0414  19          	add	hl, de
1645  0415  5D          	ld	e, l
1646  0416  54          	ld	d, h
1647  0417  29          	add	hl, hl
1648  0418  19          	add	hl, de
1649  0419  29          	add	hl, hl
1650  041A  29          	add	hl, hl
1651  041B  29          	add	hl, hl
1652  041C  29          	add	hl, hl
1653  041D  11 00 00    	ld	de,_btiles
1654  0420  19          	add	hl,de
1655  0421  79          	ld	a,c
1656  0422  B7          	or	a, a
1657  0423  28 1D       	jr	Z,l_game_draw_conv_00105
1658  0425  3D          	dec	a
1659  0426  28 0D       	jr	Z,l_game_draw_conv_00102
1660  0428  79          	ld	a,c
1661  0429  FE 02       	cp	a,0x02
1662  042B  28 0B       	jr	Z,l_game_draw_conv_00103
1663  042D  D6 03       	sub	a,0x03
1664  042F  28 0D       	jr	Z,l_game_draw_conv_00104
1665  0431  18 0F       	jr	l_game_draw_conv_00105
1666  0433  18 0D       	jr	l_game_draw_conv_00105
1667  0435              l_game_draw_conv_00102:
1668  0435  23          	inc	hl
1669  0436  18 0A       	jr	l_game_draw_conv_00105
1670  0438              l_game_draw_conv_00103:
1671  0438  11 10 00    	ld	de,0x0010
1672  043B  19          	add	hl, de
1673  043C  18 04       	jr	l_game_draw_conv_00105
1674  043E              l_game_draw_conv_00104:
1675  043E  11 11 00    	ld	de,0x0011
1676  0441  19          	add	hl, de
1677  0442              l_game_draw_conv_00105:
1678  0442  78          	ld	a, b
1679  0443  C6 08       	add	a,0x08
1680  0445  DD 77 FD    	ld	(ix-3),a
1681  0448  EB          	ex	de,hl
1682  0449              l_game_draw_conv_00109:
1683  0449  78          	ld	a, b
1684  044A  DD 96 FD    	sub	a,(ix-3)
1685  044D  30 37       	jr	NC,l_game_draw_conv_00111
1686  044F  21 00 00    	ld	hl,_game_conveyor_col0
1687  0452  4E          	ld	c, (hl)
1688  0453  68          	ld	l, b
1689  0454  CD 00 00    	call	_zx_py2saddr_fastcall
1690  0457  DD 74 FF    	ld	(ix-1),h
1691  045A  7D          	ld	a,l
1692  045B  81          	add	a,c
1693  045C  DD 77 FE    	ld	(ix-2),a
1694  045F  DD 7E FF    	ld	a,(ix-1)
1695  0462  CE 00       	adc	a,0x00
1696  0464  DD 77 FF    	ld	(ix-1),a
1697  0467              l_game_draw_conv_00106:
1698  0467  79          	ld	a, c
1699  0468  21 00 00    	ld	hl,_game_conveyor_col1
1700  046B  96          	sub	a, (hl)
1701  046C  30 13       	jr	NC,l_game_draw_conv_00108
1702  046E  1A          	ld	a, (de)
1703  046F  DD 6E FE    	ld	l,(ix-2)
1704  0472  DD 66 FF    	ld	h,(ix-1)
1705  0475  77          	ld	(hl), a
1706  0476  DD 34 FE    	inc	(ix-2)
1707  0479  20 03       	jr	NZ,l_game_draw_conv_00152
1708  047B  DD 34 FF    	inc	(ix-1)
1709  047E              l_game_draw_conv_00152:
1710  047E  0C          	inc	c
1711  047F  18 E6       	jr	l_game_draw_conv_00106
1712  0481              l_game_draw_conv_00108:
1713  0481  13          	inc	de
1714  0482  13          	inc	de
1715  0483  04          	inc	b
1716  0484  18 C3       	jr	l_game_draw_conv_00109
1717  0486              l_game_draw_conv_00111:
1718  0486  76          	halt
1719  0487  DD F9       	ld	sp, ix
1720  0489  DD E1       	pop	ix
1721  048B  C9          	ret
1722  048C              	SECTION code_compiler
1723  048C              ;	---------------------------------
1724  048C              ; Function game_round_init
1725  048C              ; ---------------------------------
1726  048C              _game_round_init:
1727  048C  21 00 00    	ld	hl,0x0000
1728  048F  22 00 00    	ld	(_loop_count),hl
1729  0492  21 00 00    	ld	hl,0
1730  0495  22 00 00    	ld	(_curr_time),hl
1731  0498  21 00 00    	ld	hl,0x0000
1732  049B  22 00 00    	ld	(_frame_time),hl
1733  049E  21 00 00    	ld	hl,_player_coins
1734  04A1  36 00       	ld	(hl),0x00
1735  04A3  21 00 00    	ld	hl,_game_conveyor_flag
1736  04A6  36 00       	ld	(hl),0x00
1737  04A8  CD 00 00    	call	_spr_init_effects
1738  04AB  CD 00 00    	call	_game_print_header
1739  04AE  CD 89 03    	call	_game_print_footer
1740  04B1  CD 89 09    	call	_game_page_map
1741  04B4  CD 00 00    	call	_ay_reset
1742  04B7  CD 00 00    	call	_spr_btile_paint_back
1743  04BA  CD EF 00    	call	_game_draw_map
1744  04BD  21 20 90    	ld	hl,0x9020
1745  04C0  E5          	push	hl
1746  04C1  AF          	xor	a, a
1747  04C2  F5          	push	af
1748  04C3  33          	inc	sp
1749  04C4  21 00 00    	ld	hl,_attrib_hl
1750  04C7  E5          	push	hl
1751  04C8  CD D7 05    	call	_game_paint_attrib
1752  04CB  F1          	pop	af
1753  04CC  F1          	pop	af
1754  04CD  33          	inc	sp
1755  04CE  01 00 00    	ld	bc,_map_names+0
1756  04D1  2A 00 00    	ld	hl,(_scr_curr)
1757  04D4  26 00       	ld	h,0x00
1758  04D6  29          	add	hl, hl
1759  04D7  09          	add	hl, bc
1760  04D8  4E          	ld	c, (hl)
1761  04D9  23          	inc	hl
1762  04DA  46          	ld	b, (hl)
1763  04DB  C5          	push	bc
1764  04DC  21 11 09    	ld	hl,0x0911
1765  04DF  E5          	push	hl
1766  04E0  CD 00 00    	call	_zx_print_str
1767  04E3  21 0A 98    	ld	hl,0x980a
1768  04E6  E5          	push	hl
1769  04E7  AF          	xor	a, a
1770  04E8  F5          	push	af
1771  04E9  33          	inc	sp
1772  04EA  21 00 00    	ld	hl,_attrib_red
1773  04ED  E5          	push	hl
1774  04EE  CD D7 05    	call	_game_paint_attrib
1775  04F1  F1          	pop	af
1776  04F2  33          	inc	sp
1777  04F3  21 20 98    	ld	hl,0x9820
1778  04F6  E3          	ex	(sp),hl
1779  04F7  3E 0A       	ld	a,0x0a
1780  04F9  F5          	push	af
1781  04FA  33          	inc	sp
1782  04FB  21 00 00    	ld	hl,_attrib_osd
1783  04FE  E5          	push	hl
1784  04FF  CD D7 05    	call	_game_paint_attrib
1785  0502  F1          	pop	af
1786  0503  33          	inc	sp
1787  0504  21 05 00    	ld	hl,___str_1
1788  0507  E3          	ex	(sp),hl
1789  0508  21 12 00    	ld	hl,0x0012
1790  050B  E5          	push	hl
1791  050C  CD 00 00    	call	_zx_print_str
1792  050F  21 00 00    	ld	hl,_screen_ink
1793  0512  36 06       	ld	(hl),0x06
1794  0514  21 26 00    	ld	hl,___str_2
1795  0517  E5          	push	hl
1796  0518  21 14 00    	ld	hl,0x0014
1797  051B  E5          	push	hl
1798  051C  CD 00 00    	call	_zx_print_str
1799  051F  21 00 00    	ld	hl,_game_song_play_start
1800  0522  36 00       	ld	(hl),0x00
1801  0524  3A 00 00    	ld	a,(_game_over)
1802  0527  B7          	or	a, a
1803  0528  20 10       	jr	NZ,l_game_round_init_00102
1804  052A  2A 00 00    	ld	hl,(_player_col_scr)
1805  052D  26 60       	ld	h,0x60
1806  052F  3A 00 00    	ld	a,(_player_lin_scr)
1807  0532  E5          	push	hl
1808  0533  F5          	push	af
1809  0534  33          	inc	sp
1810  0535  CD 00 00    	call	_player_init
1811  0538  F1          	pop	af
1812  0539  33          	inc	sp
1813  053A              l_game_round_init_00102:
1814  053A  CD 00 00    	call	_game_update_stats
1815  053D  3A 00 00    	ld	a,(_game_debug)
1816  0540  B7          	or	a, a
1817  0541  20 3B       	jr	NZ,l_game_round_init_00104
1818  0543  21 47 00    	ld	hl,___str_3
1819  0546  E5          	push	hl
1820  0547  21 0C 06    	ld	hl,0x060c
1821  054A  E5          	push	hl
1822  054B  CD 00 00    	call	_zx_print_str
1823  054E  21 00 00    	ld	hl,_tmp0
1824  0551  36 0B       	ld	(hl),0x0b
1825  0553  21 11 68    	ld	hl,0x6811
1826  0556  E5          	push	hl
1827  0557  3E 06       	ld	a,0x06
1828  0559  F5          	push	af
1829  055A  33          	inc	sp
1830  055B  21 00 00    	ld	hl,_attrib_osd
1831  055E  E5          	push	hl
1832  055F  CD D7 05    	call	_game_paint_attrib
1833  0562  F1          	pop	af
1834  0563  F1          	pop	af
1835  0564  33          	inc	sp
1836  0565  3A 00 00    	ld	a,(_tmp0)
1837  0568  C6 06       	add	a,0x06
1838  056A  47          	ld	b, a
1839  056B  AF          	xor	a, a
1840  056C  F5          	push	af
1841  056D  33          	inc	sp
1842  056E  21 C8 00    	ld	hl,0x00c8
1843  0571  E5          	push	hl
1844  0572  C5          	push	bc
1845  0573  33          	inc	sp
1846  0574  21 0C 06    	ld	hl,0x060c
1847  0577  E5          	push	hl
1848  0578  CD 01 06    	call	_game_colour_message
1849  057B  F1          	pop	af
1850  057C  F1          	pop	af
1851  057D  F1          	pop	af
1852  057E              l_game_round_init_00104:
1853  057E  CD 00 00    	call	_audio_ingame
1854  0581  21 00 00    	ld	hl,_screen_ink
1855  0584  36 12       	ld	(hl),0x12
1856  0586  21 53 00    	ld	hl,___str_4
1857  0589  E5          	push	hl
1858  058A  21 00 00    	ld	hl,0x0000
1859  058D  E5          	push	hl
1860  058E  CD 00 00    	call	_zx_print_str
1861  0591  2E 02       	ld	l,0x02
1862  0593  CD 00 00    	call	_zx_border_fastcall
1863  0596  21 00 00    	ld	hl,_screen_ink
1864  0599  36 07       	ld	(hl),0x07
1865  059B  C9          	ret
1866  059C              	SECTION rodata_compiler
1867  0005              ___str_1:
1868  0005  41 49 52 20 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ----------------------------"
1869  0025  00          	DEFB 0x00
1870  0026              	SECTION rodata_compiler
1871  0026              ___str_2:
1872  0026  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
1873  0046  00          	DEFB 0x00
1874  0047              	SECTION rodata_compiler
1875  0047              ___str_3:
1876  0047  52 4F 55 4E 44 20 53 54 41 52 54 
                        	DEFM "ROUND START"
1877  0052  00          	DEFB 0x00
1878  0053              	SECTION rodata_compiler
1879  0053              ___str_4:
1880  0053  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
1881  0073  00          	DEFB 0x00
1882  0074              	SECTION code_compiler
1883  059C              ;	---------------------------------
1884  059C              ; Function game_print_header
1885  059C              ; ---------------------------------
1886  059C              	defc _game_print_header	=	_game_print_score
1887  059C              	SECTION code_compiler
1888  059C              ;	---------------------------------
1889  059C              ; Function game_check_map
1890  059C              ; ---------------------------------
1891  059C              _game_check_map:
1892  059C  CD 00 00    	call	___sdcc_enter_ix
1893  059F  DD 66 05    	ld	h,(ix+5)
1894  05A2  DD 6E 04    	ld	l,(ix+4)
1895  05A5  E5          	push	hl
1896  05A6  CD 00 00    	call	_spr_calc_index
1897  05A9  F1          	pop	af
1898  05AA  22 00 00    	ld	(_index1),hl
1899  05AD  21 00 00    	ld	hl,_index1
1900  05B0  DD E1       	pop	ix
1901  05B2  C3 B5 05    	jp	_game_check_cell
1902  05B5              	SECTION code_compiler
1903  05B5              ;	---------------------------------
1904  05B5              ; Function game_check_cell
1905  05B5              ; ---------------------------------
1906  05B5              _game_check_cell:
1907  05B5  4E          	ld	c, (hl)
1908  05B6  23          	inc	hl
1909  05B7  46          	ld	b, (hl)
1910  05B8  AF          	xor	a, a
1911  05B9  B9          	cp	a, c
1912  05BA  3E 02       	ld	a,0x02
1913  05BC  98          	sbc	a, b
1914  05BD  30 04       	jr	NC,l_game_check_cell_00102
1915  05BF  2E 01       	ld	l,0x01
1916  05C1  18 13       	jr	l_game_check_cell_00106
1917  05C3              l_game_check_cell_00102:
1918  05C3  21 00 00    	ld	hl,_scr_map
1919  05C6  09          	add	hl, bc
1920  05C7  5E          	ld	e, (hl)
1921  05C8  ED 43 00 00 	ld	(_index1),bc
1922  05CC  7B          	ld	a,e
1923  05CD  D6 0A       	sub	a,0x0a
1924  05CF  28 04       	jr	Z,l_game_check_cell_00104
1925  05D1  2E 00       	ld	l,0x00
1926  05D3  18 01       	jr	l_game_check_cell_00106
1927  05D5              l_game_check_cell_00104:
1928  05D5  6B          	ld	l, e
1929  05D6              l_game_check_cell_00106:
1930  05D6  C9          	ret
1931  05D7              	SECTION code_compiler
1932  05D7              ;	---------------------------------
1933  05D7              ; Function game_paint_attrib
1934  05D7              ; ---------------------------------
1935  05D7              _game_paint_attrib:
1936  05D7  CD 00 00    	call	___sdcc_enter_ix
1937  05DA  DD 7E 06    	ld	a,(ix+6)
1938  05DD  32 00 00    	ld	(_tmp_uc),a
1939  05E0              l_game_paint_attrib_00103:
1940  05E0  21 00 00    	ld	hl,_tmp_uc
1941  05E3  7E          	ld	a, (hl)
1942  05E4  DD 96 07    	sub	a,(ix+7)
1943  05E7  30 15       	jr	NC,l_game_paint_attrib_00105
1944  05E9  DD 4E 04    	ld	c,(ix+4)
1945  05EC  DD 46 05    	ld	b,(ix+5)
1946  05EF  66          	ld	h,(hl)
1947  05F0  DD 6E 08    	ld	l,(ix+8)
1948  05F3  E5          	push	hl
1949  05F4  C5          	push	bc
1950  05F5  CD 00 00    	call	_NIRVANAP_paintC_callee
1951  05F8  21 00 00    	ld	hl,_tmp_uc
1952  05FB  34          	inc	(hl)
1953  05FC  18 E2       	jr	l_game_paint_attrib_00103
1954  05FE              l_game_paint_attrib_00105:
1955  05FE  DD E1       	pop	ix
1956  0600  C9          	ret
1957  0601              	SECTION code_compiler
1958  0601              ;	---------------------------------
1959  0601              ; Function game_colour_message
1960  0601              ; ---------------------------------
1961  0601              _game_colour_message:
1962  0601  CD 00 00    	call	___sdcc_enter_ix
1963  0604  F5          	push	af
1964  0605  F5          	push	af
1965  0606  F5          	push	af
1966  0607  F5          	push	af
1967  0608  D1          	pop	de
1968  0609  21 00 00    	ld	hl,_tmp
1969  060C  36 01       	ld	(hl),0x01
1970  060E  2A 00 00    	ld	hl,(_curr_time)
1971  0611  22 00 00    	ld	(_frame_time),hl
1972  0614  E5          	push	hl
1973  0615  DD 7E 04    	ld	a,(ix+4)
1974  0618  4D          	ld	c,l
1975  0619  07          	rlca
1976  061A  07          	rlca
1977  061B  07          	rlca
1978  061C  E6 F8       	and	a,0xf8
1979  061E  DD 77 FF    	ld	(ix-1),a
1980  0621  C6 08       	add	a,0x08
1981  0623  DD 77 FE    	ld	(ix-2),a
1982  0626  DD 77 FD    	ld	(ix-3),a
1983  0629              l_game_colour_message_00112:
1984  0629  3A 00 00    	ld	a,(_tmp)
1985  062C  B7          	or	a, a
1986  062D  CA CC 06    	jp	Z, l_game_colour_message_00114
1987  0630  DD 46 07    	ld	b,(ix+7)
1988  0633  21 00 00    	ld	hl,0x0000
1989  0636  39          	add	hl, sp
1990  0637  EB          	ex	de,hl
1991  0638  C5          	push	bc
1992  0639  33          	inc	sp
1993  063A  D5          	push	de
1994  063B  CD 42 07    	call	_game_check_time
1995  063E  F1          	pop	af
1996  063F  33          	inc	sp
1997  0640  7D          	ld	a, l
1998  0641  B7          	or	a, a
1999  0642  C2 CC 06    	jp	NZ, l_game_colour_message_00114
2000  0645  3E 05       	ld	a,0x05
2001  0647  F5          	push	af
2002  0648  33          	inc	sp
2003  0649  21 00 00    	ld	hl,_frame_time
2004  064C  E5          	push	hl
2005  064D  CD 42 07    	call	_game_check_time
2006  0650  F1          	pop	af
2007  0651  33          	inc	sp
2008  0652  DD 75 FC    	ld	(ix-4),l
2009  0655  7D          	ld	a, l
2010  0656  B7          	or	a, a
2011  0657  28 4D       	jr	Z,l_game_colour_message_00105
2012  0659  2A 00 00    	ld	hl,(_curr_time)
2013  065C  DD 74 FB    	ld	(ix-5),h
2014  065F  DD 75 FA    	ld	(ix-6),l
2015  0662  7D          	ld	a, l
2016  0663  21 00 00    	ld	hl,_frame_time
2017  0666  77          	ld	(hl), a
2018  0667  DD 7E FB    	ld	a,(ix-5)
2019  066A  23          	inc	hl
2020  066B  77          	ld	(hl), a
2021  066C  3A 00 00    	ld	a,(_game_over)
2022  066F  B7          	or	a, a
2023  0670  28 1B       	jr	Z,l_game_colour_message_00102
2024  0672  DD 66 FD    	ld	h,(ix-3)
2025  0675  DD 6E 06    	ld	l,(ix+6)
2026  0678  E5          	push	hl
2027  0679  DD 7E 05    	ld	a,(ix+5)
2028  067C  F5          	push	af
2029  067D  33          	inc	sp
2030  067E  21 00 00    	ld	hl,_attrib_hl
2031  0681  E5          	push	hl
2032  0682  CD D7 05    	call	_game_paint_attrib
2033  0685  F1          	pop	af
2034  0686  F1          	pop	af
2035  0687  33          	inc	sp
2036  0688  CD 6C 07    	call	_game_rotate_attrib
2037  068B  18 19       	jr	l_game_colour_message_00105
2038  068D              l_game_colour_message_00102:
2039  068D  DD 66 FE    	ld	h,(ix-2)
2040  0690  DD 6E 06    	ld	l,(ix+6)
2041  0693  E5          	push	hl
2042  0694  DD 7E 05    	ld	a,(ix+5)
2043  0697  F5          	push	af
2044  0698  33          	inc	sp
2045  0699  21 00 00    	ld	hl,_attrib_osd
2046  069C  E5          	push	hl
2047  069D  CD D7 05    	call	_game_paint_attrib
2048  06A0  F1          	pop	af
2049  06A1  F1          	pop	af
2050  06A2  33          	inc	sp
2051  06A3  CD E1 07    	call	_game_rotate_attrib_osd
2052  06A6              l_game_colour_message_00105:
2053  06A6  DD 7E 09    	ld	a,(ix+9)
2054  06A9  B7          	or	a, a
2055  06AA  CA 29 06    	jp	Z, l_game_colour_message_00112
2056  06AD              l_game_colour_message_00106:
2057  06AD  21 00 00    	ld	hl,_k1
2058  06B0  E5          	push	hl
2059  06B1  2A 00 00    	ld	hl,(_joyfunc1)
2060  06B4  CD 00 00    	call	___sdcc_call_hl
2061  06B7  F1          	pop	af
2062  06B8  DD 74 FB    	ld	(ix-5),h
2063  06BB  DD 75 FA    	ld	(ix-6),l
2064  06BE  7C          	ld	a,h
2065  06BF  DD B6 FA    	or	a,(ix-6)
2066  06C2  CA 29 06    	jp	Z, l_game_colour_message_00112
2067  06C5  21 00 00    	ld	hl,_tmp
2068  06C8  36 00       	ld	(hl),0x00
2069  06CA  18 E1       	jr	l_game_colour_message_00106
2070  06CC              l_game_colour_message_00114:
2071  06CC  DD 7E 06    	ld	a,(ix+6)
2072  06CF  DD 96 05    	sub	a,(ix+5)
2073  06D2  4F          	ld	c, a
2074  06D3  3A 00 00    	ld	a,(_game_over)
2075  06D6  B7          	or	a, a
2076  06D7  28 2F       	jr	Z,l_game_colour_message_00118
2077  06D9  21 00 00    	ld	hl,_tmp1
2078  06DC  71          	ld	(hl), c
2079  06DD  21 00 00    	ld	hl,_tmp0
2080  06E0  36 00       	ld	(hl),0x00
2081  06E2              l_game_colour_message_00121:
2082  06E2  3A 00 00    	ld	a,(_tmp0)
2083  06E5  21 00 00    	ld	hl,_tmp1
2084  06E8  96          	sub	a, (hl)
2085  06E9  30 52       	jr	NC,l_game_colour_message_00126
2086  06EB  DD 7E 05    	ld	a,(ix+5)
2087  06EE  21 00 00    	ld	hl,_tmp0
2088  06F1  86          	add	a, (hl)
2089  06F2  4F          	ld	c, a
2090  06F3  21 74 00    	ld	hl,___str_5
2091  06F6  E5          	push	hl
2092  06F7  79          	ld	a, c
2093  06F8  F5          	push	af
2094  06F9  33          	inc	sp
2095  06FA  DD 7E 04    	ld	a,(ix+4)
2096  06FD  F5          	push	af
2097  06FE  33          	inc	sp
2098  06FF  CD 00 00    	call	_zx_print_str
2099  0702  21 00 00    	ld	hl,_tmp0
2100  0705  34          	inc	(hl)
2101  0706  18 DA       	jr	l_game_colour_message_00121
2102  0708              l_game_colour_message_00118:
2103  0708  21 00 00    	ld	hl,_tmp1
2104  070B  71          	ld	(hl), c
2105  070C  DD 7E FF    	ld	a,(ix-1)
2106  070F  32 00 00    	ld	(_s_lin0),a
2107  0712  DD 7E 05    	ld	a,(ix+5)
2108  0715  CB 3F       	srl	a
2109  0717  87          	add	a, a
2110  0718  32 00 00    	ld	(_s_col1),a
2111  071B  21 00 00    	ld	hl,_tmp0
2112  071E  36 00       	ld	(hl),0x00
2113  0720              l_game_colour_message_00124:
2114  0720  3A 00 00    	ld	a,(_tmp0)
2115  0723  21 00 00    	ld	hl,_tmp1
2116  0726  96          	sub	a, (hl)
2117  0727  30 14       	jr	NC,l_game_colour_message_00126
2118  0729  3A 00 00    	ld	a,(_s_col1)
2119  072C  21 00 00    	ld	hl,_tmp0
2120  072F  86          	add	a, (hl)
2121  0730  32 00 00    	ld	(_s_col0),a
2122  0733  CD 00 00    	call	_spr_back_repaint
2123  0736  21 00 00    	ld	hl,_tmp0
2124  0739  34          	inc	(hl)
2125  073A  34          	inc	(hl)
2126  073B  18 E3       	jr	l_game_colour_message_00124
2127  073D              l_game_colour_message_00126:
2128  073D  DD F9       	ld	sp, ix
2129  073F  DD E1       	pop	ix
2130  0741  C9          	ret
2131  0742              	SECTION rodata_compiler
2132  0074              ___str_5:
2133  0074  20          	DEFM " "
2134  0075  00          	DEFB 0x00
2135  0076              	SECTION code_compiler
2136  0742              ;	---------------------------------
2137  0742              ; Function game_check_time
2138  0742              ; ---------------------------------
2139  0742              _game_check_time:
2140  0742  CD 00 00    	call	___sdcc_enter_ix
2141  0745  2A 00 00    	ld	hl,(_curr_time)
2142  0748  4D          	ld	c, l
2143  0749  DD 6E 04    	ld	l,(ix+4)
2144  074C  44          	ld	b,h
2145  074D  DD 66 05    	ld	h,(ix+5)
2146  0750  5E          	ld	e, (hl)
2147  0751  23          	inc	hl
2148  0752  56          	ld	d, (hl)
2149  0753  79          	ld	a, c
2150  0754  93          	sub	a, e
2151  0755  4F          	ld	c, a
2152  0756  78          	ld	a, b
2153  0757  9A          	sbc	a, d
2154  0758  47          	ld	b, a
2155  0759  DD 7E 06    	ld	a,(ix+6)
2156  075C  16 00       	ld	d,0x00
2157  075E  91          	sub	a, c
2158  075F  7A          	ld	a, d
2159  0760  98          	sbc	a, b
2160  0761  30 04       	jr	NC,l_game_check_time_00102
2161  0763  2E 01       	ld	l,0x01
2162  0765  18 02       	jr	l_game_check_time_00104
2163  0767              l_game_check_time_00102:
2164  0767  2E 00       	ld	l,0x00
2165  0769              l_game_check_time_00104:
2166  0769  DD E1       	pop	ix
2167  076B  C9          	ret
2168  076C              	SECTION code_compiler
2169  076C              ;	---------------------------------
2170  076C              ; Function game_rotate_attrib
2171  076C              ; ---------------------------------
2172  076C              _game_rotate_attrib:
2173  076C  3E 07       	ld	a,0x07
2174  076E  21 00 00    	ld	hl,_last_rotated
2175  0771  96          	sub	a, (hl)
2176  0772  30 02       	jr	NC,l_game_rotate_attrib_00102
2177  0774  36 00       	ld	(hl),0x00
2178  0776              l_game_rotate_attrib_00102:
2179  0776  3A 00 00    	ld	a,(_last_rotated)
2180  0779  32 00 00    	ld	(_tmp_uc),a
2181  077C              l_game_rotate_attrib_00110:
2182  077C  21 00 00    	ld	hl,_tmp_uc
2183  077F  7E          	ld	a, (hl)
2184  0780  D6 08       	sub	a,0x08
2185  0782  30 5C       	jr	NC,l_game_rotate_attrib_00112
2186  0784  3E 00       	ld	a, +((_obj_col) & 0xFF)
2187  0786  86          	add	a, (hl)
2188  0787  4F          	ld	c, a
2189  0788  3E 00       	ld	a, +((_obj_col) / 256)
2190  078A  CE 00       	adc	a,0x00
2191  078C  47          	ld	b, a
2192  078D  0A          	ld	a, (bc)
2193  078E  4F          	ld	c,a
2194  078F  B7          	or	a, a
2195  0790  28 44       	jr	Z,l_game_rotate_attrib_00106
2196  0792  7E          	ld	a, (hl)
2197  0793  3C          	inc	a
2198  0794  32 00 00    	ld	(_last_rotated),a
2199  0797  2A 00 00    	ld	hl,(_tmp_uc)
2200  079A  26 00       	ld	h,0x00
2201  079C  11 00 00    	ld	de,_obj_lin
2202  079F  19          	add	hl,de
2203  07A0  46          	ld	b, (hl)
2204  07A1  79          	ld	a, c
2205  07A2  48          	ld	c,b
2206  07A3  47          	ld	b,a
2207  07A4  C5          	push	bc
2208  07A5  21 00 00    	ld	hl,_attrib8
2209  07A8  E5          	push	hl
2210  07A9  CD 00 00    	call	_NIRVANAP_paintC_callee
2211  07AC  3A 00 00    	ld	a,(_game_attrib_osd)
2212  07AF  D6 07       	sub	a,0x07
2213  07B1  20 05       	jr	NZ,l_game_rotate_attrib_00104
2214  07B3  21 00 00    	ld	hl,_game_attrib_osd
2215  07B6  36 01       	ld	(hl),0x01
2216  07B8              l_game_rotate_attrib_00104:
2217  07B8  21 00 00    	ld	hl,_game_attrib_osd
2218  07BB  34          	inc	(hl)
2219  07BC  3A 00 00    	ld	a,(_map_paper)
2220  07BF  21 00 00    	ld	hl,_game_attrib_osd
2221  07C2  B6          	or	a, (hl)
2222  07C3  32 00 00    	ld	(_attrib8),a
2223  07C6  32 01 00    	ld	((_attrib8 + 0x0001)),a
2224  07C9  32 02 00    	ld	((_attrib8 + 0x0002)),a
2225  07CC  32 03 00    	ld	((_attrib8 + 0x0003)),a
2226  07CF  21 00 00    	ld	hl,_tmp_uc
2227  07D2  36 08       	ld	(hl),0x08
2228  07D4  18 04       	jr	l_game_rotate_attrib_00111
2229  07D6              l_game_rotate_attrib_00106:
2230  07D6  21 00 00    	ld	hl,_last_rotated
2231  07D9  34          	inc	(hl)
2232  07DA              l_game_rotate_attrib_00111:
2233  07DA  21 00 00    	ld	hl,_tmp_uc
2234  07DD  34          	inc	(hl)
2235  07DE  18 9C       	jr	l_game_rotate_attrib_00110
2236  07E0              l_game_rotate_attrib_00112:
2237  07E0  C9          	ret
2238  07E1              	SECTION code_compiler
2239  07E1              ;	---------------------------------
2240  07E1              ; Function game_rotate_attrib_osd
2241  07E1              ; ---------------------------------
2242  07E1              _game_rotate_attrib_osd:
2243  07E1  3A 00 00    	ld	a,(_game_attrib_osd)
2244  07E4  D6 07       	sub	a,0x07
2245  07E6  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2246  07E8  21 00 00    	ld	hl,_game_attrib_osd
2247  07EB  36 01       	ld	(hl),0x01
2248  07ED              l_game_rotate_attrib_osd_00102:
2249  07ED  21 00 00    	ld	hl,_game_attrib_osd
2250  07F0  7E          	ld	a,(hl)
2251  07F1  3C          	inc	a
2252  07F2  77          	ld	(hl),a
2253  07F3  32 00 00    	ld	(_attrib_osd),a
2254  07F6  32 01 00    	ld	((_attrib_osd + 0x0001)),a
2255  07F9  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2256  07FC  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2257  07FF  C9          	ret
2258  0800              	SECTION code_compiler
2259  0800              ;	---------------------------------
2260  0800              ; Function game_attribs
2261  0800              ; ---------------------------------
2262  0800              _game_attribs:
2263  0800  01 00 00    	ld	bc,_attrib0+0
2264  0803  21 00 00    	ld	hl,_map_paper
2265  0806  7E          	ld	a, (hl)
2266  0807  F6 41       	or	a,0x41
2267  0809  02          	ld	(bc), a
2268  080A  59          	ld	e, c
2269  080B  50          	ld	d, b
2270  080C  13          	inc	de
2271  080D  7E          	ld	a, (hl)
2272  080E  F6 41       	or	a,0x41
2273  0810  12          	ld	(de), a
2274  0811  7E          	ld	a, (hl)
2275  0812  F6 41       	or	a,0x41
2276  0814  32 02 00    	ld	((_attrib0 + 0x0002)),a
2277  0817  03          	inc	bc
2278  0818  03          	inc	bc
2279  0819  03          	inc	bc
2280  081A  21 00 00    	ld	hl,_map_paper
2281  081D  7E          	ld	a, (hl)
2282  081E  F6 43       	or	a,0x43
2283  0820  02          	ld	(bc), a
2284  0821  01 00 00    	ld	bc,_attrib1+0
2285  0824  7E          	ld	a, (hl)
2286  0825  F6 02       	or	a,0x02
2287  0827  02          	ld	(bc), a
2288  0828  59          	ld	e, c
2289  0829  50          	ld	d, b
2290  082A  13          	inc	de
2291  082B  7E          	ld	a, (hl)
2292  082C  F6 42       	or	a,0x42
2293  082E  12          	ld	(de), a
2294  082F  7E          	ld	a, (hl)
2295  0830  F6 03       	or	a,0x03
2296  0832  32 02 00    	ld	((_attrib1 + 0x0002)),a
2297  0835  03          	inc	bc
2298  0836  03          	inc	bc
2299  0837  03          	inc	bc
2300  0838  21 00 00    	ld	hl,_map_paper
2301  083B  7E          	ld	a, (hl)
2302  083C  F6 43       	or	a,0x43
2303  083E  02          	ld	(bc), a
2304  083F  01 00 00    	ld	bc,_attrib2+0
2305  0842  7E          	ld	a, (hl)
2306  0843  F6 02       	or	a,0x02
2307  0845  02          	ld	(bc), a
2308  0846  59          	ld	e, c
2309  0847  50          	ld	d, b
2310  0848  13          	inc	de
2311  0849  7E          	ld	a, (hl)
2312  084A  F6 42       	or	a,0x42
2313  084C  12          	ld	(de), a
2314  084D  7E          	ld	a, (hl)
2315  084E  F6 03       	or	a,0x03
2316  0850  32 02 00    	ld	((_attrib2 + 0x0002)),a
2317  0853  03          	inc	bc
2318  0854  03          	inc	bc
2319  0855  03          	inc	bc
2320  0856  21 00 00    	ld	hl,_map_paper
2321  0859  7E          	ld	a, (hl)
2322  085A  F6 43       	or	a,0x43
2323  085C  02          	ld	(bc), a
2324  085D  01 00 00    	ld	bc,_attrib3+0
2325  0860  7E          	ld	a, (hl)
2326  0861  F6 42       	or	a,0x42
2327  0863  02          	ld	(bc), a
2328  0864  59          	ld	e, c
2329  0865  50          	ld	d, b
2330  0866  13          	inc	de
2331  0867  7E          	ld	a, (hl)
2332  0868  F6 02       	or	a,0x02
2333  086A  12          	ld	(de), a
2334  086B  7E          	ld	a, (hl)
2335  086C  F6 03       	or	a,0x03
2336  086E  32 02 00    	ld	((_attrib3 + 0x0002)),a
2337  0871  03          	inc	bc
2338  0872  03          	inc	bc
2339  0873  03          	inc	bc
2340  0874  21 00 00    	ld	hl,_map_paper
2341  0877  7E          	ld	a, (hl)
2342  0878  F6 43       	or	a,0x43
2343  087A  02          	ld	(bc), a
2344  087B  01 00 00    	ld	bc,_attrib4+0
2345  087E  7E          	ld	a, (hl)
2346  087F  F6 57       	or	a,0x57
2347  0881  02          	ld	(bc), a
2348  0882  59          	ld	e, c
2349  0883  50          	ld	d, b
2350  0884  13          	inc	de
2351  0885  7E          	ld	a, (hl)
2352  0886  F6 56       	or	a,0x56
2353  0888  12          	ld	(de), a
2354  0889  7E          	ld	a, (hl)
2355  088A  F6 57       	or	a,0x57
2356  088C  32 02 00    	ld	((_attrib4 + 0x0002)),a
2357  088F  03          	inc	bc
2358  0890  03          	inc	bc
2359  0891  03          	inc	bc
2360  0892  21 00 00    	ld	hl,_map_paper
2361  0895  7E          	ld	a, (hl)
2362  0896  F6 56       	or	a,0x56
2363  0898  02          	ld	(bc), a
2364  0899  01 00 00    	ld	bc,_attrib5+0
2365  089C  7E          	ld	a, (hl)
2366  089D  F6 44       	or	a,0x44
2367  089F  02          	ld	(bc), a
2368  08A0  59          	ld	e, c
2369  08A1  50          	ld	d, b
2370  08A2  13          	inc	de
2371  08A3  7E          	ld	a, (hl)
2372  08A4  F6 44       	or	a,0x44
2373  08A6  12          	ld	(de), a
2374  08A7  7E          	ld	a, (hl)
2375  08A8  F6 45       	or	a,0x45
2376  08AA  32 02 00    	ld	((_attrib5 + 0x0002)),a
2377  08AD  03          	inc	bc
2378  08AE  03          	inc	bc
2379  08AF  03          	inc	bc
2380  08B0  21 00 00    	ld	hl,_map_paper
2381  08B3  7E          	ld	a, (hl)
2382  08B4  F6 45       	or	a,0x45
2383  08B6  02          	ld	(bc), a
2384  08B7  01 00 00    	ld	bc,_attrib6+0
2385  08BA  7E          	ld	a, (hl)
2386  08BB  F6 46       	or	a,0x46
2387  08BD  02          	ld	(bc), a
2388  08BE  59          	ld	e, c
2389  08BF  50          	ld	d, b
2390  08C0  13          	inc	de
2391  08C1  7E          	ld	a, (hl)
2392  08C2  F6 44       	or	a,0x44
2393  08C4  12          	ld	(de), a
2394  08C5  7E          	ld	a, (hl)
2395  08C6  F6 44       	or	a,0x44
2396  08C8  32 02 00    	ld	((_attrib6 + 0x0002)),a
2397  08CB  03          	inc	bc
2398  08CC  03          	inc	bc
2399  08CD  03          	inc	bc
2400  08CE  21 00 00    	ld	hl,_map_paper
2401  08D1  7E          	ld	a, (hl)
2402  08D2  F6 44       	or	a,0x44
2403  08D4  02          	ld	(bc), a
2404  08D5  01 00 00    	ld	bc,_attrib7+0
2405  08D8  7E          	ld	a, (hl)
2406  08D9  F6 41       	or	a,0x41
2407  08DB  02          	ld	(bc), a
2408  08DC  59          	ld	e, c
2409  08DD  50          	ld	d, b
2410  08DE  13          	inc	de
2411  08DF  7E          	ld	a, (hl)
2412  08E0  F6 05       	or	a,0x05
2413  08E2  12          	ld	(de), a
2414  08E3  7E          	ld	a, (hl)
2415  08E4  F6 45       	or	a,0x45
2416  08E6  32 02 00    	ld	((_attrib7 + 0x0002)),a
2417  08E9  03          	inc	bc
2418  08EA  03          	inc	bc
2419  08EB  03          	inc	bc
2420  08EC  21 00 00    	ld	hl,_map_paper
2421  08EF  7E          	ld	a, (hl)
2422  08F0  F6 47       	or	a,0x47
2423  08F2  02          	ld	(bc), a
2424  08F3  01 00 00    	ld	bc,_attrib8+0
2425  08F6  7E          	ld	a, (hl)
2426  08F7  F6 46       	or	a,0x46
2427  08F9  02          	ld	(bc), a
2428  08FA  59          	ld	e, c
2429  08FB  50          	ld	d, b
2430  08FC  13          	inc	de
2431  08FD  7E          	ld	a, (hl)
2432  08FE  F6 42       	or	a,0x42
2433  0900  12          	ld	(de), a
2434  0901  7E          	ld	a, (hl)
2435  0902  F6 46       	or	a,0x46
2436  0904  32 02 00    	ld	((_attrib8 + 0x0002)),a
2437  0907  03          	inc	bc
2438  0908  03          	inc	bc
2439  0909  03          	inc	bc
2440  090A  21 00 00    	ld	hl,_map_paper
2441  090D  7E          	ld	a, (hl)
2442  090E  F6 42       	or	a,0x42
2443  0910  02          	ld	(bc), a
2444  0911  01 00 00    	ld	bc,_attrib+0
2445  0914  7E          	ld	a, (hl)
2446  0915  F6 47       	or	a,0x47
2447  0917  02          	ld	(bc), a
2448  0918  59          	ld	e, c
2449  0919  50          	ld	d, b
2450  091A  13          	inc	de
2451  091B  7E          	ld	a, (hl)
2452  091C  F6 47       	or	a,0x47
2453  091E  12          	ld	(de), a
2454  091F  7E          	ld	a, (hl)
2455  0920  F6 47       	or	a,0x47
2456  0922  32 02 00    	ld	((_attrib + 0x0002)),a
2457  0925  03          	inc	bc
2458  0926  03          	inc	bc
2459  0927  03          	inc	bc
2460  0928  21 00 00    	ld	hl,_map_paper
2461  092B  7E          	ld	a, (hl)
2462  092C  F6 47       	or	a,0x47
2463  092E  02          	ld	(bc), a
2464  092F  01 00 00    	ld	bc,_attrib_hl+0
2465  0932  7E          	ld	a, (hl)
2466  0933  F6 33       	or	a,0x33
2467  0935  02          	ld	(bc), a
2468  0936  59          	ld	e, c
2469  0937  50          	ld	d, b
2470  0938  13          	inc	de
2471  0939  7E          	ld	a, (hl)
2472  093A  F6 30       	or	a,0x30
2473  093C  12          	ld	(de), a
2474  093D  7E          	ld	a, (hl)
2475  093E  F6 31       	or	a,0x31
2476  0940  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2477  0943  03          	inc	bc
2478  0944  03          	inc	bc
2479  0945  03          	inc	bc
2480  0946  21 00 00    	ld	hl,_map_paper
2481  0949  7E          	ld	a, (hl)
2482  094A  F6 30       	or	a,0x30
2483  094C  02          	ld	(bc), a
2484  094D  01 00 00    	ld	bc,_attrib_osd+0
2485  0950  7E          	ld	a, (hl)
2486  0951  F6 27       	or	a,0x27
2487  0953  02          	ld	(bc), a
2488  0954  59          	ld	e, c
2489  0955  50          	ld	d, b
2490  0956  13          	inc	de
2491  0957  7E          	ld	a, (hl)
2492  0958  F6 27       	or	a,0x27
2493  095A  12          	ld	(de), a
2494  095B  7E          	ld	a, (hl)
2495  095C  F6 27       	or	a,0x27
2496  095E  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2497  0961  03          	inc	bc
2498  0962  03          	inc	bc
2499  0963  03          	inc	bc
2500  0964  21 00 00    	ld	hl,_map_paper
2501  0967  7E          	ld	a, (hl)
2502  0968  F6 27       	or	a,0x27
2503  096A  02          	ld	(bc), a
2504  096B  01 00 00    	ld	bc,_attrib_red+0
2505  096E  7E          	ld	a, (hl)
2506  096F  F6 17       	or	a,0x17
2507  0971  02          	ld	(bc), a
2508  0972  59          	ld	e, c
2509  0973  50          	ld	d, b
2510  0974  13          	inc	de
2511  0975  7E          	ld	a, (hl)
2512  0976  F6 17       	or	a,0x17
2513  0978  12          	ld	(de), a
2514  0979  7E          	ld	a, (hl)
2515  097A  F6 17       	or	a,0x17
2516  097C  32 02 00    	ld	((_attrib_red + 0x0002)),a
2517  097F  03          	inc	bc
2518  0980  03          	inc	bc
2519  0981  03          	inc	bc
2520  0982  3A 00 00    	ld	a,(_map_paper)
2521  0985  F6 17       	or	a,0x17
2522  0987  02          	ld	(bc), a
2523  0988  C9          	ret
2524  0989              	SECTION code_compiler
2525  0989              ;	---------------------------------
2526  0989              ; Function game_page_map
2527  0989              ; ---------------------------------
2528  0989              _game_page_map:
2529  0989  CD 00 00    	call	___sdcc_enter_ix
2530  098C  21 F2 FF    	ld	hl, -14
2531  098F  39          	add	hl, sp
2532  0990  F9          	ld	sp, hl
2533  0991  21 00 00    	ld	hl,_game_world
2534  0994  4E          	ld	c, (hl)
2535  0995  3A 00 00    	ld	a,(_scr_curr)
2536  0998  DD 77 F3    	ld	(ix-13),a
2537  099B  79          	ld	a, c
2538  099C  07          	rlca
2539  099D  07          	rlca
2540  099E  07          	rlca
2541  099F  07          	rlca
2542  09A0  E6 F0       	and	a,0xf0
2543  09A2  47          	ld	b,a
2544  09A3  DD 86 F3    	add	a,(ix-13)
2545  09A6  DD 77 F2    	ld	(ix-14),a
2546  09A9  DD 36 F7 00 	ld	(ix-9),0x00
2547  09AD  DD 36 F8 00 	ld	(ix-8),0x00
2548  09B1  C5          	push	bc
2549  09B2  CD 00 00    	call	_spr_clear_scr
2550  09B5  C1          	pop	bc
2551  09B6  F3          	di
2552  09B7  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2553  09BA  36 16       	ld	(hl),0x16
2554  09BC  C5          	push	bc
2555  09BD  3E 16       	ld	a,0x16
2556  09BF  01 FD 7F    	ld	bc,_IO_7FFD
2557  09C2  ED 79       	out	(c),a
2558  09C4  C1          	pop	bc
2559  09C5  DD 7E F3    	ld	a,(ix-13)
2560  09C8  3C          	inc	a
2561  09C9  20 12       	jr	NZ,l_game_page_map_00102
2562  09CB  11 00 00    	ld	de,_start_scr0+0
2563  09CE  69          	ld	l,c
2564  09CF  26 00       	ld	h,0x00
2565  09D1  19          	add	hl, de
2566  09D2  7E          	ld	a, (hl)
2567  09D3  DD 77 F3    	ld	(ix-13),a
2568  09D6  78          	ld	a, b
2569  09D7  DD 86 F3    	add	a,(ix-13)
2570  09DA  DD 77 F2    	ld	(ix-14),a
2571  09DD              l_game_page_map_00102:
2572  09DD  01 00 00    	ld	bc,_paper0+0
2573  09E0  DD 6E F2    	ld	l,(ix-14)
2574  09E3  26 00       	ld	h,0x00
2575  09E5  09          	add	hl, bc
2576  09E6  7E          	ld	a, (hl)
2577  09E7  DD 77 F4    	ld	(ix-12),a
2578  09EA  3E 10       	ld	a,0x10
2579  09EC  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2580  09EF  01 FD 7F    	ld	bc,_IO_7FFD
2581  09F2  ED 79       	out	(c),a
2582  09F4  3E 00       	ld	a,0x00
2583  09F6  DD 77 F5    	ld	(ix-11),a
2584  09F9  DD 77 F6    	ld	(ix-10),a
2585  09FC  DD 77 F9    	ld	(ix-7),a
2586  09FF  DD 77 FA    	ld	(ix-6),a
2587  0A02              l_game_page_map_00103:
2588  0A02  DD 4E F2    	ld	c,(ix-14)
2589  0A05  06 00       	ld	b,0x00
2590  0A07  DD 7E F9    	ld	a,(ix-7)
2591  0A0A  91          	sub	a, c
2592  0A0B  DD 7E FA    	ld	a,(ix-6)
2593  0A0E  98          	sbc	a, b
2594  0A0F  30 40       	jr	NC,l_game_page_map_00105
2595  0A11  3E 16       	ld	a,0x16
2596  0A13  01 FD 7F    	ld	bc,_IO_7FFD
2597  0A16  ED 79       	out	(c),a
2598  0A18  DD 6E F9    	ld	l,(ix-7)
2599  0A1B  DD 66 FA    	ld	h,(ix-6)
2600  0A1E  01 00 00    	ld	bc,_lenght0
2601  0A21  09          	add	hl,bc
2602  0A22  DD 75 FE    	ld	(ix-2),l
2603  0A25  DD 74 FF    	ld	(ix-1),h
2604  0A28  4E          	ld	c, (hl)
2605  0A29  06 00       	ld	b,0x00
2606  0A2B  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2607  0A2E  36 10       	ld	(hl),0x10
2608  0A30  C5          	push	bc
2609  0A31  3E 10       	ld	a,0x10
2610  0A33  01 FD 7F    	ld	bc,_IO_7FFD
2611  0A36  ED 79       	out	(c),a
2612  0A38  C1          	pop	bc
2613  0A39  DD 7E F5    	ld	a,(ix-11)
2614  0A3C  81          	add	a, c
2615  0A3D  DD 77 F5    	ld	(ix-11),a
2616  0A40  DD 7E F6    	ld	a,(ix-10)
2617  0A43  88          	adc	a, b
2618  0A44  DD 77 F6    	ld	(ix-10),a
2619  0A47  DD 34 F9    	inc	(ix-7)
2620  0A4A  20 B6       	jr	NZ,l_game_page_map_00103
2621  0A4C  DD 34 FA    	inc	(ix-6)
2622  0A4F  18 B1       	jr	l_game_page_map_00103
2623  0A51              l_game_page_map_00105:
2624  0A51  01 00 00    	ld	bc,0x0000
2625  0A54              l_game_page_map_00118:
2626  0A54  C5          	push	bc
2627  0A55  3E 16       	ld	a,0x16
2628  0A57  01 FD 7F    	ld	bc,_IO_7FFD
2629  0A5A  ED 79       	out	(c),a
2630  0A5C  C1          	pop	bc
2631  0A5D  DD 6E F5    	ld	l,(ix-11)
2632  0A60  DD 66 F6    	ld	h,(ix-10)
2633  0A63  09          	add	hl,bc
2634  0A64  EB          	ex	de,hl
2635  0A65  21 00 00    	ld	hl,_world0
2636  0A68  19          	add	hl, de
2637  0A69  7E          	ld	a, (hl)
2638  0A6A  DD 77 FD    	ld	(ix-3),a
2639  0A6D  13          	inc	de
2640  0A6E  21 00 00    	ld	hl,_world0
2641  0A71  19          	add	hl, de
2642  0A72  7E          	ld	a, (hl)
2643  0A73  DD 77 FC    	ld	(ix-4),a
2644  0A76  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2645  0A79  36 10       	ld	(hl),0x10
2646  0A7B  C5          	push	bc
2647  0A7C  3E 10       	ld	a,0x10
2648  0A7E  01 FD 7F    	ld	bc,_IO_7FFD
2649  0A81  ED 79       	out	(c),a
2650  0A83  C1          	pop	bc
2651  0A84  DD 7E FD    	ld	a,(ix-3)
2652  0A87  D6 80       	sub	a,0x80
2653  0A89  30 1A       	jr	NC,l_game_page_map_00110
2654  0A8B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2655  0A8D  DD 86 F7    	add	a,(ix-9)
2656  0A90  5F          	ld	e, a
2657  0A91  3E 00       	ld	a, +((_scr_map) / 256)
2658  0A93  DD 8E F8    	adc	a,(ix-8)
2659  0A96  57          	ld	d, a
2660  0A97  DD 7E FD    	ld	a,(ix-3)
2661  0A9A  12          	ld	(de), a
2662  0A9B  DD 34 F7    	inc	(ix-9)
2663  0A9E  20 49       	jr	NZ,l_game_page_map_00111
2664  0AA0  DD 34 F8    	inc	(ix-8)
2665  0AA3  18 44       	jr	l_game_page_map_00111
2666  0AA5              l_game_page_map_00110:
2667  0AA5  DD 7E FD    	ld	a,(ix-3)
2668  0AA8  C6 80       	add	a,0x80
2669  0AAA  DD 77 FB    	ld	(ix-5),a
2670  0AAD  DD 5E F7    	ld	e,(ix-9)
2671  0AB0  DD 56 F8    	ld	d,(ix-8)
2672  0AB3  DD 36 F9 00 	ld	(ix-7),0x00
2673  0AB7  DD 36 FA 00 	ld	(ix-6),0x00
2674  0ABB              l_game_page_map_00116:
2675  0ABB  DD 6E FB    	ld	l,(ix-5)
2676  0ABE  26 00       	ld	h,0x00
2677  0AC0  DD 7E F9    	ld	a,(ix-7)
2678  0AC3  95          	sub	a, l
2679  0AC4  DD 7E FA    	ld	a,(ix-6)
2680  0AC7  9C          	sbc	a, h
2681  0AC8  30 18       	jr	NC,l_game_page_map_00132
2682  0ACA  21 00 00    	ld	hl,_scr_map
2683  0ACD  19          	add	hl, de
2684  0ACE  DD 7E FC    	ld	a,(ix-4)
2685  0AD1  77          	ld	(hl), a
2686  0AD2  13          	inc	de
2687  0AD3  7A          	ld	a, d
2688  0AD4  D6 02       	sub	a,0x02
2689  0AD6  30 0A       	jr	NC,l_game_page_map_00132
2690  0AD8  DD 34 F9    	inc	(ix-7)
2691  0ADB  20 DE       	jr	NZ,l_game_page_map_00116
2692  0ADD  DD 34 FA    	inc	(ix-6)
2693  0AE0  18 D9       	jr	l_game_page_map_00116
2694  0AE2              l_game_page_map_00132:
2695  0AE2  DD 73 F7    	ld	(ix-9),e
2696  0AE5  DD 72 F8    	ld	(ix-8),d
2697  0AE8  03          	inc	bc
2698  0AE9              l_game_page_map_00111:
2699  0AE9  DD 7E F8    	ld	a,(ix-8)
2700  0AEC  D6 02       	sub	a,0x02
2701  0AEE  30 07       	jr	NC,l_game_page_map_00114
2702  0AF0  03          	inc	bc
2703  0AF1  78          	ld	a, b
2704  0AF2  D6 02       	sub	a,0x02
2705  0AF4  DA 54 0A    	jp	C, l_game_page_map_00118
2706  0AF7              l_game_page_map_00114:
2707  0AF7  DD 7E F3    	ld	a,(ix-13)
2708  0AFA  32 00 00    	ld	(_scr_curr),a
2709  0AFD  DD 7E F4    	ld	a,(ix-12)
2710  0B00  32 00 00    	ld	(_map_paper),a
2711  0B03  FB          	ei
2712  0B04  DD F9       	ld	sp, ix
2713  0B06  DD E1       	pop	ix
2714  0B08  C9          	ret
2715  0B09              	SECTION IGNORE
2716  0000              
