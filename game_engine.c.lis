1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_flash_exit
204   0000              	GLOBAL _game_anim_conveyor
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_tick
207   0000              	GLOBAL _game_loop
208   0000              	GLOBAL _game_fps
209   0000              	GLOBAL _game_draw_map
210   0000              	GLOBAL _game_cell_paint_index
211   0000              	GLOBAL _game_cell_paint
212   0000              	GLOBAL _game_print_footer
213   0000              	GLOBAL _game_print_score
214   0000              	GLOBAL _game_cls
215   0000              	GLOBAL _game_update_stats
216   0000              	GLOBAL _game_start_timer
217   0000              	GLOBAL _game_round_init
218   0000              	GLOBAL _game_print_header
219   0000              	GLOBAL _game_check_map
220   0000              	GLOBAL _game_check_cell
221   0000              	GLOBAL _game_paint_attrib
222   0000              	GLOBAL _game_colour_message
223   0000              	GLOBAL _game_check_time
224   0000              	GLOBAL _game_highlight_coins
225   0000              	GLOBAL _game_rotate_attrib_osd
226   0000              	GLOBAL _game_attribs
227   0000              	GLOBAL _game_page_map
228   0000              ;--------------------------------------------------------
229   0000              ; Externals used
230   0000              ;--------------------------------------------------------
231   0000              	GLOBAL _ffsll_callee
232   0000              	GLOBAL _ffsll
233   0000              	GLOBAL _strxfrm_callee
234   0000              	GLOBAL _strxfrm
235   0000              	GLOBAL _strupr_fastcall
236   0000              	GLOBAL _strupr
237   0000              	GLOBAL _strtok_r_callee
238   0000              	GLOBAL _strtok_r
239   0000              	GLOBAL _strtok_callee
240   0000              	GLOBAL _strtok
241   0000              	GLOBAL _strstrip_fastcall
242   0000              	GLOBAL _strstrip
243   0000              	GLOBAL _strstr_callee
244   0000              	GLOBAL _strstr
245   0000              	GLOBAL _strspn_callee
246   0000              	GLOBAL _strspn
247   0000              	GLOBAL _strsep_callee
248   0000              	GLOBAL _strsep
249   0000              	GLOBAL _strrstrip_fastcall
250   0000              	GLOBAL _strrstrip
251   0000              	GLOBAL _strrstr_callee
252   0000              	GLOBAL _strrstr
253   0000              	GLOBAL _strrspn_callee
254   0000              	GLOBAL _strrspn
255   0000              	GLOBAL _strrev_fastcall
256   0000              	GLOBAL _strrev
257   0000              	GLOBAL _strrcspn_callee
258   0000              	GLOBAL _strrcspn
259   0000              	GLOBAL _strrchr_callee
260   0000              	GLOBAL _strrchr
261   0000              	GLOBAL _strpbrk_callee
262   0000              	GLOBAL _strpbrk
263   0000              	GLOBAL _strnlen_callee
264   0000              	GLOBAL _strnlen
265   0000              	GLOBAL _strnicmp_callee
266   0000              	GLOBAL _strnicmp
267   0000              	GLOBAL _strndup_callee
268   0000              	GLOBAL _strndup
269   0000              	GLOBAL _strncpy_callee
270   0000              	GLOBAL _strncpy
271   0000              	GLOBAL _strncmp_callee
272   0000              	GLOBAL _strncmp
273   0000              	GLOBAL _strnchr_callee
274   0000              	GLOBAL _strnchr
275   0000              	GLOBAL _strncat_callee
276   0000              	GLOBAL _strncat
277   0000              	GLOBAL _strncasecmp_callee
278   0000              	GLOBAL _strncasecmp
279   0000              	GLOBAL _strlwr_fastcall
280   0000              	GLOBAL _strlwr
281   0000              	GLOBAL _strlen_fastcall
282   0000              	GLOBAL _strlen
283   0000              	GLOBAL _strlcpy_callee
284   0000              	GLOBAL _strlcpy
285   0000              	GLOBAL _strlcat_callee
286   0000              	GLOBAL _strlcat
287   0000              	GLOBAL _stricmp_callee
288   0000              	GLOBAL _stricmp
289   0000              	GLOBAL _strerror_fastcall
290   0000              	GLOBAL _strerror
291   0000              	GLOBAL _strdup_fastcall
292   0000              	GLOBAL _strdup
293   0000              	GLOBAL _strcspn_callee
294   0000              	GLOBAL _strcspn
295   0000              	GLOBAL _strcpy_callee
296   0000              	GLOBAL _strcpy
297   0000              	GLOBAL _strcoll_callee
298   0000              	GLOBAL _strcoll
299   0000              	GLOBAL _strcmp_callee
300   0000              	GLOBAL _strcmp
301   0000              	GLOBAL _strchrnul_callee
302   0000              	GLOBAL _strchrnul
303   0000              	GLOBAL _strchr_callee
304   0000              	GLOBAL _strchr
305   0000              	GLOBAL _strcat_callee
306   0000              	GLOBAL _strcat
307   0000              	GLOBAL _strcasecmp_callee
308   0000              	GLOBAL _strcasecmp
309   0000              	GLOBAL _stpncpy_callee
310   0000              	GLOBAL _stpncpy
311   0000              	GLOBAL _stpcpy_callee
312   0000              	GLOBAL _stpcpy
313   0000              	GLOBAL _memswap_callee
314   0000              	GLOBAL _memswap
315   0000              	GLOBAL _memset_callee
316   0000              	GLOBAL _memset
317   0000              	GLOBAL _memrchr_callee
318   0000              	GLOBAL _memrchr
319   0000              	GLOBAL _memmove_callee
320   0000              	GLOBAL _memmove
321   0000              	GLOBAL _memmem_callee
322   0000              	GLOBAL _memmem
323   0000              	GLOBAL _memcpy_callee
324   0000              	GLOBAL _memcpy
325   0000              	GLOBAL _memcmp_callee
326   0000              	GLOBAL _memcmp
327   0000              	GLOBAL _memchr_callee
328   0000              	GLOBAL _memchr
329   0000              	GLOBAL _memccpy_callee
330   0000              	GLOBAL _memccpy
331   0000              	GLOBAL _ffsl_fastcall
332   0000              	GLOBAL _ffsl
333   0000              	GLOBAL _ffs_fastcall
334   0000              	GLOBAL _ffs
335   0000              	GLOBAL __strrstrip__fastcall
336   0000              	GLOBAL __strrstrip_
337   0000              	GLOBAL __memupr__callee
338   0000              	GLOBAL __memupr_
339   0000              	GLOBAL __memstrcpy__callee
340   0000              	GLOBAL __memstrcpy_
341   0000              	GLOBAL __memlwr__callee
342   0000              	GLOBAL __memlwr_
343   0000              	GLOBAL _rawmemchr_callee
344   0000              	GLOBAL _rawmemchr
345   0000              	GLOBAL _strnset_callee
346   0000              	GLOBAL _strnset
347   0000              	GLOBAL _strset_callee
348   0000              	GLOBAL _strset
349   0000              	GLOBAL _rindex_callee
350   0000              	GLOBAL _rindex
351   0000              	GLOBAL _index_callee
352   0000              	GLOBAL _index
353   0000              	GLOBAL _bzero_callee
354   0000              	GLOBAL _bzero
355   0000              	GLOBAL _bcopy_callee
356   0000              	GLOBAL _bcopy
357   0000              	GLOBAL _bcmp_callee
358   0000              	GLOBAL _bcmp
359   0000              	GLOBAL _ulltoa_callee
360   0000              	GLOBAL _ulltoa
361   0000              	GLOBAL _strtoull_callee
362   0000              	GLOBAL _strtoull
363   0000              	GLOBAL _strtoll_callee
364   0000              	GLOBAL _strtoll
365   0000              	GLOBAL _lltoa_callee
366   0000              	GLOBAL _lltoa
367   0000              	GLOBAL _llabs_callee
368   0000              	GLOBAL _llabs
369   0000              	GLOBAL __lldivu__callee
370   0000              	GLOBAL __lldivu_
371   0000              	GLOBAL __lldiv__callee
372   0000              	GLOBAL __lldiv_
373   0000              	GLOBAL _atoll_callee
374   0000              	GLOBAL _atoll
375   0000              	GLOBAL _realloc_unlocked_callee
376   0000              	GLOBAL _realloc_unlocked
377   0000              	GLOBAL _malloc_unlocked_fastcall
378   0000              	GLOBAL _malloc_unlocked
379   0000              	GLOBAL _free_unlocked_fastcall
380   0000              	GLOBAL _free_unlocked
381   0000              	GLOBAL _calloc_unlocked_callee
382   0000              	GLOBAL _calloc_unlocked
383   0000              	GLOBAL _aligned_alloc_unlocked_callee
384   0000              	GLOBAL _aligned_alloc_unlocked
385   0000              	GLOBAL _realloc_callee
386   0000              	GLOBAL _realloc
387   0000              	GLOBAL _malloc_fastcall
388   0000              	GLOBAL _malloc
389   0000              	GLOBAL _free_fastcall
390   0000              	GLOBAL _free
391   0000              	GLOBAL _calloc_callee
392   0000              	GLOBAL _calloc
393   0000              	GLOBAL _aligned_alloc_callee
394   0000              	GLOBAL _aligned_alloc
395   0000              	GLOBAL _utoa_callee
396   0000              	GLOBAL _utoa
397   0000              	GLOBAL _ultoa_callee
398   0000              	GLOBAL _ultoa
399   0000              	GLOBAL _system_fastcall
400   0000              	GLOBAL _system
401   0000              	GLOBAL _strtoul_callee
402   0000              	GLOBAL _strtoul
403   0000              	GLOBAL _strtol_callee
404   0000              	GLOBAL _strtol
405   0000              	GLOBAL _strtof_callee
406   0000              	GLOBAL _strtof
407   0000              	GLOBAL _strtod_callee
408   0000              	GLOBAL _strtod
409   0000              	GLOBAL _srand_fastcall
410   0000              	GLOBAL _srand
411   0000              	GLOBAL _rand
412   0000              	GLOBAL _quick_exit_fastcall
413   0000              	GLOBAL _quick_exit
414   0000              	GLOBAL _qsort_callee
415   0000              	GLOBAL _qsort
416   0000              	GLOBAL _ltoa_callee
417   0000              	GLOBAL _ltoa
418   0000              	GLOBAL _labs_fastcall
419   0000              	GLOBAL _labs
420   0000              	GLOBAL _itoa_callee
421   0000              	GLOBAL _itoa
422   0000              	GLOBAL _ftoh_callee
423   0000              	GLOBAL _ftoh
424   0000              	GLOBAL _ftog_callee
425   0000              	GLOBAL _ftog
426   0000              	GLOBAL _ftoe_callee
427   0000              	GLOBAL _ftoe
428   0000              	GLOBAL _ftoa_callee
429   0000              	GLOBAL _ftoa
430   0000              	GLOBAL _exit_fastcall
431   0000              	GLOBAL _exit
432   0000              	GLOBAL _dtoh_callee
433   0000              	GLOBAL _dtoh
434   0000              	GLOBAL _dtog_callee
435   0000              	GLOBAL _dtog
436   0000              	GLOBAL _dtoe_callee
437   0000              	GLOBAL _dtoe
438   0000              	GLOBAL _dtoa_callee
439   0000              	GLOBAL _dtoa
440   0000              	GLOBAL _bsearch_callee
441   0000              	GLOBAL _bsearch
442   0000              	GLOBAL _atol_fastcall
443   0000              	GLOBAL _atol
444   0000              	GLOBAL _atoi_fastcall
445   0000              	GLOBAL _atoi
446   0000              	GLOBAL _atof_fastcall
447   0000              	GLOBAL _atof
448   0000              	GLOBAL _atexit_fastcall
449   0000              	GLOBAL _atexit
450   0000              	GLOBAL _at_quick_exit_fastcall
451   0000              	GLOBAL _at_quick_exit
452   0000              	GLOBAL _abs_fastcall
453   0000              	GLOBAL _abs
454   0000              	GLOBAL _abort
455   0000              	GLOBAL __strtou__callee
456   0000              	GLOBAL __strtou_
457   0000              	GLOBAL __strtoi__callee
458   0000              	GLOBAL __strtoi_
459   0000              	GLOBAL __random_uniform_xor_8__fastcall
460   0000              	GLOBAL __random_uniform_xor_8_
461   0000              	GLOBAL __random_uniform_xor_32__fastcall
462   0000              	GLOBAL __random_uniform_xor_32_
463   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
464   0000              	GLOBAL __random_uniform_cmwc_8_
465   0000              	GLOBAL __shellsort__callee
466   0000              	GLOBAL __shellsort_
467   0000              	GLOBAL __quicksort__callee
468   0000              	GLOBAL __quicksort_
469   0000              	GLOBAL __insertion_sort__callee
470   0000              	GLOBAL __insertion_sort_
471   0000              	GLOBAL __ldivu__callee
472   0000              	GLOBAL __ldivu_
473   0000              	GLOBAL __ldiv__callee
474   0000              	GLOBAL __ldiv_
475   0000              	GLOBAL __divu__callee
476   0000              	GLOBAL __divu_
477   0000              	GLOBAL __div__callee
478   0000              	GLOBAL __div_
479   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
480   0000              	GLOBAL _NIRVANAP_drawTW_raw
481   0000              	GLOBAL _NIRVANAP_drawTW_callee
482   0000              	GLOBAL _NIRVANAP_drawTW
483   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
484   0000              	GLOBAL _NIRVANAP_drawW_raw
485   0000              	GLOBAL _NIRVANAP_drawW_callee
486   0000              	GLOBAL _NIRVANAP_drawW
487   0000              	GLOBAL _NIRVANAP_spriteT_callee
488   0000              	GLOBAL _NIRVANAP_spriteT
489   0000              	GLOBAL _NIRVANAP_fillC_callee
490   0000              	GLOBAL _NIRVANAP_fillC
491   0000              	GLOBAL _NIRVANAP_readC_callee
492   0000              	GLOBAL _NIRVANAP_readC
493   0000              	GLOBAL _NIRVANAP_paintC_callee
494   0000              	GLOBAL _NIRVANAP_paintC
495   0000              	GLOBAL _NIRVANAP_printC_callee
496   0000              	GLOBAL _NIRVANAP_printC
497   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
498   0000              	GLOBAL _NIRVANAP_fillT_raw
499   0000              	GLOBAL _NIRVANAP_fillT_callee
500   0000              	GLOBAL _NIRVANAP_fillT
501   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
502   0000              	GLOBAL _NIRVANAP_drawT_raw
503   0000              	GLOBAL _NIRVANAP_drawT_callee
504   0000              	GLOBAL _NIRVANAP_drawT
505   0000              	GLOBAL _NIRVANAP_stop
506   0000              	GLOBAL _NIRVANAP_start
507   0000              	GLOBAL _zx_print_str
508   0000              	GLOBAL _zx_print_int
509   0000              	GLOBAL _zx_print_chr
510   0000              	GLOBAL _zx_isr
511   0000              	GLOBAL _z80_otdr_callee
512   0000              	GLOBAL _z80_otdr
513   0000              	GLOBAL _z80_otir_callee
514   0000              	GLOBAL _z80_otir
515   0000              	GLOBAL _z80_outp_callee
516   0000              	GLOBAL _z80_outp
517   0000              	GLOBAL _z80_indr_callee
518   0000              	GLOBAL _z80_indr
519   0000              	GLOBAL _z80_inir_callee
520   0000              	GLOBAL _z80_inir
521   0000              	GLOBAL _z80_inp_fastcall
522   0000              	GLOBAL _z80_inp
523   0000              	GLOBAL _z80_set_int_state_fastcall
524   0000              	GLOBAL _z80_set_int_state
525   0000              	GLOBAL _z80_get_int_state
526   0000              	GLOBAL _z80_delay_tstate_fastcall
527   0000              	GLOBAL _z80_delay_tstate
528   0000              	GLOBAL _z80_delay_ms_fastcall
529   0000              	GLOBAL _z80_delay_ms
530   0000              	GLOBAL _im2_remove_generic_callback_callee
531   0000              	GLOBAL _im2_remove_generic_callback
532   0000              	GLOBAL _im2_prepend_generic_callback_callee
533   0000              	GLOBAL _im2_prepend_generic_callback
534   0000              	GLOBAL _im2_append_generic_callback_callee
535   0000              	GLOBAL _im2_append_generic_callback
536   0000              	GLOBAL _im2_create_generic_isr_8080_callee
537   0000              	GLOBAL _im2_create_generic_isr_8080
538   0000              	GLOBAL _im2_create_generic_isr_callee
539   0000              	GLOBAL _im2_create_generic_isr
540   0000              	GLOBAL _im2_install_isr_callee
541   0000              	GLOBAL _im2_install_isr
542   0000              	GLOBAL _im2_init_fastcall
543   0000              	GLOBAL _im2_init
544   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
545   0000              	GLOBAL _intrinsic_swap_word_32
546   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
547   0000              	GLOBAL _intrinsic_swap_endian_32
548   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
549   0000              	GLOBAL _intrinsic_swap_endian_16
550   0000              	GLOBAL _intrinsic_return_de
551   0000              	GLOBAL _intrinsic_return_bc
552   0000              	GLOBAL _intrinsic_exx
553   0000              	GLOBAL _intrinsic_ex_de_hl
554   0000              	GLOBAL _intrinsic_nop
555   0000              	GLOBAL _intrinsic_im_2
556   0000              	GLOBAL _intrinsic_im_1
557   0000              	GLOBAL _intrinsic_im_0
558   0000              	GLOBAL _intrinsic_retn
559   0000              	GLOBAL _intrinsic_reti
560   0000              	GLOBAL _intrinsic_halt
561   0000              	GLOBAL _intrinsic_ei
562   0000              	GLOBAL _intrinsic_di
563   0000              	GLOBAL _intrinsic_stub
564   0000              	GLOBAL _intrinsic_ini
565   0000              	GLOBAL _intrinsic_outi
566   0000              	GLOBAL _intrinsic_ldi
567   0000              	GLOBAL _zx_pattern_fill_callee
568   0000              	GLOBAL _zx_pattern_fill
569   0000              	GLOBAL _zx_saddrpup_fastcall
570   0000              	GLOBAL _zx_saddrpup
571   0000              	GLOBAL _zx_saddrpright_callee
572   0000              	GLOBAL _zx_saddrpright
573   0000              	GLOBAL _zx_saddrpleft_callee
574   0000              	GLOBAL _zx_saddrpleft
575   0000              	GLOBAL _zx_saddrpdown_fastcall
576   0000              	GLOBAL _zx_saddrpdown
577   0000              	GLOBAL _zx_saddrcup_fastcall
578   0000              	GLOBAL _zx_saddrcup
579   0000              	GLOBAL _zx_saddrcright_fastcall
580   0000              	GLOBAL _zx_saddrcright
581   0000              	GLOBAL _zx_saddrcleft_fastcall
582   0000              	GLOBAL _zx_saddrcleft
583   0000              	GLOBAL _zx_saddrcdown_fastcall
584   0000              	GLOBAL _zx_saddrcdown
585   0000              	GLOBAL _zx_saddr2py_fastcall
586   0000              	GLOBAL _zx_saddr2py
587   0000              	GLOBAL _zx_saddr2px_fastcall
588   0000              	GLOBAL _zx_saddr2px
589   0000              	GLOBAL _zx_saddr2cy_fastcall
590   0000              	GLOBAL _zx_saddr2cy
591   0000              	GLOBAL _zx_saddr2cx_fastcall
592   0000              	GLOBAL _zx_saddr2cx
593   0000              	GLOBAL _zx_saddr2aaddr_fastcall
594   0000              	GLOBAL _zx_saddr2aaddr
595   0000              	GLOBAL _zx_py2saddr_fastcall
596   0000              	GLOBAL _zx_py2saddr
597   0000              	GLOBAL _zx_py2aaddr_fastcall
598   0000              	GLOBAL _zx_py2aaddr
599   0000              	GLOBAL _zx_pxy2saddr_callee
600   0000              	GLOBAL _zx_pxy2saddr
601   0000              	GLOBAL _zx_pxy2aaddr_callee
602   0000              	GLOBAL _zx_pxy2aaddr
603   0000              	GLOBAL _zx_px2bitmask_fastcall
604   0000              	GLOBAL _zx_px2bitmask
605   0000              	GLOBAL _zx_cy2saddr_fastcall
606   0000              	GLOBAL _zx_cy2saddr
607   0000              	GLOBAL _zx_cy2aaddr_fastcall
608   0000              	GLOBAL _zx_cy2aaddr
609   0000              	GLOBAL _zx_cxy2saddr_callee
610   0000              	GLOBAL _zx_cxy2saddr
611   0000              	GLOBAL _zx_cxy2aaddr_callee
612   0000              	GLOBAL _zx_cxy2aaddr
613   0000              	GLOBAL _zx_bitmask2px_fastcall
614   0000              	GLOBAL _zx_bitmask2px
615   0000              	GLOBAL _zx_aaddrcup_fastcall
616   0000              	GLOBAL _zx_aaddrcup
617   0000              	GLOBAL _zx_aaddrcright_fastcall
618   0000              	GLOBAL _zx_aaddrcright
619   0000              	GLOBAL _zx_aaddrcleft_fastcall
620   0000              	GLOBAL _zx_aaddrcleft
621   0000              	GLOBAL _zx_aaddrcdown_fastcall
622   0000              	GLOBAL _zx_aaddrcdown
623   0000              	GLOBAL _zx_aaddr2saddr_fastcall
624   0000              	GLOBAL _zx_aaddr2saddr
625   0000              	GLOBAL _zx_aaddr2py_fastcall
626   0000              	GLOBAL _zx_aaddr2py
627   0000              	GLOBAL _zx_aaddr2px_fastcall
628   0000              	GLOBAL _zx_aaddr2px
629   0000              	GLOBAL _zx_aaddr2cy_fastcall
630   0000              	GLOBAL _zx_aaddr2cy
631   0000              	GLOBAL _zx_aaddr2cx_fastcall
632   0000              	GLOBAL _zx_aaddr2cx
633   0000              	GLOBAL _zx_visit_wc_pix_callee
634   0000              	GLOBAL _zx_visit_wc_pix
635   0000              	GLOBAL _zx_visit_wc_attr_callee
636   0000              	GLOBAL _zx_visit_wc_attr
637   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
638   0000              	GLOBAL _zx_scroll_wc_up_pix
639   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
640   0000              	GLOBAL _zx_scroll_wc_up_attr
641   0000              	GLOBAL _zx_scroll_wc_up_callee
642   0000              	GLOBAL _zx_scroll_wc_up
643   0000              	GLOBAL _zx_scroll_up_pix_callee
644   0000              	GLOBAL _zx_scroll_up_pix
645   0000              	GLOBAL _zx_scroll_up_attr_callee
646   0000              	GLOBAL _zx_scroll_up_attr
647   0000              	GLOBAL _zx_scroll_up_callee
648   0000              	GLOBAL _zx_scroll_up
649   0000              	GLOBAL _zx_cls_wc_pix_callee
650   0000              	GLOBAL _zx_cls_wc_pix
651   0000              	GLOBAL _zx_cls_wc_attr_callee
652   0000              	GLOBAL _zx_cls_wc_attr
653   0000              	GLOBAL _zx_cls_wc_callee
654   0000              	GLOBAL _zx_cls_wc
655   0000              	GLOBAL _zx_cls_pix_fastcall
656   0000              	GLOBAL _zx_cls_pix
657   0000              	GLOBAL _zx_cls_attr_fastcall
658   0000              	GLOBAL _zx_cls_attr
659   0000              	GLOBAL _zx_cls_fastcall
660   0000              	GLOBAL _zx_cls
661   0000              	GLOBAL _zx_border_fastcall
662   0000              	GLOBAL _zx_border
663   0000              	GLOBAL _zx_tape_verify_block_callee
664   0000              	GLOBAL _zx_tape_verify_block
665   0000              	GLOBAL _zx_tape_save_block_callee
666   0000              	GLOBAL _zx_tape_save_block
667   0000              	GLOBAL _zx_tape_load_block_callee
668   0000              	GLOBAL _zx_tape_load_block
669   0000              	GLOBAL _spr_draw8
670   0000              	GLOBAL _spr_destroy
671   0000              	GLOBAL _spr_unflattenP1
672   0000              	GLOBAL _spr_flatten
673   0000              	GLOBAL _spr_btile_paint_back
674   0000              	GLOBAL _spr_init_effects
675   0000              	GLOBAL _spr_turn_horizontal
676   0000              	GLOBAL _spr_play_anim
677   0000              	GLOBAL _spr_add_anim
678   0000              	GLOBAL _spr_clear_scr
679   0000              	GLOBAL _spr_back_repaint
680   0000              	GLOBAL _spr_get_tile_dir
681   0000              	GLOBAL _spr_get_tile
682   0000              	GLOBAL _spr_paint_player
683   0000              	GLOBAL _spr_paint
684   0000              	GLOBAL _spr_move_left
685   0000              	GLOBAL _spr_move_right
686   0000              	GLOBAL _spr_move_left_f
687   0000              	GLOBAL _spr_move_right_f
688   0000              	GLOBAL _spr_move_horizontal
689   0000              	GLOBAL _spr_move_down_f
690   0000              	GLOBAL _spr_move_up_f
691   0000              	GLOBAL _spr_move_down
692   0000              	GLOBAL _spr_move_up
693   0000              	GLOBAL _spr_set_right
694   0000              	GLOBAL _spr_set_left
695   0000              	GLOBAL _spr_set_down
696   0000              	GLOBAL _spr_set_up
697   0000              	GLOBAL _spr_calc_index
698   0000              	GLOBAL _spr_chktime
699   0000              	GLOBAL _player_use_floor
700   0000              	GLOBAL _player_lost_life
701   0000              	GLOBAL _player_move_jump
702   0000              	GLOBAL _player_tile
703   0000              	GLOBAL _player_pick_exit
704   0000              	GLOBAL _player_pick_deadly
705   0000              	GLOBAL _player_pick_item
706   0000              	GLOBAL _player_check_ceil
707   0000              	GLOBAL _player_check_floor
708   0000              	GLOBAL _player_score_add
709   0000              	GLOBAL _player_move_walk
710   0000              	GLOBAL _player_turn
711   0000              	GLOBAL _player_move
712   0000              	GLOBAL _player_check_input
713   0000              	GLOBAL _player_init
714   0000              	GLOBAL _menu_define_key
715   0000              	GLOBAL _menu_redefine
716   0000              	GLOBAL _menu_main_print
717   0000              	GLOBAL _menu_main
718   0000              	GLOBAL _game_fill_row
719   0000              	GLOBAL _enemy_avoid_dead
720   0000              	GLOBAL _enemy_avoid_fall
721   0000              	GLOBAL _enemy_kill
722   0000              	GLOBAL _enemy_init
723   0000              	GLOBAL _enemy_move
724   0000              	GLOBAL _enemy_turn
725   0000              	GLOBAL _enemy_static
726   0000              	GLOBAL _enemy_walk
727   0000              	GLOBAL _enemy_horizontal
728   0000              	GLOBAL _enemy_vertical
729   0000              	GLOBAL _ay_reset
730   0000              	GLOBAL _ay_song_stop
731   0000              	GLOBAL _ay_song_play
732   0000              	GLOBAL _ay_fx_stop
733   0000              	GLOBAL _ay_fx_play
734   0000              	GLOBAL _ay_is_playing
735   0000              	GLOBAL _audio_levelup
736   0000              	GLOBAL _audio_menu
737   0000              	GLOBAL _audio_game_end
738   0000              	GLOBAL _audio_level_complete
739   0000              	GLOBAL _audio_level_start
740   0000              	GLOBAL _audio_lotr_lose_a_life
741   0000              	GLOBAL _audio_puerta
742   0000              	GLOBAL _audio_sin_mana
743   0000              	GLOBAL _audio_magic1
744   0000              	GLOBAL _audio_coin
745   0000              	GLOBAL _audio_golpe
746   0000              	GLOBAL _audio_salto
747   0000              	GLOBAL _audio_efecto
748   0000              	GLOBAL _audio_disparo_fire
749   0000              	GLOBAL _audio_disparo_axe
750   0000              	GLOBAL _audio_disparo2
751   0000              	GLOBAL _audio_disparo1
752   0000              	GLOBAL _audio_explosion1
753   0000              	GLOBAL _audio_explosion
754   0000              	GLOBAL _audio_ingame
755   0000              	GLOBAL _test_func
756   0000              	GLOBAL _test_proc
757   0000              	GLOBAL _in_mouse_kempston_wheel_delta
758   0000              	GLOBAL _in_mouse_kempston_wheel
759   0000              	GLOBAL _in_mouse_kempston_callee
760   0000              	GLOBAL _in_mouse_kempston
761   0000              	GLOBAL _in_mouse_kempston_setpos_callee
762   0000              	GLOBAL _in_mouse_kempston_setpos
763   0000              	GLOBAL _in_mouse_kempston_reset
764   0000              	GLOBAL _in_mouse_kempston_init
765   0000              	GLOBAL _in_mouse_amx_wheel_delta
766   0000              	GLOBAL _in_mouse_amx_wheel
767   0000              	GLOBAL _in_mouse_amx_callee
768   0000              	GLOBAL _in_mouse_amx
769   0000              	GLOBAL _in_mouse_amx_setpos_callee
770   0000              	GLOBAL _in_mouse_amx_setpos
771   0000              	GLOBAL _in_mouse_amx_reset
772   0000              	GLOBAL _in_mouse_amx_init_callee
773   0000              	GLOBAL _in_mouse_amx_init
774   0000              	GLOBAL _in_stick_sinclair2
775   0000              	GLOBAL _in_stick_sinclair1
776   0000              	GLOBAL _in_stick_kempston
777   0000              	GLOBAL _in_stick_fuller
778   0000              	GLOBAL _in_stick_cursor
779   0000              	GLOBAL _in_stick_keyboard_fastcall
780   0000              	GLOBAL _in_stick_keyboard
781   0000              	GLOBAL _in_wait_nokey
782   0000              	GLOBAL _in_wait_key
783   0000              	GLOBAL _in_test_key
784   0000              	GLOBAL _in_pause_fastcall
785   0000              	GLOBAL _in_pause
786   0000              	GLOBAL _in_key_scancode_fastcall
787   0000              	GLOBAL _in_key_scancode
788   0000              	GLOBAL _in_key_pressed_fastcall
789   0000              	GLOBAL _in_key_pressed
790   0000              	GLOBAL _in_inkey
791   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
792   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
793   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
794   0000              	GLOBAL _NIRVANAP_HOLE
795   0000              	GLOBAL _NIRVANAP_ISR_HOOK
796   0000              	GLOBAL _scan_map
797   0000              	GLOBAL _map_paper_last_a
798   0000              	GLOBAL _map_paper_last
799   0000              	GLOBAL _map_paper_clr
800   0000              	GLOBAL _map_paper
801   0000              	GLOBAL _anim_count
802   0000              	GLOBAL _anim_loop
803   0000              	GLOBAL _anim_end
804   0000              	GLOBAL _anim_int
805   0000              	GLOBAL _anim_tile
806   0000              	GLOBAL _anim_col
807   0000              	GLOBAL _anim_lin
808   0000              	GLOBAL _map_heigth
809   0000              	GLOBAL _map_width
810   0000              	GLOBAL _scr_curr
811   0000              	GLOBAL _scr_map
812   0000              	GLOBAL _spr_kind
813   0000              	GLOBAL _spr_frames
814   0000              	GLOBAL _spr_speed
815   0000              	GLOBAL _spr_tile
816   0000              	GLOBAL _screen_ink
817   0000              	GLOBAL _screen_paper
818   0000              	GLOBAL _game_start_scr
819   0000              	GLOBAL _game_score_top
820   0000              	GLOBAL _player_coins
821   0000              	GLOBAL _player_lives
822   0000              	GLOBAL _game_over
823   0000              	GLOBAL _game_sound
824   0000              	GLOBAL _game_inf_lives
825   0000              	GLOBAL _game_inmune
826   0000              	GLOBAL _sprite_curr_index
827   0000              	GLOBAL _spr_count
828   0000              	GLOBAL _last_rotated
829   0000              	GLOBAL _anim_time
830   0000              	GLOBAL _frame_time
831   0000              	GLOBAL _curr_time
832   0000              	GLOBAL _game_conveyor_flag
833   0000              	GLOBAL _game_conveyor_tile
834   0000              	GLOBAL _p_state_a
835   0000              	GLOBAL _p_state
836   0000              	GLOBAL _attrib_key
837   0000              	GLOBAL _game_attrib_osd
838   0000              	GLOBAL _attrib_osd
839   0000              	GLOBAL _attrib_hl
840   0000              	GLOBAL _attrib
841   0000              	GLOBAL _zx_val_asm
842   0000              	GLOBAL _enemies
843   0000              	GLOBAL _tmp_ui
844   0000              	GLOBAL _tmp_sc
845   0000              	GLOBAL _tmp_uc
846   0000              	GLOBAL _tmp1
847   0000              	GLOBAL _tmp0
848   0000              	GLOBAL _tmp
849   0000              	GLOBAL _index1
850   0000              	GLOBAL _index0
851   0000              	GLOBAL _index_tmp
852   0000              	GLOBAL _loop_count
853   0000              	GLOBAL _s_class
854   0000              	GLOBAL _s_row1
855   0000              	GLOBAL _s_col1
856   0000              	GLOBAL _s_col0
857   0000              	GLOBAL _s_lin1
858   0000              	GLOBAL _s_lin0
859   0000              	GLOBAL _s_tile1
860   0000              	GLOBAL _s_tile0
861   0000              	GLOBAL _nirv_sprite_index
862   0000              	GLOBAL _player_kill_index
863   0000              	GLOBAL _player_killed
864   0000              	GLOBAL _player_jump_top
865   0000              	GLOBAL _game_fps_show
866   0000              	GLOBAL _game_debug
867   0000              	GLOBAL _sprite
868   0000              	GLOBAL _fps
869   0000              	GLOBAL _game_tileset
870   0000              	GLOBAL _menu_curr_sel
871   0000              	GLOBAL _game_round_up
872   0000              	GLOBAL _game_playing
873   0000              	GLOBAL _game_exit_lin
874   0000              	GLOBAL _game_exit_col
875   0000              	GLOBAL _game_conveyor_col1
876   0000              	GLOBAL _game_conveyor_col0
877   0000              	GLOBAL _game_conveyor_lin
878   0000              	GLOBAL _game_conveyor_dir
879   0000              	GLOBAL _game_song_play_start
880   0000              	GLOBAL _game_song_play
881   0000              	GLOBAL _game_world
882   0000              	GLOBAL _game_gravity
883   0000              	GLOBAL _player_jumpcount
884   0000              	GLOBAL _player_hit
885   0000              	GLOBAL _player_hit_time
886   0000              	GLOBAL _player_lin_scr
887   0000              	GLOBAL _player_col_scr
888   0000              	GLOBAL _player_vel_inc
889   0000              	GLOBAL _player_vel_y0
890   0000              	GLOBAL _player_vel_y
891   0000              	GLOBAL _player_score
892   0000              	GLOBAL _tbuffer
893   0000              	GLOBAL _obj_count
894   0000              	GLOBAL _obj_ink
895   0000              	GLOBAL _obj_col
896   0000              	GLOBAL _obj_lin
897   0000              	GLOBAL _spr_timer
898   0000              	GLOBAL _last_time
899   0000              	GLOBAL _colint
900   0000              	GLOBAL _col
901   0000              	GLOBAL _lin
902   0000              	GLOBAL _tile
903   0000              	GLOBAL _value_b
904   0000              	GLOBAL _value_a
905   0000              	GLOBAL _state_a
906   0000              	GLOBAL _state
907   0000              	GLOBAL _class
908   0000              	GLOBAL _dirs
909   0000              	GLOBAL _k1
910   0000              	GLOBAL _joyfunc2
911   0000              	GLOBAL _joyfunc1
912   0000              	GLOBAL _btiles
913   0000              	GLOBAL _v3
914   0000              	GLOBAL _v2
915   0000              	GLOBAL _v1
916   0000              	GLOBAL _v0
917   0000              	GLOBAL _i
918   0000              	GLOBAL _spec128
919   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
920   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
921   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
922   0000              	GLOBAL _ay_fx_06_disparo_fire
923   0000              	GLOBAL _ay_fx_06_disparo_axe
924   0000              	GLOBAL _ay_fx_06_explosion1
925   0000              	GLOBAL _ay_fx_06_efecto
926   0000              	GLOBAL _ay_fx_06_disparo2
927   0000              	GLOBAL _ay_fx_06_disparo1
928   0000              	GLOBAL _ay_fx_06_levelup
929   0000              	GLOBAL _ay_fx_06_magic
930   0000              	GLOBAL _ay_fx_06_sin_mana
931   0000              	GLOBAL _ay_fx_06_salto
932   0000              	GLOBAL _ay_fx_06_puerta
933   0000              	GLOBAL _ay_fx_06_magic1
934   0000              	GLOBAL _ay_fx_06_golpe
935   0000              	GLOBAL _ay_fx_06_explosion
936   0000              	GLOBAL _ay_fx_06_dano_por_toque
937   0000              	GLOBAL _ay_fx_06_coin
938   0000              	GLOBAL _ay_song_06_lotr_level_start
939   0000              	GLOBAL _ay_song_06_lotr_level_complete
940   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
941   0000              	GLOBAL _ay_song_04_ingame0
942   0000              	GLOBAL _ay_song_04_ingame
943   0000              	GLOBAL _hibtiles
944   0000              	GLOBAL _key_map
945   0000              	GLOBAL _paper0
946   0000              	GLOBAL _lenght0
947   0000              	GLOBAL _world0
948   0000              	GLOBAL _spr_init
949   0000              ;--------------------------------------------------------
950   0000              ; special function registers
951   0000              ;--------------------------------------------------------
952   0000              defc _IO_FE	=	0x00fe
953   0000              defc _IO_1FFD	=	0x1ffd
954   0000              defc _IO_7FFD	=	0x7ffd
955   0000              ;--------------------------------------------------------
956   0000              ; ram data
957   0000              ;--------------------------------------------------------
958   0000              	SECTION bss_compiler
959   0000              ;--------------------------------------------------------
960   0000              ; ram data
961   0000              ;--------------------------------------------------------
962   0000              
963   0000              IF 0
964   0000              
965   0000              ; .area _INITIALIZED removed by z88dk
966   0000              
967   0000              
968   0000              ENDIF
969   0000              
970   0000              ;--------------------------------------------------------
971   0000              ; absolute external ram data
972   0000              ;--------------------------------------------------------
973   0000              	SECTION IGNORE
974   0000              ;--------------------------------------------------------
975   0000              ; global & static initialisations
976   0000              ;--------------------------------------------------------
977   0000              	SECTION code_crt_init
978   0000              ;--------------------------------------------------------
979   0000              ; Home
980   0000              ;--------------------------------------------------------
981   0000              	SECTION IGNORE
982   0000              ;--------------------------------------------------------
983   0000              ; code
984   0000              ;--------------------------------------------------------
985   0000              	SECTION code_compiler
986   0000              ;	---------------------------------
987   0000              ; Function game_tick
988   0000              ; ---------------------------------
989   0000              _game_tick:
990   0000  21 00 00    	ld	hl,_curr_time
991   0003  34          	inc	(hl)
992   0004  20 02       	jr	NZ,l_game_tick_00103
993   0006  23          	inc	hl
994   0007  34          	inc	(hl)
995   0008              l_game_tick_00103:
996   0008  CD 00 00    	call	_zx_isr
997   000B  C3 43 0A    	jp  _game_highlight_coins
998   000E              	SECTION code_compiler
999   000E              ;	---------------------------------
1000  000E              ; Function game_loop
1001  000E              ; ---------------------------------
1002  000E              _game_loop:
1003  000E  21 00 00    	ld	hl,_player_lives
1004  0011  36 03       	ld	(hl),0x03
1005  0013  21 00 00    	ld	hl,0x0000
1006  0016  22 00 00    	ld	(_player_score),hl
1007  0019  21 00 00    	ld	hl,_game_over
1008  001C  36 00       	ld	(hl),0x00
1009  001E  21 00 00    	ld	hl,_game_round_up
1010  0021  36 00       	ld	(hl),0x00
1011  0023  21 00 00    	ld	hl,_game_world
1012  0026  36 00       	ld	(hl),0x00
1013  0028  21 00 00    	ld	hl,_map_paper
1014  002B  36 00       	ld	(hl),0x00
1015  002D  21 00 00    	ld	hl,_player_lin_scr
1016  0030  36 68       	ld	(hl),0x68
1017  0032  21 00 00    	ld	hl,_player_col_scr
1018  0035  36 02       	ld	(hl),0x02
1019  0037  CD 25 05    	call	_game_round_init
1020  003A              l_game_loop_00117:
1021  003A  3A 00 00    	ld	a,(_game_over)
1022  003D  B7          	or	a, a
1023  003E  C2 FA 00    	jp	NZ, l_game_loop_00120
1024  0041  21 00 00    	ld	hl,_dirs
1025  0044  36 00       	ld	(hl),0x00
1026  0046  21 00 00    	ld	hl,_game_playing
1027  0049  36 01       	ld	(hl),0x01
1028  004B              l_game_loop_00112:
1029  004B  3A 00 00    	ld	a,(_game_round_up)
1030  004E  B7          	or	a, a
1031  004F  C2 DE 00    	jp	NZ, l_game_loop_00114
1032  0052  3A 00 00    	ld	a,(_game_over)
1033  0055  B7          	or	a, a
1034  0056  C2 DE 00    	jp	NZ, l_game_loop_00114
1035  0059  2E 02       	ld	l,0x02
1036  005B  CD 00 00    	call	_zx_border_fastcall
1037  005E  CD 00 00    	call	_enemy_turn
1038  0061  CD 00 00    	call	_player_turn
1039  0064  3E 03       	ld	a,0x03
1040  0066  F5          	push	af
1041  0067  33          	inc	sp
1042  0068  21 00 00    	ld	hl,_anim_time
1043  006B  E5          	push	hl
1044  006C  CD 19 0A    	call	_game_check_time
1045  006F  F1          	pop	af
1046  0070  33          	inc	sp
1047  0071  7D          	ld	a, l
1048  0072  B7          	or	a, a
1049  0073  28 10       	jr	Z,l_game_loop_00104
1050  0075  2A 00 00    	ld	hl,(_curr_time)
1051  0078  22 00 00    	ld	(_anim_time),hl
1052  007B  21 00 00    	ld	hl,_game_conveyor_col0
1053  007E  7E          	ld	a, (hl)
1054  007F  B7          	or	a, a
1055  0080  28 03       	jr	Z,l_game_loop_00104
1056  0082  CD 4D 04    	call	_game_anim_conveyor
1057  0085              l_game_loop_00104:
1058  0085  3E 64       	ld	a,0x64
1059  0087  F5          	push	af
1060  0088  33          	inc	sp
1061  0089  21 00 00    	ld	hl,_frame_time
1062  008C  E5          	push	hl
1063  008D  CD 19 0A    	call	_game_check_time
1064  0090  F1          	pop	af
1065  0091  33          	inc	sp
1066  0092  7D          	ld	a, l
1067  0093  B7          	or	a, a
1068  0094  28 0F       	jr	Z,l_game_loop_00108
1069  0096  2A 00 00    	ld	hl,(_curr_time)
1070  0099  22 00 00    	ld	(_frame_time),hl
1071  009C  3A 00 00    	ld	a,(_game_fps_show)
1072  009F  B7          	or	a,a
1073  00A0  28 03       	jr	Z,l_game_loop_00108
1074  00A2  CD FB 00    	call	_game_fps
1075  00A5              l_game_loop_00108:
1076  00A5  21 00 00    	ld	hl,_loop_count
1077  00A8  34          	inc	(hl)
1078  00A9  20 02       	jr	NZ,l_game_loop_00166
1079  00AB  23          	inc	hl
1080  00AC  34          	inc	(hl)
1081  00AD              l_game_loop_00166:
1082  00AD  21 00 00    	ld	hl,_fps
1083  00B0  34          	inc	(hl)
1084  00B1  20 02       	jr	NZ,l_game_loop_00167
1085  00B3  23          	inc	hl
1086  00B4  34          	inc	(hl)
1087  00B5              l_game_loop_00167:
1088  00B5  2A FF FF    	ld	hl,(_game_exit_col - 1)
1089  00B8  3A 00 00    	ld	a,(_game_exit_lin)
1090  00BB  6F          	ld	l,a
1091  00BC  E5          	push	hl
1092  00BD  21 06 4F    	ld	hl,0x4f06
1093  00C0  E5          	push	hl
1094  00C1  CD 00 00    	call	_NIRVANAP_spriteT_callee
1095  00C4  3A 00 00    	ld	a,(_obj_count)
1096  00C7  21 00 00    	ld	hl,_player_coins
1097  00CA  96          	sub	a, (hl)
1098  00CB  C2 4B 00    	jp	NZ,l_game_loop_00112
1099  00CE  CD A7 10    	call	_game_flash_exit
1100  00D1  2E 00       	ld	l,0x00
1101  00D3  CD 00 00    	call	_zx_border_fastcall
1102  00D6  21 00 00    	ld	hl,_obj_count
1103  00D9  36 FF       	ld	(hl),0xff
1104  00DB  C3 4B 00    	jp	l_game_loop_00112
1105  00DE              l_game_loop_00114:
1106  00DE  3A 00 00    	ld	a,(_game_round_up)
1107  00E1  B7          	or	a, a
1108  00E2  CA 3A 00    	jp	Z, l_game_loop_00117
1109  00E5  21 00 00    	ld	hl,_game_playing
1110  00E8  36 00       	ld	(hl),0x00
1111  00EA  CD 25 05    	call	_game_round_init
1112  00ED  21 00 00    	ld	hl,_game_round_up
1113  00F0  36 00       	ld	(hl),0x00
1114  00F2  21 00 00    	ld	hl,_game_playing
1115  00F5  36 01       	ld	(hl),0x01
1116  00F7  C3 3A 00    	jp	l_game_loop_00117
1117  00FA              l_game_loop_00120:
1118  00FA  C9          	ret
1119  00FB              	SECTION code_compiler
1120  00FB              ;	---------------------------------
1121  00FB              ; Function game_fps
1122  00FB              ; ---------------------------------
1123  00FB              _game_fps:
1124  00FB  21 00 00    	ld	hl,_screen_ink
1125  00FE  36 07       	ld	(hl),0x07
1126  0100  2A 00 00    	ld	hl,(_fps)
1127  0103  E5          	push	hl
1128  0104  21 17 18    	ld	hl,0x1817
1129  0107  E5          	push	hl
1130  0108  CD 00 00    	call	_zx_print_int
1131  010B  21 00 00    	ld	hl,0x0000
1132  010E  22 00 00    	ld	(_fps),hl
1133  0111  C9          	ret
1134  0112              	SECTION code_compiler
1135  0112              ;	---------------------------------
1136  0112              ; Function game_draw_map
1137  0112              ; ---------------------------------
1138  0112              _game_draw_map:
1139  0112  CD 00 00    	call	___sdcc_enter_ix
1140  0115  F5          	push	af
1141  0116  F5          	push	af
1142  0117  3B          	dec	sp
1143  0118  76          	halt
1144  0119  21 00 00    	ld	hl,_v0
1145  011C  36 00       	ld	(hl),0x00
1146  011E  CD 00 00    	call	_spr_init_effects
1147  0121  11 00 00    	ld	de,_obj_col+0
1148  0124              l_game_draw_map_00101:
1149  0124  21 00 00    	ld	hl,_v0
1150  0127  7E          	ld	a, (hl)
1151  0128  D6 0F       	sub	a,0x0f
1152  012A  30 22       	jr	NC,l_game_draw_map_00103
1153  012C  3E 00       	ld	a, +((_class) & 0xFF)
1154  012E  86          	add	a, (hl)
1155  012F  4F          	ld	c, a
1156  0130  3E 00       	ld	a, +((_class) / 256)
1157  0132  CE 00       	adc	a,0x00
1158  0134  47          	ld	b, a
1159  0135  AF          	xor	a, a
1160  0136  02          	ld	(bc), a
1161  0137  7B          	ld	a, e
1162  0138  86          	add	a, (hl)
1163  0139  4F          	ld	c, a
1164  013A  7A          	ld	a, d
1165  013B  CE 00       	adc	a,0x00
1166  013D  47          	ld	b, a
1167  013E  AF          	xor	a, a
1168  013F  02          	ld	(bc), a
1169  0140  3E 00       	ld	a, +((_obj_lin) & 0xFF)
1170  0142  86          	add	a, (hl)
1171  0143  4F          	ld	c, a
1172  0144  3E 00       	ld	a, +((_obj_lin) / 256)
1173  0146  CE 00       	adc	a,0x00
1174  0148  47          	ld	b, a
1175  0149  AF          	xor	a, a
1176  014A  02          	ld	(bc), a
1177  014B  34          	inc	(hl)
1178  014C  18 D6       	jr	l_game_draw_map_00101
1179  014E              l_game_draw_map_00103:
1180  014E  21 00 00    	ld	hl,_spr_count
1181  0151  36 00       	ld	(hl),0x00
1182  0153  21 00 00    	ld	hl,0x0000
1183  0156  22 00 00    	ld	(_index1),hl
1184  0159  21 00 00    	ld	hl,_s_row1
1185  015C  36 01       	ld	(hl),0x01
1186  015E  21 00 00    	ld	hl,_s_lin1
1187  0161  36 10       	ld	(hl),0x10
1188  0163  21 00 00    	ld	hl,_s_col1
1189  0166  36 00       	ld	(hl),0x00
1190  0168  21 00 00    	ld	hl,_obj_count
1191  016B  36 00       	ld	(hl),0x00
1192  016D  CD 00 00    	call	_NIRVANAP_stop
1193  0170  21 00 00    	ld	hl,_screen_ink
1194  0173  36 00       	ld	(hl),0x00
1195  0175  21 00 00    	ld	hl,_game_conveyor_lin
1196  0178  36 00       	ld	(hl),0x00
1197  017A  21 00 00    	ld	hl,_game_conveyor_col0
1198  017D  36 00       	ld	(hl),0x00
1199  017F  21 00 00    	ld	hl,_game_conveyor_col1
1200  0182  36 00       	ld	(hl),0x00
1201  0184  21 00 00    	ld	hl,_game_conveyor_tile
1202  0187  36 11       	ld	(hl),0x11
1203  0189              l_game_draw_map_00129:
1204  0189  21 01 00    	ld	hl,_index1 + 1
1205  018C  7E          	ld	a, (hl)
1206  018D  D6 02       	sub	a,0x02
1207  018F  D2 9D 03    	jp	NC, l_game_draw_map_00131
1208  0192  3E 00       	ld	a, +((_scr_map) & 0xFF)
1209  0194  2B          	dec	hl
1210  0195  86          	add	a, (hl)
1211  0196  DD 77 FE    	ld	(ix-2),a
1212  0199  3E 00       	ld	a, +((_scr_map) / 256)
1213  019B  23          	inc	hl
1214  019C  8E          	adc	a, (hl)
1215  019D  DD 6E FE    	ld	l,(ix-2)
1216  01A0  DD 77 FF    	ld	(ix-1),a
1217  01A3  67          	ld	h,a
1218  01A4  7E          	ld	a, (hl)
1219  01A5  DD 77 FD    	ld	(ix-3),a
1220  01A8  D6 40       	sub	a,0x40
1221  01AA  D2 BD 02    	jp	NC, l_game_draw_map_00125
1222  01AD  DD 7E FD    	ld	a,(ix-3)
1223  01B0  D6 08       	sub	a,0x08
1224  01B2  20 1B       	jr	NZ,l_game_draw_map_00105
1225  01B4  2A 00 00    	ld	hl,(_obj_count)
1226  01B7  26 00       	ld	h,0x00
1227  01B9  19          	add	hl,de
1228  01BA  3A 00 00    	ld	a,(_s_col1)
1229  01BD  77          	ld	(hl),a
1230  01BE  2A 00 00    	ld	hl,(_obj_count)
1231  01C1  26 00       	ld	h,0x00
1232  01C3  01 00 00    	ld	bc,_obj_lin
1233  01C6  09          	add	hl,bc
1234  01C7  3A 00 00    	ld	a,(_s_lin1)
1235  01CA  77          	ld	(hl),a
1236  01CB  21 00 00    	ld	hl,_obj_count
1237  01CE  34          	inc	(hl)
1238  01CF              l_game_draw_map_00105:
1239  01CF  2A 00 00    	ld	hl,(_index1)
1240  01D2  01 00 00    	ld	bc,_scr_map
1241  01D5  09          	add	hl,bc
1242  01D6  3A 00 00    	ld	a,(_index1)
1243  01D9  E6 1F       	and	a,0x1f
1244  01DB  DD 77 FB    	ld	(ix-5),a
1245  01DE  DD 36 FC 00 	ld	(ix-4),0x00
1246  01E2  4E          	ld	c, (hl)
1247  01E3  DD 46 FB    	ld	b,(ix-5)
1248  01E6  79          	ld	a, c
1249  01E7  D6 04       	sub	a,0x04
1250  01E9  20 04       	jr	NZ,l_game_draw_map_00200
1251  01EB  3E 01       	ld	a,0x01
1252  01ED  18 01       	jr	l_game_draw_map_00201
1253  01EF              l_game_draw_map_00200:
1254  01EF  AF          	xor	a,a
1255  01F0              l_game_draw_map_00201:
1256  01F0  4F          	ld	c, a
1257  01F1  3A 00 00    	ld	a,(_game_conveyor_col0)
1258  01F4  B7          	or	a, a
1259  01F5  28 0C       	jr	Z,l_game_draw_map_00107
1260  01F7  21 00 00    	ld	hl,_game_conveyor_col1
1261  01FA  7E          	ld	a, (hl)
1262  01FB  B7          	or	a, a
1263  01FC  20 05       	jr	NZ,l_game_draw_map_00107
1264  01FE  CB 41       	bit	0, c
1265  0200  20 01       	jr	NZ,l_game_draw_map_00107
1266  0202  70          	ld	(hl), b
1267  0203              l_game_draw_map_00107:
1268  0203  CB 41       	bit	0, c
1269  0205  28 3E       	jr	Z,l_game_draw_map_00116
1270  0207  21 00 00    	ld	hl,_game_conveyor_col0
1271  020A  7E          	ld	a, (hl)
1272  020B  B7          	or	a, a
1273  020C  20 37       	jr	NZ,l_game_draw_map_00116
1274  020E  70          	ld	(hl), b
1275  020F  ED 4B 00 00 	ld	bc,(_index1)
1276  0213  79          	ld	a,c
1277  0214  0E 05       	ld	c,0x05
1278  0216              l_game_draw_map_00202:
1279  0216  CB 38       	srl	b
1280  0218  1F          	rra
1281  0219  0D          	dec	c
1282  021A  20 FA       	jr	NZ,l_game_draw_map_00202
1283  021C  07          	rlca
1284  021D  07          	rlca
1285  021E  07          	rlca
1286  021F  E6 F8       	and	a,0xf8
1287  0221  C6 08       	add	a,0x08
1288  0223  32 00 00    	ld	(_game_conveyor_lin),a
1289  0226  ED 4B 00 00 	ld	bc,(_index1)
1290  022A  03          	inc	bc
1291  022B  21 00 00    	ld	hl,_scr_map
1292  022E  09          	add	hl,bc
1293  022F  F1          	pop	af
1294  0230  7E          	ld	a,(hl)
1295  0231  E5          	push	hl
1296  0232  B7          	or	a, a
1297  0233  28 07       	jr	Z,l_game_draw_map_00111
1298  0235  21 00 00    	ld	hl,_game_conveyor_dir
1299  0238  36 01       	ld	(hl),0x01
1300  023A  18 05       	jr	l_game_draw_map_00112
1301  023C              l_game_draw_map_00111:
1302  023C  21 00 00    	ld	hl,_game_conveyor_dir
1303  023F  36 02       	ld	(hl),0x02
1304  0241              l_game_draw_map_00112:
1305  0241  E1          	pop	hl
1306  0242  E5          	push	hl
1307  0243  36 04       	ld	(hl),0x04
1308  0245              l_game_draw_map_00116:
1309  0245  2A 00 00    	ld	hl,(_index1)
1310  0248  01 00 00    	ld	bc,_scr_map
1311  024B  09          	add	hl,bc
1312  024C  7E          	ld	a,(hl)
1313  024D  D6 1C       	sub	a,0x1c
1314  024F  20 44       	jr	NZ,l_game_draw_map_00118
1315  0251  3A 00 00    	ld	a,(_index1)
1316  0254  E6 1F       	and	a,0x1f
1317  0256  32 00 00    	ld	(_game_exit_col),a
1318  0259  ED 4B 00 00 	ld	bc,(_index1)
1319  025D  79          	ld	a,c
1320  025E  0E 05       	ld	c,0x05
1321  0260              l_game_draw_map_00205:
1322  0260  CB 38       	srl	b
1323  0262  1F          	rra
1324  0263  0D          	dec	c
1325  0264  20 FA       	jr	NZ,l_game_draw_map_00205
1326  0266  07          	rlca
1327  0267  07          	rlca
1328  0268  07          	rlca
1329  0269  E6 F8       	and	a,0xf8
1330  026B  C6 10       	add	a,0x10
1331  026D  32 00 00    	ld	(_game_exit_lin),a
1332  0270  ED 4B 00 00 	ld	bc,(_index1)
1333  0274  03          	inc	bc
1334  0275  21 00 00    	ld	hl,_scr_map
1335  0278  09          	add	hl, bc
1336  0279  36 1D       	ld	(hl),0x1d
1337  027B  2A 00 00    	ld	hl,(_index1)
1338  027E  01 20 00    	ld	bc,0x0020
1339  0281  09          	add	hl,bc
1340  0282  01 00 00    	ld	bc,_scr_map
1341  0285  09          	add	hl,bc
1342  0286  36 1E       	ld	(hl),0x1e
1343  0288  2A 00 00    	ld	hl,(_index1)
1344  028B  01 21 00    	ld	bc,0x0021
1345  028E  09          	add	hl,bc
1346  028F  01 00 00    	ld	bc,_scr_map
1347  0292  09          	add	hl,bc
1348  0293  36 1F       	ld	(hl),0x1f
1349  0295              l_game_draw_map_00118:
1350  0295  3A 00 00    	ld	a,(_s_row1)
1351  0298  07          	rlca
1352  0299  07          	rlca
1353  029A  07          	rlca
1354  029B  E6 F8       	and	a,0xf8
1355  029D  DD 77 FB    	ld	(ix-5),a
1356  02A0  01 00 00    	ld	bc,_scr_map
1357  02A3  2A 00 00    	ld	hl,(_index1)
1358  02A6  09          	add	hl,bc
1359  02A7  46          	ld	b, (hl)
1360  02A8  3A 00 00    	ld	a,(_s_col1)
1361  02AB  D5          	push	de
1362  02AC  F5          	push	af
1363  02AD  33          	inc	sp
1364  02AE  DD 7E FB    	ld	a,(ix-5)
1365  02B1  48          	ld	c,b
1366  02B2  47          	ld	b,a
1367  02B3  C5          	push	bc
1368  02B4  CD 00 00    	call	_spr_draw8
1369  02B7  F1          	pop	af
1370  02B8  33          	inc	sp
1371  02B9  D1          	pop	de
1372  02BA  C3 76 03    	jp	l_game_draw_map_00126
1373  02BD              l_game_draw_map_00125:
1374  02BD  DD 7E FD    	ld	a,(ix-3)
1375  02C0  D6 78       	sub	a,0x78
1376  02C2  30 7C       	jr	NC,l_game_draw_map_00122
1377  02C4  D5          	push	de
1378  02C5  CD 00 00    	call	_enemy_init
1379  02C8  D1          	pop	de
1380  02C9  3E 00       	ld	a, +((_value_a) & 0xFF)
1381  02CB  21 00 00    	ld	hl,_sprite
1382  02CE  86          	add	a, (hl)
1383  02CF  DD 77 FB    	ld	(ix-5),a
1384  02D2  3E 00       	ld	a, +((_value_a) / 256)
1385  02D4  CE 00       	adc	a,0x00
1386  02D6  DD 77 FC    	ld	(ix-4),a
1387  02D9  2A 00 00    	ld	hl,(_index1)
1388  02DC  01 20 00    	ld	bc,0x0020
1389  02DF  09          	add	hl,bc
1390  02E0  01 00 00    	ld	bc,_scr_map
1391  02E3  09          	add	hl,bc
1392  02E4  4E          	ld	c, (hl)
1393  02E5  E1          	pop	hl
1394  02E6  E5          	push	hl
1395  02E7  71          	ld	(hl), c
1396  02E8  3E 00       	ld	a, +((_value_b) & 0xFF)
1397  02EA  21 00 00    	ld	hl,_sprite
1398  02ED  86          	add	a, (hl)
1399  02EE  DD 77 FB    	ld	(ix-5),a
1400  02F1  3E 00       	ld	a, +((_value_b) / 256)
1401  02F3  CE 00       	adc	a,0x00
1402  02F5  DD 77 FC    	ld	(ix-4),a
1403  02F8  2A 00 00    	ld	hl,(_index1)
1404  02FB  01 21 00    	ld	bc,0x0021
1405  02FE  09          	add	hl,bc
1406  02FF  01 00 00    	ld	bc,_scr_map
1407  0302  09          	add	hl,bc
1408  0303  4E          	ld	c, (hl)
1409  0304  E1          	pop	hl
1410  0305  E5          	push	hl
1411  0306  71          	ld	(hl), c
1412  0307  2A 00 00    	ld	hl,(_index1)
1413  030A  01 00 00    	ld	bc,_scr_map
1414  030D  09          	add	hl,bc
1415  030E  AF          	xor	a,a
1416  030F  77          	ld	(hl),a
1417  0310  2A 00 00    	ld	hl,(_index1)
1418  0313  01 00 00    	ld	bc,_scr_map
1419  0316  09          	add	hl,bc
1420  0317  AF          	xor	a,a
1421  0318  77          	ld	(hl),a
1422  0319  ED 4B 00 00 	ld	bc,(_index1)
1423  031D  03          	inc	bc
1424  031E  21 00 00    	ld	hl,_scr_map
1425  0321  09          	add	hl, bc
1426  0322  36 00       	ld	(hl),0x00
1427  0324  2A 00 00    	ld	hl,(_index1)
1428  0327  01 20 00    	ld	bc,0x0020
1429  032A  09          	add	hl,bc
1430  032B  01 00 00    	ld	bc,_scr_map
1431  032E  09          	add	hl,bc
1432  032F  36 00       	ld	(hl),0x00
1433  0331  2A 00 00    	ld	hl,(_index1)
1434  0334  01 21 00    	ld	bc,0x0021
1435  0337  09          	add	hl,bc
1436  0338  01 00 00    	ld	bc,_scr_map
1437  033B  09          	add	hl,bc
1438  033C  36 00       	ld	(hl),0x00
1439  033E  18 36       	jr	l_game_draw_map_00126
1440  0340              l_game_draw_map_00122:
1441  0340  DD 7E FD    	ld	a,(ix-3)
1442  0343  D6 7F       	sub	a,0x7f
1443  0345  20 2F       	jr	NZ,l_game_draw_map_00126
1444  0347  3A 00 00    	ld	a,(_s_lin1)
1445  034A  C6 F0       	add	a,0xf0
1446  034C  32 00 00    	ld	(_player_lin_scr),a
1447  034F  3A 00 00    	ld	a,(_s_col1)
1448  0352  32 00 00    	ld	(_player_col_scr),a
1449  0355  DD 6E FE    	ld	l,(ix-2)
1450  0358  DD 66 FF    	ld	h,(ix-1)
1451  035B  36 00       	ld	(hl),0x00
1452  035D  3A 00 00    	ld	a,(_s_row1)
1453  0360  07          	rlca
1454  0361  07          	rlca
1455  0362  07          	rlca
1456  0363  E6 F8       	and	a,0xf8
1457  0365  47          	ld	b, a
1458  0366  3A 00 00    	ld	a,(_s_col1)
1459  0369  D5          	push	de
1460  036A  48          	ld	c,b
1461  036B  47          	ld	b,a
1462  036C  C5          	push	bc
1463  036D  AF          	xor	a, a
1464  036E  F5          	push	af
1465  036F  33          	inc	sp
1466  0370  CD 00 00    	call	_spr_draw8
1467  0373  F1          	pop	af
1468  0374  33          	inc	sp
1469  0375  D1          	pop	de
1470  0376              l_game_draw_map_00126:
1471  0376  21 00 00    	ld	hl,_index1
1472  0379  34          	inc	(hl)
1473  037A  20 02       	jr	NZ,l_game_draw_map_00208
1474  037C  23          	inc	hl
1475  037D  34          	inc	(hl)
1476  037E              l_game_draw_map_00208:
1477  037E  21 00 00    	ld	hl,_s_col1
1478  0381  34          	inc	(hl)
1479  0382  3A 00 00    	ld	a,(_index1)
1480  0385  E6 1F       	and	a,0x1f
1481  0387  C2 89 01    	jp	NZ,l_game_draw_map_00129
1482  038A  21 00 00    	ld	hl,_s_row1
1483  038D  34          	inc	(hl)
1484  038E  21 00 00    	ld	hl,_s_lin1
1485  0391  7E          	ld	a, (hl)
1486  0392  C6 08       	add	a,0x08
1487  0394  77          	ld	(hl), a
1488  0395  21 00 00    	ld	hl,_s_col1
1489  0398  36 00       	ld	(hl),0x00
1490  039A  C3 89 01    	jp	l_game_draw_map_00129
1491  039D              l_game_draw_map_00131:
1492  039D  CD 00 00    	call	_NIRVANAP_start
1493  03A0  76          	halt
1494  03A1  CD 00 00    	call	_game_update_stats
1495  03A4  DD F9       	ld	sp, ix
1496  03A6  DD E1       	pop	ix
1497  03A8  C9          	ret
1498  03A9              	SECTION code_compiler
1499  03A9              ;	---------------------------------
1500  03A9              ; Function game_cell_paint_index
1501  03A9              ; ---------------------------------
1502  03A9              _game_cell_paint_index:
1503  03A9  3A 00 00    	ld	a,(_index1)
1504  03AC  E6 1F       	and	a,0x1f
1505  03AE  32 00 00    	ld	(_s_col1),a
1506  03B1  2A 00 00    	ld	hl,(_index1)
1507  03B4  4D          	ld	c,l
1508  03B5  5C          	ld	e,h
1509  03B6  06 05       	ld	b,0x05
1510  03B8  79          	ld	a,c
1511  03B9              l_game_cell_paint_index_00103:
1512  03B9  CB 3B       	srl	e
1513  03BB  1F          	rra
1514  03BC  10 FB       	djnz	l_game_cell_paint_index_00103
1515  03BE  07          	rlca
1516  03BF  07          	rlca
1517  03C0  07          	rlca
1518  03C1  E6 F8       	and	a,0xf8
1519  03C3  32 00 00    	ld	(_s_lin1),a
1520  03C6  0F          	rrca
1521  03C7  0F          	rrca
1522  03C8  0F          	rrca
1523  03C9  E6 1F       	and	a,0x1f
1524  03CB  3C          	inc	a
1525  03CC  32 00 00    	ld	(_s_row1),a
1526  03CF  21 00 00    	ld	hl,_s_lin1
1527  03D2  7E          	ld	a, (hl)
1528  03D3  C6 10       	add	a,0x10
1529  03D5  77          	ld	(hl), a
1530  03D6  3A 00 00    	ld	a,(_s_row1)
1531  03D9  07          	rlca
1532  03DA  07          	rlca
1533  03DB  07          	rlca
1534  03DC  E6 F8       	and	a,0xf8
1535  03DE  4F          	ld	c, a
1536  03DF  11 00 00    	ld	de,_scr_map
1537  03E2  2A 00 00    	ld	hl,(_index1)
1538  03E5  19          	add	hl,de
1539  03E6  46          	ld	b, (hl)
1540  03E7  3A 00 00    	ld	a,(_s_col1)
1541  03EA  F5          	push	af
1542  03EB  33          	inc	sp
1543  03EC  79          	ld	a, c
1544  03ED  48          	ld	c,b
1545  03EE  47          	ld	b,a
1546  03EF  C5          	push	bc
1547  03F0  CD 00 00    	call	_spr_draw8
1548  03F3  F1          	pop	af
1549  03F4  33          	inc	sp
1550  03F5  C9          	ret
1551  03F6              	SECTION code_compiler
1552  03F6              ;	---------------------------------
1553  03F6              ; Function game_cell_paint
1554  03F6              ; ---------------------------------
1555  03F6              _game_cell_paint:
1556  03F6  3A 00 00    	ld	a,(_s_row1)
1557  03F9  07          	rlca
1558  03FA  07          	rlca
1559  03FB  07          	rlca
1560  03FC  E6 F8       	and	a,0xf8
1561  03FE  57          	ld	d, a
1562  03FF  01 00 00    	ld	bc,_scr_map
1563  0402  2A 00 00    	ld	hl,(_index1)
1564  0405  09          	add	hl,bc
1565  0406  4D          	ld	c,l
1566  0407  46          	ld	b, (hl)
1567  0408  3A 00 00    	ld	a,(_s_col1)
1568  040B  5A          	ld	e,d
1569  040C  57          	ld	d,a
1570  040D  D5          	push	de
1571  040E  C5          	push	bc
1572  040F  33          	inc	sp
1573  0410  CD 00 00    	call	_spr_draw8
1574  0413  F1          	pop	af
1575  0414  33          	inc	sp
1576  0415  C9          	ret
1577  0416              	SECTION code_compiler
1578  0416              ;	---------------------------------
1579  0416              ; Function game_end is a stub
1580  0416              ; ---------------------------------
1581  0416              EXTERN l_ret
1582  0416              defc _game_end = l_ret
1583  0416              	SECTION code_compiler
1584  0416              ;	---------------------------------
1585  0416              ; Function game_print_footer
1586  0416              ; ---------------------------------
1587  0416              _game_print_footer:
1588  0416  3A 00 00    	ld	a,(_game_fps_show)
1589  0419  B7          	or	a, a
1590  041A  28 10       	jr	Z,l_game_print_footer_00102
1591  041C  21 00 00    	ld	hl,_screen_ink
1592  041F  36 07       	ld	(hl),0x07
1593  0421  21 00 00    	ld	hl,___str_0
1594  0424  E5          	push	hl
1595  0425  21 17 14    	ld	hl,0x1417
1596  0428  E5          	push	hl
1597  0429  CD 00 00    	call	_zx_print_str
1598  042C              l_game_print_footer_00102:
1599  042C  CD 00 00    	call	_game_update_stats
1600  042F  C9          	ret
1601  0430              	SECTION rodata_compiler
1602  0000              ___str_0:
1603  0000  4C 50 53 3A 	DEFM "LPS:"
1604  0004  00          	DEFB 0x00
1605  0005              	SECTION code_compiler
1606  0430              ;	---------------------------------
1607  0430              ; Function game_print_score is a stub
1608  0430              ; ---------------------------------
1609  0430              EXTERN l_ret
1610  0430              defc _game_print_score = l_ret
1611  0430              	SECTION code_compiler
1612  0430              ;	---------------------------------
1613  0430              ; Function game_cls
1614  0430              ; ---------------------------------
1615  0430              _game_cls:
1616  0430  CD 00 00    	call	_NIRVANAP_stop
1617  0433  2E 00       	ld	l,0x00
1618  0435  CD 00 00    	call	_zx_cls_fastcall
1619  0438  21 00 00    	ld	hl,_screen_ink
1620  043B  36 07       	ld	(hl),0x07
1621  043D  C3 00 00    	jp  _NIRVANAP_start
1622  0440              	SECTION code_compiler
1623  0440              ;	---------------------------------
1624  0440              ; Function game_update_stats is a stub
1625  0440              ; ---------------------------------
1626  0440              EXTERN l_ret
1627  0440              defc _game_update_stats = l_ret
1628  0440              	SECTION code_compiler
1629  0440              ;	---------------------------------
1630  0440              ; Function game_start_timer
1631  0440              ; ---------------------------------
1632  0440              _game_start_timer:
1633  0440  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1634  0443  36 CD       	ld	(hl),0xcd
1635  0445  23          	inc	hl
1636  0446  11 00 00    	ld	de,_game_tick
1637  0449  73          	ld	(hl), e
1638  044A  23          	inc	hl
1639  044B  72          	ld	(hl), d
1640  044C  C9          	ret
1641  044D              	SECTION code_compiler
1642  044D              ;	---------------------------------
1643  044D              ; Function game_anim_conveyor
1644  044D              ; ---------------------------------
1645  044D              _game_anim_conveyor:
1646  044D  CD 00 00    	call	___sdcc_enter_ix
1647  0450  F5          	push	af
1648  0451  F5          	push	af
1649  0452  3B          	dec	sp
1650  0453  01 60 00    	ld	bc,_btiles+96
1651  0456  3A 00 00    	ld	a,(_game_conveyor_lin)
1652  0459  32 00 00    	ld	(_i),a
1653  045C  C6 08       	add	a,0x08
1654  045E  DD 77 FB    	ld	(ix-5),a
1655  0461  0A          	ld	a, (bc)
1656  0462  5F          	ld	e, a
1657  0463  3A 00 00    	ld	a,(_game_conveyor_dir)
1658  0466  3D          	dec	a
1659  0467  20 14       	jr	NZ,l_game_anim_conveyor_00102
1660  0469  7B          	ld	a, e
1661  046A  87          	add	a, a
1662  046B  57          	ld	d, a
1663  046C  7B          	ld	a, e
1664  046D  07          	rlca
1665  046E  E6 01       	and	a,0x01
1666  0470  B2          	or	a, d
1667  0471  57          	ld	d,a
1668  0472  02          	ld	(bc),a
1669  0473  87          	add	a, a
1670  0474  5F          	ld	e, a
1671  0475  7A          	ld	a, d
1672  0476  07          	rlca
1673  0477  E6 01       	and	a,0x01
1674  0479  B3          	or	a, e
1675  047A  02          	ld	(bc), a
1676  047B  18 14       	jr	l_game_anim_conveyor_00121
1677  047D              l_game_anim_conveyor_00102:
1678  047D  7B          	ld	a, e
1679  047E  0F          	rrca
1680  047F  E6 80       	and	a,0x80
1681  0481  6F          	ld	l, a
1682  0482  7B          	ld	a,e
1683  0483  CB 3F       	srl	a
1684  0485  B5          	or	a, l
1685  0486  5F          	ld	e,a
1686  0487  02          	ld	(bc),a
1687  0488  0F          	rrca
1688  0489  E6 80       	and	a,0x80
1689  048B  6F          	ld	l, a
1690  048C  CB 3B       	srl	e
1691  048E  7D          	ld	a, l
1692  048F  B3          	or	a, e
1693  0490  02          	ld	(bc), a
1694  0491              l_game_anim_conveyor_00121:
1695  0491              l_game_anim_conveyor_00112:
1696  0491  3A 00 00    	ld	a,(_i)
1697  0494  DD 96 FB    	sub	a,(ix-5)
1698  0497  D2 20 05    	jp	NC, l_game_anim_conveyor_00115
1699  049A  3A 00 00    	ld	a,(_game_conveyor_col0)
1700  049D  DD 77 FC    	ld	(ix-4),a
1701  04A0  2A 00 00    	ld	hl,(_i)
1702  04A3  CD 00 00    	call	_zx_py2saddr_fastcall
1703  04A6  EB          	ex	de,hl
1704  04A7  7B          	ld	a, e
1705  04A8  DD 86 FC    	add	a,(ix-4)
1706  04AB  5F          	ld	e, a
1707  04AC  7A          	ld	a, d
1708  04AD  CE 00       	adc	a,0x00
1709  04AF  57          	ld	d, a
1710  04B0  DD 7E FC    	ld	a,(ix-4)
1711  04B3  DD 77 FF    	ld	(ix-1),a
1712  04B6              l_game_anim_conveyor_00104:
1713  04B6  DD 7E FF    	ld	a,(ix-1)
1714  04B9  21 00 00    	ld	hl,_game_conveyor_col1
1715  04BC  96          	sub	a, (hl)
1716  04BD  30 08       	jr	NC,l_game_anim_conveyor_00106
1717  04BF  0A          	ld	a, (bc)
1718  04C0  12          	ld	(de), a
1719  04C1  13          	inc	de
1720  04C2  DD 34 FF    	inc	(ix-1)
1721  04C5  18 EF       	jr	l_game_anim_conveyor_00104
1722  04C7              l_game_anim_conveyor_00106:
1723  04C7  03          	inc	bc
1724  04C8  03          	inc	bc
1725  04C9  21 00 00    	ld	hl,_i
1726  04CC  34          	inc	(hl)
1727  04CD  3A 00 00    	ld	a,(_game_conveyor_lin)
1728  04D0  5F          	ld	e,a
1729  04D1  16 00       	ld	d,0x00
1730  04D3  13          	inc	de
1731  04D4  13          	inc	de
1732  04D5  DD 73 FD    	ld	(ix-3),e
1733  04D8  DD 72 FE    	ld	(ix-2),d
1734  04DB  3A 00 00    	ld	a,(_i)
1735  04DE  5F          	ld	e,a
1736  04DF  16 00       	ld	d,0x00
1737  04E1  DD 7E FD    	ld	a,(ix-3)
1738  04E4  93          	sub	a, e
1739  04E5  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1740  04E7  DD 7E FE    	ld	a,(ix-2)
1741  04EA  92          	sub	a, d
1742  04EB  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1743  04ED  0A          	ld	a, (bc)
1744  04EE  5F          	ld	e, a
1745  04EF  3A 00 00    	ld	a,(_game_conveyor_dir)
1746  04F2  3D          	dec	a
1747  04F3  20 16       	jr	NZ,l_game_anim_conveyor_00108
1748  04F5  7B          	ld	a, e
1749  04F6  0F          	rrca
1750  04F7  E6 80       	and	a,0x80
1751  04F9  57          	ld	d, a
1752  04FA  CB 3B       	srl	e
1753  04FC  7A          	ld	a, d
1754  04FD  B3          	or	a, e
1755  04FE  57          	ld	d,a
1756  04FF  02          	ld	(bc),a
1757  0500  0F          	rrca
1758  0501  E6 80       	and	a,0x80
1759  0503  5F          	ld	e, a
1760  0504  CB 3A       	srl	d
1761  0506  7B          	ld	a, e
1762  0507  B2          	or	a, d
1763  0508  02          	ld	(bc), a
1764  0509  18 86       	jr	l_game_anim_conveyor_00112
1765  050B              l_game_anim_conveyor_00108:
1766  050B  7B          	ld	a, e
1767  050C  87          	add	a, a
1768  050D  57          	ld	d, a
1769  050E  7B          	ld	a, e
1770  050F  07          	rlca
1771  0510  E6 01       	and	a,0x01
1772  0512  B2          	or	a, d
1773  0513  5F          	ld	e,a
1774  0514  02          	ld	(bc),a
1775  0515  87          	add	a, a
1776  0516  57          	ld	d, a
1777  0517  7B          	ld	a, e
1778  0518  07          	rlca
1779  0519  E6 01       	and	a,0x01
1780  051B  B2          	or	a, d
1781  051C  02          	ld	(bc), a
1782  051D  C3 91 04    	jp	l_game_anim_conveyor_00112
1783  0520              l_game_anim_conveyor_00115:
1784  0520  DD F9       	ld	sp, ix
1785  0522  DD E1       	pop	ix
1786  0524  C9          	ret
1787  0525              	SECTION code_compiler
1788  0525              ;	---------------------------------
1789  0525              ; Function game_round_init
1790  0525              ; ---------------------------------
1791  0525              _game_round_init:
1792  0525  CD 00 00    	call	___sdcc_enter_ix
1793  0528  21 C2 FF    	ld	hl, -62
1794  052B  39          	add	hl, sp
1795  052C  F9          	ld	sp, hl
1796  052D  21 14 00    	ld	hl,0x0014
1797  0530  39          	add	hl, sp
1798  0531  DD 75 FE    	ld	(ix-2),l
1799  0534  DD 74 FF    	ld	(ix-1),h
1800  0537  36 05       	ld	(hl), +((___str_1) & 0xFF)
1801  0539  23          	inc	hl
1802  053A  36 00       	ld	(hl), +((___str_1) / 256)
1803  053C  DD 4E FE    	ld	c,(ix-2)
1804  053F  DD 46 FF    	ld	b,(ix-1)
1805  0542  03          	inc	bc
1806  0543  03          	inc	bc
1807  0544  3E 14       	ld	a, +((___str_2) & 0xFF)
1808  0546  02          	ld	(bc), a
1809  0547  03          	inc	bc
1810  0548  3E 00       	ld	a, +((___str_2) / 256)
1811  054A  02          	ld	(bc), a
1812  054B  DD 7E FE    	ld	a,(ix-2)
1813  054E  C6 04       	add	a,0x04
1814  0550  4F          	ld	c, a
1815  0551  DD 7E FF    	ld	a,(ix-1)
1816  0554  CE 00       	adc	a,0x00
1817  0556  47          	ld	b, a
1818  0557  3E 22       	ld	a, +((___str_3) & 0xFF)
1819  0559  02          	ld	(bc), a
1820  055A  03          	inc	bc
1821  055B  3E 00       	ld	a, +((___str_3) / 256)
1822  055D  02          	ld	(bc), a
1823  055E  DD 7E FE    	ld	a,(ix-2)
1824  0561  C6 06       	add	a,0x06
1825  0563  4F          	ld	c, a
1826  0564  DD 7E FF    	ld	a,(ix-1)
1827  0567  CE 00       	adc	a,0x00
1828  0569  47          	ld	b, a
1829  056A  3E 2C       	ld	a, +((___str_4) & 0xFF)
1830  056C  02          	ld	(bc), a
1831  056D  03          	inc	bc
1832  056E  3E 00       	ld	a, +((___str_4) / 256)
1833  0570  02          	ld	(bc), a
1834  0571  DD 7E FE    	ld	a,(ix-2)
1835  0574  C6 08       	add	a,0x08
1836  0576  4F          	ld	c, a
1837  0577  DD 7E FF    	ld	a,(ix-1)
1838  057A  CE 00       	adc	a,0x00
1839  057C  47          	ld	b, a
1840  057D  3E 47       	ld	a, +((___str_5) & 0xFF)
1841  057F  02          	ld	(bc), a
1842  0580  03          	inc	bc
1843  0581  3E 00       	ld	a, +((___str_5) / 256)
1844  0583  02          	ld	(bc), a
1845  0584  DD 7E FE    	ld	a,(ix-2)
1846  0587  C6 0A       	add	a,0x0a
1847  0589  4F          	ld	c, a
1848  058A  DD 7E FF    	ld	a,(ix-1)
1849  058D  CE 00       	adc	a,0x00
1850  058F  47          	ld	b, a
1851  0590  3E 55       	ld	a, +((___str_6) & 0xFF)
1852  0592  02          	ld	(bc), a
1853  0593  03          	inc	bc
1854  0594  3E 00       	ld	a, +((___str_6) / 256)
1855  0596  02          	ld	(bc), a
1856  0597  DD 7E FE    	ld	a,(ix-2)
1857  059A  C6 0C       	add	a,0x0c
1858  059C  4F          	ld	c, a
1859  059D  DD 7E FF    	ld	a,(ix-1)
1860  05A0  CE 00       	adc	a,0x00
1861  05A2  47          	ld	b, a
1862  05A3  3E 66       	ld	a, +((___str_7) & 0xFF)
1863  05A5  02          	ld	(bc), a
1864  05A6  03          	inc	bc
1865  05A7  3E 00       	ld	a, +((___str_7) / 256)
1866  05A9  02          	ld	(bc), a
1867  05AA  DD 7E FE    	ld	a,(ix-2)
1868  05AD  C6 0E       	add	a,0x0e
1869  05AF  4F          	ld	c, a
1870  05B0  DD 7E FF    	ld	a,(ix-1)
1871  05B3  CE 00       	adc	a,0x00
1872  05B5  47          	ld	b, a
1873  05B6  3E 6E       	ld	a, +((___str_8) & 0xFF)
1874  05B8  02          	ld	(bc), a
1875  05B9  03          	inc	bc
1876  05BA  3E 00       	ld	a, +((___str_8) / 256)
1877  05BC  02          	ld	(bc), a
1878  05BD  DD 7E FE    	ld	a,(ix-2)
1879  05C0  C6 10       	add	a,0x10
1880  05C2  4F          	ld	c, a
1881  05C3  DD 7E FF    	ld	a,(ix-1)
1882  05C6  CE 00       	adc	a,0x00
1883  05C8  47          	ld	b, a
1884  05C9  3E 80       	ld	a, +((___str_9) & 0xFF)
1885  05CB  02          	ld	(bc), a
1886  05CC  03          	inc	bc
1887  05CD  3E 00       	ld	a, +((___str_9) / 256)
1888  05CF  02          	ld	(bc), a
1889  05D0  DD 7E FE    	ld	a,(ix-2)
1890  05D3  C6 12       	add	a,0x12
1891  05D5  4F          	ld	c, a
1892  05D6  DD 7E FF    	ld	a,(ix-1)
1893  05D9  CE 00       	adc	a,0x00
1894  05DB  47          	ld	b, a
1895  05DC  3E 94       	ld	a, +((___str_10) & 0xFF)
1896  05DE  02          	ld	(bc), a
1897  05DF  03          	inc	bc
1898  05E0  3E 00       	ld	a, +((___str_10) / 256)
1899  05E2  02          	ld	(bc), a
1900  05E3  DD 7E FE    	ld	a,(ix-2)
1901  05E6  C6 14       	add	a,0x14
1902  05E8  4F          	ld	c, a
1903  05E9  DD 7E FF    	ld	a,(ix-1)
1904  05EC  CE 00       	adc	a,0x00
1905  05EE  47          	ld	b, a
1906  05EF  3E B4       	ld	a, +((___str_11) & 0xFF)
1907  05F1  02          	ld	(bc), a
1908  05F2  03          	inc	bc
1909  05F3  3E 00       	ld	a, +((___str_11) / 256)
1910  05F5  02          	ld	(bc), a
1911  05F6  DD 7E FE    	ld	a,(ix-2)
1912  05F9  C6 16       	add	a,0x16
1913  05FB  4F          	ld	c, a
1914  05FC  DD 7E FF    	ld	a,(ix-1)
1915  05FF  CE 00       	adc	a,0x00
1916  0601  47          	ld	b, a
1917  0602  3E C1       	ld	a, +((___str_12) & 0xFF)
1918  0604  02          	ld	(bc), a
1919  0605  03          	inc	bc
1920  0606  3E 00       	ld	a, +((___str_12) / 256)
1921  0608  02          	ld	(bc), a
1922  0609  DD 7E FE    	ld	a,(ix-2)
1923  060C  C6 18       	add	a,0x18
1924  060E  4F          	ld	c, a
1925  060F  DD 7E FF    	ld	a,(ix-1)
1926  0612  CE 00       	adc	a,0x00
1927  0614  47          	ld	b, a
1928  0615  3E CF       	ld	a, +((___str_13) & 0xFF)
1929  0617  02          	ld	(bc), a
1930  0618  03          	inc	bc
1931  0619  3E 00       	ld	a, +((___str_13) / 256)
1932  061B  02          	ld	(bc), a
1933  061C  DD 7E FE    	ld	a,(ix-2)
1934  061F  C6 1A       	add	a,0x1a
1935  0621  4F          	ld	c, a
1936  0622  DD 7E FF    	ld	a,(ix-1)
1937  0625  CE 00       	adc	a,0x00
1938  0627  47          	ld	b, a
1939  0628  3E E5       	ld	a, +((___str_14) & 0xFF)
1940  062A  02          	ld	(bc), a
1941  062B  03          	inc	bc
1942  062C  3E 00       	ld	a, +((___str_14) / 256)
1943  062E  02          	ld	(bc), a
1944  062F  DD 7E FE    	ld	a,(ix-2)
1945  0632  C6 1C       	add	a,0x1c
1946  0634  4F          	ld	c, a
1947  0635  DD 7E FF    	ld	a,(ix-1)
1948  0638  CE 00       	adc	a,0x00
1949  063A  47          	ld	b, a
1950  063B  3E F9       	ld	a, +((___str_15) & 0xFF)
1951  063D  02          	ld	(bc), a
1952  063E  03          	inc	bc
1953  063F  3E 00       	ld	a, +((___str_15) / 256)
1954  0641  02          	ld	(bc), a
1955  0642  DD 7E FE    	ld	a,(ix-2)
1956  0645  C6 1E       	add	a,0x1e
1957  0647  4F          	ld	c, a
1958  0648  DD 7E FF    	ld	a,(ix-1)
1959  064B  CE 00       	adc	a,0x00
1960  064D  47          	ld	b, a
1961  064E  3E 1A       	ld	a, +((___str_16) & 0xFF)
1962  0650  02          	ld	(bc), a
1963  0651  03          	inc	bc
1964  0652  3E 01       	ld	a, +((___str_16) / 256)
1965  0654  02          	ld	(bc), a
1966  0655  DD 7E FE    	ld	a,(ix-2)
1967  0658  C6 20       	add	a,0x20
1968  065A  4F          	ld	c, a
1969  065B  DD 7E FF    	ld	a,(ix-1)
1970  065E  CE 00       	adc	a,0x00
1971  0660  47          	ld	b, a
1972  0661  3E 39       	ld	a, +((___str_17) & 0xFF)
1973  0663  02          	ld	(bc), a
1974  0664  03          	inc	bc
1975  0665  3E 01       	ld	a, +((___str_17) / 256)
1976  0667  02          	ld	(bc), a
1977  0668  DD 7E FE    	ld	a,(ix-2)
1978  066B  C6 22       	add	a,0x22
1979  066D  4F          	ld	c, a
1980  066E  DD 7E FF    	ld	a,(ix-1)
1981  0671  CE 00       	adc	a,0x00
1982  0673  47          	ld	b, a
1983  0674  3E 4B       	ld	a, +((___str_18) & 0xFF)
1984  0676  02          	ld	(bc), a
1985  0677  03          	inc	bc
1986  0678  3E 01       	ld	a, +((___str_18) / 256)
1987  067A  02          	ld	(bc), a
1988  067B  DD 7E FE    	ld	a,(ix-2)
1989  067E  C6 24       	add	a,0x24
1990  0680  4F          	ld	c, a
1991  0681  DD 7E FF    	ld	a,(ix-1)
1992  0684  CE 00       	adc	a,0x00
1993  0686  47          	ld	b, a
1994  0687  3E 5E       	ld	a, +((___str_19) & 0xFF)
1995  0689  02          	ld	(bc), a
1996  068A  03          	inc	bc
1997  068B  3E 01       	ld	a, +((___str_19) / 256)
1998  068D  02          	ld	(bc), a
1999  068E  DD 7E FE    	ld	a,(ix-2)
2000  0691  C6 26       	add	a,0x26
2001  0693  4F          	ld	c, a
2002  0694  DD 7E FF    	ld	a,(ix-1)
2003  0697  CE 00       	adc	a,0x00
2004  0699  47          	ld	b, a
2005  069A  3E 67       	ld	a, +((___str_20) & 0xFF)
2006  069C  02          	ld	(bc), a
2007  069D  03          	inc	bc
2008  069E  3E 01       	ld	a, +((___str_20) / 256)
2009  06A0  02          	ld	(bc), a
2010  06A1  21 00 00    	ld	hl,0x0000
2011  06A4  39          	add	hl, sp
2012  06A5  36 0E       	ld	(hl),0x0e
2013  06A7  4D          	ld	c,l
2014  06A8  44          	ld	b,h
2015  06A9  23          	inc	hl
2016  06AA  36 0D       	ld	(hl),0x0d
2017  06AC  69          	ld	l, c
2018  06AD  60          	ld	h, b
2019  06AE  23          	inc	hl
2020  06AF  23          	inc	hl
2021  06B0  36 09       	ld	(hl),0x09
2022  06B2  69          	ld	l, c
2023  06B3  60          	ld	h, b
2024  06B4  23          	inc	hl
2025  06B5  23          	inc	hl
2026  06B6  23          	inc	hl
2027  06B7  36 1A       	ld	(hl),0x1a
2028  06B9  21 04 00    	ld	hl,0x0004
2029  06BC  09          	add	hl, bc
2030  06BD  36 0D       	ld	(hl),0x0d
2031  06BF  21 05 00    	ld	hl,0x0005
2032  06C2  09          	add	hl, bc
2033  06C3  36 10       	ld	(hl),0x10
2034  06C5  21 06 00    	ld	hl,0x0006
2035  06C8  09          	add	hl, bc
2036  06C9  36 07       	ld	(hl),0x07
2037  06CB  21 07 00    	ld	hl,0x0007
2038  06CE  09          	add	hl, bc
2039  06CF  36 11       	ld	(hl),0x11
2040  06D1  21 08 00    	ld	hl,0x0008
2041  06D4  09          	add	hl, bc
2042  06D5  36 13       	ld	(hl),0x13
2043  06D7  21 09 00    	ld	hl,0x0009
2044  06DA  09          	add	hl, bc
2045  06DB  36 1F       	ld	(hl),0x1f
2046  06DD  21 0A 00    	ld	hl,0x000a
2047  06E0  09          	add	hl, bc
2048  06E1  36 0C       	ld	(hl),0x0c
2049  06E3  21 0B 00    	ld	hl,0x000b
2050  06E6  09          	add	hl, bc
2051  06E7  36 0D       	ld	(hl),0x0d
2052  06E9  21 0C 00    	ld	hl,0x000c
2053  06EC  09          	add	hl, bc
2054  06ED  36 15       	ld	(hl),0x15
2055  06EF  21 0D 00    	ld	hl,0x000d
2056  06F2  09          	add	hl, bc
2057  06F3  36 13       	ld	(hl),0x13
2058  06F5  21 0E 00    	ld	hl,0x000e
2059  06F8  09          	add	hl, bc
2060  06F9  36 20       	ld	(hl),0x20
2061  06FB  21 0F 00    	ld	hl,0x000f
2062  06FE  09          	add	hl, bc
2063  06FF  36 1E       	ld	(hl),0x1e
2064  0701  21 10 00    	ld	hl,0x0010
2065  0704  09          	add	hl, bc
2066  0705  36 11       	ld	(hl),0x11
2067  0707  21 11 00    	ld	hl,0x0011
2068  070A  09          	add	hl, bc
2069  070B  36 12       	ld	(hl),0x12
2070  070D  21 12 00    	ld	hl,0x0012
2071  0710  09          	add	hl, bc
2072  0711  36 09       	ld	(hl),0x09
2073  0713  21 13 00    	ld	hl,0x0013
2074  0716  09          	add	hl, bc
2075  0717  36 14       	ld	(hl),0x14
2076  0719  21 00 00    	ld	hl,0x0000
2077  071C  22 00 00    	ld	(_loop_count),hl
2078  071F  21 00 00    	ld	hl,0
2079  0722  22 00 00    	ld	(_curr_time),hl
2080  0725  21 00 00    	ld	hl,0x0000
2081  0728  22 00 00    	ld	(_frame_time),hl
2082  072B  21 00 00    	ld	hl,_player_coins
2083  072E  36 00       	ld	(hl),0x00
2084  0730  21 00 00    	ld	hl,_game_conveyor_flag
2085  0733  36 00       	ld	(hl),0x00
2086  0735  21 00 00    	ld	hl,_i
2087  0738  36 00       	ld	(hl),0x00
2088  073A              l_game_round_init_00110:
2089  073A  C5          	push	bc
2090  073B  21 00 00    	ld	hl,0x0000
2091  073E  E5          	push	hl
2092  073F  AF          	xor	a, a
2093  0740  2A 00 00    	ld	hl,(_i)
2094  0743  67          	ld	h,a
2095  0744  E5          	push	hl
2096  0745  CD 00 00    	call	_NIRVANAP_spriteT_callee
2097  0748  C1          	pop	bc
2098  0749  21 00 00    	ld	hl,_i
2099  074C  7E          	ld	a,(hl)
2100  074D  3C          	inc	a
2101  074E  77          	ld	(hl),a
2102  074F  D6 08       	sub	a,0x08
2103  0751  38 E7       	jr	C,l_game_round_init_00110
2104  0753  36 00       	ld	(hl),0x00
2105  0755              l_game_round_init_00102:
2106  0755  21 00 00    	ld	hl,_i
2107  0758  7E          	ld	a, (hl)
2108  0759  D6 08       	sub	a,0x08
2109  075B  30 0E       	jr	NC,l_game_round_init_00104
2110  075D  3E 00       	ld	a, +((_obj_ink) & 0xFF)
2111  075F  86          	add	a, (hl)
2112  0760  5F          	ld	e, a
2113  0761  3E 00       	ld	a, +((_obj_ink) / 256)
2114  0763  CE 00       	adc	a,0x00
2115  0765  57          	ld	d, a
2116  0766  AF          	xor	a, a
2117  0767  12          	ld	(de), a
2118  0768  34          	inc	(hl)
2119  0769  18 EA       	jr	l_game_round_init_00102
2120  076B              l_game_round_init_00104:
2121  076B  21 00 00    	ld	hl,_i
2122  076E  36 00       	ld	(hl),0x00
2123  0770  21 00 00    	ld	hl,0x0000
2124  0773  22 00 00    	ld	(_tmp_ui),hl
2125  0776              l_game_round_init_00105:
2126  0776  3A 00 00    	ld	a,(_i)
2127  0779  21 00 00    	ld	hl,_scr_curr
2128  077C  96          	sub	a, (hl)
2129  077D  30 17       	jr	NC,l_game_round_init_00107
2130  077F  2A 00 00    	ld	hl,(_i)
2131  0782  26 00       	ld	h,0x00
2132  0784  09          	add	hl,bc
2133  0785  6E          	ld	l, (hl)
2134  0786  26 00       	ld	h,0x00
2135  0788  EB          	ex	de,hl
2136  0789  2A 00 00    	ld	hl,(_tmp_ui)
2137  078C  19          	add	hl,de
2138  078D  22 00 00    	ld	(_tmp_ui),hl
2139  0790  21 00 00    	ld	hl,_i
2140  0793  34          	inc	(hl)
2141  0794  18 E0       	jr	l_game_round_init_00105
2142  0796              l_game_round_init_00107:
2143  0796  C5          	push	bc
2144  0797  21 7C 01    	ld	hl,___str_21
2145  079A  E5          	push	hl
2146  079B  21 16 00    	ld	hl,0x0016
2147  079E  E5          	push	hl
2148  079F  CD 00 00    	call	_zx_print_str
2149  07A2  C1          	pop	bc
2150  07A3  21 00 00    	ld	hl,_screen_ink
2151  07A6  36 30       	ld	(hl),0x30
2152  07A8  C5          	push	bc
2153  07A9  21 9C 01    	ld	hl,___str_22
2154  07AC  E5          	push	hl
2155  07AD  21 11 00    	ld	hl,0x0011
2156  07B0  E5          	push	hl
2157  07B1  CD 00 00    	call	_zx_print_str
2158  07B4  C1          	pop	bc
2159  07B5  2A 00 00    	ld	hl,(_scr_curr)
2160  07B8  26 00       	ld	h,0x00
2161  07BA  29          	add	hl, hl
2162  07BB  DD 5E FE    	ld	e,(ix-2)
2163  07BE  DD 56 FF    	ld	d,(ix-1)
2164  07C1  19          	add	hl, de
2165  07C2  5E          	ld	e, (hl)
2166  07C3  23          	inc	hl
2167  07C4  56          	ld	d, (hl)
2168  07C5  2A 00 00    	ld	hl,(_scr_curr)
2169  07C8  26 00       	ld	h,0x00
2170  07CA  09          	add	hl,bc
2171  07CB  4E          	ld	c, (hl)
2172  07CC  06 00       	ld	b,0x00
2173  07CE  3E 20       	ld	a,0x20
2174  07D0  91          	sub	a, c
2175  07D1  4F          	ld	c, a
2176  07D2  3E 00       	ld	a,0x00
2177  07D4  98          	sbc	a, b
2178  07D5  47          	ld	b, a
2179  07D6  CB 28       	sra	b
2180  07D8  CB 19       	rr	c
2181  07DA  41          	ld	b, c
2182  07DB  05          	dec	b
2183  07DC  D5          	push	de
2184  07DD  0E 11       	ld	c,0x11
2185  07DF  C5          	push	bc
2186  07E0  CD 00 00    	call	_zx_print_str
2187  07E3  21 00 00    	ld	hl,_screen_ink
2188  07E6  36 57       	ld	(hl),0x57
2189  07E8  21 BD 01    	ld	hl,___str_23
2190  07EB  E5          	push	hl
2191  07EC  21 12 00    	ld	hl,0x0012
2192  07EF  E5          	push	hl
2193  07F0  CD 00 00    	call	_zx_print_str
2194  07F3  21 00 00    	ld	hl,_screen_ink
2195  07F6  36 67       	ld	(hl),0x67
2196  07F8  21 C8 01    	ld	hl,___str_24
2197  07FB  E5          	push	hl
2198  07FC  21 12 0A    	ld	hl,0x0a12
2199  07FF  E5          	push	hl
2200  0800  CD 00 00    	call	_zx_print_str
2201  0803  21 00 00    	ld	hl,_screen_ink
2202  0806  36 06       	ld	(hl),0x06
2203  0808  21 DF 01    	ld	hl,___str_25
2204  080B  E5          	push	hl
2205  080C  21 14 00    	ld	hl,0x0014
2206  080F  E5          	push	hl
2207  0810  CD 00 00    	call	_zx_print_str
2208  0813  CD 00 00    	call	_spr_init_effects
2209  0816  CD 00 00    	call	_ay_reset
2210  0819  CD 5F 0B    	call	_game_page_map
2211  081C  CD 00 00    	call	_spr_btile_paint_back
2212  081F  21 20 90    	ld	hl,0x9020
2213  0822  E5          	push	hl
2214  0823  AF          	xor	a, a
2215  0824  F5          	push	af
2216  0825  33          	inc	sp
2217  0826  21 00 00    	ld	hl,_attrib_osd
2218  0829  E5          	push	hl
2219  082A  CD AE 08    	call	_game_paint_attrib
2220  082D  F1          	pop	af
2221  082E  F1          	pop	af
2222  082F  33          	inc	sp
2223  0830  CD 12 01    	call	_game_draw_map
2224  0833  21 00 00    	ld	hl,_game_song_play_start
2225  0836  36 00       	ld	(hl),0x00
2226  0838  3A 00 00    	ld	a,(_game_over)
2227  083B  B7          	or	a, a
2228  083C  20 10       	jr	NZ,l_game_round_init_00109
2229  083E  2A 00 00    	ld	hl,(_player_col_scr)
2230  0841  26 08       	ld	h,0x08
2231  0843  3A 00 00    	ld	a,(_player_lin_scr)
2232  0846  E5          	push	hl
2233  0847  F5          	push	af
2234  0848  33          	inc	sp
2235  0849  CD 00 00    	call	_player_init
2236  084C  F1          	pop	af
2237  084D  33          	inc	sp
2238  084E              l_game_round_init_00109:
2239  084E  CD 00 00    	call	_game_update_stats
2240  0851  CD 00 00    	call	_audio_ingame
2241  0854  21 00 00    	ld	hl,_screen_ink
2242  0857  36 12       	ld	(hl),0x12
2243  0859  21 9C 01    	ld	hl,___str_22
2244  085C  E5          	push	hl
2245  085D  21 00 00    	ld	hl,0x0000
2246  0860  E5          	push	hl
2247  0861  CD 00 00    	call	_zx_print_str
2248  0864  2E 02       	ld	l,0x02
2249  0866  CD 00 00    	call	_zx_border_fastcall
2250  0869  21 00 00    	ld	hl,_screen_ink
2251  086C  36 07       	ld	(hl),0x07
2252  086E  DD F9       	ld	sp, ix
2253  0870  DD E1       	pop	ix
2254  0872  C9          	ret
2255  0873              	SECTION rodata_compiler
2256  0005              ___str_1:
2257  0005  43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "Central Cavern"
2258  0013  00          	DEFB 0x00
2259  0014              	SECTION rodata_compiler
2260  0014              ___str_2:
2261  0014  54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "The Cold Room"
2262  0021  00          	DEFB 0x00
2263  0022              	SECTION rodata_compiler
2264  0022              ___str_3:
2265  0022  4D 65 6E 61 67 65 72 69 65 
                        	DEFM "Menagerie"
2266  002B  00          	DEFB 0x00
2267  002C              	SECTION rodata_compiler
2268  002C              ___str_4:
2269  002C  41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "Abandoned Uranium Workings"
2270  0046  00          	DEFB 0x00
2271  0047              	SECTION rodata_compiler
2272  0047              ___str_5:
2273  0047  45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "Eugene's Lair"
2274  0054  00          	DEFB 0x00
2275  0055              	SECTION rodata_compiler
2276  0055              ___str_6:
2277  0055  50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "Processing Plant"
2278  0065  00          	DEFB 0x00
2279  0066              	SECTION rodata_compiler
2280  0066              ___str_7:
2281  0066  54 68 65 20 56 61 74 
                        	DEFM "The Vat"
2282  006D  00          	DEFB 0x00
2283  006E              	SECTION rodata_compiler
2284  006E              ___str_8:
2285  006E  57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "Wacky Amoebatrons"
2286  007F  00          	DEFB 0x00
2287  0080              	SECTION rodata_compiler
2288  0080              ___str_9:
2289  0080  54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "The Endorian Forest"
2290  0093  00          	DEFB 0x00
2291  0094              	SECTION rodata_compiler
2292  0094              ___str_10:
2293  0094  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2294  00B3  00          	DEFB 0x00
2295  00B4              	SECTION rodata_compiler
2296  00B4              ___str_11:
2297  00B4  4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "Ore Refinery"
2298  00C0  00          	DEFB 0x00
2299  00C1              	SECTION rodata_compiler
2300  00C1              ___str_12:
2301  00C1  54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "The Warehouse"
2302  00CE  00          	DEFB 0x00
2303  00CF              	SECTION rodata_compiler
2304  00CF              ___str_13:
2305  00CF  53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "Solar Power Generator"
2306  00E4  00          	DEFB 0x00
2307  00E5              	SECTION rodata_compiler
2308  00E5              ___str_14:
2309  00E5  41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "Amoebatrons Revenge"
2310  00F8  00          	DEFB 0x00
2311  00F9              	SECTION rodata_compiler
2312  00F9              ___str_15:
2313  00F9  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2314  0119  00          	DEFB 0x00
2315  011A              	SECTION rodata_compiler
2316  011A              ___str_16:
2317  011A  52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Return of the Alien Kong Beast"
2318  0138  00          	DEFB 0x00
2319  0139              	SECTION rodata_compiler
2320  0139              ___str_17:
2321  0139  54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "The Final Barrier"
2322  014A  00          	DEFB 0x00
2323  014B              	SECTION rodata_compiler
2324  014B              ___str_18:
2325  014B  53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "Skylab Landing Bay"
2326  015D  00          	DEFB 0x00
2327  015E              	SECTION rodata_compiler
2328  015E              ___str_19:
2329  015E  54 68 65 20 42 61 6E 6B 
                        	DEFM "The Bank"
2330  0166  00          	DEFB 0x00
2331  0167              	SECTION rodata_compiler
2332  0167              ___str_20:
2333  0167  54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "The Sixteenth Cavern"
2334  017B  00          	DEFB 0x00
2335  017C              	SECTION rodata_compiler
2336  017C              ___str_21:
2337  017C  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                               "
2338  019B  00          	DEFB 0x00
2339  019C              	SECTION rodata_compiler
2340  019C              ___str_22:
2341  019C  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2342  01BC  00          	DEFB 0x00
2343  01BD              	SECTION rodata_compiler
2344  01BD              ___str_23:
2345  01BD  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2346  01C7  00          	DEFB 0x00
2347  01C8              	SECTION rodata_compiler
2348  01C8              ___str_24:
2349  01C8  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2350  01DE  00          	DEFB 0x00
2351  01DF              	SECTION rodata_compiler
2352  01DF              ___str_25:
2353  01DF  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
2354  01FF  00          	DEFB 0x00
2355  0200              	SECTION code_compiler
2356  0873              ;	---------------------------------
2357  0873              ; Function game_print_header
2358  0873              ; ---------------------------------
2359  0873              	defc _game_print_header	=	_game_print_score
2360  0873              	SECTION code_compiler
2361  0873              ;	---------------------------------
2362  0873              ; Function game_check_map
2363  0873              ; ---------------------------------
2364  0873              _game_check_map:
2365  0873  CD 00 00    	call	___sdcc_enter_ix
2366  0876  DD 66 05    	ld	h,(ix+5)
2367  0879  DD 6E 04    	ld	l,(ix+4)
2368  087C  E5          	push	hl
2369  087D  CD 00 00    	call	_spr_calc_index
2370  0880  F1          	pop	af
2371  0881  22 00 00    	ld	(_index1),hl
2372  0884  21 00 00    	ld	hl,_index1
2373  0887  DD E1       	pop	ix
2374  0889  C3 8C 08    	jp	_game_check_cell
2375  088C              	SECTION code_compiler
2376  088C              ;	---------------------------------
2377  088C              ; Function game_check_cell
2378  088C              ; ---------------------------------
2379  088C              _game_check_cell:
2380  088C  4E          	ld	c, (hl)
2381  088D  23          	inc	hl
2382  088E  46          	ld	b, (hl)
2383  088F  AF          	xor	a, a
2384  0890  B9          	cp	a, c
2385  0891  3E 02       	ld	a,0x02
2386  0893  98          	sbc	a, b
2387  0894  30 04       	jr	NC,l_game_check_cell_00102
2388  0896  2E 01       	ld	l,0x01
2389  0898  18 13       	jr	l_game_check_cell_00106
2390  089A              l_game_check_cell_00102:
2391  089A  21 00 00    	ld	hl,_scr_map
2392  089D  09          	add	hl, bc
2393  089E  5E          	ld	e, (hl)
2394  089F  ED 43 00 00 	ld	(_index1),bc
2395  08A3  7B          	ld	a,e
2396  08A4  D6 03       	sub	a,0x03
2397  08A6  28 04       	jr	Z,l_game_check_cell_00104
2398  08A8  2E 00       	ld	l,0x00
2399  08AA  18 01       	jr	l_game_check_cell_00106
2400  08AC              l_game_check_cell_00104:
2401  08AC  6B          	ld	l, e
2402  08AD              l_game_check_cell_00106:
2403  08AD  C9          	ret
2404  08AE              	SECTION code_compiler
2405  08AE              ;	---------------------------------
2406  08AE              ; Function game_paint_attrib
2407  08AE              ; ---------------------------------
2408  08AE              _game_paint_attrib:
2409  08AE  CD 00 00    	call	___sdcc_enter_ix
2410  08B1  DD 7E 06    	ld	a,(ix+6)
2411  08B4  32 00 00    	ld	(_tmp_uc),a
2412  08B7              l_game_paint_attrib_00103:
2413  08B7  21 00 00    	ld	hl,_tmp_uc
2414  08BA  7E          	ld	a, (hl)
2415  08BB  DD 96 07    	sub	a,(ix+7)
2416  08BE  30 15       	jr	NC,l_game_paint_attrib_00105
2417  08C0  DD 4E 04    	ld	c,(ix+4)
2418  08C3  DD 46 05    	ld	b,(ix+5)
2419  08C6  66          	ld	h,(hl)
2420  08C7  DD 6E 08    	ld	l,(ix+8)
2421  08CA  E5          	push	hl
2422  08CB  C5          	push	bc
2423  08CC  CD 00 00    	call	_NIRVANAP_paintC_callee
2424  08CF  21 00 00    	ld	hl,_tmp_uc
2425  08D2  34          	inc	(hl)
2426  08D3  18 E2       	jr	l_game_paint_attrib_00103
2427  08D5              l_game_paint_attrib_00105:
2428  08D5  DD E1       	pop	ix
2429  08D7  C9          	ret
2430  08D8              	SECTION code_compiler
2431  08D8              ;	---------------------------------
2432  08D8              ; Function game_colour_message
2433  08D8              ; ---------------------------------
2434  08D8              _game_colour_message:
2435  08D8  CD 00 00    	call	___sdcc_enter_ix
2436  08DB  F5          	push	af
2437  08DC  F5          	push	af
2438  08DD  F5          	push	af
2439  08DE  F5          	push	af
2440  08DF  D1          	pop	de
2441  08E0  21 00 00    	ld	hl,_tmp
2442  08E3  36 01       	ld	(hl),0x01
2443  08E5  2A 00 00    	ld	hl,(_curr_time)
2444  08E8  22 00 00    	ld	(_frame_time),hl
2445  08EB  E5          	push	hl
2446  08EC  DD 7E 04    	ld	a,(ix+4)
2447  08EF  4D          	ld	c,l
2448  08F0  07          	rlca
2449  08F1  07          	rlca
2450  08F2  07          	rlca
2451  08F3  E6 F8       	and	a,0xf8
2452  08F5  DD 77 FA    	ld	(ix-6),a
2453  08F8  C6 08       	add	a,0x08
2454  08FA  DD 77 FF    	ld	(ix-1),a
2455  08FD  DD 77 FE    	ld	(ix-2),a
2456  0900              l_game_colour_message_00112:
2457  0900  3A 00 00    	ld	a,(_tmp)
2458  0903  B7          	or	a, a
2459  0904  CA A3 09    	jp	Z, l_game_colour_message_00114
2460  0907  DD 46 07    	ld	b,(ix+7)
2461  090A  21 00 00    	ld	hl,0x0000
2462  090D  39          	add	hl, sp
2463  090E  EB          	ex	de,hl
2464  090F  C5          	push	bc
2465  0910  33          	inc	sp
2466  0911  D5          	push	de
2467  0912  CD 19 0A    	call	_game_check_time
2468  0915  F1          	pop	af
2469  0916  33          	inc	sp
2470  0917  7D          	ld	a, l
2471  0918  B7          	or	a, a
2472  0919  C2 A3 09    	jp	NZ, l_game_colour_message_00114
2473  091C  3E 05       	ld	a,0x05
2474  091E  F5          	push	af
2475  091F  33          	inc	sp
2476  0920  21 00 00    	ld	hl,_frame_time
2477  0923  E5          	push	hl
2478  0924  CD 19 0A    	call	_game_check_time
2479  0927  F1          	pop	af
2480  0928  33          	inc	sp
2481  0929  DD 75 FD    	ld	(ix-3),l
2482  092C  7D          	ld	a, l
2483  092D  B7          	or	a, a
2484  092E  28 4D       	jr	Z,l_game_colour_message_00105
2485  0930  2A 00 00    	ld	hl,(_curr_time)
2486  0933  DD 74 FC    	ld	(ix-4),h
2487  0936  DD 75 FB    	ld	(ix-5),l
2488  0939  7D          	ld	a, l
2489  093A  21 00 00    	ld	hl,_frame_time
2490  093D  77          	ld	(hl), a
2491  093E  DD 7E FC    	ld	a,(ix-4)
2492  0941  23          	inc	hl
2493  0942  77          	ld	(hl), a
2494  0943  3A 00 00    	ld	a,(_game_over)
2495  0946  B7          	or	a, a
2496  0947  28 1B       	jr	Z,l_game_colour_message_00102
2497  0949  DD 66 FE    	ld	h,(ix-2)
2498  094C  DD 6E 06    	ld	l,(ix+6)
2499  094F  E5          	push	hl
2500  0950  DD 7E 05    	ld	a,(ix+5)
2501  0953  F5          	push	af
2502  0954  33          	inc	sp
2503  0955  21 00 00    	ld	hl,_attrib_hl
2504  0958  E5          	push	hl
2505  0959  CD AE 08    	call	_game_paint_attrib
2506  095C  F1          	pop	af
2507  095D  F1          	pop	af
2508  095E  33          	inc	sp
2509  095F  CD 43 0A    	call	_game_highlight_coins
2510  0962  18 19       	jr	l_game_colour_message_00105
2511  0964              l_game_colour_message_00102:
2512  0964  DD 66 FF    	ld	h,(ix-1)
2513  0967  DD 6E 06    	ld	l,(ix+6)
2514  096A  E5          	push	hl
2515  096B  DD 7E 05    	ld	a,(ix+5)
2516  096E  F5          	push	af
2517  096F  33          	inc	sp
2518  0970  21 00 00    	ld	hl,_attrib_osd
2519  0973  E5          	push	hl
2520  0974  CD AE 08    	call	_game_paint_attrib
2521  0977  F1          	pop	af
2522  0978  F1          	pop	af
2523  0979  33          	inc	sp
2524  097A  CD CC 0A    	call	_game_rotate_attrib_osd
2525  097D              l_game_colour_message_00105:
2526  097D  DD 7E 09    	ld	a,(ix+9)
2527  0980  B7          	or	a, a
2528  0981  CA 00 09    	jp	Z, l_game_colour_message_00112
2529  0984              l_game_colour_message_00106:
2530  0984  21 00 00    	ld	hl,_k1
2531  0987  E5          	push	hl
2532  0988  2A 00 00    	ld	hl,(_joyfunc1)
2533  098B  CD 00 00    	call	___sdcc_call_hl
2534  098E  F1          	pop	af
2535  098F  DD 74 FC    	ld	(ix-4),h
2536  0992  DD 75 FB    	ld	(ix-5),l
2537  0995  7C          	ld	a,h
2538  0996  DD B6 FB    	or	a,(ix-5)
2539  0999  CA 00 09    	jp	Z, l_game_colour_message_00112
2540  099C  21 00 00    	ld	hl,_tmp
2541  099F  36 00       	ld	(hl),0x00
2542  09A1  18 E1       	jr	l_game_colour_message_00106
2543  09A3              l_game_colour_message_00114:
2544  09A3  DD 7E 06    	ld	a,(ix+6)
2545  09A6  DD 96 05    	sub	a,(ix+5)
2546  09A9  4F          	ld	c, a
2547  09AA  3A 00 00    	ld	a,(_game_over)
2548  09AD  B7          	or	a, a
2549  09AE  28 2F       	jr	Z,l_game_colour_message_00118
2550  09B0  21 00 00    	ld	hl,_tmp1
2551  09B3  71          	ld	(hl), c
2552  09B4  21 00 00    	ld	hl,_tmp0
2553  09B7  36 00       	ld	(hl),0x00
2554  09B9              l_game_colour_message_00121:
2555  09B9  3A 00 00    	ld	a,(_tmp0)
2556  09BC  21 00 00    	ld	hl,_tmp1
2557  09BF  96          	sub	a, (hl)
2558  09C0  30 52       	jr	NC,l_game_colour_message_00126
2559  09C2  DD 7E 05    	ld	a,(ix+5)
2560  09C5  21 00 00    	ld	hl,_tmp0
2561  09C8  86          	add	a, (hl)
2562  09C9  4F          	ld	c, a
2563  09CA  21 00 02    	ld	hl,___str_26
2564  09CD  E5          	push	hl
2565  09CE  79          	ld	a, c
2566  09CF  F5          	push	af
2567  09D0  33          	inc	sp
2568  09D1  DD 7E 04    	ld	a,(ix+4)
2569  09D4  F5          	push	af
2570  09D5  33          	inc	sp
2571  09D6  CD 00 00    	call	_zx_print_str
2572  09D9  21 00 00    	ld	hl,_tmp0
2573  09DC  34          	inc	(hl)
2574  09DD  18 DA       	jr	l_game_colour_message_00121
2575  09DF              l_game_colour_message_00118:
2576  09DF  21 00 00    	ld	hl,_tmp1
2577  09E2  71          	ld	(hl), c
2578  09E3  DD 7E FA    	ld	a,(ix-6)
2579  09E6  32 00 00    	ld	(_s_lin0),a
2580  09E9  DD 7E 05    	ld	a,(ix+5)
2581  09EC  CB 3F       	srl	a
2582  09EE  87          	add	a, a
2583  09EF  32 00 00    	ld	(_s_col1),a
2584  09F2  21 00 00    	ld	hl,_tmp0
2585  09F5  36 00       	ld	(hl),0x00
2586  09F7              l_game_colour_message_00124:
2587  09F7  3A 00 00    	ld	a,(_tmp0)
2588  09FA  21 00 00    	ld	hl,_tmp1
2589  09FD  96          	sub	a, (hl)
2590  09FE  30 14       	jr	NC,l_game_colour_message_00126
2591  0A00  3A 00 00    	ld	a,(_s_col1)
2592  0A03  21 00 00    	ld	hl,_tmp0
2593  0A06  86          	add	a, (hl)
2594  0A07  32 00 00    	ld	(_s_col0),a
2595  0A0A  CD 00 00    	call	_spr_back_repaint
2596  0A0D  21 00 00    	ld	hl,_tmp0
2597  0A10  34          	inc	(hl)
2598  0A11  34          	inc	(hl)
2599  0A12  18 E3       	jr	l_game_colour_message_00124
2600  0A14              l_game_colour_message_00126:
2601  0A14  DD F9       	ld	sp, ix
2602  0A16  DD E1       	pop	ix
2603  0A18  C9          	ret
2604  0A19              	SECTION rodata_compiler
2605  0200              ___str_26:
2606  0200  20          	DEFM " "
2607  0201  00          	DEFB 0x00
2608  0202              	SECTION code_compiler
2609  0A19              ;	---------------------------------
2610  0A19              ; Function game_check_time
2611  0A19              ; ---------------------------------
2612  0A19              _game_check_time:
2613  0A19  CD 00 00    	call	___sdcc_enter_ix
2614  0A1C  2A 00 00    	ld	hl,(_curr_time)
2615  0A1F  4D          	ld	c, l
2616  0A20  DD 6E 04    	ld	l,(ix+4)
2617  0A23  44          	ld	b,h
2618  0A24  DD 66 05    	ld	h,(ix+5)
2619  0A27  5E          	ld	e, (hl)
2620  0A28  23          	inc	hl
2621  0A29  56          	ld	d, (hl)
2622  0A2A  79          	ld	a, c
2623  0A2B  93          	sub	a, e
2624  0A2C  4F          	ld	c, a
2625  0A2D  78          	ld	a, b
2626  0A2E  9A          	sbc	a, d
2627  0A2F  47          	ld	b, a
2628  0A30  DD 7E 06    	ld	a,(ix+6)
2629  0A33  16 00       	ld	d,0x00
2630  0A35  91          	sub	a, c
2631  0A36  7A          	ld	a, d
2632  0A37  98          	sbc	a, b
2633  0A38  30 04       	jr	NC,l_game_check_time_00102
2634  0A3A  2E 01       	ld	l,0x01
2635  0A3C  18 02       	jr	l_game_check_time_00104
2636  0A3E              l_game_check_time_00102:
2637  0A3E  2E 00       	ld	l,0x00
2638  0A40              l_game_check_time_00104:
2639  0A40  DD E1       	pop	ix
2640  0A42  C9          	ret
2641  0A43              	SECTION code_compiler
2642  0A43              ;	---------------------------------
2643  0A43              ; Function game_highlight_coins
2644  0A43              ; ---------------------------------
2645  0A43              _game_highlight_coins:
2646  0A43  CD 00 00    	call	___sdcc_enter_ix
2647  0A46  3B          	dec	sp
2648  0A47  3A 00 00    	ld	a,(_game_playing)
2649  0A4A  B7          	or	a, a
2650  0A4B  CA C8 0A    	jp	Z, l_game_highlight_coins_00110
2651  0A4E  21 00 00    	ld	hl,_i
2652  0A51  36 00       	ld	(hl),0x00
2653  0A53  01 00 00    	ld	bc,_obj_col+0
2654  0A56              l_game_highlight_coins_00105:
2655  0A56  21 00 00    	ld	hl,_i
2656  0A59  7E          	ld	a, (hl)
2657  0A5A  D6 08       	sub	a,0x08
2658  0A5C  30 6A       	jr	NC,l_game_highlight_coins_00110
2659  0A5E  79          	ld	a, c
2660  0A5F  86          	add	a, (hl)
2661  0A60  5F          	ld	e, a
2662  0A61  78          	ld	a, b
2663  0A62  CE 00       	adc	a,0x00
2664  0A64  57          	ld	d, a
2665  0A65  1A          	ld	a, (de)
2666  0A66  B7          	or	a, a
2667  0A67  28 ED       	jr	Z,l_game_highlight_coins_00105
2668  0A69  5E          	ld	e,(hl)
2669  0A6A  16 00       	ld	d,0x00
2670  0A6C  21 00 00    	ld	hl,_obj_ink
2671  0A6F  19          	add	hl,de
2672  0A70  7E          	ld	a,(hl)
2673  0A71  21 00 00    	ld	hl,_game_attrib_osd
2674  0A74  B6          	or	a, (hl)
2675  0A75  32 00 00    	ld	(_attrib_key),a
2676  0A78  32 01 00    	ld	((_attrib_key + 0x0001)),a
2677  0A7B  32 02 00    	ld	((_attrib_key + 0x0002)),a
2678  0A7E  32 03 00    	ld	((_attrib_key + 0x0003)),a
2679  0A81  79          	ld	a, c
2680  0A82  21 00 00    	ld	hl,_i
2681  0A85  86          	add	a, (hl)
2682  0A86  5F          	ld	e, a
2683  0A87  78          	ld	a, b
2684  0A88  CE 00       	adc	a,0x00
2685  0A8A  57          	ld	d, a
2686  0A8B  1A          	ld	a, (de)
2687  0A8C  DD 77 FF    	ld	(ix-1),a
2688  0A8F  5E          	ld	e,(hl)
2689  0A90  16 00       	ld	d,0x00
2690  0A92  21 00 00    	ld	hl,_obj_lin
2691  0A95  19          	add	hl,de
2692  0A96  56          	ld	d, (hl)
2693  0A97  C5          	push	bc
2694  0A98  DD 7E FF    	ld	a,(ix-1)
2695  0A9B  5A          	ld	e,d
2696  0A9C  57          	ld	d,a
2697  0A9D  D5          	push	de
2698  0A9E  21 00 00    	ld	hl,_attrib_key
2699  0AA1  E5          	push	hl
2700  0AA2  CD 00 00    	call	_NIRVANAP_paintC_callee
2701  0AA5  C1          	pop	bc
2702  0AA6  2A 00 00    	ld	hl,(_i)
2703  0AA9  26 00       	ld	h,0x00
2704  0AAB  11 00 00    	ld	de,_obj_ink
2705  0AAE  19          	add	hl,de
2706  0AAF  34          	inc	(hl)
2707  0AB0  3A 00 00    	ld	a,(_i)
2708  0AB3  5F          	ld	e,a
2709  0AB4  16 00       	ld	d,0x00
2710  0AB6  21 00 00    	ld	hl,_obj_ink
2711  0AB9  19          	add	hl,de
2712  0ABA  7E          	ld	a,(hl)
2713  0ABB  EB          	ex	de,hl
2714  0ABC  D6 08       	sub	a,0x08
2715  0ABE  38 02       	jr	C,l_game_highlight_coins_00102
2716  0AC0  AF          	xor	a, a
2717  0AC1  12          	ld	(de), a
2718  0AC2              l_game_highlight_coins_00102:
2719  0AC2  21 00 00    	ld	hl,_i
2720  0AC5  34          	inc	(hl)
2721  0AC6  18 8E       	jr	l_game_highlight_coins_00105
2722  0AC8              l_game_highlight_coins_00110:
2723  0AC8  33          	inc	sp
2724  0AC9  DD E1       	pop	ix
2725  0ACB  C9          	ret
2726  0ACC              	SECTION code_compiler
2727  0ACC              ;	---------------------------------
2728  0ACC              ; Function game_rotate_attrib_osd
2729  0ACC              ; ---------------------------------
2730  0ACC              _game_rotate_attrib_osd:
2731  0ACC  3A 00 00    	ld	a,(_game_attrib_osd)
2732  0ACF  D6 07       	sub	a,0x07
2733  0AD1  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2734  0AD3  21 00 00    	ld	hl,_game_attrib_osd
2735  0AD6  36 01       	ld	(hl),0x01
2736  0AD8              l_game_rotate_attrib_osd_00102:
2737  0AD8  21 00 00    	ld	hl,_game_attrib_osd
2738  0ADB  34          	inc	(hl)
2739  0ADC  01 00 00    	ld	bc,_attrib_osd+0
2740  0ADF  0A          	ld	a, (bc)
2741  0AE0  32 00 00    	ld	(_tmp),a
2742  0AE3  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2743  0AE6  02          	ld	(bc), a
2744  0AE7  59          	ld	e, c
2745  0AE8  50          	ld	d, b
2746  0AE9  13          	inc	de
2747  0AEA  03          	inc	bc
2748  0AEB  03          	inc	bc
2749  0AEC  0A          	ld	a, (bc)
2750  0AED  12          	ld	(de), a
2751  0AEE  02          	ld	(bc), a
2752  0AEF  3A 00 00    	ld	a,(_tmp)
2753  0AF2  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2754  0AF5  C9          	ret
2755  0AF6              	SECTION code_compiler
2756  0AF6              ;	---------------------------------
2757  0AF6              ; Function game_attribs
2758  0AF6              ; ---------------------------------
2759  0AF6              _game_attribs:
2760  0AF6  01 00 00    	ld	bc,_attrib_key+0
2761  0AF9  21 00 00    	ld	hl,_map_paper
2762  0AFC  7E          	ld	a, (hl)
2763  0AFD  F6 46       	or	a,0x46
2764  0AFF  02          	ld	(bc), a
2765  0B00  59          	ld	e, c
2766  0B01  50          	ld	d, b
2767  0B02  13          	inc	de
2768  0B03  7E          	ld	a, (hl)
2769  0B04  F6 42       	or	a,0x42
2770  0B06  12          	ld	(de), a
2771  0B07  7E          	ld	a, (hl)
2772  0B08  F6 46       	or	a,0x46
2773  0B0A  32 02 00    	ld	((_attrib_key + 0x0002)),a
2774  0B0D  03          	inc	bc
2775  0B0E  03          	inc	bc
2776  0B0F  03          	inc	bc
2777  0B10  21 00 00    	ld	hl,_map_paper
2778  0B13  7E          	ld	a, (hl)
2779  0B14  F6 42       	or	a,0x42
2780  0B16  02          	ld	(bc), a
2781  0B17  01 00 00    	ld	bc,_attrib+0
2782  0B1A  7E          	ld	a, (hl)
2783  0B1B  F6 47       	or	a,0x47
2784  0B1D  02          	ld	(bc), a
2785  0B1E  59          	ld	e, c
2786  0B1F  50          	ld	d, b
2787  0B20  13          	inc	de
2788  0B21  7E          	ld	a, (hl)
2789  0B22  F6 47       	or	a,0x47
2790  0B24  12          	ld	(de), a
2791  0B25  7E          	ld	a, (hl)
2792  0B26  F6 47       	or	a,0x47
2793  0B28  32 02 00    	ld	((_attrib + 0x0002)),a
2794  0B2B  03          	inc	bc
2795  0B2C  03          	inc	bc
2796  0B2D  03          	inc	bc
2797  0B2E  21 00 00    	ld	hl,_map_paper
2798  0B31  7E          	ld	a, (hl)
2799  0B32  F6 47       	or	a,0x47
2800  0B34  02          	ld	(bc), a
2801  0B35  01 00 00    	ld	bc,_attrib_hl+0
2802  0B38  7E          	ld	a, (hl)
2803  0B39  F6 33       	or	a,0x33
2804  0B3B  02          	ld	(bc), a
2805  0B3C  59          	ld	e, c
2806  0B3D  50          	ld	d, b
2807  0B3E  13          	inc	de
2808  0B3F  7E          	ld	a, (hl)
2809  0B40  F6 30       	or	a,0x30
2810  0B42  12          	ld	(de), a
2811  0B43  7E          	ld	a, (hl)
2812  0B44  F6 31       	or	a,0x31
2813  0B46  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2814  0B49  03          	inc	bc
2815  0B4A  03          	inc	bc
2816  0B4B  03          	inc	bc
2817  0B4C  3A 00 00    	ld	a,(_map_paper)
2818  0B4F  F6 30       	or	a,0x30
2819  0B51  02          	ld	(bc), a
2820  0B52  21 70 71    	ld	hl,0x7170
2821  0B55  22 00 00    	ld	(_attrib_osd),hl
2822  0B58  21 71 73    	ld	hl,0x7371
2823  0B5B  22 02 00    	ld	(_attrib_osd + 2),hl
2824  0B5E  C9          	ret
2825  0B5F              	SECTION code_compiler
2826  0B5F              ;	---------------------------------
2827  0B5F              ; Function game_page_map
2828  0B5F              ; ---------------------------------
2829  0B5F              _game_page_map:
2830  0B5F  CD 00 00    	call	___sdcc_enter_ix
2831  0B62  21 AD FF    	ld	hl, -83
2832  0B65  39          	add	hl, sp
2833  0B66  F9          	ld	sp, hl
2834  0B67  CD 00 00    	call	_spr_clear_scr
2835  0B6A  F3          	di
2836  0B6B  21 00 00    	ld	hl,_game_world
2837  0B6E  4E          	ld	c, (hl)
2838  0B6F  3A 00 00    	ld	a,(_scr_curr)
2839  0B72  DD 77 DE    	ld	(ix-34),a
2840  0B75  79          	ld	a, c
2841  0B76  07          	rlca
2842  0B77  07          	rlca
2843  0B78  07          	rlca
2844  0B79  07          	rlca
2845  0B7A  E6 F0       	and	a,0xf0
2846  0B7C  DD 86 DE    	add	a,(ix-34)
2847  0B7F  DD 77 DD    	ld	(ix-35),a
2848  0B82  4F          	ld	c,a
2849  0B83  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2850  0B86  36 16       	ld	(hl),0x16
2851  0B88  C5          	push	bc
2852  0B89  3E 16       	ld	a,0x16
2853  0B8B  01 FD 7F    	ld	bc,_IO_7FFD
2854  0B8E  ED 79       	out	(c),a
2855  0B90  C1          	pop	bc
2856  0B91  DD 7E DE    	ld	a,(ix-34)
2857  0B94  3C          	inc	a
2858  0B95  20 03       	jr	NZ,l_game_page_map_00102
2859  0B97  DD 71 DD    	ld	(ix-35),c
2860  0B9A              l_game_page_map_00102:
2861  0B9A  01 00 00    	ld	bc,_paper0+0
2862  0B9D  DD 6E DD    	ld	l,(ix-35)
2863  0BA0  26 00       	ld	h,0x00
2864  0BA2  09          	add	hl, bc
2865  0BA3  7E          	ld	a, (hl)
2866  0BA4  DD 77 DF    	ld	(ix-33),a
2867  0BA7  3E 10       	ld	a,0x10
2868  0BA9  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2869  0BAC  01 FD 7F    	ld	bc,_IO_7FFD
2870  0BAF  ED 79       	out	(c),a
2871  0BB1  DD 4E DE    	ld	c,(ix-34)
2872  0BB4  CB 39       	srl	c
2873  0BB6  06 00       	ld	b,0x00
2874  0BB8  69          	ld	l, c
2875  0BB9  60          	ld	h, b
2876  0BBA  29          	add	hl, hl
2877  0BBB  09          	add	hl, bc
2878  0BBC  AF          	xor	a,a
2879  0BBD  CB 3C       	srl	h
2880  0BBF  CB 1D       	rr	l
2881  0BC1  1F          	rra
2882  0BC2  CB 3C       	srl	h
2883  0BC4  CB 1D       	rr	l
2884  0BC6  1F          	rra
2885  0BC7  DD 77 E2    	ld	(ix-30),a
2886  0BCA  DD 75 E3    	ld	(ix-29),l
2887  0BCD  21 00 00    	ld	hl,0x0000
2888  0BD0  39          	add	hl, sp
2889  0BD1  DD 75 FD    	ld	(ix-3),l
2890  0BD4  DD 74 FE    	ld	(ix-2),h
2891  0BD7  DD 75 FB    	ld	(ix-5),l
2892  0BDA  DD 74 FC    	ld	(ix-4),h
2893  0BDD  DD 7E FD    	ld	a,(ix-3)
2894  0BE0  DD 77 F9    	ld	(ix-7),a
2895  0BE3  DD 7E FE    	ld	a,(ix-2)
2896  0BE6  DD 77 FA    	ld	(ix-6),a
2897  0BE9  DD 7E FD    	ld	a,(ix-3)
2898  0BEC  DD 77 F7    	ld	(ix-9),a
2899  0BEF  DD 7E FE    	ld	a,(ix-2)
2900  0BF2  DD 77 F8    	ld	(ix-8),a
2901  0BF5  DD 7E DE    	ld	a,(ix-34)
2902  0BF8  E6 01       	and	a,0x01
2903  0BFA  DD 77 FF    	ld	(ix-1),a
2904  0BFD  DD 7E FD    	ld	a,(ix-3)
2905  0C00  DD 77 F5    	ld	(ix-11),a
2906  0C03  DD 7E FE    	ld	a,(ix-2)
2907  0C06  DD 77 F6    	ld	(ix-10),a
2908  0C09  DD 7E FD    	ld	a,(ix-3)
2909  0C0C  DD 77 F3    	ld	(ix-13),a
2910  0C0F  DD 7E FE    	ld	a,(ix-2)
2911  0C12  DD 77 F4    	ld	(ix-12),a
2912  0C15  DD 7E FD    	ld	a,(ix-3)
2913  0C18  DD 77 F1    	ld	(ix-15),a
2914  0C1B  DD 7E FE    	ld	a,(ix-2)
2915  0C1E  DD 77 F2    	ld	(ix-14),a
2916  0C21  DD 36 E4 00 	ld	(ix-28),0x00
2917  0C25  DD 36 E5 00 	ld	(ix-27),0x00
2918  0C29              l_game_page_map_00127:
2919  0C29  DD 7E E4    	ld	a,(ix-28)
2920  0C2C  D6 F0       	sub	a,0xf0
2921  0C2E  DD 7E E5    	ld	a,(ix-27)
2922  0C31  DE 00       	sbc	a,0x00
2923  0C33  D2 F2 0D    	jp	NC, l_game_page_map_00129
2924  0C36  3E 13       	ld	a,0x13
2925  0C38  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2926  0C3B  01 FD 7F    	ld	bc,_IO_7FFD
2927  0C3E  ED 79       	out	(c),a
2928  0C40  DD 36 E8 00 	ld	(ix-24),0x00
2929  0C44  DD 36 E9 00 	ld	(ix-23),0x00
2930  0C48              l_game_page_map_00103:
2931  0C48  DD 7E E8    	ld	a,(ix-24)
2932  0C4B  D6 30       	sub	a,0x30
2933  0C4D  DD 7E E9    	ld	a,(ix-23)
2934  0C50  DE 00       	sbc	a,0x00
2935  0C52  30 54       	jr	NC,l_game_page_map_00105
2936  0C54  DD 7E F7    	ld	a,(ix-9)
2937  0C57  DD 86 E8    	add	a,(ix-24)
2938  0C5A  DD 77 EF    	ld	(ix-17),a
2939  0C5D  DD 7E F8    	ld	a,(ix-8)
2940  0C60  DD 8E E9    	adc	a,(ix-23)
2941  0C63  DD 77 F0    	ld	(ix-16),a
2942  0C66  DD 7E E2    	ld	a,(ix-30)
2943  0C69  DD 86 E8    	add	a,(ix-24)
2944  0C6C  DD 77 ED    	ld	(ix-19),a
2945  0C6F  DD 7E E3    	ld	a,(ix-29)
2946  0C72  DD 8E E9    	adc	a,(ix-23)
2947  0C75  DD 77 EE    	ld	(ix-18),a
2948  0C78  DD 7E ED    	ld	a,(ix-19)
2949  0C7B  DD 86 E4    	add	a,(ix-28)
2950  0C7E  DD 77 ED    	ld	(ix-19),a
2951  0C81  6F          	ld	l,a
2952  0C82  DD 7E EE    	ld	a,(ix-18)
2953  0C85  DD 8E E5    	adc	a,(ix-27)
2954  0C88  DD 77 EE    	ld	(ix-18),a
2955  0C8B  67          	ld	h,a
2956  0C8C  01 00 00    	ld	bc,_hibtiles
2957  0C8F  09          	add	hl,bc
2958  0C90  DD 75 ED    	ld	(ix-19),l
2959  0C93  DD 74 EE    	ld	(ix-18),h
2960  0C96  4E          	ld	c, (hl)
2961  0C97  DD 6E EF    	ld	l,(ix-17)
2962  0C9A  DD 66 F0    	ld	h,(ix-16)
2963  0C9D  71          	ld	(hl), c
2964  0C9E  DD 34 E8    	inc	(ix-24)
2965  0CA1  20 A5       	jr	NZ,l_game_page_map_00103
2966  0CA3  DD 34 E9    	inc	(ix-23)
2967  0CA6  18 A0       	jr	l_game_page_map_00103
2968  0CA8              l_game_page_map_00105:
2969  0CA8  3E 10       	ld	a,0x10
2970  0CAA  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2971  0CAD  01 FD 7F    	ld	bc,_IO_7FFD
2972  0CB0  ED 79       	out	(c),a
2973  0CB2  DD 7E FF    	ld	a,(ix-1)
2974  0CB5  B7          	or	a, a
2975  0CB6  C2 5C 0D    	jp	NZ, l_game_page_map_00178
2976  0CB9  01 00 00    	ld	bc,0x0000
2977  0CBC              l_game_page_map_00106:
2978  0CBC  79          	ld	a, c
2979  0CBD  D6 10       	sub	a,0x10
2980  0CBF  78          	ld	a, b
2981  0CC0  DE 00       	sbc	a,0x00
2982  0CC2  30 18       	jr	NC,l_game_page_map_00108
2983  0CC4  DD 6E E4    	ld	l,(ix-28)
2984  0CC7  DD 66 E5    	ld	h,(ix-27)
2985  0CCA  09          	add	hl, bc
2986  0CCB  11 00 00    	ld	de,_btiles
2987  0CCE  19          	add	hl,de
2988  0CCF  EB          	ex	de,hl
2989  0CD0  DD 6E FD    	ld	l,(ix-3)
2990  0CD3  DD 66 FE    	ld	h,(ix-2)
2991  0CD6  09          	add	hl, bc
2992  0CD7  7E          	ld	a, (hl)
2993  0CD8  12          	ld	(de), a
2994  0CD9  03          	inc	bc
2995  0CDA  18 E0       	jr	l_game_page_map_00106
2996  0CDC              l_game_page_map_00108:
2997  0CDC  DD 36 E8 20 	ld	(ix-24),0x20
2998  0CE0  DD 36 E9 00 	ld	(ix-23),0x00
2999  0CE4              l_game_page_map_00109:
3000  0CE4  DD 7E E8    	ld	a,(ix-24)
3001  0CE7  D6 24       	sub	a,0x24
3002  0CE9  DD 7E E9    	ld	a,(ix-23)
3003  0CEC  DE 00       	sbc	a,0x00
3004  0CEE  30 48       	jr	NC,l_game_page_map_00111
3005  0CF0  DD 7E E8    	ld	a,(ix-24)
3006  0CF3  DD 86 E4    	add	a,(ix-28)
3007  0CF6  DD 77 ED    	ld	(ix-19),a
3008  0CF9  DD 7E E9    	ld	a,(ix-23)
3009  0CFC  DD 8E E5    	adc	a,(ix-27)
3010  0CFF  DD 77 EE    	ld	(ix-18),a
3011  0D02  3E 00       	ld	a, +((_btiles) & 0xFF)
3012  0D04  DD 86 ED    	add	a,(ix-19)
3013  0D07  DD 77 ED    	ld	(ix-19),a
3014  0D0A  3E 00       	ld	a, +((_btiles) / 256)
3015  0D0C  DD 8E EE    	adc	a,(ix-18)
3016  0D0F  DD 77 EE    	ld	(ix-18),a
3017  0D12  DD 7E FB    	ld	a,(ix-5)
3018  0D15  DD 86 E8    	add	a,(ix-24)
3019  0D18  DD 77 EF    	ld	(ix-17),a
3020  0D1B  6F          	ld	l,a
3021  0D1C  DD 7E FC    	ld	a,(ix-4)
3022  0D1F  DD 8E E9    	adc	a,(ix-23)
3023  0D22  DD 77 F0    	ld	(ix-16),a
3024  0D25  67          	ld	h,a
3025  0D26  4E          	ld	c, (hl)
3026  0D27  DD 6E ED    	ld	l,(ix-19)
3027  0D2A  DD 66 EE    	ld	h,(ix-18)
3028  0D2D  71          	ld	(hl), c
3029  0D2E  DD 34 E8    	inc	(ix-24)
3030  0D31  20 B1       	jr	NZ,l_game_page_map_00109
3031  0D33  DD 34 E9    	inc	(ix-23)
3032  0D36  18 AC       	jr	l_game_page_map_00109
3033  0D38              l_game_page_map_00111:
3034  0D38  01 28 00    	ld	bc,0x0028
3035  0D3B              l_game_page_map_00112:
3036  0D3B  79          	ld	a, c
3037  0D3C  D6 2C       	sub	a,0x2c
3038  0D3E  78          	ld	a, b
3039  0D3F  DE 00       	sbc	a,0x00
3040  0D41  D2 DF 0D    	jp	NC, l_game_page_map_00126
3041  0D44  DD 6E E4    	ld	l,(ix-28)
3042  0D47  DD 66 E5    	ld	h,(ix-27)
3043  0D4A  09          	add	hl, bc
3044  0D4B  11 00 00    	ld	de,_btiles
3045  0D4E  19          	add	hl,de
3046  0D4F  EB          	ex	de,hl
3047  0D50  DD 6E F9    	ld	l,(ix-7)
3048  0D53  DD 66 FA    	ld	h,(ix-6)
3049  0D56  09          	add	hl, bc
3050  0D57  7E          	ld	a, (hl)
3051  0D58  12          	ld	(de), a
3052  0D59  03          	inc	bc
3053  0D5A  18 DF       	jr	l_game_page_map_00112
3054  0D5C              l_game_page_map_00178:
3055  0D5C  01 00 00    	ld	bc,0x0000
3056  0D5F              l_game_page_map_00115:
3057  0D5F  79          	ld	a, c
3058  0D60  D6 10       	sub	a,0x10
3059  0D62  78          	ld	a, b
3060  0D63  DE 00       	sbc	a,0x00
3061  0D65  30 20       	jr	NC,l_game_page_map_00117
3062  0D67  DD 6E E4    	ld	l,(ix-28)
3063  0D6A  DD 66 E5    	ld	h,(ix-27)
3064  0D6D  09          	add	hl, bc
3065  0D6E  11 00 00    	ld	de,_btiles
3066  0D71  19          	add	hl,de
3067  0D72  79          	ld	a,c
3068  0D73  EB          	ex	de,hl
3069  0D74  C6 10       	add	a,0x10
3070  0D76  6F          	ld	l, a
3071  0D77  DD 7E F5    	ld	a,(ix-11)
3072  0D7A  85          	add	a, l
3073  0D7B  6F          	ld	l, a
3074  0D7C  DD 7E F6    	ld	a,(ix-10)
3075  0D7F  CE 00       	adc	a,0x00
3076  0D81  67          	ld	h, a
3077  0D82  7E          	ld	a, (hl)
3078  0D83  12          	ld	(de), a
3079  0D84  03          	inc	bc
3080  0D85  18 D8       	jr	l_game_page_map_00115
3081  0D87              l_game_page_map_00117:
3082  0D87  01 20 00    	ld	bc,0x0020
3083  0D8A              l_game_page_map_00118:
3084  0D8A  79          	ld	a, c
3085  0D8B  D6 24       	sub	a,0x24
3086  0D8D  78          	ld	a, b
3087  0D8E  DE 00       	sbc	a,0x00
3088  0D90  30 21       	jr	NC,l_game_page_map_00120
3089  0D92  DD 6E E4    	ld	l,(ix-28)
3090  0D95  DD 66 E5    	ld	h,(ix-27)
3091  0D98  09          	add	hl, bc
3092  0D99  11 00 00    	ld	de,_btiles
3093  0D9C  19          	add	hl,de
3094  0D9D  59          	ld	e,c
3095  0D9E  EB          	ex	de,hl
3096  0D9F  2C          	inc	l
3097  0DA0  2C          	inc	l
3098  0DA1  2C          	inc	l
3099  0DA2  2C          	inc	l
3100  0DA3  DD 7E F3    	ld	a,(ix-13)
3101  0DA6  85          	add	a, l
3102  0DA7  6F          	ld	l, a
3103  0DA8  DD 7E F4    	ld	a,(ix-12)
3104  0DAB  CE 00       	adc	a,0x00
3105  0DAD  67          	ld	h, a
3106  0DAE  7E          	ld	a, (hl)
3107  0DAF  12          	ld	(de), a
3108  0DB0  03          	inc	bc
3109  0DB1  18 D7       	jr	l_game_page_map_00118
3110  0DB3              l_game_page_map_00120:
3111  0DB3  01 28 00    	ld	bc,0x0028
3112  0DB6              l_game_page_map_00121:
3113  0DB6  79          	ld	a, c
3114  0DB7  D6 2C       	sub	a,0x2c
3115  0DB9  78          	ld	a, b
3116  0DBA  DE 00       	sbc	a,0x00
3117  0DBC  30 21       	jr	NC,l_game_page_map_00126
3118  0DBE  DD 6E E4    	ld	l,(ix-28)
3119  0DC1  DD 66 E5    	ld	h,(ix-27)
3120  0DC4  09          	add	hl, bc
3121  0DC5  11 00 00    	ld	de,_btiles
3122  0DC8  19          	add	hl,de
3123  0DC9  59          	ld	e,c
3124  0DCA  EB          	ex	de,hl
3125  0DCB  2C          	inc	l
3126  0DCC  2C          	inc	l
3127  0DCD  2C          	inc	l
3128  0DCE  2C          	inc	l
3129  0DCF  DD 7E F1    	ld	a,(ix-15)
3130  0DD2  85          	add	a, l
3131  0DD3  6F          	ld	l, a
3132  0DD4  DD 7E F2    	ld	a,(ix-14)
3133  0DD7  CE 00       	adc	a,0x00
3134  0DD9  67          	ld	h, a
3135  0DDA  7E          	ld	a, (hl)
3136  0DDB  12          	ld	(de), a
3137  0DDC  03          	inc	bc
3138  0DDD  18 D7       	jr	l_game_page_map_00121
3139  0DDF              l_game_page_map_00126:
3140  0DDF  DD 7E E4    	ld	a,(ix-28)
3141  0DE2  C6 30       	add	a,0x30
3142  0DE4  DD 77 E4    	ld	(ix-28),a
3143  0DE7  DD 7E E5    	ld	a,(ix-27)
3144  0DEA  CE 00       	adc	a,0x00
3145  0DEC  DD 77 E5    	ld	(ix-27),a
3146  0DEF  C3 29 0C    	jp	l_game_page_map_00127
3147  0DF2              l_game_page_map_00129:
3148  0DF2  DD 36 E8 C0 	ld	(ix-24),0xc0
3149  0DF6  DD 36 E9 00 	ld	(ix-23),0x00
3150  0DFA              l_game_page_map_00138:
3151  0DFA  DD 7E E8    	ld	a,(ix-24)
3152  0DFD  D6 80       	sub	a,0x80
3153  0DFF  DD 7E E9    	ld	a,(ix-23)
3154  0E02  DE 01       	sbc	a,0x01
3155  0E04  30 68       	jr	NC,l_game_page_map_00140
3156  0E06  21 30 00    	ld	hl,0x0030
3157  0E09  E5          	push	hl
3158  0E0A  DD 6E E8    	ld	l,(ix-24)
3159  0E0D  DD 66 E9    	ld	h,(ix-23)
3160  0E10  E5          	push	hl
3161  0E11  CD 00 00    	call	__moduint_callee
3162  0E14  7D          	ld	a,l
3163  0E15  32 00 00    	ld	(_v0),a
3164  0E18  D6 10       	sub	a,0x10
3165  0E1A  30 0E       	jr	NC,l_game_page_map_00131
3166  0E1C  3E 00       	ld	a, +((_btiles) & 0xFF)
3167  0E1E  DD 86 E8    	add	a,(ix-24)
3168  0E21  4F          	ld	c, a
3169  0E22  3E 00       	ld	a, +((_btiles) / 256)
3170  0E24  DD 8E E9    	adc	a,(ix-23)
3171  0E27  47          	ld	b, a
3172  0E28  AF          	xor	a, a
3173  0E29  02          	ld	(bc), a
3174  0E2A              l_game_page_map_00131:
3175  0E2A  21 00 00    	ld	hl,_v0
3176  0E2D  7E          	ld	a, (hl)
3177  0E2E  D6 20       	sub	a,0x20
3178  0E30  38 15       	jr	C,l_game_page_map_00133
3179  0E32  7E          	ld	a, (hl)
3180  0E33  D6 24       	sub	a,0x24
3181  0E35  30 10       	jr	NC,l_game_page_map_00133
3182  0E37  3E 00       	ld	a, +((_btiles) & 0xFF)
3183  0E39  DD 86 E8    	add	a,(ix-24)
3184  0E3C  4F          	ld	c, a
3185  0E3D  3E 00       	ld	a, +((_btiles) / 256)
3186  0E3F  DD 8E E9    	adc	a,(ix-23)
3187  0E42  47          	ld	b, a
3188  0E43  DD 7E DF    	ld	a,(ix-33)
3189  0E46  02          	ld	(bc), a
3190  0E47              l_game_page_map_00133:
3191  0E47  21 00 00    	ld	hl,_v0
3192  0E4A  7E          	ld	a, (hl)
3193  0E4B  D6 28       	sub	a,0x28
3194  0E4D  38 15       	jr	C,l_game_page_map_00136
3195  0E4F  7E          	ld	a, (hl)
3196  0E50  D6 2C       	sub	a,0x2c
3197  0E52  30 10       	jr	NC,l_game_page_map_00136
3198  0E54  3E 00       	ld	a, +((_btiles) & 0xFF)
3199  0E56  DD 86 E8    	add	a,(ix-24)
3200  0E59  4F          	ld	c, a
3201  0E5A  3E 00       	ld	a, +((_btiles) / 256)
3202  0E5C  DD 8E E9    	adc	a,(ix-23)
3203  0E5F  47          	ld	b, a
3204  0E60  DD 7E DF    	ld	a,(ix-33)
3205  0E63  02          	ld	(bc), a
3206  0E64              l_game_page_map_00136:
3207  0E64  DD 34 E8    	inc	(ix-24)
3208  0E67  20 91       	jr	NZ,l_game_page_map_00138
3209  0E69  DD 34 E9    	inc	(ix-23)
3210  0E6C  18 8C       	jr	l_game_page_map_00138
3211  0E6E              l_game_page_map_00140:
3212  0E6E  DD 36 E8 00 	ld	(ix-24),0x00
3213  0E72  DD 36 E9 00 	ld	(ix-23),0x00
3214  0E76              l_game_page_map_00141:
3215  0E76  DD 7E E8    	ld	a,(ix-24)
3216  0E79  D6 10       	sub	a,0x10
3217  0E7B  DD 7E E9    	ld	a,(ix-23)
3218  0E7E  DE 00       	sbc	a,0x00
3219  0E80  30 30       	jr	NC,l_game_page_map_00143
3220  0E82  DD 7E E8    	ld	a,(ix-24)
3221  0E85  C6 C0       	add	a,0xc0
3222  0E87  4F          	ld	c, a
3223  0E88  DD 7E E9    	ld	a,(ix-23)
3224  0E8B  CE 00       	adc	a,0x00
3225  0E8D  47          	ld	b, a
3226  0E8E  21 00 00    	ld	hl,_btiles
3227  0E91  09          	add	hl,bc
3228  0E92  3E 00       	ld	a,+((_btiles) & 0xFF)
3229  0E94  DD 86 E8    	add	a,(ix-24)
3230  0E97  5F          	ld	e,a
3231  0E98  3E 00       	ld	a,+((_btiles) / 256)
3232  0E9A  DD 8E E9    	adc	a,(ix-23)
3233  0E9D  57          	ld	d,a
3234  0E9E  1A          	ld	a,(de)
3235  0E9F  77          	ld	(hl),a
3236  0EA0  DD 7E E8    	ld	a,(ix-24)
3237  0EA3  C6 02       	add	a,0x02
3238  0EA5  DD 77 E8    	ld	(ix-24),a
3239  0EA8  DD 7E E9    	ld	a,(ix-23)
3240  0EAB  CE 00       	adc	a,0x00
3241  0EAD  DD 77 E9    	ld	(ix-23),a
3242  0EB0  18 C4       	jr	l_game_page_map_00141
3243  0EB2              l_game_page_map_00143:
3244  0EB2  DD 36 E8 00 	ld	(ix-24),0x00
3245  0EB6  DD 36 E9 00 	ld	(ix-23),0x00
3246  0EBA              l_game_page_map_00144:
3247  0EBA  DD 7E E8    	ld	a,(ix-24)
3248  0EBD  D6 10       	sub	a,0x10
3249  0EBF  DD 7E E9    	ld	a,(ix-23)
3250  0EC2  DE 00       	sbc	a,0x00
3251  0EC4  30 20       	jr	NC,l_game_page_map_00146
3252  0EC6  3E 00       	ld	a, +((_btiles) & 0xFF)
3253  0EC8  DD 86 E8    	add	a,(ix-24)
3254  0ECB  4F          	ld	c, a
3255  0ECC  3E 00       	ld	a, +((_btiles) / 256)
3256  0ECE  DD 8E E9    	adc	a,(ix-23)
3257  0ED1  47          	ld	b, a
3258  0ED2  AF          	xor	a, a
3259  0ED3  02          	ld	(bc), a
3260  0ED4  DD 7E E8    	ld	a,(ix-24)
3261  0ED7  C6 02       	add	a,0x02
3262  0ED9  DD 77 E8    	ld	(ix-24),a
3263  0EDC  DD 7E E9    	ld	a,(ix-23)
3264  0EDF  CE 00       	adc	a,0x00
3265  0EE1  DD 77 E9    	ld	(ix-23),a
3266  0EE4  18 D4       	jr	l_game_page_map_00144
3267  0EE6              l_game_page_map_00146:
3268  0EE6  3A 30 00    	ld	a,(_btiles + 0x0030)
3269  0EE9  32 C5 00    	ld	((_btiles + 0x00c5)),a
3270  0EEC  01 32 00    	ld	bc,_btiles + 50
3271  0EEF  0A          	ld	a, (bc)
3272  0EF0  32 C7 00    	ld	((_btiles + 0x00c7)),a
3273  0EF3  3A 34 00    	ld	a,(_btiles + 0x0034)
3274  0EF6  32 C9 00    	ld	((_btiles + 0x00c9)),a
3275  0EF9  3A 36 00    	ld	a,(_btiles + 0x0036)
3276  0EFC  32 CB 00    	ld	((_btiles + 0x00cb)),a
3277  0EFF  3A 38 00    	ld	a, (_btiles + 56)
3278  0F02  32 CD 00    	ld	((_btiles + 0x00cd)),a
3279  0F05  3A 3A 00    	ld	a, (_btiles + 58)
3280  0F08  32 CF 00    	ld	((_btiles + 0x00cf)),a
3281  0F0B  11 50 00    	ld	de,_btiles + 80
3282  0F0E  1A          	ld	a, (de)
3283  0F0F  32 E9 00    	ld	((_btiles + 0x00e9)),a
3284  0F12  3A 51 00    	ld	a,(_btiles + 0x0051)
3285  0F15  32 EA 00    	ld	((_btiles + 0x00ea)),a
3286  0F18  3A 52 00    	ld	a, (_btiles + 82)
3287  0F1B  32 EB 00    	ld	((_btiles + 0x00eb)),a
3288  0F1E  3A 30 00    	ld	a,(_btiles + 0x0030)
3289  0F21  32 FA 00    	ld	((_btiles + 0x00fa)),a
3290  0F24  0A          	ld	a, (bc)
3291  0F25  32 FC 00    	ld	((_btiles + 0x00fc)),a
3292  0F28  3A 34 00    	ld	a,(_btiles + 0x0034)
3293  0F2B  32 FE 00    	ld	((_btiles + 0x00fe)),a
3294  0F2E  3A 36 00    	ld	a,(_btiles + 0x0036)
3295  0F31  32 00 01    	ld	((_btiles + 0x0100)),a
3296  0F34  1A          	ld	a, (de)
3297  0F35  32 12 01    	ld	((_btiles + 0x0112)),a
3298  0F38  3A 51 00    	ld	a,(_btiles + 0x0051)
3299  0F3B  32 13 01    	ld	((_btiles + 0x0113)),a
3300  0F3E  3A 30 00    	ld	a,(_btiles + 0x0030)
3301  0F41  32 FD 00    	ld	((_btiles + 0x00fd)),a
3302  0F44  0A          	ld	a, (bc)
3303  0F45  32 FF 00    	ld	((_btiles + 0x00ff)),a
3304  0F48  1A          	ld	a, (de)
3305  0F49  32 1B 01    	ld	((_btiles + 0x011b)),a
3306  0F4C  3E 00       	ld	a,0x00
3307  0F4E  DD 77 E4    	ld	(ix-28),a
3308  0F51  DD 77 E5    	ld	(ix-27),a
3309  0F54  DD 77 E0    	ld	(ix-32),a
3310  0F57  DD 77 E1    	ld	(ix-31),a
3311  0F5A  DD 36 E6 00 	ld	(ix-26),0x00
3312  0F5E  DD 36 E7 00 	ld	(ix-25),0x00
3313  0F62              l_game_page_map_00147:
3314  0F62  DD 4E DD    	ld	c,(ix-35)
3315  0F65  06 00       	ld	b,0x00
3316  0F67  DD 7E E6    	ld	a,(ix-26)
3317  0F6A  91          	sub	a, c
3318  0F6B  DD 7E E7    	ld	a,(ix-25)
3319  0F6E  98          	sbc	a, b
3320  0F6F  30 3A       	jr	NC,l_game_page_map_00149
3321  0F71  3E 16       	ld	a,0x16
3322  0F73  01 FD 7F    	ld	bc,_IO_7FFD
3323  0F76  ED 79       	out	(c),a
3324  0F78  01 00 00    	ld	bc,_lenght0
3325  0F7B  DD 6E E6    	ld	l,(ix-26)
3326  0F7E  DD 66 E7    	ld	h,(ix-25)
3327  0F81  09          	add	hl,bc
3328  0F82  4E          	ld	c, (hl)
3329  0F83  06 00       	ld	b,0x00
3330  0F85  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3331  0F88  36 10       	ld	(hl),0x10
3332  0F8A  C5          	push	bc
3333  0F8B  3E 10       	ld	a,0x10
3334  0F8D  01 FD 7F    	ld	bc,_IO_7FFD
3335  0F90  ED 79       	out	(c),a
3336  0F92  C1          	pop	bc
3337  0F93  DD 7E E0    	ld	a,(ix-32)
3338  0F96  81          	add	a, c
3339  0F97  DD 77 E0    	ld	(ix-32),a
3340  0F9A  DD 7E E1    	ld	a,(ix-31)
3341  0F9D  88          	adc	a, b
3342  0F9E  DD 77 E1    	ld	(ix-31),a
3343  0FA1  DD 34 E6    	inc	(ix-26)
3344  0FA4  20 BC       	jr	NZ,l_game_page_map_00147
3345  0FA6  DD 34 E7    	inc	(ix-25)
3346  0FA9  18 B7       	jr	l_game_page_map_00147
3347  0FAB              l_game_page_map_00149:
3348  0FAB  DD 36 E8 00 	ld	(ix-24),0x00
3349  0FAF  DD 36 E9 00 	ld	(ix-23),0x00
3350  0FB3              l_game_page_map_00162:
3351  0FB3  3E 16       	ld	a,0x16
3352  0FB5  01 FD 7F    	ld	bc,_IO_7FFD
3353  0FB8  ED 79       	out	(c),a
3354  0FBA  DD 7E E0    	ld	a,(ix-32)
3355  0FBD  DD 86 E8    	add	a,(ix-24)
3356  0FC0  4F          	ld	c, a
3357  0FC1  DD 7E E1    	ld	a,(ix-31)
3358  0FC4  DD 8E E9    	adc	a,(ix-23)
3359  0FC7  47          	ld	b, a
3360  0FC8  21 00 00    	ld	hl,_world0
3361  0FCB  09          	add	hl, bc
3362  0FCC  7E          	ld	a, (hl)
3363  0FCD  DD 77 EC    	ld	(ix-20),a
3364  0FD0  03          	inc	bc
3365  0FD1  21 00 00    	ld	hl,_world0
3366  0FD4  09          	add	hl, bc
3367  0FD5  7E          	ld	a, (hl)
3368  0FD6  DD 77 EB    	ld	(ix-21),a
3369  0FD9  3E 10       	ld	a,0x10
3370  0FDB  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3371  0FDE  01 FD 7F    	ld	bc,_IO_7FFD
3372  0FE1  ED 79       	out	(c),a
3373  0FE3  DD 7E EC    	ld	a,(ix-20)
3374  0FE6  D6 80       	sub	a,0x80
3375  0FE8  30 1F       	jr	NC,l_game_page_map_00154
3376  0FEA  DD 6E E4    	ld	l,(ix-28)
3377  0FED  DD 66 E5    	ld	h,(ix-27)
3378  0FF0  01 00 00    	ld	bc,_scr_map
3379  0FF3  09          	add	hl,bc
3380  0FF4  DD 75 ED    	ld	(ix-19),l
3381  0FF7  DD 74 EE    	ld	(ix-18),h
3382  0FFA  DD 7E EC    	ld	a,(ix-20)
3383  0FFD  77          	ld	(hl), a
3384  0FFE  DD 34 E4    	inc	(ix-28)
3385  1001  C2 7E 10    	jp	NZ,l_game_page_map_00155
3386  1004  DD 34 E5    	inc	(ix-27)
3387  1007  18 75       	jr	l_game_page_map_00155
3388  1009              l_game_page_map_00154:
3389  1009  DD 7E EC    	ld	a,(ix-20)
3390  100C  C6 80       	add	a,0x80
3391  100E  DD 77 EA    	ld	(ix-22),a
3392  1011  DD 7E E4    	ld	a,(ix-28)
3393  1014  DD 77 ED    	ld	(ix-19),a
3394  1017  DD 7E E5    	ld	a,(ix-27)
3395  101A  DD 77 EE    	ld	(ix-18),a
3396  101D  DD 36 E6 00 	ld	(ix-26),0x00
3397  1021  DD 36 E7 00 	ld	(ix-25),0x00
3398  1025              l_game_page_map_00160:
3399  1025  DD 7E EA    	ld	a,(ix-22)
3400  1028  DD 77 EF    	ld	(ix-17),a
3401  102B  DD 36 F0 00 	ld	(ix-16),0x00
3402  102F  DD 7E E6    	ld	a,(ix-26)
3403  1032  DD 96 EF    	sub	a,(ix-17)
3404  1035  DD 7E E7    	ld	a,(ix-25)
3405  1038  DD 9E F0    	sbc	a,(ix-16)
3406  103B  30 2D       	jr	NC,l_game_page_map_00214
3407  103D  DD 6E ED    	ld	l,(ix-19)
3408  1040  DD 66 EE    	ld	h,(ix-18)
3409  1043  01 00 00    	ld	bc,_scr_map
3410  1046  09          	add	hl,bc
3411  1047  DD 75 EF    	ld	(ix-17),l
3412  104A  DD 74 F0    	ld	(ix-16),h
3413  104D  DD 7E EB    	ld	a,(ix-21)
3414  1050  77          	ld	(hl), a
3415  1051  DD 34 ED    	inc	(ix-19)
3416  1054  20 03       	jr	NZ,l_game_page_map_00334
3417  1056  DD 34 EE    	inc	(ix-18)
3418  1059              l_game_page_map_00334:
3419  1059  DD 7E EE    	ld	a,(ix-18)
3420  105C  D6 02       	sub	a,0x02
3421  105E  30 0A       	jr	NC,l_game_page_map_00214
3422  1060  DD 34 E6    	inc	(ix-26)
3423  1063  20 C0       	jr	NZ,l_game_page_map_00160
3424  1065  DD 34 E7    	inc	(ix-25)
3425  1068  18 BB       	jr	l_game_page_map_00160
3426  106A              l_game_page_map_00214:
3427  106A  DD 7E ED    	ld	a,(ix-19)
3428  106D  DD 77 E4    	ld	(ix-28),a
3429  1070  DD 7E EE    	ld	a,(ix-18)
3430  1073  DD 77 E5    	ld	(ix-27),a
3431  1076  DD 34 E8    	inc	(ix-24)
3432  1079  20 03       	jr	NZ,l_game_page_map_00336
3433  107B  DD 34 E9    	inc	(ix-23)
3434  107E              l_game_page_map_00336:
3435  107E              l_game_page_map_00155:
3436  107E  DD 7E E5    	ld	a,(ix-27)
3437  1081  D6 02       	sub	a,0x02
3438  1083  30 10       	jr	NC,l_game_page_map_00158
3439  1085  DD 34 E8    	inc	(ix-24)
3440  1088  20 03       	jr	NZ,l_game_page_map_00337
3441  108A  DD 34 E9    	inc	(ix-23)
3442  108D              l_game_page_map_00337:
3443  108D  DD 7E E9    	ld	a,(ix-23)
3444  1090  D6 02       	sub	a,0x02
3445  1092  DA B3 0F    	jp	C, l_game_page_map_00162
3446  1095              l_game_page_map_00158:
3447  1095  DD 7E DE    	ld	a,(ix-34)
3448  1098  32 00 00    	ld	(_scr_curr),a
3449  109B  DD 7E DF    	ld	a,(ix-33)
3450  109E  32 00 00    	ld	(_map_paper),a
3451  10A1  FB          	ei
3452  10A2  DD F9       	ld	sp, ix
3453  10A4  DD E1       	pop	ix
3454  10A6  C9          	ret
3455  10A7              	SECTION code_compiler
3456  10A7              ;	---------------------------------
3457  10A7              ; Function game_flash_exit
3458  10A7              ; ---------------------------------
3459  10A7              _game_flash_exit:
3460  10A7  01 C0 00    	ld	bc,0x00c0
3461  10AA              l_game_flash_exit_00106:
3462  10AA  79          	ld	a, c
3463  10AB  D6 80       	sub	a,0x80
3464  10AD  78          	ld	a, b
3465  10AE  DE 01       	sbc	a,0x01
3466  10B0  30 2F       	jr	NC,l_game_flash_exit_00108
3467  10B2  C5          	push	bc
3468  10B3  21 30 00    	ld	hl,0x0030
3469  10B6  E5          	push	hl
3470  10B7  C5          	push	bc
3471  10B8  CD 00 00    	call	__moduint_callee
3472  10BB  C1          	pop	bc
3473  10BC  5D          	ld	e,l
3474  10BD  21 00 00    	ld	hl,_v0
3475  10C0  73          	ld	(hl),e
3476  10C1  7B          	ld	a,e
3477  10C2  D6 24       	sub	a,0x24
3478  10C4  38 05       	jr	C,l_game_flash_exit_00105
3479  10C6  7E          	ld	a, (hl)
3480  10C7  D6 28       	sub	a,0x28
3481  10C9  38 0D       	jr	C,l_game_flash_exit_00101
3482  10CB              l_game_flash_exit_00105:
3483  10CB  21 00 00    	ld	hl,_v0
3484  10CE  7E          	ld	a, (hl)
3485  10CF  D6 2C       	sub	a,0x2c
3486  10D1  38 0B       	jr	C,l_game_flash_exit_00102
3487  10D3  7E          	ld	a, (hl)
3488  10D4  D6 30       	sub	a,0x30
3489  10D6  30 06       	jr	NC,l_game_flash_exit_00102
3490  10D8              l_game_flash_exit_00101:
3491  10D8  21 00 00    	ld	hl,_btiles
3492  10DB  09          	add	hl, bc
3493  10DC  CB FE       	set	7, (hl)
3494  10DE              l_game_flash_exit_00102:
3495  10DE  03          	inc	bc
3496  10DF  18 C9       	jr	l_game_flash_exit_00106
3497  10E1              l_game_flash_exit_00108:
3498  10E1  3A 00 00    	ld	a,(_game_exit_lin)
3499  10E4  C6 F8       	add	a,0xf8
3500  10E6  4F          	ld	c, a
3501  10E7  3A 00 00    	ld	a, (_game_exit_col)
3502  10EA  47          	ld	b,a
3503  10EB  C5          	push	bc
3504  10EC  3E 1C       	ld	a,0x1c
3505  10EE  F5          	push	af
3506  10EF  33          	inc	sp
3507  10F0  CD 00 00    	call	_spr_draw8
3508  10F3  F1          	pop	af
3509  10F4  33          	inc	sp
3510  10F5  21 00 00    	ld	hl,_game_exit_col
3511  10F8  46          	ld	b, (hl)
3512  10F9  04          	inc	b
3513  10FA  3A 00 00    	ld	a,(_game_exit_lin)
3514  10FD  C6 F8       	add	a,0xf8
3515  10FF  4F          	ld	c,a
3516  1100  C5          	push	bc
3517  1101  3E 1D       	ld	a,0x1d
3518  1103  F5          	push	af
3519  1104  33          	inc	sp
3520  1105  CD 00 00    	call	_spr_draw8
3521  1108  F1          	pop	af
3522  1109  33          	inc	sp
3523  110A  3A 00 00    	ld	a,(_game_exit_col)
3524  110D  F5          	push	af
3525  110E  33          	inc	sp
3526  110F  3A 00 00    	ld	a,(_game_exit_lin)
3527  1112  57          	ld	d,a
3528  1113  1E 1E       	ld	e,0x1e
3529  1115  D5          	push	de
3530  1116  CD 00 00    	call	_spr_draw8
3531  1119  F1          	pop	af
3532  111A  33          	inc	sp
3533  111B  21 00 00    	ld	hl,_game_exit_col
3534  111E  46          	ld	b, (hl)
3535  111F  04          	inc	b
3536  1120  C5          	push	bc
3537  1121  33          	inc	sp
3538  1122  3A 00 00    	ld	a,(_game_exit_lin)
3539  1125  57          	ld	d,a
3540  1126  1E 1F       	ld	e,0x1f
3541  1128  D5          	push	de
3542  1129  CD 00 00    	call	_spr_draw8
3543  112C  F1          	pop	af
3544  112D  33          	inc	sp
3545  112E  C9          	ret
3546  112F              	SECTION IGNORE
3547  0000              
