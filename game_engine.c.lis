1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_print_lives
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_tick
207   0000              	GLOBAL _game_borders
208   0000              	GLOBAL _game_loop
209   0000              	GLOBAL _game_fps
210   0000              	GLOBAL _game_draw_map
211   0000              	GLOBAL _game_cell_paint_index
212   0000              	GLOBAL _game_cell_paint
213   0000              	GLOBAL _game_print_footer
214   0000              	GLOBAL _game_print_score
215   0000              	GLOBAL _game_cls
216   0000              	GLOBAL _game_update_stats
217   0000              	GLOBAL _game_start_timer
218   0000              	GLOBAL _game_anim_air
219   0000              	GLOBAL _game_round_init
220   0000              	GLOBAL _game_print_header
221   0000              	GLOBAL _game_check_map
222   0000              	GLOBAL _game_check_cell
223   0000              	GLOBAL _game_paint_attrib
224   0000              	GLOBAL _game_colour_message
225   0000              	GLOBAL _game_check_time
226   0000              	GLOBAL _game_key_paint
227   0000              	GLOBAL _game_rotate_attrib_osd
228   0000              	GLOBAL _game_attribs
229   0000              	GLOBAL _game_page_map
230   0000              	GLOBAL _game_flash_exit
231   0000              	GLOBAL _game_copy_tile_std
232   0000              	GLOBAL _game_copy_tile
233   0000              	GLOBAL _reverse
234   0000              ;--------------------------------------------------------
235   0000              ; Externals used
236   0000              ;--------------------------------------------------------
237   0000              	GLOBAL _ffsll_callee
238   0000              	GLOBAL _ffsll
239   0000              	GLOBAL _strxfrm_callee
240   0000              	GLOBAL _strxfrm
241   0000              	GLOBAL _strupr_fastcall
242   0000              	GLOBAL _strupr
243   0000              	GLOBAL _strtok_r_callee
244   0000              	GLOBAL _strtok_r
245   0000              	GLOBAL _strtok_callee
246   0000              	GLOBAL _strtok
247   0000              	GLOBAL _strstrip_fastcall
248   0000              	GLOBAL _strstrip
249   0000              	GLOBAL _strstr_callee
250   0000              	GLOBAL _strstr
251   0000              	GLOBAL _strspn_callee
252   0000              	GLOBAL _strspn
253   0000              	GLOBAL _strsep_callee
254   0000              	GLOBAL _strsep
255   0000              	GLOBAL _strrstrip_fastcall
256   0000              	GLOBAL _strrstrip
257   0000              	GLOBAL _strrstr_callee
258   0000              	GLOBAL _strrstr
259   0000              	GLOBAL _strrspn_callee
260   0000              	GLOBAL _strrspn
261   0000              	GLOBAL _strrev_fastcall
262   0000              	GLOBAL _strrev
263   0000              	GLOBAL _strrcspn_callee
264   0000              	GLOBAL _strrcspn
265   0000              	GLOBAL _strrchr_callee
266   0000              	GLOBAL _strrchr
267   0000              	GLOBAL _strpbrk_callee
268   0000              	GLOBAL _strpbrk
269   0000              	GLOBAL _strnlen_callee
270   0000              	GLOBAL _strnlen
271   0000              	GLOBAL _strnicmp_callee
272   0000              	GLOBAL _strnicmp
273   0000              	GLOBAL _strndup_callee
274   0000              	GLOBAL _strndup
275   0000              	GLOBAL _strncpy_callee
276   0000              	GLOBAL _strncpy
277   0000              	GLOBAL _strncmp_callee
278   0000              	GLOBAL _strncmp
279   0000              	GLOBAL _strnchr_callee
280   0000              	GLOBAL _strnchr
281   0000              	GLOBAL _strncat_callee
282   0000              	GLOBAL _strncat
283   0000              	GLOBAL _strncasecmp_callee
284   0000              	GLOBAL _strncasecmp
285   0000              	GLOBAL _strlwr_fastcall
286   0000              	GLOBAL _strlwr
287   0000              	GLOBAL _strlen_fastcall
288   0000              	GLOBAL _strlen
289   0000              	GLOBAL _strlcpy_callee
290   0000              	GLOBAL _strlcpy
291   0000              	GLOBAL _strlcat_callee
292   0000              	GLOBAL _strlcat
293   0000              	GLOBAL _stricmp_callee
294   0000              	GLOBAL _stricmp
295   0000              	GLOBAL _strerror_fastcall
296   0000              	GLOBAL _strerror
297   0000              	GLOBAL _strdup_fastcall
298   0000              	GLOBAL _strdup
299   0000              	GLOBAL _strcspn_callee
300   0000              	GLOBAL _strcspn
301   0000              	GLOBAL _strcpy_callee
302   0000              	GLOBAL _strcpy
303   0000              	GLOBAL _strcoll_callee
304   0000              	GLOBAL _strcoll
305   0000              	GLOBAL _strcmp_callee
306   0000              	GLOBAL _strcmp
307   0000              	GLOBAL _strchrnul_callee
308   0000              	GLOBAL _strchrnul
309   0000              	GLOBAL _strchr_callee
310   0000              	GLOBAL _strchr
311   0000              	GLOBAL _strcat_callee
312   0000              	GLOBAL _strcat
313   0000              	GLOBAL _strcasecmp_callee
314   0000              	GLOBAL _strcasecmp
315   0000              	GLOBAL _stpncpy_callee
316   0000              	GLOBAL _stpncpy
317   0000              	GLOBAL _stpcpy_callee
318   0000              	GLOBAL _stpcpy
319   0000              	GLOBAL _memswap_callee
320   0000              	GLOBAL _memswap
321   0000              	GLOBAL _memset_callee
322   0000              	GLOBAL _memset
323   0000              	GLOBAL _memrchr_callee
324   0000              	GLOBAL _memrchr
325   0000              	GLOBAL _memmove_callee
326   0000              	GLOBAL _memmove
327   0000              	GLOBAL _memmem_callee
328   0000              	GLOBAL _memmem
329   0000              	GLOBAL _memcpy_callee
330   0000              	GLOBAL _memcpy
331   0000              	GLOBAL _memcmp_callee
332   0000              	GLOBAL _memcmp
333   0000              	GLOBAL _memchr_callee
334   0000              	GLOBAL _memchr
335   0000              	GLOBAL _memccpy_callee
336   0000              	GLOBAL _memccpy
337   0000              	GLOBAL _ffsl_fastcall
338   0000              	GLOBAL _ffsl
339   0000              	GLOBAL _ffs_fastcall
340   0000              	GLOBAL _ffs
341   0000              	GLOBAL __strrstrip__fastcall
342   0000              	GLOBAL __strrstrip_
343   0000              	GLOBAL __memupr__callee
344   0000              	GLOBAL __memupr_
345   0000              	GLOBAL __memstrcpy__callee
346   0000              	GLOBAL __memstrcpy_
347   0000              	GLOBAL __memlwr__callee
348   0000              	GLOBAL __memlwr_
349   0000              	GLOBAL _rawmemchr_callee
350   0000              	GLOBAL _rawmemchr
351   0000              	GLOBAL _strnset_callee
352   0000              	GLOBAL _strnset
353   0000              	GLOBAL _strset_callee
354   0000              	GLOBAL _strset
355   0000              	GLOBAL _rindex_callee
356   0000              	GLOBAL _rindex
357   0000              	GLOBAL _index_callee
358   0000              	GLOBAL _index
359   0000              	GLOBAL _bzero_callee
360   0000              	GLOBAL _bzero
361   0000              	GLOBAL _bcopy_callee
362   0000              	GLOBAL _bcopy
363   0000              	GLOBAL _bcmp_callee
364   0000              	GLOBAL _bcmp
365   0000              	GLOBAL _ulltoa_callee
366   0000              	GLOBAL _ulltoa
367   0000              	GLOBAL _strtoull_callee
368   0000              	GLOBAL _strtoull
369   0000              	GLOBAL _strtoll_callee
370   0000              	GLOBAL _strtoll
371   0000              	GLOBAL _lltoa_callee
372   0000              	GLOBAL _lltoa
373   0000              	GLOBAL _llabs_callee
374   0000              	GLOBAL _llabs
375   0000              	GLOBAL __lldivu__callee
376   0000              	GLOBAL __lldivu_
377   0000              	GLOBAL __lldiv__callee
378   0000              	GLOBAL __lldiv_
379   0000              	GLOBAL _atoll_callee
380   0000              	GLOBAL _atoll
381   0000              	GLOBAL _realloc_unlocked_callee
382   0000              	GLOBAL _realloc_unlocked
383   0000              	GLOBAL _malloc_unlocked_fastcall
384   0000              	GLOBAL _malloc_unlocked
385   0000              	GLOBAL _free_unlocked_fastcall
386   0000              	GLOBAL _free_unlocked
387   0000              	GLOBAL _calloc_unlocked_callee
388   0000              	GLOBAL _calloc_unlocked
389   0000              	GLOBAL _aligned_alloc_unlocked_callee
390   0000              	GLOBAL _aligned_alloc_unlocked
391   0000              	GLOBAL _realloc_callee
392   0000              	GLOBAL _realloc
393   0000              	GLOBAL _malloc_fastcall
394   0000              	GLOBAL _malloc
395   0000              	GLOBAL _free_fastcall
396   0000              	GLOBAL _free
397   0000              	GLOBAL _calloc_callee
398   0000              	GLOBAL _calloc
399   0000              	GLOBAL _aligned_alloc_callee
400   0000              	GLOBAL _aligned_alloc
401   0000              	GLOBAL _utoa_callee
402   0000              	GLOBAL _utoa
403   0000              	GLOBAL _ultoa_callee
404   0000              	GLOBAL _ultoa
405   0000              	GLOBAL _system_fastcall
406   0000              	GLOBAL _system
407   0000              	GLOBAL _strtoul_callee
408   0000              	GLOBAL _strtoul
409   0000              	GLOBAL _strtol_callee
410   0000              	GLOBAL _strtol
411   0000              	GLOBAL _strtof_callee
412   0000              	GLOBAL _strtof
413   0000              	GLOBAL _strtod_callee
414   0000              	GLOBAL _strtod
415   0000              	GLOBAL _srand_fastcall
416   0000              	GLOBAL _srand
417   0000              	GLOBAL _rand
418   0000              	GLOBAL _quick_exit_fastcall
419   0000              	GLOBAL _quick_exit
420   0000              	GLOBAL _qsort_callee
421   0000              	GLOBAL _qsort
422   0000              	GLOBAL _ltoa_callee
423   0000              	GLOBAL _ltoa
424   0000              	GLOBAL _labs_fastcall
425   0000              	GLOBAL _labs
426   0000              	GLOBAL _itoa_callee
427   0000              	GLOBAL _itoa
428   0000              	GLOBAL _ftoh_callee
429   0000              	GLOBAL _ftoh
430   0000              	GLOBAL _ftog_callee
431   0000              	GLOBAL _ftog
432   0000              	GLOBAL _ftoe_callee
433   0000              	GLOBAL _ftoe
434   0000              	GLOBAL _ftoa_callee
435   0000              	GLOBAL _ftoa
436   0000              	GLOBAL _exit_fastcall
437   0000              	GLOBAL _exit
438   0000              	GLOBAL _dtoh_callee
439   0000              	GLOBAL _dtoh
440   0000              	GLOBAL _dtog_callee
441   0000              	GLOBAL _dtog
442   0000              	GLOBAL _dtoe_callee
443   0000              	GLOBAL _dtoe
444   0000              	GLOBAL _dtoa_callee
445   0000              	GLOBAL _dtoa
446   0000              	GLOBAL _bsearch_callee
447   0000              	GLOBAL _bsearch
448   0000              	GLOBAL _atol_fastcall
449   0000              	GLOBAL _atol
450   0000              	GLOBAL _atoi_fastcall
451   0000              	GLOBAL _atoi
452   0000              	GLOBAL _atof_fastcall
453   0000              	GLOBAL _atof
454   0000              	GLOBAL _atexit_fastcall
455   0000              	GLOBAL _atexit
456   0000              	GLOBAL _at_quick_exit_fastcall
457   0000              	GLOBAL _at_quick_exit
458   0000              	GLOBAL _abs_fastcall
459   0000              	GLOBAL _abs
460   0000              	GLOBAL _abort
461   0000              	GLOBAL __strtou__callee
462   0000              	GLOBAL __strtou_
463   0000              	GLOBAL __strtoi__callee
464   0000              	GLOBAL __strtoi_
465   0000              	GLOBAL __random_uniform_xor_8__fastcall
466   0000              	GLOBAL __random_uniform_xor_8_
467   0000              	GLOBAL __random_uniform_xor_32__fastcall
468   0000              	GLOBAL __random_uniform_xor_32_
469   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
470   0000              	GLOBAL __random_uniform_cmwc_8_
471   0000              	GLOBAL __shellsort__callee
472   0000              	GLOBAL __shellsort_
473   0000              	GLOBAL __quicksort__callee
474   0000              	GLOBAL __quicksort_
475   0000              	GLOBAL __insertion_sort__callee
476   0000              	GLOBAL __insertion_sort_
477   0000              	GLOBAL __ldivu__callee
478   0000              	GLOBAL __ldivu_
479   0000              	GLOBAL __ldiv__callee
480   0000              	GLOBAL __ldiv_
481   0000              	GLOBAL __divu__callee
482   0000              	GLOBAL __divu_
483   0000              	GLOBAL __div__callee
484   0000              	GLOBAL __div_
485   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
486   0000              	GLOBAL _NIRVANAP_drawTW_raw
487   0000              	GLOBAL _NIRVANAP_drawTW_callee
488   0000              	GLOBAL _NIRVANAP_drawTW
489   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
490   0000              	GLOBAL _NIRVANAP_drawW_raw
491   0000              	GLOBAL _NIRVANAP_drawW_callee
492   0000              	GLOBAL _NIRVANAP_drawW
493   0000              	GLOBAL _NIRVANAP_spriteT_callee
494   0000              	GLOBAL _NIRVANAP_spriteT
495   0000              	GLOBAL _NIRVANAP_fillC_callee
496   0000              	GLOBAL _NIRVANAP_fillC
497   0000              	GLOBAL _NIRVANAP_readC_callee
498   0000              	GLOBAL _NIRVANAP_readC
499   0000              	GLOBAL _NIRVANAP_paintC_callee
500   0000              	GLOBAL _NIRVANAP_paintC
501   0000              	GLOBAL _NIRVANAP_printC_callee
502   0000              	GLOBAL _NIRVANAP_printC
503   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
504   0000              	GLOBAL _NIRVANAP_fillT_raw
505   0000              	GLOBAL _NIRVANAP_fillT_callee
506   0000              	GLOBAL _NIRVANAP_fillT
507   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
508   0000              	GLOBAL _NIRVANAP_drawT_raw
509   0000              	GLOBAL _NIRVANAP_drawT_callee
510   0000              	GLOBAL _NIRVANAP_drawT
511   0000              	GLOBAL _NIRVANAP_stop
512   0000              	GLOBAL _NIRVANAP_start
513   0000              	GLOBAL _zx_print_str
514   0000              	GLOBAL _zx_print_int
515   0000              	GLOBAL _zx_print_chr
516   0000              	GLOBAL _zx_isr
517   0000              	GLOBAL _z80_otdr_callee
518   0000              	GLOBAL _z80_otdr
519   0000              	GLOBAL _z80_otir_callee
520   0000              	GLOBAL _z80_otir
521   0000              	GLOBAL _z80_outp_callee
522   0000              	GLOBAL _z80_outp
523   0000              	GLOBAL _z80_indr_callee
524   0000              	GLOBAL _z80_indr
525   0000              	GLOBAL _z80_inir_callee
526   0000              	GLOBAL _z80_inir
527   0000              	GLOBAL _z80_inp_fastcall
528   0000              	GLOBAL _z80_inp
529   0000              	GLOBAL _z80_set_int_state_fastcall
530   0000              	GLOBAL _z80_set_int_state
531   0000              	GLOBAL _z80_get_int_state
532   0000              	GLOBAL _z80_delay_tstate_fastcall
533   0000              	GLOBAL _z80_delay_tstate
534   0000              	GLOBAL _z80_delay_ms_fastcall
535   0000              	GLOBAL _z80_delay_ms
536   0000              	GLOBAL _im2_remove_generic_callback_callee
537   0000              	GLOBAL _im2_remove_generic_callback
538   0000              	GLOBAL _im2_prepend_generic_callback_callee
539   0000              	GLOBAL _im2_prepend_generic_callback
540   0000              	GLOBAL _im2_append_generic_callback_callee
541   0000              	GLOBAL _im2_append_generic_callback
542   0000              	GLOBAL _im2_create_generic_isr_8080_callee
543   0000              	GLOBAL _im2_create_generic_isr_8080
544   0000              	GLOBAL _im2_create_generic_isr_callee
545   0000              	GLOBAL _im2_create_generic_isr
546   0000              	GLOBAL _im2_install_isr_callee
547   0000              	GLOBAL _im2_install_isr
548   0000              	GLOBAL _im2_init_fastcall
549   0000              	GLOBAL _im2_init
550   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
551   0000              	GLOBAL _intrinsic_swap_word_32
552   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
553   0000              	GLOBAL _intrinsic_swap_endian_32
554   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
555   0000              	GLOBAL _intrinsic_swap_endian_16
556   0000              	GLOBAL _intrinsic_return_de
557   0000              	GLOBAL _intrinsic_return_bc
558   0000              	GLOBAL _intrinsic_exx
559   0000              	GLOBAL _intrinsic_ex_de_hl
560   0000              	GLOBAL _intrinsic_nop
561   0000              	GLOBAL _intrinsic_im_2
562   0000              	GLOBAL _intrinsic_im_1
563   0000              	GLOBAL _intrinsic_im_0
564   0000              	GLOBAL _intrinsic_retn
565   0000              	GLOBAL _intrinsic_reti
566   0000              	GLOBAL _intrinsic_halt
567   0000              	GLOBAL _intrinsic_ei
568   0000              	GLOBAL _intrinsic_di
569   0000              	GLOBAL _intrinsic_stub
570   0000              	GLOBAL _intrinsic_ini
571   0000              	GLOBAL _intrinsic_outi
572   0000              	GLOBAL _intrinsic_ldi
573   0000              	GLOBAL _zx_pattern_fill_callee
574   0000              	GLOBAL _zx_pattern_fill
575   0000              	GLOBAL _zx_saddrpup_fastcall
576   0000              	GLOBAL _zx_saddrpup
577   0000              	GLOBAL _zx_saddrpright_callee
578   0000              	GLOBAL _zx_saddrpright
579   0000              	GLOBAL _zx_saddrpleft_callee
580   0000              	GLOBAL _zx_saddrpleft
581   0000              	GLOBAL _zx_saddrpdown_fastcall
582   0000              	GLOBAL _zx_saddrpdown
583   0000              	GLOBAL _zx_saddrcup_fastcall
584   0000              	GLOBAL _zx_saddrcup
585   0000              	GLOBAL _zx_saddrcright_fastcall
586   0000              	GLOBAL _zx_saddrcright
587   0000              	GLOBAL _zx_saddrcleft_fastcall
588   0000              	GLOBAL _zx_saddrcleft
589   0000              	GLOBAL _zx_saddrcdown_fastcall
590   0000              	GLOBAL _zx_saddrcdown
591   0000              	GLOBAL _zx_saddr2py_fastcall
592   0000              	GLOBAL _zx_saddr2py
593   0000              	GLOBAL _zx_saddr2px_fastcall
594   0000              	GLOBAL _zx_saddr2px
595   0000              	GLOBAL _zx_saddr2cy_fastcall
596   0000              	GLOBAL _zx_saddr2cy
597   0000              	GLOBAL _zx_saddr2cx_fastcall
598   0000              	GLOBAL _zx_saddr2cx
599   0000              	GLOBAL _zx_saddr2aaddr_fastcall
600   0000              	GLOBAL _zx_saddr2aaddr
601   0000              	GLOBAL _zx_py2saddr_fastcall
602   0000              	GLOBAL _zx_py2saddr
603   0000              	GLOBAL _zx_py2aaddr_fastcall
604   0000              	GLOBAL _zx_py2aaddr
605   0000              	GLOBAL _zx_pxy2saddr_callee
606   0000              	GLOBAL _zx_pxy2saddr
607   0000              	GLOBAL _zx_pxy2aaddr_callee
608   0000              	GLOBAL _zx_pxy2aaddr
609   0000              	GLOBAL _zx_px2bitmask_fastcall
610   0000              	GLOBAL _zx_px2bitmask
611   0000              	GLOBAL _zx_cy2saddr_fastcall
612   0000              	GLOBAL _zx_cy2saddr
613   0000              	GLOBAL _zx_cy2aaddr_fastcall
614   0000              	GLOBAL _zx_cy2aaddr
615   0000              	GLOBAL _zx_cxy2saddr_callee
616   0000              	GLOBAL _zx_cxy2saddr
617   0000              	GLOBAL _zx_cxy2aaddr_callee
618   0000              	GLOBAL _zx_cxy2aaddr
619   0000              	GLOBAL _zx_bitmask2px_fastcall
620   0000              	GLOBAL _zx_bitmask2px
621   0000              	GLOBAL _zx_aaddrcup_fastcall
622   0000              	GLOBAL _zx_aaddrcup
623   0000              	GLOBAL _zx_aaddrcright_fastcall
624   0000              	GLOBAL _zx_aaddrcright
625   0000              	GLOBAL _zx_aaddrcleft_fastcall
626   0000              	GLOBAL _zx_aaddrcleft
627   0000              	GLOBAL _zx_aaddrcdown_fastcall
628   0000              	GLOBAL _zx_aaddrcdown
629   0000              	GLOBAL _zx_aaddr2saddr_fastcall
630   0000              	GLOBAL _zx_aaddr2saddr
631   0000              	GLOBAL _zx_aaddr2py_fastcall
632   0000              	GLOBAL _zx_aaddr2py
633   0000              	GLOBAL _zx_aaddr2px_fastcall
634   0000              	GLOBAL _zx_aaddr2px
635   0000              	GLOBAL _zx_aaddr2cy_fastcall
636   0000              	GLOBAL _zx_aaddr2cy
637   0000              	GLOBAL _zx_aaddr2cx_fastcall
638   0000              	GLOBAL _zx_aaddr2cx
639   0000              	GLOBAL _zx_visit_wc_pix_callee
640   0000              	GLOBAL _zx_visit_wc_pix
641   0000              	GLOBAL _zx_visit_wc_attr_callee
642   0000              	GLOBAL _zx_visit_wc_attr
643   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
644   0000              	GLOBAL _zx_scroll_wc_up_pix
645   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
646   0000              	GLOBAL _zx_scroll_wc_up_attr
647   0000              	GLOBAL _zx_scroll_wc_up_callee
648   0000              	GLOBAL _zx_scroll_wc_up
649   0000              	GLOBAL _zx_scroll_up_pix_callee
650   0000              	GLOBAL _zx_scroll_up_pix
651   0000              	GLOBAL _zx_scroll_up_attr_callee
652   0000              	GLOBAL _zx_scroll_up_attr
653   0000              	GLOBAL _zx_scroll_up_callee
654   0000              	GLOBAL _zx_scroll_up
655   0000              	GLOBAL _zx_cls_wc_pix_callee
656   0000              	GLOBAL _zx_cls_wc_pix
657   0000              	GLOBAL _zx_cls_wc_attr_callee
658   0000              	GLOBAL _zx_cls_wc_attr
659   0000              	GLOBAL _zx_cls_wc_callee
660   0000              	GLOBAL _zx_cls_wc
661   0000              	GLOBAL _zx_cls_pix_fastcall
662   0000              	GLOBAL _zx_cls_pix
663   0000              	GLOBAL _zx_cls_attr_fastcall
664   0000              	GLOBAL _zx_cls_attr
665   0000              	GLOBAL _zx_cls_fastcall
666   0000              	GLOBAL _zx_cls
667   0000              	GLOBAL _zx_border_fastcall
668   0000              	GLOBAL _zx_border
669   0000              	GLOBAL _zx_tape_verify_block_callee
670   0000              	GLOBAL _zx_tape_verify_block
671   0000              	GLOBAL _zx_tape_save_block_callee
672   0000              	GLOBAL _zx_tape_save_block
673   0000              	GLOBAL _zx_tape_load_block_callee
674   0000              	GLOBAL _zx_tape_load_block
675   0000              	GLOBAL _spr_draw8
676   0000              	GLOBAL _spr_destroy
677   0000              	GLOBAL _spr_unflattenP1
678   0000              	GLOBAL _spr_flatten
679   0000              	GLOBAL _spr_btile_paint_back
680   0000              	GLOBAL _spr_turn_horizontal
681   0000              	GLOBAL _spr_play_anim
682   0000              	GLOBAL _spr_add_anim
683   0000              	GLOBAL _spr_clear_scr
684   0000              	GLOBAL _spr_back_repaint
685   0000              	GLOBAL _spr_get_tile_dir
686   0000              	GLOBAL _spr_get_tile
687   0000              	GLOBAL _spr_paint_player
688   0000              	GLOBAL _spr_paint
689   0000              	GLOBAL _spr_move_left
690   0000              	GLOBAL _spr_move_right
691   0000              	GLOBAL _spr_move_left_f
692   0000              	GLOBAL _spr_move_right_f
693   0000              	GLOBAL _spr_move_horizontal
694   0000              	GLOBAL _spr_move_down_f
695   0000              	GLOBAL _spr_move_up_f
696   0000              	GLOBAL _spr_move_down
697   0000              	GLOBAL _spr_move_up
698   0000              	GLOBAL _spr_set_right
699   0000              	GLOBAL _spr_set_left
700   0000              	GLOBAL _spr_set_down
701   0000              	GLOBAL _spr_set_up
702   0000              	GLOBAL _spr_calc_index
703   0000              	GLOBAL _spr_chktime
704   0000              	GLOBAL _player_use_floor
705   0000              	GLOBAL _player_lost_life
706   0000              	GLOBAL _player_move_jump
707   0000              	GLOBAL _player_tile
708   0000              	GLOBAL _player_pick_exit
709   0000              	GLOBAL _player_pick_deadly
710   0000              	GLOBAL _player_pick_item
711   0000              	GLOBAL _player_check_ceil
712   0000              	GLOBAL _player_check_floor
713   0000              	GLOBAL _player_score_add
714   0000              	GLOBAL _player_move_walk
715   0000              	GLOBAL _player_turn
716   0000              	GLOBAL _player_move
717   0000              	GLOBAL _player_check_input
718   0000              	GLOBAL _player_init
719   0000              	GLOBAL _menu_define_key
720   0000              	GLOBAL _menu_redefine
721   0000              	GLOBAL _menu_main_print
722   0000              	GLOBAL _menu_main
723   0000              	GLOBAL _game_fill_row
724   0000              	GLOBAL _enemy_kill
725   0000              	GLOBAL _enemy_init
726   0000              	GLOBAL _enemy_move
727   0000              	GLOBAL _enemy_turn
728   0000              	GLOBAL _enemy_static
729   0000              	GLOBAL _enemy_walk
730   0000              	GLOBAL _enemy_horizontal
731   0000              	GLOBAL _enemy_vertical
732   0000              	GLOBAL _ay_reset
733   0000              	GLOBAL _ay_song_stop
734   0000              	GLOBAL _ay_song_play
735   0000              	GLOBAL _ay_fx_stop
736   0000              	GLOBAL _ay_fx_play
737   0000              	GLOBAL _ay_is_playing
738   0000              	GLOBAL _audio_levelup
739   0000              	GLOBAL _audio_menu
740   0000              	GLOBAL _audio_game_end
741   0000              	GLOBAL _audio_level_complete
742   0000              	GLOBAL _audio_level_start
743   0000              	GLOBAL _audio_lotr_lose_a_life
744   0000              	GLOBAL _audio_puerta
745   0000              	GLOBAL _audio_sin_mana
746   0000              	GLOBAL _audio_magic1
747   0000              	GLOBAL _audio_coin
748   0000              	GLOBAL _audio_golpe
749   0000              	GLOBAL _audio_salto
750   0000              	GLOBAL _audio_efecto
751   0000              	GLOBAL _audio_disparo_fire
752   0000              	GLOBAL _audio_disparo_axe
753   0000              	GLOBAL _audio_disparo2
754   0000              	GLOBAL _audio_disparo1
755   0000              	GLOBAL _audio_explosion1
756   0000              	GLOBAL _audio_explosion
757   0000              	GLOBAL _audio_ingame
758   0000              	GLOBAL _test_func
759   0000              	GLOBAL _test_proc
760   0000              	GLOBAL _in_mouse_kempston_wheel_delta
761   0000              	GLOBAL _in_mouse_kempston_wheel
762   0000              	GLOBAL _in_mouse_kempston_callee
763   0000              	GLOBAL _in_mouse_kempston
764   0000              	GLOBAL _in_mouse_kempston_setpos_callee
765   0000              	GLOBAL _in_mouse_kempston_setpos
766   0000              	GLOBAL _in_mouse_kempston_reset
767   0000              	GLOBAL _in_mouse_kempston_init
768   0000              	GLOBAL _in_mouse_amx_wheel_delta
769   0000              	GLOBAL _in_mouse_amx_wheel
770   0000              	GLOBAL _in_mouse_amx_callee
771   0000              	GLOBAL _in_mouse_amx
772   0000              	GLOBAL _in_mouse_amx_setpos_callee
773   0000              	GLOBAL _in_mouse_amx_setpos
774   0000              	GLOBAL _in_mouse_amx_reset
775   0000              	GLOBAL _in_mouse_amx_init_callee
776   0000              	GLOBAL _in_mouse_amx_init
777   0000              	GLOBAL _in_stick_sinclair2
778   0000              	GLOBAL _in_stick_sinclair1
779   0000              	GLOBAL _in_stick_kempston
780   0000              	GLOBAL _in_stick_fuller
781   0000              	GLOBAL _in_stick_cursor
782   0000              	GLOBAL _in_stick_keyboard_fastcall
783   0000              	GLOBAL _in_stick_keyboard
784   0000              	GLOBAL _in_wait_nokey
785   0000              	GLOBAL _in_wait_key
786   0000              	GLOBAL _in_test_key
787   0000              	GLOBAL _in_pause_fastcall
788   0000              	GLOBAL _in_pause
789   0000              	GLOBAL _in_key_scancode_fastcall
790   0000              	GLOBAL _in_key_scancode
791   0000              	GLOBAL _in_key_pressed_fastcall
792   0000              	GLOBAL _in_key_pressed
793   0000              	GLOBAL _in_inkey
794   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
795   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
796   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
797   0000              	GLOBAL _NIRVANAP_HOLE
798   0000              	GLOBAL _NIRVANAP_ISR_HOOK
799   0000              	GLOBAL _air_curr_byte
800   0000              	GLOBAL _spr_init_cout
801   0000              	GLOBAL _spr_init_cin
802   0000              	GLOBAL _scan_map
803   0000              	GLOBAL _map_paper_last
804   0000              	GLOBAL _map_paper_clr
805   0000              	GLOBAL _map_paper
806   0000              	GLOBAL _map_border
807   0000              	GLOBAL _anim_count
808   0000              	GLOBAL _anim_loop
809   0000              	GLOBAL _anim_end
810   0000              	GLOBAL _anim_int
811   0000              	GLOBAL _anim_tile
812   0000              	GLOBAL _anim_col
813   0000              	GLOBAL _anim_lin
814   0000              	GLOBAL _map_heigth
815   0000              	GLOBAL _map_width
816   0000              	GLOBAL _scr_curr
817   0000              	GLOBAL _scr_map
818   0000              	GLOBAL _spr_kind
819   0000              	GLOBAL _spr_frames
820   0000              	GLOBAL _spr_speed
821   0000              	GLOBAL _spr_tile
822   0000              	GLOBAL _screen_ink
823   0000              	GLOBAL _screen_paper
824   0000              	GLOBAL _game_start_scr
825   0000              	GLOBAL _game_score_top
826   0000              	GLOBAL _player_coins
827   0000              	GLOBAL _player_lives
828   0000              	GLOBAL _game_over
829   0000              	GLOBAL _game_tile_cnt
830   0000              	GLOBAL _game_sound
831   0000              	GLOBAL _game_inf_lives
832   0000              	GLOBAL _game_inmune
833   0000              	GLOBAL _sprite_curr_index
834   0000              	GLOBAL _spr_count
835   0000              	GLOBAL _key_ink
836   0000              	GLOBAL _key_last
837   0000              	GLOBAL _anim_time
838   0000              	GLOBAL _air_time
839   0000              	GLOBAL _frame_time
840   0000              	GLOBAL _curr_time
841   0000              	GLOBAL _p_state_a
842   0000              	GLOBAL _p_state
843   0000              	GLOBAL _key_attrib
844   0000              	GLOBAL _game_attrib_osd
845   0000              	GLOBAL _attrib_osd
846   0000              	GLOBAL _attrib_hl
847   0000              	GLOBAL _attrib
848   0000              	GLOBAL _zx_val_asm
849   0000              	GLOBAL _enemies
850   0000              	GLOBAL _tmp_ui
851   0000              	GLOBAL _index1
852   0000              	GLOBAL _index0
853   0000              	GLOBAL _index_tmp
854   0000              	GLOBAL _loop_count
855   0000              	GLOBAL _s_class
856   0000              	GLOBAL _s_row1
857   0000              	GLOBAL _s_col1
858   0000              	GLOBAL _s_col0
859   0000              	GLOBAL _s_lin1
860   0000              	GLOBAL _s_lin0
861   0000              	GLOBAL _s_tile1
862   0000              	GLOBAL _s_tile0
863   0000              	GLOBAL _nirv_sprite_index
864   0000              	GLOBAL _player_kill_index
865   0000              	GLOBAL _player_killed
866   0000              	GLOBAL _player_jump_top
867   0000              	GLOBAL _game_fps_show
868   0000              	GLOBAL _game_debug
869   0000              	GLOBAL _sprite
870   0000              	GLOBAL _fps
871   0000              	GLOBAL _game_tileset
872   0000              	GLOBAL _menu_curr_sel
873   0000              	GLOBAL _game_round_up
874   0000              	GLOBAL _game_playing
875   0000              	GLOBAL _game_exit_lin
876   0000              	GLOBAL _game_exit_col
877   0000              	GLOBAL _game_conveyor_col1
878   0000              	GLOBAL _game_conveyor_col0
879   0000              	GLOBAL _game_conveyor_lin
880   0000              	GLOBAL _game_conveyor_dir
881   0000              	GLOBAL _game_song_play_start
882   0000              	GLOBAL _game_song_play
883   0000              	GLOBAL _game_world
884   0000              	GLOBAL _game_gravity
885   0000              	GLOBAL _player_jumpcount
886   0000              	GLOBAL _player_hit
887   0000              	GLOBAL _player_hit_time
888   0000              	GLOBAL _player_lin_scr
889   0000              	GLOBAL _player_col_scr
890   0000              	GLOBAL _player_jump_count
891   0000              	GLOBAL _player_jump_hack
892   0000              	GLOBAL _player_vel_inc
893   0000              	GLOBAL _player_vel_y0
894   0000              	GLOBAL _player_vel_y
895   0000              	GLOBAL _player_score
896   0000              	GLOBAL _tbuffer
897   0000              	GLOBAL _obj_count
898   0000              	GLOBAL _obj_col
899   0000              	GLOBAL _obj_lin
900   0000              	GLOBAL _spr_timer
901   0000              	GLOBAL _last_time
902   0000              	GLOBAL _colint
903   0000              	GLOBAL _col
904   0000              	GLOBAL _lin
905   0000              	GLOBAL _tile
906   0000              	GLOBAL _value_b
907   0000              	GLOBAL _value_a
908   0000              	GLOBAL _state_a
909   0000              	GLOBAL _state
910   0000              	GLOBAL _class
911   0000              	GLOBAL _dirs
912   0000              	GLOBAL _k1
913   0000              	GLOBAL _joyfunc2
914   0000              	GLOBAL _joyfunc1
915   0000              	GLOBAL _btiles
916   0000              	GLOBAL _v3
917   0000              	GLOBAL _v2
918   0000              	GLOBAL _v1
919   0000              	GLOBAL _v0
920   0000              	GLOBAL _i
921   0000              	GLOBAL _spec128
922   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
923   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
924   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
925   0000              	GLOBAL _ay_fx_06_disparo_fire
926   0000              	GLOBAL _ay_fx_06_disparo_axe
927   0000              	GLOBAL _ay_fx_06_explosion1
928   0000              	GLOBAL _ay_fx_06_efecto
929   0000              	GLOBAL _ay_fx_06_disparo2
930   0000              	GLOBAL _ay_fx_06_disparo1
931   0000              	GLOBAL _ay_fx_06_levelup
932   0000              	GLOBAL _ay_fx_06_magic
933   0000              	GLOBAL _ay_fx_06_sin_mana
934   0000              	GLOBAL _ay_fx_06_salto
935   0000              	GLOBAL _ay_fx_06_puerta
936   0000              	GLOBAL _ay_fx_06_magic1
937   0000              	GLOBAL _ay_fx_06_golpe
938   0000              	GLOBAL _ay_fx_06_explosion
939   0000              	GLOBAL _ay_fx_06_dano_por_toque
940   0000              	GLOBAL _ay_fx_06_coin
941   0000              	GLOBAL _ay_song_06_lotr_level_start
942   0000              	GLOBAL _ay_song_06_lotr_level_complete
943   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
944   0000              	GLOBAL _ay_song_04_menu
945   0000              	GLOBAL _ay_song_04_ingame0
946   0000              	GLOBAL _ay_song_04_ingame
947   0000              	GLOBAL _hibtiles
948   0000              	GLOBAL _air_end_byte
949   0000              	GLOBAL _air_start_byte
950   0000              	GLOBAL _key_map
951   0000              	GLOBAL _paper0
952   0000              	GLOBAL _lenght0
953   0000              	GLOBAL _world0
954   0000              	GLOBAL _spr_init_len
955   0000              	GLOBAL _spr_init
956   0000              ;--------------------------------------------------------
957   0000              ; special function registers
958   0000              ;--------------------------------------------------------
959   0000              defc _IO_FE	=	0x00fe
960   0000              defc _IO_1FFD	=	0x1ffd
961   0000              defc _IO_7FFD	=	0x7ffd
962   0000              ;--------------------------------------------------------
963   0000              ; ram data
964   0000              ;--------------------------------------------------------
965   0000              	SECTION bss_compiler
966   0000              ;--------------------------------------------------------
967   0000              ; ram data
968   0000              ;--------------------------------------------------------
969   0000              
970   0000              IF 0
971   0000              
972   0000              ; .area _INITIALIZED removed by z88dk
973   0000              
974   0000              
975   0000              ENDIF
976   0000              
977   0000              ;--------------------------------------------------------
978   0000              ; absolute external ram data
979   0000              ;--------------------------------------------------------
980   0000              	SECTION IGNORE
981   0000              ;--------------------------------------------------------
982   0000              ; global & static initialisations
983   0000              ;--------------------------------------------------------
984   0000              	SECTION code_crt_init
985   0000              ;--------------------------------------------------------
986   0000              ; Home
987   0000              ;--------------------------------------------------------
988   0000              	SECTION IGNORE
989   0000              ;--------------------------------------------------------
990   0000              ; code
991   0000              ;--------------------------------------------------------
992   0000              	SECTION code_compiler
993   0000              ;	---------------------------------
994   0000              ; Function game_tick
995   0000              ; ---------------------------------
996   0000              _game_tick:
997   0000  21 00 00    	ld	hl,_curr_time
998   0003  34          	inc	(hl)
999   0004  C2 00 00    	jp	NZ,_zx_isr
1000  0007  23          	inc	hl
1001  0008  34          	inc	(hl)
1002  0009  C3 00 00    	jp  _zx_isr
1003  000C              	SECTION code_compiler
1004  000C              ;	---------------------------------
1005  000C              ; Function game_loop
1006  000C              ; ---------------------------------
1007  000C              _game_loop:
1008  000C  21 00 00    	ld	hl,_player_lives
1009  000F  36 03       	ld	(hl),0x03
1010  0011  21 00 00    	ld	hl,0x0000
1011  0014  22 00 00    	ld	(_player_score),hl
1012  0017  21 00 00    	ld	hl,_game_over
1013  001A  36 00       	ld	(hl),0x00
1014  001C  21 00 00    	ld	hl,_game_round_up
1015  001F  36 00       	ld	(hl),0x00
1016  0021  21 00 00    	ld	hl,_game_world
1017  0024  36 00       	ld	(hl),0x00
1018  0026  21 00 00    	ld	hl,_map_paper
1019  0029  36 00       	ld	(hl),0x00
1020  002B  21 00 00    	ld	hl,_player_lin_scr
1021  002E  36 68       	ld	(hl),0x68
1022  0030  21 00 00    	ld	hl,_player_col_scr
1023  0033  36 02       	ld	(hl),0x02
1024  0035  CD F0 05    	call	_game_round_init
1025  0038              l_game_loop_00121:
1026  0038  3A 00 00    	ld	a,(_game_over)
1027  003B  B7          	or	a, a
1028  003C  C2 23 01    	jp	NZ, l_game_loop_00124
1029  003F  21 00 00    	ld	hl,_dirs
1030  0042  36 00       	ld	(hl),0x00
1031  0044  21 00 00    	ld	hl,_game_playing
1032  0047  36 01       	ld	(hl),0x01
1033  0049              l_game_loop_00116:
1034  0049  3A 00 00    	ld	a,(_game_round_up)
1035  004C  B7          	or	a, a
1036  004D  C2 F7 00    	jp	NZ, l_game_loop_00118
1037  0050  3A 00 00    	ld	a,(_game_over)
1038  0053  B7          	or	a, a
1039  0054  C2 F7 00    	jp	NZ, l_game_loop_00118
1040  0057  2A 00 00    	ld	hl,(_map_border)
1041  005A  CD 00 00    	call	_zx_border_fastcall
1042  005D  CD 00 00    	call	_enemy_turn
1043  0060  CD 00 00    	call	_player_turn
1044  0063  3A 00 00    	ld	a,(_loop_count)
1045  0066  E6 03       	and	a,0x03
1046  0068  20 03       	jr	NZ,l_game_loop_00102
1047  006A  CD 1B 0A    	call	_game_key_paint
1048  006D              l_game_loop_00102:
1049  006D  3A 00 00    	ld	a,(_loop_count)
1050  0070  E6 0F       	and	a,0x0f
1051  0072  20 19       	jr	NZ,l_game_loop_00106
1052  0074  21 00 00    	ld	hl,_game_conveyor_col0
1053  0077  7E          	ld	a, (hl)
1054  0078  B7          	or	a, a
1055  0079  28 03       	jr	Z,l_game_loop_00104
1056  007B  CD 18 05    	call	_game_anim_conveyor
1057  007E              l_game_loop_00104:
1058  007E  2A FF FF    	ld	hl,(_game_exit_col - 1)
1059  0081  3A 00 00    	ld	a,(_game_exit_lin)
1060  0084  6F          	ld	l,a
1061  0085  E5          	push	hl
1062  0086  21 06 5F    	ld	hl,0x5f06
1063  0089  E5          	push	hl
1064  008A  CD 00 00    	call	_NIRVANAP_spriteT_callee
1065  008D              l_game_loop_00106:
1066  008D  3E 19       	ld	a,0x19
1067  008F  F5          	push	af
1068  0090  33          	inc	sp
1069  0091  21 00 00    	ld	hl,_air_time
1070  0094  E5          	push	hl
1071  0095  CD F1 09    	call	_game_check_time
1072  0098  F1          	pop	af
1073  0099  33          	inc	sp
1074  009A  7D          	ld	a, l
1075  009B  B7          	or	a, a
1076  009C  28 0A       	jr	Z,l_game_loop_00108
1077  009E  CD C9 04    	call	_game_anim_air
1078  00A1  2A 00 00    	ld	hl,(_curr_time)
1079  00A4  22 00 00    	ld	(_air_time),hl
1080  00A7  76          	halt
1081  00A8              l_game_loop_00108:
1082  00A8  3E 64       	ld	a,0x64
1083  00AA  F5          	push	af
1084  00AB  33          	inc	sp
1085  00AC  21 00 00    	ld	hl,_frame_time
1086  00AF  E5          	push	hl
1087  00B0  CD F1 09    	call	_game_check_time
1088  00B3  F1          	pop	af
1089  00B4  33          	inc	sp
1090  00B5  7D          	ld	a, l
1091  00B6  B7          	or	a, a
1092  00B7  28 0F       	jr	Z,l_game_loop_00112
1093  00B9  2A 00 00    	ld	hl,(_curr_time)
1094  00BC  22 00 00    	ld	(_frame_time),hl
1095  00BF  3A 00 00    	ld	a,(_game_fps_show)
1096  00C2  B7          	or	a,a
1097  00C3  28 03       	jr	Z,l_game_loop_00112
1098  00C5  CD 24 01    	call	_game_fps
1099  00C8              l_game_loop_00112:
1100  00C8  21 00 00    	ld	hl,_loop_count
1101  00CB  34          	inc	(hl)
1102  00CC  20 02       	jr	NZ,l_game_loop_00182
1103  00CE  23          	inc	hl
1104  00CF  34          	inc	(hl)
1105  00D0              l_game_loop_00182:
1106  00D0  21 00 00    	ld	hl,_fps
1107  00D3  34          	inc	(hl)
1108  00D4  20 02       	jr	NZ,l_game_loop_00183
1109  00D6  23          	inc	hl
1110  00D7  34          	inc	(hl)
1111  00D8              l_game_loop_00183:
1112  00D8  3A 00 00    	ld	a,(_obj_count)
1113  00DB  21 00 00    	ld	hl,_player_coins
1114  00DE  96          	sub	a, (hl)
1115  00DF  C2 49 00    	jp	NZ,l_game_loop_00116
1116  00E2  3E 80       	ld	a,0x80
1117  00E4  F5          	push	af
1118  00E5  33          	inc	sp
1119  00E6  CD 53 10    	call	_game_flash_exit
1120  00E9  33          	inc	sp
1121  00EA  2E 00       	ld	l,0x00
1122  00EC  CD 00 00    	call	_zx_border_fastcall
1123  00EF  21 00 00    	ld	hl,_obj_count
1124  00F2  36 FF       	ld	(hl),0xff
1125  00F4  C3 49 00    	jp	l_game_loop_00116
1126  00F7              l_game_loop_00118:
1127  00F7  3A 00 00    	ld	a,(_game_round_up)
1128  00FA  B7          	or	a, a
1129  00FB  CA 38 00    	jp	Z, l_game_loop_00121
1130  00FE  21 00 00    	ld	hl,_game_playing
1131  0101  36 00       	ld	(hl),0x00
1132  0103  CD F0 05    	call	_game_round_init
1133  0106  2A FF FF    	ld	hl,(_game_exit_col - 1)
1134  0109  3A 00 00    	ld	a,(_game_exit_lin)
1135  010C  6F          	ld	l,a
1136  010D  E5          	push	hl
1137  010E  21 06 5F    	ld	hl,0x5f06
1138  0111  E5          	push	hl
1139  0112  CD 00 00    	call	_NIRVANAP_spriteT_callee
1140  0115  76          	halt
1141  0116  21 00 00    	ld	hl,_game_round_up
1142  0119  36 00       	ld	(hl),0x00
1143  011B  21 00 00    	ld	hl,_game_playing
1144  011E  36 01       	ld	(hl),0x01
1145  0120  C3 38 00    	jp	l_game_loop_00121
1146  0123              l_game_loop_00124:
1147  0123  C9          	ret
1148  0124              	SECTION code_compiler
1149  0124              ;	---------------------------------
1150  0124              ; Function game_fps
1151  0124              ; ---------------------------------
1152  0124              _game_fps:
1153  0124  21 00 00    	ld	hl,_screen_ink
1154  0127  36 07       	ld	(hl),0x07
1155  0129  2A 00 00    	ld	hl,(_fps)
1156  012C  E5          	push	hl
1157  012D  21 17 18    	ld	hl,0x1817
1158  0130  E5          	push	hl
1159  0131  CD 00 00    	call	_zx_print_int
1160  0134  21 00 00    	ld	hl,0x0000
1161  0137  22 00 00    	ld	(_fps),hl
1162  013A  C9          	ret
1163  013B              	SECTION code_compiler
1164  013B              ;	---------------------------------
1165  013B              ; Function game_draw_map
1166  013B              ; ---------------------------------
1167  013B              _game_draw_map:
1168  013B  CD 00 00    	call	___sdcc_enter_ix
1169  013E  F5          	push	af
1170  013F  F5          	push	af
1171  0140  F5          	push	af
1172  0141  76          	halt
1173  0142  21 00 00    	ld	hl,_screen_ink
1174  0145  36 07       	ld	(hl),0x07
1175  0147  21 00 00    	ld	hl,_v0
1176  014A  36 00       	ld	(hl),0x00
1177  014C              l_game_draw_map_00101:
1178  014C  21 00 00    	ld	hl,_v0
1179  014F  7E          	ld	a, (hl)
1180  0150  D6 0F       	sub	a,0x0f
1181  0152  30 0E       	jr	NC,l_game_draw_map_00103
1182  0154  3E 00       	ld	a, +((_class) & 0xFF)
1183  0156  86          	add	a, (hl)
1184  0157  4F          	ld	c, a
1185  0158  3E 00       	ld	a, +((_class) / 256)
1186  015A  CE 00       	adc	a,0x00
1187  015C  47          	ld	b, a
1188  015D  AF          	xor	a, a
1189  015E  02          	ld	(bc), a
1190  015F  34          	inc	(hl)
1191  0160  18 EA       	jr	l_game_draw_map_00101
1192  0162              l_game_draw_map_00103:
1193  0162  21 00 00    	ld	hl,_spr_count
1194  0165  36 00       	ld	(hl),0x00
1195  0167  21 00 00    	ld	hl,0x0000
1196  016A  22 00 00    	ld	(_index1),hl
1197  016D  21 00 00    	ld	hl,_s_row1
1198  0170  36 01       	ld	(hl),0x01
1199  0172  21 00 00    	ld	hl,_s_lin1
1200  0175  36 10       	ld	(hl),0x10
1201  0177  21 00 00    	ld	hl,_s_col1
1202  017A  36 00       	ld	(hl),0x00
1203  017C  21 00 00    	ld	hl,_obj_count
1204  017F  36 00       	ld	(hl),0x00
1205  0181  21 00 00    	ld	hl,_game_conveyor_lin
1206  0184  36 00       	ld	(hl),0x00
1207  0186  21 00 00    	ld	hl,_game_conveyor_col0
1208  0189  36 00       	ld	(hl),0x00
1209  018B  21 00 00    	ld	hl,_game_conveyor_col1
1210  018E  36 00       	ld	(hl),0x00
1211  0190  CD 00 00    	call	_NIRVANAP_stop
1212  0193  21 00 00    	ld	hl,_map_paper
1213  0196  7E          	ld	a, (hl)
1214  0197  0F          	rrca
1215  0198  0F          	rrca
1216  0199  0F          	rrca
1217  019A  E6 1F       	and	a,0x1f
1218  019C  B6          	or	a, (hl)
1219  019D  32 00 00    	ld	(_attrib_hl),a
1220  01A0  32 01 00    	ld	((_attrib_hl + 0x0001)),a
1221  01A3  32 02 00    	ld	((_attrib_hl + 0x0002)),a
1222  01A6  32 03 00    	ld	((_attrib_hl + 0x0003)),a
1223  01A9              l_game_draw_map_00129:
1224  01A9  21 01 00    	ld	hl,_index1 + 1
1225  01AC  7E          	ld	a, (hl)
1226  01AD  D6 02       	sub	a,0x02
1227  01AF  D2 87 03    	jp	NC, l_game_draw_map_00131
1228  01B2  3E 00       	ld	a, +((_scr_map) & 0xFF)
1229  01B4  2B          	dec	hl
1230  01B5  86          	add	a, (hl)
1231  01B6  DD 77 FA    	ld	(ix-6),a
1232  01B9  3E 00       	ld	a, +((_scr_map) / 256)
1233  01BB  23          	inc	hl
1234  01BC  8E          	adc	a, (hl)
1235  01BD  DD 77 FB    	ld	(ix-5),a
1236  01C0  E1          	pop	hl
1237  01C1  7E          	ld	a,(hl)
1238  01C2  E5          	push	hl
1239  01C3  DD 77 FF    	ld	(ix-1),a
1240  01C6  3A 00 00    	ld	a,(_s_row1)
1241  01C9  07          	rlca
1242  01CA  07          	rlca
1243  01CB  07          	rlca
1244  01CC  E6 F8       	and	a,0xf8
1245  01CE  4F          	ld	c, a
1246  01CF  DD 7E FF    	ld	a,(ix-1)
1247  01D2  D6 40       	sub	a,0x40
1248  01D4  D2 15 03    	jp	NC, l_game_draw_map_00125
1249  01D7  3A 00 00    	ld	a,(_s_col1)
1250  01DA  F5          	push	af
1251  01DB  33          	inc	sp
1252  01DC  79          	ld	a, c
1253  01DD  F5          	push	af
1254  01DE  33          	inc	sp
1255  01DF  DD 7E FF    	ld	a,(ix-1)
1256  01E2  F5          	push	af
1257  01E3  33          	inc	sp
1258  01E4  CD 00 00    	call	_spr_draw8
1259  01E7  F1          	pop	af
1260  01E8  33          	inc	sp
1261  01E9  01 00 00    	ld	bc,_scr_map
1262  01EC  2A 00 00    	ld	hl,(_index1)
1263  01EF  09          	add	hl,bc
1264  01F0  7E          	ld	a,(hl)
1265  01F1  D6 08       	sub	a,0x08
1266  01F3  20 2D       	jr	NZ,l_game_draw_map_00105
1267  01F5  2A 00 00    	ld	hl,(_obj_count)
1268  01F8  26 00       	ld	h,0x00
1269  01FA  01 00 00    	ld	bc,_obj_col
1270  01FD  09          	add	hl,bc
1271  01FE  3A 00 00    	ld	a,(_s_col1)
1272  0201  77          	ld	(hl),a
1273  0202  2A 00 00    	ld	hl,(_obj_count)
1274  0205  26 00       	ld	h,0x00
1275  0207  01 00 00    	ld	bc,_obj_lin
1276  020A  09          	add	hl,bc
1277  020B  3A 00 00    	ld	a,(_s_lin1)
1278  020E  77          	ld	(hl),a
1279  020F  21 00 00    	ld	hl,_obj_count
1280  0212  34          	inc	(hl)
1281  0213  2A FF FF    	ld	hl,(_s_col1 - 1)
1282  0216  3A 00 00    	ld	a,(_s_lin1)
1283  0219  6F          	ld	l,a
1284  021A  E5          	push	hl
1285  021B  21 00 00    	ld	hl,_attrib_hl
1286  021E  E5          	push	hl
1287  021F  CD 00 00    	call	_NIRVANAP_paintC_callee
1288  0222              l_game_draw_map_00105:
1289  0222  01 00 00    	ld	bc,_scr_map
1290  0225  2A 00 00    	ld	hl,(_index1)
1291  0228  09          	add	hl,bc
1292  0229  7E          	ld	a,(hl)
1293  022A  D6 04       	sub	a,0x04
1294  022C  20 04       	jr	NZ,l_game_draw_map_00200
1295  022E  3E 01       	ld	a,0x01
1296  0230  18 01       	jr	l_game_draw_map_00201
1297  0232              l_game_draw_map_00200:
1298  0232  AF          	xor	a,a
1299  0233              l_game_draw_map_00201:
1300  0233  DD 77 FE    	ld	(ix-2),a
1301  0236  3A 00 00    	ld	a,(_game_conveyor_col0)
1302  0239  B7          	or	a, a
1303  023A  28 14       	jr	Z,l_game_draw_map_00107
1304  023C  3A 00 00    	ld	a,(_game_conveyor_col1)
1305  023F  B7          	or	a, a
1306  0240  20 0E       	jr	NZ,l_game_draw_map_00107
1307  0242  DD CB FE 46 	bit	0,(ix-2)
1308  0246  20 08       	jr	NZ,l_game_draw_map_00107
1309  0248  3A 00 00    	ld	a,(_index1)
1310  024B  E6 1F       	and	a,0x1f
1311  024D  32 00 00    	ld	(_game_conveyor_col1),a
1312  0250              l_game_draw_map_00107:
1313  0250  DD CB FE 46 	bit	0,(ix-2)
1314  0254  28 6C       	jr	Z,l_game_draw_map_00116
1315  0256  3A 00 00    	ld	a,(_game_conveyor_col0)
1316  0259  B7          	or	a, a
1317  025A  20 66       	jr	NZ,l_game_draw_map_00116
1318  025C  3A 00 00    	ld	a,(_index1)
1319  025F  DD 77 FE    	ld	(ix-2),a
1320  0262  E6 1F       	and	a,0x1f
1321  0264  32 00 00    	ld	(_game_conveyor_col0),a
1322  0267  11 FC FF    	ld	de,-4
1323  026A  21 00 00    	ld	hl,_index1
1324  026D  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1325  0270  06 05       	ld	b,0x05
1326  0272              l_game_draw_map_00202:
1327  0272  DD CB FD 3E 	srl	(ix-3)
1328  0276  DD CB FC 1E 	rr	(ix-4)
1329  027A  10 F6       	djnz	l_game_draw_map_00202
1330  027C  DD 7E FC    	ld	a,(ix-4)
1331  027F  07          	rlca
1332  0280  07          	rlca
1333  0281  07          	rlca
1334  0282  E6 F8       	and	a,0xf8
1335  0284  DD 77 FC    	ld	(ix-4),a
1336  0287  C6 08       	add	a,0x08
1337  0289  32 00 00    	ld	(_game_conveyor_lin),a
1338  028C  21 00 00    	ld	hl,_index1
1339  028F  7E          	ld	a, (hl)
1340  0290  C6 01       	add	a,0x01
1341  0292  DD 77 FC    	ld	(ix-4),a
1342  0295  23          	inc	hl
1343  0296  7E          	ld	a, (hl)
1344  0297  CE 00       	adc	a,0x00
1345  0299  DD 6E FC    	ld	l,(ix-4)
1346  029C  DD 77 FD    	ld	(ix-3),a
1347  029F  67          	ld	h,a
1348  02A0  01 00 00    	ld	bc,_scr_map
1349  02A3  09          	add	hl,bc
1350  02A4  DD 75 FC    	ld	(ix-4),l
1351  02A7  DD 74 FD    	ld	(ix-3),h
1352  02AA  7E          	ld	a,(hl)
1353  02AB  B7          	or	a,a
1354  02AC  28 07       	jr	Z,l_game_draw_map_00111
1355  02AE  21 00 00    	ld	hl,_game_conveyor_dir
1356  02B1  36 01       	ld	(hl),0x01
1357  02B3  18 05       	jr	l_game_draw_map_00112
1358  02B5              l_game_draw_map_00111:
1359  02B5  21 00 00    	ld	hl,_game_conveyor_dir
1360  02B8  36 02       	ld	(hl),0x02
1361  02BA              l_game_draw_map_00112:
1362  02BA  DD 6E FC    	ld	l,(ix-4)
1363  02BD  DD 66 FD    	ld	h,(ix-3)
1364  02C0  36 04       	ld	(hl),0x04
1365  02C2              l_game_draw_map_00116:
1366  02C2  2A 00 00    	ld	hl,(_index1)
1367  02C5  01 00 00    	ld	bc,_scr_map
1368  02C8  09          	add	hl,bc
1369  02C9  7E          	ld	a,(hl)
1370  02CA  D6 1C       	sub	a,0x1c
1371  02CC  C2 60 03    	jp	NZ,l_game_draw_map_00126
1372  02CF  3A 00 00    	ld	a,(_index1)
1373  02D2  E6 1F       	and	a,0x1f
1374  02D4  32 00 00    	ld	(_game_exit_col),a
1375  02D7  2A 00 00    	ld	hl,(_index1)
1376  02DA  4D          	ld	c,l
1377  02DB  5C          	ld	e,h
1378  02DC  06 05       	ld	b,0x05
1379  02DE  79          	ld	a,c
1380  02DF              l_game_draw_map_00205:
1381  02DF  CB 3B       	srl	e
1382  02E1  1F          	rra
1383  02E2  10 FB       	djnz	l_game_draw_map_00205
1384  02E4  07          	rlca
1385  02E5  07          	rlca
1386  02E6  07          	rlca
1387  02E7  E6 F8       	and	a,0xf8
1388  02E9  C6 10       	add	a,0x10
1389  02EB  32 00 00    	ld	(_game_exit_lin),a
1390  02EE  ED 4B 00 00 	ld	bc,(_index1)
1391  02F2  03          	inc	bc
1392  02F3  21 00 00    	ld	hl,_scr_map
1393  02F6  09          	add	hl, bc
1394  02F7  36 1D       	ld	(hl),0x1d
1395  02F9  2A 00 00    	ld	hl,(_index1)
1396  02FC  01 20 00    	ld	bc,0x0020
1397  02FF  09          	add	hl,bc
1398  0300  01 00 00    	ld	bc,_scr_map
1399  0303  09          	add	hl,bc
1400  0304  36 1E       	ld	(hl),0x1e
1401  0306  2A 00 00    	ld	hl,(_index1)
1402  0309  01 21 00    	ld	bc,0x0021
1403  030C  09          	add	hl,bc
1404  030D  01 00 00    	ld	bc,_scr_map
1405  0310  09          	add	hl,bc
1406  0311  36 1F       	ld	(hl),0x1f
1407  0313  18 4B       	jr	l_game_draw_map_00126
1408  0315              l_game_draw_map_00125:
1409  0315  DD 7E FF    	ld	a,(ix-1)
1410  0318  D6 78       	sub	a,0x78
1411  031A  30 15       	jr	NC,l_game_draw_map_00122
1412  031C  3A 00 00    	ld	a,(_s_col1)
1413  031F  F5          	push	af
1414  0320  33          	inc	sp
1415  0321  79          	ld	a, c
1416  0322  F5          	push	af
1417  0323  33          	inc	sp
1418  0324  AF          	xor	a, a
1419  0325  F5          	push	af
1420  0326  33          	inc	sp
1421  0327  CD 00 00    	call	_spr_draw8
1422  032A  F1          	pop	af
1423  032B  33          	inc	sp
1424  032C  CD 00 00    	call	_enemy_init
1425  032F  18 2F       	jr	l_game_draw_map_00126
1426  0331              l_game_draw_map_00122:
1427  0331  DD 7E FF    	ld	a,(ix-1)
1428  0334  D6 7F       	sub	a,0x7f
1429  0336  20 28       	jr	NZ,l_game_draw_map_00126
1430  0338  3A 00 00    	ld	a,(_s_lin1)
1431  033B  C6 F0       	add	a,0xf0
1432  033D  E1          	pop	hl
1433  033E  32 00 00    	ld	(_player_lin_scr),a
1434  0341  3A 00 00    	ld	a,(_s_col1)
1435  0344  32 00 00    	ld	(_player_col_scr),a
1436  0347  E5          	push	hl
1437  0348  36 00       	ld	(hl),0x00
1438  034A  3A 00 00    	ld	a,(_s_row1)
1439  034D  07          	rlca
1440  034E  07          	rlca
1441  034F  07          	rlca
1442  0350  E6 F8       	and	a,0xf8
1443  0352  4F          	ld	c, a
1444  0353  3A 00 00    	ld	a, (_s_col1)
1445  0356  47          	ld	b,a
1446  0357  C5          	push	bc
1447  0358  AF          	xor	a, a
1448  0359  F5          	push	af
1449  035A  33          	inc	sp
1450  035B  CD 00 00    	call	_spr_draw8
1451  035E  F1          	pop	af
1452  035F  33          	inc	sp
1453  0360              l_game_draw_map_00126:
1454  0360  21 00 00    	ld	hl,_index1
1455  0363  34          	inc	(hl)
1456  0364  20 02       	jr	NZ,l_game_draw_map_00208
1457  0366  23          	inc	hl
1458  0367  34          	inc	(hl)
1459  0368              l_game_draw_map_00208:
1460  0368  21 00 00    	ld	hl,_s_col1
1461  036B  34          	inc	(hl)
1462  036C  3A 00 00    	ld	a,(_index1)
1463  036F  E6 1F       	and	a,0x1f
1464  0371  C2 A9 01    	jp	NZ,l_game_draw_map_00129
1465  0374  21 00 00    	ld	hl,_s_row1
1466  0377  34          	inc	(hl)
1467  0378  21 00 00    	ld	hl,_s_lin1
1468  037B  7E          	ld	a, (hl)
1469  037C  C6 08       	add	a,0x08
1470  037E  77          	ld	(hl), a
1471  037F  21 00 00    	ld	hl,_s_col1
1472  0382  36 00       	ld	(hl),0x00
1473  0384  C3 A9 01    	jp	l_game_draw_map_00129
1474  0387              l_game_draw_map_00131:
1475  0387  CD 00 00    	call	_NIRVANAP_start
1476  038A  CD 00 00    	call	_game_update_stats
1477  038D  DD F9       	ld	sp, ix
1478  038F  DD E1       	pop	ix
1479  0391  C9          	ret
1480  0392              	SECTION code_compiler
1481  0392              ;	---------------------------------
1482  0392              ; Function game_cell_paint_index
1483  0392              ; ---------------------------------
1484  0392              _game_cell_paint_index:
1485  0392  3A 00 00    	ld	a,(_index1)
1486  0395  E6 1F       	and	a,0x1f
1487  0397  32 00 00    	ld	(_s_col1),a
1488  039A  2A 00 00    	ld	hl,(_index1)
1489  039D  4D          	ld	c,l
1490  039E  5C          	ld	e,h
1491  039F  06 05       	ld	b,0x05
1492  03A1  79          	ld	a,c
1493  03A2              l_game_cell_paint_index_00103:
1494  03A2  CB 3B       	srl	e
1495  03A4  1F          	rra
1496  03A5  10 FB       	djnz	l_game_cell_paint_index_00103
1497  03A7  07          	rlca
1498  03A8  07          	rlca
1499  03A9  07          	rlca
1500  03AA  E6 F8       	and	a,0xf8
1501  03AC  32 00 00    	ld	(_s_lin1),a
1502  03AF  0F          	rrca
1503  03B0  0F          	rrca
1504  03B1  0F          	rrca
1505  03B2  E6 1F       	and	a,0x1f
1506  03B4  3C          	inc	a
1507  03B5  32 00 00    	ld	(_s_row1),a
1508  03B8  21 00 00    	ld	hl,_s_lin1
1509  03BB  7E          	ld	a, (hl)
1510  03BC  C6 10       	add	a,0x10
1511  03BE  77          	ld	(hl), a
1512  03BF  3A 00 00    	ld	a,(_s_row1)
1513  03C2  07          	rlca
1514  03C3  07          	rlca
1515  03C4  07          	rlca
1516  03C5  E6 F8       	and	a,0xf8
1517  03C7  4F          	ld	c, a
1518  03C8  11 00 00    	ld	de,_scr_map
1519  03CB  2A 00 00    	ld	hl,(_index1)
1520  03CE  19          	add	hl,de
1521  03CF  46          	ld	b, (hl)
1522  03D0  3A 00 00    	ld	a,(_s_col1)
1523  03D3  F5          	push	af
1524  03D4  33          	inc	sp
1525  03D5  79          	ld	a, c
1526  03D6  48          	ld	c,b
1527  03D7  47          	ld	b,a
1528  03D8  C5          	push	bc
1529  03D9  CD 00 00    	call	_spr_draw8
1530  03DC  F1          	pop	af
1531  03DD  33          	inc	sp
1532  03DE  C9          	ret
1533  03DF              	SECTION code_compiler
1534  03DF              ;	---------------------------------
1535  03DF              ; Function game_cell_paint
1536  03DF              ; ---------------------------------
1537  03DF              _game_cell_paint:
1538  03DF  3A 00 00    	ld	a,(_s_row1)
1539  03E2  07          	rlca
1540  03E3  07          	rlca
1541  03E4  07          	rlca
1542  03E5  E6 F8       	and	a,0xf8
1543  03E7  57          	ld	d, a
1544  03E8  01 00 00    	ld	bc,_scr_map
1545  03EB  2A 00 00    	ld	hl,(_index1)
1546  03EE  09          	add	hl,bc
1547  03EF  4D          	ld	c,l
1548  03F0  46          	ld	b, (hl)
1549  03F1  3A 00 00    	ld	a,(_s_col1)
1550  03F4  5A          	ld	e,d
1551  03F5  57          	ld	d,a
1552  03F6  D5          	push	de
1553  03F7  C5          	push	bc
1554  03F8  33          	inc	sp
1555  03F9  CD 00 00    	call	_spr_draw8
1556  03FC  F1          	pop	af
1557  03FD  33          	inc	sp
1558  03FE  C9          	ret
1559  03FF              	SECTION code_compiler
1560  03FF              ;	---------------------------------
1561  03FF              ; Function game_end is a stub
1562  03FF              ; ---------------------------------
1563  03FF              EXTERN l_ret
1564  03FF              defc _game_end = l_ret
1565  03FF              	SECTION code_compiler
1566  03FF              ;	---------------------------------
1567  03FF              ; Function game_print_footer
1568  03FF              ; ---------------------------------
1569  03FF              _game_print_footer:
1570  03FF  3A 00 00    	ld	a,(_game_fps_show)
1571  0402  B7          	or	a, a
1572  0403  28 10       	jr	Z,l_game_print_footer_00102
1573  0405  21 00 00    	ld	hl,_screen_ink
1574  0408  36 07       	ld	(hl),0x07
1575  040A  21 00 00    	ld	hl,___str_0
1576  040D  E5          	push	hl
1577  040E  21 17 14    	ld	hl,0x1417
1578  0411  E5          	push	hl
1579  0412  CD 00 00    	call	_zx_print_str
1580  0415              l_game_print_footer_00102:
1581  0415  CD 00 00    	call	_game_update_stats
1582  0418  C9          	ret
1583  0419              	SECTION rodata_compiler
1584  0000              ___str_0:
1585  0000  4C 50 53 3A 	DEFM "LPS:"
1586  0004  00          	DEFB 0x00
1587  0005              	SECTION code_compiler
1588  0419              ;	---------------------------------
1589  0419              ; Function game_print_score
1590  0419              ; ---------------------------------
1591  0419              _game_print_score:
1592  0419  21 00 00    	ld	hl,_screen_ink
1593  041C  36 06       	ld	(hl),0x06
1594  041E  21 00 00    	ld	hl,_screen_paper
1595  0421  36 00       	ld	(hl),0x00
1596  0423  2A 00 00    	ld	hl,(_player_score)
1597  0426  E5          	push	hl
1598  0427  21 14 1B    	ld	hl,0x1b14
1599  042A  E5          	push	hl
1600  042B  CD 00 00    	call	_zx_print_int
1601  042E  2A 00 00    	ld	hl,(_game_score_top)
1602  0431  E5          	push	hl
1603  0432  21 14 0C    	ld	hl,0x0c14
1604  0435  E5          	push	hl
1605  0436  CD 00 00    	call	_zx_print_int
1606  0439  C9          	ret
1607  043A              	SECTION code_compiler
1608  043A              ;	---------------------------------
1609  043A              ; Function game_print_lives
1610  043A              ; ---------------------------------
1611  043A              _game_print_lives:
1612  043A  21 00 00    	ld	hl,_v0
1613  043D  36 00       	ld	(hl),0x00
1614  043F  21 05 00    	ld	hl,___str_1
1615  0442  E5          	push	hl
1616  0443  21 16 00    	ld	hl,0x0016
1617  0446  E5          	push	hl
1618  0447  CD 00 00    	call	_zx_print_str
1619  044A              l_game_print_lives_00101:
1620  044A  3A 00 00    	ld	a,(_v0)
1621  044D  21 00 00    	ld	hl,_player_lives
1622  0450  96          	sub	a, (hl)
1623  0451  D0          	ret	NC
1624  0452  21 00 00    	ld	hl,_screen_ink
1625  0455  36 05       	ld	(hl),0x05
1626  0457  3A 00 00    	ld	a,(_v0)
1627  045A  21 26 00    	ld	hl,___str_2
1628  045D  E5          	push	hl
1629  045E  57          	ld	d,a
1630  045F  1E 16       	ld	e,0x16
1631  0461  D5          	push	de
1632  0462  CD 00 00    	call	_zx_print_str
1633  0465  21 00 00    	ld	hl,_v0
1634  0468  34          	inc	(hl)
1635  0469  18 DF       	jr	l_game_print_lives_00101
1636  046B              	SECTION rodata_compiler
1637  0005              ___str_1:
1638  0005  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
1639  0025  00          	DEFB 0x00
1640  0026              	SECTION rodata_compiler
1641  0026              ___str_2:
1642  0026  3C          	DEFM "<"
1643  0027  00          	DEFB 0x00
1644  0028              	SECTION code_compiler
1645  046B              ;	---------------------------------
1646  046B              ; Function game_cls
1647  046B              ; ---------------------------------
1648  046B              _game_cls:
1649  046B  CD 00 00    	call	_NIRVANAP_stop
1650  046E  2E 00       	ld	l,0x00
1651  0470  CD 00 00    	call	_zx_cls_fastcall
1652  0473  2E 00       	ld	l,0x00
1653  0475  CD 00 00    	call	_zx_border_fastcall
1654  0478  F3          	di
1655  0479  21 00 00    	ld	hl,_v0
1656  047C  36 00       	ld	(hl),0x00
1657  047E              l_game_cls_00104:
1658  047E  3E 08       	ld	a,0x08
1659  0480  21 00 00    	ld	hl,_v0
1660  0483  96          	sub	a, (hl)
1661  0484  38 31       	jr	C,l_game_cls_00106
1662  0486  21 00 00    	ld	hl,_v1
1663  0489  36 00       	ld	(hl),0x00
1664  048B              l_game_cls_00101:
1665  048B  3A 00 00    	ld	a,(_v1)
1666  048E  D6 1F       	sub	a,0x1f
1667  0490  30 1F       	jr	NC,l_game_cls_00103
1668  0492  3A 00 00    	ld	a,(_v0)
1669  0495  07          	rlca
1670  0496  07          	rlca
1671  0497  07          	rlca
1672  0498  07          	rlca
1673  0499  E6 F0       	and	a,0xf0
1674  049B  C6 08       	add	a,0x08
1675  049D  4F          	ld	c, a
1676  049E  3A 00 00    	ld	a, (_v1)
1677  04A1  47          	ld	b,a
1678  04A2  C5          	push	bc
1679  04A3  3E 5E       	ld	a,0x5e
1680  04A5  F5          	push	af
1681  04A6  33          	inc	sp
1682  04A7  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1683  04AA  21 00 00    	ld	hl,_v1
1684  04AD  34          	inc	(hl)
1685  04AE  34          	inc	(hl)
1686  04AF  18 DA       	jr	l_game_cls_00101
1687  04B1              l_game_cls_00103:
1688  04B1  21 00 00    	ld	hl,_v0
1689  04B4  34          	inc	(hl)
1690  04B5  18 C7       	jr	l_game_cls_00104
1691  04B7              l_game_cls_00106:
1692  04B7  FB          	ei
1693  04B8  CD 00 00    	call	_NIRVANAP_start
1694  04BB  C9          	ret
1695  04BC              	SECTION code_compiler
1696  04BC              ;	---------------------------------
1697  04BC              ; Function game_update_stats is a stub
1698  04BC              ; ---------------------------------
1699  04BC              EXTERN l_ret
1700  04BC              defc _game_update_stats = l_ret
1701  04BC              	SECTION code_compiler
1702  04BC              ;	---------------------------------
1703  04BC              ; Function game_start_timer
1704  04BC              ; ---------------------------------
1705  04BC              _game_start_timer:
1706  04BC  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1707  04BF  36 CD       	ld	(hl),0xcd
1708  04C1  23          	inc	hl
1709  04C2  11 00 00    	ld	de,_game_tick
1710  04C5  73          	ld	(hl), e
1711  04C6  23          	inc	hl
1712  04C7  72          	ld	(hl), d
1713  04C8  C9          	ret
1714  04C9              	SECTION code_compiler
1715  04C9              ;	---------------------------------
1716  04C9              ; Function game_anim_air
1717  04C9              ; ---------------------------------
1718  04C9              _game_anim_air:
1719  04C9  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1720  04CD  0A          	ld	a,(bc)
1721  04CE  B7          	or	a, a
1722  04CF  28 28       	jr	Z,l_game_anim_air_00105
1723  04D1  87          	add	a, a
1724  04D2  32 00 00    	ld	(_v0),a
1725  04D5  02          	ld	(bc), a
1726  04D6  2A 00 00    	ld	hl,(_air_curr_byte)
1727  04D9  01 00 01    	ld	bc,0x0100
1728  04DC  09          	add	hl,bc
1729  04DD  3A 00 00    	ld	a,(_v0)
1730  04E0  77          	ld	(hl),a
1731  04E1  2A 00 00    	ld	hl,(_air_curr_byte)
1732  04E4  01 00 02    	ld	bc,0x0200
1733  04E7  09          	add	hl,bc
1734  04E8  3A 00 00    	ld	a,(_v0)
1735  04EB  77          	ld	(hl),a
1736  04EC  2A 00 00    	ld	hl,(_air_curr_byte)
1737  04EF  01 00 03    	ld	bc,0x0300
1738  04F2  09          	add	hl,bc
1739  04F3  3A 00 00    	ld	a,(_v0)
1740  04F6  77          	ld	(hl),a
1741  04F7  18 1E       	jr	l_game_anim_air_00107
1742  04F9              l_game_anim_air_00105:
1743  04F9  ED 4B 00 00 	ld	bc,(_air_end_byte)
1744  04FD  79          	ld	a,c
1745  04FE  21 00 00    	ld	hl,_air_curr_byte
1746  0501  96          	sub	a, (hl)
1747  0502  78          	ld	a, b
1748  0503  23          	inc	hl
1749  0504  9E          	sbc	a, (hl)
1750  0505  30 0B       	jr	NC,l_game_anim_air_00102
1751  0507  2B          	dec	hl
1752  0508  7E          	ld	a, (hl)
1753  0509  23          	inc	hl
1754  050A  66          	ld	h, (hl)
1755  050B  6F          	ld	l, a
1756  050C  2B          	dec	hl
1757  050D  22 00 00    	ld	(_air_curr_byte),hl
1758  0510  18 05       	jr	l_game_anim_air_00107
1759  0512              l_game_anim_air_00102:
1760  0512  21 00 00    	ld	hl,_player_killed
1761  0515  36 01       	ld	(hl),0x01
1762  0517              l_game_anim_air_00107:
1763  0517  C9          	ret
1764  0518              	SECTION code_compiler
1765  0518              ;	---------------------------------
1766  0518              ; Function game_anim_conveyor
1767  0518              ; ---------------------------------
1768  0518              _game_anim_conveyor:
1769  0518  CD 00 00    	call	___sdcc_enter_ix
1770  051B  F5          	push	af
1771  051C  F5          	push	af
1772  051D  3B          	dec	sp
1773  051E  01 60 00    	ld	bc,_btiles+96
1774  0521  3A 00 00    	ld	a,(_game_conveyor_lin)
1775  0524  32 00 00    	ld	(_i),a
1776  0527  C6 08       	add	a,0x08
1777  0529  DD 77 FB    	ld	(ix-5),a
1778  052C  0A          	ld	a, (bc)
1779  052D  5F          	ld	e, a
1780  052E  3A 00 00    	ld	a,(_game_conveyor_dir)
1781  0531  3D          	dec	a
1782  0532  20 14       	jr	NZ,l_game_anim_conveyor_00102
1783  0534  7B          	ld	a, e
1784  0535  87          	add	a, a
1785  0536  57          	ld	d, a
1786  0537  7B          	ld	a, e
1787  0538  07          	rlca
1788  0539  E6 01       	and	a,0x01
1789  053B  B2          	or	a, d
1790  053C  57          	ld	d,a
1791  053D  02          	ld	(bc),a
1792  053E  87          	add	a, a
1793  053F  5F          	ld	e, a
1794  0540  7A          	ld	a, d
1795  0541  07          	rlca
1796  0542  E6 01       	and	a,0x01
1797  0544  B3          	or	a, e
1798  0545  02          	ld	(bc), a
1799  0546  18 14       	jr	l_game_anim_conveyor_00121
1800  0548              l_game_anim_conveyor_00102:
1801  0548  7B          	ld	a, e
1802  0549  0F          	rrca
1803  054A  E6 80       	and	a,0x80
1804  054C  6F          	ld	l, a
1805  054D  7B          	ld	a,e
1806  054E  CB 3F       	srl	a
1807  0550  B5          	or	a, l
1808  0551  5F          	ld	e,a
1809  0552  02          	ld	(bc),a
1810  0553  0F          	rrca
1811  0554  E6 80       	and	a,0x80
1812  0556  6F          	ld	l, a
1813  0557  CB 3B       	srl	e
1814  0559  7D          	ld	a, l
1815  055A  B3          	or	a, e
1816  055B  02          	ld	(bc), a
1817  055C              l_game_anim_conveyor_00121:
1818  055C              l_game_anim_conveyor_00112:
1819  055C  3A 00 00    	ld	a,(_i)
1820  055F  DD 96 FB    	sub	a,(ix-5)
1821  0562  D2 EB 05    	jp	NC, l_game_anim_conveyor_00115
1822  0565  3A 00 00    	ld	a,(_game_conveyor_col0)
1823  0568  DD 77 FC    	ld	(ix-4),a
1824  056B  2A 00 00    	ld	hl,(_i)
1825  056E  CD 00 00    	call	_zx_py2saddr_fastcall
1826  0571  EB          	ex	de,hl
1827  0572  7B          	ld	a, e
1828  0573  DD 86 FC    	add	a,(ix-4)
1829  0576  5F          	ld	e, a
1830  0577  7A          	ld	a, d
1831  0578  CE 00       	adc	a,0x00
1832  057A  57          	ld	d, a
1833  057B  DD 7E FC    	ld	a,(ix-4)
1834  057E  DD 77 FF    	ld	(ix-1),a
1835  0581              l_game_anim_conveyor_00104:
1836  0581  DD 7E FF    	ld	a,(ix-1)
1837  0584  21 00 00    	ld	hl,_game_conveyor_col1
1838  0587  96          	sub	a, (hl)
1839  0588  30 08       	jr	NC,l_game_anim_conveyor_00106
1840  058A  0A          	ld	a, (bc)
1841  058B  12          	ld	(de), a
1842  058C  13          	inc	de
1843  058D  DD 34 FF    	inc	(ix-1)
1844  0590  18 EF       	jr	l_game_anim_conveyor_00104
1845  0592              l_game_anim_conveyor_00106:
1846  0592  03          	inc	bc
1847  0593  03          	inc	bc
1848  0594  21 00 00    	ld	hl,_i
1849  0597  34          	inc	(hl)
1850  0598  3A 00 00    	ld	a,(_game_conveyor_lin)
1851  059B  5F          	ld	e,a
1852  059C  16 00       	ld	d,0x00
1853  059E  13          	inc	de
1854  059F  13          	inc	de
1855  05A0  DD 73 FD    	ld	(ix-3),e
1856  05A3  DD 72 FE    	ld	(ix-2),d
1857  05A6  3A 00 00    	ld	a,(_i)
1858  05A9  5F          	ld	e,a
1859  05AA  16 00       	ld	d,0x00
1860  05AC  DD 7E FD    	ld	a,(ix-3)
1861  05AF  93          	sub	a, e
1862  05B0  20 AA       	jr	NZ,l_game_anim_conveyor_00112
1863  05B2  DD 7E FE    	ld	a,(ix-2)
1864  05B5  92          	sub	a, d
1865  05B6  20 A4       	jr	NZ,l_game_anim_conveyor_00112
1866  05B8  0A          	ld	a, (bc)
1867  05B9  5F          	ld	e, a
1868  05BA  3A 00 00    	ld	a,(_game_conveyor_dir)
1869  05BD  3D          	dec	a
1870  05BE  20 16       	jr	NZ,l_game_anim_conveyor_00108
1871  05C0  7B          	ld	a, e
1872  05C1  0F          	rrca
1873  05C2  E6 80       	and	a,0x80
1874  05C4  57          	ld	d, a
1875  05C5  CB 3B       	srl	e
1876  05C7  7A          	ld	a, d
1877  05C8  B3          	or	a, e
1878  05C9  57          	ld	d,a
1879  05CA  02          	ld	(bc),a
1880  05CB  0F          	rrca
1881  05CC  E6 80       	and	a,0x80
1882  05CE  5F          	ld	e, a
1883  05CF  CB 3A       	srl	d
1884  05D1  7B          	ld	a, e
1885  05D2  B2          	or	a, d
1886  05D3  02          	ld	(bc), a
1887  05D4  18 86       	jr	l_game_anim_conveyor_00112
1888  05D6              l_game_anim_conveyor_00108:
1889  05D6  7B          	ld	a, e
1890  05D7  87          	add	a, a
1891  05D8  57          	ld	d, a
1892  05D9  7B          	ld	a, e
1893  05DA  07          	rlca
1894  05DB  E6 01       	and	a,0x01
1895  05DD  B2          	or	a, d
1896  05DE  5F          	ld	e,a
1897  05DF  02          	ld	(bc),a
1898  05E0  87          	add	a, a
1899  05E1  57          	ld	d, a
1900  05E2  7B          	ld	a, e
1901  05E3  07          	rlca
1902  05E4  E6 01       	and	a,0x01
1903  05E6  B2          	or	a, d
1904  05E7  02          	ld	(bc), a
1905  05E8  C3 5C 05    	jp	l_game_anim_conveyor_00112
1906  05EB              l_game_anim_conveyor_00115:
1907  05EB  DD F9       	ld	sp, ix
1908  05ED  DD E1       	pop	ix
1909  05EF  C9          	ret
1910  05F0              	SECTION code_compiler
1911  05F0              ;	---------------------------------
1912  05F0              ; Function game_round_init
1913  05F0              ; ---------------------------------
1914  05F0              _game_round_init:
1915  05F0  CD 00 00    	call	___sdcc_enter_ix
1916  05F3  21 D8 FF    	ld	hl, -40
1917  05F6  39          	add	hl, sp
1918  05F7  F9          	ld	sp, hl
1919  05F8  21 00 00    	ld	hl,0x0000
1920  05FB  39          	add	hl, sp
1921  05FC  4D          	ld	c,l
1922  05FD  44          	ld	b,h
1923  05FE  36 3C       	ld	(hl), +((___str_3) & 0xFF)
1924  0600  23          	inc	hl
1925  0601  36 00       	ld	(hl), +((___str_3) / 256)
1926  0603  59          	ld	e, c
1927  0604  50          	ld	d, b
1928  0605  13          	inc	de
1929  0606  13          	inc	de
1930  0607  3E 54       	ld	a, +((___str_4) & 0xFF)
1931  0609  12          	ld	(de), a
1932  060A  13          	inc	de
1933  060B  3E 00       	ld	a, +((___str_4) / 256)
1934  060D  12          	ld	(de), a
1935  060E  21 04 00    	ld	hl,0x0004
1936  0611  09          	add	hl,bc
1937  0612  36 6C       	ld	(hl), +((___str_5) & 0xFF)
1938  0614  EB          	ex	de,hl
1939  0615  13          	inc	de
1940  0616  3E 00       	ld	a, +((___str_5) / 256)
1941  0618  12          	ld	(de), a
1942  0619  21 06 00    	ld	hl,0x0006
1943  061C  09          	add	hl,bc
1944  061D  36 84       	ld	(hl), +((___str_6) & 0xFF)
1945  061F  EB          	ex	de,hl
1946  0620  13          	inc	de
1947  0621  3E 00       	ld	a, +((___str_6) / 256)
1948  0623  12          	ld	(de), a
1949  0624  21 08 00    	ld	hl,0x0008
1950  0627  09          	add	hl,bc
1951  0628  36 A2       	ld	(hl), +((___str_7) & 0xFF)
1952  062A  EB          	ex	de,hl
1953  062B  13          	inc	de
1954  062C  3E 00       	ld	a, +((___str_7) / 256)
1955  062E  12          	ld	(de), a
1956  062F  21 0A 00    	ld	hl,0x000a
1957  0632  09          	add	hl,bc
1958  0633  36 B9       	ld	(hl), +((___str_8) & 0xFF)
1959  0635  EB          	ex	de,hl
1960  0636  13          	inc	de
1961  0637  3E 00       	ld	a, +((___str_8) / 256)
1962  0639  12          	ld	(de), a
1963  063A  21 0C 00    	ld	hl,0x000c
1964  063D  09          	add	hl,bc
1965  063E  36 D1       	ld	(hl), +((___str_9) & 0xFF)
1966  0640  EB          	ex	de,hl
1967  0641  13          	inc	de
1968  0642  3E 00       	ld	a, +((___str_9) / 256)
1969  0644  12          	ld	(de), a
1970  0645  21 0E 00    	ld	hl,0x000e
1971  0648  09          	add	hl,bc
1972  0649  36 E5       	ld	(hl), +((___str_10) & 0xFF)
1973  064B  EB          	ex	de,hl
1974  064C  13          	inc	de
1975  064D  3E 00       	ld	a, +((___str_10) / 256)
1976  064F  12          	ld	(de), a
1977  0650  21 10 00    	ld	hl,0x0010
1978  0653  09          	add	hl,bc
1979  0654  36 06       	ld	(hl), +((___str_11) & 0xFF)
1980  0656  EB          	ex	de,hl
1981  0657  13          	inc	de
1982  0658  3E 01       	ld	a, +((___str_11) / 256)
1983  065A  12          	ld	(de), a
1984  065B  21 12 00    	ld	hl,0x0012
1985  065E  09          	add	hl,bc
1986  065F  36 20       	ld	(hl), +((___str_12) & 0xFF)
1987  0661  EB          	ex	de,hl
1988  0662  13          	inc	de
1989  0663  3E 01       	ld	a, +((___str_12) / 256)
1990  0665  12          	ld	(de), a
1991  0666  21 14 00    	ld	hl,0x0014
1992  0669  09          	add	hl,bc
1993  066A  36 3B       	ld	(hl), +((___str_13) & 0xFF)
1994  066C  EB          	ex	de,hl
1995  066D  13          	inc	de
1996  066E  3E 01       	ld	a, +((___str_13) / 256)
1997  0670  12          	ld	(de), a
1998  0671  21 16 00    	ld	hl,0x0016
1999  0674  09          	add	hl,bc
2000  0675  36 5B       	ld	(hl), +((___str_14) & 0xFF)
2001  0677  EB          	ex	de,hl
2002  0678  13          	inc	de
2003  0679  3E 01       	ld	a, +((___str_14) / 256)
2004  067B  12          	ld	(de), a
2005  067C  21 18 00    	ld	hl,0x0018
2006  067F  09          	add	hl,bc
2007  0680  36 7B       	ld	(hl), +((___str_15) & 0xFF)
2008  0682  EB          	ex	de,hl
2009  0683  13          	inc	de
2010  0684  3E 01       	ld	a, +((___str_15) / 256)
2011  0686  12          	ld	(de), a
2012  0687  21 1A 00    	ld	hl,0x001a
2013  068A  09          	add	hl,bc
2014  068B  36 92       	ld	(hl), +((___str_16) & 0xFF)
2015  068D  EB          	ex	de,hl
2016  068E  13          	inc	de
2017  068F  3E 01       	ld	a, +((___str_16) / 256)
2018  0691  12          	ld	(de), a
2019  0692  21 1C 00    	ld	hl,0x001c
2020  0695  09          	add	hl,bc
2021  0696  36 AC       	ld	(hl), +((___str_17) & 0xFF)
2022  0698  EB          	ex	de,hl
2023  0699  13          	inc	de
2024  069A  3E 01       	ld	a, +((___str_17) / 256)
2025  069C  12          	ld	(de), a
2026  069D  21 1E 00    	ld	hl,0x001e
2027  06A0  09          	add	hl,bc
2028  06A1  36 C2       	ld	(hl), +((___str_18) & 0xFF)
2029  06A3  EB          	ex	de,hl
2030  06A4  13          	inc	de
2031  06A5  3E 01       	ld	a, +((___str_18) / 256)
2032  06A7  12          	ld	(de), a
2033  06A8  21 20 00    	ld	hl,0x0020
2034  06AB  09          	add	hl,bc
2035  06AC  36 DD       	ld	(hl), +((___str_19) & 0xFF)
2036  06AE  EB          	ex	de,hl
2037  06AF  13          	inc	de
2038  06B0  3E 01       	ld	a, +((___str_19) / 256)
2039  06B2  12          	ld	(de), a
2040  06B3  21 22 00    	ld	hl,0x0022
2041  06B6  09          	add	hl,bc
2042  06B7  36 F4       	ld	(hl), +((___str_20) & 0xFF)
2043  06B9  EB          	ex	de,hl
2044  06BA  13          	inc	de
2045  06BB  3E 01       	ld	a, +((___str_20) / 256)
2046  06BD  12          	ld	(de), a
2047  06BE  21 24 00    	ld	hl,0x0024
2048  06C1  09          	add	hl,bc
2049  06C2  36 0E       	ld	(hl), +((___str_21) & 0xFF)
2050  06C4  EB          	ex	de,hl
2051  06C5  13          	inc	de
2052  06C6  3E 02       	ld	a, +((___str_21) / 256)
2053  06C8  12          	ld	(de), a
2054  06C9  21 26 00    	ld	hl,0x0026
2055  06CC  09          	add	hl,bc
2056  06CD  36 29       	ld	(hl), +((___str_22) & 0xFF)
2057  06CF  EB          	ex	de,hl
2058  06D0  13          	inc	de
2059  06D1  3E 02       	ld	a, +((___str_22) / 256)
2060  06D3  12          	ld	(de), a
2061  06D4  2A 00 00    	ld	hl,(_scr_curr)
2062  06D7  26 00       	ld	h,0x00
2063  06D9  11 28 00    	ld	de,_game_borders
2064  06DC  19          	add	hl,de
2065  06DD  7E          	ld	a,(hl)
2066  06DE  32 00 00    	ld	(_map_border),a
2067  06E1  21 00 00    	ld	hl,0x0000
2068  06E4  22 00 00    	ld	(_loop_count),hl
2069  06E7  21 00 00    	ld	hl,0
2070  06EA  22 00 00    	ld	(_curr_time),hl
2071  06ED  21 00 00    	ld	hl,0x0000
2072  06F0  22 00 00    	ld	(_frame_time),hl
2073  06F3  21 00 00    	ld	hl,_player_coins
2074  06F6  36 00       	ld	(hl),0x00
2075  06F8  2A 00 00    	ld	hl,(_air_start_byte)
2076  06FB  22 00 00    	ld	(_air_curr_byte),hl
2077  06FE  21 00 00    	ld	hl,_i
2078  0701  36 00       	ld	(hl),0x00
2079  0703              l_game_round_init_00109:
2080  0703  C5          	push	bc
2081  0704  21 00 00    	ld	hl,0x0000
2082  0707  E5          	push	hl
2083  0708  AF          	xor	a, a
2084  0709  2A 00 00    	ld	hl,(_i)
2085  070C  67          	ld	h,a
2086  070D  E5          	push	hl
2087  070E  CD 00 00    	call	_NIRVANAP_spriteT_callee
2088  0711  C1          	pop	bc
2089  0712  21 00 00    	ld	hl,_i
2090  0715  7E          	ld	a,(hl)
2091  0716  3C          	inc	a
2092  0717  77          	ld	(hl),a
2093  0718  D6 08       	sub	a,0x08
2094  071A  38 E7       	jr	C,l_game_round_init_00109
2095  071C  76          	halt
2096  071D  C5          	push	bc
2097  071E  CD 00 00    	call	_spr_clear_scr
2098  0721  C1          	pop	bc
2099  0722  21 00 00    	ld	hl,_spr_init_cin
2100  0725  36 00       	ld	(hl),0x00
2101  0727  21 00 00    	ld	hl,_spr_init_cout
2102  072A  36 00       	ld	(hl),0x00
2103  072C  3A 00 00    	ld	a,(_scr_curr)
2104  072F  D6 04       	sub	a,0x04
2105  0731  20 0A       	jr	NZ,l_game_round_init_00103
2106  0733  21 00 00    	ld	hl,_spr_init_cin
2107  0736  36 02       	ld	(hl),0x02
2108  0738  21 00 00    	ld	hl,_spr_init_cout
2109  073B  36 03       	ld	(hl),0x03
2110  073D              l_game_round_init_00103:
2111  073D  C5          	push	bc
2112  073E  21 28 08    	ld	hl,0x0828
2113  0741  E5          	push	hl
2114  0742  CD 0A 11    	call	_game_copy_tile_std
2115  0745  F1          	pop	af
2116  0746  C1          	pop	bc
2117  0747  7D          	ld	a,l
2118  0748  32 00 00    	ld	(_game_tile_cnt),a
2119  074B  21 00 00    	ld	hl,_key_last
2120  074E  36 00       	ld	(hl),0x00
2121  0750  21 00 00    	ld	hl,_key_ink
2122  0753  36 06       	ld	(hl),0x06
2123  0755  21 00 00    	ld	hl,_i
2124  0758  36 00       	ld	(hl),0x00
2125  075A              l_game_round_init_00104:
2126  075A  21 00 00    	ld	hl,_i
2127  075D  7E          	ld	a, (hl)
2128  075E  D6 08       	sub	a,0x08
2129  0760  30 1B       	jr	NC,l_game_round_init_00106
2130  0762  3E 00       	ld	a, +((_obj_col) & 0xFF)
2131  0764  86          	add	a, (hl)
2132  0765  5F          	ld	e, a
2133  0766  3E 00       	ld	a, +((_obj_col) / 256)
2134  0768  CE 00       	adc	a,0x00
2135  076A  57          	ld	d, a
2136  076B  3E FF       	ld	a,0xff
2137  076D  12          	ld	(de), a
2138  076E  3E 00       	ld	a, +((_obj_lin) & 0xFF)
2139  0770  86          	add	a, (hl)
2140  0771  5F          	ld	e, a
2141  0772  3E 00       	ld	a, +((_obj_lin) / 256)
2142  0774  CE 00       	adc	a,0x00
2143  0776  57          	ld	d, a
2144  0777  3E FF       	ld	a,0xff
2145  0779  12          	ld	(de), a
2146  077A  34          	inc	(hl)
2147  077B  18 DD       	jr	l_game_round_init_00104
2148  077D              l_game_round_init_00106:
2149  077D  CD 00 00    	call	_ay_reset
2150  0780  2A 00 00    	ld	hl,(_map_border)
2151  0783  CD 00 00    	call	_zx_border_fastcall
2152  0786  21 00 00    	ld	hl,_map_border
2153  0789  7E          	ld	a, (hl)
2154  078A  07          	rlca
2155  078B  07          	rlca
2156  078C  07          	rlca
2157  078D  E6 F8       	and	a,0xf8
2158  078F  B6          	or	a, (hl)
2159  0790  32 00 00    	ld	(_screen_ink),a
2160  0793  C5          	push	bc
2161  0794  21 43 02    	ld	hl,___str_23
2162  0797  E5          	push	hl
2163  0798  21 00 00    	ld	hl,0x0000
2164  079B  E5          	push	hl
2165  079C  CD 00 00    	call	_zx_print_str
2166  079F  C1          	pop	bc
2167  07A0  21 00 00    	ld	hl,_screen_ink
2168  07A3  36 30       	ld	(hl),0x30
2169  07A5  C5          	push	bc
2170  07A6  21 43 02    	ld	hl,___str_23
2171  07A9  E5          	push	hl
2172  07AA  21 11 00    	ld	hl,0x0011
2173  07AD  E5          	push	hl
2174  07AE  CD 00 00    	call	_zx_print_str
2175  07B1  CD 0E 0B    	call	_game_page_map
2176  07B4  CD 3B 01    	call	_game_draw_map
2177  07B7  CD 00 00    	call	_spr_btile_paint_back
2178  07BA  C1          	pop	bc
2179  07BB  3A 00 00    	ld	a,(_map_paper)
2180  07BE  21 00 00    	ld	hl,_key_ink
2181  07C1  B6          	or	a, (hl)
2182  07C2  32 00 00    	ld	(_key_attrib),a
2183  07C5  32 01 00    	ld	((_key_attrib + 0x0001)),a
2184  07C8  32 02 00    	ld	((_key_attrib + 0x0002)),a
2185  07CB  32 03 00    	ld	((_key_attrib + 0x0003)),a
2186  07CE  C5          	push	bc
2187  07CF  AF          	xor	a, a
2188  07D0  F5          	push	af
2189  07D1  33          	inc	sp
2190  07D2  CD 53 10    	call	_game_flash_exit
2191  07D5  33          	inc	sp
2192  07D6  C1          	pop	bc
2193  07D7  21 00 00    	ld	hl,_game_song_play_start
2194  07DA  36 00       	ld	(hl),0x00
2195  07DC  C5          	push	bc
2196  07DD  CD 00 00    	call	_audio_ingame
2197  07E0  C1          	pop	bc
2198  07E1  3A 00 00    	ld	a,(_game_over)
2199  07E4  B7          	or	a, a
2200  07E5  20 12       	jr	NZ,l_game_round_init_00108
2201  07E7  2A 00 00    	ld	hl,(_player_col_scr)
2202  07EA  C5          	push	bc
2203  07EB  26 08       	ld	h,0x08
2204  07ED  3A 00 00    	ld	a,(_player_lin_scr)
2205  07F0  E5          	push	hl
2206  07F1  F5          	push	af
2207  07F2  33          	inc	sp
2208  07F3  CD 00 00    	call	_player_init
2209  07F6  F1          	pop	af
2210  07F7  33          	inc	sp
2211  07F8  C1          	pop	bc
2212  07F9              l_game_round_init_00108:
2213  07F9  C5          	push	bc
2214  07FA  CD 00 00    	call	_game_update_stats
2215  07FD  C1          	pop	bc
2216  07FE  21 00 00    	ld	hl,_screen_ink
2217  0801  36 30       	ld	(hl),0x30
2218  0803  2A 00 00    	ld	hl,(_scr_curr)
2219  0806  26 00       	ld	h,0x00
2220  0808  29          	add	hl, hl
2221  0809  09          	add	hl, bc
2222  080A  4E          	ld	c, (hl)
2223  080B  23          	inc	hl
2224  080C  46          	ld	b, (hl)
2225  080D  C5          	push	bc
2226  080E  21 11 00    	ld	hl,0x0011
2227  0811  E5          	push	hl
2228  0812  CD 00 00    	call	_zx_print_str
2229  0815  21 00 00    	ld	hl,_screen_ink
2230  0818  36 57       	ld	(hl),0x57
2231  081A  21 64 02    	ld	hl,___str_24
2232  081D  E5          	push	hl
2233  081E  21 12 00    	ld	hl,0x0012
2234  0821  E5          	push	hl
2235  0822  CD 00 00    	call	_zx_print_str
2236  0825  21 00 00    	ld	hl,_screen_ink
2237  0828  36 67       	ld	(hl),0x67
2238  082A  21 6F 02    	ld	hl,___str_25
2239  082D  E5          	push	hl
2240  082E  21 12 0A    	ld	hl,0x0a12
2241  0831  E5          	push	hl
2242  0832  CD 00 00    	call	_zx_print_str
2243  0835  21 00 00    	ld	hl,_screen_ink
2244  0838  36 06       	ld	(hl),0x06
2245  083A  21 86 02    	ld	hl,___str_26
2246  083D  E5          	push	hl
2247  083E  21 14 00    	ld	hl,0x0014
2248  0841  E5          	push	hl
2249  0842  CD 00 00    	call	_zx_print_str
2250  0845  CD 19 04    	call	_game_print_score
2251  0848  CD 3A 04    	call	_game_print_lives
2252  084B  21 00 00    	ld	hl,_screen_ink
2253  084E  36 07       	ld	(hl),0x07
2254  0850  76          	halt
2255  0851  DD F9       	ld	sp, ix
2256  0853  DD E1       	pop	ix
2257  0855  C9          	ret
2258  0856              	SECTION rodata_compiler
2259  0028              _game_borders:
2260  0028  02          	DEFB +0x02
2261  0029  02          	DEFB +0x02
2262  002A  02          	DEFB +0x02
2263  002B  02          	DEFB +0x02
2264  002C  01          	DEFB +0x01
2265  002D  02          	DEFB +0x02
2266  002E  04          	DEFB +0x04
2267  002F  02          	DEFB +0x02
2268  0030  01          	DEFB +0x01
2269  0031  02          	DEFB +0x02
2270  0032  02          	DEFB +0x02
2271  0033  02          	DEFB +0x02
2272  0034  01          	DEFB +0x01
2273  0035  06          	DEFB +0x06
2274  0036  02          	DEFB +0x02
2275  0037  02          	DEFB +0x02
2276  0038  02          	DEFB +0x02
2277  0039  01          	DEFB +0x01
2278  003A  03          	DEFB +0x03
2279  003B  02          	DEFB +0x02
2280  003C              	SECTION rodata_compiler
2281  003C              ___str_3:
2282  003C  20 20 20 20 20 20 20 20 20 43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "         Central Cavern"
2283  0053  00          	DEFB 0x00
2284  0054              	SECTION rodata_compiler
2285  0054              ___str_4:
2286  0054  20 20 20 20 20 20 20 20 20 20 54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "          The Cold Room"
2287  006B  00          	DEFB 0x00
2288  006C              	SECTION rodata_compiler
2289  006C              ___str_5:
2290  006C  20 20 20 20 20 20 20 20 20 20 54 68 65 20 4D 65 6E 61 67 65 72 69 65 
                        	DEFM "          The Menagerie"
2291  0083  00          	DEFB 0x00
2292  0084              	SECTION rodata_compiler
2293  0084              ___str_6:
2294  0084  20 20 20 41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "   Abandoned Uranium Workings"
2295  00A1  00          	DEFB 0x00
2296  00A2              	SECTION rodata_compiler
2297  00A2              ___str_7:
2298  00A2  20 20 20 20 20 20 20 20 20 45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "         Eugene's Lair"
2299  00B8  00          	DEFB 0x00
2300  00B9              	SECTION rodata_compiler
2301  00B9              ___str_8:
2302  00B9  20 20 20 20 20 20 20 50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "       Processing Plant"
2303  00D0  00          	DEFB 0x00
2304  00D1              	SECTION rodata_compiler
2305  00D1              ___str_9:
2306  00D1  20 20 20 20 20 20 20 20 20 20 20 20 54 68 65 20 56 61 74 
                        	DEFM "            The Vat"
2307  00E4  00          	DEFB 0x00
2308  00E5              	SECTION rodata_compiler
2309  00E5              ___str_10:
2310  00E5  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2311  0105  00          	DEFB 0x00
2312  0106              	SECTION rodata_compiler
2313  0106              ___str_11:
2314  0106  20 20 20 20 20 20 20 20 57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "        Wacky Amoebatrons"
2315  011F  00          	DEFB 0x00
2316  0120              	SECTION rodata_compiler
2317  0120              ___str_12:
2318  0120  20 20 20 20 20 20 20 54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "       The Endorian Forest"
2319  013A  00          	DEFB 0x00
2320  013B              	SECTION rodata_compiler
2321  013B              ___str_13:
2322  013B  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2323  015A  00          	DEFB 0x00
2324  015B              	SECTION rodata_compiler
2325  015B              ___str_14:
2326  015B  20 52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM " Return of the Alien Kong Beast"
2327  017A  00          	DEFB 0x00
2328  017B              	SECTION rodata_compiler
2329  017B              ___str_15:
2330  017B  20 20 20 20 20 20 20 20 20 20 4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "          Ore Refinery"
2331  0191  00          	DEFB 0x00
2332  0192              	SECTION rodata_compiler
2333  0192              ___str_16:
2334  0192  20 20 20 20 20 20 20 53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "       Skylab Landing Bay"
2335  01AB  00          	DEFB 0x00
2336  01AC              	SECTION rodata_compiler
2337  01AC              ___str_17:
2338  01AC  20 20 20 20 20 20 20 20 20 20 20 20 20 54 68 65 20 42 61 6E 6B 
                        	DEFM "             The Bank"
2339  01C1  00          	DEFB 0x00
2340  01C2              	SECTION rodata_compiler
2341  01C2              ___str_18:
2342  01C2  20 20 20 20 20 20 54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "      The Sixteenth Cavern"
2343  01DC  00          	DEFB 0x00
2344  01DD              	SECTION rodata_compiler
2345  01DD              ___str_19:
2346  01DD  20 20 20 20 20 20 20 20 20 54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "         The Warehouse"
2347  01F3  00          	DEFB 0x00
2348  01F4              	SECTION rodata_compiler
2349  01F4              ___str_20:
2350  01F4  20 20 20 20 20 20 41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "      Amoebatrons Revenge"
2351  020D  00          	DEFB 0x00
2352  020E              	SECTION rodata_compiler
2353  020E              ___str_21:
2354  020E  20 20 20 20 20 53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "     Solar Power Generator"
2355  0228  00          	DEFB 0x00
2356  0229              	SECTION rodata_compiler
2357  0229              ___str_22:
2358  0229  20 20 20 20 20 20 20 20 54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "        The Final Barrier"
2359  0242  00          	DEFB 0x00
2360  0243              	SECTION rodata_compiler
2361  0243              ___str_23:
2362  0243  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2363  0263  00          	DEFB 0x00
2364  0264              	SECTION rodata_compiler
2365  0264              ___str_24:
2366  0264  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
2367  026E  00          	DEFB 0x00
2368  026F              	SECTION rodata_compiler
2369  026F              ___str_25:
2370  026F  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
2371  0285  00          	DEFB 0x00
2372  0286              	SECTION rodata_compiler
2373  0286              ___str_26:
2374  0286  48 69 67 68 20 53 63 6F 72 65 20 20 20 20 20 20 20 20 20 53 63 6F 72 65 20 20 20 20 20 20 
                        	DEFM "High Score         Score      "
2375  02A4  00          	DEFB 0x00
2376  02A5              	SECTION code_compiler
2377  0856              ;	---------------------------------
2378  0856              ; Function game_print_header
2379  0856              ; ---------------------------------
2380  0856              	defc _game_print_header	=	_game_print_score
2381  0856              	SECTION code_compiler
2382  0856              ;	---------------------------------
2383  0856              ; Function game_check_map
2384  0856              ; ---------------------------------
2385  0856              _game_check_map:
2386  0856  CD 00 00    	call	___sdcc_enter_ix
2387  0859  DD 66 05    	ld	h,(ix+5)
2388  085C  DD 6E 04    	ld	l,(ix+4)
2389  085F  E5          	push	hl
2390  0860  CD 00 00    	call	_spr_calc_index
2391  0863  F1          	pop	af
2392  0864  22 00 00    	ld	(_index1),hl
2393  0867  21 00 00    	ld	hl,_index1
2394  086A  DD E1       	pop	ix
2395  086C  C3 6F 08    	jp	_game_check_cell
2396  086F              	SECTION code_compiler
2397  086F              ;	---------------------------------
2398  086F              ; Function game_check_cell
2399  086F              ; ---------------------------------
2400  086F              _game_check_cell:
2401  086F  4E          	ld	c, (hl)
2402  0870  23          	inc	hl
2403  0871  46          	ld	b, (hl)
2404  0872  AF          	xor	a, a
2405  0873  B9          	cp	a, c
2406  0874  3E 02       	ld	a,0x02
2407  0876  98          	sbc	a, b
2408  0877  30 04       	jr	NC,l_game_check_cell_00102
2409  0879  2E 01       	ld	l,0x01
2410  087B  18 13       	jr	l_game_check_cell_00106
2411  087D              l_game_check_cell_00102:
2412  087D  21 00 00    	ld	hl,_scr_map
2413  0880  09          	add	hl, bc
2414  0881  5E          	ld	e, (hl)
2415  0882  ED 43 00 00 	ld	(_index1),bc
2416  0886  7B          	ld	a,e
2417  0887  D6 03       	sub	a,0x03
2418  0889  28 04       	jr	Z,l_game_check_cell_00104
2419  088B  2E 00       	ld	l,0x00
2420  088D  18 01       	jr	l_game_check_cell_00106
2421  088F              l_game_check_cell_00104:
2422  088F  6B          	ld	l, e
2423  0890              l_game_check_cell_00106:
2424  0890  C9          	ret
2425  0891              	SECTION code_compiler
2426  0891              ;	---------------------------------
2427  0891              ; Function game_paint_attrib
2428  0891              ; ---------------------------------
2429  0891              _game_paint_attrib:
2430  0891  CD 00 00    	call	___sdcc_enter_ix
2431  0894  DD 46 06    	ld	b,(ix+6)
2432  0897              l_game_paint_attrib_00103:
2433  0897  78          	ld	a, b
2434  0898  DD 96 07    	sub	a,(ix+7)
2435  089B  30 13       	jr	NC,l_game_paint_attrib_00105
2436  089D  DD 5E 04    	ld	e,(ix+4)
2437  08A0  DD 56 05    	ld	d,(ix+5)
2438  08A3  C5          	push	bc
2439  08A4  DD 4E 08    	ld	c,(ix+8)
2440  08A7  C5          	push	bc
2441  08A8  D5          	push	de
2442  08A9  CD 00 00    	call	_NIRVANAP_paintC_callee
2443  08AC  C1          	pop	bc
2444  08AD  04          	inc	b
2445  08AE  18 E7       	jr	l_game_paint_attrib_00103
2446  08B0              l_game_paint_attrib_00105:
2447  08B0  DD E1       	pop	ix
2448  08B2  C9          	ret
2449  08B3              	SECTION code_compiler
2450  08B3              ;	---------------------------------
2451  08B3              ; Function game_colour_message
2452  08B3              ; ---------------------------------
2453  08B3              _game_colour_message:
2454  08B3  CD 00 00    	call	___sdcc_enter_ix
2455  08B6  F5          	push	af
2456  08B7  F5          	push	af
2457  08B8  F5          	push	af
2458  08B9  F5          	push	af
2459  08BA  D1          	pop	de
2460  08BB  21 00 00    	ld	hl,_v0
2461  08BE  36 01       	ld	(hl),0x01
2462  08C0  2A 00 00    	ld	hl,(_curr_time)
2463  08C3  22 00 00    	ld	(_frame_time),hl
2464  08C6  E5          	push	hl
2465  08C7  DD 7E 04    	ld	a,(ix+4)
2466  08CA  4D          	ld	c,l
2467  08CB  07          	rlca
2468  08CC  07          	rlca
2469  08CD  07          	rlca
2470  08CE  E6 F8       	and	a,0xf8
2471  08D0  DD 77 FF    	ld	(ix-1),a
2472  08D3  C6 08       	add	a,0x08
2473  08D5  DD 77 FE    	ld	(ix-2),a
2474  08D8  DD 77 FD    	ld	(ix-3),a
2475  08DB              l_game_colour_message_00112:
2476  08DB  3A 00 00    	ld	a,(_v0)
2477  08DE  B7          	or	a, a
2478  08DF  CA 7B 09    	jp	Z, l_game_colour_message_00114
2479  08E2  DD 46 07    	ld	b,(ix+7)
2480  08E5  21 00 00    	ld	hl,0x0000
2481  08E8  39          	add	hl, sp
2482  08E9  EB          	ex	de,hl
2483  08EA  C5          	push	bc
2484  08EB  33          	inc	sp
2485  08EC  D5          	push	de
2486  08ED  CD F1 09    	call	_game_check_time
2487  08F0  F1          	pop	af
2488  08F1  33          	inc	sp
2489  08F2  7D          	ld	a, l
2490  08F3  B7          	or	a, a
2491  08F4  C2 7B 09    	jp	NZ, l_game_colour_message_00114
2492  08F7  3E 05       	ld	a,0x05
2493  08F9  F5          	push	af
2494  08FA  33          	inc	sp
2495  08FB  21 00 00    	ld	hl,_frame_time
2496  08FE  E5          	push	hl
2497  08FF  CD F1 09    	call	_game_check_time
2498  0902  F1          	pop	af
2499  0903  33          	inc	sp
2500  0904  DD 75 FC    	ld	(ix-4),l
2501  0907  7D          	ld	a, l
2502  0908  B7          	or	a, a
2503  0909  28 4A       	jr	Z,l_game_colour_message_00105
2504  090B  2A 00 00    	ld	hl,(_curr_time)
2505  090E  DD 74 FB    	ld	(ix-5),h
2506  0911  DD 75 FA    	ld	(ix-6),l
2507  0914  7D          	ld	a, l
2508  0915  21 00 00    	ld	hl,_frame_time
2509  0918  77          	ld	(hl), a
2510  0919  DD 7E FB    	ld	a,(ix-5)
2511  091C  23          	inc	hl
2512  091D  77          	ld	(hl), a
2513  091E  3A 00 00    	ld	a,(_game_over)
2514  0921  B7          	or	a, a
2515  0922  28 18       	jr	Z,l_game_colour_message_00102
2516  0924  DD 66 FD    	ld	h,(ix-3)
2517  0927  DD 6E 06    	ld	l,(ix+6)
2518  092A  E5          	push	hl
2519  092B  DD 7E 05    	ld	a,(ix+5)
2520  092E  F5          	push	af
2521  092F  33          	inc	sp
2522  0930  21 00 00    	ld	hl,_attrib_hl
2523  0933  E5          	push	hl
2524  0934  CD 91 08    	call	_game_paint_attrib
2525  0937  F1          	pop	af
2526  0938  F1          	pop	af
2527  0939  33          	inc	sp
2528  093A  18 19       	jr	l_game_colour_message_00105
2529  093C              l_game_colour_message_00102:
2530  093C  DD 66 FE    	ld	h,(ix-2)
2531  093F  DD 6E 06    	ld	l,(ix+6)
2532  0942  E5          	push	hl
2533  0943  DD 7E 05    	ld	a,(ix+5)
2534  0946  F5          	push	af
2535  0947  33          	inc	sp
2536  0948  21 00 00    	ld	hl,_attrib_osd
2537  094B  E5          	push	hl
2538  094C  CD 91 08    	call	_game_paint_attrib
2539  094F  F1          	pop	af
2540  0950  F1          	pop	af
2541  0951  33          	inc	sp
2542  0952  CD 99 0A    	call	_game_rotate_attrib_osd
2543  0955              l_game_colour_message_00105:
2544  0955  DD 7E 09    	ld	a,(ix+9)
2545  0958  B7          	or	a, a
2546  0959  CA DB 08    	jp	Z, l_game_colour_message_00112
2547  095C              l_game_colour_message_00106:
2548  095C  21 00 00    	ld	hl,_k1
2549  095F  E5          	push	hl
2550  0960  2A 00 00    	ld	hl,(_joyfunc1)
2551  0963  CD 00 00    	call	___sdcc_call_hl
2552  0966  F1          	pop	af
2553  0967  DD 74 FB    	ld	(ix-5),h
2554  096A  DD 75 FA    	ld	(ix-6),l
2555  096D  7C          	ld	a,h
2556  096E  DD B6 FA    	or	a,(ix-6)
2557  0971  CA DB 08    	jp	Z, l_game_colour_message_00112
2558  0974  21 00 00    	ld	hl,_v0
2559  0977  36 00       	ld	(hl),0x00
2560  0979  18 E1       	jr	l_game_colour_message_00106
2561  097B              l_game_colour_message_00114:
2562  097B  DD 7E 06    	ld	a,(ix+6)
2563  097E  DD 96 05    	sub	a,(ix+5)
2564  0981  4F          	ld	c, a
2565  0982  3A 00 00    	ld	a,(_game_over)
2566  0985  B7          	or	a, a
2567  0986  28 2F       	jr	Z,l_game_colour_message_00118
2568  0988  21 00 00    	ld	hl,_v1
2569  098B  71          	ld	(hl), c
2570  098C  21 00 00    	ld	hl,_v0
2571  098F  36 00       	ld	(hl),0x00
2572  0991              l_game_colour_message_00121:
2573  0991  3A 00 00    	ld	a,(_v0)
2574  0994  21 00 00    	ld	hl,_v1
2575  0997  96          	sub	a, (hl)
2576  0998  30 52       	jr	NC,l_game_colour_message_00126
2577  099A  DD 7E 05    	ld	a,(ix+5)
2578  099D  21 00 00    	ld	hl,_v0
2579  09A0  86          	add	a, (hl)
2580  09A1  4F          	ld	c, a
2581  09A2  21 A5 02    	ld	hl,___str_27
2582  09A5  E5          	push	hl
2583  09A6  79          	ld	a, c
2584  09A7  F5          	push	af
2585  09A8  33          	inc	sp
2586  09A9  DD 7E 04    	ld	a,(ix+4)
2587  09AC  F5          	push	af
2588  09AD  33          	inc	sp
2589  09AE  CD 00 00    	call	_zx_print_str
2590  09B1  21 00 00    	ld	hl,_v0
2591  09B4  34          	inc	(hl)
2592  09B5  18 DA       	jr	l_game_colour_message_00121
2593  09B7              l_game_colour_message_00118:
2594  09B7  21 00 00    	ld	hl,_v1
2595  09BA  71          	ld	(hl), c
2596  09BB  DD 7E FF    	ld	a,(ix-1)
2597  09BE  32 00 00    	ld	(_s_lin0),a
2598  09C1  DD 7E 05    	ld	a,(ix+5)
2599  09C4  CB 3F       	srl	a
2600  09C6  87          	add	a, a
2601  09C7  32 00 00    	ld	(_s_col1),a
2602  09CA  21 00 00    	ld	hl,_v2
2603  09CD  36 00       	ld	(hl),0x00
2604  09CF              l_game_colour_message_00124:
2605  09CF  3A 00 00    	ld	a,(_v2)
2606  09D2  21 00 00    	ld	hl,_v1
2607  09D5  96          	sub	a, (hl)
2608  09D6  30 14       	jr	NC,l_game_colour_message_00126
2609  09D8  3A 00 00    	ld	a,(_s_col1)
2610  09DB  21 00 00    	ld	hl,_v2
2611  09DE  86          	add	a, (hl)
2612  09DF  32 00 00    	ld	(_s_col0),a
2613  09E2  CD 00 00    	call	_spr_back_repaint
2614  09E5  21 00 00    	ld	hl,_v2
2615  09E8  34          	inc	(hl)
2616  09E9  34          	inc	(hl)
2617  09EA  18 E3       	jr	l_game_colour_message_00124
2618  09EC              l_game_colour_message_00126:
2619  09EC  DD F9       	ld	sp, ix
2620  09EE  DD E1       	pop	ix
2621  09F0  C9          	ret
2622  09F1              	SECTION rodata_compiler
2623  02A5              ___str_27:
2624  02A5  20          	DEFM " "
2625  02A6  00          	DEFB 0x00
2626  02A7              	SECTION code_compiler
2627  09F1              ;	---------------------------------
2628  09F1              ; Function game_check_time
2629  09F1              ; ---------------------------------
2630  09F1              _game_check_time:
2631  09F1  CD 00 00    	call	___sdcc_enter_ix
2632  09F4  2A 00 00    	ld	hl,(_curr_time)
2633  09F7  4D          	ld	c, l
2634  09F8  DD 6E 04    	ld	l,(ix+4)
2635  09FB  44          	ld	b,h
2636  09FC  DD 66 05    	ld	h,(ix+5)
2637  09FF  5E          	ld	e, (hl)
2638  0A00  23          	inc	hl
2639  0A01  56          	ld	d, (hl)
2640  0A02  79          	ld	a, c
2641  0A03  93          	sub	a, e
2642  0A04  4F          	ld	c, a
2643  0A05  78          	ld	a, b
2644  0A06  9A          	sbc	a, d
2645  0A07  47          	ld	b, a
2646  0A08  DD 7E 06    	ld	a,(ix+6)
2647  0A0B  16 00       	ld	d,0x00
2648  0A0D  91          	sub	a, c
2649  0A0E  7A          	ld	a, d
2650  0A0F  98          	sbc	a, b
2651  0A10  30 04       	jr	NC,l_game_check_time_00102
2652  0A12  2E 01       	ld	l,0x01
2653  0A14  18 02       	jr	l_game_check_time_00104
2654  0A16              l_game_check_time_00102:
2655  0A16  2E 00       	ld	l,0x00
2656  0A18              l_game_check_time_00104:
2657  0A18  DD E1       	pop	ix
2658  0A1A  C9          	ret
2659  0A1B              	SECTION code_compiler
2660  0A1B              ;	---------------------------------
2661  0A1B              ; Function game_key_paint
2662  0A1B              ; ---------------------------------
2663  0A1B              _game_key_paint:
2664  0A1B  3A 00 00    	ld	a,(_game_playing)
2665  0A1E  B7          	or	a, a
2666  0A1F  CA 98 0A    	jp	Z, l_game_key_paint_00117
2667  0A22  3A 00 00    	ld	a,(_obj_count)
2668  0A25  B7          	or	a, a
2669  0A26  28 70       	jr	Z,l_game_key_paint_00117
2670  0A28  21 00 00    	ld	hl,_key_last
2671  0A2B  4E          	ld	c, (hl)
2672  0A2C  59          	ld	e, c
2673  0A2D              l_game_key_paint_00105:
2674  0A2D  7B          	ld	a, e
2675  0A2E  D6 08       	sub	a,0x08
2676  0A30  30 4A       	jr	NC,l_game_key_paint_00107
2677  0A32  16 00       	ld	d,0x00
2678  0A34  21 00 00    	ld	hl,_obj_col
2679  0A37  19          	add	hl, de
2680  0A38  7E          	ld	a,(hl)
2681  0A39  47          	ld	b,a
2682  0A3A  3C          	inc	a
2683  0A3B  28 3B       	jr	Z,l_game_key_paint_00104
2684  0A3D  11 00 00    	ld	de,_obj_lin+0
2685  0A40  69          	ld	l,c
2686  0A41  26 00       	ld	h,0x00
2687  0A43  19          	add	hl, de
2688  0A44  5E          	ld	e, (hl)
2689  0A45  C5          	push	bc
2690  0A46  C5          	push	bc
2691  0A47  33          	inc	sp
2692  0A48  7B          	ld	a, e
2693  0A49  F5          	push	af
2694  0A4A  33          	inc	sp
2695  0A4B  21 00 00    	ld	hl,_key_attrib
2696  0A4E  E5          	push	hl
2697  0A4F  CD 00 00    	call	_NIRVANAP_paintC_callee
2698  0A52  C1          	pop	bc
2699  0A53  3A 00 00    	ld	a,(_map_paper)
2700  0A56  21 00 00    	ld	hl,_key_ink
2701  0A59  B6          	or	a, (hl)
2702  0A5A  32 00 00    	ld	(_key_attrib),a
2703  0A5D  32 01 00    	ld	((_key_attrib + 0x0001)),a
2704  0A60  32 02 00    	ld	((_key_attrib + 0x0002)),a
2705  0A63  32 03 00    	ld	((_key_attrib + 0x0003)),a
2706  0A66  21 00 00    	ld	hl,_key_ink
2707  0A69  34          	inc	(hl)
2708  0A6A  3E 06       	ld	a,0x06
2709  0A6C  96          	sub	a, (hl)
2710  0A6D  30 02       	jr	NC,l_game_key_paint_00102
2711  0A6F  36 03       	ld	(hl),0x03
2712  0A71              l_game_key_paint_00102:
2713  0A71  79          	ld	a, c
2714  0A72  3C          	inc	a
2715  0A73  32 00 00    	ld	(_key_last),a
2716  0A76  18 04       	jr	l_game_key_paint_00107
2717  0A78              l_game_key_paint_00104:
2718  0A78  1C          	inc	e
2719  0A79  4B          	ld	c, e
2720  0A7A  18 B1       	jr	l_game_key_paint_00105
2721  0A7C              l_game_key_paint_00107:
2722  0A7C  79          	ld	a, c
2723  0A7D  D6 08       	sub	a,0x08
2724  0A7F  38 17       	jr	C,l_game_key_paint_00117
2725  0A81  3A 00 00    	ld	a,(_obj_count)
2726  0A84  D6 04       	sub	a,0x04
2727  0A86  20 0B       	jr	NZ,l_game_key_paint_00111
2728  0A88  21 00 00    	ld	hl,_key_ink
2729  0A8B  34          	inc	(hl)
2730  0A8C  3E 06       	ld	a,0x06
2731  0A8E  96          	sub	a, (hl)
2732  0A8F  30 02       	jr	NC,l_game_key_paint_00111
2733  0A91  36 03       	ld	(hl),0x03
2734  0A93              l_game_key_paint_00111:
2735  0A93  21 00 00    	ld	hl,_key_last
2736  0A96  36 00       	ld	(hl),0x00
2737  0A98              l_game_key_paint_00117:
2738  0A98  C9          	ret
2739  0A99              	SECTION code_compiler
2740  0A99              ;	---------------------------------
2741  0A99              ; Function game_rotate_attrib_osd
2742  0A99              ; ---------------------------------
2743  0A99              _game_rotate_attrib_osd:
2744  0A99  3A 00 00    	ld	a,(_game_attrib_osd)
2745  0A9C  D6 07       	sub	a,0x07
2746  0A9E  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2747  0AA0  21 00 00    	ld	hl,_game_attrib_osd
2748  0AA3  36 01       	ld	(hl),0x01
2749  0AA5              l_game_rotate_attrib_osd_00102:
2750  0AA5  21 00 00    	ld	hl,_game_attrib_osd
2751  0AA8  34          	inc	(hl)
2752  0AA9  01 00 00    	ld	bc,_attrib_osd+0
2753  0AAC  0A          	ld	a, (bc)
2754  0AAD  32 00 00    	ld	(_v0),a
2755  0AB0  3A 03 00    	ld	a,(_attrib_osd + 0x0003)
2756  0AB3  02          	ld	(bc), a
2757  0AB4  59          	ld	e, c
2758  0AB5  50          	ld	d, b
2759  0AB6  13          	inc	de
2760  0AB7  03          	inc	bc
2761  0AB8  03          	inc	bc
2762  0AB9  0A          	ld	a, (bc)
2763  0ABA  12          	ld	(de), a
2764  0ABB  02          	ld	(bc), a
2765  0ABC  3A 00 00    	ld	a,(_v0)
2766  0ABF  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2767  0AC2  C9          	ret
2768  0AC3              	SECTION code_compiler
2769  0AC3              ;	---------------------------------
2770  0AC3              ; Function game_attribs
2771  0AC3              ; ---------------------------------
2772  0AC3              _game_attribs:
2773  0AC3  01 00 00    	ld	bc,_attrib+0
2774  0AC6  21 00 00    	ld	hl,_map_paper
2775  0AC9  7E          	ld	a, (hl)
2776  0ACA  F6 06       	or	a,0x06
2777  0ACC  02          	ld	(bc), a
2778  0ACD  59          	ld	e, c
2779  0ACE  50          	ld	d, b
2780  0ACF  13          	inc	de
2781  0AD0  7E          	ld	a, (hl)
2782  0AD1  F6 46       	or	a,0x46
2783  0AD3  12          	ld	(de), a
2784  0AD4  7E          	ld	a, (hl)
2785  0AD5  F6 07       	or	a,0x07
2786  0AD7  32 02 00    	ld	((_attrib + 0x0002)),a
2787  0ADA  03          	inc	bc
2788  0ADB  03          	inc	bc
2789  0ADC  03          	inc	bc
2790  0ADD  21 00 00    	ld	hl,_map_paper
2791  0AE0  7E          	ld	a, (hl)
2792  0AE1  F6 06       	or	a,0x06
2793  0AE3  02          	ld	(bc), a
2794  0AE4  01 00 00    	ld	bc,_attrib_hl+0
2795  0AE7  7E          	ld	a, (hl)
2796  0AE8  F6 55       	or	a,0x55
2797  0AEA  02          	ld	(bc), a
2798  0AEB  59          	ld	e, c
2799  0AEC  50          	ld	d, b
2800  0AED  13          	inc	de
2801  0AEE  7E          	ld	a, (hl)
2802  0AEF  F6 15       	or	a,0x15
2803  0AF1  12          	ld	(de), a
2804  0AF2  7E          	ld	a, (hl)
2805  0AF3  F6 11       	or	a,0x11
2806  0AF5  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2807  0AF8  03          	inc	bc
2808  0AF9  03          	inc	bc
2809  0AFA  03          	inc	bc
2810  0AFB  3A 00 00    	ld	a,(_map_paper)
2811  0AFE  F6 10       	or	a,0x10
2812  0B00  02          	ld	(bc), a
2813  0B01  21 70 71    	ld	hl,0x7170
2814  0B04  22 00 00    	ld	(_attrib_osd),hl
2815  0B07  21 71 73    	ld	hl,0x7371
2816  0B0A  22 02 00    	ld	(_attrib_osd + 2),hl
2817  0B0D  C9          	ret
2818  0B0E              	SECTION code_compiler
2819  0B0E              ;	---------------------------------
2820  0B0E              ; Function game_page_map
2821  0B0E              ; ---------------------------------
2822  0B0E              _game_page_map:
2823  0B0E  CD 00 00    	call	___sdcc_enter_ix
2824  0B11  21 AD FF    	ld	hl, -83
2825  0B14  39          	add	hl, sp
2826  0B15  F9          	ld	sp, hl
2827  0B16  F3          	di
2828  0B17  21 00 00    	ld	hl,_game_world
2829  0B1A  4E          	ld	c, (hl)
2830  0B1B  3A 00 00    	ld	a,(_scr_curr)
2831  0B1E  DD 77 DE    	ld	(ix-34),a
2832  0B21  79          	ld	a, c
2833  0B22  07          	rlca
2834  0B23  07          	rlca
2835  0B24  07          	rlca
2836  0B25  07          	rlca
2837  0B26  E6 F0       	and	a,0xf0
2838  0B28  DD 86 DE    	add	a,(ix-34)
2839  0B2B  DD 77 DD    	ld	(ix-35),a
2840  0B2E  4F          	ld	c,a
2841  0B2F  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2842  0B32  36 16       	ld	(hl),0x16
2843  0B34  C5          	push	bc
2844  0B35  3E 16       	ld	a,0x16
2845  0B37  01 FD 7F    	ld	bc,_IO_7FFD
2846  0B3A  ED 79       	out	(c),a
2847  0B3C  C1          	pop	bc
2848  0B3D  DD 7E DE    	ld	a,(ix-34)
2849  0B40  3C          	inc	a
2850  0B41  20 03       	jr	NZ,l_game_page_map_00102
2851  0B43  DD 71 DD    	ld	(ix-35),c
2852  0B46              l_game_page_map_00102:
2853  0B46  01 00 00    	ld	bc,_paper0+0
2854  0B49  DD 6E DD    	ld	l,(ix-35)
2855  0B4C  26 00       	ld	h,0x00
2856  0B4E  09          	add	hl, bc
2857  0B4F  7E          	ld	a, (hl)
2858  0B50  DD 77 DF    	ld	(ix-33),a
2859  0B53  3E 10       	ld	a,0x10
2860  0B55  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2861  0B58  01 FD 7F    	ld	bc,_IO_7FFD
2862  0B5B  ED 79       	out	(c),a
2863  0B5D  DD 4E DE    	ld	c,(ix-34)
2864  0B60  CB 39       	srl	c
2865  0B62  06 00       	ld	b,0x00
2866  0B64  69          	ld	l, c
2867  0B65  60          	ld	h, b
2868  0B66  29          	add	hl, hl
2869  0B67  09          	add	hl, bc
2870  0B68  AF          	xor	a,a
2871  0B69  CB 3C       	srl	h
2872  0B6B  CB 1D       	rr	l
2873  0B6D  1F          	rra
2874  0B6E  CB 3C       	srl	h
2875  0B70  CB 1D       	rr	l
2876  0B72  1F          	rra
2877  0B73  DD 77 E2    	ld	(ix-30),a
2878  0B76  DD 75 E3    	ld	(ix-29),l
2879  0B79  21 00 00    	ld	hl,0x0000
2880  0B7C  39          	add	hl, sp
2881  0B7D  DD 75 EF    	ld	(ix-17),l
2882  0B80  DD 74 F0    	ld	(ix-16),h
2883  0B83  DD 75 ED    	ld	(ix-19),l
2884  0B86  DD 74 EE    	ld	(ix-18),h
2885  0B89  DD 7E EF    	ld	a,(ix-17)
2886  0B8C  DD 77 F1    	ld	(ix-15),a
2887  0B8F  DD 7E F0    	ld	a,(ix-16)
2888  0B92  DD 77 F2    	ld	(ix-14),a
2889  0B95  DD 7E EF    	ld	a,(ix-17)
2890  0B98  DD 77 FE    	ld	(ix-2),a
2891  0B9B  DD 7E F0    	ld	a,(ix-16)
2892  0B9E  DD 77 FF    	ld	(ix-1),a
2893  0BA1  DD 7E DE    	ld	a,(ix-34)
2894  0BA4  E6 01       	and	a,0x01
2895  0BA6  DD 77 FD    	ld	(ix-3),a
2896  0BA9  DD 7E EF    	ld	a,(ix-17)
2897  0BAC  DD 77 FB    	ld	(ix-5),a
2898  0BAF  DD 7E F0    	ld	a,(ix-16)
2899  0BB2  DD 77 FC    	ld	(ix-4),a
2900  0BB5  DD 7E EF    	ld	a,(ix-17)
2901  0BB8  DD 77 F9    	ld	(ix-7),a
2902  0BBB  DD 7E F0    	ld	a,(ix-16)
2903  0BBE  DD 77 FA    	ld	(ix-6),a
2904  0BC1  DD 7E EF    	ld	a,(ix-17)
2905  0BC4  DD 77 F7    	ld	(ix-9),a
2906  0BC7  DD 7E F0    	ld	a,(ix-16)
2907  0BCA  DD 77 F8    	ld	(ix-8),a
2908  0BCD  DD 36 E4 00 	ld	(ix-28),0x00
2909  0BD1  DD 36 E5 00 	ld	(ix-27),0x00
2910  0BD5              l_game_page_map_00127:
2911  0BD5  DD 7E E4    	ld	a,(ix-28)
2912  0BD8  D6 F0       	sub	a,0xf0
2913  0BDA  DD 7E E5    	ld	a,(ix-27)
2914  0BDD  DE 00       	sbc	a,0x00
2915  0BDF  D2 9E 0D    	jp	NC, l_game_page_map_00129
2916  0BE2  3E 13       	ld	a,0x13
2917  0BE4  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2918  0BE7  01 FD 7F    	ld	bc,_IO_7FFD
2919  0BEA  ED 79       	out	(c),a
2920  0BEC  DD 36 E8 00 	ld	(ix-24),0x00
2921  0BF0  DD 36 E9 00 	ld	(ix-23),0x00
2922  0BF4              l_game_page_map_00103:
2923  0BF4  DD 7E E8    	ld	a,(ix-24)
2924  0BF7  D6 30       	sub	a,0x30
2925  0BF9  DD 7E E9    	ld	a,(ix-23)
2926  0BFC  DE 00       	sbc	a,0x00
2927  0BFE  30 54       	jr	NC,l_game_page_map_00105
2928  0C00  DD 7E FE    	ld	a,(ix-2)
2929  0C03  DD 86 E8    	add	a,(ix-24)
2930  0C06  DD 77 F5    	ld	(ix-11),a
2931  0C09  DD 7E FF    	ld	a,(ix-1)
2932  0C0C  DD 8E E9    	adc	a,(ix-23)
2933  0C0F  DD 77 F6    	ld	(ix-10),a
2934  0C12  DD 7E E2    	ld	a,(ix-30)
2935  0C15  DD 86 E8    	add	a,(ix-24)
2936  0C18  DD 77 F3    	ld	(ix-13),a
2937  0C1B  DD 7E E3    	ld	a,(ix-29)
2938  0C1E  DD 8E E9    	adc	a,(ix-23)
2939  0C21  DD 77 F4    	ld	(ix-12),a
2940  0C24  DD 7E F3    	ld	a,(ix-13)
2941  0C27  DD 86 E4    	add	a,(ix-28)
2942  0C2A  DD 77 F3    	ld	(ix-13),a
2943  0C2D  6F          	ld	l,a
2944  0C2E  DD 7E F4    	ld	a,(ix-12)
2945  0C31  DD 8E E5    	adc	a,(ix-27)
2946  0C34  DD 77 F4    	ld	(ix-12),a
2947  0C37  67          	ld	h,a
2948  0C38  01 00 00    	ld	bc,_hibtiles
2949  0C3B  09          	add	hl,bc
2950  0C3C  DD 75 F3    	ld	(ix-13),l
2951  0C3F  DD 74 F4    	ld	(ix-12),h
2952  0C42  4E          	ld	c, (hl)
2953  0C43  DD 6E F5    	ld	l,(ix-11)
2954  0C46  DD 66 F6    	ld	h,(ix-10)
2955  0C49  71          	ld	(hl), c
2956  0C4A  DD 34 E8    	inc	(ix-24)
2957  0C4D  20 A5       	jr	NZ,l_game_page_map_00103
2958  0C4F  DD 34 E9    	inc	(ix-23)
2959  0C52  18 A0       	jr	l_game_page_map_00103
2960  0C54              l_game_page_map_00105:
2961  0C54  3E 10       	ld	a,0x10
2962  0C56  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2963  0C59  01 FD 7F    	ld	bc,_IO_7FFD
2964  0C5C  ED 79       	out	(c),a
2965  0C5E  DD 7E FD    	ld	a,(ix-3)
2966  0C61  B7          	or	a, a
2967  0C62  C2 08 0D    	jp	NZ, l_game_page_map_00178
2968  0C65  01 00 00    	ld	bc,0x0000
2969  0C68              l_game_page_map_00106:
2970  0C68  79          	ld	a, c
2971  0C69  D6 10       	sub	a,0x10
2972  0C6B  78          	ld	a, b
2973  0C6C  DE 00       	sbc	a,0x00
2974  0C6E  30 18       	jr	NC,l_game_page_map_00108
2975  0C70  DD 6E E4    	ld	l,(ix-28)
2976  0C73  DD 66 E5    	ld	h,(ix-27)
2977  0C76  09          	add	hl, bc
2978  0C77  11 00 00    	ld	de,_btiles
2979  0C7A  19          	add	hl,de
2980  0C7B  EB          	ex	de,hl
2981  0C7C  DD 6E EF    	ld	l,(ix-17)
2982  0C7F  DD 66 F0    	ld	h,(ix-16)
2983  0C82  09          	add	hl, bc
2984  0C83  7E          	ld	a, (hl)
2985  0C84  12          	ld	(de), a
2986  0C85  03          	inc	bc
2987  0C86  18 E0       	jr	l_game_page_map_00106
2988  0C88              l_game_page_map_00108:
2989  0C88  DD 36 E8 20 	ld	(ix-24),0x20
2990  0C8C  DD 36 E9 00 	ld	(ix-23),0x00
2991  0C90              l_game_page_map_00109:
2992  0C90  DD 7E E8    	ld	a,(ix-24)
2993  0C93  D6 24       	sub	a,0x24
2994  0C95  DD 7E E9    	ld	a,(ix-23)
2995  0C98  DE 00       	sbc	a,0x00
2996  0C9A  30 48       	jr	NC,l_game_page_map_00111
2997  0C9C  DD 7E E8    	ld	a,(ix-24)
2998  0C9F  DD 86 E4    	add	a,(ix-28)
2999  0CA2  DD 77 F3    	ld	(ix-13),a
3000  0CA5  DD 7E E9    	ld	a,(ix-23)
3001  0CA8  DD 8E E5    	adc	a,(ix-27)
3002  0CAB  DD 77 F4    	ld	(ix-12),a
3003  0CAE  3E 00       	ld	a, +((_btiles) & 0xFF)
3004  0CB0  DD 86 F3    	add	a,(ix-13)
3005  0CB3  DD 77 F3    	ld	(ix-13),a
3006  0CB6  3E 00       	ld	a, +((_btiles) / 256)
3007  0CB8  DD 8E F4    	adc	a,(ix-12)
3008  0CBB  DD 77 F4    	ld	(ix-12),a
3009  0CBE  DD 7E ED    	ld	a,(ix-19)
3010  0CC1  DD 86 E8    	add	a,(ix-24)
3011  0CC4  DD 77 F5    	ld	(ix-11),a
3012  0CC7  6F          	ld	l,a
3013  0CC8  DD 7E EE    	ld	a,(ix-18)
3014  0CCB  DD 8E E9    	adc	a,(ix-23)
3015  0CCE  DD 77 F6    	ld	(ix-10),a
3016  0CD1  67          	ld	h,a
3017  0CD2  4E          	ld	c, (hl)
3018  0CD3  DD 6E F3    	ld	l,(ix-13)
3019  0CD6  DD 66 F4    	ld	h,(ix-12)
3020  0CD9  71          	ld	(hl), c
3021  0CDA  DD 34 E8    	inc	(ix-24)
3022  0CDD  20 B1       	jr	NZ,l_game_page_map_00109
3023  0CDF  DD 34 E9    	inc	(ix-23)
3024  0CE2  18 AC       	jr	l_game_page_map_00109
3025  0CE4              l_game_page_map_00111:
3026  0CE4  01 28 00    	ld	bc,0x0028
3027  0CE7              l_game_page_map_00112:
3028  0CE7  79          	ld	a, c
3029  0CE8  D6 2C       	sub	a,0x2c
3030  0CEA  78          	ld	a, b
3031  0CEB  DE 00       	sbc	a,0x00
3032  0CED  D2 8B 0D    	jp	NC, l_game_page_map_00126
3033  0CF0  DD 6E E4    	ld	l,(ix-28)
3034  0CF3  DD 66 E5    	ld	h,(ix-27)
3035  0CF6  09          	add	hl, bc
3036  0CF7  11 00 00    	ld	de,_btiles
3037  0CFA  19          	add	hl,de
3038  0CFB  EB          	ex	de,hl
3039  0CFC  DD 6E F1    	ld	l,(ix-15)
3040  0CFF  DD 66 F2    	ld	h,(ix-14)
3041  0D02  09          	add	hl, bc
3042  0D03  7E          	ld	a, (hl)
3043  0D04  12          	ld	(de), a
3044  0D05  03          	inc	bc
3045  0D06  18 DF       	jr	l_game_page_map_00112
3046  0D08              l_game_page_map_00178:
3047  0D08  01 00 00    	ld	bc,0x0000
3048  0D0B              l_game_page_map_00115:
3049  0D0B  79          	ld	a, c
3050  0D0C  D6 10       	sub	a,0x10
3051  0D0E  78          	ld	a, b
3052  0D0F  DE 00       	sbc	a,0x00
3053  0D11  30 20       	jr	NC,l_game_page_map_00117
3054  0D13  DD 6E E4    	ld	l,(ix-28)
3055  0D16  DD 66 E5    	ld	h,(ix-27)
3056  0D19  09          	add	hl, bc
3057  0D1A  11 00 00    	ld	de,_btiles
3058  0D1D  19          	add	hl,de
3059  0D1E  79          	ld	a,c
3060  0D1F  EB          	ex	de,hl
3061  0D20  C6 10       	add	a,0x10
3062  0D22  6F          	ld	l, a
3063  0D23  DD 7E FB    	ld	a,(ix-5)
3064  0D26  85          	add	a, l
3065  0D27  6F          	ld	l, a
3066  0D28  DD 7E FC    	ld	a,(ix-4)
3067  0D2B  CE 00       	adc	a,0x00
3068  0D2D  67          	ld	h, a
3069  0D2E  7E          	ld	a, (hl)
3070  0D2F  12          	ld	(de), a
3071  0D30  03          	inc	bc
3072  0D31  18 D8       	jr	l_game_page_map_00115
3073  0D33              l_game_page_map_00117:
3074  0D33  01 20 00    	ld	bc,0x0020
3075  0D36              l_game_page_map_00118:
3076  0D36  79          	ld	a, c
3077  0D37  D6 24       	sub	a,0x24
3078  0D39  78          	ld	a, b
3079  0D3A  DE 00       	sbc	a,0x00
3080  0D3C  30 21       	jr	NC,l_game_page_map_00120
3081  0D3E  DD 6E E4    	ld	l,(ix-28)
3082  0D41  DD 66 E5    	ld	h,(ix-27)
3083  0D44  09          	add	hl, bc
3084  0D45  11 00 00    	ld	de,_btiles
3085  0D48  19          	add	hl,de
3086  0D49  59          	ld	e,c
3087  0D4A  EB          	ex	de,hl
3088  0D4B  2C          	inc	l
3089  0D4C  2C          	inc	l
3090  0D4D  2C          	inc	l
3091  0D4E  2C          	inc	l
3092  0D4F  DD 7E F9    	ld	a,(ix-7)
3093  0D52  85          	add	a, l
3094  0D53  6F          	ld	l, a
3095  0D54  DD 7E FA    	ld	a,(ix-6)
3096  0D57  CE 00       	adc	a,0x00
3097  0D59  67          	ld	h, a
3098  0D5A  7E          	ld	a, (hl)
3099  0D5B  12          	ld	(de), a
3100  0D5C  03          	inc	bc
3101  0D5D  18 D7       	jr	l_game_page_map_00118
3102  0D5F              l_game_page_map_00120:
3103  0D5F  01 28 00    	ld	bc,0x0028
3104  0D62              l_game_page_map_00121:
3105  0D62  79          	ld	a, c
3106  0D63  D6 2C       	sub	a,0x2c
3107  0D65  78          	ld	a, b
3108  0D66  DE 00       	sbc	a,0x00
3109  0D68  30 21       	jr	NC,l_game_page_map_00126
3110  0D6A  DD 6E E4    	ld	l,(ix-28)
3111  0D6D  DD 66 E5    	ld	h,(ix-27)
3112  0D70  09          	add	hl, bc
3113  0D71  11 00 00    	ld	de,_btiles
3114  0D74  19          	add	hl,de
3115  0D75  59          	ld	e,c
3116  0D76  EB          	ex	de,hl
3117  0D77  2C          	inc	l
3118  0D78  2C          	inc	l
3119  0D79  2C          	inc	l
3120  0D7A  2C          	inc	l
3121  0D7B  DD 7E F7    	ld	a,(ix-9)
3122  0D7E  85          	add	a, l
3123  0D7F  6F          	ld	l, a
3124  0D80  DD 7E F8    	ld	a,(ix-8)
3125  0D83  CE 00       	adc	a,0x00
3126  0D85  67          	ld	h, a
3127  0D86  7E          	ld	a, (hl)
3128  0D87  12          	ld	(de), a
3129  0D88  03          	inc	bc
3130  0D89  18 D7       	jr	l_game_page_map_00121
3131  0D8B              l_game_page_map_00126:
3132  0D8B  DD 7E E4    	ld	a,(ix-28)
3133  0D8E  C6 30       	add	a,0x30
3134  0D90  DD 77 E4    	ld	(ix-28),a
3135  0D93  DD 7E E5    	ld	a,(ix-27)
3136  0D96  CE 00       	adc	a,0x00
3137  0D98  DD 77 E5    	ld	(ix-27),a
3138  0D9B  C3 D5 0B    	jp	l_game_page_map_00127
3139  0D9E              l_game_page_map_00129:
3140  0D9E  DD 36 E8 C0 	ld	(ix-24),0xc0
3141  0DA2  DD 36 E9 00 	ld	(ix-23),0x00
3142  0DA6              l_game_page_map_00138:
3143  0DA6  DD 7E E8    	ld	a,(ix-24)
3144  0DA9  D6 80       	sub	a,0x80
3145  0DAB  DD 7E E9    	ld	a,(ix-23)
3146  0DAE  DE 01       	sbc	a,0x01
3147  0DB0  30 68       	jr	NC,l_game_page_map_00140
3148  0DB2  21 30 00    	ld	hl,0x0030
3149  0DB5  E5          	push	hl
3150  0DB6  DD 6E E8    	ld	l,(ix-24)
3151  0DB9  DD 66 E9    	ld	h,(ix-23)
3152  0DBC  E5          	push	hl
3153  0DBD  CD 00 00    	call	__moduint_callee
3154  0DC0  7D          	ld	a,l
3155  0DC1  32 00 00    	ld	(_v0),a
3156  0DC4  D6 10       	sub	a,0x10
3157  0DC6  30 0E       	jr	NC,l_game_page_map_00131
3158  0DC8  3E 00       	ld	a, +((_btiles) & 0xFF)
3159  0DCA  DD 86 E8    	add	a,(ix-24)
3160  0DCD  4F          	ld	c, a
3161  0DCE  3E 00       	ld	a, +((_btiles) / 256)
3162  0DD0  DD 8E E9    	adc	a,(ix-23)
3163  0DD3  47          	ld	b, a
3164  0DD4  AF          	xor	a, a
3165  0DD5  02          	ld	(bc), a
3166  0DD6              l_game_page_map_00131:
3167  0DD6  21 00 00    	ld	hl,_v0
3168  0DD9  7E          	ld	a, (hl)
3169  0DDA  D6 20       	sub	a,0x20
3170  0DDC  38 15       	jr	C,l_game_page_map_00133
3171  0DDE  7E          	ld	a, (hl)
3172  0DDF  D6 24       	sub	a,0x24
3173  0DE1  30 10       	jr	NC,l_game_page_map_00133
3174  0DE3  3E 00       	ld	a, +((_btiles) & 0xFF)
3175  0DE5  DD 86 E8    	add	a,(ix-24)
3176  0DE8  4F          	ld	c, a
3177  0DE9  3E 00       	ld	a, +((_btiles) / 256)
3178  0DEB  DD 8E E9    	adc	a,(ix-23)
3179  0DEE  47          	ld	b, a
3180  0DEF  DD 7E DF    	ld	a,(ix-33)
3181  0DF2  02          	ld	(bc), a
3182  0DF3              l_game_page_map_00133:
3183  0DF3  21 00 00    	ld	hl,_v0
3184  0DF6  7E          	ld	a, (hl)
3185  0DF7  D6 28       	sub	a,0x28
3186  0DF9  38 15       	jr	C,l_game_page_map_00136
3187  0DFB  7E          	ld	a, (hl)
3188  0DFC  D6 2C       	sub	a,0x2c
3189  0DFE  30 10       	jr	NC,l_game_page_map_00136
3190  0E00  3E 00       	ld	a, +((_btiles) & 0xFF)
3191  0E02  DD 86 E8    	add	a,(ix-24)
3192  0E05  4F          	ld	c, a
3193  0E06  3E 00       	ld	a, +((_btiles) / 256)
3194  0E08  DD 8E E9    	adc	a,(ix-23)
3195  0E0B  47          	ld	b, a
3196  0E0C  DD 7E DF    	ld	a,(ix-33)
3197  0E0F  02          	ld	(bc), a
3198  0E10              l_game_page_map_00136:
3199  0E10  DD 34 E8    	inc	(ix-24)
3200  0E13  20 91       	jr	NZ,l_game_page_map_00138
3201  0E15  DD 34 E9    	inc	(ix-23)
3202  0E18  18 8C       	jr	l_game_page_map_00138
3203  0E1A              l_game_page_map_00140:
3204  0E1A  DD 36 E8 00 	ld	(ix-24),0x00
3205  0E1E  DD 36 E9 00 	ld	(ix-23),0x00
3206  0E22              l_game_page_map_00141:
3207  0E22  DD 7E E8    	ld	a,(ix-24)
3208  0E25  D6 10       	sub	a,0x10
3209  0E27  DD 7E E9    	ld	a,(ix-23)
3210  0E2A  DE 00       	sbc	a,0x00
3211  0E2C  30 30       	jr	NC,l_game_page_map_00143
3212  0E2E  DD 7E E8    	ld	a,(ix-24)
3213  0E31  C6 C0       	add	a,0xc0
3214  0E33  4F          	ld	c, a
3215  0E34  DD 7E E9    	ld	a,(ix-23)
3216  0E37  CE 00       	adc	a,0x00
3217  0E39  47          	ld	b, a
3218  0E3A  21 00 00    	ld	hl,_btiles
3219  0E3D  09          	add	hl,bc
3220  0E3E  3E 00       	ld	a,+((_btiles) & 0xFF)
3221  0E40  DD 86 E8    	add	a,(ix-24)
3222  0E43  5F          	ld	e,a
3223  0E44  3E 00       	ld	a,+((_btiles) / 256)
3224  0E46  DD 8E E9    	adc	a,(ix-23)
3225  0E49  57          	ld	d,a
3226  0E4A  1A          	ld	a,(de)
3227  0E4B  77          	ld	(hl),a
3228  0E4C  DD 7E E8    	ld	a,(ix-24)
3229  0E4F  C6 02       	add	a,0x02
3230  0E51  DD 77 E8    	ld	(ix-24),a
3231  0E54  DD 7E E9    	ld	a,(ix-23)
3232  0E57  CE 00       	adc	a,0x00
3233  0E59  DD 77 E9    	ld	(ix-23),a
3234  0E5C  18 C4       	jr	l_game_page_map_00141
3235  0E5E              l_game_page_map_00143:
3236  0E5E  DD 36 E8 00 	ld	(ix-24),0x00
3237  0E62  DD 36 E9 00 	ld	(ix-23),0x00
3238  0E66              l_game_page_map_00144:
3239  0E66  DD 7E E8    	ld	a,(ix-24)
3240  0E69  D6 10       	sub	a,0x10
3241  0E6B  DD 7E E9    	ld	a,(ix-23)
3242  0E6E  DE 00       	sbc	a,0x00
3243  0E70  30 20       	jr	NC,l_game_page_map_00146
3244  0E72  3E 00       	ld	a, +((_btiles) & 0xFF)
3245  0E74  DD 86 E8    	add	a,(ix-24)
3246  0E77  4F          	ld	c, a
3247  0E78  3E 00       	ld	a, +((_btiles) / 256)
3248  0E7A  DD 8E E9    	adc	a,(ix-23)
3249  0E7D  47          	ld	b, a
3250  0E7E  AF          	xor	a, a
3251  0E7F  02          	ld	(bc), a
3252  0E80  DD 7E E8    	ld	a,(ix-24)
3253  0E83  C6 02       	add	a,0x02
3254  0E85  DD 77 E8    	ld	(ix-24),a
3255  0E88  DD 7E E9    	ld	a,(ix-23)
3256  0E8B  CE 00       	adc	a,0x00
3257  0E8D  DD 77 E9    	ld	(ix-23),a
3258  0E90  18 D4       	jr	l_game_page_map_00144
3259  0E92              l_game_page_map_00146:
3260  0E92  3A 30 00    	ld	a,(_btiles + 0x0030)
3261  0E95  32 C5 00    	ld	((_btiles + 0x00c5)),a
3262  0E98  01 32 00    	ld	bc,_btiles + 50
3263  0E9B  0A          	ld	a, (bc)
3264  0E9C  32 C7 00    	ld	((_btiles + 0x00c7)),a
3265  0E9F  3A 34 00    	ld	a,(_btiles + 0x0034)
3266  0EA2  32 C9 00    	ld	((_btiles + 0x00c9)),a
3267  0EA5  3A 36 00    	ld	a,(_btiles + 0x0036)
3268  0EA8  32 CB 00    	ld	((_btiles + 0x00cb)),a
3269  0EAB  3A 38 00    	ld	a, (_btiles + 56)
3270  0EAE  32 CD 00    	ld	((_btiles + 0x00cd)),a
3271  0EB1  3A 3A 00    	ld	a, (_btiles + 58)
3272  0EB4  32 CF 00    	ld	((_btiles + 0x00cf)),a
3273  0EB7  11 50 00    	ld	de,_btiles + 80
3274  0EBA  1A          	ld	a, (de)
3275  0EBB  32 E9 00    	ld	((_btiles + 0x00e9)),a
3276  0EBE  3A 51 00    	ld	a,(_btiles + 0x0051)
3277  0EC1  32 EA 00    	ld	((_btiles + 0x00ea)),a
3278  0EC4  3A 52 00    	ld	a, (_btiles + 82)
3279  0EC7  32 EB 00    	ld	((_btiles + 0x00eb)),a
3280  0ECA  3A 30 00    	ld	a,(_btiles + 0x0030)
3281  0ECD  32 FA 00    	ld	((_btiles + 0x00fa)),a
3282  0ED0  0A          	ld	a, (bc)
3283  0ED1  32 FC 00    	ld	((_btiles + 0x00fc)),a
3284  0ED4  3A 34 00    	ld	a,(_btiles + 0x0034)
3285  0ED7  32 FE 00    	ld	((_btiles + 0x00fe)),a
3286  0EDA  3A 36 00    	ld	a,(_btiles + 0x0036)
3287  0EDD  32 00 01    	ld	((_btiles + 0x0100)),a
3288  0EE0  1A          	ld	a, (de)
3289  0EE1  32 12 01    	ld	((_btiles + 0x0112)),a
3290  0EE4  3A 51 00    	ld	a,(_btiles + 0x0051)
3291  0EE7  32 13 01    	ld	((_btiles + 0x0113)),a
3292  0EEA  3A 30 00    	ld	a,(_btiles + 0x0030)
3293  0EED  32 FD 00    	ld	((_btiles + 0x00fd)),a
3294  0EF0  0A          	ld	a, (bc)
3295  0EF1  32 FF 00    	ld	((_btiles + 0x00ff)),a
3296  0EF4  1A          	ld	a, (de)
3297  0EF5  32 1B 01    	ld	((_btiles + 0x011b)),a
3298  0EF8  3E 00       	ld	a,0x00
3299  0EFA  DD 77 E4    	ld	(ix-28),a
3300  0EFD  DD 77 E5    	ld	(ix-27),a
3301  0F00  DD 77 E0    	ld	(ix-32),a
3302  0F03  DD 77 E1    	ld	(ix-31),a
3303  0F06  DD 36 E6 00 	ld	(ix-26),0x00
3304  0F0A  DD 36 E7 00 	ld	(ix-25),0x00
3305  0F0E              l_game_page_map_00147:
3306  0F0E  DD 4E DD    	ld	c,(ix-35)
3307  0F11  06 00       	ld	b,0x00
3308  0F13  DD 7E E6    	ld	a,(ix-26)
3309  0F16  91          	sub	a, c
3310  0F17  DD 7E E7    	ld	a,(ix-25)
3311  0F1A  98          	sbc	a, b
3312  0F1B  30 3A       	jr	NC,l_game_page_map_00149
3313  0F1D  3E 16       	ld	a,0x16
3314  0F1F  01 FD 7F    	ld	bc,_IO_7FFD
3315  0F22  ED 79       	out	(c),a
3316  0F24  01 00 00    	ld	bc,_lenght0
3317  0F27  DD 6E E6    	ld	l,(ix-26)
3318  0F2A  DD 66 E7    	ld	h,(ix-25)
3319  0F2D  09          	add	hl,bc
3320  0F2E  4E          	ld	c, (hl)
3321  0F2F  06 00       	ld	b,0x00
3322  0F31  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3323  0F34  36 10       	ld	(hl),0x10
3324  0F36  C5          	push	bc
3325  0F37  3E 10       	ld	a,0x10
3326  0F39  01 FD 7F    	ld	bc,_IO_7FFD
3327  0F3C  ED 79       	out	(c),a
3328  0F3E  C1          	pop	bc
3329  0F3F  DD 7E E0    	ld	a,(ix-32)
3330  0F42  81          	add	a, c
3331  0F43  DD 77 E0    	ld	(ix-32),a
3332  0F46  DD 7E E1    	ld	a,(ix-31)
3333  0F49  88          	adc	a, b
3334  0F4A  DD 77 E1    	ld	(ix-31),a
3335  0F4D  DD 34 E6    	inc	(ix-26)
3336  0F50  20 BC       	jr	NZ,l_game_page_map_00147
3337  0F52  DD 34 E7    	inc	(ix-25)
3338  0F55  18 B7       	jr	l_game_page_map_00147
3339  0F57              l_game_page_map_00149:
3340  0F57  DD 36 E8 00 	ld	(ix-24),0x00
3341  0F5B  DD 36 E9 00 	ld	(ix-23),0x00
3342  0F5F              l_game_page_map_00162:
3343  0F5F  3E 16       	ld	a,0x16
3344  0F61  01 FD 7F    	ld	bc,_IO_7FFD
3345  0F64  ED 79       	out	(c),a
3346  0F66  DD 7E E0    	ld	a,(ix-32)
3347  0F69  DD 86 E8    	add	a,(ix-24)
3348  0F6C  4F          	ld	c, a
3349  0F6D  DD 7E E1    	ld	a,(ix-31)
3350  0F70  DD 8E E9    	adc	a,(ix-23)
3351  0F73  47          	ld	b, a
3352  0F74  21 00 00    	ld	hl,_world0
3353  0F77  09          	add	hl, bc
3354  0F78  7E          	ld	a, (hl)
3355  0F79  DD 77 EC    	ld	(ix-20),a
3356  0F7C  03          	inc	bc
3357  0F7D  21 00 00    	ld	hl,_world0
3358  0F80  09          	add	hl, bc
3359  0F81  7E          	ld	a, (hl)
3360  0F82  DD 77 EB    	ld	(ix-21),a
3361  0F85  3E 10       	ld	a,0x10
3362  0F87  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3363  0F8A  01 FD 7F    	ld	bc,_IO_7FFD
3364  0F8D  ED 79       	out	(c),a
3365  0F8F  DD 7E EC    	ld	a,(ix-20)
3366  0F92  D6 80       	sub	a,0x80
3367  0F94  30 1F       	jr	NC,l_game_page_map_00154
3368  0F96  DD 6E E4    	ld	l,(ix-28)
3369  0F99  DD 66 E5    	ld	h,(ix-27)
3370  0F9C  01 00 00    	ld	bc,_scr_map
3371  0F9F  09          	add	hl,bc
3372  0FA0  DD 75 F3    	ld	(ix-13),l
3373  0FA3  DD 74 F4    	ld	(ix-12),h
3374  0FA6  DD 7E EC    	ld	a,(ix-20)
3375  0FA9  77          	ld	(hl), a
3376  0FAA  DD 34 E4    	inc	(ix-28)
3377  0FAD  C2 2A 10    	jp	NZ,l_game_page_map_00155
3378  0FB0  DD 34 E5    	inc	(ix-27)
3379  0FB3  18 75       	jr	l_game_page_map_00155
3380  0FB5              l_game_page_map_00154:
3381  0FB5  DD 7E EC    	ld	a,(ix-20)
3382  0FB8  C6 80       	add	a,0x80
3383  0FBA  DD 77 EA    	ld	(ix-22),a
3384  0FBD  DD 7E E4    	ld	a,(ix-28)
3385  0FC0  DD 77 F3    	ld	(ix-13),a
3386  0FC3  DD 7E E5    	ld	a,(ix-27)
3387  0FC6  DD 77 F4    	ld	(ix-12),a
3388  0FC9  DD 36 E6 00 	ld	(ix-26),0x00
3389  0FCD  DD 36 E7 00 	ld	(ix-25),0x00
3390  0FD1              l_game_page_map_00160:
3391  0FD1  DD 7E EA    	ld	a,(ix-22)
3392  0FD4  DD 77 F5    	ld	(ix-11),a
3393  0FD7  DD 36 F6 00 	ld	(ix-10),0x00
3394  0FDB  DD 7E E6    	ld	a,(ix-26)
3395  0FDE  DD 96 F5    	sub	a,(ix-11)
3396  0FE1  DD 7E E7    	ld	a,(ix-25)
3397  0FE4  DD 9E F6    	sbc	a,(ix-10)
3398  0FE7  30 2D       	jr	NC,l_game_page_map_00214
3399  0FE9  DD 6E F3    	ld	l,(ix-13)
3400  0FEC  DD 66 F4    	ld	h,(ix-12)
3401  0FEF  01 00 00    	ld	bc,_scr_map
3402  0FF2  09          	add	hl,bc
3403  0FF3  DD 75 F5    	ld	(ix-11),l
3404  0FF6  DD 74 F6    	ld	(ix-10),h
3405  0FF9  DD 7E EB    	ld	a,(ix-21)
3406  0FFC  77          	ld	(hl), a
3407  0FFD  DD 34 F3    	inc	(ix-13)
3408  1000  20 03       	jr	NZ,l_game_page_map_00334
3409  1002  DD 34 F4    	inc	(ix-12)
3410  1005              l_game_page_map_00334:
3411  1005  DD 7E F4    	ld	a,(ix-12)
3412  1008  D6 02       	sub	a,0x02
3413  100A  30 0A       	jr	NC,l_game_page_map_00214
3414  100C  DD 34 E6    	inc	(ix-26)
3415  100F  20 C0       	jr	NZ,l_game_page_map_00160
3416  1011  DD 34 E7    	inc	(ix-25)
3417  1014  18 BB       	jr	l_game_page_map_00160
3418  1016              l_game_page_map_00214:
3419  1016  DD 7E F3    	ld	a,(ix-13)
3420  1019  DD 77 E4    	ld	(ix-28),a
3421  101C  DD 7E F4    	ld	a,(ix-12)
3422  101F  DD 77 E5    	ld	(ix-27),a
3423  1022  DD 34 E8    	inc	(ix-24)
3424  1025  20 03       	jr	NZ,l_game_page_map_00336
3425  1027  DD 34 E9    	inc	(ix-23)
3426  102A              l_game_page_map_00336:
3427  102A              l_game_page_map_00155:
3428  102A  DD 7E E5    	ld	a,(ix-27)
3429  102D  D6 02       	sub	a,0x02
3430  102F  30 10       	jr	NC,l_game_page_map_00158
3431  1031  DD 34 E8    	inc	(ix-24)
3432  1034  20 03       	jr	NZ,l_game_page_map_00337
3433  1036  DD 34 E9    	inc	(ix-23)
3434  1039              l_game_page_map_00337:
3435  1039  DD 7E E9    	ld	a,(ix-23)
3436  103C  D6 02       	sub	a,0x02
3437  103E  DA 5F 0F    	jp	C, l_game_page_map_00162
3438  1041              l_game_page_map_00158:
3439  1041  DD 7E DE    	ld	a,(ix-34)
3440  1044  32 00 00    	ld	(_scr_curr),a
3441  1047  DD 7E DF    	ld	a,(ix-33)
3442  104A  32 00 00    	ld	(_map_paper),a
3443  104D  FB          	ei
3444  104E  DD F9       	ld	sp, ix
3445  1050  DD E1       	pop	ix
3446  1052  C9          	ret
3447  1053              	SECTION code_compiler
3448  1053              ;	---------------------------------
3449  1053              ; Function game_flash_exit
3450  1053              ; ---------------------------------
3451  1053              _game_flash_exit:
3452  1053  CD 00 00    	call	___sdcc_enter_ix
3453  1056  01 C0 00    	ld	bc,0x00c0
3454  1059              l_game_flash_exit_00106:
3455  1059  79          	ld	a, c
3456  105A  D6 80       	sub	a,0x80
3457  105C  78          	ld	a, b
3458  105D  DE 01       	sbc	a,0x01
3459  105F  30 36       	jr	NC,l_game_flash_exit_00108
3460  1061  C5          	push	bc
3461  1062  21 30 00    	ld	hl,0x0030
3462  1065  E5          	push	hl
3463  1066  C5          	push	bc
3464  1067  CD 00 00    	call	__moduint_callee
3465  106A  C1          	pop	bc
3466  106B  5D          	ld	e,l
3467  106C  21 00 00    	ld	hl,_v0
3468  106F  73          	ld	(hl),e
3469  1070  7B          	ld	a,e
3470  1071  D6 24       	sub	a,0x24
3471  1073  38 05       	jr	C,l_game_flash_exit_00105
3472  1075  7E          	ld	a, (hl)
3473  1076  D6 28       	sub	a,0x28
3474  1078  38 0D       	jr	C,l_game_flash_exit_00101
3475  107A              l_game_flash_exit_00105:
3476  107A  21 00 00    	ld	hl,_v0
3477  107D  7E          	ld	a, (hl)
3478  107E  D6 2C       	sub	a,0x2c
3479  1080  38 12       	jr	C,l_game_flash_exit_00102
3480  1082  7E          	ld	a, (hl)
3481  1083  D6 30       	sub	a,0x30
3482  1085  30 0D       	jr	NC,l_game_flash_exit_00102
3483  1087              l_game_flash_exit_00101:
3484  1087  21 00 00    	ld	hl,_btiles
3485  108A  09          	add	hl,bc
3486  108B  7E          	ld	a,(hl)
3487  108C  EB          	ex	de,hl
3488  108D  E6 7F       	and	a,0x7f
3489  108F  12          	ld	(de), a
3490  1090  DD B6 04    	or	a,(ix+4)
3491  1093  12          	ld	(de), a
3492  1094              l_game_flash_exit_00102:
3493  1094  03          	inc	bc
3494  1095  18 C2       	jr	l_game_flash_exit_00106
3495  1097              l_game_flash_exit_00108:
3496  1097  3A 00 00    	ld	a,(_game_exit_lin)
3497  109A  C6 F8       	add	a,0xf8
3498  109C  4F          	ld	c, a
3499  109D  3A 00 00    	ld	a, (_game_exit_col)
3500  10A0  47          	ld	b,a
3501  10A1  C5          	push	bc
3502  10A2  3E 1C       	ld	a,0x1c
3503  10A4  F5          	push	af
3504  10A5  33          	inc	sp
3505  10A6  CD 00 00    	call	_spr_draw8
3506  10A9  F1          	pop	af
3507  10AA  33          	inc	sp
3508  10AB  21 00 00    	ld	hl,_game_exit_col
3509  10AE  56          	ld	d, (hl)
3510  10AF  14          	inc	d
3511  10B0  3A 00 00    	ld	a,(_game_exit_lin)
3512  10B3  C6 F8       	add	a,0xf8
3513  10B5  5F          	ld	e, a
3514  10B6  D5          	push	de
3515  10B7  3E 1D       	ld	a,0x1d
3516  10B9  F5          	push	af
3517  10BA  33          	inc	sp
3518  10BB  CD 00 00    	call	_spr_draw8
3519  10BE  F1          	pop	af
3520  10BF  33          	inc	sp
3521  10C0  3A 00 00    	ld	a,(_game_exit_col)
3522  10C3  F5          	push	af
3523  10C4  33          	inc	sp
3524  10C5  3A 00 00    	ld	a,(_game_exit_lin)
3525  10C8  57          	ld	d,a
3526  10C9  1E 1E       	ld	e,0x1e
3527  10CB  D5          	push	de
3528  10CC  CD 00 00    	call	_spr_draw8
3529  10CF  F1          	pop	af
3530  10D0  33          	inc	sp
3531  10D1  21 00 00    	ld	hl,_game_exit_col
3532  10D4  46          	ld	b, (hl)
3533  10D5  04          	inc	b
3534  10D6  C5          	push	bc
3535  10D7  33          	inc	sp
3536  10D8  3A 00 00    	ld	a,(_game_exit_lin)
3537  10DB  57          	ld	d,a
3538  10DC  1E 1F       	ld	e,0x1f
3539  10DE  D5          	push	de
3540  10DF  CD 00 00    	call	_spr_draw8
3541  10E2  F1          	pop	af
3542  10E3  33          	inc	sp
3543  10E4  21 00 00    	ld	hl,_i
3544  10E7  36 00       	ld	(hl),0x00
3545  10E9  01 F0 0E    	ld	bc,0x0ef0
3546  10EC              l_game_flash_exit_00109:
3547  10EC  3A 00 00    	ld	a,(_i)
3548  10EF  D6 10       	sub	a,0x10
3549  10F1  30 14       	jr	NC,l_game_flash_exit_00112
3550  10F3  21 00 00    	ld	hl,_btiles
3551  10F6  09          	add	hl,bc
3552  10F7  7E          	ld	a,(hl)
3553  10F8  EB          	ex	de,hl
3554  10F9  E6 7F       	and	a,0x7f
3555  10FB  12          	ld	(de), a
3556  10FC  DD B6 04    	or	a,(ix+4)
3557  10FF  12          	ld	(de), a
3558  1100  21 00 00    	ld	hl,_i
3559  1103  34          	inc	(hl)
3560  1104  03          	inc	bc
3561  1105  18 E5       	jr	l_game_flash_exit_00109
3562  1107              l_game_flash_exit_00112:
3563  1107  DD E1       	pop	ix
3564  1109  C9          	ret
3565  110A              	SECTION code_compiler
3566  110A              ;	---------------------------------
3567  110A              ; Function game_copy_tile_std
3568  110A              ; ---------------------------------
3569  110A              _game_copy_tile_std:
3570  110A  CD 00 00    	call	___sdcc_enter_ix
3571  110D  AF          	xor	a, a
3572  110E  F5          	push	af
3573  110F  33          	inc	sp
3574  1110  DD 66 05    	ld	h,(ix+5)
3575  1113  DD 6E 04    	ld	l,(ix+4)
3576  1116  E5          	push	hl
3577  1117  CD B2 11    	call	_game_copy_tile
3578  111A  F1          	pop	af
3579  111B  33          	inc	sp
3580  111C  DD 46 05    	ld	b,(ix+5)
3581  111F  04          	inc	b
3582  1120  DD 4E 04    	ld	c,(ix+4)
3583  1123  0C          	inc	c
3584  1124  C5          	push	bc
3585  1125  AF          	xor	a, a
3586  1126  F5          	push	af
3587  1127  33          	inc	sp
3588  1128  C5          	push	bc
3589  1129  CD B2 11    	call	_game_copy_tile
3590  112C  F1          	pop	af
3591  112D  33          	inc	sp
3592  112E  C1          	pop	bc
3593  112F  DD 56 05    	ld	d,(ix+5)
3594  1132  14          	inc	d
3595  1133  14          	inc	d
3596  1134  DD 46 04    	ld	b,(ix+4)
3597  1137  04          	inc	b
3598  1138  04          	inc	b
3599  1139  C5          	push	bc
3600  113A  AF          	xor	a, a
3601  113B  5A          	ld	e,d
3602  113C  57          	ld	d,a
3603  113D  D5          	push	de
3604  113E  C5          	push	bc
3605  113F  33          	inc	sp
3606  1140  CD B2 11    	call	_game_copy_tile
3607  1143  F1          	pop	af
3608  1144  33          	inc	sp
3609  1145  C1          	pop	bc
3610  1146  DD 56 05    	ld	d,(ix+5)
3611  1149  14          	inc	d
3612  114A  14          	inc	d
3613  114B  14          	inc	d
3614  114C  DD 5E 04    	ld	e,(ix+4)
3615  114F  1C          	inc	e
3616  1150  1C          	inc	e
3617  1151  1C          	inc	e
3618  1152  C5          	push	bc
3619  1153  D5          	push	de
3620  1154  AF          	xor	a, a
3621  1155  F5          	push	af
3622  1156  33          	inc	sp
3623  1157  D5          	push	de
3624  1158  CD B2 11    	call	_game_copy_tile
3625  115B  F1          	pop	af
3626  115C  33          	inc	sp
3627  115D  D1          	pop	de
3628  115E  C1          	pop	bc
3629  115F  DD 56 05    	ld	d,(ix+5)
3630  1162  14          	inc	d
3631  1163  14          	inc	d
3632  1164  14          	inc	d
3633  1165  14          	inc	d
3634  1166  C5          	push	bc
3635  1167  3E 01       	ld	a,0x01
3636  1169  F5          	push	af
3637  116A  33          	inc	sp
3638  116B  D5          	push	de
3639  116C  CD B2 11    	call	_game_copy_tile
3640  116F  F1          	pop	af
3641  1170  33          	inc	sp
3642  1171  C1          	pop	bc
3643  1172  DD 7E 05    	ld	a,(ix+5)
3644  1175  C6 05       	add	a,0x05
3645  1177  57          	ld	d, a
3646  1178  C5          	push	bc
3647  1179  3E 01       	ld	a,0x01
3648  117B  5A          	ld	e,d
3649  117C  57          	ld	d,a
3650  117D  D5          	push	de
3651  117E  C5          	push	bc
3652  117F  33          	inc	sp
3653  1180  CD B2 11    	call	_game_copy_tile
3654  1183  F1          	pop	af
3655  1184  33          	inc	sp
3656  1185  C1          	pop	bc
3657  1186  DD 7E 05    	ld	a,(ix+5)
3658  1189  C6 06       	add	a,0x06
3659  118B  47          	ld	b, a
3660  118C  3E 01       	ld	a,0x01
3661  118E  F5          	push	af
3662  118F  33          	inc	sp
3663  1190  C5          	push	bc
3664  1191  CD B2 11    	call	_game_copy_tile
3665  1194  F1          	pop	af
3666  1195  33          	inc	sp
3667  1196  DD 7E 05    	ld	a,(ix+5)
3668  1199  C6 07       	add	a,0x07
3669  119B  4F          	ld	c, a
3670  119C  06 01       	ld	b,0x01
3671  119E  C5          	push	bc
3672  119F  DD 7E 04    	ld	a,(ix+4)
3673  11A2  F5          	push	af
3674  11A3  33          	inc	sp
3675  11A4  CD B2 11    	call	_game_copy_tile
3676  11A7  F1          	pop	af
3677  11A8  33          	inc	sp
3678  11A9  DD 7E 05    	ld	a,(ix+5)
3679  11AC  C6 08       	add	a,0x08
3680  11AE  6F          	ld	l, a
3681  11AF  DD E1       	pop	ix
3682  11B1  C9          	ret
3683  11B2              	SECTION code_compiler
3684  11B2              ;	---------------------------------
3685  11B2              ; Function game_copy_tile
3686  11B2              ; ---------------------------------
3687  11B2              _game_copy_tile:
3688  11B2  CD 00 00    	call	___sdcc_enter_ix
3689  11B5  21 C3 FF    	ld	hl, -61
3690  11B8  39          	add	hl, sp
3691  11B9  F9          	ld	sp, hl
3692  11BA  F3          	di
3693  11BB  3E 13       	ld	a,0x13
3694  11BD  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3695  11C0  01 FD 7F    	ld	bc,_IO_7FFD
3696  11C3  ED 79       	out	(c),a
3697  11C5  DD 6E 04    	ld	l,(ix+4)
3698  11C8  26 00       	ld	h,0x00
3699  11CA  4D          	ld	c,l
3700  11CB  44          	ld	b,h
3701  11CC  29          	add	hl, hl
3702  11CD  09          	add	hl, bc
3703  11CE  29          	add	hl, hl
3704  11CF  29          	add	hl, hl
3705  11D0  29          	add	hl, hl
3706  11D1  29          	add	hl, hl
3707  11D2  DD 75 FE    	ld	(ix-2),l
3708  11D5  DD 74 FF    	ld	(ix-1),h
3709  11D8  21 01 00    	ld	hl,0x0001
3710  11DB  39          	add	hl, sp
3711  11DC  DD 75 FC    	ld	(ix-4),l
3712  11DF  DD 74 FD    	ld	(ix-3),h
3713  11E2  DD 36 C3 00 	ld	(ix-61),0x00
3714  11E6              l_game_copy_tile_00104:
3715  11E6  DD 7E C3    	ld	a,(ix-61)
3716  11E9  D6 30       	sub	a,0x30
3717  11EB  30 54       	jr	NC,l_game_copy_tile_00106
3718  11ED  DD 7E FC    	ld	a,(ix-4)
3719  11F0  DD 86 C3    	add	a,(ix-61)
3720  11F3  DD 77 FA    	ld	(ix-6),a
3721  11F6  DD 7E FD    	ld	a,(ix-3)
3722  11F9  CE 00       	adc	a,0x00
3723  11FB  DD 77 FB    	ld	(ix-5),a
3724  11FE  DD 6E FE    	ld	l,(ix-2)
3725  1201  DD 66 FF    	ld	h,(ix-1)
3726  1204  01 00 00    	ld	bc,_hibtiles
3727  1207  09          	add	hl,bc
3728  1208  DD 75 F8    	ld	(ix-8),l
3729  120B  DD 74 F9    	ld	(ix-7),h
3730  120E  4E          	ld	c, (hl)
3731  120F  DD 6E FA    	ld	l,(ix-6)
3732  1212  DD 66 FB    	ld	h,(ix-5)
3733  1215  71          	ld	(hl), c
3734  1216  3E 1F       	ld	a,0x1f
3735  1218  DD 96 C3    	sub	a,(ix-61)
3736  121B  30 17       	jr	NC,l_game_copy_tile_00102
3737  121D  DD 6E FA    	ld	l,(ix-6)
3738  1220  DD 66 FB    	ld	h,(ix-5)
3739  1223  4E          	ld	c, (hl)
3740  1224  3A 00 00    	ld	a,(_spr_init_cin)
3741  1227  91          	sub	a, c
3742  1228  20 0A       	jr	NZ,l_game_copy_tile_00102
3743  122A  DD 6E FA    	ld	l,(ix-6)
3744  122D  DD 66 FB    	ld	h,(ix-5)
3745  1230  3A 00 00    	ld	a,(_spr_init_cout)
3746  1233  77          	ld	(hl),a
3747  1234              l_game_copy_tile_00102:
3748  1234  DD 34 C3    	inc	(ix-61)
3749  1237  DD 34 FE    	inc	(ix-2)
3750  123A  20 AA       	jr	NZ,l_game_copy_tile_00104
3751  123C  DD 34 FF    	inc	(ix-1)
3752  123F  18 A5       	jr	l_game_copy_tile_00104
3753  1241              l_game_copy_tile_00106:
3754  1241  3E 10       	ld	a,0x10
3755  1243  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3756  1246  01 FD 7F    	ld	bc,_IO_7FFD
3757  1249  ED 79       	out	(c),a
3758  124B  FB          	ei
3759  124C  DD 4E FC    	ld	c,(ix-4)
3760  124F  DD 46 FD    	ld	b,(ix-3)
3761  1252  DD 36 C3 1F 	ld	(ix-61),0x1f
3762  1256              l_game_copy_tile_00109:
3763  1256  DD 7E C3    	ld	a,(ix-61)
3764  1259  D6 30       	sub	a,0x30
3765  125B  30 25       	jr	NC,l_game_copy_tile_00111
3766  125D  79          	ld	a, c
3767  125E  DD 86 C3    	add	a,(ix-61)
3768  1261  DD 77 F8    	ld	(ix-8),a
3769  1264  6F          	ld	l,a
3770  1265  78          	ld	a,b
3771  1266  CE 00       	adc	a,0x00
3772  1268  DD 77 F9    	ld	(ix-7),a
3773  126B  67          	ld	h,a
3774  126C  5E          	ld	e, (hl)
3775  126D  3A 00 00    	ld	a,(_spr_init_cin)
3776  1270  93          	sub	a, e
3777  1271  20 0A       	jr	NZ,l_game_copy_tile_00108
3778  1273  DD 6E F8    	ld	l,(ix-8)
3779  1276  DD 66 F9    	ld	h,(ix-7)
3780  1279  3A 00 00    	ld	a,(_spr_init_cout)
3781  127C  77          	ld	(hl),a
3782  127D              l_game_copy_tile_00108:
3783  127D  DD 34 C3    	inc	(ix-61)
3784  1280  18 D4       	jr	l_game_copy_tile_00109
3785  1282              l_game_copy_tile_00111:
3786  1282  DD 6E 05    	ld	l,(ix+5)
3787  1285  26 00       	ld	h,0x00
3788  1287  4D          	ld	c,l
3789  1288  44          	ld	b,h
3790  1289  29          	add	hl, hl
3791  128A  09          	add	hl, bc
3792  128B  29          	add	hl, hl
3793  128C  29          	add	hl, hl
3794  128D  29          	add	hl, hl
3795  128E  29          	add	hl, hl
3796  128F  DD 75 F8    	ld	(ix-8),l
3797  1292  DD 74 F9    	ld	(ix-7),h
3798  1295  DD 7E FC    	ld	a,(ix-4)
3799  1298  DD 77 FA    	ld	(ix-6),a
3800  129B  DD 7E FD    	ld	a,(ix-3)
3801  129E  DD 77 FB    	ld	(ix-5),a
3802  12A1  DD 7E FC    	ld	a,(ix-4)
3803  12A4  DD 77 FE    	ld	(ix-2),a
3804  12A7  DD 7E FD    	ld	a,(ix-3)
3805  12AA  DD 77 FF    	ld	(ix-1),a
3806  12AD  DD 7E FC    	ld	a,(ix-4)
3807  12B0  DD 77 F6    	ld	(ix-10),a
3808  12B3  DD 7E FD    	ld	a,(ix-3)
3809  12B6  DD 77 F7    	ld	(ix-9),a
3810  12B9  DD 7E FC    	ld	a,(ix-4)
3811  12BC  DD 77 F4    	ld	(ix-12),a
3812  12BF  DD 7E FD    	ld	a,(ix-3)
3813  12C2  DD 77 F5    	ld	(ix-11),a
3814  12C5  DD 36 C3 00 	ld	(ix-61),0x00
3815  12C9              l_game_copy_tile_00124:
3816  12C9  DD 7E C3    	ld	a,(ix-61)
3817  12CC  D6 30       	sub	a,0x30
3818  12CE  D2 AB 13    	jp	NC, l_game_copy_tile_00127
3819  12D1  DD 4E C3    	ld	c,(ix-61)
3820  12D4  0C          	inc	c
3821  12D5  DD 7E 06    	ld	a,(ix+6)
3822  12D8  B7          	or	a, a
3823  12D9  CA 81 13    	jp	Z, l_game_copy_tile_00122
3824  12DC  DD 7E C3    	ld	a,(ix-61)
3825  12DF  D6 20       	sub	a,0x20
3826  12E1  30 55       	jr	NC,l_game_copy_tile_00119
3827  12E3  DD CB C3 46 	bit	0,(ix-61)
3828  12E7  20 25       	jr	NZ,l_game_copy_tile_00113
3829  12E9  3E 00       	ld	a, +((_btiles) & 0xFF)
3830  12EB  DD 86 F8    	add	a,(ix-8)
3831  12EE  5F          	ld	e, a
3832  12EF  3E 00       	ld	a, +((_btiles) / 256)
3833  12F1  DD 8E F9    	adc	a,(ix-7)
3834  12F4  57          	ld	d, a
3835  12F5  DD 6E FC    	ld	l,(ix-4)
3836  12F8  DD 66 FD    	ld	h,(ix-3)
3837  12FB  06 00       	ld	b,0x00
3838  12FD  09          	add	hl, bc
3839  12FE  46          	ld	b, (hl)
3840  12FF  C5          	push	bc
3841  1300  D5          	push	de
3842  1301  C5          	push	bc
3843  1302  33          	inc	sp
3844  1303  CD B0 13    	call	_reverse
3845  1306  33          	inc	sp
3846  1307  D1          	pop	de
3847  1308  C1          	pop	bc
3848  1309  7D          	ld	a,l
3849  130A  12          	ld	(de), a
3850  130B  C3 9C 13    	jp	l_game_copy_tile_00123
3851  130E              l_game_copy_tile_00113:
3852  130E  3E 00       	ld	a, +((_btiles) & 0xFF)
3853  1310  DD 86 F8    	add	a,(ix-8)
3854  1313  5F          	ld	e, a
3855  1314  3E 00       	ld	a, +((_btiles) / 256)
3856  1316  DD 8E F9    	adc	a,(ix-7)
3857  1319  57          	ld	d, a
3858  131A  DD 46 C3    	ld	b,(ix-61)
3859  131D  05          	dec	b
3860  131E  DD 7E F4    	ld	a,(ix-12)
3861  1321  80          	add	a, b
3862  1322  6F          	ld	l, a
3863  1323  DD 7E F5    	ld	a,(ix-11)
3864  1326  CE 00       	adc	a,0x00
3865  1328  67          	ld	h, a
3866  1329  46          	ld	b, (hl)
3867  132A  C5          	push	bc
3868  132B  D5          	push	de
3869  132C  C5          	push	bc
3870  132D  33          	inc	sp
3871  132E  CD B0 13    	call	_reverse
3872  1331  33          	inc	sp
3873  1332  D1          	pop	de
3874  1333  C1          	pop	bc
3875  1334  7D          	ld	a,l
3876  1335  12          	ld	(de), a
3877  1336  18 64       	jr	l_game_copy_tile_00123
3878  1338              l_game_copy_tile_00119:
3879  1338  DD 7E C3    	ld	a,(ix-61)
3880  133B  D6 28       	sub	a,0x28
3881  133D  30 21       	jr	NC,l_game_copy_tile_00116
3882  133F  3E 00       	ld	a, +((_btiles) & 0xFF)
3883  1341  DD 86 F8    	add	a,(ix-8)
3884  1344  5F          	ld	e, a
3885  1345  3E 00       	ld	a, +((_btiles) / 256)
3886  1347  DD 8E F9    	adc	a,(ix-7)
3887  134A  57          	ld	d, a
3888  134B  DD 7E C3    	ld	a,(ix-61)
3889  134E  C6 08       	add	a,0x08
3890  1350  47          	ld	b, a
3891  1351  DD 7E F6    	ld	a,(ix-10)
3892  1354  80          	add	a, b
3893  1355  6F          	ld	l, a
3894  1356  DD 7E F7    	ld	a,(ix-9)
3895  1359  CE 00       	adc	a,0x00
3896  135B  67          	ld	h, a
3897  135C  7E          	ld	a, (hl)
3898  135D  12          	ld	(de), a
3899  135E  18 3C       	jr	l_game_copy_tile_00123
3900  1360              l_game_copy_tile_00116:
3901  1360  3E 00       	ld	a, +((_btiles) & 0xFF)
3902  1362  DD 86 F8    	add	a,(ix-8)
3903  1365  5F          	ld	e, a
3904  1366  3E 00       	ld	a, +((_btiles) / 256)
3905  1368  DD 8E F9    	adc	a,(ix-7)
3906  136B  57          	ld	d, a
3907  136C  DD 7E C3    	ld	a,(ix-61)
3908  136F  C6 F8       	add	a,0xf8
3909  1371  47          	ld	b, a
3910  1372  DD 7E FE    	ld	a,(ix-2)
3911  1375  80          	add	a, b
3912  1376  6F          	ld	l, a
3913  1377  DD 7E FF    	ld	a,(ix-1)
3914  137A  CE 00       	adc	a,0x00
3915  137C  67          	ld	h, a
3916  137D  7E          	ld	a, (hl)
3917  137E  12          	ld	(de), a
3918  137F  18 1B       	jr	l_game_copy_tile_00123
3919  1381              l_game_copy_tile_00122:
3920  1381  3E 00       	ld	a, +((_btiles) & 0xFF)
3921  1383  DD 86 F8    	add	a,(ix-8)
3922  1386  5F          	ld	e, a
3923  1387  3E 00       	ld	a, +((_btiles) / 256)
3924  1389  DD 8E F9    	adc	a,(ix-7)
3925  138C  57          	ld	d, a
3926  138D  DD 7E FA    	ld	a,(ix-6)
3927  1390  DD 86 C3    	add	a,(ix-61)
3928  1393  6F          	ld	l, a
3929  1394  DD 7E FB    	ld	a,(ix-5)
3930  1397  CE 00       	adc	a,0x00
3931  1399  67          	ld	h, a
3932  139A  7E          	ld	a, (hl)
3933  139B  12          	ld	(de), a
3934  139C              l_game_copy_tile_00123:
3935  139C  DD 71 C3    	ld	(ix-61),c
3936  139F  DD 34 F8    	inc	(ix-8)
3937  13A2  C2 C9 12    	jp	NZ,l_game_copy_tile_00124
3938  13A5  DD 34 F9    	inc	(ix-7)
3939  13A8  C3 C9 12    	jp	l_game_copy_tile_00124
3940  13AB              l_game_copy_tile_00127:
3941  13AB  DD F9       	ld	sp, ix
3942  13AD  DD E1       	pop	ix
3943  13AF  C9          	ret
3944  13B0              	SECTION code_compiler
3945  13B0              ;	---------------------------------
3946  13B0              ; Function reverse
3947  13B0              ; ---------------------------------
3948  13B0              _reverse:
3949  13B0  CD 00 00    	call	___sdcc_enter_ix
3950  13B3  DD 7E 04    	ld	a,(ix+4)
3951  13B6  E6 F0       	and	a,0xf0
3952  13B8  07          	rlca
3953  13B9  07          	rlca
3954  13BA  07          	rlca
3955  13BB  07          	rlca
3956  13BC  E6 0F       	and	a,0x0f
3957  13BE  4F          	ld	c, a
3958  13BF  DD 7E 04    	ld	a,(ix+4)
3959  13C2  E6 0F       	and	a,0x0f
3960  13C4  07          	rlca
3961  13C5  07          	rlca
3962  13C6  07          	rlca
3963  13C7  07          	rlca
3964  13C8  E6 F0       	and	a,0xf0
3965  13CA  B1          	or	a, c
3966  13CB  DD 77 04    	ld	(ix+4),a
3967  13CE  E6 CC       	and	a,0xcc
3968  13D0  4F          	ld	c, a
3969  13D1  CB 39       	srl	c
3970  13D3  CB 39       	srl	c
3971  13D5  DD 7E 04    	ld	a,(ix+4)
3972  13D8  E6 33       	and	a,0x33
3973  13DA  87          	add	a, a
3974  13DB  87          	add	a, a
3975  13DC  B1          	or	a, c
3976  13DD  DD 77 04    	ld	(ix+4),a
3977  13E0  E6 AA       	and	a,0xaa
3978  13E2  4F          	ld	c, a
3979  13E3  CB 39       	srl	c
3980  13E5  DD 7E 04    	ld	a,(ix+4)
3981  13E8  E6 55       	and	a,0x55
3982  13EA  87          	add	a, a
3983  13EB  B1          	or	a, c
3984  13EC  DD 77 04    	ld	(ix+4),a
3985  13EF  6F          	ld	l, a
3986  13F0  DD E1       	pop	ix
3987  13F2  C9          	ret
3988  13F3              	SECTION IGNORE
3989  0000              
