1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_color_hacks
204   0000              	GLOBAL _game_print_lives
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_img1
207   0000              	GLOBAL _game_tick
208   0000              	GLOBAL _game_loop
209   0000              	GLOBAL _game_fps
210   0000              	GLOBAL _game_draw_map
211   0000              	GLOBAL _game_solar_ray
212   0000              	GLOBAL _game_solar_ray1
213   0000              	GLOBAL _game_solar_ray0
214   0000              	GLOBAL _game_logo1
215   0000              	GLOBAL _game_cell_paint_index
216   0000              	GLOBAL _game_cell_paint
217   0000              	GLOBAL _game_print_footer
218   0000              	GLOBAL _game_print_score
219   0000              	GLOBAL _game_cls
220   0000              	GLOBAL _game_start_timer
221   0000              	GLOBAL _game_anim_air
222   0000              	GLOBAL _game_anim_conveyor
223   0000              	GLOBAL _game_round_init
224   0000              	GLOBAL _game_print_header
225   0000              	GLOBAL _game_check_map
226   0000              	GLOBAL _game_check_cell
227   0000              	GLOBAL _game_paint_attrib
228   0000              	GLOBAL _game_check_time
229   0000              	GLOBAL _game_key_paint
230   0000              	GLOBAL _game_attribs
231   0000              	GLOBAL _game_page_map
232   0000              	GLOBAL _game_flash_exit
233   0000              	GLOBAL _game_copy_sprite_color_reset
234   0000              	GLOBAL _game_copy_sprite_std
235   0000              	GLOBAL _game_copy_sprite
236   0000              	GLOBAL _reverse
237   0000              	GLOBAL _page
238   0000              	GLOBAL _game_intro
239   0000              	GLOBAL _game_shoe
240   0000              	GLOBAL _game_set_attr
241   0000              	GLOBAL _game_crumble
242   0000              	GLOBAL _zx_print_char
243   0000              	GLOBAL _game_text
244   0000              ;--------------------------------------------------------
245   0000              ; Externals used
246   0000              ;--------------------------------------------------------
247   0000              	GLOBAL _ffsll_callee
248   0000              	GLOBAL _ffsll
249   0000              	GLOBAL _strxfrm_callee
250   0000              	GLOBAL _strxfrm
251   0000              	GLOBAL _strupr_fastcall
252   0000              	GLOBAL _strupr
253   0000              	GLOBAL _strtok_r_callee
254   0000              	GLOBAL _strtok_r
255   0000              	GLOBAL _strtok_callee
256   0000              	GLOBAL _strtok
257   0000              	GLOBAL _strstrip_fastcall
258   0000              	GLOBAL _strstrip
259   0000              	GLOBAL _strstr_callee
260   0000              	GLOBAL _strstr
261   0000              	GLOBAL _strspn_callee
262   0000              	GLOBAL _strspn
263   0000              	GLOBAL _strsep_callee
264   0000              	GLOBAL _strsep
265   0000              	GLOBAL _strrstrip_fastcall
266   0000              	GLOBAL _strrstrip
267   0000              	GLOBAL _strrstr_callee
268   0000              	GLOBAL _strrstr
269   0000              	GLOBAL _strrspn_callee
270   0000              	GLOBAL _strrspn
271   0000              	GLOBAL _strrev_fastcall
272   0000              	GLOBAL _strrev
273   0000              	GLOBAL _strrcspn_callee
274   0000              	GLOBAL _strrcspn
275   0000              	GLOBAL _strrchr_callee
276   0000              	GLOBAL _strrchr
277   0000              	GLOBAL _strpbrk_callee
278   0000              	GLOBAL _strpbrk
279   0000              	GLOBAL _strnlen_callee
280   0000              	GLOBAL _strnlen
281   0000              	GLOBAL _strnicmp_callee
282   0000              	GLOBAL _strnicmp
283   0000              	GLOBAL _strndup_callee
284   0000              	GLOBAL _strndup
285   0000              	GLOBAL _strncpy_callee
286   0000              	GLOBAL _strncpy
287   0000              	GLOBAL _strncmp_callee
288   0000              	GLOBAL _strncmp
289   0000              	GLOBAL _strnchr_callee
290   0000              	GLOBAL _strnchr
291   0000              	GLOBAL _strncat_callee
292   0000              	GLOBAL _strncat
293   0000              	GLOBAL _strncasecmp_callee
294   0000              	GLOBAL _strncasecmp
295   0000              	GLOBAL _strlwr_fastcall
296   0000              	GLOBAL _strlwr
297   0000              	GLOBAL _strlen_fastcall
298   0000              	GLOBAL _strlen
299   0000              	GLOBAL _strlcpy_callee
300   0000              	GLOBAL _strlcpy
301   0000              	GLOBAL _strlcat_callee
302   0000              	GLOBAL _strlcat
303   0000              	GLOBAL _stricmp_callee
304   0000              	GLOBAL _stricmp
305   0000              	GLOBAL _strerror_fastcall
306   0000              	GLOBAL _strerror
307   0000              	GLOBAL _strdup_fastcall
308   0000              	GLOBAL _strdup
309   0000              	GLOBAL _strcspn_callee
310   0000              	GLOBAL _strcspn
311   0000              	GLOBAL _strcpy_callee
312   0000              	GLOBAL _strcpy
313   0000              	GLOBAL _strcoll_callee
314   0000              	GLOBAL _strcoll
315   0000              	GLOBAL _strcmp_callee
316   0000              	GLOBAL _strcmp
317   0000              	GLOBAL _strchrnul_callee
318   0000              	GLOBAL _strchrnul
319   0000              	GLOBAL _strchr_callee
320   0000              	GLOBAL _strchr
321   0000              	GLOBAL _strcat_callee
322   0000              	GLOBAL _strcat
323   0000              	GLOBAL _strcasecmp_callee
324   0000              	GLOBAL _strcasecmp
325   0000              	GLOBAL _stpncpy_callee
326   0000              	GLOBAL _stpncpy
327   0000              	GLOBAL _stpcpy_callee
328   0000              	GLOBAL _stpcpy
329   0000              	GLOBAL _memswap_callee
330   0000              	GLOBAL _memswap
331   0000              	GLOBAL _memset_callee
332   0000              	GLOBAL _memset
333   0000              	GLOBAL _memrchr_callee
334   0000              	GLOBAL _memrchr
335   0000              	GLOBAL _memmove_callee
336   0000              	GLOBAL _memmove
337   0000              	GLOBAL _memmem_callee
338   0000              	GLOBAL _memmem
339   0000              	GLOBAL _memcpy_callee
340   0000              	GLOBAL _memcpy
341   0000              	GLOBAL _memcmp_callee
342   0000              	GLOBAL _memcmp
343   0000              	GLOBAL _memchr_callee
344   0000              	GLOBAL _memchr
345   0000              	GLOBAL _memccpy_callee
346   0000              	GLOBAL _memccpy
347   0000              	GLOBAL _ffsl_fastcall
348   0000              	GLOBAL _ffsl
349   0000              	GLOBAL _ffs_fastcall
350   0000              	GLOBAL _ffs
351   0000              	GLOBAL __strrstrip__fastcall
352   0000              	GLOBAL __strrstrip_
353   0000              	GLOBAL __memupr__callee
354   0000              	GLOBAL __memupr_
355   0000              	GLOBAL __memstrcpy__callee
356   0000              	GLOBAL __memstrcpy_
357   0000              	GLOBAL __memlwr__callee
358   0000              	GLOBAL __memlwr_
359   0000              	GLOBAL _rawmemchr_callee
360   0000              	GLOBAL _rawmemchr
361   0000              	GLOBAL _strnset_callee
362   0000              	GLOBAL _strnset
363   0000              	GLOBAL _strset_callee
364   0000              	GLOBAL _strset
365   0000              	GLOBAL _rindex_callee
366   0000              	GLOBAL _rindex
367   0000              	GLOBAL _index_callee
368   0000              	GLOBAL _index
369   0000              	GLOBAL _bzero_callee
370   0000              	GLOBAL _bzero
371   0000              	GLOBAL _bcopy_callee
372   0000              	GLOBAL _bcopy
373   0000              	GLOBAL _bcmp_callee
374   0000              	GLOBAL _bcmp
375   0000              	GLOBAL _ulltoa_callee
376   0000              	GLOBAL _ulltoa
377   0000              	GLOBAL _strtoull_callee
378   0000              	GLOBAL _strtoull
379   0000              	GLOBAL _strtoll_callee
380   0000              	GLOBAL _strtoll
381   0000              	GLOBAL _lltoa_callee
382   0000              	GLOBAL _lltoa
383   0000              	GLOBAL _llabs_callee
384   0000              	GLOBAL _llabs
385   0000              	GLOBAL __lldivu__callee
386   0000              	GLOBAL __lldivu_
387   0000              	GLOBAL __lldiv__callee
388   0000              	GLOBAL __lldiv_
389   0000              	GLOBAL _atoll_callee
390   0000              	GLOBAL _atoll
391   0000              	GLOBAL _realloc_unlocked_callee
392   0000              	GLOBAL _realloc_unlocked
393   0000              	GLOBAL _malloc_unlocked_fastcall
394   0000              	GLOBAL _malloc_unlocked
395   0000              	GLOBAL _free_unlocked_fastcall
396   0000              	GLOBAL _free_unlocked
397   0000              	GLOBAL _calloc_unlocked_callee
398   0000              	GLOBAL _calloc_unlocked
399   0000              	GLOBAL _aligned_alloc_unlocked_callee
400   0000              	GLOBAL _aligned_alloc_unlocked
401   0000              	GLOBAL _realloc_callee
402   0000              	GLOBAL _realloc
403   0000              	GLOBAL _malloc_fastcall
404   0000              	GLOBAL _malloc
405   0000              	GLOBAL _free_fastcall
406   0000              	GLOBAL _free
407   0000              	GLOBAL _calloc_callee
408   0000              	GLOBAL _calloc
409   0000              	GLOBAL _aligned_alloc_callee
410   0000              	GLOBAL _aligned_alloc
411   0000              	GLOBAL _utoa_callee
412   0000              	GLOBAL _utoa
413   0000              	GLOBAL _ultoa_callee
414   0000              	GLOBAL _ultoa
415   0000              	GLOBAL _system_fastcall
416   0000              	GLOBAL _system
417   0000              	GLOBAL _strtoul_callee
418   0000              	GLOBAL _strtoul
419   0000              	GLOBAL _strtol_callee
420   0000              	GLOBAL _strtol
421   0000              	GLOBAL _strtof_callee
422   0000              	GLOBAL _strtof
423   0000              	GLOBAL _strtod_callee
424   0000              	GLOBAL _strtod
425   0000              	GLOBAL _srand_fastcall
426   0000              	GLOBAL _srand
427   0000              	GLOBAL _rand
428   0000              	GLOBAL _quick_exit_fastcall
429   0000              	GLOBAL _quick_exit
430   0000              	GLOBAL _qsort_callee
431   0000              	GLOBAL _qsort
432   0000              	GLOBAL _ltoa_callee
433   0000              	GLOBAL _ltoa
434   0000              	GLOBAL _labs_fastcall
435   0000              	GLOBAL _labs
436   0000              	GLOBAL _itoa_callee
437   0000              	GLOBAL _itoa
438   0000              	GLOBAL _ftoh_callee
439   0000              	GLOBAL _ftoh
440   0000              	GLOBAL _ftog_callee
441   0000              	GLOBAL _ftog
442   0000              	GLOBAL _ftoe_callee
443   0000              	GLOBAL _ftoe
444   0000              	GLOBAL _ftoa_callee
445   0000              	GLOBAL _ftoa
446   0000              	GLOBAL _exit_fastcall
447   0000              	GLOBAL _exit
448   0000              	GLOBAL _dtoh_callee
449   0000              	GLOBAL _dtoh
450   0000              	GLOBAL _dtog_callee
451   0000              	GLOBAL _dtog
452   0000              	GLOBAL _dtoe_callee
453   0000              	GLOBAL _dtoe
454   0000              	GLOBAL _dtoa_callee
455   0000              	GLOBAL _dtoa
456   0000              	GLOBAL _bsearch_callee
457   0000              	GLOBAL _bsearch
458   0000              	GLOBAL _atol_fastcall
459   0000              	GLOBAL _atol
460   0000              	GLOBAL _atoi_fastcall
461   0000              	GLOBAL _atoi
462   0000              	GLOBAL _atof_fastcall
463   0000              	GLOBAL _atof
464   0000              	GLOBAL _atexit_fastcall
465   0000              	GLOBAL _atexit
466   0000              	GLOBAL _at_quick_exit_fastcall
467   0000              	GLOBAL _at_quick_exit
468   0000              	GLOBAL _abs_fastcall
469   0000              	GLOBAL _abs
470   0000              	GLOBAL _abort
471   0000              	GLOBAL __strtou__callee
472   0000              	GLOBAL __strtou_
473   0000              	GLOBAL __strtoi__callee
474   0000              	GLOBAL __strtoi_
475   0000              	GLOBAL __random_uniform_xor_8__fastcall
476   0000              	GLOBAL __random_uniform_xor_8_
477   0000              	GLOBAL __random_uniform_xor_32__fastcall
478   0000              	GLOBAL __random_uniform_xor_32_
479   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
480   0000              	GLOBAL __random_uniform_cmwc_8_
481   0000              	GLOBAL __shellsort__callee
482   0000              	GLOBAL __shellsort_
483   0000              	GLOBAL __quicksort__callee
484   0000              	GLOBAL __quicksort_
485   0000              	GLOBAL __insertion_sort__callee
486   0000              	GLOBAL __insertion_sort_
487   0000              	GLOBAL __ldivu__callee
488   0000              	GLOBAL __ldivu_
489   0000              	GLOBAL __ldiv__callee
490   0000              	GLOBAL __ldiv_
491   0000              	GLOBAL __divu__callee
492   0000              	GLOBAL __divu_
493   0000              	GLOBAL __div__callee
494   0000              	GLOBAL __div_
495   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
496   0000              	GLOBAL _NIRVANAP_drawTW_raw
497   0000              	GLOBAL _NIRVANAP_drawTW_callee
498   0000              	GLOBAL _NIRVANAP_drawTW
499   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
500   0000              	GLOBAL _NIRVANAP_drawW_raw
501   0000              	GLOBAL _NIRVANAP_drawW_callee
502   0000              	GLOBAL _NIRVANAP_drawW
503   0000              	GLOBAL _NIRVANAP_spriteT_callee
504   0000              	GLOBAL _NIRVANAP_spriteT
505   0000              	GLOBAL _NIRVANAP_fillC_callee
506   0000              	GLOBAL _NIRVANAP_fillC
507   0000              	GLOBAL _NIRVANAP_readC_callee
508   0000              	GLOBAL _NIRVANAP_readC
509   0000              	GLOBAL _NIRVANAP_paintC_callee
510   0000              	GLOBAL _NIRVANAP_paintC
511   0000              	GLOBAL _NIRVANAP_printQ_callee
512   0000              	GLOBAL _NIRVANAP_printQ
513   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
514   0000              	GLOBAL _NIRVANAP_fillT_raw
515   0000              	GLOBAL _NIRVANAP_fillT_callee
516   0000              	GLOBAL _NIRVANAP_fillT
517   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
518   0000              	GLOBAL _NIRVANAP_drawT_raw
519   0000              	GLOBAL _NIRVANAP_drawT_callee
520   0000              	GLOBAL _NIRVANAP_drawT
521   0000              	GLOBAL _NIRVANAP_stop
522   0000              	GLOBAL _NIRVANAP_start
523   0000              	GLOBAL _zx_print_str
524   0000              	GLOBAL _zx_print_int
525   0000              	GLOBAL _zx_print_chr
526   0000              	GLOBAL _zx_isr
527   0000              	GLOBAL _z80_otdr_callee
528   0000              	GLOBAL _z80_otdr
529   0000              	GLOBAL _z80_otir_callee
530   0000              	GLOBAL _z80_otir
531   0000              	GLOBAL _z80_outp_callee
532   0000              	GLOBAL _z80_outp
533   0000              	GLOBAL _z80_indr_callee
534   0000              	GLOBAL _z80_indr
535   0000              	GLOBAL _z80_inir_callee
536   0000              	GLOBAL _z80_inir
537   0000              	GLOBAL _z80_inp_fastcall
538   0000              	GLOBAL _z80_inp
539   0000              	GLOBAL _z80_set_int_state_fastcall
540   0000              	GLOBAL _z80_set_int_state
541   0000              	GLOBAL _z80_get_int_state
542   0000              	GLOBAL _z80_delay_tstate_fastcall
543   0000              	GLOBAL _z80_delay_tstate
544   0000              	GLOBAL _z80_delay_ms_fastcall
545   0000              	GLOBAL _z80_delay_ms
546   0000              	GLOBAL _im2_remove_generic_callback_callee
547   0000              	GLOBAL _im2_remove_generic_callback
548   0000              	GLOBAL _im2_prepend_generic_callback_callee
549   0000              	GLOBAL _im2_prepend_generic_callback
550   0000              	GLOBAL _im2_append_generic_callback_callee
551   0000              	GLOBAL _im2_append_generic_callback
552   0000              	GLOBAL _im2_create_generic_isr_8080_callee
553   0000              	GLOBAL _im2_create_generic_isr_8080
554   0000              	GLOBAL _im2_create_generic_isr_callee
555   0000              	GLOBAL _im2_create_generic_isr
556   0000              	GLOBAL _im2_install_isr_callee
557   0000              	GLOBAL _im2_install_isr
558   0000              	GLOBAL _im2_init_fastcall
559   0000              	GLOBAL _im2_init
560   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
561   0000              	GLOBAL _intrinsic_swap_word_32
562   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
563   0000              	GLOBAL _intrinsic_swap_endian_32
564   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
565   0000              	GLOBAL _intrinsic_swap_endian_16
566   0000              	GLOBAL _intrinsic_return_de
567   0000              	GLOBAL _intrinsic_return_bc
568   0000              	GLOBAL _intrinsic_exx
569   0000              	GLOBAL _intrinsic_ex_de_hl
570   0000              	GLOBAL _intrinsic_nop
571   0000              	GLOBAL _intrinsic_im_2
572   0000              	GLOBAL _intrinsic_im_1
573   0000              	GLOBAL _intrinsic_im_0
574   0000              	GLOBAL _intrinsic_retn
575   0000              	GLOBAL _intrinsic_reti
576   0000              	GLOBAL _intrinsic_halt
577   0000              	GLOBAL _intrinsic_ei
578   0000              	GLOBAL _intrinsic_di
579   0000              	GLOBAL _intrinsic_stub
580   0000              	GLOBAL _intrinsic_ini
581   0000              	GLOBAL _intrinsic_outi
582   0000              	GLOBAL _intrinsic_ldi
583   0000              	GLOBAL _zx_pattern_fill_callee
584   0000              	GLOBAL _zx_pattern_fill
585   0000              	GLOBAL _zx_saddrpup_fastcall
586   0000              	GLOBAL _zx_saddrpup
587   0000              	GLOBAL _zx_saddrpright_callee
588   0000              	GLOBAL _zx_saddrpright
589   0000              	GLOBAL _zx_saddrpleft_callee
590   0000              	GLOBAL _zx_saddrpleft
591   0000              	GLOBAL _zx_saddrpdown_fastcall
592   0000              	GLOBAL _zx_saddrpdown
593   0000              	GLOBAL _zx_saddrcup_fastcall
594   0000              	GLOBAL _zx_saddrcup
595   0000              	GLOBAL _zx_saddrcright_fastcall
596   0000              	GLOBAL _zx_saddrcright
597   0000              	GLOBAL _zx_saddrcleft_fastcall
598   0000              	GLOBAL _zx_saddrcleft
599   0000              	GLOBAL _zx_saddrcdown_fastcall
600   0000              	GLOBAL _zx_saddrcdown
601   0000              	GLOBAL _zx_saddr2py_fastcall
602   0000              	GLOBAL _zx_saddr2py
603   0000              	GLOBAL _zx_saddr2px_fastcall
604   0000              	GLOBAL _zx_saddr2px
605   0000              	GLOBAL _zx_saddr2cy_fastcall
606   0000              	GLOBAL _zx_saddr2cy
607   0000              	GLOBAL _zx_saddr2cx_fastcall
608   0000              	GLOBAL _zx_saddr2cx
609   0000              	GLOBAL _zx_saddr2aaddr_fastcall
610   0000              	GLOBAL _zx_saddr2aaddr
611   0000              	GLOBAL _zx_py2saddr_fastcall
612   0000              	GLOBAL _zx_py2saddr
613   0000              	GLOBAL _zx_py2aaddr_fastcall
614   0000              	GLOBAL _zx_py2aaddr
615   0000              	GLOBAL _zx_pxy2saddr_callee
616   0000              	GLOBAL _zx_pxy2saddr
617   0000              	GLOBAL _zx_pxy2aaddr_callee
618   0000              	GLOBAL _zx_pxy2aaddr
619   0000              	GLOBAL _zx_px2bitmask_fastcall
620   0000              	GLOBAL _zx_px2bitmask
621   0000              	GLOBAL _zx_cy2saddr_fastcall
622   0000              	GLOBAL _zx_cy2saddr
623   0000              	GLOBAL _zx_cy2aaddr_fastcall
624   0000              	GLOBAL _zx_cy2aaddr
625   0000              	GLOBAL _zx_cxy2saddr_callee
626   0000              	GLOBAL _zx_cxy2saddr
627   0000              	GLOBAL _zx_cxy2aaddr_callee
628   0000              	GLOBAL _zx_cxy2aaddr
629   0000              	GLOBAL _zx_bitmask2px_fastcall
630   0000              	GLOBAL _zx_bitmask2px
631   0000              	GLOBAL _zx_aaddrcup_fastcall
632   0000              	GLOBAL _zx_aaddrcup
633   0000              	GLOBAL _zx_aaddrcright_fastcall
634   0000              	GLOBAL _zx_aaddrcright
635   0000              	GLOBAL _zx_aaddrcleft_fastcall
636   0000              	GLOBAL _zx_aaddrcleft
637   0000              	GLOBAL _zx_aaddrcdown_fastcall
638   0000              	GLOBAL _zx_aaddrcdown
639   0000              	GLOBAL _zx_aaddr2saddr_fastcall
640   0000              	GLOBAL _zx_aaddr2saddr
641   0000              	GLOBAL _zx_aaddr2py_fastcall
642   0000              	GLOBAL _zx_aaddr2py
643   0000              	GLOBAL _zx_aaddr2px_fastcall
644   0000              	GLOBAL _zx_aaddr2px
645   0000              	GLOBAL _zx_aaddr2cy_fastcall
646   0000              	GLOBAL _zx_aaddr2cy
647   0000              	GLOBAL _zx_aaddr2cx_fastcall
648   0000              	GLOBAL _zx_aaddr2cx
649   0000              	GLOBAL _zx_visit_wc_pix_callee
650   0000              	GLOBAL _zx_visit_wc_pix
651   0000              	GLOBAL _zx_visit_wc_attr_callee
652   0000              	GLOBAL _zx_visit_wc_attr
653   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
654   0000              	GLOBAL _zx_scroll_wc_up_pix
655   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
656   0000              	GLOBAL _zx_scroll_wc_up_attr
657   0000              	GLOBAL _zx_scroll_wc_up_callee
658   0000              	GLOBAL _zx_scroll_wc_up
659   0000              	GLOBAL _zx_scroll_up_pix_callee
660   0000              	GLOBAL _zx_scroll_up_pix
661   0000              	GLOBAL _zx_scroll_up_attr_callee
662   0000              	GLOBAL _zx_scroll_up_attr
663   0000              	GLOBAL _zx_scroll_up_callee
664   0000              	GLOBAL _zx_scroll_up
665   0000              	GLOBAL _zx_cls_wc_pix_callee
666   0000              	GLOBAL _zx_cls_wc_pix
667   0000              	GLOBAL _zx_cls_wc_attr_callee
668   0000              	GLOBAL _zx_cls_wc_attr
669   0000              	GLOBAL _zx_cls_wc_callee
670   0000              	GLOBAL _zx_cls_wc
671   0000              	GLOBAL _zx_cls_pix_fastcall
672   0000              	GLOBAL _zx_cls_pix
673   0000              	GLOBAL _zx_cls_attr_fastcall
674   0000              	GLOBAL _zx_cls_attr
675   0000              	GLOBAL _zx_cls_fastcall
676   0000              	GLOBAL _zx_cls
677   0000              	GLOBAL _zx_border_fastcall
678   0000              	GLOBAL _zx_border
679   0000              	GLOBAL _zx_tape_verify_block_callee
680   0000              	GLOBAL _zx_tape_verify_block
681   0000              	GLOBAL _zx_tape_save_block_callee
682   0000              	GLOBAL _zx_tape_save_block
683   0000              	GLOBAL _zx_tape_load_block_callee
684   0000              	GLOBAL _zx_tape_load_block
685   0000              	GLOBAL _spr_horizontal_check
686   0000              	GLOBAL _spr_draw8
687   0000              	GLOBAL _spr_destroy
688   0000              	GLOBAL _spr_turn_horizontal
689   0000              	GLOBAL _spr_clear_scr
690   0000              	GLOBAL _spr_back_repaint
691   0000              	GLOBAL _spr_get_tile_dir
692   0000              	GLOBAL _spr_get_tile
693   0000              	GLOBAL _spr_paint_player
694   0000              	GLOBAL _spr_clear_fast_hor
695   0000              	GLOBAL _spr_clear_fast_vert
696   0000              	GLOBAL _spr_clear_fast
697   0000              	GLOBAL _spr_paint
698   0000              	GLOBAL _spr_move_left
699   0000              	GLOBAL _spr_move_right
700   0000              	GLOBAL _spr_move_left_f
701   0000              	GLOBAL _spr_move_right_f
702   0000              	GLOBAL _spr_move_horizontal
703   0000              	GLOBAL _spr_move_down_f
704   0000              	GLOBAL _spr_move_up_f
705   0000              	GLOBAL _spr_set_right
706   0000              	GLOBAL _spr_set_left
707   0000              	GLOBAL _spr_set_down
708   0000              	GLOBAL _spr_set_up
709   0000              	GLOBAL _spr_calc_index
710   0000              	GLOBAL _spr_chktime
711   0000              	GLOBAL _player_new_jump
712   0000              	GLOBAL _player_crumble
713   0000              	GLOBAL _player_pick
714   0000              	GLOBAL _player_use_floor
715   0000              	GLOBAL _player_lost_life
716   0000              	GLOBAL _player_move_jump
717   0000              	GLOBAL _player_tile
718   0000              	GLOBAL _player_handle_conveyor
719   0000              	GLOBAL _player_pick_extra
720   0000              	GLOBAL _player_pick_deadly
721   0000              	GLOBAL _player_pick_item
722   0000              	GLOBAL _player_check_ceil
723   0000              	GLOBAL _player_check_floor
724   0000              	GLOBAL _player_score_add
725   0000              	GLOBAL _player_move_walk
726   0000              	GLOBAL _player_turn
727   0000              	GLOBAL _player_move
728   0000              	GLOBAL _player_check_input
729   0000              	GLOBAL _player_init
730   0000              	GLOBAL _menu_read_code
731   0000              	GLOBAL _menu_read_key
732   0000              	GLOBAL _menu_define_key
733   0000              	GLOBAL _menu_redefine
734   0000              	GLOBAL _menu_main_print
735   0000              	GLOBAL _menu_main
736   0000              	GLOBAL _game_colour_message
737   0000              	GLOBAL _game_update_stats
738   0000              	GLOBAL _game_fill_row
739   0000              	GLOBAL _enemy_init
740   0000              	GLOBAL _enemy_move
741   0000              	GLOBAL _enemy_turn
742   0000              	GLOBAL _enemy_static
743   0000              	GLOBAL _enemy_horizontal
744   0000              	GLOBAL _enemy_vertical
745   0000              	GLOBAL _ay_reset
746   0000              	GLOBAL _ay_song_stop
747   0000              	GLOBAL _ay_song_play
748   0000              	GLOBAL _ay_fx_stop
749   0000              	GLOBAL _ay_fx_play
750   0000              	GLOBAL _ay_is_playing
751   0000              	GLOBAL _audio_game_over
752   0000              	GLOBAL _audio_round_init
753   0000              	GLOBAL _audio_levelup
754   0000              	GLOBAL _audio_menu
755   0000              	GLOBAL _audio_game_end
756   0000              	GLOBAL _audio_game_start
757   0000              	GLOBAL _audio_level_complete
758   0000              	GLOBAL _audio_level_start
759   0000              	GLOBAL _audio_puerta
760   0000              	GLOBAL _audio_crumble
761   0000              	GLOBAL _audio_tick
762   0000              	GLOBAL _audio_door_open
763   0000              	GLOBAL _audio_coin_noentiendo
764   0000              	GLOBAL _audio_coin
765   0000              	GLOBAL _audio_fall
766   0000              	GLOBAL _audio_jump
767   0000              	GLOBAL _audio_dead
768   0000              	GLOBAL _audio_time
769   0000              	GLOBAL _audio_ingame
770   0000              	GLOBAL _test_func
771   0000              	GLOBAL _test_proc
772   0000              	GLOBAL _in_mouse_kempston_wheel_delta
773   0000              	GLOBAL _in_mouse_kempston_wheel
774   0000              	GLOBAL _in_mouse_kempston_callee
775   0000              	GLOBAL _in_mouse_kempston
776   0000              	GLOBAL _in_mouse_kempston_setpos_callee
777   0000              	GLOBAL _in_mouse_kempston_setpos
778   0000              	GLOBAL _in_mouse_kempston_reset
779   0000              	GLOBAL _in_mouse_kempston_init
780   0000              	GLOBAL _in_mouse_amx_wheel_delta
781   0000              	GLOBAL _in_mouse_amx_wheel
782   0000              	GLOBAL _in_mouse_amx_callee
783   0000              	GLOBAL _in_mouse_amx
784   0000              	GLOBAL _in_mouse_amx_setpos_callee
785   0000              	GLOBAL _in_mouse_amx_setpos
786   0000              	GLOBAL _in_mouse_amx_reset
787   0000              	GLOBAL _in_mouse_amx_init_callee
788   0000              	GLOBAL _in_mouse_amx_init
789   0000              	GLOBAL _in_stick_sinclair2
790   0000              	GLOBAL _in_stick_sinclair1
791   0000              	GLOBAL _in_stick_kempston
792   0000              	GLOBAL _in_stick_fuller
793   0000              	GLOBAL _in_stick_cursor
794   0000              	GLOBAL _in_stick_keyboard_fastcall
795   0000              	GLOBAL _in_stick_keyboard
796   0000              	GLOBAL _in_wait_nokey
797   0000              	GLOBAL _in_wait_key
798   0000              	GLOBAL _in_test_key
799   0000              	GLOBAL _in_pause_fastcall
800   0000              	GLOBAL _in_pause
801   0000              	GLOBAL _in_key_scancode_fastcall
802   0000              	GLOBAL _in_key_scancode
803   0000              	GLOBAL _in_key_pressed_fastcall
804   0000              	GLOBAL _in_key_pressed
805   0000              	GLOBAL _in_inkey
806   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
807   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
808   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
809   0000              	GLOBAL _NIRVANAP_HOLE
810   0000              	GLOBAL _NIRVANAP_ISR_HOOK
811   0000              	GLOBAL _game_tune
812   0000              	GLOBAL _code1
813   0000              	GLOBAL _code0
814   0000              	GLOBAL _deltas
815   0000              	GLOBAL _attribs
816   0000              	GLOBAL _air_curr_byte
817   0000              	GLOBAL _spr_clr
818   0000              	GLOBAL _spr_init_bright
819   0000              	GLOBAL _spr_init_cout3
820   0000              	GLOBAL _spr_init_cin3
821   0000              	GLOBAL _spr_init_cout2
822   0000              	GLOBAL _spr_init_cin2
823   0000              	GLOBAL _spr_init_cout1
824   0000              	GLOBAL _spr_init_cin1
825   0000              	GLOBAL _spr_init_cout0
826   0000              	GLOBAL _spr_init_cin0
827   0000              	GLOBAL _map_clear
828   0000              	GLOBAL _map_paper
829   0000              	GLOBAL _map_border
830   0000              	GLOBAL _gbyte
831   0000              	GLOBAL _scr_curr
832   0000              	GLOBAL _color
833   0000              	GLOBAL _scr_map
834   0000              	GLOBAL _spr_kind
835   0000              	GLOBAL _spr_altset
836   0000              	GLOBAL _spr_frames
837   0000              	GLOBAL _spr_speed_a
838   0000              	GLOBAL _spr_speed_b
839   0000              	GLOBAL _spr_speed
840   0000              	GLOBAL _spr_tile
841   0000              	GLOBAL _screen_ink
842   0000              	GLOBAL _screen_paper
843   0000              	GLOBAL _game_start_scr
844   0000              	GLOBAL _player_next_extra
845   0000              	GLOBAL _game_score_top
846   0000              	GLOBAL _player_coins
847   0000              	GLOBAL _player_lives
848   0000              	GLOBAL _game_crumb_end
849   0000              	GLOBAL _game_crumb_start
850   0000              	GLOBAL _game_over
851   0000              	GLOBAL _game_tile_cnt
852   0000              	GLOBAL _game_sound
853   0000              	GLOBAL _game_inf_lives
854   0000              	GLOBAL _game_inmune
855   0000              	GLOBAL _spr_count
856   0000              	GLOBAL _key_ink
857   0000              	GLOBAL _key_last
858   0000              	GLOBAL _lapse_crumb
859   0000              	GLOBAL _time_key
860   0000              	GLOBAL _time_conv
861   0000              	GLOBAL _time_air
862   0000              	GLOBAL _frame_time
863   0000              	GLOBAL _curr_time
864   0000              	GLOBAL _key_attrib
865   0000              	GLOBAL _g_ray1
866   0000              	GLOBAL _attrib_sol1
867   0000              	GLOBAL _attrib_sol0
868   0000              	GLOBAL _attrib_osd
869   0000              	GLOBAL _attrib_hl
870   0000              	GLOBAL _attrib
871   0000              	GLOBAL _zx_val_asm
872   0000              	GLOBAL _index1
873   0000              	GLOBAL _index0
874   0000              	GLOBAL _loop_count
875   0000              	GLOBAL _s_row1
876   0000              	GLOBAL _s_col1
877   0000              	GLOBAL _s_col0
878   0000              	GLOBAL _s_lin1
879   0000              	GLOBAL _s_lin0
880   0000              	GLOBAL _nirv_sprite_index
881   0000              	GLOBAL _player_kill_index
882   0000              	GLOBAL _player_jump_top
883   0000              	GLOBAL _game_fps_show
884   0000              	GLOBAL _game_debug
885   0000              	GLOBAL _sprite
886   0000              	GLOBAL _fps
887   0000              	GLOBAL _game_effect
888   0000              	GLOBAL _game_menu
889   0000              	GLOBAL _game_atrac
890   0000              	GLOBAL _game_mode
891   0000              	GLOBAL _game_tileset
892   0000              	GLOBAL _menu_curr_sel
893   0000              	GLOBAL _game_round_up
894   0000              	GLOBAL _game_lives
895   0000              	GLOBAL _game_code
896   0000              	GLOBAL _game_exit_lin
897   0000              	GLOBAL _game_exit_col
898   0000              	GLOBAL _game_conveyor_col1
899   0000              	GLOBAL _game_conveyor_col0
900   0000              	GLOBAL _game_conveyor_lin
901   0000              	GLOBAL _game_conveyor_dir
902   0000              	GLOBAL _game_song_play_start
903   0000              	GLOBAL _game_song_play
904   0000              	GLOBAL _game_gravity
905   0000              	GLOBAL _player_lin_scr
906   0000              	GLOBAL _player_col_scr
907   0000              	GLOBAL _player_fall_start
908   0000              	GLOBAL _player_jump_lin
909   0000              	GLOBAL _player_jump_count
910   0000              	GLOBAL _player_jump_hack
911   0000              	GLOBAL _player_vel_inc
912   0000              	GLOBAL _player_vel_y0
913   0000              	GLOBAL _player_vel_y
914   0000              	GLOBAL _player_score
915   0000              	GLOBAL _tbuffer
916   0000              	GLOBAL _obj_count
917   0000              	GLOBAL _obj_col
918   0000              	GLOBAL _obj_lin
919   0000              	GLOBAL _last_time_b
920   0000              	GLOBAL _last_time_a
921   0000              	GLOBAL _last_time
922   0000              	GLOBAL _colint
923   0000              	GLOBAL _col
924   0000              	GLOBAL _lin
925   0000              	GLOBAL _tile
926   0000              	GLOBAL _value_c
927   0000              	GLOBAL _value_b
928   0000              	GLOBAL _value_a
929   0000              	GLOBAL _state_a
930   0000              	GLOBAL _state
931   0000              	GLOBAL _class
932   0000              	GLOBAL _dirs_last
933   0000              	GLOBAL _dirs
934   0000              	GLOBAL _k2
935   0000              	GLOBAL _k1
936   0000              	GLOBAL _joyfunc2
937   0000              	GLOBAL _joyfunc1
938   0000              	GLOBAL _btiles
939   0000              	GLOBAL _v3
940   0000              	GLOBAL _v2
941   0000              	GLOBAL _v1
942   0000              	GLOBAL _v0
943   0000              	GLOBAL _i
944   0000              	GLOBAL _spec128
945   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
946   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
947   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
948   0000              	GLOBAL _hitiles2
949   0000              	GLOBAL _hitiles1
950   0000              	GLOBAL _ay_song_coin_noentiendo
951   0000              	GLOBAL _ay_song_game_over
952   0000              	GLOBAL _ay_song_time_atack
953   0000              	GLOBAL _ay_fx_crumble
954   0000              	GLOBAL _ay_fx_door_open
955   0000              	GLOBAL _ay_fx_tick
956   0000              	GLOBAL _ay_fx_game_start
957   0000              	GLOBAL _ay_fx_fall
958   0000              	GLOBAL _ay_fx_jump
959   0000              	GLOBAL _ay_fx_dead
960   0000              	GLOBAL _ay_fx_coin
961   0000              	GLOBAL _ay_song_round_init
962   0000              	GLOBAL _ay_song_menu
963   0000              	GLOBAL _ay_song_ingame1
964   0000              	GLOBAL _ay_song_ingame0
965   0000              	GLOBAL _hisprites2
966   0000              	GLOBAL _hisprites1
967   0000              	GLOBAL _logo2
968   0000              	GLOBAL _logo1
969   0000              	GLOBAL _cartoon2
970   0000              	GLOBAL _cartoon1
971   0000              	GLOBAL _cartoon0
972   0000              	GLOBAL _img1
973   0000              	GLOBAL _air_end_byte
974   0000              	GLOBAL _air_start_byte
975   0000              	GLOBAL _tile_class
976   0000              	GLOBAL _scan_map
977   0000              	GLOBAL _key_map
978   0000              	GLOBAL _texts
979   0000              	GLOBAL _map_names0
980   0000              	GLOBAL _game_borders0
981   0000              	GLOBAL _spr_init2
982   0000              	GLOBAL _spr_init1
983   0000              	GLOBAL _tile_class2
984   0000              	GLOBAL _tile_class1
985   0000              	GLOBAL _paper0
986   0000              	GLOBAL _lenght0
987   0000              	GLOBAL _world0
988   0000              	GLOBAL _spr_init
989   0000              	GLOBAL _game_encode
990   0000              	GLOBAL _player_jump_hor
991   0000              ;--------------------------------------------------------
992   0000              ; special function registers
993   0000              ;--------------------------------------------------------
994   0000              defc _IO_FE	=	0x00fe
995   0000              defc _IO_1FFD	=	0x1ffd
996   0000              defc _IO_7FFD	=	0x7ffd
997   0000              ;--------------------------------------------------------
998   0000              ; ram data
999   0000              ;--------------------------------------------------------
1000  0000              	SECTION bss_compiler
1001  0000              ;--------------------------------------------------------
1002  0000              ; ram data
1003  0000              ;--------------------------------------------------------
1004  0000              
1005  0000              IF 0
1006  0000              
1007  0000              ; .area _INITIALIZED removed by z88dk
1008  0000              
1009  0000              
1010  0000              ENDIF
1011  0000              
1012  0000              ;--------------------------------------------------------
1013  0000              ; absolute external ram data
1014  0000              ;--------------------------------------------------------
1015  0000              	SECTION IGNORE
1016  0000              ;--------------------------------------------------------
1017  0000              ; global & static initialisations
1018  0000              ;--------------------------------------------------------
1019  0000              	SECTION code_crt_init
1020  0000              ;--------------------------------------------------------
1021  0000              ; Home
1022  0000              ;--------------------------------------------------------
1023  0000              	SECTION IGNORE
1024  0000              ;--------------------------------------------------------
1025  0000              ; code
1026  0000              ;--------------------------------------------------------
1027  0000              	SECTION code_compiler
1028  0000              ;	---------------------------------
1029  0000              ; Function game_tick
1030  0000              ; ---------------------------------
1031  0000              _game_tick:
1032  0000  21 00 00    	ld	hl,_curr_time
1033  0003  34          	inc	(hl)
1034  0004  C2 00 00    	jp	NZ,_zx_isr
1035  0007  23          	inc	hl
1036  0008  34          	inc	(hl)
1037  0009  C3 00 00    	jp  _zx_isr
1038  000C              	SECTION code_compiler
1039  000C              ;	---------------------------------
1040  000C              ; Function game_loop
1041  000C              ; ---------------------------------
1042  000C              _game_loop:
1043  000C  3A 00 00    	ld	a,(_game_code)
1044  000F  B7          	or	a, a
1045  0010  20 05       	jr	NZ,l_game_loop_00102
1046  0012  21 00 00    	ld	hl,_player_lives
1047  0015  36 03       	ld	(hl),0x03
1048  0017              l_game_loop_00102:
1049  0017  3A 00 00    	ld	a,(_player_lives)
1050  001A  32 00 00    	ld	(_game_lives),a
1051  001D  21 00 00    	ld	hl,0x0000
1052  0020  7D          	ld	a,l
1053  0021  22 00 00    	ld	(_player_score),hl
1054  0024  22 02 00    	ld	(_player_score + 2),hl
1055  0027  21 04 00    	ld	hl,_player_score + 4
1056  002A  77          	ld	(hl), a
1057  002B  23          	inc	hl
1058  002C  77          	ld	(hl), a
1059  002D  23          	inc	hl
1060  002E  77          	ld	(hl), a
1061  002F  23          	inc	hl
1062  0030  77          	ld	(hl), a
1063  0031  21 00 00    	ld	hl,_game_over
1064  0034  36 00       	ld	(hl),0x00
1065  0036  21 00 00    	ld	hl,_game_round_up
1066  0039  36 00       	ld	(hl),0x00
1067  003B  21 00 00    	ld	hl,_map_paper
1068  003E  36 00       	ld	(hl),0x00
1069  0040  21 00 00    	ld	hl,_player_lin_scr
1070  0043  36 68       	ld	(hl),0x68
1071  0045  21 00 00    	ld	hl,_player_col_scr
1072  0048  36 02       	ld	(hl),0x02
1073  004A  CD 93 09    	call	_game_round_init
1074  004D              l_game_loop_00135:
1075  004D  3A 00 00    	ld	a,(_game_over)
1076  0050  B7          	or	a, a
1077  0051  C2 C6 01    	jp	NZ, l_game_loop_00138
1078  0054              l_game_loop_00130:
1079  0054  3A 00 00    	ld	a,(_game_round_up)
1080  0057  B7          	or	a, a
1081  0058  C2 99 01    	jp	NZ, l_game_loop_00132
1082  005B  3A 00 00    	ld	a,(_game_over)
1083  005E  B7          	or	a, a
1084  005F  C2 99 01    	jp	NZ, l_game_loop_00132
1085  0062  CD 00 00    	call	_enemy_turn
1086  0065  CD 00 00    	call	_player_turn
1087  0068  21 04 00    	ld	hl,0x0004
1088  006B  E5          	push	hl
1089  006C  21 00 00    	ld	hl,_time_key
1090  006F  E5          	push	hl
1091  0070  CD D7 0D    	call	_game_check_time
1092  0073  F1          	pop	af
1093  0074  F1          	pop	af
1094  0075  7D          	ld	a, l
1095  0076  B7          	or	a, a
1096  0077  28 09       	jr	Z,l_game_loop_00104
1097  0079  2A 00 00    	ld	hl,(_curr_time)
1098  007C  22 00 00    	ld	(_time_key),hl
1099  007F  CD 01 0E    	call	_game_key_paint
1100  0082              l_game_loop_00104:
1101  0082  3A 00 00    	ld	a,(_game_conveyor_col0)
1102  0085  B7          	or	a, a
1103  0086  28 1A       	jr	Z,l_game_loop_00108
1104  0088  21 05 00    	ld	hl,0x0005
1105  008B  E5          	push	hl
1106  008C  21 00 00    	ld	hl,_time_conv
1107  008F  E5          	push	hl
1108  0090  CD D7 0D    	call	_game_check_time
1109  0093  F1          	pop	af
1110  0094  F1          	pop	af
1111  0095  7D          	ld	a, l
1112  0096  B7          	or	a, a
1113  0097  28 09       	jr	Z,l_game_loop_00108
1114  0099  2A 00 00    	ld	hl,(_curr_time)
1115  009C  22 00 00    	ld	(_time_conv),hl
1116  009F  CD BB 08    	call	_game_anim_conveyor
1117  00A2              l_game_loop_00108:
1118  00A2  21 1E 00    	ld	hl,0x001e
1119  00A5  E5          	push	hl
1120  00A6  21 00 00    	ld	hl,_time_air
1121  00A9  E5          	push	hl
1122  00AA  CD D7 0D    	call	_game_check_time
1123  00AD  F1          	pop	af
1124  00AE  F1          	pop	af
1125  00AF  7D          	ld	a, l
1126  00B0  B7          	or	a, a
1127  00B1  28 29       	jr	Z,l_game_loop_00113
1128  00B3  CD 53 08    	call	_game_anim_air
1129  00B6  2A 00 00    	ld	hl,(_curr_time)
1130  00B9  22 00 00    	ld	(_time_air),hl
1131  00BC  3A 00 00    	ld	a,(_game_fps_show)
1132  00BF  B7          	or	a,a
1133  00C0  28 1A       	jr	Z,l_game_loop_00113
1134  00C2  21 64 00    	ld	hl,0x0064
1135  00C5  E5          	push	hl
1136  00C6  21 00 00    	ld	hl,_frame_time
1137  00C9  E5          	push	hl
1138  00CA  CD D7 0D    	call	_game_check_time
1139  00CD  F1          	pop	af
1140  00CE  F1          	pop	af
1141  00CF  7D          	ld	a, l
1142  00D0  B7          	or	a, a
1143  00D1  28 09       	jr	Z,l_game_loop_00113
1144  00D3  CD C7 01    	call	_game_fps
1145  00D6  2A 00 00    	ld	hl,(_curr_time)
1146  00D9  22 00 00    	ld	(_frame_time),hl
1147  00DC              l_game_loop_00113:
1148  00DC  3A 00 00    	ld	a,(_scr_curr)
1149  00DF  D6 12       	sub	a,0x12
1150  00E1  20 03       	jr	NZ,l_game_loop_00115
1151  00E3  CD 5F 04    	call	_game_solar_ray
1152  00E6              l_game_loop_00115:
1153  00E6  21 00 00    	ld	hl,_loop_count
1154  00E9  34          	inc	(hl)
1155  00EA  20 02       	jr	NZ,l_game_loop_00222
1156  00EC  23          	inc	hl
1157  00ED  34          	inc	(hl)
1158  00EE              l_game_loop_00222:
1159  00EE  21 00 00    	ld	hl,_fps
1160  00F1  34          	inc	(hl)
1161  00F2  20 02       	jr	NZ,l_game_loop_00223
1162  00F4  23          	inc	hl
1163  00F5  34          	inc	(hl)
1164  00F6              l_game_loop_00223:
1165  00F6  21 00 00    	ld	hl,_k2
1166  00F9  E5          	push	hl
1167  00FA  2A 00 00    	ld	hl,(_joyfunc2)
1168  00FD  CD 00 00    	call	___sdcc_call_hl
1169  0100  F1          	pop	af
1170  0101  CB 55       	bit	2,l
1171  0103  7D          	ld	a,l
1172  0104  32 00 00    	ld	(_dirs),a
1173  0107  28 14       	jr	Z,l_game_loop_00119
1174  0109  21 00 00    	ld	hl,_game_tune
1175  010C  34          	inc	(hl)
1176  010D  3E 04       	ld	a,0x04
1177  010F  96          	sub	a, (hl)
1178  0110  30 02       	jr	NC,l_game_loop_00117
1179  0112  36 01       	ld	(hl),0x01
1180  0114              l_game_loop_00117:
1181  0114  CD 00 00    	call	_audio_ingame
1182  0117  21 64 00    	ld	hl,0x0064
1183  011A  CD 00 00    	call	_z80_delay_ms_fastcall
1184  011D              l_game_loop_00119:
1185  011D  21 00 00    	ld	hl,_color
1186  0120  36 00       	ld	(hl),0x00
1187  0122  21 00 00    	ld	hl,_dirs
1188  0125  CB 5E       	bit	3, (hl)
1189  0127  CA 54 00    	jp	Z,l_game_loop_00130
1190  012A  21 64 00    	ld	hl,0x0064
1191  012D  CD 00 00    	call	_z80_delay_ms_fastcall
1192  0130  CD 00 00    	call	_ay_song_stop
1193  0133  21 00 00    	ld	hl,_v0
1194  0136  36 01       	ld	(hl),0x01
1195  0138              l_game_loop_00124:
1196  0138  3A 00 00    	ld	a,(_v0)
1197  013B  B7          	or	a, a
1198  013C  28 48       	jr	Z,l_game_loop_00126
1199  013E  21 00 00    	ld	hl,_k2
1200  0141  E5          	push	hl
1201  0142  2A 00 00    	ld	hl,(_joyfunc2)
1202  0145  CD 00 00    	call	___sdcc_call_hl
1203  0148  F1          	pop	af
1204  0149  7D          	ld	a,l
1205  014A  32 00 00    	ld	(_dirs),a
1206  014D  21 0A 00    	ld	hl,0x000a
1207  0150  CD 00 00    	call	_z80_delay_ms_fastcall
1208  0153  21 00 00    	ld	hl,_dirs
1209  0156  CB 5E       	bit	3, (hl)
1210  0158  28 05       	jr	Z,l_game_loop_00121
1211  015A  21 00 00    	ld	hl,_v0
1212  015D  36 00       	ld	(hl),0x00
1213  015F              l_game_loop_00121:
1214  015F  21 00 00    	ld	hl,_color
1215  0162  34          	inc	(hl)
1216  0163  3E 07       	ld	a,0x07
1217  0165  96          	sub	a, (hl)
1218  0166  30 02       	jr	NC,l_game_loop_00123
1219  0168  36 00       	ld	(hl),0x00
1220  016A              l_game_loop_00123:
1221  016A  3A 00 00    	ld	a,(_map_border)
1222  016D  07          	rlca
1223  016E  07          	rlca
1224  016F  07          	rlca
1225  0170  E6 F8       	and	a,0xf8
1226  0172  21 00 00    	ld	hl,_color
1227  0175  B6          	or	a, (hl)
1228  0176  32 00 00    	ld	(_screen_ink),a
1229  0179  21 00 00    	ld	hl,___str_0
1230  017C  E5          	push	hl
1231  017D  21 00 0E    	ld	hl,0x0e00
1232  0180  E5          	push	hl
1233  0181  CD 00 00    	call	_zx_print_str
1234  0184  18 B2       	jr	l_game_loop_00124
1235  0186              l_game_loop_00126:
1236  0186  21 00 20    	ld	hl,0x2000
1237  0189  E5          	push	hl
1238  018A  CD 00 00    	call	_game_fill_row
1239  018D  CD 00 00    	call	_audio_ingame
1240  0190  21 64 00    	ld	hl,0x0064
1241  0193  CD 00 00    	call	_z80_delay_ms_fastcall
1242  0196  C3 54 00    	jp	l_game_loop_00130
1243  0199              l_game_loop_00132:
1244  0199  3A 00 00    	ld	a,(_game_round_up)
1245  019C  B7          	or	a, a
1246  019D  CA 4D 00    	jp	Z, l_game_loop_00135
1247  01A0  21 00 00    	ld	hl,_screen_ink
1248  01A3  36 30       	ld	(hl),0x30
1249  01A5  3A 00 00    	ld	a,(_player_lives)
1250  01A8  32 00 00    	ld	(_game_lives),a
1251  01AB  CD 93 09    	call	_game_round_init
1252  01AE  2A FF FF    	ld	hl,(_game_exit_col - 1)
1253  01B1  3A 00 00    	ld	a,(_game_exit_lin)
1254  01B4  6F          	ld	l,a
1255  01B5  E5          	push	hl
1256  01B6  21 06 07    	ld	hl,0x0706
1257  01B9  E5          	push	hl
1258  01BA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1259  01BD  76          	halt
1260  01BE  21 00 00    	ld	hl,_game_round_up
1261  01C1  36 00       	ld	(hl),0x00
1262  01C3  C3 4D 00    	jp	l_game_loop_00135
1263  01C6              l_game_loop_00138:
1264  01C6  C9          	ret
1265  01C7              	SECTION rodata_compiler
1266  0000              ___str_0:
1267  0000  50 41 55 53 45 
                        	DEFM "PAUSE"
1268  0005  00          	DEFB 0x00
1269  0006              	SECTION code_compiler
1270  01C7              ;	---------------------------------
1271  01C7              ; Function game_fps
1272  01C7              ; ---------------------------------
1273  01C7              _game_fps:
1274  01C7  21 00 00    	ld	hl,_screen_ink
1275  01CA  36 07       	ld	(hl),0x07
1276  01CC  2A 00 00    	ld	hl,(_fps)
1277  01CF  E5          	push	hl
1278  01D0  21 17 18    	ld	hl,0x1817
1279  01D3  E5          	push	hl
1280  01D4  CD 00 00    	call	_zx_print_int
1281  01D7  21 00 00    	ld	hl,0x0000
1282  01DA  22 00 00    	ld	(_fps),hl
1283  01DD  C9          	ret
1284  01DE              	SECTION code_compiler
1285  01DE              ;	---------------------------------
1286  01DE              ; Function game_draw_map
1287  01DE              ; ---------------------------------
1288  01DE              _game_draw_map:
1289  01DE  CD 00 00    	call	___sdcc_enter_ix
1290  01E1  F5          	push	af
1291  01E2  F5          	push	af
1292  01E3  F5          	push	af
1293  01E4  3B          	dec	sp
1294  01E5  CD 00 00    	call	_NIRVANAP_stop
1295  01E8  F3          	di
1296  01E9  21 00 00    	ld	hl,_screen_ink
1297  01EC  36 07       	ld	(hl),0x07
1298  01EE  21 00 00    	ld	hl,_v0
1299  01F1  36 00       	ld	(hl),0x00
1300  01F3              l_game_draw_map_00101:
1301  01F3  21 00 00    	ld	hl,_v0
1302  01F6  7E          	ld	a, (hl)
1303  01F7  D6 08       	sub	a,0x08
1304  01F9  30 0E       	jr	NC,l_game_draw_map_00103
1305  01FB  3E 00       	ld	a, +((_class) & 0xFF)
1306  01FD  86          	add	a, (hl)
1307  01FE  4F          	ld	c, a
1308  01FF  3E 00       	ld	a, +((_class) / 256)
1309  0201  CE 00       	adc	a,0x00
1310  0203  47          	ld	b, a
1311  0204  AF          	xor	a, a
1312  0205  02          	ld	(bc), a
1313  0206  34          	inc	(hl)
1314  0207  18 EA       	jr	l_game_draw_map_00101
1315  0209              l_game_draw_map_00103:
1316  0209  21 00 00    	ld	hl,_spr_count
1317  020C  36 00       	ld	(hl),0x00
1318  020E  21 00 00    	ld	hl,_obj_count
1319  0211  36 00       	ld	(hl),0x00
1320  0213  21 00 00    	ld	hl,0x0000
1321  0216  22 00 00    	ld	(_index1),hl
1322  0219  21 00 00    	ld	hl,_s_row1
1323  021C  36 01       	ld	(hl),0x01
1324  021E  21 00 00    	ld	hl,_s_lin1
1325  0221  36 10       	ld	(hl),0x10
1326  0223  21 00 00    	ld	hl,_s_col1
1327  0226  36 00       	ld	(hl),0x00
1328  0228  21 00 00    	ld	hl,_game_conveyor_lin
1329  022B  36 00       	ld	(hl),0x00
1330  022D  21 00 00    	ld	hl,_game_conveyor_col0
1331  0230  36 00       	ld	(hl),0x00
1332  0232  21 00 00    	ld	hl,_game_conveyor_col1
1333  0235  36 00       	ld	(hl),0x00
1334  0237  3A 00 00    	ld	a,(_map_clear)
1335  023A  32 00 00    	ld	(_attrib_hl),a
1336  023D  32 01 00    	ld	((_attrib_hl + 0x0001)),a
1337  0240  3A 00 00    	ld	a,(_map_clear)
1338  0243  32 02 00    	ld	((_attrib_hl + 0x0002)),a
1339  0246  32 03 00    	ld	((_attrib_hl + 0x0003)),a
1340  0249  DD 36 FA 00 	ld	(ix-6),0x00
1341  024D              l_game_draw_map_00136:
1342  024D  21 01 00    	ld	hl,_index1 + 1
1343  0250  7E          	ld	a, (hl)
1344  0251  D6 02       	sub	a,0x02
1345  0253  D2 4C 04    	jp	NC, l_game_draw_map_00138
1346  0256  3E 00       	ld	a, +((_scr_map) & 0xFF)
1347  0258  2B          	dec	hl
1348  0259  86          	add	a, (hl)
1349  025A  4F          	ld	c, a
1350  025B  3E 00       	ld	a, +((_scr_map) / 256)
1351  025D  23          	inc	hl
1352  025E  8E          	adc	a, (hl)
1353  025F  47          	ld	b, a
1354  0260  0A          	ld	a, (bc)
1355  0261  DD 77 FF    	ld	(ix-1),a
1356  0264  46          	ld	b,(hl)
1357  0265  2B          	dec	hl
1358  0266  4E          	ld	c,(hl)
1359  0267  03          	inc	bc
1360  0268  21 00 00    	ld	hl,_scr_map
1361  026B  09          	add	hl,bc
1362  026C  DD 75 FD    	ld	(ix-3),l
1363  026F  DD 74 FE    	ld	(ix-2),h
1364  0272  7E          	ld	a, (hl)
1365  0273  DD 77 FC    	ld	(ix-4),a
1366  0276  DD 7E FF    	ld	a,(ix-1)
1367  0279  D6 20       	sub	a,0x20
1368  027B  D2 46 03    	jp	NC, l_game_draw_map_00132
1369  027E  3A 00 00    	ld	a,(_s_row1)
1370  0281  07          	rlca
1371  0282  07          	rlca
1372  0283  07          	rlca
1373  0284  E6 F8       	and	a,0xf8
1374  0286  47          	ld	b, a
1375  0287  3A 00 00    	ld	a,(_s_col1)
1376  028A  48          	ld	c,b
1377  028B  47          	ld	b,a
1378  028C  C5          	push	bc
1379  028D  DD 7E FF    	ld	a,(ix-1)
1380  0290  F5          	push	af
1381  0291  33          	inc	sp
1382  0292  CD 00 00    	call	_spr_draw8
1383  0295  F1          	pop	af
1384  0296  33          	inc	sp
1385  0297  3E 00       	ld	a, +((_tile_class) & 0xFF)
1386  0299  DD 86 FF    	add	a,(ix-1)
1387  029C  6F          	ld	l, a
1388  029D  3E 00       	ld	a, +((_tile_class) / 256)
1389  029F  CE 00       	adc	a,0x00
1390  02A1  67          	ld	h, a
1391  02A2  7E          	ld	a, (hl)
1392  02A3  DD 77 FB    	ld	(ix-5),a
1393  02A6  3E 00       	ld	a, +((_tile_class) & 0xFF)
1394  02A8  DD 86 FC    	add	a,(ix-4)
1395  02AB  6F          	ld	l, a
1396  02AC  3E 00       	ld	a, +((_tile_class) / 256)
1397  02AE  CE 00       	adc	a,0x00
1398  02B0  67          	ld	h, a
1399  02B1  7E          	ld	a, (hl)
1400  02B2  DD 77 F9    	ld	(ix-7),a
1401  02B5  DD 7E FB    	ld	a,(ix-5)
1402  02B8  D6 08       	sub	a,0x08
1403  02BA  20 26       	jr	NZ,l_game_draw_map_00107
1404  02BC  21 00 00    	ld	hl,_obj_count
1405  02BF  7E          	ld	a, (hl)
1406  02C0  D6 05       	sub	a,0x05
1407  02C2  30 1E       	jr	NC,l_game_draw_map_00107
1408  02C4  3E 00       	ld	a, +((_obj_col) & 0xFF)
1409  02C6  86          	add	a, (hl)
1410  02C7  4F          	ld	c, a
1411  02C8  3E 00       	ld	a, +((_obj_col) / 256)
1412  02CA  CE 00       	adc	a,0x00
1413  02CC  47          	ld	b, a
1414  02CD  3A 00 00    	ld	a,(_s_col1)
1415  02D0  02          	ld	(bc), a
1416  02D1  2A 00 00    	ld	hl,(_obj_count)
1417  02D4  26 00       	ld	h,0x00
1418  02D6  01 00 00    	ld	bc,_obj_lin
1419  02D9  09          	add	hl,bc
1420  02DA  3A 00 00    	ld	a,(_s_lin1)
1421  02DD  77          	ld	(hl),a
1422  02DE  21 00 00    	ld	hl,_obj_count
1423  02E1  34          	inc	(hl)
1424  02E2              l_game_draw_map_00107:
1425  02E2  DD 7E FB    	ld	a,(ix-5)
1426  02E5  D6 04       	sub	a,0x04
1427  02E7  20 04       	jr	NZ,l_game_draw_map_00233
1428  02E9  3E 01       	ld	a,0x01
1429  02EB  18 01       	jr	l_game_draw_map_00234
1430  02ED              l_game_draw_map_00233:
1431  02ED  AF          	xor	a,a
1432  02EE              l_game_draw_map_00234:
1433  02EE  5F          	ld	e, a
1434  02EF  21 00 00    	ld	hl,_s_col1
1435  02F2  4E          	ld	c, (hl)
1436  02F3  3A 00 00    	ld	a,(_game_conveyor_col0)
1437  02F6  B7          	or	a, a
1438  02F7  28 0C       	jr	Z,l_game_draw_map_00109
1439  02F9  21 00 00    	ld	hl,_game_conveyor_col1
1440  02FC  7E          	ld	a, (hl)
1441  02FD  B7          	or	a, a
1442  02FE  20 05       	jr	NZ,l_game_draw_map_00109
1443  0300  CB 43       	bit	0, e
1444  0302  20 01       	jr	NZ,l_game_draw_map_00109
1445  0304  71          	ld	(hl), c
1446  0305              l_game_draw_map_00109:
1447  0305  CB 43       	bit	0, e
1448  0307  CA 26 04    	jp	Z, l_game_draw_map_00133
1449  030A  DD 7E F9    	ld	a,(ix-7)
1450  030D  B7          	or	a, a
1451  030E  28 05       	jr	Z,l_game_draw_map_00117
1452  0310  D6 04       	sub	a,0x04
1453  0312  C2 26 04    	jp	NZ,l_game_draw_map_00133
1454  0315              l_game_draw_map_00117:
1455  0315  21 00 00    	ld	hl,_game_conveyor_col0
1456  0318  7E          	ld	a, (hl)
1457  0319  B7          	or	a, a
1458  031A  C2 26 04    	jp	NZ, l_game_draw_map_00133
1459  031D  71          	ld	(hl), c
1460  031E  3A 00 00    	ld	a,(_s_lin1)
1461  0321  C6 F8       	add	a,0xf8
1462  0323  32 00 00    	ld	(_game_conveyor_lin),a
1463  0326  DD 7E F9    	ld	a,(ix-7)
1464  0329  B7          	or	a, a
1465  032A  28 07       	jr	Z,l_game_draw_map_00113
1466  032C  21 00 00    	ld	hl,_game_conveyor_dir
1467  032F  36 01       	ld	(hl),0x01
1468  0331  18 05       	jr	l_game_draw_map_00114
1469  0333              l_game_draw_map_00113:
1470  0333  21 00 00    	ld	hl,_game_conveyor_dir
1471  0336  36 02       	ld	(hl),0x02
1472  0338              l_game_draw_map_00114:
1473  0338  ED 4B 00 00 	ld	bc,(_index1)
1474  033C  03          	inc	bc
1475  033D  21 00 00    	ld	hl,_scr_map
1476  0340  09          	add	hl, bc
1477  0341  36 04       	ld	(hl),0x04
1478  0343  C3 26 04    	jp	l_game_draw_map_00133
1479  0346              l_game_draw_map_00132:
1480  0346  DD 7E FF    	ld	a,(ix-1)
1481  0349  D6 20       	sub	a,0x20
1482  034B  20 38       	jr	NZ,l_game_draw_map_00122
1483  034D  DD 7E FA    	ld	a,(ix-6)
1484  0350  B7          	or	a, a
1485  0351  20 32       	jr	NZ,l_game_draw_map_00122
1486  0353  DD 36 FA 01 	ld	(ix-6),0x01
1487  0357  3A 00 00    	ld	a,(_s_col1)
1488  035A  32 00 00    	ld	(_game_exit_col),a
1489  035D  3A 00 00    	ld	a,(_s_lin1)
1490  0360  32 00 00    	ld	(_game_exit_lin),a
1491  0363  DD 6E FD    	ld	l,(ix-3)
1492  0366  DD 66 FE    	ld	h,(ix-2)
1493  0369  36 20       	ld	(hl),0x20
1494  036B  2A 00 00    	ld	hl,(_index1)
1495  036E  01 20 00    	ld	bc,0x0020
1496  0371  09          	add	hl,bc
1497  0372  01 00 00    	ld	bc,_scr_map
1498  0375  09          	add	hl,bc
1499  0376  36 20       	ld	(hl),0x20
1500  0378  2A 00 00    	ld	hl,(_index1)
1501  037B  01 21 00    	ld	bc,0x0021
1502  037E  09          	add	hl,bc
1503  037F  01 00 00    	ld	bc,_scr_map
1504  0382  09          	add	hl,bc
1505  0383  36 20       	ld	(hl),0x20
1506  0385              l_game_draw_map_00122:
1507  0385  DD 7E FF    	ld	a,(ix-1)
1508  0388  D6 40       	sub	a,0x40
1509  038A  38 31       	jr	C,l_game_draw_map_00127
1510  038C  3E 7B       	ld	a,0x7b
1511  038E  DD 96 FF    	sub	a,(ix-1)
1512  0391  38 2A       	jr	C,l_game_draw_map_00127
1513  0393  3A 00 00    	ld	a,(_s_row1)
1514  0396  07          	rlca
1515  0397  07          	rlca
1516  0398  07          	rlca
1517  0399  E6 F8       	and	a,0xf8
1518  039B  47          	ld	b, a
1519  039C  3A 00 00    	ld	a,(_s_col1)
1520  039F  48          	ld	c,b
1521  03A0  47          	ld	b,a
1522  03A1  C5          	push	bc
1523  03A2  AF          	xor	a, a
1524  03A3  F5          	push	af
1525  03A4  33          	inc	sp
1526  03A5  CD 00 00    	call	_spr_draw8
1527  03A8  F1          	pop	af
1528  03A9  33          	inc	sp
1529  03AA  3A 00 00    	ld	a,(_spr_count)
1530  03AD  D6 08       	sub	a,0x08
1531  03AF  30 03       	jr	NC,l_game_draw_map_00125
1532  03B1  CD 00 00    	call	_enemy_init
1533  03B4              l_game_draw_map_00125:
1534  03B4  01 00 00    	ld	bc,_scr_map
1535  03B7  2A 00 00    	ld	hl,(_index1)
1536  03BA  09          	add	hl,bc
1537  03BB  AF          	xor	a,a
1538  03BC  77          	ld	(hl),a
1539  03BD              l_game_draw_map_00127:
1540  03BD  DD 7E FF    	ld	a,(ix-1)
1541  03C0  D6 7F       	sub	a,0x7f
1542  03C2  20 62       	jr	NZ,l_game_draw_map_00133
1543  03C4  3A 00 00    	ld	a,(_s_lin1)
1544  03C7  C6 F0       	add	a,0xf0
1545  03C9  32 00 00    	ld	(_player_lin_scr),a
1546  03CC  3A 00 00    	ld	a,(_s_col1)
1547  03CF  32 00 00    	ld	(_player_col_scr),a
1548  03D2  ED 4B 00 00 	ld	bc,(_index1)
1549  03D6  03          	inc	bc
1550  03D7  21 00 00    	ld	hl,_scr_map
1551  03DA  09          	add	hl, bc
1552  03DB  7E          	ld	a,(hl)
1553  03DC  32 08 00    	ld	((_value_a + 0x0008)),a
1554  03DF  2A 00 00    	ld	hl,(_index1)
1555  03E2  01 20 00    	ld	bc,0x0020
1556  03E5  09          	add	hl,bc
1557  03E6  01 00 00    	ld	bc,_scr_map
1558  03E9  09          	add	hl,bc
1559  03EA  7E          	ld	a,(hl)
1560  03EB  32 08 00    	ld	((_value_b + 0x0008)),a
1561  03EE  2A 00 00    	ld	hl,(_index1)
1562  03F1  01 00 00    	ld	bc,_scr_map
1563  03F4  09          	add	hl,bc
1564  03F5  AF          	xor	a,a
1565  03F6  77          	ld	(hl),a
1566  03F7  ED 4B 00 00 	ld	bc,(_index1)
1567  03FB  03          	inc	bc
1568  03FC  21 00 00    	ld	hl,_scr_map
1569  03FF  09          	add	hl, bc
1570  0400  36 00       	ld	(hl),0x00
1571  0402  2A 00 00    	ld	hl,(_index1)
1572  0405  01 20 00    	ld	bc,0x0020
1573  0408  09          	add	hl,bc
1574  0409  01 00 00    	ld	bc,_scr_map
1575  040C  09          	add	hl,bc
1576  040D  36 00       	ld	(hl),0x00
1577  040F  3A 00 00    	ld	a,(_s_row1)
1578  0412  07          	rlca
1579  0413  07          	rlca
1580  0414  07          	rlca
1581  0415  E6 F8       	and	a,0xf8
1582  0417  47          	ld	b, a
1583  0418  3A 00 00    	ld	a,(_s_col1)
1584  041B  48          	ld	c,b
1585  041C  47          	ld	b,a
1586  041D  C5          	push	bc
1587  041E  AF          	xor	a, a
1588  041F  F5          	push	af
1589  0420  33          	inc	sp
1590  0421  CD 00 00    	call	_spr_draw8
1591  0424  F1          	pop	af
1592  0425  33          	inc	sp
1593  0426              l_game_draw_map_00133:
1594  0426  21 00 00    	ld	hl,_index1
1595  0429  34          	inc	(hl)
1596  042A  20 02       	jr	NZ,l_game_draw_map_00241
1597  042C  23          	inc	hl
1598  042D  34          	inc	(hl)
1599  042E              l_game_draw_map_00241:
1600  042E  21 00 00    	ld	hl,_s_col1
1601  0431  7E          	ld	a,(hl)
1602  0432  3C          	inc	a
1603  0433  77          	ld	(hl),a
1604  0434  D6 20       	sub	a,0x20
1605  0436  C2 4D 02    	jp	NZ,l_game_draw_map_00136
1606  0439  21 00 00    	ld	hl,_s_row1
1607  043C  34          	inc	(hl)
1608  043D  21 00 00    	ld	hl,_s_lin1
1609  0440  7E          	ld	a, (hl)
1610  0441  C6 08       	add	a,0x08
1611  0443  77          	ld	(hl), a
1612  0444  21 00 00    	ld	hl,_s_col1
1613  0447  36 00       	ld	(hl),0x00
1614  0449  C3 4D 02    	jp	l_game_draw_map_00136
1615  044C              l_game_draw_map_00138:
1616  044C  3A 00 00    	ld	a,(_scr_curr)
1617  044F  D6 13       	sub	a,0x13
1618  0451  20 03       	jr	NZ,l_game_draw_map_00140
1619  0453  CD 66 06    	call	_game_img1
1620  0456              l_game_draw_map_00140:
1621  0456  FB          	ei
1622  0457  CD 00 00    	call	_NIRVANAP_start
1623  045A  DD F9       	ld	sp, ix
1624  045C  DD E1       	pop	ix
1625  045E  C9          	ret
1626  045F              	SECTION code_compiler
1627  045F              ;	---------------------------------
1628  045F              ; Function game_solar_ray
1629  045F              ; ---------------------------------
1630  045F              _game_solar_ray:
1631  045F  0E 00       	ld	c,0x00
1632  0461  3A 00 00    	ld	a,(_col)
1633  0464  D6 17       	sub	a,0x17
1634  0466  20 06       	jr	NZ,l_game_solar_ray_00110
1635  0468  21 00 00    	ld	hl,_lin
1636  046B  4E          	ld	c, (hl)
1637  046C  18 25       	jr	l_game_solar_ray_00111
1638  046E              l_game_solar_ray_00110:
1639  046E  3A 01 00    	ld	a, (_col + 1)
1640  0471  D6 17       	sub	a,0x17
1641  0473  20 06       	jr	NZ,l_game_solar_ray_00107
1642  0475  21 01 00    	ld	hl,+(_lin + 0x0001)
1643  0478  4E          	ld	c, (hl)
1644  0479  18 18       	jr	l_game_solar_ray_00111
1645  047B              l_game_solar_ray_00107:
1646  047B  3A 04 00    	ld	a, (_col + 4)
1647  047E  D6 17       	sub	a,0x17
1648  0480  20 06       	jr	NZ,l_game_solar_ray_00104
1649  0482  21 04 00    	ld	hl,+(_lin + 0x0004)
1650  0485  4E          	ld	c, (hl)
1651  0486  18 0B       	jr	l_game_solar_ray_00111
1652  0488              l_game_solar_ray_00104:
1653  0488  3A 06 00    	ld	a, (_col + 6)
1654  048B  D6 17       	sub	a,0x17
1655  048D  20 04       	jr	NZ,l_game_solar_ray_00111
1656  048F  21 06 00    	ld	hl,+(_lin + 0x0006)
1657  0492  4E          	ld	c, (hl)
1658  0493              l_game_solar_ray_00111:
1659  0493  79          	ld	a, c
1660  0494  B7          	or	a, a
1661  0495  20 2D       	jr	NZ,l_game_solar_ray_00116
1662  0497  3A 00 00    	ld	a,(_g_ray1)
1663  049A  B7          	or	a, a
1664  049B  28 27       	jr	Z,l_game_solar_ray_00116
1665  049D  C5          	push	bc
1666  049E  CD 89 05    	call	_game_solar_ray0
1667  04A1  C1          	pop	bc
1668  04A2  21 00 00    	ld	hl,_g_ray1
1669  04A5  36 00       	ld	(hl),0x00
1670  04A7  06 18       	ld	b,0x18
1671  04A9              l_game_solar_ray_00112:
1672  04A9  78          	ld	a, b
1673  04AA  D6 80       	sub	a,0x80
1674  04AC  30 16       	jr	NC,l_game_solar_ray_00116
1675  04AE  C5          	push	bc
1676  04AF  3E 17       	ld	a,0x17
1677  04B1  48          	ld	c,b
1678  04B2  47          	ld	b,a
1679  04B3  C5          	push	bc
1680  04B4  3E 11       	ld	a,0x11
1681  04B6  F5          	push	af
1682  04B7  33          	inc	sp
1683  04B8  CD 00 00    	call	_spr_draw8
1684  04BB  F1          	pop	af
1685  04BC  33          	inc	sp
1686  04BD  C1          	pop	bc
1687  04BE  78          	ld	a, b
1688  04BF  C6 08       	add	a,0x08
1689  04C1  47          	ld	b, a
1690  04C2  18 E5       	jr	l_game_solar_ray_00112
1691  04C4              l_game_solar_ray_00116:
1692  04C4  79          	ld	a, c
1693  04C5  B7          	or	a, a
1694  04C6  28 41       	jr	Z,l_game_solar_ray_00127
1695  04C8  21 00 00    	ld	hl,_g_ray1
1696  04CB  7E          	ld	a, (hl)
1697  04CC  B7          	or	a, a
1698  04CD  20 3A       	jr	NZ,l_game_solar_ray_00127
1699  04CF  71          	ld	(hl), c
1700  04D0  16 18       	ld	d,0x18
1701  04D2              l_game_solar_ray_00118:
1702  04D2  7A          	ld	a, d
1703  04D3  C6 08       	add	a,0x08
1704  04D5  47          	ld	b, a
1705  04D6  7A          	ld	a, d
1706  04D7  91          	sub	a, c
1707  04D8  30 11       	jr	NC,l_game_solar_ray_00120
1708  04DA  C5          	push	bc
1709  04DB  3E 17       	ld	a,0x17
1710  04DD  F5          	push	af
1711  04DE  33          	inc	sp
1712  04DF  1E 11       	ld	e,0x11
1713  04E1  D5          	push	de
1714  04E2  CD 00 00    	call	_spr_draw8
1715  04E5  F1          	pop	af
1716  04E6  33          	inc	sp
1717  04E7  C1          	pop	bc
1718  04E8  50          	ld	d, b
1719  04E9  18 E7       	jr	l_game_solar_ray_00118
1720  04EB              l_game_solar_ray_00120:
1721  04EB  C5          	push	bc
1722  04EC  CD 0A 05    	call	_game_solar_ray1
1723  04EF  C1          	pop	bc
1724  04F0              l_game_solar_ray_00121:
1725  04F0  78          	ld	a, b
1726  04F1  D6 80       	sub	a,0x80
1727  04F3  D0          	ret	NC
1728  04F4  C5          	push	bc
1729  04F5  3E 17       	ld	a,0x17
1730  04F7  48          	ld	c,b
1731  04F8  47          	ld	b,a
1732  04F9  C5          	push	bc
1733  04FA  AF          	xor	a, a
1734  04FB  F5          	push	af
1735  04FC  33          	inc	sp
1736  04FD  CD 00 00    	call	_spr_draw8
1737  0500  F1          	pop	af
1738  0501  33          	inc	sp
1739  0502  C1          	pop	bc
1740  0503  78          	ld	a, b
1741  0504  C6 08       	add	a,0x08
1742  0506  47          	ld	b, a
1743  0507  18 E7       	jr	l_game_solar_ray_00121
1744  0509              l_game_solar_ray_00127:
1745  0509  C9          	ret
1746  050A              	SECTION code_compiler
1747  050A              ;	---------------------------------
1748  050A              ; Function game_solar_ray1
1749  050A              ; ---------------------------------
1750  050A              _game_solar_ray1:
1751  050A  0E 16       	ld	c,0x16
1752  050C  3A 00 00    	ld	a,(_g_ray1)
1753  050F  C6 08       	add	a,0x08
1754  0511  47          	ld	b, a
1755  0512  76          	halt
1756  0513              l_game_solar_ray1_00111:
1757  0513  79          	ld	a, c
1758  0514  B7          	or	a, a
1759  0515  28 71       	jr	Z,l_game_solar_ray1_00114
1760  0517  C5          	push	bc
1761  0518  79          	ld	a, c
1762  0519  48          	ld	c,b
1763  051A  47          	ld	b,a
1764  051B  C5          	push	bc
1765  051C  3E 10       	ld	a,0x10
1766  051E  F5          	push	af
1767  051F  33          	inc	sp
1768  0520  CD 00 00    	call	_spr_draw8
1769  0523  F1          	pop	af
1770  0524  33          	inc	sp
1771  0525  C1          	pop	bc
1772  0526  3A 00 00    	ld	a,(_g_ray1)
1773  0529  5F          	ld	e,a
1774  052A  16 00       	ld	d,0x00
1775  052C  79          	ld	a,c
1776  052D  FE 07       	cp	a,0x07
1777  052F  28 3C       	jr	Z,l_game_solar_ray1_00107
1778  0531  FE 0D       	cp	a,0x0d
1779  0533  28 1E       	jr	Z,l_game_solar_ray1_00104
1780  0535  D6 12       	sub	a,0x12
1781  0537  20 4C       	jr	NZ,l_game_solar_ray1_00110
1782  0539  2A 05 00    	ld	hl,(_lin + 5)
1783  053C  AF          	xor	a,a
1784  053D  67          	ld	h,a
1785  053E  ED 52       	sbc	hl,de
1786  0540  CD 00 00    	call	_abs_fastcall
1787  0543  EB          	ex	de,hl
1788  0544  7B          	ld	a, e
1789  0545  D6 10       	sub	a,0x10
1790  0547  7A          	ld	a, d
1791  0548  17          	rla
1792  0549  3F          	ccf
1793  054A  1F          	rra
1794  054B  DE 80       	sbc	a,0x80
1795  054D  30 36       	jr	NC,l_game_solar_ray1_00110
1796  054F  0E 01       	ld	c,0x01
1797  0551  18 32       	jr	l_game_solar_ray1_00110
1798  0553              l_game_solar_ray1_00104:
1799  0553  2A 02 00    	ld	hl,(_lin + 2)
1800  0556  AF          	xor	a,a
1801  0557  67          	ld	h,a
1802  0558  ED 52       	sbc	hl,de
1803  055A  CD 00 00    	call	_abs_fastcall
1804  055D  EB          	ex	de,hl
1805  055E  7B          	ld	a, e
1806  055F  D6 10       	sub	a,0x10
1807  0561  7A          	ld	a, d
1808  0562  17          	rla
1809  0563  3F          	ccf
1810  0564  1F          	rra
1811  0565  DE 80       	sbc	a,0x80
1812  0567  30 1C       	jr	NC,l_game_solar_ray1_00110
1813  0569  0E 01       	ld	c,0x01
1814  056B  18 18       	jr	l_game_solar_ray1_00110
1815  056D              l_game_solar_ray1_00107:
1816  056D  2A 03 00    	ld	hl,(_lin + 3)
1817  0570  AF          	xor	a,a
1818  0571  67          	ld	h,a
1819  0572  ED 52       	sbc	hl,de
1820  0574  CD 00 00    	call	_abs_fastcall
1821  0577  EB          	ex	de,hl
1822  0578  7B          	ld	a, e
1823  0579  D6 10       	sub	a,0x10
1824  057B  7A          	ld	a, d
1825  057C  17          	rla
1826  057D  3F          	ccf
1827  057E  1F          	rra
1828  057F  DE 80       	sbc	a,0x80
1829  0581  30 02       	jr	NC,l_game_solar_ray1_00110
1830  0583  0E 01       	ld	c,0x01
1831  0585              l_game_solar_ray1_00110:
1832  0585  0D          	dec	c
1833  0586  18 8B       	jr	l_game_solar_ray1_00111
1834  0588              l_game_solar_ray1_00114:
1835  0588  C9          	ret
1836  0589              	SECTION code_compiler
1837  0589              ;	---------------------------------
1838  0589              ; Function game_solar_ray0
1839  0589              ; ---------------------------------
1840  0589              _game_solar_ray0:
1841  0589  06 16       	ld	b,0x16
1842  058B              l_game_solar_ray0_00101:
1843  058B  78          	ld	a, b
1844  058C  B7          	or	a, a
1845  058D  C8          	ret	Z
1846  058E  3A 00 00    	ld	a,(_g_ray1)
1847  0591  C6 08       	add	a,0x08
1848  0593  57          	ld	d, a
1849  0594  C5          	push	bc
1850  0595  4A          	ld	c, d
1851  0596  C5          	push	bc
1852  0597  AF          	xor	a, a
1853  0598  F5          	push	af
1854  0599  33          	inc	sp
1855  059A  CD 00 00    	call	_spr_draw8
1856  059D  F1          	pop	af
1857  059E  33          	inc	sp
1858  059F  C1          	pop	bc
1859  05A0  05          	dec	b
1860  05A1  18 E8       	jr	l_game_solar_ray0_00101
1861  05A3              	SECTION code_compiler
1862  05A3              ;	---------------------------------
1863  05A3              ; Function game_logo1
1864  05A3              ; ---------------------------------
1865  05A3              _game_logo1:
1866  05A3  CD 00 00    	call	___sdcc_enter_ix
1867  05A6  F5          	push	af
1868  05A7  DD 5E 08    	ld	e,(ix+8)
1869  05AA  DD 66 07    	ld	h,(ix+7)
1870  05AD  2E 00       	ld	l,0x00
1871  05AF  55          	ld	d, l
1872  05B0  06 08       	ld	b,0x08
1873  05B2              l_game_logo1_00150:
1874  05B2  29          	add	hl, hl
1875  05B3  30 01       	jr	NC,l_game_logo1_00151
1876  05B5  19          	add	hl, de
1877  05B6              l_game_logo1_00151:
1878  05B6  10 FA       	djnz	l_game_logo1_00150
1879  05B8  4D          	ld	c, l
1880  05B9  44          	ld	b, h
1881  05BA  76          	halt
1882  05BB  F3          	di
1883  05BC  16 00       	ld	d,0x00
1884  05BE              l_game_logo1_00101:
1885  05BE  7A          	ld	a, d
1886  05BF  D6 08       	sub	a,0x08
1887  05C1  30 12       	jr	NC,l_game_logo1_00103
1888  05C3  C5          	push	bc
1889  05C4  D5          	push	de
1890  05C5  21 00 00    	ld	hl,0x0000
1891  05C8  E5          	push	hl
1892  05C9  AF          	xor	a, a
1893  05CA  5A          	ld	e,d
1894  05CB  57          	ld	d,a
1895  05CC  D5          	push	de
1896  05CD  CD 00 00    	call	_NIRVANAP_spriteT_callee
1897  05D0  D1          	pop	de
1898  05D1  C1          	pop	bc
1899  05D2  14          	inc	d
1900  05D3  18 E9       	jr	l_game_logo1_00101
1901  05D5              l_game_logo1_00103:
1902  05D5  DD 7E 04    	ld	a,(ix+4)
1903  05D8  B7          	or	a, a
1904  05D9  28 3A       	jr	Z,l_game_logo1_00108
1905  05DB  3D          	dec	a
1906  05DC  28 09       	jr	Z,l_game_logo1_00104
1907  05DE  DD 7E 04    	ld	a,(ix+4)
1908  05E1  D6 02       	sub	a,0x02
1909  05E3  28 07       	jr	Z,l_game_logo1_00105
1910  05E5  18 08       	jr	l_game_logo1_00106
1911  05E7              l_game_logo1_00104:
1912  05E7  11 00 00    	ld	de,_logo1+0
1913  05EA  18 03       	jr	l_game_logo1_00106
1914  05EC              l_game_logo1_00105:
1915  05EC  11 00 00    	ld	de,_logo2
1916  05EF              l_game_logo1_00106:
1917  05EF  C5          	push	bc
1918  05F0  D5          	push	de
1919  05F1  3E 01       	ld	a,0x01
1920  05F3  F5          	push	af
1921  05F4  33          	inc	sp
1922  05F5  CD 71 13    	call	_page
1923  05F8  33          	inc	sp
1924  05F9  D1          	pop	de
1925  05FA  E1          	pop	hl
1926  05FB  4D          	ld	c,l
1927  05FC  44          	ld	b,h
1928  05FD  29          	add	hl, hl
1929  05FE  09          	add	hl, bc
1930  05FF  29          	add	hl, hl
1931  0600  29          	add	hl, hl
1932  0601  29          	add	hl, hl
1933  0602  29          	add	hl, hl
1934  0603  C5          	push	bc
1935  0604  E5          	push	hl
1936  0605  D5          	push	de
1937  0606  21 00 00    	ld	hl,_btiles
1938  0609  E5          	push	hl
1939  060A  CD 00 00    	call	_memcpy_callee
1940  060D  AF          	xor	a, a
1941  060E  F5          	push	af
1942  060F  33          	inc	sp
1943  0610  CD 71 13    	call	_page
1944  0613  33          	inc	sp
1945  0614  C1          	pop	bc
1946  0615              l_game_logo1_00108:
1947  0615  DD 5E 06    	ld	e,(ix+6)
1948  0618  21 00 00    	ld	hl,_s_col1
1949  061B  73          	ld	(hl), e
1950  061C  DD 7E 05    	ld	a,(ix+5)
1951  061F  32 00 00    	ld	(_s_lin1),a
1952  0622  16 00       	ld	d,0x00
1953  0624              l_game_logo1_00111:
1954  0624  6A          	ld	l, d
1955  0625  AF          	xor	a,a
1956  0626  67          	ld	h,a
1957  0627  ED 42       	sbc	hl,bc
1958  0629  30 36       	jr	NC,l_game_logo1_00113
1959  062B  3A 00 00    	ld	a,(_s_col1)
1960  062E  87          	add	a, a
1961  062F  C5          	push	bc
1962  0630  D5          	push	de
1963  0631  F5          	push	af
1964  0632  33          	inc	sp
1965  0633  3A 00 00    	ld	a,(_s_lin1)
1966  0636  5A          	ld	e,d
1967  0637  57          	ld	d,a
1968  0638  D5          	push	de
1969  0639  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
1970  063C  D1          	pop	de
1971  063D  C1          	pop	bc
1972  063E  14          	inc	d
1973  063F  21 00 00    	ld	hl,_s_col1
1974  0642  34          	inc	(hl)
1975  0643  C5          	push	bc
1976  0644  D5          	push	de
1977  0645  DD 7E 07    	ld	a,(ix+7)
1978  0648  5A          	ld	e,d
1979  0649  57          	ld	d,a
1980  064A  D5          	push	de
1981  064B  CD 00 00    	call	__moduchar_callee
1982  064E  D1          	pop	de
1983  064F  C1          	pop	bc
1984  0650  7D          	ld	a,l
1985  0651  B7          	or	a, a
1986  0652  20 D0       	jr	NZ,l_game_logo1_00111
1987  0654  21 00 00    	ld	hl,_s_lin1
1988  0657  7E          	ld	a, (hl)
1989  0658  C6 10       	add	a,0x10
1990  065A  77          	ld	(hl), a
1991  065B  21 00 00    	ld	hl,_s_col1
1992  065E  73          	ld	(hl), e
1993  065F  18 C3       	jr	l_game_logo1_00111
1994  0661              l_game_logo1_00113:
1995  0661  FB          	ei
1996  0662  F1          	pop	af
1997  0663  DD E1       	pop	ix
1998  0665  C9          	ret
1999  0666              	SECTION code_compiler
2000  0666              ;	---------------------------------
2001  0666              ; Function game_img1
2002  0666              ; ---------------------------------
2003  0666              _game_img1:
2004  0666  21 00 00    	ld	hl,_v0
2005  0669  36 10       	ld	(hl),0x10
2006  066B  3E 00       	ld	a,0x00
2007  066D  32 00 00    	ld	(_v1),a
2008  0670  4F          	ld	c,a
2009  0671              l_game_img1_00104:
2010  0671  79          	ld	a, c
2011  0672  D6 40       	sub	a,0x40
2012  0674  30 5A       	jr	NC,l_game_img1_00107
2013  0676  06 00       	ld	b,0x00
2014  0678  69          	ld	l, c
2015  0679  60          	ld	h, b
2016  067A  29          	add	hl, hl
2017  067B  09          	add	hl, bc
2018  067C  29          	add	hl, hl
2019  067D  29          	add	hl, hl
2020  067E  29          	add	hl, hl
2021  067F  29          	add	hl, hl
2022  0680  EB          	ex	de,hl
2023  0681  76          	halt
2024  0682  21 00 00    	ld	hl,_img1
2025  0685  19          	add	hl,de
2026  0686  C5          	push	bc
2027  0687  E5          	push	hl
2028  0688  3E 01       	ld	a,0x01
2029  068A  F5          	push	af
2030  068B  33          	inc	sp
2031  068C  CD 71 13    	call	_page
2032  068F  33          	inc	sp
2033  0690  D1          	pop	de
2034  0691  C1          	pop	bc
2035  0692  21 00 12    	ld	hl, +(_btiles + 0x1200)
2036  0695  C5          	push	bc
2037  0696  EB          	ex	de, hl
2038  0697  01 30 00    	ld	bc,0x0030
2039  069A  ED B0       	ldir
2040  069C  AF          	xor	a, a
2041  069D  F5          	push	af
2042  069E  33          	inc	sp
2043  069F  CD 71 13    	call	_page
2044  06A2  33          	inc	sp
2045  06A3  3A 00 00    	ld	a,(_v1)
2046  06A6  F5          	push	af
2047  06A7  33          	inc	sp
2048  06A8  3A 00 00    	ld	a,(_v0)
2049  06AB  57          	ld	d,a
2050  06AC  1E 60       	ld	e,0x60
2051  06AE  D5          	push	de
2052  06AF  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2053  06B2  C1          	pop	bc
2054  06B3  3A 00 00    	ld	a,(_v1)
2055  06B6  D6 1E       	sub	a,0x1e
2056  06B8  20 0E       	jr	NZ,l_game_img1_00102
2057  06BA  21 00 00    	ld	hl,_v0
2058  06BD  7E          	ld	a, (hl)
2059  06BE  C6 10       	add	a,0x10
2060  06C0  77          	ld	(hl), a
2061  06C1  21 00 00    	ld	hl,_v1
2062  06C4  36 00       	ld	(hl),0x00
2063  06C6  18 05       	jr	l_game_img1_00103
2064  06C8              l_game_img1_00102:
2065  06C8  21 00 00    	ld	hl,_v1
2066  06CB  34          	inc	(hl)
2067  06CC  34          	inc	(hl)
2068  06CD              l_game_img1_00103:
2069  06CD  0C          	inc	c
2070  06CE  18 A1       	jr	l_game_img1_00104
2071  06D0              l_game_img1_00107:
2072  06D0  C9          	ret
2073  06D1              	SECTION code_compiler
2074  06D1              ;	---------------------------------
2075  06D1              ; Function game_cell_paint_index
2076  06D1              ; ---------------------------------
2077  06D1              _game_cell_paint_index:
2078  06D1  3A 00 00    	ld	a,(_index1)
2079  06D4  E6 1F       	and	a,0x1f
2080  06D6  32 00 00    	ld	(_s_col1),a
2081  06D9  2A 00 00    	ld	hl,(_index1)
2082  06DC  4D          	ld	c,l
2083  06DD  5C          	ld	e,h
2084  06DE  06 05       	ld	b,0x05
2085  06E0  79          	ld	a,c
2086  06E1              l_game_cell_paint_index_00103:
2087  06E1  CB 3B       	srl	e
2088  06E3  1F          	rra
2089  06E4  10 FB       	djnz	l_game_cell_paint_index_00103
2090  06E6  07          	rlca
2091  06E7  07          	rlca
2092  06E8  07          	rlca
2093  06E9  E6 F8       	and	a,0xf8
2094  06EB  32 00 00    	ld	(_s_lin1),a
2095  06EE  0F          	rrca
2096  06EF  0F          	rrca
2097  06F0  0F          	rrca
2098  06F1  E6 1F       	and	a,0x1f
2099  06F3  3C          	inc	a
2100  06F4  32 00 00    	ld	(_s_row1),a
2101  06F7  21 00 00    	ld	hl,_s_lin1
2102  06FA  7E          	ld	a, (hl)
2103  06FB  C6 10       	add	a,0x10
2104  06FD  77          	ld	(hl), a
2105  06FE  3A 00 00    	ld	a,(_s_row1)
2106  0701  07          	rlca
2107  0702  07          	rlca
2108  0703  07          	rlca
2109  0704  E6 F8       	and	a,0xf8
2110  0706  4F          	ld	c, a
2111  0707  11 00 00    	ld	de,_scr_map
2112  070A  2A 00 00    	ld	hl,(_index1)
2113  070D  19          	add	hl,de
2114  070E  46          	ld	b, (hl)
2115  070F  3A 00 00    	ld	a,(_s_col1)
2116  0712  F5          	push	af
2117  0713  33          	inc	sp
2118  0714  79          	ld	a, c
2119  0715  48          	ld	c,b
2120  0716  47          	ld	b,a
2121  0717  C5          	push	bc
2122  0718  CD 00 00    	call	_spr_draw8
2123  071B  F1          	pop	af
2124  071C  33          	inc	sp
2125  071D  C9          	ret
2126  071E              	SECTION code_compiler
2127  071E              ;	---------------------------------
2128  071E              ; Function game_cell_paint
2129  071E              ; ---------------------------------
2130  071E              _game_cell_paint:
2131  071E  3A 00 00    	ld	a,(_s_row1)
2132  0721  07          	rlca
2133  0722  07          	rlca
2134  0723  07          	rlca
2135  0724  E6 F8       	and	a,0xf8
2136  0726  57          	ld	d, a
2137  0727  01 00 00    	ld	bc,_scr_map
2138  072A  2A 00 00    	ld	hl,(_index1)
2139  072D  09          	add	hl,bc
2140  072E  4D          	ld	c,l
2141  072F  46          	ld	b, (hl)
2142  0730  3A 00 00    	ld	a,(_s_col1)
2143  0733  5A          	ld	e,d
2144  0734  57          	ld	d,a
2145  0735  D5          	push	de
2146  0736  C5          	push	bc
2147  0737  33          	inc	sp
2148  0738  CD 00 00    	call	_spr_draw8
2149  073B  F1          	pop	af
2150  073C  33          	inc	sp
2151  073D  C9          	ret
2152  073E              	SECTION code_compiler
2153  073E              ;	---------------------------------
2154  073E              ; Function game_end is a stub
2155  073E              ; ---------------------------------
2156  073E              EXTERN l_ret
2157  073E              defc _game_end = l_ret
2158  073E              	SECTION code_compiler
2159  073E              ;	---------------------------------
2160  073E              ; Function game_print_footer
2161  073E              ; ---------------------------------
2162  073E              _game_print_footer:
2163  073E  3A 00 00    	ld	a,(_game_fps_show)
2164  0741  B7          	or	a, a
2165  0742  C8          	ret	Z
2166  0743  21 00 00    	ld	hl,_screen_ink
2167  0746  36 07       	ld	(hl),0x07
2168  0748  21 06 00    	ld	hl,___str_1
2169  074B  E5          	push	hl
2170  074C  21 17 14    	ld	hl,0x1417
2171  074F  E5          	push	hl
2172  0750  CD 00 00    	call	_zx_print_str
2173  0753  C9          	ret
2174  0754              	SECTION rodata_compiler
2175  0006              ___str_1:
2176  0006  4C 50 53 3A 	DEFM "LPS:"
2177  000A  00          	DEFB 0x00
2178  000B              	SECTION code_compiler
2179  0754              ;	---------------------------------
2180  0754              ; Function game_print_score
2181  0754              ; ---------------------------------
2182  0754              _game_print_score:
2183  0754  21 00 00    	ld	hl,_screen_ink
2184  0757  36 06       	ld	(hl),0x06
2185  0759  21 00 00    	ld	hl,_screen_paper
2186  075C  36 00       	ld	(hl),0x00
2187  075E  2A 00 00    	ld	hl,(_player_score)
2188  0761  E5          	push	hl
2189  0762  21 14 1B    	ld	hl,0x1b14
2190  0765  E5          	push	hl
2191  0766  CD 00 00    	call	_zx_print_int
2192  0769  2A 00 00    	ld	hl,(_game_score_top)
2193  076C  E5          	push	hl
2194  076D  21 14 0C    	ld	hl,0x0c14
2195  0770  E5          	push	hl
2196  0771  CD 00 00    	call	_zx_print_int
2197  0774  C9          	ret
2198  0775              	SECTION code_compiler
2199  0775              ;	---------------------------------
2200  0775              ; Function game_print_lives
2201  0775              ; ---------------------------------
2202  0775              _game_print_lives:
2203  0775  21 00 00    	ld	hl,_v0
2204  0778  36 00       	ld	(hl),0x00
2205  077A  21 16 20    	ld	hl,0x2016
2206  077D  E5          	push	hl
2207  077E  CD 00 00    	call	_game_fill_row
2208  0781  3E 0A       	ld	a,0x0a
2209  0783  21 00 00    	ld	hl,_player_lives
2210  0786  96          	sub	a, (hl)
2211  0787  38 30       	jr	C,l_game_print_lives_00105
2212  0789              l_game_print_lives_00101:
2213  0789  3A 00 00    	ld	a,(_player_lives)
2214  078C  4F          	ld	c,a
2215  078D  06 00       	ld	b,0x00
2216  078F  0B          	dec	bc
2217  0790  3A 00 00    	ld	a,(_v0)
2218  0793  16 00       	ld	d,0x00
2219  0795  91          	sub	a, c
2220  0796  7A          	ld	a, d
2221  0797  98          	sbc	a, b
2222  0798  E2 9D 07    	jp	PO, l_game_print_lives_00120
2223  079B  EE 80       	xor	a,0x80
2224  079D              l_game_print_lives_00120:
2225  079D  F2 D5 07    	jp	P, l_game_print_lives_00107
2226  07A0  21 00 00    	ld	hl,_screen_ink
2227  07A3  36 05       	ld	(hl),0x05
2228  07A5  3A 00 00    	ld	a,(_v0)
2229  07A8  21 0B 00    	ld	hl,___str_2
2230  07AB  E5          	push	hl
2231  07AC  57          	ld	d,a
2232  07AD  1E 16       	ld	e,0x16
2233  07AF  D5          	push	de
2234  07B0  CD 00 00    	call	_zx_print_str
2235  07B3  21 00 00    	ld	hl,_v0
2236  07B6  34          	inc	(hl)
2237  07B7  18 D0       	jr	l_game_print_lives_00101
2238  07B9              l_game_print_lives_00105:
2239  07B9  21 00 00    	ld	hl,_screen_ink
2240  07BC  36 05       	ld	(hl),0x05
2241  07BE  21 0D 00    	ld	hl,___str_3
2242  07C1  E5          	push	hl
2243  07C2  21 16 00    	ld	hl,0x0016
2244  07C5  E5          	push	hl
2245  07C6  CD 00 00    	call	_zx_print_str
2246  07C9  3A 00 00    	ld	a,(_player_lives)
2247  07CC  F5          	push	af
2248  07CD  33          	inc	sp
2249  07CE  21 16 04    	ld	hl,0x0416
2250  07D1  E5          	push	hl
2251  07D2  CD 00 00    	call	_zx_print_chr
2252  07D5              l_game_print_lives_00107:
2253  07D5  C9          	ret
2254  07D6              	SECTION rodata_compiler
2255  000B              ___str_2:
2256  000B  3C          	DEFM "<"
2257  000C  00          	DEFB 0x00
2258  000D              	SECTION rodata_compiler
2259  000D              ___str_3:
2260  000D  3C 20 78    	DEFM "< x"
2261  0010  00          	DEFB 0x00
2262  0011              	SECTION code_compiler
2263  07D6              ;	---------------------------------
2264  07D6              ; Function game_cls
2265  07D6              ; ---------------------------------
2266  07D6              _game_cls:
2267  07D6  CD 00 00    	call	_NIRVANAP_stop
2268  07D9  F3          	di
2269  07DA  2E 00       	ld	l,0x00
2270  07DC  CD 00 00    	call	_zx_cls_fastcall
2271  07DF  2E 00       	ld	l,0x00
2272  07E1  CD 00 00    	call	_zx_border_fastcall
2273  07E4  21 00 00    	ld	hl,_v0
2274  07E7  36 00       	ld	(hl),0x00
2275  07E9              l_game_cls_00104:
2276  07E9  3E 08       	ld	a,0x08
2277  07EB  21 00 00    	ld	hl,_v0
2278  07EE  96          	sub	a, (hl)
2279  07EF  38 32       	jr	C,l_game_cls_00106
2280  07F1  21 00 00    	ld	hl,_v1
2281  07F4  36 00       	ld	(hl),0x00
2282  07F6              l_game_cls_00101:
2283  07F6  3A 00 00    	ld	a,(_v1)
2284  07F9  D6 1F       	sub	a,0x1f
2285  07FB  30 20       	jr	NC,l_game_cls_00103
2286  07FD  3A 00 00    	ld	a,(_v0)
2287  0800  07          	rlca
2288  0801  07          	rlca
2289  0802  07          	rlca
2290  0803  07          	rlca
2291  0804  E6 F0       	and	a,0xf0
2292  0806  C6 08       	add	a,0x08
2293  0808  47          	ld	b, a
2294  0809  3A 00 00    	ld	a,(_v1)
2295  080C  48          	ld	c,b
2296  080D  47          	ld	b,a
2297  080E  C5          	push	bc
2298  080F  3E 5E       	ld	a,0x5e
2299  0811  F5          	push	af
2300  0812  33          	inc	sp
2301  0813  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2302  0816  21 00 00    	ld	hl,_v1
2303  0819  34          	inc	(hl)
2304  081A  34          	inc	(hl)
2305  081B  18 D9       	jr	l_game_cls_00101
2306  081D              l_game_cls_00103:
2307  081D  21 00 00    	ld	hl,_v0
2308  0820  34          	inc	(hl)
2309  0821  18 C6       	jr	l_game_cls_00104
2310  0823              l_game_cls_00106:
2311  0823  FB          	ei
2312  0824  CD 00 00    	call	_NIRVANAP_start
2313  0827  21 00 00    	ld	hl,_v0
2314  082A  36 00       	ld	(hl),0x00
2315  082C              l_game_cls_00107:
2316  082C  3E 07       	ld	a,0x07
2317  082E  21 00 00    	ld	hl,_v0
2318  0831  96          	sub	a, (hl)
2319  0832  D8          	ret	C
2320  0833  21 00 00    	ld	hl,0x0000
2321  0836  E5          	push	hl
2322  0837  2A 00 00    	ld	hl,(_v0)
2323  083A  26 5E       	ld	h,0x5e
2324  083C  E5          	push	hl
2325  083D  CD 00 00    	call	_NIRVANAP_spriteT_callee
2326  0840  21 00 00    	ld	hl,_v0
2327  0843  34          	inc	(hl)
2328  0844  18 E6       	jr	l_game_cls_00107
2329  0846              	SECTION code_compiler
2330  0846              ;	---------------------------------
2331  0846              ; Function game_start_timer
2332  0846              ; ---------------------------------
2333  0846              _game_start_timer:
2334  0846  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
2335  0849  36 CD       	ld	(hl),0xcd
2336  084B  23          	inc	hl
2337  084C  11 00 00    	ld	de,_game_tick
2338  084F  73          	ld	(hl), e
2339  0850  23          	inc	hl
2340  0851  72          	ld	(hl), d
2341  0852  C9          	ret
2342  0853              	SECTION code_compiler
2343  0853              ;	---------------------------------
2344  0853              ; Function game_anim_air
2345  0853              ; ---------------------------------
2346  0853              _game_anim_air:
2347  0853  2A 00 00    	ld	hl,(_air_curr_byte)
2348  0856  7E          	ld	a,(hl)
2349  0857  B7          	or	a,a
2350  0858  20 35       	jr	NZ,l_game_anim_air_00108
2351  085A  ED 4B 00 00 	ld	bc,(_air_curr_byte)
2352  085E  ED 5B 00 00 	ld	de,(_air_end_byte)
2353  0862  7B          	ld	a,e
2354  0863  91          	sub	a,c
2355  0864  7A          	ld	a,d
2356  0865  98          	sbc	a,b
2357  0866  30 20       	jr	NC,l_game_anim_air_00105
2358  0868  2A 00 00    	ld	hl,(_air_curr_byte)
2359  086B  2B          	dec	hl
2360  086C  22 00 00    	ld	(_air_curr_byte),hl
2361  086F  3A 00 00    	ld	a,(_game_round_up)
2362  0872  B7          	or	a,a
2363  0873  20 1A       	jr	NZ,l_game_anim_air_00108
2364  0875  ED 4B 00 00 	ld	bc,(_air_curr_byte)
2365  0879  79          	ld	a,c
2366  087A  D6 49       	sub	a,0x49
2367  087C  20 11       	jr	NZ,l_game_anim_air_00108
2368  087E  78          	ld	a, b
2369  087F  D6 52       	sub	a,0x52
2370  0881  20 0C       	jr	NZ,l_game_anim_air_00108
2371  0883  CD 00 00    	call	_audio_time
2372  0886  18 07       	jr	l_game_anim_air_00108
2373  0888              l_game_anim_air_00105:
2374  0888  01 08 00    	ld	bc,_state+8
2375  088B  0A          	ld	a, (bc)
2376  088C  F6 20       	or	a,0x20
2377  088E  02          	ld	(bc), a
2378  088F              l_game_anim_air_00108:
2379  088F  ED 4B 00 00 	ld	bc,(_air_curr_byte)
2380  0893  0A          	ld	a,(bc)
2381  0894  87          	add	a, a
2382  0895  32 00 00    	ld	(_v0),a
2383  0898  02          	ld	(bc), a
2384  0899  2A 00 00    	ld	hl,(_air_curr_byte)
2385  089C  01 00 01    	ld	bc,0x0100
2386  089F  09          	add	hl,bc
2387  08A0  3A 00 00    	ld	a,(_v0)
2388  08A3  77          	ld	(hl),a
2389  08A4  2A 00 00    	ld	hl,(_air_curr_byte)
2390  08A7  01 00 02    	ld	bc,0x0200
2391  08AA  09          	add	hl,bc
2392  08AB  3A 00 00    	ld	a,(_v0)
2393  08AE  77          	ld	(hl),a
2394  08AF  2A 00 00    	ld	hl,(_air_curr_byte)
2395  08B2  01 00 03    	ld	bc,0x0300
2396  08B5  09          	add	hl,bc
2397  08B6  3A 00 00    	ld	a,(_v0)
2398  08B9  77          	ld	(hl),a
2399  08BA  C9          	ret
2400  08BB              	SECTION code_compiler
2401  08BB              ;	---------------------------------
2402  08BB              ; Function game_anim_conveyor
2403  08BB              ; ---------------------------------
2404  08BB              _game_anim_conveyor:
2405  08BB  CD 00 00    	call	___sdcc_enter_ix
2406  08BE  F5          	push	af
2407  08BF  F5          	push	af
2408  08C0  3B          	dec	sp
2409  08C1  01 60 00    	ld	bc,_btiles+96
2410  08C4  3A 00 00    	ld	a,(_game_conveyor_lin)
2411  08C7  32 00 00    	ld	(_i),a
2412  08CA  C6 08       	add	a,0x08
2413  08CC  DD 77 FB    	ld	(ix-5),a
2414  08CF  0A          	ld	a, (bc)
2415  08D0  5F          	ld	e, a
2416  08D1  3A 00 00    	ld	a,(_game_conveyor_dir)
2417  08D4  3D          	dec	a
2418  08D5  20 14       	jr	NZ,l_game_anim_conveyor_00102
2419  08D7  7B          	ld	a, e
2420  08D8  87          	add	a, a
2421  08D9  57          	ld	d, a
2422  08DA  7B          	ld	a, e
2423  08DB  07          	rlca
2424  08DC  E6 01       	and	a,0x01
2425  08DE  B2          	or	a, d
2426  08DF  57          	ld	d,a
2427  08E0  02          	ld	(bc),a
2428  08E1  87          	add	a, a
2429  08E2  5F          	ld	e, a
2430  08E3  7A          	ld	a, d
2431  08E4  07          	rlca
2432  08E5  E6 01       	and	a,0x01
2433  08E7  B3          	or	a, e
2434  08E8  02          	ld	(bc), a
2435  08E9  18 14       	jr	l_game_anim_conveyor_00121
2436  08EB              l_game_anim_conveyor_00102:
2437  08EB  7B          	ld	a, e
2438  08EC  0F          	rrca
2439  08ED  E6 80       	and	a,0x80
2440  08EF  6F          	ld	l, a
2441  08F0  7B          	ld	a,e
2442  08F1  CB 3F       	srl	a
2443  08F3  B5          	or	a, l
2444  08F4  5F          	ld	e,a
2445  08F5  02          	ld	(bc),a
2446  08F6  0F          	rrca
2447  08F7  E6 80       	and	a,0x80
2448  08F9  6F          	ld	l, a
2449  08FA  CB 3B       	srl	e
2450  08FC  7D          	ld	a, l
2451  08FD  B3          	or	a, e
2452  08FE  02          	ld	(bc), a
2453  08FF              l_game_anim_conveyor_00121:
2454  08FF              l_game_anim_conveyor_00112:
2455  08FF  3A 00 00    	ld	a,(_i)
2456  0902  DD 96 FB    	sub	a,(ix-5)
2457  0905  D2 8E 09    	jp	NC, l_game_anim_conveyor_00115
2458  0908  3A 00 00    	ld	a,(_game_conveyor_col0)
2459  090B  DD 77 FC    	ld	(ix-4),a
2460  090E  2A 00 00    	ld	hl,(_i)
2461  0911  CD 00 00    	call	_zx_py2saddr_fastcall
2462  0914  EB          	ex	de,hl
2463  0915  7B          	ld	a, e
2464  0916  DD 86 FC    	add	a,(ix-4)
2465  0919  5F          	ld	e, a
2466  091A  7A          	ld	a, d
2467  091B  CE 00       	adc	a,0x00
2468  091D  57          	ld	d, a
2469  091E  DD 7E FC    	ld	a,(ix-4)
2470  0921  DD 77 FF    	ld	(ix-1),a
2471  0924              l_game_anim_conveyor_00104:
2472  0924  DD 7E FF    	ld	a,(ix-1)
2473  0927  21 00 00    	ld	hl,_game_conveyor_col1
2474  092A  96          	sub	a, (hl)
2475  092B  30 08       	jr	NC,l_game_anim_conveyor_00106
2476  092D  0A          	ld	a, (bc)
2477  092E  12          	ld	(de), a
2478  092F  13          	inc	de
2479  0930  DD 34 FF    	inc	(ix-1)
2480  0933  18 EF       	jr	l_game_anim_conveyor_00104
2481  0935              l_game_anim_conveyor_00106:
2482  0935  03          	inc	bc
2483  0936  03          	inc	bc
2484  0937  21 00 00    	ld	hl,_i
2485  093A  34          	inc	(hl)
2486  093B  3A 00 00    	ld	a,(_game_conveyor_lin)
2487  093E  5F          	ld	e,a
2488  093F  16 00       	ld	d,0x00
2489  0941  13          	inc	de
2490  0942  13          	inc	de
2491  0943  DD 73 FD    	ld	(ix-3),e
2492  0946  DD 72 FE    	ld	(ix-2),d
2493  0949  3A 00 00    	ld	a,(_i)
2494  094C  5F          	ld	e,a
2495  094D  16 00       	ld	d,0x00
2496  094F  DD 7E FD    	ld	a,(ix-3)
2497  0952  93          	sub	a, e
2498  0953  20 AA       	jr	NZ,l_game_anim_conveyor_00112
2499  0955  DD 7E FE    	ld	a,(ix-2)
2500  0958  92          	sub	a, d
2501  0959  20 A4       	jr	NZ,l_game_anim_conveyor_00112
2502  095B  0A          	ld	a, (bc)
2503  095C  5F          	ld	e, a
2504  095D  3A 00 00    	ld	a,(_game_conveyor_dir)
2505  0960  3D          	dec	a
2506  0961  20 16       	jr	NZ,l_game_anim_conveyor_00108
2507  0963  7B          	ld	a, e
2508  0964  0F          	rrca
2509  0965  E6 80       	and	a,0x80
2510  0967  57          	ld	d, a
2511  0968  CB 3B       	srl	e
2512  096A  7A          	ld	a, d
2513  096B  B3          	or	a, e
2514  096C  57          	ld	d,a
2515  096D  02          	ld	(bc),a
2516  096E  0F          	rrca
2517  096F  E6 80       	and	a,0x80
2518  0971  5F          	ld	e, a
2519  0972  CB 3A       	srl	d
2520  0974  7B          	ld	a, e
2521  0975  B2          	or	a, d
2522  0976  02          	ld	(bc), a
2523  0977  18 86       	jr	l_game_anim_conveyor_00112
2524  0979              l_game_anim_conveyor_00108:
2525  0979  7B          	ld	a, e
2526  097A  87          	add	a, a
2527  097B  57          	ld	d, a
2528  097C  7B          	ld	a, e
2529  097D  07          	rlca
2530  097E  E6 01       	and	a,0x01
2531  0980  B2          	or	a, d
2532  0981  5F          	ld	e,a
2533  0982  02          	ld	(bc),a
2534  0983  87          	add	a, a
2535  0984  57          	ld	d, a
2536  0985  7B          	ld	a, e
2537  0986  07          	rlca
2538  0987  E6 01       	and	a,0x01
2539  0989  B2          	or	a, d
2540  098A  02          	ld	(bc), a
2541  098B  C3 FF 08    	jp	l_game_anim_conveyor_00112
2542  098E              l_game_anim_conveyor_00115:
2543  098E  DD F9       	ld	sp, ix
2544  0990  DD E1       	pop	ix
2545  0992  C9          	ret
2546  0993              	SECTION code_compiler
2547  0993              ;	---------------------------------
2548  0993              ; Function game_round_init
2549  0993              ; ---------------------------------
2550  0993              _game_round_init:
2551  0993  CD 00 00    	call	___sdcc_enter_ix
2552  0996  21 DB FF    	ld	hl, -37
2553  0999  39          	add	hl, sp
2554  099A  F9          	ld	sp, hl
2555  099B  CD 00 00    	call	_ay_reset
2556  099E  2E 00       	ld	l,0x00
2557  09A0  CD 00 00    	call	_zx_border_fastcall
2558  09A3  21 00 00    	ld	hl,_screen_ink
2559  09A6  36 00       	ld	(hl),0x00
2560  09A8  21 00 20    	ld	hl,0x2000
2561  09AB  E5          	push	hl
2562  09AC  CD 00 00    	call	_game_fill_row
2563  09AF  21 11 20    	ld	hl,0x2011
2564  09B2  E5          	push	hl
2565  09B3  CD 00 00    	call	_game_fill_row
2566  09B6  21 12 20    	ld	hl,0x2012
2567  09B9  E5          	push	hl
2568  09BA  CD 00 00    	call	_game_fill_row
2569  09BD  21 14 20    	ld	hl,0x2014
2570  09C0  E5          	push	hl
2571  09C1  CD 00 00    	call	_game_fill_row
2572  09C4  21 16 20    	ld	hl,0x2016
2573  09C7  E5          	push	hl
2574  09C8  CD 00 00    	call	_game_fill_row
2575  09CB  CD 00 00    	call	_spr_clear_scr
2576  09CE  76          	halt
2577  09CF  CD 00 00    	call	_NIRVANAP_stop
2578  09D2  F3          	di
2579  09D3  21 00 00    	ld	hl,_scr_curr
2580  09D6  46          	ld	b, (hl)
2581  09D7  C5          	push	bc
2582  09D8  3E 06       	ld	a,0x06
2583  09DA  F5          	push	af
2584  09DB  33          	inc	sp
2585  09DC  CD 71 13    	call	_page
2586  09DF  33          	inc	sp
2587  09E0  C1          	pop	bc
2588  09E1  11 00 00    	ld	de,_game_borders0+0
2589  09E4  68          	ld	l,b
2590  09E5  26 00       	ld	h,0x00
2591  09E7  19          	add	hl, de
2592  09E8  4E          	ld	c, (hl)
2593  09E9  11 00 00    	ld	de,_map_names0+0
2594  09EC  68          	ld	l, b
2595  09ED  26 00       	ld	h,0x00
2596  09EF  29          	add	hl, hl
2597  09F0  29          	add	hl, hl
2598  09F1  29          	add	hl, hl
2599  09F2  29          	add	hl, hl
2600  09F3  29          	add	hl, hl
2601  09F4  19          	add	hl,de
2602  09F5  EB          	ex	de,hl
2603  09F6  21 00 00    	ld	hl,0x0000
2604  09F9  39          	add	hl, sp
2605  09FA  DD 75 FC    	ld	(ix-4),l
2606  09FD  DD 74 FD    	ld	(ix-3),h
2607  0A00  C5          	push	bc
2608  0A01  EB          	ex	de, hl
2609  0A02  01 20 00    	ld	bc,0x0020
2610  0A05  ED B0       	ldir
2611  0A07  C1          	pop	bc
2612  0A08  78          	ld	a, b
2613  0A09  D6 14       	sub	a,0x14
2614  0A0B  3E 00       	ld	a,0x00
2615  0A0D  17          	rla
2616  0A0E  47          	ld	b,a
2617  0A0F  B7          	or	a, a
2618  0A10  28 05       	jr	Z,l_game_round_init_00102
2619  0A12  11 00 00    	ld	de,_tile_class1+0
2620  0A15  18 03       	jr	l_game_round_init_00103
2621  0A17              l_game_round_init_00102:
2622  0A17  11 00 00    	ld	de,_tile_class2
2623  0A1A              l_game_round_init_00103:
2624  0A1A  21 00 00    	ld	hl,_tile_class
2625  0A1D  C5          	push	bc
2626  0A1E  EB          	ex	de, hl
2627  0A1F  01 20 00    	ld	bc,0x0020
2628  0A22  ED B0       	ldir
2629  0A24  C1          	pop	bc
2630  0A25  78          	ld	a, b
2631  0A26  B7          	or	a, a
2632  0A27  28 05       	jr	Z,l_game_round_init_00105
2633  0A29  11 00 00    	ld	de,_spr_init1+0
2634  0A2C  18 03       	jr	l_game_round_init_00106
2635  0A2E              l_game_round_init_00105:
2636  0A2E  11 00 00    	ld	de,_spr_init2
2637  0A31              l_game_round_init_00106:
2638  0A31  21 00 00    	ld	hl,_spr_init
2639  0A34  C5          	push	bc
2640  0A35  EB          	ex	de, hl
2641  0A36  01 0E 01    	ld	bc,0x010e
2642  0A39  ED B0       	ldir
2643  0A3B  AF          	xor	a, a
2644  0A3C  F5          	push	af
2645  0A3D  33          	inc	sp
2646  0A3E  CD 71 13    	call	_page
2647  0A41  33          	inc	sp
2648  0A42  C1          	pop	bc
2649  0A43  DD 7E FC    	ld	a,(ix-4)
2650  0A46  C6 20       	add	a,0x20
2651  0A48  5F          	ld	e, a
2652  0A49  DD 7E FD    	ld	a,(ix-3)
2653  0A4C  CE 00       	adc	a,0x00
2654  0A4E  57          	ld	d, a
2655  0A4F  AF          	xor	a, a
2656  0A50  12          	ld	(de), a
2657  0A51  21 00 00    	ld	hl,_map_border
2658  0A54  71          	ld	(hl), c
2659  0A55  21 00 00    	ld	hl,0x0000
2660  0A58  22 00 00    	ld	(_loop_count),hl
2661  0A5B  21 00 00    	ld	hl,0
2662  0A5E  22 00 00    	ld	(_curr_time),hl
2663  0A61  21 00 00    	ld	hl,0x0000
2664  0A64  22 00 00    	ld	(_frame_time),hl
2665  0A67  21 00 00    	ld	hl,_player_coins
2666  0A6A  36 00       	ld	(hl),0x00
2667  0A6C  2A 00 00    	ld	hl,(_air_start_byte)
2668  0A6F  22 00 00    	ld	(_air_curr_byte),hl
2669  0A72  21 00 00    	ld	hl,_key_last
2670  0A75  36 00       	ld	(hl),0x00
2671  0A77  21 00 00    	ld	hl,_key_ink
2672  0A7A  36 06       	ld	(hl),0x06
2673  0A7C  0E 00       	ld	c,0x00
2674  0A7E              l_game_round_init_00107:
2675  0A7E  79          	ld	a, c
2676  0A7F  D6 05       	sub	a,0x05
2677  0A81  30 13       	jr	NC,l_game_round_init_00109
2678  0A83  06 00       	ld	b,0x00
2679  0A85  21 00 00    	ld	hl,_obj_col
2680  0A88  09          	add	hl, bc
2681  0A89  36 FF       	ld	(hl),0xff
2682  0A8B  06 00       	ld	b,0x00
2683  0A8D  21 00 00    	ld	hl,_obj_lin
2684  0A90  09          	add	hl, bc
2685  0A91  36 FF       	ld	(hl),0xff
2686  0A93  0C          	inc	c
2687  0A94  18 E8       	jr	l_game_round_init_00107
2688  0A96              l_game_round_init_00109:
2689  0A96  3A 00 00    	ld	a,(_scr_curr)
2690  0A99  D6 14       	sub	a,0x14
2691  0A9B  30 1B       	jr	NC,l_game_round_init_00111
2692  0A9D  21 00 00    	ld	hl,_game_tileset
2693  0AA0  36 00       	ld	(hl),0x00
2694  0AA2  21 00 00    	ld	hl,_game_mode
2695  0AA5  36 00       	ld	(hl),0x00
2696  0AA7  21 00 00    	ld	hl,_game_crumb_start
2697  0AAA  36 14       	ld	(hl),0x14
2698  0AAC  21 00 00    	ld	hl,_game_crumb_end
2699  0AAF  36 1A       	ld	(hl),0x1a
2700  0AB1  21 00 00    	ld	hl,_lapse_crumb
2701  0AB4  36 03       	ld	(hl),0x03
2702  0AB6  18 19       	jr	l_game_round_init_00112
2703  0AB8              l_game_round_init_00111:
2704  0AB8  21 00 00    	ld	hl,_game_tileset
2705  0ABB  36 01       	ld	(hl),0x01
2706  0ABD  21 00 00    	ld	hl,_game_mode
2707  0AC0  36 01       	ld	(hl),0x01
2708  0AC2  21 00 00    	ld	hl,_game_crumb_start
2709  0AC5  36 09       	ld	(hl),0x09
2710  0AC7  21 00 00    	ld	hl,_game_crumb_end
2711  0ACA  36 0B       	ld	(hl),0x0b
2712  0ACC  21 00 00    	ld	hl,_lapse_crumb
2713  0ACF  36 04       	ld	(hl),0x04
2714  0AD1              l_game_round_init_00112:
2715  0AD1  CD C8 0E    	call	_game_page_map
2716  0AD4  CD FA 10    	call	_game_copy_sprite_color_reset
2717  0AD7  CD E8 0C    	call	_game_color_hacks
2718  0ADA  21 00 08    	ld	hl,0x0800
2719  0ADD  E5          	push	hl
2720  0ADE  CD 28 11    	call	_game_copy_sprite_std
2721  0AE1  F1          	pop	af
2722  0AE2  7D          	ld	a,l
2723  0AE3  32 00 00    	ld	(_game_tile_cnt),a
2724  0AE6  3A 00 00    	ld	a,(_map_paper)
2725  0AE9  21 00 00    	ld	hl,_key_ink
2726  0AEC  B6          	or	a, (hl)
2727  0AED  32 00 00    	ld	(_key_attrib),a
2728  0AF0  32 01 00    	ld	((_key_attrib + 0x0001)),a
2729  0AF3  32 02 00    	ld	((_key_attrib + 0x0002)),a
2730  0AF6  32 03 00    	ld	((_key_attrib + 0x0003)),a
2731  0AF9  21 00 00    	ld	hl,_game_song_play_start
2732  0AFC  36 00       	ld	(hl),0x00
2733  0AFE  FB          	ei
2734  0AFF  CD 00 00    	call	_NIRVANAP_start
2735  0B02  76          	halt
2736  0B03  3A 00 00    	ld	a,(_game_debug)
2737  0B06  B7          	or	a, a
2738  0B07  C2 01 0C    	jp	NZ, l_game_round_init_00124
2739  0B0A  3A 00 00    	ld	a,(_game_atrac)
2740  0B0D  B7          	or	a, a
2741  0B0E  C2 01 0C    	jp	NZ, l_game_round_init_00124
2742  0B11  CD 00 00    	call	_audio_round_init
2743  0B14  21 0A 20    	ld	hl,0x200a
2744  0B17  E5          	push	hl
2745  0B18  CD 00 00    	call	_game_fill_row
2746  0B1B  21 00 00    	ld	hl,_s_col0
2747  0B1E  36 01       	ld	(hl),0x01
2748  0B20  21 00 00    	ld	hl,_v0
2749  0B23  36 00       	ld	(hl),0x00
2750  0B25  DD 7E FC    	ld	a,(ix-4)
2751  0B28  DD 77 FE    	ld	(ix-2),a
2752  0B2B  DD 7E FD    	ld	a,(ix-3)
2753  0B2E  DD 77 FF    	ld	(ix-1),a
2754  0B31              l_game_round_init_00120:
2755  0B31  21 00 00    	ld	hl,_s_col0
2756  0B34  7E          	ld	a, (hl)
2757  0B35  D6 1E       	sub	a,0x1e
2758  0B37  D2 FB 0B    	jp	NC, l_game_round_init_00122
2759  0B3A  7E          	ld	a, (hl)
2760  0B3B  B7          	or	a, a
2761  0B3C  28 2B       	jr	Z,l_game_round_init_00114
2762  0B3E  46          	ld	b, (hl)
2763  0B3F  05          	dec	b
2764  0B40  3E 58       	ld	a,0x58
2765  0B42  F5          	push	af
2766  0B43  33          	inc	sp
2767  0B44  7E          	ld	a, (hl)
2768  0B45  48          	ld	c,b
2769  0B46  47          	ld	b,a
2770  0B47  C5          	push	bc
2771  0B48  21 00 00    	ld	hl,_attrib
2772  0B4B  E5          	push	hl
2773  0B4C  CD B5 0D    	call	_game_paint_attrib
2774  0B4F  F1          	pop	af
2775  0B50  F1          	pop	af
2776  0B51  33          	inc	sp
2777  0B52  21 00 00    	ld	hl,_s_col0
2778  0B55  46          	ld	b, (hl)
2779  0B56  05          	dec	b
2780  0B57  3E 60       	ld	a,0x60
2781  0B59  F5          	push	af
2782  0B5A  33          	inc	sp
2783  0B5B  7E          	ld	a, (hl)
2784  0B5C  48          	ld	c,b
2785  0B5D  47          	ld	b,a
2786  0B5E  C5          	push	bc
2787  0B5F  21 00 00    	ld	hl,_attrib
2788  0B62  E5          	push	hl
2789  0B63  CD B5 0D    	call	_game_paint_attrib
2790  0B66  F1          	pop	af
2791  0B67  F1          	pop	af
2792  0B68  33          	inc	sp
2793  0B69              l_game_round_init_00114:
2794  0B69  21 00 00    	ld	hl,_scr_curr
2795  0B6C  7E          	ld	a, (hl)
2796  0B6D  D6 14       	sub	a,0x14
2797  0B6F  38 19       	jr	C,l_game_round_init_00116
2798  0B71  7E          	ld	a, (hl)
2799  0B72  C6 ED       	add	a,0xed
2800  0B74  F5          	push	af
2801  0B75  33          	inc	sp
2802  0B76  21 0A 11    	ld	hl,0x110a
2803  0B79  E5          	push	hl
2804  0B7A  CD 00 00    	call	_zx_print_chr
2805  0B7D  21 11 00    	ld	hl,___str_4
2806  0B80  E5          	push	hl
2807  0B81  21 0A 15    	ld	hl,0x150a
2808  0B84  E5          	push	hl
2809  0B85  CD 00 00    	call	_zx_print_str
2810  0B88  18 19       	jr	l_game_round_init_00117
2811  0B8A              l_game_round_init_00116:
2812  0B8A  21 00 00    	ld	hl,_scr_curr
2813  0B8D  46          	ld	b, (hl)
2814  0B8E  04          	inc	b
2815  0B8F  C5          	push	bc
2816  0B90  33          	inc	sp
2817  0B91  21 0A 11    	ld	hl,0x110a
2818  0B94  E5          	push	hl
2819  0B95  CD 00 00    	call	_zx_print_chr
2820  0B98  21 13 00    	ld	hl,___str_5
2821  0B9B  E5          	push	hl
2822  0B9C  21 0A 15    	ld	hl,0x150a
2823  0B9F  E5          	push	hl
2824  0BA0  CD 00 00    	call	_zx_print_str
2825  0BA3              l_game_round_init_00117:
2826  0BA3  21 15 00    	ld	hl,___str_6
2827  0BA6  E5          	push	hl
2828  0BA7  21 0A 0B    	ld	hl,0x0b0a
2829  0BAA  E5          	push	hl
2830  0BAB  CD 00 00    	call	_zx_print_str
2831  0BAE  DD 4E FE    	ld	c,(ix-2)
2832  0BB1  DD 46 FF    	ld	b,(ix-1)
2833  0BB4  C5          	push	bc
2834  0BB5  21 0B 00    	ld	hl,0x000b
2835  0BB8  E5          	push	hl
2836  0BB9  CD 00 00    	call	_zx_print_str
2837  0BBC  21 00 00    	ld	hl,_v0
2838  0BBF  34          	inc	(hl)
2839  0BC0  21 01 00    	ld	hl,0x0001
2840  0BC3  CD 00 00    	call	_z80_delay_ms_fastcall
2841  0BC6  76          	halt
2842  0BC7  3A 00 00    	ld	a,(_v0)
2843  0BCA  D6 03       	sub	a,0x03
2844  0BCC  20 15       	jr	NZ,l_game_round_init_00119
2845  0BCE  3A 00 00    	ld	a,(_s_col0)
2846  0BD1  F5          	push	af
2847  0BD2  33          	inc	sp
2848  0BD3  21 5E 58    	ld	hl,0x585e
2849  0BD6  E5          	push	hl
2850  0BD7  CD 00 00    	call	_NIRVANAP_drawT_callee
2851  0BDA  21 00 00    	ld	hl,_s_col0
2852  0BDD  34          	inc	(hl)
2853  0BDE  21 00 00    	ld	hl,_v0
2854  0BE1  36 00       	ld	(hl),0x00
2855  0BE3              l_game_round_init_00119:
2856  0BE3  3A 00 00    	ld	a,(_v0)
2857  0BE6  C6 08       	add	a,0x08
2858  0BE8  47          	ld	b, a
2859  0BE9  3A 00 00    	ld	a,(_s_col0)
2860  0BEC  57          	ld	d,a
2861  0BED  1E 58       	ld	e,0x58
2862  0BEF  D5          	push	de
2863  0BF0  C5          	push	bc
2864  0BF1  33          	inc	sp
2865  0BF2  AF          	xor	a, a
2866  0BF3  F5          	push	af
2867  0BF4  33          	inc	sp
2868  0BF5  CD 00 00    	call	_NIRVANAP_spriteT_callee
2869  0BF8  C3 31 0B    	jp	l_game_round_init_00120
2870  0BFB              l_game_round_init_00122:
2871  0BFB  CD 00 00    	call	_ay_reset
2872  0BFE  CD 00 00    	call	_spr_clear_scr
2873  0C01              l_game_round_init_00124:
2874  0C01  CD DE 01    	call	_game_draw_map
2875  0C04  3A 00 00    	ld	a,(_game_atrac)
2876  0C07  B7          	or	a, a
2877  0C08  20 03       	jr	NZ,l_game_round_init_00127
2878  0C0A  CD 00 00    	call	_audio_ingame
2879  0C0D              l_game_round_init_00127:
2880  0C0D  AF          	xor	a, a
2881  0C0E  F5          	push	af
2882  0C0F  33          	inc	sp
2883  0C10  CD C1 10    	call	_game_flash_exit
2884  0C13  33          	inc	sp
2885  0C14  2A 00 00    	ld	hl,(_map_border)
2886  0C17  CD 00 00    	call	_zx_border_fastcall
2887  0C1A  21 00 00    	ld	hl,_map_border
2888  0C1D  7E          	ld	a, (hl)
2889  0C1E  07          	rlca
2890  0C1F  07          	rlca
2891  0C20  07          	rlca
2892  0C21  E6 F8       	and	a,0xf8
2893  0C23  B6          	or	a, (hl)
2894  0C24  32 00 00    	ld	(_screen_ink),a
2895  0C27  21 00 20    	ld	hl,0x2000
2896  0C2A  E5          	push	hl
2897  0C2B  CD 00 00    	call	_game_fill_row
2898  0C2E  3A 00 00    	ld	a,(_game_over)
2899  0C31  B7          	or	a, a
2900  0C32  20 17       	jr	NZ,l_game_round_init_00129
2901  0C34  2A 00 00    	ld	hl,(_player_col_scr)
2902  0C37  26 08       	ld	h,0x08
2903  0C39  3A 00 00    	ld	a,(_player_lin_scr)
2904  0C3C  E5          	push	hl
2905  0C3D  F5          	push	af
2906  0C3E  33          	inc	sp
2907  0C3F  CD 00 00    	call	_player_init
2908  0C42  F1          	pop	af
2909  0C43  33          	inc	sp
2910  0C44  01 08 00    	ld	bc,_state+8
2911  0C47  0A          	ld	a, (bc)
2912  0C48  E6 DF       	and	a,0xdf
2913  0C4A  02          	ld	(bc), a
2914  0C4B              l_game_round_init_00129:
2915  0C4B  21 00 00    	ld	hl,_screen_ink
2916  0C4E  36 30       	ld	(hl),0x30
2917  0C50  21 11 20    	ld	hl,0x2011
2918  0C53  E5          	push	hl
2919  0C54  CD 00 00    	call	_game_fill_row
2920  0C57  DD 4E FC    	ld	c,(ix-4)
2921  0C5A  DD 46 FD    	ld	b,(ix-3)
2922  0C5D  C5          	push	bc
2923  0C5E  21 11 00    	ld	hl,0x0011
2924  0C61  E5          	push	hl
2925  0C62  CD 00 00    	call	_zx_print_str
2926  0C65  21 00 00    	ld	hl,_screen_ink
2927  0C68  36 57       	ld	(hl),0x57
2928  0C6A  21 1B 00    	ld	hl,___str_7
2929  0C6D  E5          	push	hl
2930  0C6E  21 12 00    	ld	hl,0x0012
2931  0C71  E5          	push	hl
2932  0C72  CD 00 00    	call	_zx_print_str
2933  0C75  21 00 00    	ld	hl,_screen_ink
2934  0C78  36 67       	ld	(hl),0x67
2935  0C7A  21 26 00    	ld	hl,___str_8
2936  0C7D  E5          	push	hl
2937  0C7E  21 12 0A    	ld	hl,0x0a12
2938  0C81  E5          	push	hl
2939  0C82  CD 00 00    	call	_zx_print_str
2940  0C85  21 00 00    	ld	hl,_screen_ink
2941  0C88  36 06       	ld	(hl),0x06
2942  0C8A  21 3D 00    	ld	hl,___str_9
2943  0C8D  E5          	push	hl
2944  0C8E  21 14 00    	ld	hl,0x0014
2945  0C91  E5          	push	hl
2946  0C92  CD 00 00    	call	_zx_print_str
2947  0C95  CD 54 07    	call	_game_print_score
2948  0C98  CD 75 07    	call	_game_print_lives
2949  0C9B  21 00 00    	ld	hl,_screen_ink
2950  0C9E  36 07       	ld	(hl),0x07
2951  0CA0  21 00 00    	ld	hl,0x0000
2952  0CA3  22 00 00    	ld	(_fps),hl
2953  0CA6  3A 00 00    	ld	a,(_scr_curr)
2954  0CA9  D6 12       	sub	a,0x12
2955  0CAB  20 23       	jr	NZ,l_game_round_init_00134
2956  0CAD  21 00 00    	ld	hl,_v0
2957  0CB0  36 10       	ld	(hl),0x10
2958  0CB2              l_game_round_init_00130:
2959  0CB2  21 00 00    	ld	hl,_v0
2960  0CB5  7E          	ld	a, (hl)
2961  0CB6  D6 80       	sub	a,0x80
2962  0CB8  30 16       	jr	NC,l_game_round_init_00134
2963  0CBA  3E 17       	ld	a,0x17
2964  0CBC  F5          	push	af
2965  0CBD  33          	inc	sp
2966  0CBE  56          	ld	d, (hl)
2967  0CBF  1E 11       	ld	e,0x11
2968  0CC1  D5          	push	de
2969  0CC2  CD 00 00    	call	_spr_draw8
2970  0CC5  F1          	pop	af
2971  0CC6  33          	inc	sp
2972  0CC7  21 00 00    	ld	hl,_v0
2973  0CCA  7E          	ld	a, (hl)
2974  0CCB  C6 08       	add	a,0x08
2975  0CCD  77          	ld	(hl), a
2976  0CCE  18 E2       	jr	l_game_round_init_00130
2977  0CD0              l_game_round_init_00134:
2978  0CD0  3A 00 00    	ld	a,(_game_debug)
2979  0CD3  B7          	or	a, a
2980  0CD4  28 0C       	jr	Z,l_game_round_init_00136
2981  0CD6  3A 00 00    	ld	a,(_scr_curr)
2982  0CD9  F5          	push	af
2983  0CDA  33          	inc	sp
2984  0CDB  21 17 14    	ld	hl,0x1417
2985  0CDE  E5          	push	hl
2986  0CDF  CD 00 00    	call	_zx_print_chr
2987  0CE2              l_game_round_init_00136:
2988  0CE2  76          	halt
2989  0CE3  DD F9       	ld	sp, ix
2990  0CE5  DD E1       	pop	ix
2991  0CE7  C9          	ret
2992  0CE8              	SECTION rodata_compiler
2993  0011              ___str_4:
2994  0011  41          	DEFM "A"
2995  0012  00          	DEFB 0x00
2996  0013              	SECTION rodata_compiler
2997  0013              ___str_5:
2998  0013  42          	DEFM "B"
2999  0014  00          	DEFB 0x00
3000  0015              	SECTION rodata_compiler
3001  0015              ___str_6:
3002  0015  52 4F 55 4E 44 
                        	DEFM "ROUND"
3003  001A  00          	DEFB 0x00
3004  001B              	SECTION rodata_compiler
3005  001B              ___str_7:
3006  001B  41 49 52 20 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ------"
3007  0025  00          	DEFB 0x00
3008  0026              	SECTION rodata_compiler
3009  0026              ___str_8:
3010  0026  2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "----------------------"
3011  003C  00          	DEFB 0x00
3012  003D              	SECTION rodata_compiler
3013  003D              ___str_9:
3014  003D  48 69 67 68 20 53 63 6F 72 65 20 20 20 20 20 20 20 20 20 53 63 6F 72 65 20 20 20 20 20 20 
                        	DEFM "High Score         Score      "
3015  005B  00          	DEFB 0x00
3016  005C              	SECTION code_compiler
3017  0CE8              ;	---------------------------------
3018  0CE8              ; Function game_color_hacks
3019  0CE8              ; ---------------------------------
3020  0CE8              _game_color_hacks:
3021  0CE8  21 00 00    	ld	hl,_map_paper
3022  0CEB  CB 76       	bit	6, (hl)
3023  0CED  28 05       	jr	Z,l_game_color_hacks_00102
3024  0CEF  21 00 00    	ld	hl,_spr_init_bright
3025  0CF2  36 40       	ld	(hl),0x40
3026  0CF4              l_game_color_hacks_00102:
3027  0CF4  3A 00 00    	ld	a,(_scr_curr)
3028  0CF7  D6 14       	sub	a,0x14
3029  0CF9  30 24       	jr	NC,l_game_color_hacks_00112
3030  0CFB  3A 00 00    	ld	a,(_map_paper)
3031  0CFE  D6 10       	sub	a,0x10
3032  0D00  20 0A       	jr	NZ,l_game_color_hacks_00104
3033  0D02  21 00 00    	ld	hl,_spr_init_cin0
3034  0D05  36 02       	ld	(hl),0x02
3035  0D07  21 00 00    	ld	hl,_spr_init_cout0
3036  0D0A  36 03       	ld	(hl),0x03
3037  0D0C              l_game_color_hacks_00104:
3038  0D0C  3A 00 00    	ld	a,(_map_paper)
3039  0D0F  D6 20       	sub	a,0x20
3040  0D11  20 5F       	jr	NZ,l_game_color_hacks_00114
3041  0D13  21 00 00    	ld	hl,_spr_init_cin0
3042  0D16  36 05       	ld	(hl),0x05
3043  0D18  21 00 00    	ld	hl,_spr_init_cout0
3044  0D1B  36 01       	ld	(hl),0x01
3045  0D1D  18 53       	jr	l_game_color_hacks_00114
3046  0D1F              l_game_color_hacks_00112:
3047  0D1F  3A 00 00    	ld	a,(_map_paper)
3048  0D22  D6 08       	sub	a,0x08
3049  0D24  20 1E       	jr	NZ,l_game_color_hacks_00108
3050  0D26  21 00 00    	ld	hl,_spr_init_cin0
3051  0D29  36 01       	ld	(hl),0x01
3052  0D2B  21 00 00    	ld	hl,_spr_init_cout0
3053  0D2E  36 07       	ld	(hl),0x07
3054  0D30  21 00 00    	ld	hl,_spr_init_cin1
3055  0D33  36 02       	ld	(hl),0x02
3056  0D35  21 00 00    	ld	hl,_spr_init_cout1
3057  0D38  36 04       	ld	(hl),0x04
3058  0D3A  21 00 00    	ld	hl,_spr_init_cin2
3059  0D3D  36 16       	ld	(hl),0x16
3060  0D3F  21 00 00    	ld	hl,_spr_init_cout2
3061  0D42  36 27       	ld	(hl),0x27
3062  0D44              l_game_color_hacks_00108:
3063  0D44  3A 00 00    	ld	a,(_map_paper)
3064  0D47  D6 38       	sub	a,0x38
3065  0D49  C0          	ret	NZ
3066  0D4A  21 00 00    	ld	hl,_spr_init_cin0
3067  0D4D  36 06       	ld	(hl),0x06
3068  0D4F  21 00 00    	ld	hl,_spr_init_cout0
3069  0D52  36 00       	ld	(hl),0x00
3070  0D54  21 00 00    	ld	hl,_spr_init_cin1
3071  0D57  36 01       	ld	(hl),0x01
3072  0D59  21 00 00    	ld	hl,_spr_init_cout1
3073  0D5C  36 01       	ld	(hl),0x01
3074  0D5E  21 00 00    	ld	hl,_spr_init_cin2
3075  0D61  36 02       	ld	(hl),0x02
3076  0D63  21 00 00    	ld	hl,_spr_init_cout2
3077  0D66  36 03       	ld	(hl),0x03
3078  0D68  21 00 00    	ld	hl,_spr_init_cin3
3079  0D6B  36 16       	ld	(hl),0x16
3080  0D6D  21 00 00    	ld	hl,_spr_init_cout3
3081  0D70  36 08       	ld	(hl),0x08
3082  0D72              l_game_color_hacks_00114:
3083  0D72  C9          	ret
3084  0D73              	SECTION code_compiler
3085  0D73              ;	---------------------------------
3086  0D73              ; Function game_print_header
3087  0D73              ; ---------------------------------
3088  0D73              	defc _game_print_header	=	_game_print_score
3089  0D73              	SECTION code_compiler
3090  0D73              ;	---------------------------------
3091  0D73              ; Function game_check_map
3092  0D73              ; ---------------------------------
3093  0D73              _game_check_map:
3094  0D73  CD 00 00    	call	___sdcc_enter_ix
3095  0D76  DD 66 05    	ld	h,(ix+5)
3096  0D79  DD 6E 04    	ld	l,(ix+4)
3097  0D7C  E5          	push	hl
3098  0D7D  CD 00 00    	call	_spr_calc_index
3099  0D80  F1          	pop	af
3100  0D81  22 00 00    	ld	(_index1),hl
3101  0D84  21 00 00    	ld	hl,_index1
3102  0D87  DD E1       	pop	ix
3103  0D89  C3 8C 0D    	jp	_game_check_cell
3104  0D8C              	SECTION code_compiler
3105  0D8C              ;	---------------------------------
3106  0D8C              ; Function game_check_cell
3107  0D8C              ; ---------------------------------
3108  0D8C              _game_check_cell:
3109  0D8C  4E          	ld	c, (hl)
3110  0D8D  23          	inc	hl
3111  0D8E  46          	ld	b, (hl)
3112  0D8F  AF          	xor	a, a
3113  0D90  B9          	cp	a, c
3114  0D91  3E 02       	ld	a,0x02
3115  0D93  98          	sbc	a, b
3116  0D94  30 04       	jr	NC,l_game_check_cell_00102
3117  0D96  2E 01       	ld	l,0x01
3118  0D98  18 1A       	jr	l_game_check_cell_00106
3119  0D9A              l_game_check_cell_00102:
3120  0D9A  21 00 00    	ld	hl,_scr_map
3121  0D9D  09          	add	hl, bc
3122  0D9E  5E          	ld	e, (hl)
3123  0D9F  16 00       	ld	d,0x00
3124  0DA1  21 00 00    	ld	hl,_tile_class
3125  0DA4  19          	add	hl, de
3126  0DA5  5E          	ld	e, (hl)
3127  0DA6  ED 43 00 00 	ld	(_index1),bc
3128  0DAA  7B          	ld	a,e
3129  0DAB  D6 03       	sub	a,0x03
3130  0DAD  28 04       	jr	Z,l_game_check_cell_00104
3131  0DAF  2E 00       	ld	l,0x00
3132  0DB1  18 01       	jr	l_game_check_cell_00106
3133  0DB3              l_game_check_cell_00104:
3134  0DB3  6B          	ld	l, e
3135  0DB4              l_game_check_cell_00106:
3136  0DB4  C9          	ret
3137  0DB5              	SECTION code_compiler
3138  0DB5              ;	---------------------------------
3139  0DB5              ; Function game_paint_attrib
3140  0DB5              ; ---------------------------------
3141  0DB5              _game_paint_attrib:
3142  0DB5  CD 00 00    	call	___sdcc_enter_ix
3143  0DB8  DD 46 06    	ld	b,(ix+6)
3144  0DBB              l_game_paint_attrib_00103:
3145  0DBB  78          	ld	a, b
3146  0DBC  DD 96 07    	sub	a,(ix+7)
3147  0DBF  30 13       	jr	NC,l_game_paint_attrib_00105
3148  0DC1  DD 5E 04    	ld	e,(ix+4)
3149  0DC4  DD 56 05    	ld	d,(ix+5)
3150  0DC7  C5          	push	bc
3151  0DC8  DD 4E 08    	ld	c,(ix+8)
3152  0DCB  C5          	push	bc
3153  0DCC  D5          	push	de
3154  0DCD  CD 00 00    	call	_NIRVANAP_paintC_callee
3155  0DD0  C1          	pop	bc
3156  0DD1  04          	inc	b
3157  0DD2  18 E7       	jr	l_game_paint_attrib_00103
3158  0DD4              l_game_paint_attrib_00105:
3159  0DD4  DD E1       	pop	ix
3160  0DD6  C9          	ret
3161  0DD7              	SECTION code_compiler
3162  0DD7              ;	---------------------------------
3163  0DD7              ; Function game_check_time
3164  0DD7              ; ---------------------------------
3165  0DD7              _game_check_time:
3166  0DD7  CD 00 00    	call	___sdcc_enter_ix
3167  0DDA  2A 00 00    	ld	hl,(_curr_time)
3168  0DDD  4D          	ld	c, l
3169  0DDE  DD 6E 04    	ld	l,(ix+4)
3170  0DE1  44          	ld	b,h
3171  0DE2  DD 66 05    	ld	h,(ix+5)
3172  0DE5  5E          	ld	e, (hl)
3173  0DE6  23          	inc	hl
3174  0DE7  56          	ld	d, (hl)
3175  0DE8  79          	ld	a, c
3176  0DE9  93          	sub	a, e
3177  0DEA  4F          	ld	c, a
3178  0DEB  78          	ld	a, b
3179  0DEC  9A          	sbc	a, d
3180  0DED  47          	ld	b, a
3181  0DEE  DD 7E 06    	ld	a,(ix+6)
3182  0DF1  91          	sub	a, c
3183  0DF2  DD 7E 07    	ld	a,(ix+7)
3184  0DF5  98          	sbc	a, b
3185  0DF6  30 04       	jr	NC,l_game_check_time_00102
3186  0DF8  2E 01       	ld	l,0x01
3187  0DFA  18 02       	jr	l_game_check_time_00104
3188  0DFC              l_game_check_time_00102:
3189  0DFC  2E 00       	ld	l,0x00
3190  0DFE              l_game_check_time_00104:
3191  0DFE  DD E1       	pop	ix
3192  0E00  C9          	ret
3193  0E01              	SECTION code_compiler
3194  0E01              ;	---------------------------------
3195  0E01              ; Function game_key_paint
3196  0E01              ; ---------------------------------
3197  0E01              _game_key_paint:
3198  0E01  CD 00 00    	call	___sdcc_enter_ix
3199  0E04  F5          	push	af
3200  0E05  21 00 00    	ld	hl,_v0
3201  0E08  36 00       	ld	(hl),0x00
3202  0E0A  01 00 00    	ld	bc,_obj_col+0
3203  0E0D  DD 36 FE 00 	ld	(ix-2),+((_obj_lin) & 0xFF)
3204  0E11  DD 36 FF 00 	ld	(ix-1),+((_obj_lin) / 256)
3205  0E15              l_game_key_paint_00105:
3206  0E15  3A 00 00    	ld	a,(_v0)
3207  0E18  D6 05       	sub	a,0x05
3208  0E1A  30 48       	jr	NC,l_game_key_paint_00108
3209  0E1C  0A          	ld	a, (bc)
3210  0E1D  3C          	inc	a
3211  0E1E  28 2A       	jr	Z,l_game_key_paint_00102
3212  0E20  3A 00 00    	ld	a,(_map_paper)
3213  0E23  21 00 00    	ld	hl,_key_ink
3214  0E26  B6          	or	a, (hl)
3215  0E27  E1          	pop	hl
3216  0E28  32 00 00    	ld	(_v1),a
3217  0E2B  11 00 00    	ld	de,_key_attrib+0
3218  0E2E  12          	ld	(de),a
3219  0E2F  3A 00 00    	ld	a,(_v1)
3220  0E32  32 01 00    	ld	((_key_attrib + 0x0001)),a
3221  0E35  32 02 00    	ld	((_key_attrib + 0x0002)),a
3222  0E38  3A 00 00    	ld	a,(_v1)
3223  0E3B  32 03 00    	ld	((_key_attrib + 0x0003)),a
3224  0E3E  0A          	ld	a,(bc)
3225  0E3F  E5          	push	hl
3226  0E40  66          	ld	h, (hl)
3227  0E41  C5          	push	bc
3228  0E42  6C          	ld	l,h
3229  0E43  67          	ld	h,a
3230  0E44  E5          	push	hl
3231  0E45  D5          	push	de
3232  0E46  CD 00 00    	call	_NIRVANAP_paintC_callee
3233  0E49  C1          	pop	bc
3234  0E4A              l_game_key_paint_00102:
3235  0E4A  21 00 00    	ld	hl,_v0
3236  0E4D  34          	inc	(hl)
3237  0E4E  03          	inc	bc
3238  0E4F  DD 34 FE    	inc	(ix-2)
3239  0E52  20 03       	jr	NZ,l_game_key_paint_00128
3240  0E54  DD 34 FF    	inc	(ix-1)
3241  0E57              l_game_key_paint_00128:
3242  0E57  21 00 00    	ld	hl,_key_ink
3243  0E5A  34          	inc	(hl)
3244  0E5B  3E 06       	ld	a,0x06
3245  0E5D  96          	sub	a, (hl)
3246  0E5E  30 B5       	jr	NC,l_game_key_paint_00105
3247  0E60  36 03       	ld	(hl),0x03
3248  0E62  18 B1       	jr	l_game_key_paint_00105
3249  0E64              l_game_key_paint_00108:
3250  0E64  F1          	pop	af
3251  0E65  DD E1       	pop	ix
3252  0E67  C9          	ret
3253  0E68              	SECTION code_compiler
3254  0E68              ;	---------------------------------
3255  0E68              ; Function game_attribs
3256  0E68              ; ---------------------------------
3257  0E68              _game_attribs:
3258  0E68  01 00 00    	ld	bc,_attrib+0
3259  0E6B  21 00 00    	ld	hl,_map_paper
3260  0E6E  7E          	ld	a, (hl)
3261  0E6F  F6 06       	or	a,0x06
3262  0E71  02          	ld	(bc), a
3263  0E72  59          	ld	e, c
3264  0E73  50          	ld	d, b
3265  0E74  13          	inc	de
3266  0E75  7E          	ld	a, (hl)
3267  0E76  F6 46       	or	a,0x46
3268  0E78  12          	ld	(de), a
3269  0E79  7E          	ld	a, (hl)
3270  0E7A  F6 07       	or	a,0x07
3271  0E7C  32 02 00    	ld	((_attrib + 0x0002)),a
3272  0E7F  03          	inc	bc
3273  0E80  03          	inc	bc
3274  0E81  03          	inc	bc
3275  0E82  21 00 00    	ld	hl,_map_paper
3276  0E85  7E          	ld	a, (hl)
3277  0E86  F6 06       	or	a,0x06
3278  0E88  02          	ld	(bc), a
3279  0E89  01 00 00    	ld	bc,_attrib_hl+0
3280  0E8C  7E          	ld	a, (hl)
3281  0E8D  F6 15       	or	a,0x15
3282  0E8F  02          	ld	(bc), a
3283  0E90  59          	ld	e, c
3284  0E91  50          	ld	d, b
3285  0E92  13          	inc	de
3286  0E93  7E          	ld	a, (hl)
3287  0E94  F6 55       	or	a,0x55
3288  0E96  12          	ld	(de), a
3289  0E97  7E          	ld	a, (hl)
3290  0E98  F6 17       	or	a,0x17
3291  0E9A  32 02 00    	ld	((_attrib_hl + 0x0002)),a
3292  0E9D  03          	inc	bc
3293  0E9E  03          	inc	bc
3294  0E9F  03          	inc	bc
3295  0EA0  3A 00 00    	ld	a,(_map_paper)
3296  0EA3  F6 15       	or	a,0x15
3297  0EA5  02          	ld	(bc), a
3298  0EA6  21 42 43    	ld	hl,0x4342
3299  0EA9  22 00 00    	ld	(_attrib_osd),hl
3300  0EAC  21 45 46    	ld	hl,0x4645
3301  0EAF  22 02 00    	ld	(_attrib_osd + 2),hl
3302  0EB2  21 24 24    	ld	hl,0x2424
3303  0EB5  22 00 00    	ld	(_attrib_sol0),hl
3304  0EB8  22 02 00    	ld	(_attrib_sol0 + 2),hl
3305  0EBB  21 36 76    	ld	hl,0x7636
3306  0EBE  22 00 00    	ld	(_attrib_sol1),hl
3307  0EC1  21 76 36    	ld	hl,0x3676
3308  0EC4  22 02 00    	ld	(_attrib_sol1 + 2),hl
3309  0EC7  C9          	ret
3310  0EC8              	SECTION code_compiler
3311  0EC8              ;	---------------------------------
3312  0EC8              ; Function game_page_map
3313  0EC8              ; ---------------------------------
3314  0EC8              _game_page_map:
3315  0EC8  CD 00 00    	call	___sdcc_enter_ix
3316  0ECB  21 EA FF    	ld	hl, -22
3317  0ECE  39          	add	hl, sp
3318  0ECF  F9          	ld	sp, hl
3319  0ED0  21 00 00    	ld	hl,_scr_curr
3320  0ED3  4E          	ld	c, (hl)
3321  0ED4  DD 71 F9    	ld	(ix-7),c
3322  0ED7  3E 13       	ld	a,0x13
3323  0ED9  91          	sub	a, c
3324  0EDA  30 06       	jr	NC,l_game_page_map_00102
3325  0EDC  79          	ld	a, c
3326  0EDD  C6 EC       	add	a,0xec
3327  0EDF  DD 77 F9    	ld	(ix-7),a
3328  0EE2              l_game_page_map_00102:
3329  0EE2  DD 36 F0 00 	ld	(ix-16),0x00
3330  0EE6  DD 36 F1 00 	ld	(ix-15),0x00
3331  0EEA  C5          	push	bc
3332  0EEB  3E 06       	ld	a,0x06
3333  0EED  F5          	push	af
3334  0EEE  33          	inc	sp
3335  0EEF  CD 71 13    	call	_page
3336  0EF2  33          	inc	sp
3337  0EF3  C1          	pop	bc
3338  0EF4  06 00       	ld	b,0x00
3339  0EF6  69          	ld	l, c
3340  0EF7  60          	ld	h, b
3341  0EF8  29          	add	hl, hl
3342  0EF9  11 00 00    	ld	de,_lenght0
3343  0EFC  19          	add	hl, de
3344  0EFD  5E          	ld	e, (hl)
3345  0EFE  23          	inc	hl
3346  0EFF  56          	ld	d, (hl)
3347  0F00  69          	ld	l,c
3348  0F01  60          	ld	h,b
3349  0F02  23          	inc	hl
3350  0F03  29          	add	hl, hl
3351  0F04  01 00 00    	ld	bc,_lenght0
3352  0F07  09          	add	hl, bc
3353  0F08  01 EC FF    	ld	bc,-20
3354  0F0B  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_bcix
3355  0F0E  01 00 00    	ld	bc,_btiles+0
3356  0F11  21 00 00    	ld	hl,_world0
3357  0F14  19          	add	hl, de
3358  0F15  DD 7E EC    	ld	a,(ix-20)
3359  0F18  93          	sub	a, e
3360  0F19  5F          	ld	e, a
3361  0F1A  DD 7E ED    	ld	a,(ix-19)
3362  0F1D  9A          	sbc	a, d
3363  0F1E  57          	ld	d, a
3364  0F1F  C5          	push	bc
3365  0F20  D5          	push	de
3366  0F21  E5          	push	hl
3367  0F22  21 00 00    	ld	hl,_btiles
3368  0F25  E5          	push	hl
3369  0F26  CD 00 00    	call	_memcpy_callee
3370  0F29  AF          	xor	a, a
3371  0F2A  F5          	push	af
3372  0F2B  33          	inc	sp
3373  0F2C  CD 71 13    	call	_page
3374  0F2F  33          	inc	sp
3375  0F30  C1          	pop	bc
3376  0F31  DD 36 F4 00 	ld	(ix-12),0x00
3377  0F35  DD 36 F5 00 	ld	(ix-11),0x00
3378  0F39  11 00 00    	ld	de,_scr_map+0
3379  0F3C              l_game_page_map_00121:
3380  0F3C  DD 6E F4    	ld	l,(ix-12)
3381  0F3F  DD 66 F5    	ld	h,(ix-11)
3382  0F42  09          	add	hl, bc
3383  0F43  7E          	ld	a, (hl)
3384  0F44  DD 77 F7    	ld	(ix-9),a
3385  0F47  DD 7E F4    	ld	a,(ix-12)
3386  0F4A  C6 01       	add	a,0x01
3387  0F4C  DD 77 FE    	ld	(ix-2),a
3388  0F4F  6F          	ld	l,a
3389  0F50  DD 7E F5    	ld	a,(ix-11)
3390  0F53  CE 00       	adc	a,0x00
3391  0F55  DD 77 FF    	ld	(ix-1),a
3392  0F58  67          	ld	h,a
3393  0F59  09          	add	hl, bc
3394  0F5A  7E          	ld	a, (hl)
3395  0F5B  DD 77 F8    	ld	(ix-8),a
3396  0F5E  DD 7E F7    	ld	a,(ix-9)
3397  0F61  D6 80       	sub	a,0x80
3398  0F63  30 15       	jr	NC,l_game_page_map_00107
3399  0F65  DD 6E F0    	ld	l,(ix-16)
3400  0F68  DD 66 F1    	ld	h,(ix-15)
3401  0F6B  19          	add	hl, de
3402  0F6C  DD 7E F7    	ld	a,(ix-9)
3403  0F6F  77          	ld	(hl), a
3404  0F70  DD 34 F0    	inc	(ix-16)
3405  0F73  20 77       	jr	NZ,l_game_page_map_00108
3406  0F75  DD 34 F1    	inc	(ix-15)
3407  0F78  18 72       	jr	l_game_page_map_00108
3408  0F7A              l_game_page_map_00107:
3409  0F7A  DD 7E F7    	ld	a,(ix-9)
3410  0F7D  C6 80       	add	a,0x80
3411  0F7F  DD 77 F6    	ld	(ix-10),a
3412  0F82  DD 7E F0    	ld	a,(ix-16)
3413  0F85  DD 77 FC    	ld	(ix-4),a
3414  0F88  DD 7E F1    	ld	a,(ix-15)
3415  0F8B  DD 77 FD    	ld	(ix-3),a
3416  0F8E  DD 36 F2 00 	ld	(ix-14),0x00
3417  0F92  DD 36 F3 00 	ld	(ix-13),0x00
3418  0F96              l_game_page_map_00119:
3419  0F96  DD 6E F6    	ld	l,(ix-10)
3420  0F99  26 00       	ld	h,0x00
3421  0F9B  DD 7E F2    	ld	a,(ix-14)
3422  0F9E  95          	sub	a, l
3423  0F9F  DD 7E F3    	ld	a,(ix-13)
3424  0FA2  9C          	sbc	a, h
3425  0FA3  30 2F       	jr	NC,l_game_page_map_00135
3426  0FA5  7B          	ld	a, e
3427  0FA6  DD 86 FC    	add	a,(ix-4)
3428  0FA9  DD 77 FA    	ld	(ix-6),a
3429  0FAC  7A          	ld	a, d
3430  0FAD  DD 8E FD    	adc	a,(ix-3)
3431  0FB0  DD 6E FA    	ld	l,(ix-6)
3432  0FB3  DD 77 FB    	ld	(ix-5),a
3433  0FB6  67          	ld	h,a
3434  0FB7  DD 7E F8    	ld	a,(ix-8)
3435  0FBA  77          	ld	(hl), a
3436  0FBB  DD 34 FC    	inc	(ix-4)
3437  0FBE  20 03       	jr	NZ,l_game_page_map_00168
3438  0FC0  DD 34 FD    	inc	(ix-3)
3439  0FC3              l_game_page_map_00168:
3440  0FC3  DD 7E FD    	ld	a,(ix-3)
3441  0FC6  D6 02       	sub	a,0x02
3442  0FC8  30 0A       	jr	NC,l_game_page_map_00135
3443  0FCA  DD 34 F2    	inc	(ix-14)
3444  0FCD  20 C7       	jr	NZ,l_game_page_map_00119
3445  0FCF  DD 34 F3    	inc	(ix-13)
3446  0FD2  18 C2       	jr	l_game_page_map_00119
3447  0FD4              l_game_page_map_00135:
3448  0FD4  DD 7E FC    	ld	a,(ix-4)
3449  0FD7  DD 77 F0    	ld	(ix-16),a
3450  0FDA  DD 7E FD    	ld	a,(ix-3)
3451  0FDD  DD 77 F1    	ld	(ix-15),a
3452  0FE0  DD 7E FE    	ld	a,(ix-2)
3453  0FE3  DD 77 F4    	ld	(ix-12),a
3454  0FE6  DD 7E FF    	ld	a,(ix-1)
3455  0FE9  DD 77 F5    	ld	(ix-11),a
3456  0FEC              l_game_page_map_00108:
3457  0FEC  DD 7E F1    	ld	a,(ix-15)
3458  0FEF  D6 02       	sub	a,0x02
3459  0FF1  30 10       	jr	NC,l_game_page_map_00111
3460  0FF3  DD 34 F4    	inc	(ix-12)
3461  0FF6  20 03       	jr	NZ,l_game_page_map_00170
3462  0FF8  DD 34 F5    	inc	(ix-11)
3463  0FFB              l_game_page_map_00170:
3464  0FFB  DD 7E F5    	ld	a,(ix-11)
3465  0FFE  D6 02       	sub	a,0x02
3466  1000  DA 3C 0F    	jp	C, l_game_page_map_00121
3467  1003              l_game_page_map_00111:
3468  1003  DD 5E F9    	ld	e,(ix-7)
3469  1006  16 00       	ld	d,0x00
3470  1008  6B          	ld	l, e
3471  1009  62          	ld	h, d
3472  100A  29          	add	hl, hl
3473  100B  19          	add	hl, de
3474  100C  AF          	xor	a,a
3475  100D  CB 3C       	srl	h
3476  100F  CB 1D       	rr	l
3477  1011  1F          	rra
3478  1012  DD 77 EE    	ld	(ix-18),a
3479  1015  DD 75 EF    	ld	(ix-17),l
3480  1018  DD 36 F0 00 	ld	(ix-16),0x00
3481  101C  DD 36 F1 00 	ld	(ix-15),0x00
3482  1020              l_game_page_map_00115:
3483  1020  DD 7E F0    	ld	a,(ix-16)
3484  1023  D6 80       	sub	a,0x80
3485  1025  DD 7E F1    	ld	a,(ix-15)
3486  1028  DE 01       	sbc	a,0x01
3487  102A  D2 AA 10    	jp	NC, l_game_page_map_00117
3488  102D  DD 36 EA 00 	ld	(ix-22),+((_btiles + 0x1200) & 0xFF)
3489  1031  DD 36 EB 12 	ld	(ix-21),+((_btiles + 0x1200) / 256)
3490  1035  DD 7E EE    	ld	a,(ix-18)
3491  1038  DD 86 F0    	add	a,(ix-16)
3492  103B  DD 77 FA    	ld	(ix-6),a
3493  103E  DD 7E EF    	ld	a,(ix-17)
3494  1041  DD 8E F1    	adc	a,(ix-15)
3495  1044  DD 77 FB    	ld	(ix-5),a
3496  1047  3A 00 00    	ld	a,(_scr_curr)
3497  104A  D6 14       	sub	a,0x14
3498  104C  30 0E       	jr	NC,l_game_page_map_00113
3499  104E  3E 00       	ld	a, +((_hitiles1) & 0xFF)
3500  1050  DD 86 FA    	add	a,(ix-6)
3501  1053  5F          	ld	e, a
3502  1054  3E 00       	ld	a, +((_hitiles1) / 256)
3503  1056  DD 8E FB    	adc	a,(ix-5)
3504  1059  57          	ld	d, a
3505  105A  18 0C       	jr	l_game_page_map_00114
3506  105C              l_game_page_map_00113:
3507  105C  3E 00       	ld	a, +((_hitiles2) & 0xFF)
3508  105E  DD 86 FA    	add	a,(ix-6)
3509  1061  5F          	ld	e, a
3510  1062  3E 00       	ld	a, +((_hitiles2) / 256)
3511  1064  DD 8E FB    	adc	a,(ix-5)
3512  1067  57          	ld	d, a
3513  1068              l_game_page_map_00114:
3514  1068  C5          	push	bc
3515  1069  D5          	push	de
3516  106A  3E 07       	ld	a,0x07
3517  106C  F5          	push	af
3518  106D  33          	inc	sp
3519  106E  CD 71 13    	call	_page
3520  1071  33          	inc	sp
3521  1072  D1          	pop	de
3522  1073  C1          	pop	bc
3523  1074  E1          	pop	hl
3524  1075  E5          	push	hl
3525  1076  C5          	push	bc
3526  1077  EB          	ex	de, hl
3527  1078  01 30 00    	ld	bc,0x0030
3528  107B  ED B0       	ldir
3529  107D  AF          	xor	a, a
3530  107E  F5          	push	af
3531  107F  33          	inc	sp
3532  1080  CD 71 13    	call	_page
3533  1083  33          	inc	sp
3534  1084  C1          	pop	bc
3535  1085  DD 6E F0    	ld	l,(ix-16)
3536  1088  DD 66 F1    	ld	h,(ix-15)
3537  108B  09          	add	hl, bc
3538  108C  11 00 12    	ld	de, +(_btiles + 0x1200)
3539  108F  C5          	push	bc
3540  1090  EB          	ex	de, hl
3541  1091  01 30 00    	ld	bc,0x0030
3542  1094  ED B0       	ldir
3543  1096  C1          	pop	bc
3544  1097  DD 7E F0    	ld	a,(ix-16)
3545  109A  C6 30       	add	a,0x30
3546  109C  DD 77 F0    	ld	(ix-16),a
3547  109F  DD 7E F1    	ld	a,(ix-15)
3548  10A2  CE 00       	adc	a,0x00
3549  10A4  DD 77 F1    	ld	(ix-15),a
3550  10A7  C3 20 10    	jp	l_game_page_map_00115
3551  10AA              l_game_page_map_00117:
3552  10AA  3A 20 00    	ld	a, (_btiles + 32)
3553  10AD  E6 F8       	and	a,0xf8
3554  10AF  21 00 00    	ld	hl,_map_paper
3555  10B2  77          	ld	(hl),a
3556  10B3  0F          	rrca
3557  10B4  0F          	rrca
3558  10B5  0F          	rrca
3559  10B6  E6 1F       	and	a,0x1f
3560  10B8  B6          	or	a, (hl)
3561  10B9  32 00 00    	ld	(_map_clear),a
3562  10BC  DD F9       	ld	sp, ix
3563  10BE  DD E1       	pop	ix
3564  10C0  C9          	ret
3565  10C1              	SECTION code_compiler
3566  10C1              ;	---------------------------------
3567  10C1              ; Function game_flash_exit
3568  10C1              ; ---------------------------------
3569  10C1              _game_flash_exit:
3570  10C1  CD 00 00    	call	___sdcc_enter_ix
3571  10C4  21 00 00    	ld	hl,_i
3572  10C7  36 00       	ld	(hl),0x00
3573  10C9  01 70 01    	ld	bc,0x0170
3574  10CC              l_game_flash_exit_00101:
3575  10CC  3A 00 00    	ld	a,(_i)
3576  10CF  D6 10       	sub	a,0x10
3577  10D1  30 14       	jr	NC,l_game_flash_exit_00103
3578  10D3  21 00 00    	ld	hl,_btiles
3579  10D6  09          	add	hl,bc
3580  10D7  7E          	ld	a,(hl)
3581  10D8  EB          	ex	de,hl
3582  10D9  E6 7F       	and	a,0x7f
3583  10DB  12          	ld	(de), a
3584  10DC  DD B6 04    	or	a,(ix+4)
3585  10DF  12          	ld	(de), a
3586  10E0  21 00 00    	ld	hl,_i
3587  10E3  34          	inc	(hl)
3588  10E4  03          	inc	bc
3589  10E5  18 E5       	jr	l_game_flash_exit_00101
3590  10E7              l_game_flash_exit_00103:
3591  10E7  2A FF FF    	ld	hl,(_game_exit_col - 1)
3592  10EA  3A 00 00    	ld	a,(_game_exit_lin)
3593  10ED  6F          	ld	l,a
3594  10EE  E5          	push	hl
3595  10EF  21 06 07    	ld	hl,0x0706
3596  10F2  E5          	push	hl
3597  10F3  CD 00 00    	call	_NIRVANAP_spriteT_callee
3598  10F6  76          	halt
3599  10F7  DD E1       	pop	ix
3600  10F9  C9          	ret
3601  10FA              	SECTION code_compiler
3602  10FA              ;	---------------------------------
3603  10FA              ; Function game_copy_sprite_color_reset
3604  10FA              ; ---------------------------------
3605  10FA              _game_copy_sprite_color_reset:
3606  10FA  21 00 00    	ld	hl,_spr_init_bright
3607  10FD  36 00       	ld	(hl),0x00
3608  10FF  21 00 00    	ld	hl,_spr_init_cin0
3609  1102  36 00       	ld	(hl),0x00
3610  1104  21 00 00    	ld	hl,_spr_init_cout0
3611  1107  36 00       	ld	(hl),0x00
3612  1109  21 00 00    	ld	hl,_spr_init_cin1
3613  110C  36 00       	ld	(hl),0x00
3614  110E  21 00 00    	ld	hl,_spr_init_cout1
3615  1111  36 00       	ld	(hl),0x00
3616  1113  21 00 00    	ld	hl,_spr_init_cin2
3617  1116  36 00       	ld	(hl),0x00
3618  1118  21 00 00    	ld	hl,_spr_init_cout2
3619  111B  36 00       	ld	(hl),0x00
3620  111D  21 00 00    	ld	hl,_spr_init_cin3
3621  1120  36 00       	ld	(hl),0x00
3622  1122  21 00 00    	ld	hl,_spr_init_cout3
3623  1125  36 00       	ld	(hl),0x00
3624  1127  C9          	ret
3625  1128              	SECTION code_compiler
3626  1128              ;	---------------------------------
3627  1128              ; Function game_copy_sprite_std
3628  1128              ; ---------------------------------
3629  1128              _game_copy_sprite_std:
3630  1128  CD 00 00    	call	___sdcc_enter_ix
3631  112B  AF          	xor	a, a
3632  112C  F5          	push	af
3633  112D  33          	inc	sp
3634  112E  DD 66 05    	ld	h,(ix+5)
3635  1131  DD 6E 04    	ld	l,(ix+4)
3636  1134  E5          	push	hl
3637  1135  CD D5 11    	call	_game_copy_sprite
3638  1138  F1          	pop	af
3639  1139  33          	inc	sp
3640  113A  DD 46 05    	ld	b,(ix+5)
3641  113D  04          	inc	b
3642  113E  DD 4E 04    	ld	c,(ix+4)
3643  1141  0C          	inc	c
3644  1142  C5          	push	bc
3645  1143  AF          	xor	a, a
3646  1144  F5          	push	af
3647  1145  33          	inc	sp
3648  1146  C5          	push	bc
3649  1147  CD D5 11    	call	_game_copy_sprite
3650  114A  F1          	pop	af
3651  114B  33          	inc	sp
3652  114C  C1          	pop	bc
3653  114D  DD 56 05    	ld	d,(ix+5)
3654  1150  14          	inc	d
3655  1151  14          	inc	d
3656  1152  DD 46 04    	ld	b,(ix+4)
3657  1155  04          	inc	b
3658  1156  04          	inc	b
3659  1157  C5          	push	bc
3660  1158  AF          	xor	a, a
3661  1159  5A          	ld	e,d
3662  115A  57          	ld	d,a
3663  115B  D5          	push	de
3664  115C  C5          	push	bc
3665  115D  33          	inc	sp
3666  115E  CD D5 11    	call	_game_copy_sprite
3667  1161  F1          	pop	af
3668  1162  33          	inc	sp
3669  1163  C1          	pop	bc
3670  1164  DD 56 05    	ld	d,(ix+5)
3671  1167  14          	inc	d
3672  1168  14          	inc	d
3673  1169  14          	inc	d
3674  116A  DD 5E 04    	ld	e,(ix+4)
3675  116D  1C          	inc	e
3676  116E  1C          	inc	e
3677  116F  1C          	inc	e
3678  1170  C5          	push	bc
3679  1171  D5          	push	de
3680  1172  AF          	xor	a, a
3681  1173  F5          	push	af
3682  1174  33          	inc	sp
3683  1175  D5          	push	de
3684  1176  CD D5 11    	call	_game_copy_sprite
3685  1179  F1          	pop	af
3686  117A  33          	inc	sp
3687  117B  D1          	pop	de
3688  117C  C1          	pop	bc
3689  117D  DD 56 05    	ld	d,(ix+5)
3690  1180  14          	inc	d
3691  1181  14          	inc	d
3692  1182  14          	inc	d
3693  1183  14          	inc	d
3694  1184  C5          	push	bc
3695  1185  3E 01       	ld	a,0x01
3696  1187  F5          	push	af
3697  1188  33          	inc	sp
3698  1189  D5          	push	de
3699  118A  CD D5 11    	call	_game_copy_sprite
3700  118D  F1          	pop	af
3701  118E  33          	inc	sp
3702  118F  C1          	pop	bc
3703  1190  DD 7E 05    	ld	a,(ix+5)
3704  1193  C6 05       	add	a,0x05
3705  1195  57          	ld	d, a
3706  1196  C5          	push	bc
3707  1197  3E 01       	ld	a,0x01
3708  1199  5A          	ld	e,d
3709  119A  57          	ld	d,a
3710  119B  D5          	push	de
3711  119C  C5          	push	bc
3712  119D  33          	inc	sp
3713  119E  CD D5 11    	call	_game_copy_sprite
3714  11A1  F1          	pop	af
3715  11A2  33          	inc	sp
3716  11A3  C1          	pop	bc
3717  11A4  DD 7E 05    	ld	a,(ix+5)
3718  11A7  C6 06       	add	a,0x06
3719  11A9  47          	ld	b, a
3720  11AA  3E 01       	ld	a,0x01
3721  11AC  F5          	push	af
3722  11AD  33          	inc	sp
3723  11AE  C5          	push	bc
3724  11AF  CD D5 11    	call	_game_copy_sprite
3725  11B2  F1          	pop	af
3726  11B3  33          	inc	sp
3727  11B4  DD 7E 05    	ld	a,(ix+5)
3728  11B7  C6 07       	add	a,0x07
3729  11B9  47          	ld	b, a
3730  11BA  3E 01       	ld	a,0x01
3731  11BC  48          	ld	c,b
3732  11BD  47          	ld	b,a
3733  11BE  C5          	push	bc
3734  11BF  DD 7E 04    	ld	a,(ix+4)
3735  11C2  F5          	push	af
3736  11C3  33          	inc	sp
3737  11C4  CD D5 11    	call	_game_copy_sprite
3738  11C7  F1          	pop	af
3739  11C8  33          	inc	sp
3740  11C9  CD FA 10    	call	_game_copy_sprite_color_reset
3741  11CC  DD 7E 05    	ld	a,(ix+5)
3742  11CF  C6 08       	add	a,0x08
3743  11D1  6F          	ld	l, a
3744  11D2  DD E1       	pop	ix
3745  11D4  C9          	ret
3746  11D5              	SECTION code_compiler
3747  11D5              ;	---------------------------------
3748  11D5              ; Function game_copy_sprite
3749  11D5              ; ---------------------------------
3750  11D5              _game_copy_sprite:
3751  11D5  CD 00 00    	call	___sdcc_enter_ix
3752  11D8  F5          	push	af
3753  11D9  F5          	push	af
3754  11DA  F5          	push	af
3755  11DB  F3          	di
3756  11DC  DD 6E 04    	ld	l,(ix+4)
3757  11DF  26 00       	ld	h,0x00
3758  11E1  4D          	ld	c,l
3759  11E2  44          	ld	b,h
3760  11E3  29          	add	hl, hl
3761  11E4  09          	add	hl, bc
3762  11E5  29          	add	hl, hl
3763  11E6  29          	add	hl, hl
3764  11E7  29          	add	hl, hl
3765  11E8  29          	add	hl, hl
3766  11E9  3A 00 00    	ld	a,(_scr_curr)
3767  11EC  D6 14       	sub	a,0x14
3768  11EE  4D          	ld	c,l
3769  11EF  44          	ld	b,h
3770  11F0  30 08       	jr	NC,l_game_copy_sprite_00102
3771  11F2  21 00 00    	ld	hl,_hisprites1
3772  11F5  09          	add	hl,bc
3773  11F6  4D          	ld	c, l
3774  11F7  44          	ld	b, h
3775  11F8  18 06       	jr	l_game_copy_sprite_00103
3776  11FA              l_game_copy_sprite_00102:
3777  11FA  21 00 00    	ld	hl,_hisprites2
3778  11FD  09          	add	hl,bc
3779  11FE  4D          	ld	c, l
3780  11FF  44          	ld	b, h
3781  1200              l_game_copy_sprite_00103:
3782  1200  11 00 12    	ld	de, +(_btiles + 0x1200)
3783  1203  C5          	push	bc
3784  1204  D5          	push	de
3785  1205  3E 03       	ld	a,0x03
3786  1207  F5          	push	af
3787  1208  33          	inc	sp
3788  1209  CD 71 13    	call	_page
3789  120C  33          	inc	sp
3790  120D  D1          	pop	de
3791  120E  E1          	pop	hl
3792  120F  01 30 00    	ld	bc,0x0030
3793  1212  ED B0       	ldir
3794  1214  AF          	xor	a, a
3795  1215  F5          	push	af
3796  1216  33          	inc	sp
3797  1217  CD 71 13    	call	_page
3798  121A  33          	inc	sp
3799  121B  FB          	ei
3800  121C  0E 20       	ld	c,0x20
3801  121E              l_game_copy_sprite_00115:
3802  121E  79          	ld	a, c
3803  121F  D6 30       	sub	a,0x30
3804  1221  30 42       	jr	NC,l_game_copy_sprite_00117
3805  1223  3E 00       	ld	a,+((_btiles+0x1200) & 0xFF)
3806  1225  81          	add	a, c
3807  1226  5F          	ld	e, a
3808  1227  3E 12       	ld	a,+((_btiles+0x1200) / 256)
3809  1229  CE 00       	adc	a,0x00
3810  122B  57          	ld	d, a
3811  122C  1A          	ld	a, (de)
3812  122D  47          	ld	b, a
3813  122E  3A 00 00    	ld	a,(_spr_init_cin0)
3814  1231  90          	sub	a, b
3815  1232  20 06       	jr	NZ,l_game_copy_sprite_00113
3816  1234  3A 00 00    	ld	a,(_spr_init_cout0)
3817  1237  12          	ld	(de), a
3818  1238  18 22       	jr	l_game_copy_sprite_00114
3819  123A              l_game_copy_sprite_00113:
3820  123A  3A 00 00    	ld	a,(_spr_init_cin1)
3821  123D  90          	sub	a, b
3822  123E  20 06       	jr	NZ,l_game_copy_sprite_00110
3823  1240  3A 00 00    	ld	a,(_spr_init_cout1)
3824  1243  12          	ld	(de), a
3825  1244  18 16       	jr	l_game_copy_sprite_00114
3826  1246              l_game_copy_sprite_00110:
3827  1246  3A 00 00    	ld	a,(_spr_init_cin2)
3828  1249  90          	sub	a, b
3829  124A  20 06       	jr	NZ,l_game_copy_sprite_00107
3830  124C  3A 00 00    	ld	a,(_spr_init_cout2)
3831  124F  12          	ld	(de), a
3832  1250  18 0A       	jr	l_game_copy_sprite_00114
3833  1252              l_game_copy_sprite_00107:
3834  1252  3A 00 00    	ld	a,(_spr_init_cin3)
3835  1255  90          	sub	a, b
3836  1256  20 04       	jr	NZ,l_game_copy_sprite_00114
3837  1258  3A 00 00    	ld	a,(_spr_init_cout3)
3838  125B  12          	ld	(de), a
3839  125C              l_game_copy_sprite_00114:
3840  125C  1A          	ld	a, (de)
3841  125D  21 00 00    	ld	hl,_spr_init_bright
3842  1260  B6          	or	a, (hl)
3843  1261  12          	ld	(de), a
3844  1262  0C          	inc	c
3845  1263  18 B9       	jr	l_game_copy_sprite_00115
3846  1265              l_game_copy_sprite_00117:
3847  1265  DD 6E 05    	ld	l,(ix+5)
3848  1268  26 00       	ld	h,0x00
3849  126A  4D          	ld	c,l
3850  126B  44          	ld	b,h
3851  126C  29          	add	hl, hl
3852  126D  09          	add	hl, bc
3853  126E  29          	add	hl, hl
3854  126F  29          	add	hl, hl
3855  1270  29          	add	hl, hl
3856  1271  29          	add	hl, hl
3857  1272  DD 75 FE    	ld	(ix-2),l
3858  1275  DD 74 FF    	ld	(ix-1),h
3859  1278  DD 36 FA 00 	ld	(ix-6),0x00
3860  127C              l_game_copy_sprite_00130:
3861  127C  DD 7E FA    	ld	a,(ix-6)
3862  127F  D6 30       	sub	a,0x30
3863  1281  D2 29 13    	jp	NC, l_game_copy_sprite_00133
3864  1284  DD 7E FA    	ld	a,(ix-6)
3865  1287  3C          	inc	a
3866  1288  DD 77 FD    	ld	(ix-3),a
3867  128B  3E 00       	ld	a, +((_btiles) & 0xFF)
3868  128D  DD 86 FE    	add	a,(ix-2)
3869  1290  DD 77 FB    	ld	(ix-5),a
3870  1293  3E 00       	ld	a, +((_btiles) / 256)
3871  1295  DD 8E FF    	adc	a,(ix-1)
3872  1298  DD 77 FC    	ld	(ix-4),a
3873  129B  DD 7E 06    	ld	a,(ix+6)
3874  129E  B7          	or	a, a
3875  129F  28 63       	jr	Z,l_game_copy_sprite_00128
3876  12A1  DD 7E FA    	ld	a,(ix-6)
3877  12A4  D6 20       	sub	a,0x20
3878  12A6  30 30       	jr	NC,l_game_copy_sprite_00125
3879  12A8  DD CB FA 46 	bit	0,(ix-6)
3880  12AC  20 08       	jr	NZ,l_game_copy_sprite_00119
3881  12AE  DD 7E FD    	ld	a,(ix-3)
3882  12B1  32 00 00    	ld	(_v0),a
3883  12B4  18 08       	jr	l_game_copy_sprite_00120
3884  12B6              l_game_copy_sprite_00119:
3885  12B6  DD 7E FA    	ld	a,(ix-6)
3886  12B9  C6 FF       	add	a,0xff
3887  12BB  32 00 00    	ld	(_v0),a
3888  12BE              l_game_copy_sprite_00120:
3889  12BE  2A 00 00    	ld	hl,(_v0)
3890  12C1  26 00       	ld	h,0x00
3891  12C3  01 00 12    	ld	bc,+(_btiles + 0x1200)
3892  12C6  09          	add	hl,bc
3893  12C7  7E          	ld	a,(hl)
3894  12C8  F5          	push	af
3895  12C9  33          	inc	sp
3896  12CA  CD 2E 13    	call	_reverse
3897  12CD  33          	inc	sp
3898  12CE  4D          	ld	c, l
3899  12CF  DD 6E FB    	ld	l,(ix-5)
3900  12D2  DD 66 FC    	ld	h,(ix-4)
3901  12D5  71          	ld	(hl), c
3902  12D6  18 3F       	jr	l_game_copy_sprite_00129
3903  12D8              l_game_copy_sprite_00125:
3904  12D8  DD 7E FA    	ld	a,(ix-6)
3905  12DB  D6 28       	sub	a,0x28
3906  12DD  30 0A       	jr	NC,l_game_copy_sprite_00122
3907  12DF  DD 7E FA    	ld	a,(ix-6)
3908  12E2  C6 08       	add	a,0x08
3909  12E4  32 00 00    	ld	(_v0),a
3910  12E7  18 08       	jr	l_game_copy_sprite_00123
3911  12E9              l_game_copy_sprite_00122:
3912  12E9  DD 7E FA    	ld	a,(ix-6)
3913  12EC  C6 F8       	add	a,0xf8
3914  12EE  32 00 00    	ld	(_v0),a
3915  12F1              l_game_copy_sprite_00123:
3916  12F1  2A 00 00    	ld	hl,(_v0)
3917  12F4  26 00       	ld	h,0x00
3918  12F6  01 00 12    	ld	bc,+(_btiles + 0x1200)
3919  12F9  09          	add	hl,bc
3920  12FA  7E          	ld	a,(hl)
3921  12FB  DD 6E FB    	ld	l,(ix-5)
3922  12FE  DD 66 FC    	ld	h,(ix-4)
3923  1301  77          	ld	(hl), a
3924  1302  18 13       	jr	l_game_copy_sprite_00129
3925  1304              l_game_copy_sprite_00128:
3926  1304  3E 00       	ld	a,+((_btiles+0x1200) & 0xFF)
3927  1306  DD 86 FA    	add	a,(ix-6)
3928  1309  4F          	ld	c, a
3929  130A  3E 12       	ld	a,+((_btiles+0x1200) / 256)
3930  130C  CE 00       	adc	a,0x00
3931  130E  47          	ld	b, a
3932  130F  0A          	ld	a, (bc)
3933  1310  DD 6E FB    	ld	l,(ix-5)
3934  1313  DD 66 FC    	ld	h,(ix-4)
3935  1316  77          	ld	(hl), a
3936  1317              l_game_copy_sprite_00129:
3937  1317  DD 7E FD    	ld	a,(ix-3)
3938  131A  DD 77 FA    	ld	(ix-6),a
3939  131D  DD 34 FE    	inc	(ix-2)
3940  1320  C2 7C 12    	jp	NZ,l_game_copy_sprite_00130
3941  1323  DD 34 FF    	inc	(ix-1)
3942  1326  C3 7C 12    	jp	l_game_copy_sprite_00130
3943  1329              l_game_copy_sprite_00133:
3944  1329  DD F9       	ld	sp, ix
3945  132B  DD E1       	pop	ix
3946  132D  C9          	ret
3947  132E              	SECTION code_compiler
3948  132E              ;	---------------------------------
3949  132E              ; Function reverse
3950  132E              ; ---------------------------------
3951  132E              _reverse:
3952  132E  CD 00 00    	call	___sdcc_enter_ix
3953  1331  DD 7E 04    	ld	a,(ix+4)
3954  1334  E6 F0       	and	a,0xf0
3955  1336  07          	rlca
3956  1337  07          	rlca
3957  1338  07          	rlca
3958  1339  07          	rlca
3959  133A  E6 0F       	and	a,0x0f
3960  133C  4F          	ld	c, a
3961  133D  DD 7E 04    	ld	a,(ix+4)
3962  1340  E6 0F       	and	a,0x0f
3963  1342  07          	rlca
3964  1343  07          	rlca
3965  1344  07          	rlca
3966  1345  07          	rlca
3967  1346  E6 F0       	and	a,0xf0
3968  1348  B1          	or	a, c
3969  1349  DD 77 04    	ld	(ix+4),a
3970  134C  E6 CC       	and	a,0xcc
3971  134E  4F          	ld	c, a
3972  134F  CB 39       	srl	c
3973  1351  CB 39       	srl	c
3974  1353  DD 7E 04    	ld	a,(ix+4)
3975  1356  E6 33       	and	a,0x33
3976  1358  87          	add	a, a
3977  1359  87          	add	a, a
3978  135A  B1          	or	a, c
3979  135B  DD 77 04    	ld	(ix+4),a
3980  135E  E6 AA       	and	a,0xaa
3981  1360  4F          	ld	c, a
3982  1361  CB 39       	srl	c
3983  1363  DD 7E 04    	ld	a,(ix+4)
3984  1366  E6 55       	and	a,0x55
3985  1368  87          	add	a, a
3986  1369  B1          	or	a, c
3987  136A  DD 77 04    	ld	(ix+4),a
3988  136D  6F          	ld	l, a
3989  136E  DD E1       	pop	ix
3990  1370  C9          	ret
3991  1371              	SECTION code_compiler
3992  1371              ;	---------------------------------
3993  1371              ; Function page
3994  1371              ; ---------------------------------
3995  1371              _page:
3996  1371  CD 00 00    	call	___sdcc_enter_ix
3997  1374  DD 7E 04    	ld	a,(ix+4)
3998  1377  C6 10       	add	a,0x10
3999  1379  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
4000  137C  01 FD 7F    	ld	bc,_IO_7FFD
4001  137F  ED 79       	out	(c),a
4002  1381  DD E1       	pop	ix
4003  1383  C9          	ret
4004  1384              	SECTION code_compiler
4005  1384              ;	---------------------------------
4006  1384              ; Function game_intro
4007  1384              ; ---------------------------------
4008  1384              _game_intro:
4009  1384  3A 00 00    	ld	a,(_game_debug)
4010  1387  B7          	or	a, a
4011  1388  C2 0F 14    	jp	NZ, l_game_intro_00108
4012  138B  CD 00 00    	call	_audio_coin_noentiendo
4013  138E  CD D6 07    	call	_game_cls
4014  1391  21 00 00    	ld	hl,_v0
4015  1394  36 00       	ld	(hl),0x00
4016  1396  21 00 00    	ld	hl,_v2
4017  1399  36 50       	ld	(hl),0x50
4018  139B  21 00 00    	ld	hl,_v1
4019  139E  36 00       	ld	(hl),0x00
4020  13A0              l_game_intro_00103:
4021  13A0  21 00 00    	ld	hl,_v0
4022  13A3  7E          	ld	a, (hl)
4023  13A4  D6 10       	sub	a,0x10
4024  13A6  30 2E       	jr	NC,l_game_intro_00105
4025  13A8  7E          	ld	a, (hl)
4026  13A9  C6 08       	add	a,0x08
4027  13AB  F5          	push	af
4028  13AC  33          	inc	sp
4029  13AD  2A 00 00    	ld	hl,(_v2)
4030  13B0  26 60       	ld	h,0x60
4031  13B2  3A 00 00    	ld	a,(_v1)
4032  13B5  E5          	push	hl
4033  13B6  F5          	push	af
4034  13B7  33          	inc	sp
4035  13B8  CD 00 00    	call	_NIRVANAP_spriteT_callee
4036  13BB  21 00 00    	ld	hl,_v0
4037  13BE  34          	inc	(hl)
4038  13BF  34          	inc	(hl)
4039  13C0  21 00 00    	ld	hl,_v2
4040  13C3  34          	inc	(hl)
4041  13C4  21 00 00    	ld	hl,_v1
4042  13C7  7E          	ld	a,(hl)
4043  13C8  3C          	inc	a
4044  13C9  77          	ld	(hl),a
4045  13CA  D6 07       	sub	a,0x07
4046  13CC  20 D2       	jr	NZ,l_game_intro_00103
4047  13CE  21 00 00    	ld	hl,_v1
4048  13D1  36 00       	ld	(hl),0x00
4049  13D3  76          	halt
4050  13D4  18 CA       	jr	l_game_intro_00103
4051  13D6              l_game_intro_00105:
4052  13D6  21 5E 01    	ld	hl,0x015e
4053  13D9  CD 00 00    	call	_z80_delay_ms_fastcall
4054  13DC  21 08 0A    	ld	hl,0x0a08
4055  13DF  E5          	push	hl
4056  13E0  21 10 04    	ld	hl,0x0410
4057  13E3  E5          	push	hl
4058  13E4  AF          	xor	a, a
4059  13E5  F5          	push	af
4060  13E6  33          	inc	sp
4061  13E7  CD A3 05    	call	_game_logo1
4062  13EA  F1          	pop	af
4063  13EB  33          	inc	sp
4064  13EC  21 00 13    	ld	hl,0x1300
4065  13EF  E3          	ex	(sp),hl
4066  13F0  CD 9E 16    	call	_game_text
4067  13F3  21 01 14    	ld	hl,0x1401
4068  13F6  E3          	ex	(sp),hl
4069  13F7  CD 9E 16    	call	_game_text
4070  13FA  21 02 15    	ld	hl,0x1502
4071  13FD  E3          	ex	(sp),hl
4072  13FE  CD 9E 16    	call	_game_text
4073  1401  21 03 16    	ld	hl,0x1603
4074  1404  E3          	ex	(sp),hl
4075  1405  CD 9E 16    	call	_game_text
4076  1408  F1          	pop	af
4077  1409  21 E8 03    	ld	hl,0x03e8
4078  140C  CD 00 00    	call	_z80_delay_ms_fastcall
4079  140F              l_game_intro_00108:
4080  140F  C9          	ret
4081  1410              	SECTION code_compiler
4082  1410              ;	---------------------------------
4083  1410              ; Function game_shoe
4084  1410              ; ---------------------------------
4085  1410              _game_shoe:
4086  1410  CD 00 00    	call	___sdcc_enter_ix
4087  1413  F5          	push	af
4088  1414  CD D6 07    	call	_game_cls
4089  1417  CD 00 00    	call	_audio_game_over
4090  141A  3E 13       	ld	a,0x13
4091  141C  21 00 00    	ld	hl,_scr_curr
4092  141F  96          	sub	a, (hl)
4093  1420  30 0D       	jr	NC,l_game_shoe_00102
4094  1422  21 60 0F    	ld	hl,0x0f60
4095  1425  E5          	push	hl
4096  1426  3E 5A       	ld	a,0x5a
4097  1428  F5          	push	af
4098  1429  33          	inc	sp
4099  142A  CD 00 00    	call	_NIRVANAP_drawT_callee
4100  142D  18 0B       	jr	l_game_shoe_00103
4101  142F              l_game_shoe_00102:
4102  142F  21 60 0F    	ld	hl,0x0f60
4103  1432  E5          	push	hl
4104  1433  3E 5B       	ld	a,0x5b
4105  1435  F5          	push	af
4106  1436  33          	inc	sp
4107  1437  CD 00 00    	call	_NIRVANAP_drawT_callee
4108  143A              l_game_shoe_00103:
4109  143A  21 70 0F    	ld	hl,0x0f70
4110  143D  E5          	push	hl
4111  143E  3E 5C       	ld	a,0x5c
4112  1440  F5          	push	af
4113  1441  33          	inc	sp
4114  1442  CD 00 00    	call	_NIRVANAP_drawT_callee
4115  1445  21 00 00    	ld	hl,_v0
4116  1448  36 10       	ld	(hl),0x10
4117  144A              l_game_shoe_00104:
4118  144A  3E 5E       	ld	a,0x5e
4119  144C  21 00 00    	ld	hl,_v0
4120  144F  96          	sub	a, (hl)
4121  1450  38 15       	jr	C,l_game_shoe_00106
4122  1452  34          	inc	(hl)
4123  1453  34          	inc	(hl)
4124  1454  6E          	ld	l,(hl)
4125  1455  26 0F       	ld	h,0x0f
4126  1457  E5          	push	hl
4127  1458  21 00 5D    	ld	hl,0x5d00
4128  145B  E5          	push	hl
4129  145C  CD 00 00    	call	_NIRVANAP_spriteT_callee
4130  145F  21 19 00    	ld	hl,0x0019
4131  1462  CD 00 00    	call	_z80_delay_ms_fastcall
4132  1465  18 E3       	jr	l_game_shoe_00104
4133  1467              l_game_shoe_00106:
4134  1467  21 00 00    	ld	hl,_v0
4135  146A  36 01       	ld	(hl),0x01
4136  146C  2A 00 00    	ld	hl,(_curr_time)
4137  146F  22 00 00    	ld	(_time_conv),hl
4138  1472  3E 0A       	ld	a,0x0a
4139  1474  2A 00 00    	ld	hl,(_scr_curr)
4140  1477  67          	ld	h,a
4141  1478  E5          	push	hl
4142  1479  CD 00 00    	call	__divuchar_callee
4143  147C  DD 75 FF    	ld	(ix-1),l
4144  147F  21 05 00    	ld	hl, +(_code0 + 0x0005)
4145  1482  DD 7E FF    	ld	a,(ix-1)
4146  1485  77          	ld	(hl),a
4147  1486  4F          	ld	c, a
4148  1487  87          	add	a, a
4149  1488  87          	add	a, a
4150  1489  81          	add	a, c
4151  148A  87          	add	a, a
4152  148B  4F          	ld	c, a
4153  148C  3A 00 00    	ld	a,(_scr_curr)
4154  148F  91          	sub	a, c
4155  1490  DD 77 FE    	ld	(ix-2),a
4156  1493  21 02 00    	ld	hl, +(_code0 + 0x0002)
4157  1496  DD 7E FE    	ld	a,(ix-2)
4158  1499  77          	ld	(hl), a
4159  149A  2A 00 00    	ld	hl,(_game_lives)
4160  149D  26 64       	ld	h,0x64
4161  149F  E5          	push	hl
4162  14A0  CD 00 00    	call	__divuchar_callee
4163  14A3  7D          	ld	a,l
4164  14A4  32 03 00    	ld	((_code0 + 0x0003)),a
4165  14A7  4F          	ld	c,a
4166  14A8  3A 00 00    	ld	a,(_game_lives)
4167  14AB  5F          	ld	e,a
4168  14AC  16 00       	ld	d,0x00
4169  14AE  42          	ld	b,d
4170  14AF  69          	ld	l, c
4171  14B0  60          	ld	h, b
4172  14B1  29          	add	hl, hl
4173  14B2  09          	add	hl, bc
4174  14B3  29          	add	hl, hl
4175  14B4  29          	add	hl, hl
4176  14B5  29          	add	hl, hl
4177  14B6  09          	add	hl, bc
4178  14B7  29          	add	hl, hl
4179  14B8  29          	add	hl, hl
4180  14B9  7B          	ld	a, e
4181  14BA  95          	sub	a, l
4182  14BB  5F          	ld	e, a
4183  14BC  7A          	ld	a, d
4184  14BD  9C          	sbc	a, h
4185  14BE  57          	ld	d, a
4186  14BF  C5          	push	bc
4187  14C0  21 0A 00    	ld	hl,0x000a
4188  14C3  E5          	push	hl
4189  14C4  D5          	push	de
4190  14C5  CD 00 00    	call	__divsint_callee
4191  14C8  C1          	pop	bc
4192  14C9  55          	ld	d,l
4193  14CA  21 06 00    	ld	hl, +(_code0 + 0x0006)
4194  14CD  72          	ld	(hl), d
4195  14CE  79          	ld	a, c
4196  14CF  87          	add	a, a
4197  14D0  81          	add	a, c
4198  14D1  87          	add	a, a
4199  14D2  87          	add	a, a
4200  14D3  87          	add	a, a
4201  14D4  81          	add	a, c
4202  14D5  87          	add	a, a
4203  14D6  87          	add	a, a
4204  14D7  5F          	ld	e, a
4205  14D8  D5          	push	de
4206  14D9  6A          	ld	l, d
4207  14DA  5D          	ld	e, l
4208  14DB  29          	add	hl, hl
4209  14DC  29          	add	hl, hl
4210  14DD  19          	add	hl, de
4211  14DE  29          	add	hl, hl
4212  14DF  D1          	pop	de
4213  14E0  7B          	ld	a, e
4214  14E1  85          	add	a, l
4215  14E2  5F          	ld	e, a
4216  14E3  3A 00 00    	ld	a,(_game_lives)
4217  14E6  93          	sub	a, e
4218  14E7  21 00 00    	ld	hl,_code0
4219  14EA  77          	ld	(hl),a
4220  14EB  5F          	ld	e,a
4221  14EC  DD 7E FF    	ld	a,(ix-1)
4222  14EF  DD 86 FE    	add	a,(ix-2)
4223  14F2  6F          	ld	l, a
4224  14F3  19          	add	hl, de
4225  14F4  7D          	ld	a, l
4226  14F5  82          	add	a, d
4227  14F6  81          	add	a, c
4228  14F7  32 00 00    	ld	(_v3),a
4229  14FA  6F          	ld	l,a
4230  14FB  26 64       	ld	h,0x64
4231  14FD  E5          	push	hl
4232  14FE  CD 00 00    	call	__divuchar_callee
4233  1501  7D          	ld	a,l
4234  1502  32 07 00    	ld	((_code0 + 0x0007)),a
4235  1505  4F          	ld	c,a
4236  1506  3A 00 00    	ld	a,(_v3)
4237  1509  5F          	ld	e,a
4238  150A  16 00       	ld	d,0x00
4239  150C  42          	ld	b,d
4240  150D  69          	ld	l, c
4241  150E  60          	ld	h, b
4242  150F  29          	add	hl, hl
4243  1510  09          	add	hl, bc
4244  1511  29          	add	hl, hl
4245  1512  29          	add	hl, hl
4246  1513  29          	add	hl, hl
4247  1514  09          	add	hl, bc
4248  1515  29          	add	hl, hl
4249  1516  29          	add	hl, hl
4250  1517  7B          	ld	a, e
4251  1518  95          	sub	a, l
4252  1519  5F          	ld	e, a
4253  151A  7A          	ld	a, d
4254  151B  9C          	sbc	a, h
4255  151C  57          	ld	d, a
4256  151D  C5          	push	bc
4257  151E  21 0A 00    	ld	hl,0x000a
4258  1521  E5          	push	hl
4259  1522  D5          	push	de
4260  1523  CD 00 00    	call	__divsint_callee
4261  1526  EB          	ex	de,hl
4262  1527  C1          	pop	bc
4263  1528  21 04 00    	ld	hl, +(_code0 + 0x0004)
4264  152B  73          	ld	(hl), e
4265  152C  79          	ld	a, c
4266  152D  87          	add	a, a
4267  152E  81          	add	a, c
4268  152F  87          	add	a, a
4269  1530  87          	add	a, a
4270  1531  87          	add	a, a
4271  1532  81          	add	a, c
4272  1533  87          	add	a, a
4273  1534  87          	add	a, a
4274  1535  4F          	ld	c, a
4275  1536  6B          	ld	l, e
4276  1537  29          	add	hl, hl
4277  1538  29          	add	hl, hl
4278  1539  19          	add	hl, de
4279  153A  29          	add	hl, hl
4280  153B  79          	ld	a, c
4281  153C  85          	add	a, l
4282  153D  4F          	ld	c, a
4283  153E  3A 00 00    	ld	a,(_v3)
4284  1541  91          	sub	a, c
4285  1542  32 01 00    	ld	((_code0 + 0x0001)),a
4286  1545  21 00 00    	ld	hl,_screen_ink
4287  1548  36 46       	ld	(hl),0x46
4288  154A  21 5C 00    	ld	hl,___str_10
4289  154D  E5          	push	hl
4290  154E  21 14 08    	ld	hl,0x0814
4291  1551  E5          	push	hl
4292  1552  CD 00 00    	call	_zx_print_str
4293  1555  21 00 00    	ld	hl,_i
4294  1558  36 00       	ld	(hl),0x00
4295  155A              l_game_shoe_00107:
4296  155A  21 00 00    	ld	hl,_i
4297  155D  7E          	ld	a, (hl)
4298  155E  D6 08       	sub	a,0x08
4299  1560  30 25       	jr	NC,l_game_shoe_00125
4300  1562  4E          	ld	c,(hl)
4301  1563  06 00       	ld	b,0x00
4302  1565  21 00 00    	ld	hl,_code0
4303  1568  09          	add	hl,bc
4304  1569  4E          	ld	c, (hl)
4305  156A  06 00       	ld	b,0x00
4306  156C  21 00 00    	ld	hl,_game_encode
4307  156F  09          	add	hl, bc
4308  1570  56          	ld	d, (hl)
4309  1571  3A 00 00    	ld	a,(_i)
4310  1574  C6 0F       	add	a,0x0f
4311  1576  5F          	ld	e, a
4312  1577  D5          	push	de
4313  1578  3E 14       	ld	a,0x14
4314  157A  F5          	push	af
4315  157B  33          	inc	sp
4316  157C  CD 7C 16    	call	_zx_print_char
4317  157F  F1          	pop	af
4318  1580  33          	inc	sp
4319  1581  21 00 00    	ld	hl,_i
4320  1584  34          	inc	(hl)
4321  1585  18 D3       	jr	l_game_shoe_00107
4322  1587              l_game_shoe_00125:
4323  1587              l_game_shoe_00113:
4324  1587  3A 00 00    	ld	a,(_v0)
4325  158A  B7          	or	a, a
4326  158B  CA 0A 16    	jp	Z, l_game_shoe_00116
4327  158E  21 0C 38    	ld	hl,0x380c
4328  1591  E5          	push	hl
4329  1592  3E 08       	ld	a,0x08
4330  1594  F5          	push	af
4331  1595  33          	inc	sp
4332  1596  21 00 00    	ld	hl,_attrib_osd
4333  1599  E5          	push	hl
4334  159A  CD B5 0D    	call	_game_paint_attrib
4335  159D  F1          	pop	af
4336  159E  33          	inc	sp
4337  159F  21 64 00    	ld	hl,___str_11
4338  15A2  E3          	ex	(sp),hl
4339  15A3  21 06 08    	ld	hl,0x0806
4340  15A6  E5          	push	hl
4341  15A7  CD 00 00    	call	_zx_print_str
4342  15AA  21 18 38    	ld	hl,0x3818
4343  15AD  E5          	push	hl
4344  15AE  3E 14       	ld	a,0x14
4345  15B0  F5          	push	af
4346  15B1  33          	inc	sp
4347  15B2  21 00 00    	ld	hl,_attrib_osd
4348  15B5  E5          	push	hl
4349  15B6  CD B5 0D    	call	_game_paint_attrib
4350  15B9  F1          	pop	af
4351  15BA  33          	inc	sp
4352  15BB  21 69 00    	ld	hl,___str_12
4353  15BE  E3          	ex	(sp),hl
4354  15BF  21 06 14    	ld	hl,0x1406
4355  15C2  E5          	push	hl
4356  15C3  CD 00 00    	call	_zx_print_str
4357  15C6  01 03 00    	ld	bc,_attrib_osd + 3
4358  15C9  0A          	ld	a, (bc)
4359  15CA  32 00 00    	ld	(_v1),a
4360  15CD  11 02 00    	ld	de,_attrib_osd + 2
4361  15D0  1A          	ld	a, (de)
4362  15D1  02          	ld	(bc), a
4363  15D2  01 01 00    	ld	bc,_attrib_osd + 1
4364  15D5  0A          	ld	a, (bc)
4365  15D6  12          	ld	(de), a
4366  15D7  3A 00 00    	ld	a,(_attrib_osd)
4367  15DA  02          	ld	(bc), a
4368  15DB  3A 00 00    	ld	a,(_v1)
4369  15DE  32 00 00    	ld	(_attrib_osd),a
4370  15E1  CD 00 00    	call	_in_inkey
4371  15E4  7D          	ld	a,l
4372  15E5  32 00 00    	ld	(_v2),a
4373  15E8  B7          	or	a, a
4374  15E9  20 11       	jr	NZ,l_game_shoe_00110
4375  15EB  21 F4 01    	ld	hl,0x01f4
4376  15EE  E5          	push	hl
4377  15EF  21 00 00    	ld	hl,_time_conv
4378  15F2  E5          	push	hl
4379  15F3  CD D7 0D    	call	_game_check_time
4380  15F6  F1          	pop	af
4381  15F7  F1          	pop	af
4382  15F8  7D          	ld	a, l
4383  15F9  B7          	or	a, a
4384  15FA  28 05       	jr	Z,l_game_shoe_00111
4385  15FC              l_game_shoe_00110:
4386  15FC  21 00 00    	ld	hl,_v0
4387  15FF  36 00       	ld	(hl),0x00
4388  1601              l_game_shoe_00111:
4389  1601  21 0A 00    	ld	hl,0x000a
4390  1604  CD 00 00    	call	_z80_delay_ms_fastcall
4391  1607  C3 87 15    	jp	l_game_shoe_00113
4392  160A              l_game_shoe_00116:
4393  160A  F1          	pop	af
4394  160B  DD E1       	pop	ix
4395  160D  C9          	ret
4396  160E              	SECTION rodata_compiler
4397  005C              ___str_10:
4398  005C  43 4F 44 45 20 3A 20 
                        	DEFM "CODE : "
4399  0063  00          	DEFB 0x00
4400  0064              	SECTION rodata_compiler
4401  0064              ___str_11:
4402  0064  47 61 6D 65 	DEFM "Game"
4403  0068  00          	DEFB 0x00
4404  0069              	SECTION rodata_compiler
4405  0069              ___str_12:
4406  0069  4F 76 65 72 	DEFM "Over"
4407  006D  00          	DEFB 0x00
4408  006E              	SECTION code_compiler
4409  160E              ;	---------------------------------
4410  160E              ; Function game_set_attr
4411  160E              ; ---------------------------------
4412  160E              _game_set_attr:
4413  160E  CD 00 00    	call	___sdcc_enter_ix
4414  1611  21 00 00    	ld	hl,_attribs
4415  1614  7E          	ld	a, (hl)
4416  1615  DD 86 04    	add	a,(ix+4)
4417  1618  5F          	ld	e, a
4418  1619  23          	inc	hl
4419  161A  7E          	ld	a, (hl)
4420  161B  CE 00       	adc	a,0x00
4421  161D  57          	ld	d, a
4422  161E  1A          	ld	a, (de)
4423  161F  4F          	ld	c, a
4424  1620  06 00       	ld	b,0x00
4425  1622  EB          	ex	de,hl
4426  1623  23          	inc	hl
4427  1624  66          	ld	h, (hl)
4428  1625  2E 00       	ld	l,0x00
4429  1627  09          	add	hl,bc
4430  1628  4D          	ld	c, l
4431  1629  44          	ld	b, h
4432  162A  21 00 00    	ld	hl,_deltas
4433  162D  7E          	ld	a, (hl)
4434  162E  DD 86 05    	add	a,(ix+5)
4435  1631  5F          	ld	e, a
4436  1632  23          	inc	hl
4437  1633  7E          	ld	a, (hl)
4438  1634  CE 00       	adc	a,0x00
4439  1636  57          	ld	d, a
4440  1637  1A          	ld	a, (de)
4441  1638  6F          	ld	l, a
4442  1639  26 00       	ld	h,0x00
4443  163B  09          	add	hl, bc
4444  163C  DD 7E 06    	ld	a,(ix+6)
4445  163F  77          	ld	(hl),a
4446  1640  DD E1       	pop	ix
4447  1642  C9          	ret
4448  1643              	SECTION code_compiler
4449  1643              ;	---------------------------------
4450  1643              ; Function game_crumble
4451  1643              ; ---------------------------------
4452  1643              _game_crumble:
4453  1643  3A 08 00    	ld	a,(_state + 0x0008)
4454  1646  CB 47       	bit	0, a
4455  1648  20 31       	jr	NZ,l_game_crumble_00104
4456  164A  CB 4F       	bit	1, a
4457  164C  20 2D       	jr	NZ,l_game_crumble_00104
4458  164E  3A 08 00    	ld	a,(_col + 0x0008)
4459  1651  32 00 00    	ld	(_s_col1),a
4460  1654  3A 08 00    	ld	a,(_lin + 0x0008)
4461  1657  C6 10       	add	a,0x10
4462  1659  4F          	ld	c, a
4463  165A  3A 00 00    	ld	a,(_s_col1)
4464  165D  F5          	push	af
4465  165E  33          	inc	sp
4466  165F  79          	ld	a, c
4467  1660  F5          	push	af
4468  1661  33          	inc	sp
4469  1662  CD 00 00    	call	_spr_calc_index
4470  1665  F1          	pop	af
4471  1666  22 00 00    	ld	(_index1),hl
4472  1669  CD 00 00    	call	_player_crumble
4473  166C  21 00 00    	ld	hl,_index1
4474  166F  34          	inc	(hl)
4475  1670  20 02       	jr	NZ,l_game_crumble_00118
4476  1672  23          	inc	hl
4477  1673  34          	inc	(hl)
4478  1674              l_game_crumble_00118:
4479  1674  21 00 00    	ld	hl,_s_col1
4480  1677  34          	inc	(hl)
4481  1678  CD 00 00    	call	_player_crumble
4482  167B              l_game_crumble_00104:
4483  167B  C9          	ret
4484  167C              	SECTION code_compiler
4485  167C              ;	---------------------------------
4486  167C              ; Function zx_print_char
4487  167C              ; ---------------------------------
4488  167C              _zx_print_char:
4489  167C  CD 00 00    	call	___sdcc_enter_ix
4490  167F  F5          	push	af
4491  1680  21 00 00    	ld	hl,0x0000
4492  1683  39          	add	hl, sp
4493  1684  DD 7E 06    	ld	a,(ix+6)
4494  1687  77          	ld	(hl),a
4495  1688  5D          	ld	e,l
4496  1689  54          	ld	d,h
4497  168A  4D          	ld	c,l
4498  168B  44          	ld	b,h
4499  168C  13          	inc	de
4500  168D  AF          	xor	a, a
4501  168E  12          	ld	(de), a
4502  168F  C5          	push	bc
4503  1690  DD 66 05    	ld	h,(ix+5)
4504  1693  DD 6E 04    	ld	l,(ix+4)
4505  1696  E5          	push	hl
4506  1697  CD 00 00    	call	_zx_print_str
4507  169A  F1          	pop	af
4508  169B  DD E1       	pop	ix
4509  169D  C9          	ret
4510  169E              	SECTION code_compiler
4511  169E              ;	---------------------------------
4512  169E              ; Function game_text
4513  169E              ; ---------------------------------
4514  169E              _game_text:
4515  169E  CD 00 00    	call	___sdcc_enter_ix
4516  16A1  21 DE FF    	ld	hl, -34
4517  16A4  39          	add	hl, sp
4518  16A5  F9          	ld	sp, hl
4519  16A6  01 00 00    	ld	bc,_texts+0
4520  16A9  DD 6E 04    	ld	l,(ix+4)
4521  16AC  26 00       	ld	h,0x00
4522  16AE  29          	add	hl, hl
4523  16AF  29          	add	hl, hl
4524  16B0  29          	add	hl, hl
4525  16B1  29          	add	hl, hl
4526  16B2  29          	add	hl, hl
4527  16B3  09          	add	hl,bc
4528  16B4  4D          	ld	c, l
4529  16B5  44          	ld	b, h
4530  16B6  21 00 00    	ld	hl,0x0000
4531  16B9  39          	add	hl, sp
4532  16BA  DD 75 FE    	ld	(ix-2),l
4533  16BD  DD 74 FF    	ld	(ix-1),h
4534  16C0  C5          	push	bc
4535  16C1  E5          	push	hl
4536  16C2  3E 06       	ld	a,0x06
4537  16C4  F5          	push	af
4538  16C5  33          	inc	sp
4539  16C6  CD 71 13    	call	_page
4540  16C9  33          	inc	sp
4541  16CA  D1          	pop	de
4542  16CB  E1          	pop	hl
4543  16CC  01 20 00    	ld	bc,0x0020
4544  16CF  ED B0       	ldir
4545  16D1  AF          	xor	a, a
4546  16D2  F5          	push	af
4547  16D3  33          	inc	sp
4548  16D4  CD 71 13    	call	_page
4549  16D7  33          	inc	sp
4550  16D8  0E 01       	ld	c,0x01
4551  16DA  21 00 00    	ld	hl,_v0
4552  16DD  36 00       	ld	(hl),0x00
4553  16DF  21 00 00    	ld	hl,_s_col1
4554  16E2  36 00       	ld	(hl),0x00
4555  16E4  21 00 00    	ld	hl,_color
4556  16E7  36 01       	ld	(hl),0x01
4557  16E9              l_game_text_00108:
4558  16E9  79          	ld	a, c
4559  16EA  B7          	or	a, a
4560  16EB  28 66       	jr	Z,l_game_text_00111
4561  16ED  21 00 00    	ld	hl,_color
4562  16F0  36 01       	ld	(hl),0x01
4563  16F2              l_game_text_00101:
4564  16F2  21 00 00    	ld	hl,_color
4565  16F5  7E          	ld	a, (hl)
4566  16F6  D6 08       	sub	a,0x08
4567  16F8  30 32       	jr	NC,l_game_text_00103
4568  16FA  7E          	ld	a, (hl)
4569  16FB  F6 40       	or	a,0x40
4570  16FD  32 00 00    	ld	(_screen_ink),a
4571  1700  DD 7E FE    	ld	a,(ix-2)
4572  1703  21 00 00    	ld	hl,_v0
4573  1706  86          	add	a, (hl)
4574  1707  5F          	ld	e, a
4575  1708  DD 7E FF    	ld	a,(ix-1)
4576  170B  CE 00       	adc	a,0x00
4577  170D  57          	ld	d, a
4578  170E  1A          	ld	a, (de)
4579  170F  47          	ld	b, a
4580  1710  C5          	push	bc
4581  1711  C5          	push	bc
4582  1712  33          	inc	sp
4583  1713  2A FF FF    	ld	hl,(_s_col1-1)
4584  1716  DD 6E 05    	ld	l,(ix+5)
4585  1719  E5          	push	hl
4586  171A  CD 7C 16    	call	_zx_print_char
4587  171D  F1          	pop	af
4588  171E  33          	inc	sp
4589  171F  21 01 00    	ld	hl,0x0001
4590  1722  CD 00 00    	call	_z80_delay_ms_fastcall
4591  1725  C1          	pop	bc
4592  1726  21 00 00    	ld	hl,_color
4593  1729  34          	inc	(hl)
4594  172A  18 C6       	jr	l_game_text_00101
4595  172C              l_game_text_00103:
4596  172C  C5          	push	bc
4597  172D  21 08 00    	ld	hl,0x0008
4598  1730  CD 00 00    	call	_z80_delay_ms_fastcall
4599  1733  C1          	pop	bc
4600  1734  21 00 00    	ld	hl,_v0
4601  1737  34          	inc	(hl)
4602  1738  21 00 00    	ld	hl,_s_col1
4603  173B  34          	inc	(hl)
4604  173C  21 00 00    	ld	hl,_color
4605  173F  34          	inc	(hl)
4606  1740  3E 07       	ld	a,0x07
4607  1742  96          	sub	a, (hl)
4608  1743  30 02       	jr	NC,l_game_text_00105
4609  1745  36 01       	ld	(hl),0x01
4610  1747              l_game_text_00105:
4611  1747  3E 1F       	ld	a,0x1f
4612  1749  21 00 00    	ld	hl,_v0
4613  174C  96          	sub	a, (hl)
4614  174D  30 9A       	jr	NC,l_game_text_00108
4615  174F  0E 00       	ld	c,0x00
4616  1751  18 96       	jr	l_game_text_00108
4617  1753              l_game_text_00111:
4618  1753  DD F9       	ld	sp, ix
4619  1755  DD E1       	pop	ix
4620  1757  C9          	ret
4621  1758              	SECTION IGNORE
4622  0000              
