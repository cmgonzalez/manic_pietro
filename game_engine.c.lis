1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_draw_conv
204   0000              	GLOBAL _game_anim_conveyor
205   0000              	GLOBAL _game_tick
206   0000              	GLOBAL _game_end
207   0000              	GLOBAL _game_loop
208   0000              	GLOBAL _game_fps
209   0000              	GLOBAL _game_draw_map
210   0000              	GLOBAL _game_cell_paint_index
211   0000              	GLOBAL _game_cell_paint
212   0000              	GLOBAL _game_add_enemy
213   0000              	GLOBAL _game_print_footer
214   0000              	GLOBAL _game_print_score
215   0000              	GLOBAL _game_cls
216   0000              	GLOBAL _game_update_stats
217   0000              	GLOBAL _game_start_timer
218   0000              	GLOBAL _game_round_init
219   0000              	GLOBAL _game_print_header
220   0000              	GLOBAL _game_check_map
221   0000              	GLOBAL _game_check_cell
222   0000              	GLOBAL _game_paint_attrib
223   0000              	GLOBAL _game_colour_message
224   0000              	GLOBAL _game_check_time
225   0000              	GLOBAL _game_rotate_attrib
226   0000              	GLOBAL _game_rotate_attrib_osd
227   0000              	GLOBAL _game_attribs
228   0000              	GLOBAL _game_page_map
229   0000              ;--------------------------------------------------------
230   0000              ; Externals used
231   0000              ;--------------------------------------------------------
232   0000              	GLOBAL _ffsll_callee
233   0000              	GLOBAL _ffsll
234   0000              	GLOBAL _strxfrm_callee
235   0000              	GLOBAL _strxfrm
236   0000              	GLOBAL _strupr_fastcall
237   0000              	GLOBAL _strupr
238   0000              	GLOBAL _strtok_r_callee
239   0000              	GLOBAL _strtok_r
240   0000              	GLOBAL _strtok_callee
241   0000              	GLOBAL _strtok
242   0000              	GLOBAL _strstrip_fastcall
243   0000              	GLOBAL _strstrip
244   0000              	GLOBAL _strstr_callee
245   0000              	GLOBAL _strstr
246   0000              	GLOBAL _strspn_callee
247   0000              	GLOBAL _strspn
248   0000              	GLOBAL _strsep_callee
249   0000              	GLOBAL _strsep
250   0000              	GLOBAL _strrstrip_fastcall
251   0000              	GLOBAL _strrstrip
252   0000              	GLOBAL _strrstr_callee
253   0000              	GLOBAL _strrstr
254   0000              	GLOBAL _strrspn_callee
255   0000              	GLOBAL _strrspn
256   0000              	GLOBAL _strrev_fastcall
257   0000              	GLOBAL _strrev
258   0000              	GLOBAL _strrcspn_callee
259   0000              	GLOBAL _strrcspn
260   0000              	GLOBAL _strrchr_callee
261   0000              	GLOBAL _strrchr
262   0000              	GLOBAL _strpbrk_callee
263   0000              	GLOBAL _strpbrk
264   0000              	GLOBAL _strnlen_callee
265   0000              	GLOBAL _strnlen
266   0000              	GLOBAL _strnicmp_callee
267   0000              	GLOBAL _strnicmp
268   0000              	GLOBAL _strndup_callee
269   0000              	GLOBAL _strndup
270   0000              	GLOBAL _strncpy_callee
271   0000              	GLOBAL _strncpy
272   0000              	GLOBAL _strncmp_callee
273   0000              	GLOBAL _strncmp
274   0000              	GLOBAL _strnchr_callee
275   0000              	GLOBAL _strnchr
276   0000              	GLOBAL _strncat_callee
277   0000              	GLOBAL _strncat
278   0000              	GLOBAL _strncasecmp_callee
279   0000              	GLOBAL _strncasecmp
280   0000              	GLOBAL _strlwr_fastcall
281   0000              	GLOBAL _strlwr
282   0000              	GLOBAL _strlen_fastcall
283   0000              	GLOBAL _strlen
284   0000              	GLOBAL _strlcpy_callee
285   0000              	GLOBAL _strlcpy
286   0000              	GLOBAL _strlcat_callee
287   0000              	GLOBAL _strlcat
288   0000              	GLOBAL _stricmp_callee
289   0000              	GLOBAL _stricmp
290   0000              	GLOBAL _strerror_fastcall
291   0000              	GLOBAL _strerror
292   0000              	GLOBAL _strdup_fastcall
293   0000              	GLOBAL _strdup
294   0000              	GLOBAL _strcspn_callee
295   0000              	GLOBAL _strcspn
296   0000              	GLOBAL _strcpy_callee
297   0000              	GLOBAL _strcpy
298   0000              	GLOBAL _strcoll_callee
299   0000              	GLOBAL _strcoll
300   0000              	GLOBAL _strcmp_callee
301   0000              	GLOBAL _strcmp
302   0000              	GLOBAL _strchrnul_callee
303   0000              	GLOBAL _strchrnul
304   0000              	GLOBAL _strchr_callee
305   0000              	GLOBAL _strchr
306   0000              	GLOBAL _strcat_callee
307   0000              	GLOBAL _strcat
308   0000              	GLOBAL _strcasecmp_callee
309   0000              	GLOBAL _strcasecmp
310   0000              	GLOBAL _stpncpy_callee
311   0000              	GLOBAL _stpncpy
312   0000              	GLOBAL _stpcpy_callee
313   0000              	GLOBAL _stpcpy
314   0000              	GLOBAL _memswap_callee
315   0000              	GLOBAL _memswap
316   0000              	GLOBAL _memset_callee
317   0000              	GLOBAL _memset
318   0000              	GLOBAL _memrchr_callee
319   0000              	GLOBAL _memrchr
320   0000              	GLOBAL _memmove_callee
321   0000              	GLOBAL _memmove
322   0000              	GLOBAL _memmem_callee
323   0000              	GLOBAL _memmem
324   0000              	GLOBAL _memcpy_callee
325   0000              	GLOBAL _memcpy
326   0000              	GLOBAL _memcmp_callee
327   0000              	GLOBAL _memcmp
328   0000              	GLOBAL _memchr_callee
329   0000              	GLOBAL _memchr
330   0000              	GLOBAL _memccpy_callee
331   0000              	GLOBAL _memccpy
332   0000              	GLOBAL _ffsl_fastcall
333   0000              	GLOBAL _ffsl
334   0000              	GLOBAL _ffs_fastcall
335   0000              	GLOBAL _ffs
336   0000              	GLOBAL __strrstrip__fastcall
337   0000              	GLOBAL __strrstrip_
338   0000              	GLOBAL __memupr__callee
339   0000              	GLOBAL __memupr_
340   0000              	GLOBAL __memstrcpy__callee
341   0000              	GLOBAL __memstrcpy_
342   0000              	GLOBAL __memlwr__callee
343   0000              	GLOBAL __memlwr_
344   0000              	GLOBAL _rawmemchr_callee
345   0000              	GLOBAL _rawmemchr
346   0000              	GLOBAL _strnset_callee
347   0000              	GLOBAL _strnset
348   0000              	GLOBAL _strset_callee
349   0000              	GLOBAL _strset
350   0000              	GLOBAL _rindex_callee
351   0000              	GLOBAL _rindex
352   0000              	GLOBAL _index_callee
353   0000              	GLOBAL _index
354   0000              	GLOBAL _bzero_callee
355   0000              	GLOBAL _bzero
356   0000              	GLOBAL _bcopy_callee
357   0000              	GLOBAL _bcopy
358   0000              	GLOBAL _bcmp_callee
359   0000              	GLOBAL _bcmp
360   0000              	GLOBAL _ulltoa_callee
361   0000              	GLOBAL _ulltoa
362   0000              	GLOBAL _strtoull_callee
363   0000              	GLOBAL _strtoull
364   0000              	GLOBAL _strtoll_callee
365   0000              	GLOBAL _strtoll
366   0000              	GLOBAL _lltoa_callee
367   0000              	GLOBAL _lltoa
368   0000              	GLOBAL _llabs_callee
369   0000              	GLOBAL _llabs
370   0000              	GLOBAL __lldivu__callee
371   0000              	GLOBAL __lldivu_
372   0000              	GLOBAL __lldiv__callee
373   0000              	GLOBAL __lldiv_
374   0000              	GLOBAL _atoll_callee
375   0000              	GLOBAL _atoll
376   0000              	GLOBAL _realloc_unlocked_callee
377   0000              	GLOBAL _realloc_unlocked
378   0000              	GLOBAL _malloc_unlocked_fastcall
379   0000              	GLOBAL _malloc_unlocked
380   0000              	GLOBAL _free_unlocked_fastcall
381   0000              	GLOBAL _free_unlocked
382   0000              	GLOBAL _calloc_unlocked_callee
383   0000              	GLOBAL _calloc_unlocked
384   0000              	GLOBAL _aligned_alloc_unlocked_callee
385   0000              	GLOBAL _aligned_alloc_unlocked
386   0000              	GLOBAL _realloc_callee
387   0000              	GLOBAL _realloc
388   0000              	GLOBAL _malloc_fastcall
389   0000              	GLOBAL _malloc
390   0000              	GLOBAL _free_fastcall
391   0000              	GLOBAL _free
392   0000              	GLOBAL _calloc_callee
393   0000              	GLOBAL _calloc
394   0000              	GLOBAL _aligned_alloc_callee
395   0000              	GLOBAL _aligned_alloc
396   0000              	GLOBAL _utoa_callee
397   0000              	GLOBAL _utoa
398   0000              	GLOBAL _ultoa_callee
399   0000              	GLOBAL _ultoa
400   0000              	GLOBAL _system_fastcall
401   0000              	GLOBAL _system
402   0000              	GLOBAL _strtoul_callee
403   0000              	GLOBAL _strtoul
404   0000              	GLOBAL _strtol_callee
405   0000              	GLOBAL _strtol
406   0000              	GLOBAL _strtof_callee
407   0000              	GLOBAL _strtof
408   0000              	GLOBAL _strtod_callee
409   0000              	GLOBAL _strtod
410   0000              	GLOBAL _srand_fastcall
411   0000              	GLOBAL _srand
412   0000              	GLOBAL _rand
413   0000              	GLOBAL _quick_exit_fastcall
414   0000              	GLOBAL _quick_exit
415   0000              	GLOBAL _qsort_callee
416   0000              	GLOBAL _qsort
417   0000              	GLOBAL _ltoa_callee
418   0000              	GLOBAL _ltoa
419   0000              	GLOBAL _labs_fastcall
420   0000              	GLOBAL _labs
421   0000              	GLOBAL _itoa_callee
422   0000              	GLOBAL _itoa
423   0000              	GLOBAL _ftoh_callee
424   0000              	GLOBAL _ftoh
425   0000              	GLOBAL _ftog_callee
426   0000              	GLOBAL _ftog
427   0000              	GLOBAL _ftoe_callee
428   0000              	GLOBAL _ftoe
429   0000              	GLOBAL _ftoa_callee
430   0000              	GLOBAL _ftoa
431   0000              	GLOBAL _exit_fastcall
432   0000              	GLOBAL _exit
433   0000              	GLOBAL _dtoh_callee
434   0000              	GLOBAL _dtoh
435   0000              	GLOBAL _dtog_callee
436   0000              	GLOBAL _dtog
437   0000              	GLOBAL _dtoe_callee
438   0000              	GLOBAL _dtoe
439   0000              	GLOBAL _dtoa_callee
440   0000              	GLOBAL _dtoa
441   0000              	GLOBAL _bsearch_callee
442   0000              	GLOBAL _bsearch
443   0000              	GLOBAL _atol_fastcall
444   0000              	GLOBAL _atol
445   0000              	GLOBAL _atoi_fastcall
446   0000              	GLOBAL _atoi
447   0000              	GLOBAL _atof_fastcall
448   0000              	GLOBAL _atof
449   0000              	GLOBAL _atexit_fastcall
450   0000              	GLOBAL _atexit
451   0000              	GLOBAL _at_quick_exit_fastcall
452   0000              	GLOBAL _at_quick_exit
453   0000              	GLOBAL _abs_fastcall
454   0000              	GLOBAL _abs
455   0000              	GLOBAL _abort
456   0000              	GLOBAL __strtou__callee
457   0000              	GLOBAL __strtou_
458   0000              	GLOBAL __strtoi__callee
459   0000              	GLOBAL __strtoi_
460   0000              	GLOBAL __random_uniform_xor_8__fastcall
461   0000              	GLOBAL __random_uniform_xor_8_
462   0000              	GLOBAL __random_uniform_xor_32__fastcall
463   0000              	GLOBAL __random_uniform_xor_32_
464   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
465   0000              	GLOBAL __random_uniform_cmwc_8_
466   0000              	GLOBAL __shellsort__callee
467   0000              	GLOBAL __shellsort_
468   0000              	GLOBAL __quicksort__callee
469   0000              	GLOBAL __quicksort_
470   0000              	GLOBAL __insertion_sort__callee
471   0000              	GLOBAL __insertion_sort_
472   0000              	GLOBAL __ldivu__callee
473   0000              	GLOBAL __ldivu_
474   0000              	GLOBAL __ldiv__callee
475   0000              	GLOBAL __ldiv_
476   0000              	GLOBAL __divu__callee
477   0000              	GLOBAL __divu_
478   0000              	GLOBAL __div__callee
479   0000              	GLOBAL __div_
480   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
481   0000              	GLOBAL _NIRVANAP_drawTW_raw
482   0000              	GLOBAL _NIRVANAP_drawTW_callee
483   0000              	GLOBAL _NIRVANAP_drawTW
484   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
485   0000              	GLOBAL _NIRVANAP_drawW_raw
486   0000              	GLOBAL _NIRVANAP_drawW_callee
487   0000              	GLOBAL _NIRVANAP_drawW
488   0000              	GLOBAL _NIRVANAP_spriteT_callee
489   0000              	GLOBAL _NIRVANAP_spriteT
490   0000              	GLOBAL _NIRVANAP_fillC_callee
491   0000              	GLOBAL _NIRVANAP_fillC
492   0000              	GLOBAL _NIRVANAP_readC_callee
493   0000              	GLOBAL _NIRVANAP_readC
494   0000              	GLOBAL _NIRVANAP_paintC_callee
495   0000              	GLOBAL _NIRVANAP_paintC
496   0000              	GLOBAL _NIRVANAP_printC_callee
497   0000              	GLOBAL _NIRVANAP_printC
498   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
499   0000              	GLOBAL _NIRVANAP_fillT_raw
500   0000              	GLOBAL _NIRVANAP_fillT_callee
501   0000              	GLOBAL _NIRVANAP_fillT
502   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
503   0000              	GLOBAL _NIRVANAP_drawT_raw
504   0000              	GLOBAL _NIRVANAP_drawT_callee
505   0000              	GLOBAL _NIRVANAP_drawT
506   0000              	GLOBAL _NIRVANAP_stop
507   0000              	GLOBAL _NIRVANAP_start
508   0000              	GLOBAL _zx_print_str
509   0000              	GLOBAL _zx_print_int
510   0000              	GLOBAL _zx_print_chr
511   0000              	GLOBAL _zx_print_bonus_time
512   0000              	GLOBAL _zx_isr
513   0000              	GLOBAL _z80_otdr_callee
514   0000              	GLOBAL _z80_otdr
515   0000              	GLOBAL _z80_otir_callee
516   0000              	GLOBAL _z80_otir
517   0000              	GLOBAL _z80_outp_callee
518   0000              	GLOBAL _z80_outp
519   0000              	GLOBAL _z80_indr_callee
520   0000              	GLOBAL _z80_indr
521   0000              	GLOBAL _z80_inir_callee
522   0000              	GLOBAL _z80_inir
523   0000              	GLOBAL _z80_inp_fastcall
524   0000              	GLOBAL _z80_inp
525   0000              	GLOBAL _z80_set_int_state_fastcall
526   0000              	GLOBAL _z80_set_int_state
527   0000              	GLOBAL _z80_get_int_state
528   0000              	GLOBAL _z80_delay_tstate_fastcall
529   0000              	GLOBAL _z80_delay_tstate
530   0000              	GLOBAL _z80_delay_ms_fastcall
531   0000              	GLOBAL _z80_delay_ms
532   0000              	GLOBAL _im2_remove_generic_callback_callee
533   0000              	GLOBAL _im2_remove_generic_callback
534   0000              	GLOBAL _im2_prepend_generic_callback_callee
535   0000              	GLOBAL _im2_prepend_generic_callback
536   0000              	GLOBAL _im2_append_generic_callback_callee
537   0000              	GLOBAL _im2_append_generic_callback
538   0000              	GLOBAL _im2_create_generic_isr_8080_callee
539   0000              	GLOBAL _im2_create_generic_isr_8080
540   0000              	GLOBAL _im2_create_generic_isr_callee
541   0000              	GLOBAL _im2_create_generic_isr
542   0000              	GLOBAL _im2_install_isr_callee
543   0000              	GLOBAL _im2_install_isr
544   0000              	GLOBAL _im2_init_fastcall
545   0000              	GLOBAL _im2_init
546   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
547   0000              	GLOBAL _intrinsic_swap_word_32
548   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
549   0000              	GLOBAL _intrinsic_swap_endian_32
550   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
551   0000              	GLOBAL _intrinsic_swap_endian_16
552   0000              	GLOBAL _intrinsic_return_de
553   0000              	GLOBAL _intrinsic_return_bc
554   0000              	GLOBAL _intrinsic_exx
555   0000              	GLOBAL _intrinsic_ex_de_hl
556   0000              	GLOBAL _intrinsic_nop
557   0000              	GLOBAL _intrinsic_im_2
558   0000              	GLOBAL _intrinsic_im_1
559   0000              	GLOBAL _intrinsic_im_0
560   0000              	GLOBAL _intrinsic_retn
561   0000              	GLOBAL _intrinsic_reti
562   0000              	GLOBAL _intrinsic_halt
563   0000              	GLOBAL _intrinsic_ei
564   0000              	GLOBAL _intrinsic_di
565   0000              	GLOBAL _intrinsic_stub
566   0000              	GLOBAL _intrinsic_ini
567   0000              	GLOBAL _intrinsic_outi
568   0000              	GLOBAL _intrinsic_ldi
569   0000              	GLOBAL _zx_pattern_fill_callee
570   0000              	GLOBAL _zx_pattern_fill
571   0000              	GLOBAL _zx_saddrpup_fastcall
572   0000              	GLOBAL _zx_saddrpup
573   0000              	GLOBAL _zx_saddrpright_callee
574   0000              	GLOBAL _zx_saddrpright
575   0000              	GLOBAL _zx_saddrpleft_callee
576   0000              	GLOBAL _zx_saddrpleft
577   0000              	GLOBAL _zx_saddrpdown_fastcall
578   0000              	GLOBAL _zx_saddrpdown
579   0000              	GLOBAL _zx_saddrcup_fastcall
580   0000              	GLOBAL _zx_saddrcup
581   0000              	GLOBAL _zx_saddrcright_fastcall
582   0000              	GLOBAL _zx_saddrcright
583   0000              	GLOBAL _zx_saddrcleft_fastcall
584   0000              	GLOBAL _zx_saddrcleft
585   0000              	GLOBAL _zx_saddrcdown_fastcall
586   0000              	GLOBAL _zx_saddrcdown
587   0000              	GLOBAL _zx_saddr2py_fastcall
588   0000              	GLOBAL _zx_saddr2py
589   0000              	GLOBAL _zx_saddr2px_fastcall
590   0000              	GLOBAL _zx_saddr2px
591   0000              	GLOBAL _zx_saddr2cy_fastcall
592   0000              	GLOBAL _zx_saddr2cy
593   0000              	GLOBAL _zx_saddr2cx_fastcall
594   0000              	GLOBAL _zx_saddr2cx
595   0000              	GLOBAL _zx_saddr2aaddr_fastcall
596   0000              	GLOBAL _zx_saddr2aaddr
597   0000              	GLOBAL _zx_py2saddr_fastcall
598   0000              	GLOBAL _zx_py2saddr
599   0000              	GLOBAL _zx_py2aaddr_fastcall
600   0000              	GLOBAL _zx_py2aaddr
601   0000              	GLOBAL _zx_pxy2saddr_callee
602   0000              	GLOBAL _zx_pxy2saddr
603   0000              	GLOBAL _zx_pxy2aaddr_callee
604   0000              	GLOBAL _zx_pxy2aaddr
605   0000              	GLOBAL _zx_px2bitmask_fastcall
606   0000              	GLOBAL _zx_px2bitmask
607   0000              	GLOBAL _zx_cy2saddr_fastcall
608   0000              	GLOBAL _zx_cy2saddr
609   0000              	GLOBAL _zx_cy2aaddr_fastcall
610   0000              	GLOBAL _zx_cy2aaddr
611   0000              	GLOBAL _zx_cxy2saddr_callee
612   0000              	GLOBAL _zx_cxy2saddr
613   0000              	GLOBAL _zx_cxy2aaddr_callee
614   0000              	GLOBAL _zx_cxy2aaddr
615   0000              	GLOBAL _zx_bitmask2px_fastcall
616   0000              	GLOBAL _zx_bitmask2px
617   0000              	GLOBAL _zx_aaddrcup_fastcall
618   0000              	GLOBAL _zx_aaddrcup
619   0000              	GLOBAL _zx_aaddrcright_fastcall
620   0000              	GLOBAL _zx_aaddrcright
621   0000              	GLOBAL _zx_aaddrcleft_fastcall
622   0000              	GLOBAL _zx_aaddrcleft
623   0000              	GLOBAL _zx_aaddrcdown_fastcall
624   0000              	GLOBAL _zx_aaddrcdown
625   0000              	GLOBAL _zx_aaddr2saddr_fastcall
626   0000              	GLOBAL _zx_aaddr2saddr
627   0000              	GLOBAL _zx_aaddr2py_fastcall
628   0000              	GLOBAL _zx_aaddr2py
629   0000              	GLOBAL _zx_aaddr2px_fastcall
630   0000              	GLOBAL _zx_aaddr2px
631   0000              	GLOBAL _zx_aaddr2cy_fastcall
632   0000              	GLOBAL _zx_aaddr2cy
633   0000              	GLOBAL _zx_aaddr2cx_fastcall
634   0000              	GLOBAL _zx_aaddr2cx
635   0000              	GLOBAL _zx_visit_wc_pix_callee
636   0000              	GLOBAL _zx_visit_wc_pix
637   0000              	GLOBAL _zx_visit_wc_attr_callee
638   0000              	GLOBAL _zx_visit_wc_attr
639   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
640   0000              	GLOBAL _zx_scroll_wc_up_pix
641   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
642   0000              	GLOBAL _zx_scroll_wc_up_attr
643   0000              	GLOBAL _zx_scroll_wc_up_callee
644   0000              	GLOBAL _zx_scroll_wc_up
645   0000              	GLOBAL _zx_scroll_up_pix_callee
646   0000              	GLOBAL _zx_scroll_up_pix
647   0000              	GLOBAL _zx_scroll_up_attr_callee
648   0000              	GLOBAL _zx_scroll_up_attr
649   0000              	GLOBAL _zx_scroll_up_callee
650   0000              	GLOBAL _zx_scroll_up
651   0000              	GLOBAL _zx_cls_wc_pix_callee
652   0000              	GLOBAL _zx_cls_wc_pix
653   0000              	GLOBAL _zx_cls_wc_attr_callee
654   0000              	GLOBAL _zx_cls_wc_attr
655   0000              	GLOBAL _zx_cls_wc_callee
656   0000              	GLOBAL _zx_cls_wc
657   0000              	GLOBAL _zx_cls_pix_fastcall
658   0000              	GLOBAL _zx_cls_pix
659   0000              	GLOBAL _zx_cls_attr_fastcall
660   0000              	GLOBAL _zx_cls_attr
661   0000              	GLOBAL _zx_cls_fastcall
662   0000              	GLOBAL _zx_cls
663   0000              	GLOBAL _zx_border_fastcall
664   0000              	GLOBAL _zx_border
665   0000              	GLOBAL _zx_tape_verify_block_callee
666   0000              	GLOBAL _zx_tape_verify_block
667   0000              	GLOBAL _zx_tape_save_block_callee
668   0000              	GLOBAL _zx_tape_save_block
669   0000              	GLOBAL _zx_tape_load_block_callee
670   0000              	GLOBAL _zx_tape_load_block
671   0000              	GLOBAL _spr_destroy
672   0000              	GLOBAL _spr_unflattenP1
673   0000              	GLOBAL _spr_flatten
674   0000              	GLOBAL _spr_btile_paint_back
675   0000              	GLOBAL _spr_init_effects
676   0000              	GLOBAL _spr_turn_horizontal
677   0000              	GLOBAL _spr_play_anim
678   0000              	GLOBAL _spr_add_anim
679   0000              	GLOBAL _spr_clear_scr
680   0000              	GLOBAL _spr_back_repaint
681   0000              	GLOBAL _spr_tile_dir
682   0000              	GLOBAL _spr_tile
683   0000              	GLOBAL _spr_paint_player
684   0000              	GLOBAL _spr_paint
685   0000              	GLOBAL _spr_move_left
686   0000              	GLOBAL _spr_move_right
687   0000              	GLOBAL _spr_move_left_f
688   0000              	GLOBAL _spr_move_right_f
689   0000              	GLOBAL _spr_move_horizontal
690   0000              	GLOBAL _spr_move_down
691   0000              	GLOBAL _spr_move_up
692   0000              	GLOBAL _spr_set_right
693   0000              	GLOBAL _spr_set_left
694   0000              	GLOBAL _spr_set_down
695   0000              	GLOBAL _spr_set_up
696   0000              	GLOBAL _spr_calc_index
697   0000              	GLOBAL _spr_chktime
698   0000              	GLOBAL _player_lost_life
699   0000              	GLOBAL _player_move_jump
700   0000              	GLOBAL _player_tile
701   0000              	GLOBAL _player_pick_deadly
702   0000              	GLOBAL _player_pick_item
703   0000              	GLOBAL _player_check_ceil
704   0000              	GLOBAL _player_check_floor_walk
705   0000              	GLOBAL _player_check_floor_jump
706   0000              	GLOBAL _player_score_add
707   0000              	GLOBAL _player_move_walk
708   0000              	GLOBAL _player_turn
709   0000              	GLOBAL _player_move
710   0000              	GLOBAL _player_check_input
711   0000              	GLOBAL _player_init
712   0000              	GLOBAL _menu_define_key
713   0000              	GLOBAL _menu_redefine
714   0000              	GLOBAL _menu_main_print
715   0000              	GLOBAL _menu_main
716   0000              	GLOBAL _game_fill_row
717   0000              	GLOBAL _enemy_avoid_dead
718   0000              	GLOBAL _enemy_avoid_fall
719   0000              	GLOBAL _enemy_kill
720   0000              	GLOBAL _enemy_init
721   0000              	GLOBAL _enemy_move
722   0000              	GLOBAL _enemy_turn
723   0000              	GLOBAL _enemy_static
724   0000              	GLOBAL _enemy_walk
725   0000              	GLOBAL _enemy_horizontal
726   0000              	GLOBAL _enemy_vertical
727   0000              	GLOBAL _ay_reset
728   0000              	GLOBAL _ay_song_stop
729   0000              	GLOBAL _ay_song_play
730   0000              	GLOBAL _ay_fx_stop
731   0000              	GLOBAL _ay_fx_play
732   0000              	GLOBAL _ay_is_playing
733   0000              	GLOBAL _audio_levelup
734   0000              	GLOBAL _audio_menu
735   0000              	GLOBAL _audio_game_end
736   0000              	GLOBAL _audio_level_complete
737   0000              	GLOBAL _audio_level_start
738   0000              	GLOBAL _audio_lotr_lose_a_life
739   0000              	GLOBAL _audio_puerta
740   0000              	GLOBAL _audio_sin_mana
741   0000              	GLOBAL _audio_magic1
742   0000              	GLOBAL _audio_coin
743   0000              	GLOBAL _audio_golpe
744   0000              	GLOBAL _audio_salto
745   0000              	GLOBAL _audio_efecto
746   0000              	GLOBAL _audio_disparo_fire
747   0000              	GLOBAL _audio_disparo_axe
748   0000              	GLOBAL _audio_disparo2
749   0000              	GLOBAL _audio_disparo1
750   0000              	GLOBAL _audio_explosion1
751   0000              	GLOBAL _audio_explosion
752   0000              	GLOBAL _audio_ingame
753   0000              	GLOBAL _game_sprite_draw8
754   0000              	GLOBAL _test_func
755   0000              	GLOBAL _test_proc
756   0000              	GLOBAL _in_mouse_kempston_wheel_delta
757   0000              	GLOBAL _in_mouse_kempston_wheel
758   0000              	GLOBAL _in_mouse_kempston_callee
759   0000              	GLOBAL _in_mouse_kempston
760   0000              	GLOBAL _in_mouse_kempston_setpos_callee
761   0000              	GLOBAL _in_mouse_kempston_setpos
762   0000              	GLOBAL _in_mouse_kempston_reset
763   0000              	GLOBAL _in_mouse_kempston_init
764   0000              	GLOBAL _in_mouse_amx_wheel_delta
765   0000              	GLOBAL _in_mouse_amx_wheel
766   0000              	GLOBAL _in_mouse_amx_callee
767   0000              	GLOBAL _in_mouse_amx
768   0000              	GLOBAL _in_mouse_amx_setpos_callee
769   0000              	GLOBAL _in_mouse_amx_setpos
770   0000              	GLOBAL _in_mouse_amx_reset
771   0000              	GLOBAL _in_mouse_amx_init_callee
772   0000              	GLOBAL _in_mouse_amx_init
773   0000              	GLOBAL _in_stick_sinclair2
774   0000              	GLOBAL _in_stick_sinclair1
775   0000              	GLOBAL _in_stick_kempston
776   0000              	GLOBAL _in_stick_fuller
777   0000              	GLOBAL _in_stick_cursor
778   0000              	GLOBAL _in_stick_keyboard_fastcall
779   0000              	GLOBAL _in_stick_keyboard
780   0000              	GLOBAL _in_wait_nokey
781   0000              	GLOBAL _in_wait_key
782   0000              	GLOBAL _in_test_key
783   0000              	GLOBAL _in_pause_fastcall
784   0000              	GLOBAL _in_pause
785   0000              	GLOBAL _in_key_scancode_fastcall
786   0000              	GLOBAL _in_key_scancode
787   0000              	GLOBAL _in_key_pressed_fastcall
788   0000              	GLOBAL _in_key_pressed
789   0000              	GLOBAL _in_inkey
790   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
791   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
792   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
793   0000              	GLOBAL _NIRVANAP_HOLE
794   0000              	GLOBAL _NIRVANAP_ISR_HOOK
795   0000              	GLOBAL _scan_map
796   0000              	GLOBAL _key_map
797   0000              	GLOBAL _map_paper_last_a
798   0000              	GLOBAL _map_paper_last
799   0000              	GLOBAL _map_paper_clr
800   0000              	GLOBAL _map_paper
801   0000              	GLOBAL _anim_count
802   0000              	GLOBAL _anim_respanwn
803   0000              	GLOBAL _anim_loop
804   0000              	GLOBAL _anim_end
805   0000              	GLOBAL _anim_int
806   0000              	GLOBAL _anim_tile
807   0000              	GLOBAL _anim_col
808   0000              	GLOBAL _anim_lin
809   0000              	GLOBAL _map_heigth
810   0000              	GLOBAL _map_width
811   0000              	GLOBAL _scr_curr
812   0000              	GLOBAL _sprite_kind
813   0000              	GLOBAL _scr_map
814   0000              	GLOBAL _spr_init
815   0000              	GLOBAL _spr_map_tile
816   0000              	GLOBAL _sprite_frames
817   0000              	GLOBAL _sprite_base_speed
818   0000              	GLOBAL _sprite_speed
819   0000              	GLOBAL _screen_ink
820   0000              	GLOBAL _screen_paper
821   0000              	GLOBAL _game_start_scr
822   0000              	GLOBAL _game_score_top
823   0000              	GLOBAL _player_coins
824   0000              	GLOBAL _player_lives
825   0000              	GLOBAL _game_over
826   0000              	GLOBAL _game_sound
827   0000              	GLOBAL _game_inf_lives
828   0000              	GLOBAL _game_inmune
829   0000              	GLOBAL _sprite_curr_index
830   0000              	GLOBAL _spr_count
831   0000              	GLOBAL _last_rotated
832   0000              	GLOBAL _anim_time
833   0000              	GLOBAL _frame_time
834   0000              	GLOBAL _curr_time
835   0000              	GLOBAL _game_conveyor_flag
836   0000              	GLOBAL _game_conveyor_tile
837   0000              	GLOBAL _p_state_a
838   0000              	GLOBAL _p_state
839   0000              	GLOBAL _attrib8
840   0000              	GLOBAL _attrib7
841   0000              	GLOBAL _attrib6
842   0000              	GLOBAL _attrib5
843   0000              	GLOBAL _attrib4
844   0000              	GLOBAL _attrib3
845   0000              	GLOBAL _attrib2
846   0000              	GLOBAL _attrib1
847   0000              	GLOBAL _attrib0
848   0000              	GLOBAL _attrib_red
849   0000              	GLOBAL _game_attrib_osd
850   0000              	GLOBAL _attrib_osd
851   0000              	GLOBAL _attrib_hl
852   0000              	GLOBAL _attrib
853   0000              	GLOBAL _zx_val_asm
854   0000              	GLOBAL _enemies
855   0000              	GLOBAL _tmp_ui
856   0000              	GLOBAL _tmp_sc
857   0000              	GLOBAL _tmp_uc
858   0000              	GLOBAL _tmp1
859   0000              	GLOBAL _tmp0
860   0000              	GLOBAL _tmp
861   0000              	GLOBAL _index1
862   0000              	GLOBAL _index0
863   0000              	GLOBAL _loop_count
864   0000              	GLOBAL _s_class
865   0000              	GLOBAL _s_row1
866   0000              	GLOBAL _s_col1
867   0000              	GLOBAL _s_col0
868   0000              	GLOBAL _s_lin1
869   0000              	GLOBAL _s_lin0
870   0000              	GLOBAL _s_tile1
871   0000              	GLOBAL _s_tile0
872   0000              	GLOBAL _player_kill_index
873   0000              	GLOBAL _player_killed
874   0000              	GLOBAL _player_jump_top
875   0000              	GLOBAL _player_hit_count
876   0000              	GLOBAL _game_fps_show
877   0000              	GLOBAL _game_debug
878   0000              	GLOBAL _sprite
879   0000              	GLOBAL _fps
880   0000              	GLOBAL _game_tileset
881   0000              	GLOBAL _menu_curr_sel
882   0000              	GLOBAL _game_control_mode
883   0000              	GLOBAL _game_round_up
884   0000              	GLOBAL _game_conveyor_col1
885   0000              	GLOBAL _game_conveyor_col0
886   0000              	GLOBAL _game_conveyor_lin
887   0000              	GLOBAL _game_conveyor_dir
888   0000              	GLOBAL _game_song_play_start
889   0000              	GLOBAL _game_song_play
890   0000              	GLOBAL _game_world
891   0000              	GLOBAL _game_gravity
892   0000              	GLOBAL _player_jumpcount
893   0000              	GLOBAL _player_hit
894   0000              	GLOBAL _player_hit_time
895   0000              	GLOBAL _player_lin_scr
896   0000              	GLOBAL _player_col_scr
897   0000              	GLOBAL _player_max_vita
898   0000              	GLOBAL _player_max_mana
899   0000              	GLOBAL _player_keys
900   0000              	GLOBAL _player_vel_inc
901   0000              	GLOBAL _player_vel_y0
902   0000              	GLOBAL _player_vel_y
903   0000              	GLOBAL _player_score
904   0000              	GLOBAL _last_time
905   0000              	GLOBAL _obj_count
906   0000              	GLOBAL _obj_col
907   0000              	GLOBAL _obj_lin
908   0000              	GLOBAL _spr_timer
909   0000              	GLOBAL _jump_lin
910   0000              	GLOBAL _colint
911   0000              	GLOBAL _col
912   0000              	GLOBAL _tbuffer
913   0000              	GLOBAL _lin
914   0000              	GLOBAL _tile
915   0000              	GLOBAL _value_b
916   0000              	GLOBAL _value_a
917   0000              	GLOBAL _state_a
918   0000              	GLOBAL _state
919   0000              	GLOBAL _class
920   0000              	GLOBAL _dirs
921   0000              	GLOBAL _k2
922   0000              	GLOBAL _k1
923   0000              	GLOBAL _joyfunc2
924   0000              	GLOBAL _joyfunc1
925   0000              	GLOBAL _btiles
926   0000              	GLOBAL _v3
927   0000              	GLOBAL _v2
928   0000              	GLOBAL _v1
929   0000              	GLOBAL _v0
930   0000              	GLOBAL _i
931   0000              	GLOBAL _spec128
932   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
933   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
934   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
935   0000              	GLOBAL _ay_fx_06_disparo_fire
936   0000              	GLOBAL _ay_fx_06_disparo_axe
937   0000              	GLOBAL _ay_fx_06_explosion1
938   0000              	GLOBAL _ay_fx_06_efecto
939   0000              	GLOBAL _ay_fx_06_disparo2
940   0000              	GLOBAL _ay_fx_06_disparo1
941   0000              	GLOBAL _ay_fx_06_levelup
942   0000              	GLOBAL _ay_fx_06_magic
943   0000              	GLOBAL _ay_fx_06_sin_mana
944   0000              	GLOBAL _ay_fx_06_salto
945   0000              	GLOBAL _ay_fx_06_puerta
946   0000              	GLOBAL _ay_fx_06_magic1
947   0000              	GLOBAL _ay_fx_06_golpe
948   0000              	GLOBAL _ay_fx_06_explosion
949   0000              	GLOBAL _ay_fx_06_dano_por_toque
950   0000              	GLOBAL _ay_fx_06_coin
951   0000              	GLOBAL _ay_song_06_lotr_level_start
952   0000              	GLOBAL _ay_song_06_lotr_level_complete
953   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
954   0000              	GLOBAL _ay_song_04_ingame0
955   0000              	GLOBAL _ay_song_04_ingame
956   0000              	GLOBAL _lenght0
957   0000              	GLOBAL _world0
958   0000              ;--------------------------------------------------------
959   0000              ; special function registers
960   0000              ;--------------------------------------------------------
961   0000              defc _IO_FE	=	0x00fe
962   0000              defc _IO_1FFD	=	0x1ffd
963   0000              defc _IO_7FFD	=	0x7ffd
964   0000              ;--------------------------------------------------------
965   0000              ; ram data
966   0000              ;--------------------------------------------------------
967   0000              	SECTION bss_compiler
968   0000              ;--------------------------------------------------------
969   0000              ; ram data
970   0000              ;--------------------------------------------------------
971   0000              
972   0000              IF 0
973   0000              
974   0000              ; .area _INITIALIZED removed by z88dk
975   0000              
976   0000              
977   0000              ENDIF
978   0000              
979   0000              ;--------------------------------------------------------
980   0000              ; absolute external ram data
981   0000              ;--------------------------------------------------------
982   0000              	SECTION IGNORE
983   0000              ;--------------------------------------------------------
984   0000              ; global & static initialisations
985   0000              ;--------------------------------------------------------
986   0000              	SECTION code_crt_init
987   0000              ;--------------------------------------------------------
988   0000              ; Home
989   0000              ;--------------------------------------------------------
990   0000              	SECTION IGNORE
991   0000              ;--------------------------------------------------------
992   0000              ; code
993   0000              ;--------------------------------------------------------
994   0000              	SECTION code_compiler
995   0000              ;	---------------------------------
996   0000              ; Function game_loop
997   0000              ; ---------------------------------
998   0000              _game_loop:
999   0000  21 00 00    	ld	hl,_player_lives
1000  0003  36 03       	ld	(hl),0x03
1001  0005  21 00 00    	ld	hl,0x0000
1002  0008  22 00 00    	ld	(_player_score),hl
1003  000B  21 00 00    	ld	hl,_game_over
1004  000E  36 00       	ld	(hl),0x00
1005  0010  21 00 00    	ld	hl,_game_round_up
1006  0013  36 00       	ld	(hl),0x00
1007  0015  21 00 00    	ld	hl,_game_world
1008  0018  36 00       	ld	(hl),0x00
1009  001A  21 00 00    	ld	hl,_map_paper
1010  001D  36 00       	ld	(hl),0x00
1011  001F  21 00 00    	ld	hl,_player_lin_scr
1012  0022  36 68       	ld	(hl),0x68
1013  0024  21 00 00    	ld	hl,_player_col_scr
1014  0027  36 02       	ld	(hl),0x02
1015  0029  CD E0 04    	call	_game_round_init
1016  002C              l_game_loop_00117:
1017  002C  3A 00 00    	ld	a,(_game_over)
1018  002F  B7          	or	a, a
1019  0030  C2 D7 00    	jp	NZ, l_game_loop_00120
1020  0033  21 00 00    	ld	hl,_dirs
1021  0036  36 00       	ld	(hl),0x00
1022  0038              l_game_loop_00112:
1023  0038  3A 00 00    	ld	a,(_game_round_up)
1024  003B  B7          	or	a, a
1025  003C  20 76       	jr	NZ,l_game_loop_00114
1026  003E  3A 00 00    	ld	a,(_game_over)
1027  0041  B7          	or	a, a
1028  0042  20 70       	jr	NZ,l_game_loop_00114
1029  0044  CD 00 00    	call	_enemy_turn
1030  0047  CD 00 00    	call	_player_turn
1031  004A  3E 08       	ld	a,0x08
1032  004C  F5          	push	af
1033  004D  33          	inc	sp
1034  004E  21 00 00    	ld	hl,_anim_time
1035  0051  E5          	push	hl
1036  0052  CD 8B 07    	call	_game_check_time
1037  0055  F1          	pop	af
1038  0056  33          	inc	sp
1039  0057  7D          	ld	a, l
1040  0058  B7          	or	a, a
1041  0059  28 10       	jr	Z,l_game_loop_00104
1042  005B  2A 00 00    	ld	hl,(_curr_time)
1043  005E  22 00 00    	ld	(_anim_time),hl
1044  0061  21 00 00    	ld	hl,_game_conveyor_col0
1045  0064  7E          	ld	a, (hl)
1046  0065  B7          	or	a, a
1047  0066  28 03       	jr	Z,l_game_loop_00104
1048  0068  CD 20 04    	call	_game_anim_conveyor
1049  006B              l_game_loop_00104:
1050  006B  CD B5 07    	call	_game_rotate_attrib
1051  006E  3E 64       	ld	a,0x64
1052  0070  F5          	push	af
1053  0071  33          	inc	sp
1054  0072  21 00 00    	ld	hl,_frame_time
1055  0075  E5          	push	hl
1056  0076  CD 8B 07    	call	_game_check_time
1057  0079  F1          	pop	af
1058  007A  33          	inc	sp
1059  007B  7D          	ld	a, l
1060  007C  B7          	or	a, a
1061  007D  28 0F       	jr	Z,l_game_loop_00108
1062  007F  2A 00 00    	ld	hl,(_curr_time)
1063  0082  22 00 00    	ld	(_frame_time),hl
1064  0085  3A 00 00    	ld	a,(_game_fps_show)
1065  0088  B7          	or	a,a
1066  0089  28 03       	jr	Z,l_game_loop_00108
1067  008B  CD D8 00    	call	_game_fps
1068  008E              l_game_loop_00108:
1069  008E  21 00 00    	ld	hl,_loop_count
1070  0091  34          	inc	(hl)
1071  0092  20 02       	jr	NZ,l_game_loop_00166
1072  0094  23          	inc	hl
1073  0095  34          	inc	(hl)
1074  0096              l_game_loop_00166:
1075  0096  21 00 00    	ld	hl,_fps
1076  0099  34          	inc	(hl)
1077  009A  20 02       	jr	NZ,l_game_loop_00167
1078  009C  23          	inc	hl
1079  009D  34          	inc	(hl)
1080  009E              l_game_loop_00167:
1081  009E  3A 00 00    	ld	a,(_obj_count)
1082  00A1  21 00 00    	ld	hl,_player_coins
1083  00A4  96          	sub	a, (hl)
1084  00A5  20 91       	jr	NZ,l_game_loop_00112
1085  00A7  21 00 00    	ld	hl,_game_over
1086  00AA  36 01       	ld	(hl),0x01
1087  00AC  2E 00       	ld	l,0x00
1088  00AE  CD 00 00    	call	_zx_border_fastcall
1089  00B1  C3 38 00    	jp	l_game_loop_00112
1090  00B4              l_game_loop_00114:
1091  00B4  21 00 00    	ld	hl,_game_round_up
1092  00B7  7E          	ld	a, (hl)
1093  00B8  B7          	or	a, a
1094  00B9  CA 2C 00    	jp	Z, l_game_loop_00117
1095  00BC  36 00       	ld	(hl),0x00
1096  00BE  21 00 00    	ld	hl,_game_world
1097  00C1  34          	inc	(hl)
1098  00C2  21 00 00    	ld	hl,_scr_curr
1099  00C5  36 FF       	ld	(hl),0xff
1100  00C7  21 00 00    	ld	hl,_player_col_scr
1101  00CA  36 02       	ld	(hl),0x02
1102  00CC  21 00 00    	ld	hl,_player_lin_scr
1103  00CF  36 80       	ld	(hl),0x80
1104  00D1  CD E0 04    	call	_game_round_init
1105  00D4  C3 2C 00    	jp	l_game_loop_00117
1106  00D7              l_game_loop_00120:
1107  00D7  C9          	ret
1108  00D8              	SECTION code_compiler
1109  00D8              ;	---------------------------------
1110  00D8              ; Function game_fps
1111  00D8              ; ---------------------------------
1112  00D8              _game_fps:
1113  00D8  21 00 00    	ld	hl,_screen_ink
1114  00DB  36 07       	ld	(hl),0x07
1115  00DD  2A 00 00    	ld	hl,(_fps)
1116  00E0  E5          	push	hl
1117  00E1  21 17 18    	ld	hl,0x1817
1118  00E4  E5          	push	hl
1119  00E5  CD 00 00    	call	_zx_print_int
1120  00E8  21 00 00    	ld	hl,0x0000
1121  00EB  22 00 00    	ld	(_fps),hl
1122  00EE  C9          	ret
1123  00EF              	SECTION code_compiler
1124  00EF              ;	---------------------------------
1125  00EF              ; Function game_draw_map
1126  00EF              ; ---------------------------------
1127  00EF              _game_draw_map:
1128  00EF  CD 00 00    	call	___sdcc_enter_ix
1129  00F2  F5          	push	af
1130  00F3  76          	halt
1131  00F4  21 00 00    	ld	hl,_spr_count
1132  00F7  36 00       	ld	(hl),0x00
1133  00F9  CD 00 00    	call	_spr_init_effects
1134  00FC  11 00 00    	ld	de,_obj_col+0
1135  00FF              l_game_draw_map_00101:
1136  00FF  21 00 00    	ld	hl,_spr_count
1137  0102  7E          	ld	a, (hl)
1138  0103  D6 07       	sub	a,0x07
1139  0105  30 22       	jr	NC,l_game_draw_map_00103
1140  0107  3E 00       	ld	a, +((_class) & 0xFF)
1141  0109  86          	add	a, (hl)
1142  010A  4F          	ld	c, a
1143  010B  3E 00       	ld	a, +((_class) / 256)
1144  010D  CE 00       	adc	a,0x00
1145  010F  47          	ld	b, a
1146  0110  AF          	xor	a, a
1147  0111  02          	ld	(bc), a
1148  0112  7B          	ld	a, e
1149  0113  86          	add	a, (hl)
1150  0114  4F          	ld	c, a
1151  0115  7A          	ld	a, d
1152  0116  CE 00       	adc	a,0x00
1153  0118  47          	ld	b, a
1154  0119  AF          	xor	a, a
1155  011A  02          	ld	(bc), a
1156  011B  3E 00       	ld	a, +((_obj_lin) & 0xFF)
1157  011D  86          	add	a, (hl)
1158  011E  4F          	ld	c, a
1159  011F  3E 00       	ld	a, +((_obj_lin) / 256)
1160  0121  CE 00       	adc	a,0x00
1161  0123  47          	ld	b, a
1162  0124  AF          	xor	a, a
1163  0125  02          	ld	(bc), a
1164  0126  34          	inc	(hl)
1165  0127  18 D6       	jr	l_game_draw_map_00101
1166  0129              l_game_draw_map_00103:
1167  0129  21 00 00    	ld	hl,_spr_count
1168  012C  36 00       	ld	(hl),0x00
1169  012E  21 00 00    	ld	hl,0x0000
1170  0131  22 00 00    	ld	(_index1),hl
1171  0134  21 00 00    	ld	hl,_s_row1
1172  0137  36 01       	ld	(hl),0x01
1173  0139  21 00 00    	ld	hl,_s_lin1
1174  013C  36 10       	ld	(hl),0x10
1175  013E  21 00 00    	ld	hl,_s_col1
1176  0141  36 00       	ld	(hl),0x00
1177  0143  21 00 00    	ld	hl,_obj_count
1178  0146  36 00       	ld	(hl),0x00
1179  0148  D5          	push	de
1180  0149  CD F7 03    	call	_game_cls
1181  014C  D1          	pop	de
1182  014D  CD 00 00    	call	_NIRVANAP_stop
1183  0150  21 00 00    	ld	hl,_screen_ink
1184  0153  36 00       	ld	(hl),0x00
1185  0155  21 00 00    	ld	hl,_game_conveyor_lin
1186  0158  36 00       	ld	(hl),0x00
1187  015A  21 00 00    	ld	hl,_game_conveyor_col0
1188  015D  36 00       	ld	(hl),0x00
1189  015F  21 00 00    	ld	hl,_game_conveyor_col1
1190  0162  36 00       	ld	(hl),0x00
1191  0164  21 00 00    	ld	hl,_game_conveyor_tile
1192  0167  36 11       	ld	(hl),0x11
1193  0169              l_game_draw_map_00124:
1194  0169  21 01 00    	ld	hl,_index1 + 1
1195  016C  7E          	ld	a, (hl)
1196  016D  D6 02       	sub	a,0x02
1197  016F  D2 0F 03    	jp	NC, l_game_draw_map_00126
1198  0172  3E 00       	ld	a, +((_scr_map) & 0xFF)
1199  0174  2B          	dec	hl
1200  0175  86          	add	a, (hl)
1201  0176  4F          	ld	c, a
1202  0177  3E 00       	ld	a, +((_scr_map) / 256)
1203  0179  23          	inc	hl
1204  017A  8E          	adc	a, (hl)
1205  017B  47          	ld	b, a
1206  017C  0A          	ld	a, (bc)
1207  017D  FE 40       	cp	a,0x40
1208  017F  D2 3F 02    	jp	NC, l_game_draw_map_00120
1209  0182  D6 0E       	sub	a,0x0e
1210  0184  20 1B       	jr	NZ,l_game_draw_map_00105
1211  0186  2A 00 00    	ld	hl,(_obj_count)
1212  0189  26 00       	ld	h,0x00
1213  018B  19          	add	hl,de
1214  018C  3A 00 00    	ld	a,(_s_col1)
1215  018F  77          	ld	(hl),a
1216  0190  2A 00 00    	ld	hl,(_obj_count)
1217  0193  26 00       	ld	h,0x00
1218  0195  01 00 00    	ld	bc,_obj_lin
1219  0198  09          	add	hl,bc
1220  0199  3A 00 00    	ld	a,(_s_lin1)
1221  019C  77          	ld	(hl),a
1222  019D  21 00 00    	ld	hl,_obj_count
1223  01A0  34          	inc	(hl)
1224  01A1              l_game_draw_map_00105:
1225  01A1  2A 00 00    	ld	hl,(_index1)
1226  01A4  01 00 00    	ld	bc,_scr_map
1227  01A7  09          	add	hl,bc
1228  01A8  3A 00 00    	ld	a,(_index1)
1229  01AB  E6 1F       	and	a,0x1f
1230  01AD  DD 77 FE    	ld	(ix-2),a
1231  01B0  DD 36 FF 00 	ld	(ix-1),0x00
1232  01B4  4E          	ld	c, (hl)
1233  01B5  DD 46 FE    	ld	b,(ix-2)
1234  01B8  79          	ld	a, c
1235  01B9  D6 10       	sub	a,0x10
1236  01BB  20 04       	jr	NZ,l_game_draw_map_00187
1237  01BD  3E 01       	ld	a,0x01
1238  01BF  18 01       	jr	l_game_draw_map_00188
1239  01C1              l_game_draw_map_00187:
1240  01C1  AF          	xor	a,a
1241  01C2              l_game_draw_map_00188:
1242  01C2  4F          	ld	c, a
1243  01C3  3A 00 00    	ld	a,(_game_conveyor_col0)
1244  01C6  B7          	or	a, a
1245  01C7  28 0C       	jr	Z,l_game_draw_map_00107
1246  01C9  21 00 00    	ld	hl,_game_conveyor_col1
1247  01CC  7E          	ld	a, (hl)
1248  01CD  B7          	or	a, a
1249  01CE  20 05       	jr	NZ,l_game_draw_map_00107
1250  01D0  CB 41       	bit	0, c
1251  01D2  20 01       	jr	NZ,l_game_draw_map_00107
1252  01D4  70          	ld	(hl), b
1253  01D5              l_game_draw_map_00107:
1254  01D5  CB 41       	bit	0, c
1255  01D7  28 3E       	jr	Z,l_game_draw_map_00116
1256  01D9  21 00 00    	ld	hl,_game_conveyor_col0
1257  01DC  7E          	ld	a, (hl)
1258  01DD  B7          	or	a, a
1259  01DE  20 37       	jr	NZ,l_game_draw_map_00116
1260  01E0  70          	ld	(hl), b
1261  01E1  ED 4B 00 00 	ld	bc,(_index1)
1262  01E5  79          	ld	a,c
1263  01E6  0E 05       	ld	c,0x05
1264  01E8              l_game_draw_map_00189:
1265  01E8  CB 38       	srl	b
1266  01EA  1F          	rra
1267  01EB  0D          	dec	c
1268  01EC  20 FA       	jr	NZ,l_game_draw_map_00189
1269  01EE  07          	rlca
1270  01EF  07          	rlca
1271  01F0  07          	rlca
1272  01F1  E6 F8       	and	a,0xf8
1273  01F3  C6 08       	add	a,0x08
1274  01F5  32 00 00    	ld	(_game_conveyor_lin),a
1275  01F8  ED 4B 00 00 	ld	bc,(_index1)
1276  01FC  03          	inc	bc
1277  01FD  21 00 00    	ld	hl,_scr_map
1278  0200  09          	add	hl,bc
1279  0201  F1          	pop	af
1280  0202  7E          	ld	a,(hl)
1281  0203  E5          	push	hl
1282  0204  B7          	or	a, a
1283  0205  28 07       	jr	Z,l_game_draw_map_00111
1284  0207  21 00 00    	ld	hl,_game_conveyor_dir
1285  020A  36 FF       	ld	(hl),0xff
1286  020C  18 05       	jr	l_game_draw_map_00112
1287  020E              l_game_draw_map_00111:
1288  020E  21 00 00    	ld	hl,_game_conveyor_dir
1289  0211  36 01       	ld	(hl),0x01
1290  0213              l_game_draw_map_00112:
1291  0213  E1          	pop	hl
1292  0214  E5          	push	hl
1293  0215  36 10       	ld	(hl),0x10
1294  0217              l_game_draw_map_00116:
1295  0217  3A 00 00    	ld	a,(_s_row1)
1296  021A  07          	rlca
1297  021B  07          	rlca
1298  021C  07          	rlca
1299  021D  E6 F8       	and	a,0xf8
1300  021F  DD 77 FE    	ld	(ix-2),a
1301  0222  01 00 00    	ld	bc,_scr_map
1302  0225  2A 00 00    	ld	hl,(_index1)
1303  0228  09          	add	hl,bc
1304  0229  46          	ld	b, (hl)
1305  022A  3A 00 00    	ld	a,(_s_col1)
1306  022D  D5          	push	de
1307  022E  F5          	push	af
1308  022F  33          	inc	sp
1309  0230  DD 7E FE    	ld	a,(ix-2)
1310  0233  48          	ld	c,b
1311  0234  47          	ld	b,a
1312  0235  C5          	push	bc
1313  0236  CD 00 00    	call	_game_sprite_draw8
1314  0239  F1          	pop	af
1315  023A  33          	inc	sp
1316  023B  D1          	pop	de
1317  023C  C3 E8 02    	jp	l_game_draw_map_00121
1318  023F              l_game_draw_map_00120:
1319  023F  D6 40       	sub	a,0x40
1320  0241  C2 E8 02    	jp	NZ,l_game_draw_map_00121
1321  0244  21 00 00    	ld	hl,_index1
1322  0247  7E          	ld	a, (hl)
1323  0248  E6 1F       	and	a,0x1f
1324  024A  DD 77 FE    	ld	(ix-2),a
1325  024D  23          	inc	hl
1326  024E  46          	ld	b,(hl)
1327  024F  2B          	dec	hl
1328  0250  7E          	ld	a,(hl)
1329  0251  0E 05       	ld	c,0x05
1330  0253              l_game_draw_map_00192:
1331  0253  CB 38       	srl	b
1332  0255  1F          	rra
1333  0256  0D          	dec	c
1334  0257  20 FA       	jr	NZ,l_game_draw_map_00192
1335  0259  07          	rlca
1336  025A  07          	rlca
1337  025B  07          	rlca
1338  025C  E6 F8       	and	a,0xf8
1339  025E  47          	ld	b, a
1340  025F  D5          	push	de
1341  0260  21 01 01    	ld	hl,0x0101
1342  0263  E5          	push	hl
1343  0264  DD 7E FE    	ld	a,(ix-2)
1344  0267  48          	ld	c,b
1345  0268  47          	ld	b,a
1346  0269  C5          	push	bc
1347  026A  CD 00 00    	call	_enemy_init
1348  026D  F1          	pop	af
1349  026E  F1          	pop	af
1350  026F  D1          	pop	de
1351  0270  3E 00       	ld	a, +((_value_a) & 0xFF)
1352  0272  21 00 00    	ld	hl,_sprite
1353  0275  86          	add	a, (hl)
1354  0276  DD 77 FE    	ld	(ix-2),a
1355  0279  3E 00       	ld	a, +((_value_a) / 256)
1356  027B  CE 00       	adc	a,0x00
1357  027D  DD 77 FF    	ld	(ix-1),a
1358  0280  2A 00 00    	ld	hl,(_index1)
1359  0283  01 20 00    	ld	bc,0x0020
1360  0286  09          	add	hl,bc
1361  0287  01 00 00    	ld	bc,_scr_map
1362  028A  09          	add	hl,bc
1363  028B  4E          	ld	c, (hl)
1364  028C  E1          	pop	hl
1365  028D  E5          	push	hl
1366  028E  71          	ld	(hl), c
1367  028F  3E 00       	ld	a, +((_value_b) & 0xFF)
1368  0291  21 00 00    	ld	hl,_sprite
1369  0294  86          	add	a, (hl)
1370  0295  DD 77 FE    	ld	(ix-2),a
1371  0298  3E 00       	ld	a, +((_value_b) / 256)
1372  029A  CE 00       	adc	a,0x00
1373  029C  DD 77 FF    	ld	(ix-1),a
1374  029F  2A 00 00    	ld	hl,(_index1)
1375  02A2  01 21 00    	ld	bc,0x0021
1376  02A5  09          	add	hl,bc
1377  02A6  01 00 00    	ld	bc,_scr_map
1378  02A9  09          	add	hl,bc
1379  02AA  4E          	ld	c, (hl)
1380  02AB  E1          	pop	hl
1381  02AC  E5          	push	hl
1382  02AD  71          	ld	(hl), c
1383  02AE  2A 00 00    	ld	hl,(_index1)
1384  02B1  01 00 00    	ld	bc,_scr_map
1385  02B4  09          	add	hl,bc
1386  02B5  AF          	xor	a,a
1387  02B6  77          	ld	(hl),a
1388  02B7  ED 4B 00 00 	ld	bc,(_index1)
1389  02BB  03          	inc	bc
1390  02BC  21 00 00    	ld	hl,_scr_map
1391  02BF  09          	add	hl, bc
1392  02C0  36 00       	ld	(hl),0x00
1393  02C2  ED 4B 00 00 	ld	bc,(_index1)
1394  02C6  03          	inc	bc
1395  02C7  03          	inc	bc
1396  02C8  21 00 00    	ld	hl,_scr_map
1397  02CB  09          	add	hl, bc
1398  02CC  36 00       	ld	(hl),0x00
1399  02CE  2A 00 00    	ld	hl,(_index1)
1400  02D1  01 20 00    	ld	bc,0x0020
1401  02D4  09          	add	hl,bc
1402  02D5  01 00 00    	ld	bc,_scr_map
1403  02D8  09          	add	hl,bc
1404  02D9  36 00       	ld	(hl),0x00
1405  02DB  2A 00 00    	ld	hl,(_index1)
1406  02DE  01 21 00    	ld	bc,0x0021
1407  02E1  09          	add	hl,bc
1408  02E2  01 00 00    	ld	bc,_scr_map
1409  02E5  09          	add	hl,bc
1410  02E6  36 00       	ld	(hl),0x00
1411  02E8              l_game_draw_map_00121:
1412  02E8  21 00 00    	ld	hl,_index1
1413  02EB  34          	inc	(hl)
1414  02EC  20 02       	jr	NZ,l_game_draw_map_00193
1415  02EE  23          	inc	hl
1416  02EF  34          	inc	(hl)
1417  02F0              l_game_draw_map_00193:
1418  02F0  21 00 00    	ld	hl,_s_col1
1419  02F3  34          	inc	(hl)
1420  02F4  3A 00 00    	ld	a,(_index1)
1421  02F7  E6 1F       	and	a,0x1f
1422  02F9  C2 69 01    	jp	NZ,l_game_draw_map_00124
1423  02FC  21 00 00    	ld	hl,_s_row1
1424  02FF  34          	inc	(hl)
1425  0300  21 00 00    	ld	hl,_s_lin1
1426  0303  7E          	ld	a, (hl)
1427  0304  C6 08       	add	a,0x08
1428  0306  77          	ld	(hl), a
1429  0307  21 00 00    	ld	hl,_s_col1
1430  030A  36 00       	ld	(hl),0x00
1431  030C  C3 69 01    	jp	l_game_draw_map_00124
1432  030F              l_game_draw_map_00126:
1433  030F  CD 00 00    	call	_NIRVANAP_start
1434  0312  CD 00 00    	call	_game_update_stats
1435  0315  F1          	pop	af
1436  0316  DD E1       	pop	ix
1437  0318  C9          	ret
1438  0319              	SECTION code_compiler
1439  0319              ;	---------------------------------
1440  0319              ; Function game_cell_paint_index
1441  0319              ; ---------------------------------
1442  0319              _game_cell_paint_index:
1443  0319  3A 00 00    	ld	a,(_index1)
1444  031C  E6 1F       	and	a,0x1f
1445  031E  32 00 00    	ld	(_s_col1),a
1446  0321  2A 00 00    	ld	hl,(_index1)
1447  0324  4D          	ld	c,l
1448  0325  5C          	ld	e,h
1449  0326  06 05       	ld	b,0x05
1450  0328  79          	ld	a,c
1451  0329              l_game_cell_paint_index_00103:
1452  0329  CB 3B       	srl	e
1453  032B  1F          	rra
1454  032C  10 FB       	djnz	l_game_cell_paint_index_00103
1455  032E  07          	rlca
1456  032F  07          	rlca
1457  0330  07          	rlca
1458  0331  E6 F8       	and	a,0xf8
1459  0333  32 00 00    	ld	(_s_lin1),a
1460  0336  0F          	rrca
1461  0337  0F          	rrca
1462  0338  0F          	rrca
1463  0339  E6 1F       	and	a,0x1f
1464  033B  3C          	inc	a
1465  033C  32 00 00    	ld	(_s_row1),a
1466  033F  21 00 00    	ld	hl,_s_lin1
1467  0342  7E          	ld	a, (hl)
1468  0343  C6 10       	add	a,0x10
1469  0345  77          	ld	(hl), a
1470  0346  3A 00 00    	ld	a,(_s_row1)
1471  0349  07          	rlca
1472  034A  07          	rlca
1473  034B  07          	rlca
1474  034C  E6 F8       	and	a,0xf8
1475  034E  4F          	ld	c, a
1476  034F  11 00 00    	ld	de,_scr_map
1477  0352  2A 00 00    	ld	hl,(_index1)
1478  0355  19          	add	hl,de
1479  0356  46          	ld	b, (hl)
1480  0357  3A 00 00    	ld	a,(_s_col1)
1481  035A  F5          	push	af
1482  035B  33          	inc	sp
1483  035C  79          	ld	a, c
1484  035D  48          	ld	c,b
1485  035E  47          	ld	b,a
1486  035F  C5          	push	bc
1487  0360  CD 00 00    	call	_game_sprite_draw8
1488  0363  F1          	pop	af
1489  0364  33          	inc	sp
1490  0365  C9          	ret
1491  0366              	SECTION code_compiler
1492  0366              ;	---------------------------------
1493  0366              ; Function game_cell_paint
1494  0366              ; ---------------------------------
1495  0366              _game_cell_paint:
1496  0366  3A 00 00    	ld	a,(_s_row1)
1497  0369  07          	rlca
1498  036A  07          	rlca
1499  036B  07          	rlca
1500  036C  E6 F8       	and	a,0xf8
1501  036E  57          	ld	d, a
1502  036F  01 00 00    	ld	bc,_scr_map
1503  0372  2A 00 00    	ld	hl,(_index1)
1504  0375  09          	add	hl,bc
1505  0376  4D          	ld	c,l
1506  0377  46          	ld	b, (hl)
1507  0378  3A 00 00    	ld	a,(_s_col1)
1508  037B  5A          	ld	e,d
1509  037C  57          	ld	d,a
1510  037D  D5          	push	de
1511  037E  C5          	push	bc
1512  037F  33          	inc	sp
1513  0380  CD 00 00    	call	_game_sprite_draw8
1514  0383  F1          	pop	af
1515  0384  33          	inc	sp
1516  0385  C9          	ret
1517  0386              	SECTION code_compiler
1518  0386              ;	---------------------------------
1519  0386              ; Function game_end is a stub
1520  0386              ; ---------------------------------
1521  0386              EXTERN l_ret
1522  0386              defc _game_end = l_ret
1523  0386              	SECTION code_compiler
1524  0386              ;	---------------------------------
1525  0386              ; Function game_add_enemy
1526  0386              ; ---------------------------------
1527  0386              _game_add_enemy:
1528  0386  4D          	ld	c, l
1529  0387  21 00 00    	ld	hl,_tmp0
1530  038A  36 00       	ld	(hl),0x00
1531  038C              l_game_add_enemy_00104:
1532  038C  3E 08       	ld	a,0x08
1533  038E  21 00 00    	ld	hl,_tmp0
1534  0391  96          	sub	a, (hl)
1535  0392  38 48       	jr	C,l_game_add_enemy_00107
1536  0394  7E          	ld	a, (hl)
1537  0395  5F          	ld	e, a
1538  0396  87          	add	a, a
1539  0397  83          	add	a, e
1540  0398  21 00 00    	ld	hl,_tmp1
1541  039B  77          	ld	(hl), a
1542  039C  C6 00       	add	a,+((_spr_init) & 0xFF)
1543  039E  5F          	ld	e, a
1544  039F  3E 00       	ld	a, +((_spr_init) / 256)
1545  03A1  CE 00       	adc	a,0x00
1546  03A3  57          	ld	d, a
1547  03A4  1A          	ld	a, (de)
1548  03A5  91          	sub	a, c
1549  03A6  20 2E       	jr	NZ,l_game_add_enemy_00102
1550  03A8  6E          	ld	l,(hl)
1551  03A9  26 00       	ld	h,0x00
1552  03AB  5D          	ld	e,l
1553  03AC  54          	ld	d,h
1554  03AD  23          	inc	hl
1555  03AE  23          	inc	hl
1556  03AF  3E 00       	ld	a, +((_spr_init) & 0xFF)
1557  03B1  85          	add	a, l
1558  03B2  6F          	ld	l, a
1559  03B3  3E 00       	ld	a, +((_spr_init) / 256)
1560  03B5  8C          	adc	a, h
1561  03B6  67          	ld	h, a
1562  03B7  46          	ld	b, (hl)
1563  03B8  13          	inc	de
1564  03B9  21 00 00    	ld	hl,_spr_init
1565  03BC  19          	add	hl, de
1566  03BD  7E          	ld	a, (hl)
1567  03BE  C5          	push	bc
1568  03BF  4F          	ld	c,a
1569  03C0  C5          	push	bc
1570  03C1  2A FF FF    	ld	hl,(_s_col1 - 1)
1571  03C4  3A 00 00    	ld	a,(_s_lin1)
1572  03C7  6F          	ld	l,a
1573  03C8  E5          	push	hl
1574  03C9  CD 00 00    	call	_enemy_init
1575  03CC  F1          	pop	af
1576  03CD  F1          	pop	af
1577  03CE  C1          	pop	bc
1578  03CF  21 00 00    	ld	hl,_tmp0
1579  03D2  36 FF       	ld	(hl),0xff
1580  03D4  18 B6       	jr	l_game_add_enemy_00104
1581  03D6              l_game_add_enemy_00102:
1582  03D6  21 00 00    	ld	hl,_tmp0
1583  03D9  34          	inc	(hl)
1584  03DA  18 B0       	jr	l_game_add_enemy_00104
1585  03DC              l_game_add_enemy_00107:
1586  03DC  C9          	ret
1587  03DD              	SECTION code_compiler
1588  03DD              ;	---------------------------------
1589  03DD              ; Function game_print_footer
1590  03DD              ; ---------------------------------
1591  03DD              _game_print_footer:
1592  03DD  3A 00 00    	ld	a,(_game_fps_show)
1593  03E0  B7          	or	a, a
1594  03E1  28 10       	jr	Z,l_game_print_footer_00102
1595  03E3  21 00 00    	ld	hl,_screen_ink
1596  03E6  36 07       	ld	(hl),0x07
1597  03E8  21 00 00    	ld	hl,___str_0
1598  03EB  E5          	push	hl
1599  03EC  21 17 14    	ld	hl,0x1417
1600  03EF  E5          	push	hl
1601  03F0  CD 00 00    	call	_zx_print_str
1602  03F3              l_game_print_footer_00102:
1603  03F3  CD 00 00    	call	_game_update_stats
1604  03F6  C9          	ret
1605  03F7              	SECTION rodata_compiler
1606  0000              ___str_0:
1607  0000  4C 50 53 3A 	DEFM "LPS:"
1608  0004  00          	DEFB 0x00
1609  0005              	SECTION code_compiler
1610  03F7              ;	---------------------------------
1611  03F7              ; Function game_print_score is a stub
1612  03F7              ; ---------------------------------
1613  03F7              EXTERN l_ret
1614  03F7              defc _game_print_score = l_ret
1615  03F7              	SECTION code_compiler
1616  03F7              ;	---------------------------------
1617  03F7              ; Function game_cls
1618  03F7              ; ---------------------------------
1619  03F7              _game_cls:
1620  03F7  CD 00 00    	call	_NIRVANAP_stop
1621  03FA  2E 00       	ld	l,0x00
1622  03FC  CD 00 00    	call	_zx_cls_fastcall
1623  03FF  21 00 00    	ld	hl,_screen_ink
1624  0402  36 07       	ld	(hl),0x07
1625  0404  C3 00 00    	jp  _NIRVANAP_start
1626  0407              	SECTION code_compiler
1627  0407              ;	---------------------------------
1628  0407              ; Function game_update_stats is a stub
1629  0407              ; ---------------------------------
1630  0407              EXTERN l_ret
1631  0407              defc _game_update_stats = l_ret
1632  0407              	SECTION code_compiler
1633  0407              ;	---------------------------------
1634  0407              ; Function game_tick
1635  0407              ; ---------------------------------
1636  0407              _game_tick:
1637  0407  21 00 00    	ld	hl,_curr_time
1638  040A  34          	inc	(hl)
1639  040B  C2 00 00    	jp	NZ,_zx_isr
1640  040E  23          	inc	hl
1641  040F  34          	inc	(hl)
1642  0410  C3 00 00    	jp  _zx_isr
1643  0413              	SECTION code_compiler
1644  0413              ;	---------------------------------
1645  0413              ; Function game_start_timer
1646  0413              ; ---------------------------------
1647  0413              _game_start_timer:
1648  0413  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1649  0416  36 CD       	ld	(hl),0xcd
1650  0418  23          	inc	hl
1651  0419  11 07 04    	ld	de,_game_tick
1652  041C  73          	ld	(hl), e
1653  041D  23          	inc	hl
1654  041E  72          	ld	(hl), d
1655  041F  C9          	ret
1656  0420              	SECTION code_compiler
1657  0420              ;	---------------------------------
1658  0420              ; Function game_anim_conveyor
1659  0420              ; ---------------------------------
1660  0420              _game_anim_conveyor:
1661  0420  3A 00 00    	ld	a,(_game_conveyor_dir)
1662  0423  3C          	inc	a
1663  0424  20 0E       	jr	NZ,l_game_anim_conveyor_00106
1664  0426  21 00 00    	ld	hl,_game_conveyor_tile
1665  0429  7E          	ld	a,(hl)
1666  042A  3D          	dec	a
1667  042B  77          	ld	(hl),a
1668  042C  D6 10       	sub	a,0x10
1669  042E  30 11       	jr	NC,l_game_anim_conveyor_00107
1670  0430  36 13       	ld	(hl),0x13
1671  0432  18 0D       	jr	l_game_anim_conveyor_00107
1672  0434              l_game_anim_conveyor_00106:
1673  0434  21 00 00    	ld	hl,_game_conveyor_tile
1674  0437  7E          	ld	a,(hl)
1675  0438  3C          	inc	a
1676  0439  77          	ld	(hl),a
1677  043A  D6 14       	sub	a,0x14
1678  043C  DA 44 04    	jp	C,_game_draw_conv
1679  043F  36 10       	ld	(hl),0x10
1680  0441              l_game_anim_conveyor_00107:
1681  0441  C3 44 04    	jp  _game_draw_conv
1682  0444              	SECTION code_compiler
1683  0444              ;	---------------------------------
1684  0444              ; Function game_draw_conv
1685  0444              ; ---------------------------------
1686  0444              _game_draw_conv:
1687  0444  CD 00 00    	call	___sdcc_enter_ix
1688  0447  F5          	push	af
1689  0448  F5          	push	af
1690  0449  3B          	dec	sp
1691  044A  21 00 00    	ld	hl,_game_conveyor_tile
1692  044D  5E          	ld	e, (hl)
1693  044E  CB 3B       	srl	e
1694  0450  CB 3B       	srl	e
1695  0452  7E          	ld	a, (hl)
1696  0453  E6 03       	and	a,0x03
1697  0455  4F          	ld	c, a
1698  0456  21 00 00    	ld	hl,_game_conveyor_lin
1699  0459  46          	ld	b, (hl)
1700  045A  16 00       	ld	d,0x00
1701  045C  3A 00 00    	ld	a,(_game_tileset)
1702  045F  DD 77 FE    	ld	(ix-2),a
1703  0462  6F          	ld	l, a
1704  0463  26 00       	ld	h,0x00
1705  0465  DD 74 FF    	ld	(ix-1),h
1706  0468  19          	add	hl, de
1707  0469  5D          	ld	e, l
1708  046A  54          	ld	d, h
1709  046B  29          	add	hl, hl
1710  046C  19          	add	hl, de
1711  046D  29          	add	hl, hl
1712  046E  29          	add	hl, hl
1713  046F  29          	add	hl, hl
1714  0470  29          	add	hl, hl
1715  0471  11 00 00    	ld	de,_btiles
1716  0474  19          	add	hl,de
1717  0475  79          	ld	a,c
1718  0476  B7          	or	a, a
1719  0477  28 1D       	jr	Z,l_game_draw_conv_00105
1720  0479  3D          	dec	a
1721  047A  28 0D       	jr	Z,l_game_draw_conv_00102
1722  047C  79          	ld	a,c
1723  047D  FE 02       	cp	a,0x02
1724  047F  28 0B       	jr	Z,l_game_draw_conv_00103
1725  0481  D6 03       	sub	a,0x03
1726  0483  28 0D       	jr	Z,l_game_draw_conv_00104
1727  0485  18 0F       	jr	l_game_draw_conv_00105
1728  0487  18 0D       	jr	l_game_draw_conv_00105
1729  0489              l_game_draw_conv_00102:
1730  0489  23          	inc	hl
1731  048A  18 0A       	jr	l_game_draw_conv_00105
1732  048C              l_game_draw_conv_00103:
1733  048C  11 10 00    	ld	de,0x0010
1734  048F  19          	add	hl, de
1735  0490  18 04       	jr	l_game_draw_conv_00105
1736  0492              l_game_draw_conv_00104:
1737  0492  11 11 00    	ld	de,0x0011
1738  0495  19          	add	hl, de
1739  0496              l_game_draw_conv_00105:
1740  0496  78          	ld	a, b
1741  0497  C6 08       	add	a,0x08
1742  0499  DD 77 FB    	ld	(ix-5),a
1743  049C  EB          	ex	de,hl
1744  049D              l_game_draw_conv_00109:
1745  049D  78          	ld	a, b
1746  049E  DD 96 FB    	sub	a,(ix-5)
1747  04A1  30 37       	jr	NC,l_game_draw_conv_00111
1748  04A3  21 00 00    	ld	hl,_game_conveyor_col0
1749  04A6  4E          	ld	c, (hl)
1750  04A7  68          	ld	l, b
1751  04A8  CD 00 00    	call	_zx_py2saddr_fastcall
1752  04AB  DD 74 FF    	ld	(ix-1),h
1753  04AE  7D          	ld	a,l
1754  04AF  81          	add	a,c
1755  04B0  DD 77 FE    	ld	(ix-2),a
1756  04B3  DD 7E FF    	ld	a,(ix-1)
1757  04B6  CE 00       	adc	a,0x00
1758  04B8  DD 77 FF    	ld	(ix-1),a
1759  04BB              l_game_draw_conv_00106:
1760  04BB  79          	ld	a, c
1761  04BC  21 00 00    	ld	hl,_game_conveyor_col1
1762  04BF  96          	sub	a, (hl)
1763  04C0  30 13       	jr	NC,l_game_draw_conv_00108
1764  04C2  1A          	ld	a, (de)
1765  04C3  DD 6E FE    	ld	l,(ix-2)
1766  04C6  DD 66 FF    	ld	h,(ix-1)
1767  04C9  77          	ld	(hl), a
1768  04CA  DD 34 FE    	inc	(ix-2)
1769  04CD  20 03       	jr	NZ,l_game_draw_conv_00152
1770  04CF  DD 34 FF    	inc	(ix-1)
1771  04D2              l_game_draw_conv_00152:
1772  04D2  0C          	inc	c
1773  04D3  18 E6       	jr	l_game_draw_conv_00106
1774  04D5              l_game_draw_conv_00108:
1775  04D5  13          	inc	de
1776  04D6  13          	inc	de
1777  04D7  04          	inc	b
1778  04D8  18 C3       	jr	l_game_draw_conv_00109
1779  04DA              l_game_draw_conv_00111:
1780  04DA  76          	halt
1781  04DB  DD F9       	ld	sp, ix
1782  04DD  DD E1       	pop	ix
1783  04DF  C9          	ret
1784  04E0              	SECTION code_compiler
1785  04E0              ;	---------------------------------
1786  04E0              ; Function game_round_init
1787  04E0              ; ---------------------------------
1788  04E0              _game_round_init:
1789  04E0  21 00 00    	ld	hl,0x0000
1790  04E3  22 00 00    	ld	(_loop_count),hl
1791  04E6  21 00 00    	ld	hl,0
1792  04E9  22 00 00    	ld	(_curr_time),hl
1793  04EC  21 00 00    	ld	hl,0x0000
1794  04EF  22 00 00    	ld	(_frame_time),hl
1795  04F2  21 00 00    	ld	hl,_player_coins
1796  04F5  36 00       	ld	(hl),0x00
1797  04F7  21 00 00    	ld	hl,_game_conveyor_flag
1798  04FA  36 00       	ld	(hl),0x00
1799  04FC  CD 00 00    	call	_spr_init_effects
1800  04FF  CD 00 00    	call	_game_print_header
1801  0502  CD DD 03    	call	_game_print_footer
1802  0505  CD CD 09    	call	_game_page_map
1803  0508  CD 00 00    	call	_ay_reset
1804  050B  CD EF 00    	call	_game_draw_map
1805  050E  21 20 90    	ld	hl,0x9020
1806  0511  E5          	push	hl
1807  0512  AF          	xor	a, a
1808  0513  F5          	push	af
1809  0514  33          	inc	sp
1810  0515  21 00 00    	ld	hl,_attrib_hl
1811  0518  E5          	push	hl
1812  0519  CD 20 06    	call	_game_paint_attrib
1813  051C  F1          	pop	af
1814  051D  33          	inc	sp
1815  051E  21 05 00    	ld	hl,___str_1
1816  0521  E3          	ex	(sp),hl
1817  0522  21 11 09    	ld	hl,0x0911
1818  0525  E5          	push	hl
1819  0526  CD 00 00    	call	_zx_print_str
1820  0529  21 0A 98    	ld	hl,0x980a
1821  052C  E5          	push	hl
1822  052D  AF          	xor	a, a
1823  052E  F5          	push	af
1824  052F  33          	inc	sp
1825  0530  21 00 00    	ld	hl,_attrib_red
1826  0533  E5          	push	hl
1827  0534  CD 20 06    	call	_game_paint_attrib
1828  0537  F1          	pop	af
1829  0538  33          	inc	sp
1830  0539  21 20 98    	ld	hl,0x9820
1831  053C  E3          	ex	(sp),hl
1832  053D  3E 0A       	ld	a,0x0a
1833  053F  F5          	push	af
1834  0540  33          	inc	sp
1835  0541  21 00 00    	ld	hl,_attrib_osd
1836  0544  E5          	push	hl
1837  0545  CD 20 06    	call	_game_paint_attrib
1838  0548  F1          	pop	af
1839  0549  33          	inc	sp
1840  054A  21 14 00    	ld	hl,___str_2
1841  054D  E3          	ex	(sp),hl
1842  054E  21 12 00    	ld	hl,0x0012
1843  0551  E5          	push	hl
1844  0552  CD 00 00    	call	_zx_print_str
1845  0555  21 00 00    	ld	hl,_screen_ink
1846  0558  36 06       	ld	(hl),0x06
1847  055A  21 35 00    	ld	hl,___str_3
1848  055D  E5          	push	hl
1849  055E  21 14 00    	ld	hl,0x0014
1850  0561  E5          	push	hl
1851  0562  CD 00 00    	call	_zx_print_str
1852  0565  21 00 00    	ld	hl,_game_song_play_start
1853  0568  36 00       	ld	(hl),0x00
1854  056A  3A 00 00    	ld	a,(_game_over)
1855  056D  B7          	or	a, a
1856  056E  20 10       	jr	NZ,l_game_round_init_00102
1857  0570  2A 00 00    	ld	hl,(_player_col_scr)
1858  0573  26 60       	ld	h,0x60
1859  0575  3A 00 00    	ld	a,(_player_lin_scr)
1860  0578  E5          	push	hl
1861  0579  F5          	push	af
1862  057A  33          	inc	sp
1863  057B  CD 00 00    	call	_player_init
1864  057E  F1          	pop	af
1865  057F  33          	inc	sp
1866  0580              l_game_round_init_00102:
1867  0580  CD 00 00    	call	_game_update_stats
1868  0583  3A 00 00    	ld	a,(_game_debug)
1869  0586  B7          	or	a, a
1870  0587  20 3B       	jr	NZ,l_game_round_init_00104
1871  0589  21 56 00    	ld	hl,___str_4
1872  058C  E5          	push	hl
1873  058D  21 0C 06    	ld	hl,0x060c
1874  0590  E5          	push	hl
1875  0591  CD 00 00    	call	_zx_print_str
1876  0594  21 00 00    	ld	hl,_tmp0
1877  0597  36 0B       	ld	(hl),0x0b
1878  0599  21 11 68    	ld	hl,0x6811
1879  059C  E5          	push	hl
1880  059D  3E 06       	ld	a,0x06
1881  059F  F5          	push	af
1882  05A0  33          	inc	sp
1883  05A1  21 00 00    	ld	hl,_attrib_osd
1884  05A4  E5          	push	hl
1885  05A5  CD 20 06    	call	_game_paint_attrib
1886  05A8  F1          	pop	af
1887  05A9  F1          	pop	af
1888  05AA  33          	inc	sp
1889  05AB  3A 00 00    	ld	a,(_tmp0)
1890  05AE  C6 06       	add	a,0x06
1891  05B0  47          	ld	b, a
1892  05B1  AF          	xor	a, a
1893  05B2  F5          	push	af
1894  05B3  33          	inc	sp
1895  05B4  21 C8 00    	ld	hl,0x00c8
1896  05B7  E5          	push	hl
1897  05B8  C5          	push	bc
1898  05B9  33          	inc	sp
1899  05BA  21 0C 06    	ld	hl,0x060c
1900  05BD  E5          	push	hl
1901  05BE  CD 4A 06    	call	_game_colour_message
1902  05C1  F1          	pop	af
1903  05C2  F1          	pop	af
1904  05C3  F1          	pop	af
1905  05C4              l_game_round_init_00104:
1906  05C4  CD 00 00    	call	_audio_ingame
1907  05C7  CD 00 00    	call	_spr_btile_paint_back
1908  05CA  21 00 00    	ld	hl,_screen_ink
1909  05CD  36 12       	ld	(hl),0x12
1910  05CF  21 62 00    	ld	hl,___str_5
1911  05D2  E5          	push	hl
1912  05D3  21 00 00    	ld	hl,0x0000
1913  05D6  E5          	push	hl
1914  05D7  CD 00 00    	call	_zx_print_str
1915  05DA  2E 02       	ld	l,0x02
1916  05DC  CD 00 00    	call	_zx_border_fastcall
1917  05DF  21 00 00    	ld	hl,_screen_ink
1918  05E2  36 07       	ld	(hl),0x07
1919  05E4  C9          	ret
1920  05E5              	SECTION rodata_compiler
1921  0005              ___str_1:
1922  0005  43 45 4E 54 52 41 4C 20 43 41 56 45 52 4E 
                        	DEFM "CENTRAL CAVERN"
1923  0013  00          	DEFB 0x00
1924  0014              	SECTION rodata_compiler
1925  0014              ___str_2:
1926  0014  41 49 52 20 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ----------------------------"
1927  0034  00          	DEFB 0x00
1928  0035              	SECTION rodata_compiler
1929  0035              ___str_3:
1930  0035  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
1931  0055  00          	DEFB 0x00
1932  0056              	SECTION rodata_compiler
1933  0056              ___str_4:
1934  0056  52 4F 55 4E 44 20 53 54 41 52 54 
                        	DEFM "ROUND START"
1935  0061  00          	DEFB 0x00
1936  0062              	SECTION rodata_compiler
1937  0062              ___str_5:
1938  0062  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
1939  0082  00          	DEFB 0x00
1940  0083              	SECTION code_compiler
1941  05E5              ;	---------------------------------
1942  05E5              ; Function game_print_header
1943  05E5              ; ---------------------------------
1944  05E5              	defc _game_print_header	=	_game_print_score
1945  05E5              	SECTION code_compiler
1946  05E5              ;	---------------------------------
1947  05E5              ; Function game_check_map
1948  05E5              ; ---------------------------------
1949  05E5              _game_check_map:
1950  05E5  CD 00 00    	call	___sdcc_enter_ix
1951  05E8  DD 66 05    	ld	h,(ix+5)
1952  05EB  DD 6E 04    	ld	l,(ix+4)
1953  05EE  E5          	push	hl
1954  05EF  CD 00 00    	call	_spr_calc_index
1955  05F2  F1          	pop	af
1956  05F3  22 00 00    	ld	(_index1),hl
1957  05F6  21 00 00    	ld	hl,_index1
1958  05F9  DD E1       	pop	ix
1959  05FB  C3 FE 05    	jp	_game_check_cell
1960  05FE              	SECTION code_compiler
1961  05FE              ;	---------------------------------
1962  05FE              ; Function game_check_cell
1963  05FE              ; ---------------------------------
1964  05FE              _game_check_cell:
1965  05FE  4E          	ld	c, (hl)
1966  05FF  23          	inc	hl
1967  0600  46          	ld	b, (hl)
1968  0601  AF          	xor	a, a
1969  0602  B9          	cp	a, c
1970  0603  3E 02       	ld	a,0x02
1971  0605  98          	sbc	a, b
1972  0606  30 04       	jr	NC,l_game_check_cell_00102
1973  0608  2E 01       	ld	l,0x01
1974  060A  18 13       	jr	l_game_check_cell_00106
1975  060C              l_game_check_cell_00102:
1976  060C  21 00 00    	ld	hl,_scr_map
1977  060F  09          	add	hl, bc
1978  0610  5E          	ld	e, (hl)
1979  0611  ED 43 00 00 	ld	(_index1),bc
1980  0615  7B          	ld	a,e
1981  0616  D6 0A       	sub	a,0x0a
1982  0618  28 04       	jr	Z,l_game_check_cell_00104
1983  061A  2E 00       	ld	l,0x00
1984  061C  18 01       	jr	l_game_check_cell_00106
1985  061E              l_game_check_cell_00104:
1986  061E  6B          	ld	l, e
1987  061F              l_game_check_cell_00106:
1988  061F  C9          	ret
1989  0620              	SECTION code_compiler
1990  0620              ;	---------------------------------
1991  0620              ; Function game_paint_attrib
1992  0620              ; ---------------------------------
1993  0620              _game_paint_attrib:
1994  0620  CD 00 00    	call	___sdcc_enter_ix
1995  0623  DD 7E 06    	ld	a,(ix+6)
1996  0626  32 00 00    	ld	(_tmp_uc),a
1997  0629              l_game_paint_attrib_00103:
1998  0629  21 00 00    	ld	hl,_tmp_uc
1999  062C  7E          	ld	a, (hl)
2000  062D  DD 96 07    	sub	a,(ix+7)
2001  0630  30 15       	jr	NC,l_game_paint_attrib_00105
2002  0632  DD 4E 04    	ld	c,(ix+4)
2003  0635  DD 46 05    	ld	b,(ix+5)
2004  0638  66          	ld	h,(hl)
2005  0639  DD 6E 08    	ld	l,(ix+8)
2006  063C  E5          	push	hl
2007  063D  C5          	push	bc
2008  063E  CD 00 00    	call	_NIRVANAP_paintC_callee
2009  0641  21 00 00    	ld	hl,_tmp_uc
2010  0644  34          	inc	(hl)
2011  0645  18 E2       	jr	l_game_paint_attrib_00103
2012  0647              l_game_paint_attrib_00105:
2013  0647  DD E1       	pop	ix
2014  0649  C9          	ret
2015  064A              	SECTION code_compiler
2016  064A              ;	---------------------------------
2017  064A              ; Function game_colour_message
2018  064A              ; ---------------------------------
2019  064A              _game_colour_message:
2020  064A  CD 00 00    	call	___sdcc_enter_ix
2021  064D  F5          	push	af
2022  064E  F5          	push	af
2023  064F  F5          	push	af
2024  0650  F5          	push	af
2025  0651  D1          	pop	de
2026  0652  21 00 00    	ld	hl,_tmp
2027  0655  36 01       	ld	(hl),0x01
2028  0657  2A 00 00    	ld	hl,(_curr_time)
2029  065A  22 00 00    	ld	(_frame_time),hl
2030  065D  E5          	push	hl
2031  065E  DD 7E 04    	ld	a,(ix+4)
2032  0661  4D          	ld	c,l
2033  0662  07          	rlca
2034  0663  07          	rlca
2035  0664  07          	rlca
2036  0665  E6 F8       	and	a,0xf8
2037  0667  DD 77 FF    	ld	(ix-1),a
2038  066A  C6 08       	add	a,0x08
2039  066C  DD 77 FE    	ld	(ix-2),a
2040  066F  DD 77 FD    	ld	(ix-3),a
2041  0672              l_game_colour_message_00112:
2042  0672  3A 00 00    	ld	a,(_tmp)
2043  0675  B7          	or	a, a
2044  0676  CA 15 07    	jp	Z, l_game_colour_message_00114
2045  0679  DD 46 07    	ld	b,(ix+7)
2046  067C  21 00 00    	ld	hl,0x0000
2047  067F  39          	add	hl, sp
2048  0680  EB          	ex	de,hl
2049  0681  C5          	push	bc
2050  0682  33          	inc	sp
2051  0683  D5          	push	de
2052  0684  CD 8B 07    	call	_game_check_time
2053  0687  F1          	pop	af
2054  0688  33          	inc	sp
2055  0689  7D          	ld	a, l
2056  068A  B7          	or	a, a
2057  068B  C2 15 07    	jp	NZ, l_game_colour_message_00114
2058  068E  3E 05       	ld	a,0x05
2059  0690  F5          	push	af
2060  0691  33          	inc	sp
2061  0692  21 00 00    	ld	hl,_frame_time
2062  0695  E5          	push	hl
2063  0696  CD 8B 07    	call	_game_check_time
2064  0699  F1          	pop	af
2065  069A  33          	inc	sp
2066  069B  DD 75 FC    	ld	(ix-4),l
2067  069E  7D          	ld	a, l
2068  069F  B7          	or	a, a
2069  06A0  28 4D       	jr	Z,l_game_colour_message_00105
2070  06A2  2A 00 00    	ld	hl,(_curr_time)
2071  06A5  DD 74 FB    	ld	(ix-5),h
2072  06A8  DD 75 FA    	ld	(ix-6),l
2073  06AB  7D          	ld	a, l
2074  06AC  21 00 00    	ld	hl,_frame_time
2075  06AF  77          	ld	(hl), a
2076  06B0  DD 7E FB    	ld	a,(ix-5)
2077  06B3  23          	inc	hl
2078  06B4  77          	ld	(hl), a
2079  06B5  3A 00 00    	ld	a,(_game_over)
2080  06B8  B7          	or	a, a
2081  06B9  28 1B       	jr	Z,l_game_colour_message_00102
2082  06BB  DD 66 FD    	ld	h,(ix-3)
2083  06BE  DD 6E 06    	ld	l,(ix+6)
2084  06C1  E5          	push	hl
2085  06C2  DD 7E 05    	ld	a,(ix+5)
2086  06C5  F5          	push	af
2087  06C6  33          	inc	sp
2088  06C7  21 00 00    	ld	hl,_attrib_hl
2089  06CA  E5          	push	hl
2090  06CB  CD 20 06    	call	_game_paint_attrib
2091  06CE  F1          	pop	af
2092  06CF  F1          	pop	af
2093  06D0  33          	inc	sp
2094  06D1  CD B5 07    	call	_game_rotate_attrib
2095  06D4  18 19       	jr	l_game_colour_message_00105
2096  06D6              l_game_colour_message_00102:
2097  06D6  DD 66 FE    	ld	h,(ix-2)
2098  06D9  DD 6E 06    	ld	l,(ix+6)
2099  06DC  E5          	push	hl
2100  06DD  DD 7E 05    	ld	a,(ix+5)
2101  06E0  F5          	push	af
2102  06E1  33          	inc	sp
2103  06E2  21 00 00    	ld	hl,_attrib_osd
2104  06E5  E5          	push	hl
2105  06E6  CD 20 06    	call	_game_paint_attrib
2106  06E9  F1          	pop	af
2107  06EA  F1          	pop	af
2108  06EB  33          	inc	sp
2109  06EC  CD 25 08    	call	_game_rotate_attrib_osd
2110  06EF              l_game_colour_message_00105:
2111  06EF  DD 7E 09    	ld	a,(ix+9)
2112  06F2  B7          	or	a, a
2113  06F3  CA 72 06    	jp	Z, l_game_colour_message_00112
2114  06F6              l_game_colour_message_00106:
2115  06F6  21 00 00    	ld	hl,_k1
2116  06F9  E5          	push	hl
2117  06FA  2A 00 00    	ld	hl,(_joyfunc1)
2118  06FD  CD 00 00    	call	___sdcc_call_hl
2119  0700  F1          	pop	af
2120  0701  DD 74 FB    	ld	(ix-5),h
2121  0704  DD 75 FA    	ld	(ix-6),l
2122  0707  7C          	ld	a,h
2123  0708  DD B6 FA    	or	a,(ix-6)
2124  070B  CA 72 06    	jp	Z, l_game_colour_message_00112
2125  070E  21 00 00    	ld	hl,_tmp
2126  0711  36 00       	ld	(hl),0x00
2127  0713  18 E1       	jr	l_game_colour_message_00106
2128  0715              l_game_colour_message_00114:
2129  0715  DD 7E 06    	ld	a,(ix+6)
2130  0718  DD 96 05    	sub	a,(ix+5)
2131  071B  4F          	ld	c, a
2132  071C  3A 00 00    	ld	a,(_game_over)
2133  071F  B7          	or	a, a
2134  0720  28 2F       	jr	Z,l_game_colour_message_00118
2135  0722  21 00 00    	ld	hl,_tmp1
2136  0725  71          	ld	(hl), c
2137  0726  21 00 00    	ld	hl,_tmp0
2138  0729  36 00       	ld	(hl),0x00
2139  072B              l_game_colour_message_00121:
2140  072B  3A 00 00    	ld	a,(_tmp0)
2141  072E  21 00 00    	ld	hl,_tmp1
2142  0731  96          	sub	a, (hl)
2143  0732  30 52       	jr	NC,l_game_colour_message_00126
2144  0734  DD 7E 05    	ld	a,(ix+5)
2145  0737  21 00 00    	ld	hl,_tmp0
2146  073A  86          	add	a, (hl)
2147  073B  4F          	ld	c, a
2148  073C  21 83 00    	ld	hl,___str_6
2149  073F  E5          	push	hl
2150  0740  79          	ld	a, c
2151  0741  F5          	push	af
2152  0742  33          	inc	sp
2153  0743  DD 7E 04    	ld	a,(ix+4)
2154  0746  F5          	push	af
2155  0747  33          	inc	sp
2156  0748  CD 00 00    	call	_zx_print_str
2157  074B  21 00 00    	ld	hl,_tmp0
2158  074E  34          	inc	(hl)
2159  074F  18 DA       	jr	l_game_colour_message_00121
2160  0751              l_game_colour_message_00118:
2161  0751  21 00 00    	ld	hl,_tmp1
2162  0754  71          	ld	(hl), c
2163  0755  DD 7E FF    	ld	a,(ix-1)
2164  0758  32 00 00    	ld	(_s_lin0),a
2165  075B  DD 7E 05    	ld	a,(ix+5)
2166  075E  CB 3F       	srl	a
2167  0760  87          	add	a, a
2168  0761  32 00 00    	ld	(_s_col1),a
2169  0764  21 00 00    	ld	hl,_tmp0
2170  0767  36 00       	ld	(hl),0x00
2171  0769              l_game_colour_message_00124:
2172  0769  3A 00 00    	ld	a,(_tmp0)
2173  076C  21 00 00    	ld	hl,_tmp1
2174  076F  96          	sub	a, (hl)
2175  0770  30 14       	jr	NC,l_game_colour_message_00126
2176  0772  3A 00 00    	ld	a,(_s_col1)
2177  0775  21 00 00    	ld	hl,_tmp0
2178  0778  86          	add	a, (hl)
2179  0779  32 00 00    	ld	(_s_col0),a
2180  077C  CD 00 00    	call	_spr_back_repaint
2181  077F  21 00 00    	ld	hl,_tmp0
2182  0782  34          	inc	(hl)
2183  0783  34          	inc	(hl)
2184  0784  18 E3       	jr	l_game_colour_message_00124
2185  0786              l_game_colour_message_00126:
2186  0786  DD F9       	ld	sp, ix
2187  0788  DD E1       	pop	ix
2188  078A  C9          	ret
2189  078B              	SECTION rodata_compiler
2190  0083              ___str_6:
2191  0083  20          	DEFM " "
2192  0084  00          	DEFB 0x00
2193  0085              	SECTION code_compiler
2194  078B              ;	---------------------------------
2195  078B              ; Function game_check_time
2196  078B              ; ---------------------------------
2197  078B              _game_check_time:
2198  078B  CD 00 00    	call	___sdcc_enter_ix
2199  078E  2A 00 00    	ld	hl,(_curr_time)
2200  0791  4D          	ld	c, l
2201  0792  DD 6E 04    	ld	l,(ix+4)
2202  0795  44          	ld	b,h
2203  0796  DD 66 05    	ld	h,(ix+5)
2204  0799  5E          	ld	e, (hl)
2205  079A  23          	inc	hl
2206  079B  56          	ld	d, (hl)
2207  079C  79          	ld	a, c
2208  079D  93          	sub	a, e
2209  079E  4F          	ld	c, a
2210  079F  78          	ld	a, b
2211  07A0  9A          	sbc	a, d
2212  07A1  47          	ld	b, a
2213  07A2  DD 7E 06    	ld	a,(ix+6)
2214  07A5  16 00       	ld	d,0x00
2215  07A7  91          	sub	a, c
2216  07A8  7A          	ld	a, d
2217  07A9  98          	sbc	a, b
2218  07AA  30 04       	jr	NC,l_game_check_time_00102
2219  07AC  2E 01       	ld	l,0x01
2220  07AE  18 02       	jr	l_game_check_time_00104
2221  07B0              l_game_check_time_00102:
2222  07B0  2E 00       	ld	l,0x00
2223  07B2              l_game_check_time_00104:
2224  07B2  DD E1       	pop	ix
2225  07B4  C9          	ret
2226  07B5              	SECTION code_compiler
2227  07B5              ;	---------------------------------
2228  07B5              ; Function game_rotate_attrib
2229  07B5              ; ---------------------------------
2230  07B5              _game_rotate_attrib:
2231  07B5  3E 07       	ld	a,0x07
2232  07B7  21 00 00    	ld	hl,_last_rotated
2233  07BA  96          	sub	a, (hl)
2234  07BB  30 02       	jr	NC,l_game_rotate_attrib_00102
2235  07BD  36 00       	ld	(hl),0x00
2236  07BF              l_game_rotate_attrib_00102:
2237  07BF  3A 00 00    	ld	a,(_last_rotated)
2238  07C2  32 00 00    	ld	(_tmp_uc),a
2239  07C5              l_game_rotate_attrib_00110:
2240  07C5  21 00 00    	ld	hl,_tmp_uc
2241  07C8  7E          	ld	a, (hl)
2242  07C9  D6 08       	sub	a,0x08
2243  07CB  30 57       	jr	NC,l_game_rotate_attrib_00112
2244  07CD  3E 00       	ld	a, +((_obj_col) & 0xFF)
2245  07CF  86          	add	a, (hl)
2246  07D0  4F          	ld	c, a
2247  07D1  3E 00       	ld	a, +((_obj_col) / 256)
2248  07D3  CE 00       	adc	a,0x00
2249  07D5  47          	ld	b, a
2250  07D6  0A          	ld	a, (bc)
2251  07D7  4F          	ld	c,a
2252  07D8  B7          	or	a, a
2253  07D9  28 3F       	jr	Z,l_game_rotate_attrib_00106
2254  07DB  7E          	ld	a, (hl)
2255  07DC  3C          	inc	a
2256  07DD  32 00 00    	ld	(_last_rotated),a
2257  07E0  2A 00 00    	ld	hl,(_tmp_uc)
2258  07E3  26 00       	ld	h,0x00
2259  07E5  11 00 00    	ld	de,_obj_lin
2260  07E8  19          	add	hl,de
2261  07E9  46          	ld	b, (hl)
2262  07EA  79          	ld	a, c
2263  07EB  48          	ld	c,b
2264  07EC  47          	ld	b,a
2265  07ED  C5          	push	bc
2266  07EE  21 00 00    	ld	hl,_attrib8
2267  07F1  E5          	push	hl
2268  07F2  CD 00 00    	call	_NIRVANAP_paintC_callee
2269  07F5  3A 00 00    	ld	a,(_game_attrib_osd)
2270  07F8  D6 07       	sub	a,0x07
2271  07FA  20 05       	jr	NZ,l_game_rotate_attrib_00104
2272  07FC  21 00 00    	ld	hl,_game_attrib_osd
2273  07FF  36 01       	ld	(hl),0x01
2274  0801              l_game_rotate_attrib_00104:
2275  0801  21 00 00    	ld	hl,_game_attrib_osd
2276  0804  7E          	ld	a,(hl)
2277  0805  3C          	inc	a
2278  0806  77          	ld	(hl),a
2279  0807  32 00 00    	ld	(_attrib8),a
2280  080A  32 01 00    	ld	((_attrib8 + 0x0001)),a
2281  080D  32 02 00    	ld	((_attrib8 + 0x0002)),a
2282  0810  32 03 00    	ld	((_attrib8 + 0x0003)),a
2283  0813  21 00 00    	ld	hl,_tmp_uc
2284  0816  36 08       	ld	(hl),0x08
2285  0818  18 04       	jr	l_game_rotate_attrib_00111
2286  081A              l_game_rotate_attrib_00106:
2287  081A  21 00 00    	ld	hl,_last_rotated
2288  081D  34          	inc	(hl)
2289  081E              l_game_rotate_attrib_00111:
2290  081E  21 00 00    	ld	hl,_tmp_uc
2291  0821  34          	inc	(hl)
2292  0822  18 A1       	jr	l_game_rotate_attrib_00110
2293  0824              l_game_rotate_attrib_00112:
2294  0824  C9          	ret
2295  0825              	SECTION code_compiler
2296  0825              ;	---------------------------------
2297  0825              ; Function game_rotate_attrib_osd
2298  0825              ; ---------------------------------
2299  0825              _game_rotate_attrib_osd:
2300  0825  3A 00 00    	ld	a,(_game_attrib_osd)
2301  0828  D6 07       	sub	a,0x07
2302  082A  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2303  082C  21 00 00    	ld	hl,_game_attrib_osd
2304  082F  36 01       	ld	(hl),0x01
2305  0831              l_game_rotate_attrib_osd_00102:
2306  0831  21 00 00    	ld	hl,_game_attrib_osd
2307  0834  7E          	ld	a,(hl)
2308  0835  3C          	inc	a
2309  0836  77          	ld	(hl),a
2310  0837  32 00 00    	ld	(_attrib_osd),a
2311  083A  32 01 00    	ld	((_attrib_osd + 0x0001)),a
2312  083D  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2313  0840  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2314  0843  C9          	ret
2315  0844              	SECTION code_compiler
2316  0844              ;	---------------------------------
2317  0844              ; Function game_attribs
2318  0844              ; ---------------------------------
2319  0844              _game_attribs:
2320  0844  01 00 00    	ld	bc,_attrib0+0
2321  0847  21 00 00    	ld	hl,_map_paper
2322  084A  7E          	ld	a, (hl)
2323  084B  F6 41       	or	a,0x41
2324  084D  02          	ld	(bc), a
2325  084E  59          	ld	e, c
2326  084F  50          	ld	d, b
2327  0850  13          	inc	de
2328  0851  7E          	ld	a, (hl)
2329  0852  F6 41       	or	a,0x41
2330  0854  12          	ld	(de), a
2331  0855  7E          	ld	a, (hl)
2332  0856  F6 41       	or	a,0x41
2333  0858  32 02 00    	ld	((_attrib0 + 0x0002)),a
2334  085B  03          	inc	bc
2335  085C  03          	inc	bc
2336  085D  03          	inc	bc
2337  085E  21 00 00    	ld	hl,_map_paper
2338  0861  7E          	ld	a, (hl)
2339  0862  F6 43       	or	a,0x43
2340  0864  02          	ld	(bc), a
2341  0865  01 00 00    	ld	bc,_attrib1+0
2342  0868  7E          	ld	a, (hl)
2343  0869  F6 02       	or	a,0x02
2344  086B  02          	ld	(bc), a
2345  086C  59          	ld	e, c
2346  086D  50          	ld	d, b
2347  086E  13          	inc	de
2348  086F  7E          	ld	a, (hl)
2349  0870  F6 42       	or	a,0x42
2350  0872  12          	ld	(de), a
2351  0873  7E          	ld	a, (hl)
2352  0874  F6 03       	or	a,0x03
2353  0876  32 02 00    	ld	((_attrib1 + 0x0002)),a
2354  0879  03          	inc	bc
2355  087A  03          	inc	bc
2356  087B  03          	inc	bc
2357  087C  21 00 00    	ld	hl,_map_paper
2358  087F  7E          	ld	a, (hl)
2359  0880  F6 43       	or	a,0x43
2360  0882  02          	ld	(bc), a
2361  0883  01 00 00    	ld	bc,_attrib2+0
2362  0886  7E          	ld	a, (hl)
2363  0887  F6 02       	or	a,0x02
2364  0889  02          	ld	(bc), a
2365  088A  59          	ld	e, c
2366  088B  50          	ld	d, b
2367  088C  13          	inc	de
2368  088D  7E          	ld	a, (hl)
2369  088E  F6 42       	or	a,0x42
2370  0890  12          	ld	(de), a
2371  0891  7E          	ld	a, (hl)
2372  0892  F6 03       	or	a,0x03
2373  0894  32 02 00    	ld	((_attrib2 + 0x0002)),a
2374  0897  03          	inc	bc
2375  0898  03          	inc	bc
2376  0899  03          	inc	bc
2377  089A  21 00 00    	ld	hl,_map_paper
2378  089D  7E          	ld	a, (hl)
2379  089E  F6 43       	or	a,0x43
2380  08A0  02          	ld	(bc), a
2381  08A1  01 00 00    	ld	bc,_attrib3+0
2382  08A4  7E          	ld	a, (hl)
2383  08A5  F6 42       	or	a,0x42
2384  08A7  02          	ld	(bc), a
2385  08A8  59          	ld	e, c
2386  08A9  50          	ld	d, b
2387  08AA  13          	inc	de
2388  08AB  7E          	ld	a, (hl)
2389  08AC  F6 02       	or	a,0x02
2390  08AE  12          	ld	(de), a
2391  08AF  7E          	ld	a, (hl)
2392  08B0  F6 03       	or	a,0x03
2393  08B2  32 02 00    	ld	((_attrib3 + 0x0002)),a
2394  08B5  03          	inc	bc
2395  08B6  03          	inc	bc
2396  08B7  03          	inc	bc
2397  08B8  21 00 00    	ld	hl,_map_paper
2398  08BB  7E          	ld	a, (hl)
2399  08BC  F6 43       	or	a,0x43
2400  08BE  02          	ld	(bc), a
2401  08BF  01 00 00    	ld	bc,_attrib4+0
2402  08C2  7E          	ld	a, (hl)
2403  08C3  F6 57       	or	a,0x57
2404  08C5  02          	ld	(bc), a
2405  08C6  59          	ld	e, c
2406  08C7  50          	ld	d, b
2407  08C8  13          	inc	de
2408  08C9  7E          	ld	a, (hl)
2409  08CA  F6 56       	or	a,0x56
2410  08CC  12          	ld	(de), a
2411  08CD  7E          	ld	a, (hl)
2412  08CE  F6 57       	or	a,0x57
2413  08D0  32 02 00    	ld	((_attrib4 + 0x0002)),a
2414  08D3  03          	inc	bc
2415  08D4  03          	inc	bc
2416  08D5  03          	inc	bc
2417  08D6  21 00 00    	ld	hl,_map_paper
2418  08D9  7E          	ld	a, (hl)
2419  08DA  F6 56       	or	a,0x56
2420  08DC  02          	ld	(bc), a
2421  08DD  01 00 00    	ld	bc,_attrib5+0
2422  08E0  7E          	ld	a, (hl)
2423  08E1  F6 44       	or	a,0x44
2424  08E3  02          	ld	(bc), a
2425  08E4  59          	ld	e, c
2426  08E5  50          	ld	d, b
2427  08E6  13          	inc	de
2428  08E7  7E          	ld	a, (hl)
2429  08E8  F6 44       	or	a,0x44
2430  08EA  12          	ld	(de), a
2431  08EB  7E          	ld	a, (hl)
2432  08EC  F6 45       	or	a,0x45
2433  08EE  32 02 00    	ld	((_attrib5 + 0x0002)),a
2434  08F1  03          	inc	bc
2435  08F2  03          	inc	bc
2436  08F3  03          	inc	bc
2437  08F4  21 00 00    	ld	hl,_map_paper
2438  08F7  7E          	ld	a, (hl)
2439  08F8  F6 45       	or	a,0x45
2440  08FA  02          	ld	(bc), a
2441  08FB  01 00 00    	ld	bc,_attrib6+0
2442  08FE  7E          	ld	a, (hl)
2443  08FF  F6 46       	or	a,0x46
2444  0901  02          	ld	(bc), a
2445  0902  59          	ld	e, c
2446  0903  50          	ld	d, b
2447  0904  13          	inc	de
2448  0905  7E          	ld	a, (hl)
2449  0906  F6 44       	or	a,0x44
2450  0908  12          	ld	(de), a
2451  0909  7E          	ld	a, (hl)
2452  090A  F6 44       	or	a,0x44
2453  090C  32 02 00    	ld	((_attrib6 + 0x0002)),a
2454  090F  03          	inc	bc
2455  0910  03          	inc	bc
2456  0911  03          	inc	bc
2457  0912  21 00 00    	ld	hl,_map_paper
2458  0915  7E          	ld	a, (hl)
2459  0916  F6 44       	or	a,0x44
2460  0918  02          	ld	(bc), a
2461  0919  01 00 00    	ld	bc,_attrib7+0
2462  091C  7E          	ld	a, (hl)
2463  091D  F6 41       	or	a,0x41
2464  091F  02          	ld	(bc), a
2465  0920  59          	ld	e, c
2466  0921  50          	ld	d, b
2467  0922  13          	inc	de
2468  0923  7E          	ld	a, (hl)
2469  0924  F6 05       	or	a,0x05
2470  0926  12          	ld	(de), a
2471  0927  7E          	ld	a, (hl)
2472  0928  F6 45       	or	a,0x45
2473  092A  32 02 00    	ld	((_attrib7 + 0x0002)),a
2474  092D  03          	inc	bc
2475  092E  03          	inc	bc
2476  092F  03          	inc	bc
2477  0930  21 00 00    	ld	hl,_map_paper
2478  0933  7E          	ld	a, (hl)
2479  0934  F6 47       	or	a,0x47
2480  0936  02          	ld	(bc), a
2481  0937  01 00 00    	ld	bc,_attrib8+0
2482  093A  7E          	ld	a, (hl)
2483  093B  F6 46       	or	a,0x46
2484  093D  02          	ld	(bc), a
2485  093E  59          	ld	e, c
2486  093F  50          	ld	d, b
2487  0940  13          	inc	de
2488  0941  7E          	ld	a, (hl)
2489  0942  F6 42       	or	a,0x42
2490  0944  12          	ld	(de), a
2491  0945  7E          	ld	a, (hl)
2492  0946  F6 46       	or	a,0x46
2493  0948  32 02 00    	ld	((_attrib8 + 0x0002)),a
2494  094B  03          	inc	bc
2495  094C  03          	inc	bc
2496  094D  03          	inc	bc
2497  094E  21 00 00    	ld	hl,_map_paper
2498  0951  7E          	ld	a, (hl)
2499  0952  F6 42       	or	a,0x42
2500  0954  02          	ld	(bc), a
2501  0955  01 00 00    	ld	bc,_attrib+0
2502  0958  7E          	ld	a, (hl)
2503  0959  F6 47       	or	a,0x47
2504  095B  02          	ld	(bc), a
2505  095C  59          	ld	e, c
2506  095D  50          	ld	d, b
2507  095E  13          	inc	de
2508  095F  7E          	ld	a, (hl)
2509  0960  F6 47       	or	a,0x47
2510  0962  12          	ld	(de), a
2511  0963  7E          	ld	a, (hl)
2512  0964  F6 47       	or	a,0x47
2513  0966  32 02 00    	ld	((_attrib + 0x0002)),a
2514  0969  03          	inc	bc
2515  096A  03          	inc	bc
2516  096B  03          	inc	bc
2517  096C  21 00 00    	ld	hl,_map_paper
2518  096F  7E          	ld	a, (hl)
2519  0970  F6 47       	or	a,0x47
2520  0972  02          	ld	(bc), a
2521  0973  01 00 00    	ld	bc,_attrib_hl+0
2522  0976  7E          	ld	a, (hl)
2523  0977  F6 33       	or	a,0x33
2524  0979  02          	ld	(bc), a
2525  097A  59          	ld	e, c
2526  097B  50          	ld	d, b
2527  097C  13          	inc	de
2528  097D  7E          	ld	a, (hl)
2529  097E  F6 30       	or	a,0x30
2530  0980  12          	ld	(de), a
2531  0981  7E          	ld	a, (hl)
2532  0982  F6 31       	or	a,0x31
2533  0984  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2534  0987  03          	inc	bc
2535  0988  03          	inc	bc
2536  0989  03          	inc	bc
2537  098A  21 00 00    	ld	hl,_map_paper
2538  098D  7E          	ld	a, (hl)
2539  098E  F6 30       	or	a,0x30
2540  0990  02          	ld	(bc), a
2541  0991  01 00 00    	ld	bc,_attrib_osd+0
2542  0994  7E          	ld	a, (hl)
2543  0995  F6 27       	or	a,0x27
2544  0997  02          	ld	(bc), a
2545  0998  59          	ld	e, c
2546  0999  50          	ld	d, b
2547  099A  13          	inc	de
2548  099B  7E          	ld	a, (hl)
2549  099C  F6 27       	or	a,0x27
2550  099E  12          	ld	(de), a
2551  099F  7E          	ld	a, (hl)
2552  09A0  F6 27       	or	a,0x27
2553  09A2  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2554  09A5  03          	inc	bc
2555  09A6  03          	inc	bc
2556  09A7  03          	inc	bc
2557  09A8  21 00 00    	ld	hl,_map_paper
2558  09AB  7E          	ld	a, (hl)
2559  09AC  F6 27       	or	a,0x27
2560  09AE  02          	ld	(bc), a
2561  09AF  01 00 00    	ld	bc,_attrib_red+0
2562  09B2  7E          	ld	a, (hl)
2563  09B3  F6 17       	or	a,0x17
2564  09B5  02          	ld	(bc), a
2565  09B6  59          	ld	e, c
2566  09B7  50          	ld	d, b
2567  09B8  13          	inc	de
2568  09B9  7E          	ld	a, (hl)
2569  09BA  F6 17       	or	a,0x17
2570  09BC  12          	ld	(de), a
2571  09BD  7E          	ld	a, (hl)
2572  09BE  F6 17       	or	a,0x17
2573  09C0  32 02 00    	ld	((_attrib_red + 0x0002)),a
2574  09C3  03          	inc	bc
2575  09C4  03          	inc	bc
2576  09C5  03          	inc	bc
2577  09C6  3A 00 00    	ld	a,(_map_paper)
2578  09C9  F6 17       	or	a,0x17
2579  09CB  02          	ld	(bc), a
2580  09CC  C9          	ret
2581  09CD              	SECTION code_compiler
2582  09CD              ;	---------------------------------
2583  09CD              ; Function game_page_map
2584  09CD              ; ---------------------------------
2585  09CD              _game_page_map:
2586  09CD  CD 00 00    	call	___sdcc_enter_ix
2587  09D0  21 F2 FF    	ld	hl, -14
2588  09D3  39          	add	hl, sp
2589  09D4  F9          	ld	sp, hl
2590  09D5  21 00 00    	ld	hl,_game_world
2591  09D8  4E          	ld	c, (hl)
2592  09D9  3A 00 00    	ld	a,(_scr_curr)
2593  09DC  DD 77 F3    	ld	(ix-13),a
2594  09DF  79          	ld	a, c
2595  09E0  07          	rlca
2596  09E1  07          	rlca
2597  09E2  07          	rlca
2598  09E3  07          	rlca
2599  09E4  E6 F0       	and	a,0xf0
2600  09E6  4F          	ld	c,a
2601  09E7  DD 86 F3    	add	a,(ix-13)
2602  09EA  DD 77 F2    	ld	(ix-14),a
2603  09ED  DD 36 FC 00 	ld	(ix-4),0x00
2604  09F1  DD 36 FD 00 	ld	(ix-3),0x00
2605  09F5  C5          	push	bc
2606  09F6  CD 00 00    	call	_spr_clear_scr
2607  09F9  C1          	pop	bc
2608  09FA  F3          	di
2609  09FB  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2610  09FE  36 16       	ld	(hl),0x16
2611  0A00  C5          	push	bc
2612  0A01  3E 16       	ld	a,0x16
2613  0A03  01 FD 7F    	ld	bc,_IO_7FFD
2614  0A06  ED 79       	out	(c),a
2615  0A08  C1          	pop	bc
2616  0A09  DD 7E F3    	ld	a,(ix-13)
2617  0A0C  3C          	inc	a
2618  0A0D  20 07       	jr	NZ,l_game_page_map_00102
2619  0A0F  DD 36 F3 00 	ld	(ix-13),0x00
2620  0A13  DD 71 F2    	ld	(ix-14),c
2621  0A16              l_game_page_map_00102:
2622  0A16  3E 10       	ld	a,0x10
2623  0A18  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2624  0A1B  01 FD 7F    	ld	bc,_IO_7FFD
2625  0A1E  ED 79       	out	(c),a
2626  0A20  3E 00       	ld	a,0x00
2627  0A22  DD 77 F5    	ld	(ix-11),a
2628  0A25  DD 77 F6    	ld	(ix-10),a
2629  0A28  DD 77 FA    	ld	(ix-6),a
2630  0A2B  DD 77 FB    	ld	(ix-5),a
2631  0A2E              l_game_page_map_00103:
2632  0A2E  DD 4E F2    	ld	c,(ix-14)
2633  0A31  06 00       	ld	b,0x00
2634  0A33  DD 7E FA    	ld	a,(ix-6)
2635  0A36  91          	sub	a, c
2636  0A37  DD 7E FB    	ld	a,(ix-5)
2637  0A3A  98          	sbc	a, b
2638  0A3B  30 40       	jr	NC,l_game_page_map_00105
2639  0A3D  3E 16       	ld	a,0x16
2640  0A3F  01 FD 7F    	ld	bc,_IO_7FFD
2641  0A42  ED 79       	out	(c),a
2642  0A44  DD 6E FA    	ld	l,(ix-6)
2643  0A47  DD 66 FB    	ld	h,(ix-5)
2644  0A4A  01 00 00    	ld	bc,_lenght0
2645  0A4D  09          	add	hl,bc
2646  0A4E  DD 75 FE    	ld	(ix-2),l
2647  0A51  DD 74 FF    	ld	(ix-1),h
2648  0A54  4E          	ld	c, (hl)
2649  0A55  06 00       	ld	b,0x00
2650  0A57  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2651  0A5A  36 10       	ld	(hl),0x10
2652  0A5C  C5          	push	bc
2653  0A5D  3E 10       	ld	a,0x10
2654  0A5F  01 FD 7F    	ld	bc,_IO_7FFD
2655  0A62  ED 79       	out	(c),a
2656  0A64  C1          	pop	bc
2657  0A65  DD 7E F5    	ld	a,(ix-11)
2658  0A68  81          	add	a, c
2659  0A69  DD 77 F5    	ld	(ix-11),a
2660  0A6C  DD 7E F6    	ld	a,(ix-10)
2661  0A6F  88          	adc	a, b
2662  0A70  DD 77 F6    	ld	(ix-10),a
2663  0A73  DD 34 FA    	inc	(ix-6)
2664  0A76  20 B6       	jr	NZ,l_game_page_map_00103
2665  0A78  DD 34 FB    	inc	(ix-5)
2666  0A7B  18 B1       	jr	l_game_page_map_00103
2667  0A7D              l_game_page_map_00105:
2668  0A7D  01 00 00    	ld	bc,0x0000
2669  0A80              l_game_page_map_00118:
2670  0A80  C5          	push	bc
2671  0A81  3E 16       	ld	a,0x16
2672  0A83  01 FD 7F    	ld	bc,_IO_7FFD
2673  0A86  ED 79       	out	(c),a
2674  0A88  C1          	pop	bc
2675  0A89  DD 6E F5    	ld	l,(ix-11)
2676  0A8C  DD 66 F6    	ld	h,(ix-10)
2677  0A8F  09          	add	hl,bc
2678  0A90  EB          	ex	de,hl
2679  0A91  21 00 00    	ld	hl,_world0
2680  0A94  19          	add	hl, de
2681  0A95  7E          	ld	a, (hl)
2682  0A96  DD 77 F7    	ld	(ix-9),a
2683  0A99  13          	inc	de
2684  0A9A  21 00 00    	ld	hl,_world0
2685  0A9D  19          	add	hl, de
2686  0A9E  7E          	ld	a, (hl)
2687  0A9F  DD 77 F8    	ld	(ix-8),a
2688  0AA2  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2689  0AA5  36 10       	ld	(hl),0x10
2690  0AA7  C5          	push	bc
2691  0AA8  3E 10       	ld	a,0x10
2692  0AAA  01 FD 7F    	ld	bc,_IO_7FFD
2693  0AAD  ED 79       	out	(c),a
2694  0AAF  C1          	pop	bc
2695  0AB0  DD 7E F7    	ld	a,(ix-9)
2696  0AB3  D6 80       	sub	a,0x80
2697  0AB5  30 1A       	jr	NC,l_game_page_map_00110
2698  0AB7  3E 00       	ld	a, +((_scr_map) & 0xFF)
2699  0AB9  DD 86 FC    	add	a,(ix-4)
2700  0ABC  5F          	ld	e, a
2701  0ABD  3E 00       	ld	a, +((_scr_map) / 256)
2702  0ABF  DD 8E FD    	adc	a,(ix-3)
2703  0AC2  57          	ld	d, a
2704  0AC3  DD 7E F7    	ld	a,(ix-9)
2705  0AC6  12          	ld	(de), a
2706  0AC7  DD 34 FC    	inc	(ix-4)
2707  0ACA  20 49       	jr	NZ,l_game_page_map_00111
2708  0ACC  DD 34 FD    	inc	(ix-3)
2709  0ACF  18 44       	jr	l_game_page_map_00111
2710  0AD1              l_game_page_map_00110:
2711  0AD1  DD 7E F7    	ld	a,(ix-9)
2712  0AD4  C6 80       	add	a,0x80
2713  0AD6  DD 77 F9    	ld	(ix-7),a
2714  0AD9  DD 5E FC    	ld	e,(ix-4)
2715  0ADC  DD 56 FD    	ld	d,(ix-3)
2716  0ADF  DD 36 FA 00 	ld	(ix-6),0x00
2717  0AE3  DD 36 FB 00 	ld	(ix-5),0x00
2718  0AE7              l_game_page_map_00116:
2719  0AE7  DD 6E F9    	ld	l,(ix-7)
2720  0AEA  26 00       	ld	h,0x00
2721  0AEC  DD 7E FA    	ld	a,(ix-6)
2722  0AEF  95          	sub	a, l
2723  0AF0  DD 7E FB    	ld	a,(ix-5)
2724  0AF3  9C          	sbc	a, h
2725  0AF4  30 18       	jr	NC,l_game_page_map_00132
2726  0AF6  21 00 00    	ld	hl,_scr_map
2727  0AF9  19          	add	hl, de
2728  0AFA  DD 7E F8    	ld	a,(ix-8)
2729  0AFD  77          	ld	(hl), a
2730  0AFE  13          	inc	de
2731  0AFF  7A          	ld	a, d
2732  0B00  D6 02       	sub	a,0x02
2733  0B02  30 0A       	jr	NC,l_game_page_map_00132
2734  0B04  DD 34 FA    	inc	(ix-6)
2735  0B07  20 DE       	jr	NZ,l_game_page_map_00116
2736  0B09  DD 34 FB    	inc	(ix-5)
2737  0B0C  18 D9       	jr	l_game_page_map_00116
2738  0B0E              l_game_page_map_00132:
2739  0B0E  DD 73 FC    	ld	(ix-4),e
2740  0B11  DD 72 FD    	ld	(ix-3),d
2741  0B14  03          	inc	bc
2742  0B15              l_game_page_map_00111:
2743  0B15  DD 7E FD    	ld	a,(ix-3)
2744  0B18  D6 02       	sub	a,0x02
2745  0B1A  30 07       	jr	NC,l_game_page_map_00114
2746  0B1C  03          	inc	bc
2747  0B1D  78          	ld	a, b
2748  0B1E  D6 02       	sub	a,0x02
2749  0B20  DA 80 0A    	jp	C, l_game_page_map_00118
2750  0B23              l_game_page_map_00114:
2751  0B23  DD 7E F3    	ld	a,(ix-13)
2752  0B26  32 00 00    	ld	(_scr_curr),a
2753  0B29  DD 7E F4    	ld	a,(ix-12)
2754  0B2C  32 00 00    	ld	(_map_paper),a
2755  0B2F  FB          	ei
2756  0B30  DD F9       	ld	sp, ix
2757  0B32  DD E1       	pop	ix
2758  0B34  C9          	ret
2759  0B35              	SECTION IGNORE
2760  0000              
