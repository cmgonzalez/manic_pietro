1     0000              MODULE game_engine_c
2     0000              LINE 0, "game_engine.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _game_anim_conveyor
204   0000              	GLOBAL _game_tick
205   0000              	GLOBAL _game_end
206   0000              	GLOBAL _game_loop
207   0000              	GLOBAL _game_fps
208   0000              	GLOBAL _game_draw_map
209   0000              	GLOBAL _game_cell_paint_index
210   0000              	GLOBAL _game_cell_paint
211   0000              	GLOBAL _game_print_footer
212   0000              	GLOBAL _game_print_score
213   0000              	GLOBAL _game_cls
214   0000              	GLOBAL _game_update_stats
215   0000              	GLOBAL _game_start_timer
216   0000              	GLOBAL _game_round_init
217   0000              	GLOBAL _game_print_header
218   0000              	GLOBAL _game_check_map
219   0000              	GLOBAL _game_check_cell
220   0000              	GLOBAL _game_paint_attrib
221   0000              	GLOBAL _game_colour_message
222   0000              	GLOBAL _game_check_time
223   0000              	GLOBAL _game_rotate_attrib
224   0000              	GLOBAL _game_rotate_attrib_osd
225   0000              	GLOBAL _game_attribs
226   0000              	GLOBAL _game_page_map
227   0000              ;--------------------------------------------------------
228   0000              ; Externals used
229   0000              ;--------------------------------------------------------
230   0000              	GLOBAL _ffsll_callee
231   0000              	GLOBAL _ffsll
232   0000              	GLOBAL _strxfrm_callee
233   0000              	GLOBAL _strxfrm
234   0000              	GLOBAL _strupr_fastcall
235   0000              	GLOBAL _strupr
236   0000              	GLOBAL _strtok_r_callee
237   0000              	GLOBAL _strtok_r
238   0000              	GLOBAL _strtok_callee
239   0000              	GLOBAL _strtok
240   0000              	GLOBAL _strstrip_fastcall
241   0000              	GLOBAL _strstrip
242   0000              	GLOBAL _strstr_callee
243   0000              	GLOBAL _strstr
244   0000              	GLOBAL _strspn_callee
245   0000              	GLOBAL _strspn
246   0000              	GLOBAL _strsep_callee
247   0000              	GLOBAL _strsep
248   0000              	GLOBAL _strrstrip_fastcall
249   0000              	GLOBAL _strrstrip
250   0000              	GLOBAL _strrstr_callee
251   0000              	GLOBAL _strrstr
252   0000              	GLOBAL _strrspn_callee
253   0000              	GLOBAL _strrspn
254   0000              	GLOBAL _strrev_fastcall
255   0000              	GLOBAL _strrev
256   0000              	GLOBAL _strrcspn_callee
257   0000              	GLOBAL _strrcspn
258   0000              	GLOBAL _strrchr_callee
259   0000              	GLOBAL _strrchr
260   0000              	GLOBAL _strpbrk_callee
261   0000              	GLOBAL _strpbrk
262   0000              	GLOBAL _strnlen_callee
263   0000              	GLOBAL _strnlen
264   0000              	GLOBAL _strnicmp_callee
265   0000              	GLOBAL _strnicmp
266   0000              	GLOBAL _strndup_callee
267   0000              	GLOBAL _strndup
268   0000              	GLOBAL _strncpy_callee
269   0000              	GLOBAL _strncpy
270   0000              	GLOBAL _strncmp_callee
271   0000              	GLOBAL _strncmp
272   0000              	GLOBAL _strnchr_callee
273   0000              	GLOBAL _strnchr
274   0000              	GLOBAL _strncat_callee
275   0000              	GLOBAL _strncat
276   0000              	GLOBAL _strncasecmp_callee
277   0000              	GLOBAL _strncasecmp
278   0000              	GLOBAL _strlwr_fastcall
279   0000              	GLOBAL _strlwr
280   0000              	GLOBAL _strlen_fastcall
281   0000              	GLOBAL _strlen
282   0000              	GLOBAL _strlcpy_callee
283   0000              	GLOBAL _strlcpy
284   0000              	GLOBAL _strlcat_callee
285   0000              	GLOBAL _strlcat
286   0000              	GLOBAL _stricmp_callee
287   0000              	GLOBAL _stricmp
288   0000              	GLOBAL _strerror_fastcall
289   0000              	GLOBAL _strerror
290   0000              	GLOBAL _strdup_fastcall
291   0000              	GLOBAL _strdup
292   0000              	GLOBAL _strcspn_callee
293   0000              	GLOBAL _strcspn
294   0000              	GLOBAL _strcpy_callee
295   0000              	GLOBAL _strcpy
296   0000              	GLOBAL _strcoll_callee
297   0000              	GLOBAL _strcoll
298   0000              	GLOBAL _strcmp_callee
299   0000              	GLOBAL _strcmp
300   0000              	GLOBAL _strchrnul_callee
301   0000              	GLOBAL _strchrnul
302   0000              	GLOBAL _strchr_callee
303   0000              	GLOBAL _strchr
304   0000              	GLOBAL _strcat_callee
305   0000              	GLOBAL _strcat
306   0000              	GLOBAL _strcasecmp_callee
307   0000              	GLOBAL _strcasecmp
308   0000              	GLOBAL _stpncpy_callee
309   0000              	GLOBAL _stpncpy
310   0000              	GLOBAL _stpcpy_callee
311   0000              	GLOBAL _stpcpy
312   0000              	GLOBAL _memswap_callee
313   0000              	GLOBAL _memswap
314   0000              	GLOBAL _memset_callee
315   0000              	GLOBAL _memset
316   0000              	GLOBAL _memrchr_callee
317   0000              	GLOBAL _memrchr
318   0000              	GLOBAL _memmove_callee
319   0000              	GLOBAL _memmove
320   0000              	GLOBAL _memmem_callee
321   0000              	GLOBAL _memmem
322   0000              	GLOBAL _memcpy_callee
323   0000              	GLOBAL _memcpy
324   0000              	GLOBAL _memcmp_callee
325   0000              	GLOBAL _memcmp
326   0000              	GLOBAL _memchr_callee
327   0000              	GLOBAL _memchr
328   0000              	GLOBAL _memccpy_callee
329   0000              	GLOBAL _memccpy
330   0000              	GLOBAL _ffsl_fastcall
331   0000              	GLOBAL _ffsl
332   0000              	GLOBAL _ffs_fastcall
333   0000              	GLOBAL _ffs
334   0000              	GLOBAL __strrstrip__fastcall
335   0000              	GLOBAL __strrstrip_
336   0000              	GLOBAL __memupr__callee
337   0000              	GLOBAL __memupr_
338   0000              	GLOBAL __memstrcpy__callee
339   0000              	GLOBAL __memstrcpy_
340   0000              	GLOBAL __memlwr__callee
341   0000              	GLOBAL __memlwr_
342   0000              	GLOBAL _rawmemchr_callee
343   0000              	GLOBAL _rawmemchr
344   0000              	GLOBAL _strnset_callee
345   0000              	GLOBAL _strnset
346   0000              	GLOBAL _strset_callee
347   0000              	GLOBAL _strset
348   0000              	GLOBAL _rindex_callee
349   0000              	GLOBAL _rindex
350   0000              	GLOBAL _index_callee
351   0000              	GLOBAL _index
352   0000              	GLOBAL _bzero_callee
353   0000              	GLOBAL _bzero
354   0000              	GLOBAL _bcopy_callee
355   0000              	GLOBAL _bcopy
356   0000              	GLOBAL _bcmp_callee
357   0000              	GLOBAL _bcmp
358   0000              	GLOBAL _ulltoa_callee
359   0000              	GLOBAL _ulltoa
360   0000              	GLOBAL _strtoull_callee
361   0000              	GLOBAL _strtoull
362   0000              	GLOBAL _strtoll_callee
363   0000              	GLOBAL _strtoll
364   0000              	GLOBAL _lltoa_callee
365   0000              	GLOBAL _lltoa
366   0000              	GLOBAL _llabs_callee
367   0000              	GLOBAL _llabs
368   0000              	GLOBAL __lldivu__callee
369   0000              	GLOBAL __lldivu_
370   0000              	GLOBAL __lldiv__callee
371   0000              	GLOBAL __lldiv_
372   0000              	GLOBAL _atoll_callee
373   0000              	GLOBAL _atoll
374   0000              	GLOBAL _realloc_unlocked_callee
375   0000              	GLOBAL _realloc_unlocked
376   0000              	GLOBAL _malloc_unlocked_fastcall
377   0000              	GLOBAL _malloc_unlocked
378   0000              	GLOBAL _free_unlocked_fastcall
379   0000              	GLOBAL _free_unlocked
380   0000              	GLOBAL _calloc_unlocked_callee
381   0000              	GLOBAL _calloc_unlocked
382   0000              	GLOBAL _aligned_alloc_unlocked_callee
383   0000              	GLOBAL _aligned_alloc_unlocked
384   0000              	GLOBAL _realloc_callee
385   0000              	GLOBAL _realloc
386   0000              	GLOBAL _malloc_fastcall
387   0000              	GLOBAL _malloc
388   0000              	GLOBAL _free_fastcall
389   0000              	GLOBAL _free
390   0000              	GLOBAL _calloc_callee
391   0000              	GLOBAL _calloc
392   0000              	GLOBAL _aligned_alloc_callee
393   0000              	GLOBAL _aligned_alloc
394   0000              	GLOBAL _utoa_callee
395   0000              	GLOBAL _utoa
396   0000              	GLOBAL _ultoa_callee
397   0000              	GLOBAL _ultoa
398   0000              	GLOBAL _system_fastcall
399   0000              	GLOBAL _system
400   0000              	GLOBAL _strtoul_callee
401   0000              	GLOBAL _strtoul
402   0000              	GLOBAL _strtol_callee
403   0000              	GLOBAL _strtol
404   0000              	GLOBAL _strtof_callee
405   0000              	GLOBAL _strtof
406   0000              	GLOBAL _strtod_callee
407   0000              	GLOBAL _strtod
408   0000              	GLOBAL _srand_fastcall
409   0000              	GLOBAL _srand
410   0000              	GLOBAL _rand
411   0000              	GLOBAL _quick_exit_fastcall
412   0000              	GLOBAL _quick_exit
413   0000              	GLOBAL _qsort_callee
414   0000              	GLOBAL _qsort
415   0000              	GLOBAL _ltoa_callee
416   0000              	GLOBAL _ltoa
417   0000              	GLOBAL _labs_fastcall
418   0000              	GLOBAL _labs
419   0000              	GLOBAL _itoa_callee
420   0000              	GLOBAL _itoa
421   0000              	GLOBAL _ftoh_callee
422   0000              	GLOBAL _ftoh
423   0000              	GLOBAL _ftog_callee
424   0000              	GLOBAL _ftog
425   0000              	GLOBAL _ftoe_callee
426   0000              	GLOBAL _ftoe
427   0000              	GLOBAL _ftoa_callee
428   0000              	GLOBAL _ftoa
429   0000              	GLOBAL _exit_fastcall
430   0000              	GLOBAL _exit
431   0000              	GLOBAL _dtoh_callee
432   0000              	GLOBAL _dtoh
433   0000              	GLOBAL _dtog_callee
434   0000              	GLOBAL _dtog
435   0000              	GLOBAL _dtoe_callee
436   0000              	GLOBAL _dtoe
437   0000              	GLOBAL _dtoa_callee
438   0000              	GLOBAL _dtoa
439   0000              	GLOBAL _bsearch_callee
440   0000              	GLOBAL _bsearch
441   0000              	GLOBAL _atol_fastcall
442   0000              	GLOBAL _atol
443   0000              	GLOBAL _atoi_fastcall
444   0000              	GLOBAL _atoi
445   0000              	GLOBAL _atof_fastcall
446   0000              	GLOBAL _atof
447   0000              	GLOBAL _atexit_fastcall
448   0000              	GLOBAL _atexit
449   0000              	GLOBAL _at_quick_exit_fastcall
450   0000              	GLOBAL _at_quick_exit
451   0000              	GLOBAL _abs_fastcall
452   0000              	GLOBAL _abs
453   0000              	GLOBAL _abort
454   0000              	GLOBAL __strtou__callee
455   0000              	GLOBAL __strtou_
456   0000              	GLOBAL __strtoi__callee
457   0000              	GLOBAL __strtoi_
458   0000              	GLOBAL __random_uniform_xor_8__fastcall
459   0000              	GLOBAL __random_uniform_xor_8_
460   0000              	GLOBAL __random_uniform_xor_32__fastcall
461   0000              	GLOBAL __random_uniform_xor_32_
462   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
463   0000              	GLOBAL __random_uniform_cmwc_8_
464   0000              	GLOBAL __shellsort__callee
465   0000              	GLOBAL __shellsort_
466   0000              	GLOBAL __quicksort__callee
467   0000              	GLOBAL __quicksort_
468   0000              	GLOBAL __insertion_sort__callee
469   0000              	GLOBAL __insertion_sort_
470   0000              	GLOBAL __ldivu__callee
471   0000              	GLOBAL __ldivu_
472   0000              	GLOBAL __ldiv__callee
473   0000              	GLOBAL __ldiv_
474   0000              	GLOBAL __divu__callee
475   0000              	GLOBAL __divu_
476   0000              	GLOBAL __div__callee
477   0000              	GLOBAL __div_
478   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
479   0000              	GLOBAL _NIRVANAP_drawTW_raw
480   0000              	GLOBAL _NIRVANAP_drawTW_callee
481   0000              	GLOBAL _NIRVANAP_drawTW
482   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
483   0000              	GLOBAL _NIRVANAP_drawW_raw
484   0000              	GLOBAL _NIRVANAP_drawW_callee
485   0000              	GLOBAL _NIRVANAP_drawW
486   0000              	GLOBAL _NIRVANAP_spriteT_callee
487   0000              	GLOBAL _NIRVANAP_spriteT
488   0000              	GLOBAL _NIRVANAP_fillC_callee
489   0000              	GLOBAL _NIRVANAP_fillC
490   0000              	GLOBAL _NIRVANAP_readC_callee
491   0000              	GLOBAL _NIRVANAP_readC
492   0000              	GLOBAL _NIRVANAP_paintC_callee
493   0000              	GLOBAL _NIRVANAP_paintC
494   0000              	GLOBAL _NIRVANAP_printC_callee
495   0000              	GLOBAL _NIRVANAP_printC
496   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
497   0000              	GLOBAL _NIRVANAP_fillT_raw
498   0000              	GLOBAL _NIRVANAP_fillT_callee
499   0000              	GLOBAL _NIRVANAP_fillT
500   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
501   0000              	GLOBAL _NIRVANAP_drawT_raw
502   0000              	GLOBAL _NIRVANAP_drawT_callee
503   0000              	GLOBAL _NIRVANAP_drawT
504   0000              	GLOBAL _NIRVANAP_stop
505   0000              	GLOBAL _NIRVANAP_start
506   0000              	GLOBAL _zx_print_str
507   0000              	GLOBAL _zx_print_int
508   0000              	GLOBAL _zx_print_chr
509   0000              	GLOBAL _zx_print_bonus_time
510   0000              	GLOBAL _zx_isr
511   0000              	GLOBAL _z80_otdr_callee
512   0000              	GLOBAL _z80_otdr
513   0000              	GLOBAL _z80_otir_callee
514   0000              	GLOBAL _z80_otir
515   0000              	GLOBAL _z80_outp_callee
516   0000              	GLOBAL _z80_outp
517   0000              	GLOBAL _z80_indr_callee
518   0000              	GLOBAL _z80_indr
519   0000              	GLOBAL _z80_inir_callee
520   0000              	GLOBAL _z80_inir
521   0000              	GLOBAL _z80_inp_fastcall
522   0000              	GLOBAL _z80_inp
523   0000              	GLOBAL _z80_set_int_state_fastcall
524   0000              	GLOBAL _z80_set_int_state
525   0000              	GLOBAL _z80_get_int_state
526   0000              	GLOBAL _z80_delay_tstate_fastcall
527   0000              	GLOBAL _z80_delay_tstate
528   0000              	GLOBAL _z80_delay_ms_fastcall
529   0000              	GLOBAL _z80_delay_ms
530   0000              	GLOBAL _im2_remove_generic_callback_callee
531   0000              	GLOBAL _im2_remove_generic_callback
532   0000              	GLOBAL _im2_prepend_generic_callback_callee
533   0000              	GLOBAL _im2_prepend_generic_callback
534   0000              	GLOBAL _im2_append_generic_callback_callee
535   0000              	GLOBAL _im2_append_generic_callback
536   0000              	GLOBAL _im2_create_generic_isr_8080_callee
537   0000              	GLOBAL _im2_create_generic_isr_8080
538   0000              	GLOBAL _im2_create_generic_isr_callee
539   0000              	GLOBAL _im2_create_generic_isr
540   0000              	GLOBAL _im2_install_isr_callee
541   0000              	GLOBAL _im2_install_isr
542   0000              	GLOBAL _im2_init_fastcall
543   0000              	GLOBAL _im2_init
544   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
545   0000              	GLOBAL _intrinsic_swap_word_32
546   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
547   0000              	GLOBAL _intrinsic_swap_endian_32
548   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
549   0000              	GLOBAL _intrinsic_swap_endian_16
550   0000              	GLOBAL _intrinsic_return_de
551   0000              	GLOBAL _intrinsic_return_bc
552   0000              	GLOBAL _intrinsic_exx
553   0000              	GLOBAL _intrinsic_ex_de_hl
554   0000              	GLOBAL _intrinsic_nop
555   0000              	GLOBAL _intrinsic_im_2
556   0000              	GLOBAL _intrinsic_im_1
557   0000              	GLOBAL _intrinsic_im_0
558   0000              	GLOBAL _intrinsic_retn
559   0000              	GLOBAL _intrinsic_reti
560   0000              	GLOBAL _intrinsic_halt
561   0000              	GLOBAL _intrinsic_ei
562   0000              	GLOBAL _intrinsic_di
563   0000              	GLOBAL _intrinsic_stub
564   0000              	GLOBAL _intrinsic_ini
565   0000              	GLOBAL _intrinsic_outi
566   0000              	GLOBAL _intrinsic_ldi
567   0000              	GLOBAL _zx_pattern_fill_callee
568   0000              	GLOBAL _zx_pattern_fill
569   0000              	GLOBAL _zx_saddrpup_fastcall
570   0000              	GLOBAL _zx_saddrpup
571   0000              	GLOBAL _zx_saddrpright_callee
572   0000              	GLOBAL _zx_saddrpright
573   0000              	GLOBAL _zx_saddrpleft_callee
574   0000              	GLOBAL _zx_saddrpleft
575   0000              	GLOBAL _zx_saddrpdown_fastcall
576   0000              	GLOBAL _zx_saddrpdown
577   0000              	GLOBAL _zx_saddrcup_fastcall
578   0000              	GLOBAL _zx_saddrcup
579   0000              	GLOBAL _zx_saddrcright_fastcall
580   0000              	GLOBAL _zx_saddrcright
581   0000              	GLOBAL _zx_saddrcleft_fastcall
582   0000              	GLOBAL _zx_saddrcleft
583   0000              	GLOBAL _zx_saddrcdown_fastcall
584   0000              	GLOBAL _zx_saddrcdown
585   0000              	GLOBAL _zx_saddr2py_fastcall
586   0000              	GLOBAL _zx_saddr2py
587   0000              	GLOBAL _zx_saddr2px_fastcall
588   0000              	GLOBAL _zx_saddr2px
589   0000              	GLOBAL _zx_saddr2cy_fastcall
590   0000              	GLOBAL _zx_saddr2cy
591   0000              	GLOBAL _zx_saddr2cx_fastcall
592   0000              	GLOBAL _zx_saddr2cx
593   0000              	GLOBAL _zx_saddr2aaddr_fastcall
594   0000              	GLOBAL _zx_saddr2aaddr
595   0000              	GLOBAL _zx_py2saddr_fastcall
596   0000              	GLOBAL _zx_py2saddr
597   0000              	GLOBAL _zx_py2aaddr_fastcall
598   0000              	GLOBAL _zx_py2aaddr
599   0000              	GLOBAL _zx_pxy2saddr_callee
600   0000              	GLOBAL _zx_pxy2saddr
601   0000              	GLOBAL _zx_pxy2aaddr_callee
602   0000              	GLOBAL _zx_pxy2aaddr
603   0000              	GLOBAL _zx_px2bitmask_fastcall
604   0000              	GLOBAL _zx_px2bitmask
605   0000              	GLOBAL _zx_cy2saddr_fastcall
606   0000              	GLOBAL _zx_cy2saddr
607   0000              	GLOBAL _zx_cy2aaddr_fastcall
608   0000              	GLOBAL _zx_cy2aaddr
609   0000              	GLOBAL _zx_cxy2saddr_callee
610   0000              	GLOBAL _zx_cxy2saddr
611   0000              	GLOBAL _zx_cxy2aaddr_callee
612   0000              	GLOBAL _zx_cxy2aaddr
613   0000              	GLOBAL _zx_bitmask2px_fastcall
614   0000              	GLOBAL _zx_bitmask2px
615   0000              	GLOBAL _zx_aaddrcup_fastcall
616   0000              	GLOBAL _zx_aaddrcup
617   0000              	GLOBAL _zx_aaddrcright_fastcall
618   0000              	GLOBAL _zx_aaddrcright
619   0000              	GLOBAL _zx_aaddrcleft_fastcall
620   0000              	GLOBAL _zx_aaddrcleft
621   0000              	GLOBAL _zx_aaddrcdown_fastcall
622   0000              	GLOBAL _zx_aaddrcdown
623   0000              	GLOBAL _zx_aaddr2saddr_fastcall
624   0000              	GLOBAL _zx_aaddr2saddr
625   0000              	GLOBAL _zx_aaddr2py_fastcall
626   0000              	GLOBAL _zx_aaddr2py
627   0000              	GLOBAL _zx_aaddr2px_fastcall
628   0000              	GLOBAL _zx_aaddr2px
629   0000              	GLOBAL _zx_aaddr2cy_fastcall
630   0000              	GLOBAL _zx_aaddr2cy
631   0000              	GLOBAL _zx_aaddr2cx_fastcall
632   0000              	GLOBAL _zx_aaddr2cx
633   0000              	GLOBAL _zx_visit_wc_pix_callee
634   0000              	GLOBAL _zx_visit_wc_pix
635   0000              	GLOBAL _zx_visit_wc_attr_callee
636   0000              	GLOBAL _zx_visit_wc_attr
637   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
638   0000              	GLOBAL _zx_scroll_wc_up_pix
639   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
640   0000              	GLOBAL _zx_scroll_wc_up_attr
641   0000              	GLOBAL _zx_scroll_wc_up_callee
642   0000              	GLOBAL _zx_scroll_wc_up
643   0000              	GLOBAL _zx_scroll_up_pix_callee
644   0000              	GLOBAL _zx_scroll_up_pix
645   0000              	GLOBAL _zx_scroll_up_attr_callee
646   0000              	GLOBAL _zx_scroll_up_attr
647   0000              	GLOBAL _zx_scroll_up_callee
648   0000              	GLOBAL _zx_scroll_up
649   0000              	GLOBAL _zx_cls_wc_pix_callee
650   0000              	GLOBAL _zx_cls_wc_pix
651   0000              	GLOBAL _zx_cls_wc_attr_callee
652   0000              	GLOBAL _zx_cls_wc_attr
653   0000              	GLOBAL _zx_cls_wc_callee
654   0000              	GLOBAL _zx_cls_wc
655   0000              	GLOBAL _zx_cls_pix_fastcall
656   0000              	GLOBAL _zx_cls_pix
657   0000              	GLOBAL _zx_cls_attr_fastcall
658   0000              	GLOBAL _zx_cls_attr
659   0000              	GLOBAL _zx_cls_fastcall
660   0000              	GLOBAL _zx_cls
661   0000              	GLOBAL _zx_border_fastcall
662   0000              	GLOBAL _zx_border
663   0000              	GLOBAL _zx_tape_verify_block_callee
664   0000              	GLOBAL _zx_tape_verify_block
665   0000              	GLOBAL _zx_tape_save_block_callee
666   0000              	GLOBAL _zx_tape_save_block
667   0000              	GLOBAL _zx_tape_load_block_callee
668   0000              	GLOBAL _zx_tape_load_block
669   0000              	GLOBAL _spr_destroy
670   0000              	GLOBAL _spr_unflattenP1
671   0000              	GLOBAL _spr_flatten
672   0000              	GLOBAL _spr_btile_paint_back
673   0000              	GLOBAL _spr_init_effects
674   0000              	GLOBAL _spr_turn_horizontal
675   0000              	GLOBAL _spr_play_anim
676   0000              	GLOBAL _spr_add_anim
677   0000              	GLOBAL _spr_clear_scr
678   0000              	GLOBAL _spr_back_repaint
679   0000              	GLOBAL _spr_get_tile_dir
680   0000              	GLOBAL _spr_get_tile
681   0000              	GLOBAL _spr_paint_player
682   0000              	GLOBAL _spr_paint
683   0000              	GLOBAL _spr_move_left
684   0000              	GLOBAL _spr_move_right
685   0000              	GLOBAL _spr_move_left_f
686   0000              	GLOBAL _spr_move_right_f
687   0000              	GLOBAL _spr_move_horizontal
688   0000              	GLOBAL _spr_move_down
689   0000              	GLOBAL _spr_move_up
690   0000              	GLOBAL _spr_set_right
691   0000              	GLOBAL _spr_set_left
692   0000              	GLOBAL _spr_set_down
693   0000              	GLOBAL _spr_set_up
694   0000              	GLOBAL _spr_calc_index
695   0000              	GLOBAL _spr_chktime
696   0000              	GLOBAL _player_lost_life
697   0000              	GLOBAL _player_move_jump
698   0000              	GLOBAL _player_tile
699   0000              	GLOBAL _player_pick_deadly
700   0000              	GLOBAL _player_pick_item
701   0000              	GLOBAL _player_check_ceil
702   0000              	GLOBAL _player_check_floor_walk
703   0000              	GLOBAL _player_check_floor_jump
704   0000              	GLOBAL _player_score_add
705   0000              	GLOBAL _player_move_walk
706   0000              	GLOBAL _player_turn
707   0000              	GLOBAL _player_move
708   0000              	GLOBAL _player_check_input
709   0000              	GLOBAL _player_init
710   0000              	GLOBAL _menu_define_key
711   0000              	GLOBAL _menu_redefine
712   0000              	GLOBAL _menu_main_print
713   0000              	GLOBAL _menu_main
714   0000              	GLOBAL _game_fill_row
715   0000              	GLOBAL _enemy_avoid_dead
716   0000              	GLOBAL _enemy_avoid_fall
717   0000              	GLOBAL _enemy_kill
718   0000              	GLOBAL _enemy_init
719   0000              	GLOBAL _enemy_move
720   0000              	GLOBAL _enemy_turn
721   0000              	GLOBAL _enemy_static
722   0000              	GLOBAL _enemy_walk
723   0000              	GLOBAL _enemy_horizontal
724   0000              	GLOBAL _enemy_vertical
725   0000              	GLOBAL _ay_reset
726   0000              	GLOBAL _ay_song_stop
727   0000              	GLOBAL _ay_song_play
728   0000              	GLOBAL _ay_fx_stop
729   0000              	GLOBAL _ay_fx_play
730   0000              	GLOBAL _ay_is_playing
731   0000              	GLOBAL _audio_levelup
732   0000              	GLOBAL _audio_menu
733   0000              	GLOBAL _audio_game_end
734   0000              	GLOBAL _audio_level_complete
735   0000              	GLOBAL _audio_level_start
736   0000              	GLOBAL _audio_lotr_lose_a_life
737   0000              	GLOBAL _audio_puerta
738   0000              	GLOBAL _audio_sin_mana
739   0000              	GLOBAL _audio_magic1
740   0000              	GLOBAL _audio_coin
741   0000              	GLOBAL _audio_golpe
742   0000              	GLOBAL _audio_salto
743   0000              	GLOBAL _audio_efecto
744   0000              	GLOBAL _audio_disparo_fire
745   0000              	GLOBAL _audio_disparo_axe
746   0000              	GLOBAL _audio_disparo2
747   0000              	GLOBAL _audio_disparo1
748   0000              	GLOBAL _audio_explosion1
749   0000              	GLOBAL _audio_explosion
750   0000              	GLOBAL _audio_ingame
751   0000              	GLOBAL _game_sprite_draw8
752   0000              	GLOBAL _test_func
753   0000              	GLOBAL _test_proc
754   0000              	GLOBAL _in_mouse_kempston_wheel_delta
755   0000              	GLOBAL _in_mouse_kempston_wheel
756   0000              	GLOBAL _in_mouse_kempston_callee
757   0000              	GLOBAL _in_mouse_kempston
758   0000              	GLOBAL _in_mouse_kempston_setpos_callee
759   0000              	GLOBAL _in_mouse_kempston_setpos
760   0000              	GLOBAL _in_mouse_kempston_reset
761   0000              	GLOBAL _in_mouse_kempston_init
762   0000              	GLOBAL _in_mouse_amx_wheel_delta
763   0000              	GLOBAL _in_mouse_amx_wheel
764   0000              	GLOBAL _in_mouse_amx_callee
765   0000              	GLOBAL _in_mouse_amx
766   0000              	GLOBAL _in_mouse_amx_setpos_callee
767   0000              	GLOBAL _in_mouse_amx_setpos
768   0000              	GLOBAL _in_mouse_amx_reset
769   0000              	GLOBAL _in_mouse_amx_init_callee
770   0000              	GLOBAL _in_mouse_amx_init
771   0000              	GLOBAL _in_stick_sinclair2
772   0000              	GLOBAL _in_stick_sinclair1
773   0000              	GLOBAL _in_stick_kempston
774   0000              	GLOBAL _in_stick_fuller
775   0000              	GLOBAL _in_stick_cursor
776   0000              	GLOBAL _in_stick_keyboard_fastcall
777   0000              	GLOBAL _in_stick_keyboard
778   0000              	GLOBAL _in_wait_nokey
779   0000              	GLOBAL _in_wait_key
780   0000              	GLOBAL _in_test_key
781   0000              	GLOBAL _in_pause_fastcall
782   0000              	GLOBAL _in_pause
783   0000              	GLOBAL _in_key_scancode_fastcall
784   0000              	GLOBAL _in_key_scancode
785   0000              	GLOBAL _in_key_pressed_fastcall
786   0000              	GLOBAL _in_key_pressed
787   0000              	GLOBAL _in_inkey
788   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
789   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
790   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
791   0000              	GLOBAL _NIRVANAP_HOLE
792   0000              	GLOBAL _NIRVANAP_ISR_HOOK
793   0000              	GLOBAL _scan_map
794   0000              	GLOBAL _map_paper_last_a
795   0000              	GLOBAL _map_paper_last
796   0000              	GLOBAL _map_paper_clr
797   0000              	GLOBAL _map_paper
798   0000              	GLOBAL _anim_count
799   0000              	GLOBAL _anim_respanwn
800   0000              	GLOBAL _anim_loop
801   0000              	GLOBAL _anim_end
802   0000              	GLOBAL _anim_int
803   0000              	GLOBAL _anim_tile
804   0000              	GLOBAL _anim_col
805   0000              	GLOBAL _anim_lin
806   0000              	GLOBAL _map_heigth
807   0000              	GLOBAL _map_width
808   0000              	GLOBAL _scr_curr
809   0000              	GLOBAL _scr_map
810   0000              	GLOBAL _spr_kind
811   0000              	GLOBAL _spr_frames
812   0000              	GLOBAL _spr_speed
813   0000              	GLOBAL _spr_tile
814   0000              	GLOBAL _screen_ink
815   0000              	GLOBAL _screen_paper
816   0000              	GLOBAL _game_start_scr
817   0000              	GLOBAL _game_score_top
818   0000              	GLOBAL _player_coins
819   0000              	GLOBAL _player_lives
820   0000              	GLOBAL _game_over
821   0000              	GLOBAL _game_sound
822   0000              	GLOBAL _game_inf_lives
823   0000              	GLOBAL _game_inmune
824   0000              	GLOBAL _sprite_curr_index
825   0000              	GLOBAL _spr_count
826   0000              	GLOBAL _last_rotated
827   0000              	GLOBAL _anim_time
828   0000              	GLOBAL _frame_time
829   0000              	GLOBAL _curr_time
830   0000              	GLOBAL _game_conveyor_flag
831   0000              	GLOBAL _game_conveyor_tile
832   0000              	GLOBAL _p_state_a
833   0000              	GLOBAL _p_state
834   0000              	GLOBAL _attrib8
835   0000              	GLOBAL _attrib7
836   0000              	GLOBAL _attrib6
837   0000              	GLOBAL _attrib5
838   0000              	GLOBAL _attrib4
839   0000              	GLOBAL _attrib3
840   0000              	GLOBAL _attrib2
841   0000              	GLOBAL _attrib1
842   0000              	GLOBAL _attrib0
843   0000              	GLOBAL _attrib_red
844   0000              	GLOBAL _game_attrib_osd
845   0000              	GLOBAL _attrib_osd
846   0000              	GLOBAL _attrib_hl
847   0000              	GLOBAL _attrib
848   0000              	GLOBAL _zx_val_asm
849   0000              	GLOBAL _enemies
850   0000              	GLOBAL _tmp_ui
851   0000              	GLOBAL _tmp_sc
852   0000              	GLOBAL _tmp_uc
853   0000              	GLOBAL _tmp1
854   0000              	GLOBAL _tmp0
855   0000              	GLOBAL _tmp
856   0000              	GLOBAL _index1
857   0000              	GLOBAL _index0
858   0000              	GLOBAL _index_tmp
859   0000              	GLOBAL _loop_count
860   0000              	GLOBAL _s_class
861   0000              	GLOBAL _s_row1
862   0000              	GLOBAL _s_col1
863   0000              	GLOBAL _s_col0
864   0000              	GLOBAL _s_lin1
865   0000              	GLOBAL _s_lin0
866   0000              	GLOBAL _s_tile1
867   0000              	GLOBAL _s_tile0
868   0000              	GLOBAL _player_kill_index
869   0000              	GLOBAL _player_killed
870   0000              	GLOBAL _player_jump_top
871   0000              	GLOBAL _player_hit_count
872   0000              	GLOBAL _game_fps_show
873   0000              	GLOBAL _game_debug
874   0000              	GLOBAL _sprite
875   0000              	GLOBAL _fps
876   0000              	GLOBAL _game_tileset
877   0000              	GLOBAL _menu_curr_sel
878   0000              	GLOBAL _game_control_mode
879   0000              	GLOBAL _game_round_up
880   0000              	GLOBAL _game_conveyor_col1
881   0000              	GLOBAL _game_conveyor_col0
882   0000              	GLOBAL _game_conveyor_lin
883   0000              	GLOBAL _game_conveyor_dir
884   0000              	GLOBAL _game_song_play_start
885   0000              	GLOBAL _game_song_play
886   0000              	GLOBAL _game_world
887   0000              	GLOBAL _game_gravity
888   0000              	GLOBAL _player_jumpcount
889   0000              	GLOBAL _player_hit
890   0000              	GLOBAL _player_hit_time
891   0000              	GLOBAL _player_lin_scr
892   0000              	GLOBAL _player_col_scr
893   0000              	GLOBAL _player_max_vita
894   0000              	GLOBAL _player_max_mana
895   0000              	GLOBAL _player_keys
896   0000              	GLOBAL _player_vel_inc
897   0000              	GLOBAL _player_vel_y0
898   0000              	GLOBAL _player_vel_y
899   0000              	GLOBAL _player_score
900   0000              	GLOBAL _last_time
901   0000              	GLOBAL _obj_count
902   0000              	GLOBAL _obj_col
903   0000              	GLOBAL _obj_lin
904   0000              	GLOBAL _spr_timer
905   0000              	GLOBAL _jump_lin
906   0000              	GLOBAL _colint
907   0000              	GLOBAL _col
908   0000              	GLOBAL _tbuffer
909   0000              	GLOBAL _lin
910   0000              	GLOBAL _tile
911   0000              	GLOBAL _value_b
912   0000              	GLOBAL _value_a
913   0000              	GLOBAL _state_a
914   0000              	GLOBAL _state
915   0000              	GLOBAL _class
916   0000              	GLOBAL _dirs
917   0000              	GLOBAL _k2
918   0000              	GLOBAL _k1
919   0000              	GLOBAL _joyfunc2
920   0000              	GLOBAL _joyfunc1
921   0000              	GLOBAL _btiles
922   0000              	GLOBAL _v3
923   0000              	GLOBAL _v2
924   0000              	GLOBAL _v1
925   0000              	GLOBAL _v0
926   0000              	GLOBAL _i
927   0000              	GLOBAL _spec128
928   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
929   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
930   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
931   0000              	GLOBAL _ay_fx_06_disparo_fire
932   0000              	GLOBAL _ay_fx_06_disparo_axe
933   0000              	GLOBAL _ay_fx_06_explosion1
934   0000              	GLOBAL _ay_fx_06_efecto
935   0000              	GLOBAL _ay_fx_06_disparo2
936   0000              	GLOBAL _ay_fx_06_disparo1
937   0000              	GLOBAL _ay_fx_06_levelup
938   0000              	GLOBAL _ay_fx_06_magic
939   0000              	GLOBAL _ay_fx_06_sin_mana
940   0000              	GLOBAL _ay_fx_06_salto
941   0000              	GLOBAL _ay_fx_06_puerta
942   0000              	GLOBAL _ay_fx_06_magic1
943   0000              	GLOBAL _ay_fx_06_golpe
944   0000              	GLOBAL _ay_fx_06_explosion
945   0000              	GLOBAL _ay_fx_06_dano_por_toque
946   0000              	GLOBAL _ay_fx_06_coin
947   0000              	GLOBAL _ay_song_06_lotr_level_start
948   0000              	GLOBAL _ay_song_06_lotr_level_complete
949   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
950   0000              	GLOBAL _ay_song_04_ingame0
951   0000              	GLOBAL _ay_song_04_ingame
952   0000              	GLOBAL _hibtiles
953   0000              	GLOBAL _key_map
954   0000              	GLOBAL _start_scr0
955   0000              	GLOBAL _paper0
956   0000              	GLOBAL _lenght0
957   0000              	GLOBAL _world0
958   0000              	GLOBAL _spr_init
959   0000              ;--------------------------------------------------------
960   0000              ; special function registers
961   0000              ;--------------------------------------------------------
962   0000              defc _IO_FE	=	0x00fe
963   0000              defc _IO_1FFD	=	0x1ffd
964   0000              defc _IO_7FFD	=	0x7ffd
965   0000              ;--------------------------------------------------------
966   0000              ; ram data
967   0000              ;--------------------------------------------------------
968   0000              	SECTION bss_compiler
969   0000              ;--------------------------------------------------------
970   0000              ; ram data
971   0000              ;--------------------------------------------------------
972   0000              
973   0000              IF 0
974   0000              
975   0000              ; .area _INITIALIZED removed by z88dk
976   0000              
977   0000              
978   0000              ENDIF
979   0000              
980   0000              ;--------------------------------------------------------
981   0000              ; absolute external ram data
982   0000              ;--------------------------------------------------------
983   0000              	SECTION IGNORE
984   0000              ;--------------------------------------------------------
985   0000              ; global & static initialisations
986   0000              ;--------------------------------------------------------
987   0000              	SECTION code_crt_init
988   0000              ;--------------------------------------------------------
989   0000              ; Home
990   0000              ;--------------------------------------------------------
991   0000              	SECTION IGNORE
992   0000              ;--------------------------------------------------------
993   0000              ; code
994   0000              ;--------------------------------------------------------
995   0000              	SECTION code_compiler
996   0000              ;	---------------------------------
997   0000              ; Function game_loop
998   0000              ; ---------------------------------
999   0000              _game_loop:
1000  0000  21 00 00    	ld	hl,_player_lives
1001  0003  36 03       	ld	(hl),0x03
1002  0005  21 00 00    	ld	hl,0x0000
1003  0008  22 00 00    	ld	(_player_score),hl
1004  000B  21 00 00    	ld	hl,_game_over
1005  000E  36 00       	ld	(hl),0x00
1006  0010  21 00 00    	ld	hl,_game_round_up
1007  0013  36 00       	ld	(hl),0x00
1008  0015  21 00 00    	ld	hl,_game_world
1009  0018  36 00       	ld	(hl),0x00
1010  001A  21 00 00    	ld	hl,_map_paper
1011  001D  36 00       	ld	(hl),0x00
1012  001F  21 00 00    	ld	hl,_player_lin_scr
1013  0022  36 68       	ld	(hl),0x68
1014  0024  21 00 00    	ld	hl,_player_col_scr
1015  0027  36 02       	ld	(hl),0x02
1016  0029  CD 6B 04    	call	_game_round_init
1017  002C              l_game_loop_00117:
1018  002C  3A 00 00    	ld	a,(_game_over)
1019  002F  B7          	or	a, a
1020  0030  C2 D7 00    	jp	NZ, l_game_loop_00120
1021  0033  21 00 00    	ld	hl,_dirs
1022  0036  36 00       	ld	(hl),0x00
1023  0038              l_game_loop_00112:
1024  0038  3A 00 00    	ld	a,(_game_round_up)
1025  003B  B7          	or	a, a
1026  003C  20 76       	jr	NZ,l_game_loop_00114
1027  003E  3A 00 00    	ld	a,(_game_over)
1028  0041  B7          	or	a, a
1029  0042  20 70       	jr	NZ,l_game_loop_00114
1030  0044  CD 00 00    	call	_enemy_turn
1031  0047  CD 00 00    	call	_player_turn
1032  004A  3E 03       	ld	a,0x03
1033  004C  F5          	push	af
1034  004D  33          	inc	sp
1035  004E  21 00 00    	ld	hl,_anim_time
1036  0051  E5          	push	hl
1037  0052  CD E1 08    	call	_game_check_time
1038  0055  F1          	pop	af
1039  0056  33          	inc	sp
1040  0057  7D          	ld	a, l
1041  0058  B7          	or	a, a
1042  0059  28 10       	jr	Z,l_game_loop_00104
1043  005B  2A 00 00    	ld	hl,(_curr_time)
1044  005E  22 00 00    	ld	(_anim_time),hl
1045  0061  21 00 00    	ld	hl,_game_conveyor_col0
1046  0064  7E          	ld	a, (hl)
1047  0065  B7          	or	a, a
1048  0066  28 03       	jr	Z,l_game_loop_00104
1049  0068  CD CD 03    	call	_game_anim_conveyor
1050  006B              l_game_loop_00104:
1051  006B  CD 0B 09    	call	_game_rotate_attrib
1052  006E  3E 64       	ld	a,0x64
1053  0070  F5          	push	af
1054  0071  33          	inc	sp
1055  0072  21 00 00    	ld	hl,_frame_time
1056  0075  E5          	push	hl
1057  0076  CD E1 08    	call	_game_check_time
1058  0079  F1          	pop	af
1059  007A  33          	inc	sp
1060  007B  7D          	ld	a, l
1061  007C  B7          	or	a, a
1062  007D  28 0F       	jr	Z,l_game_loop_00108
1063  007F  2A 00 00    	ld	hl,(_curr_time)
1064  0082  22 00 00    	ld	(_frame_time),hl
1065  0085  3A 00 00    	ld	a,(_game_fps_show)
1066  0088  B7          	or	a,a
1067  0089  28 03       	jr	Z,l_game_loop_00108
1068  008B  CD D8 00    	call	_game_fps
1069  008E              l_game_loop_00108:
1070  008E  21 00 00    	ld	hl,_loop_count
1071  0091  34          	inc	(hl)
1072  0092  20 02       	jr	NZ,l_game_loop_00166
1073  0094  23          	inc	hl
1074  0095  34          	inc	(hl)
1075  0096              l_game_loop_00166:
1076  0096  21 00 00    	ld	hl,_fps
1077  0099  34          	inc	(hl)
1078  009A  20 02       	jr	NZ,l_game_loop_00167
1079  009C  23          	inc	hl
1080  009D  34          	inc	(hl)
1081  009E              l_game_loop_00167:
1082  009E  3A 00 00    	ld	a,(_obj_count)
1083  00A1  21 00 00    	ld	hl,_player_coins
1084  00A4  96          	sub	a, (hl)
1085  00A5  20 91       	jr	NZ,l_game_loop_00112
1086  00A7  21 00 00    	ld	hl,_game_over
1087  00AA  36 01       	ld	(hl),0x01
1088  00AC  2E 00       	ld	l,0x00
1089  00AE  CD 00 00    	call	_zx_border_fastcall
1090  00B1  C3 38 00    	jp	l_game_loop_00112
1091  00B4              l_game_loop_00114:
1092  00B4  21 00 00    	ld	hl,_game_round_up
1093  00B7  7E          	ld	a, (hl)
1094  00B8  B7          	or	a, a
1095  00B9  CA 2C 00    	jp	Z, l_game_loop_00117
1096  00BC  36 00       	ld	(hl),0x00
1097  00BE  21 00 00    	ld	hl,_game_world
1098  00C1  34          	inc	(hl)
1099  00C2  21 00 00    	ld	hl,_scr_curr
1100  00C5  36 FF       	ld	(hl),0xff
1101  00C7  21 00 00    	ld	hl,_player_col_scr
1102  00CA  36 02       	ld	(hl),0x02
1103  00CC  21 00 00    	ld	hl,_player_lin_scr
1104  00CF  36 80       	ld	(hl),0x80
1105  00D1  CD 6B 04    	call	_game_round_init
1106  00D4  C3 2C 00    	jp	l_game_loop_00117
1107  00D7              l_game_loop_00120:
1108  00D7  C9          	ret
1109  00D8              	SECTION code_compiler
1110  00D8              ;	---------------------------------
1111  00D8              ; Function game_fps
1112  00D8              ; ---------------------------------
1113  00D8              _game_fps:
1114  00D8  21 00 00    	ld	hl,_screen_ink
1115  00DB  36 07       	ld	(hl),0x07
1116  00DD  2A 00 00    	ld	hl,(_fps)
1117  00E0  E5          	push	hl
1118  00E1  21 17 18    	ld	hl,0x1817
1119  00E4  E5          	push	hl
1120  00E5  CD 00 00    	call	_zx_print_int
1121  00E8  21 00 00    	ld	hl,0x0000
1122  00EB  22 00 00    	ld	(_fps),hl
1123  00EE  C9          	ret
1124  00EF              	SECTION code_compiler
1125  00EF              ;	---------------------------------
1126  00EF              ; Function game_draw_map
1127  00EF              ; ---------------------------------
1128  00EF              _game_draw_map:
1129  00EF  CD 00 00    	call	___sdcc_enter_ix
1130  00F2  F5          	push	af
1131  00F3  3B          	dec	sp
1132  00F4  76          	halt
1133  00F5  21 00 00    	ld	hl,_spr_count
1134  00F8  36 00       	ld	(hl),0x00
1135  00FA  CD 00 00    	call	_spr_init_effects
1136  00FD  11 00 00    	ld	de,_obj_col+0
1137  0100              l_game_draw_map_00101:
1138  0100  21 00 00    	ld	hl,_spr_count
1139  0103  7E          	ld	a, (hl)
1140  0104  D6 07       	sub	a,0x07
1141  0106  30 22       	jr	NC,l_game_draw_map_00103
1142  0108  3E 00       	ld	a, +((_class) & 0xFF)
1143  010A  86          	add	a, (hl)
1144  010B  4F          	ld	c, a
1145  010C  3E 00       	ld	a, +((_class) / 256)
1146  010E  CE 00       	adc	a,0x00
1147  0110  47          	ld	b, a
1148  0111  AF          	xor	a, a
1149  0112  02          	ld	(bc), a
1150  0113  7B          	ld	a, e
1151  0114  86          	add	a, (hl)
1152  0115  4F          	ld	c, a
1153  0116  7A          	ld	a, d
1154  0117  CE 00       	adc	a,0x00
1155  0119  47          	ld	b, a
1156  011A  AF          	xor	a, a
1157  011B  02          	ld	(bc), a
1158  011C  3E 00       	ld	a, +((_obj_lin) & 0xFF)
1159  011E  86          	add	a, (hl)
1160  011F  4F          	ld	c, a
1161  0120  3E 00       	ld	a, +((_obj_lin) / 256)
1162  0122  CE 00       	adc	a,0x00
1163  0124  47          	ld	b, a
1164  0125  AF          	xor	a, a
1165  0126  02          	ld	(bc), a
1166  0127  34          	inc	(hl)
1167  0128  18 D6       	jr	l_game_draw_map_00101
1168  012A              l_game_draw_map_00103:
1169  012A  21 00 00    	ld	hl,_spr_count
1170  012D  36 00       	ld	(hl),0x00
1171  012F  21 00 00    	ld	hl,0x0000
1172  0132  22 00 00    	ld	(_index1),hl
1173  0135  21 00 00    	ld	hl,_s_row1
1174  0138  36 01       	ld	(hl),0x01
1175  013A  21 00 00    	ld	hl,_s_lin1
1176  013D  36 10       	ld	(hl),0x10
1177  013F  21 00 00    	ld	hl,_s_col1
1178  0142  36 00       	ld	(hl),0x00
1179  0144  21 00 00    	ld	hl,_obj_count
1180  0147  36 00       	ld	(hl),0x00
1181  0149  D5          	push	de
1182  014A  CD A4 03    	call	_game_cls
1183  014D  D1          	pop	de
1184  014E  CD 00 00    	call	_NIRVANAP_stop
1185  0151  21 00 00    	ld	hl,_screen_ink
1186  0154  36 00       	ld	(hl),0x00
1187  0156  21 00 00    	ld	hl,_game_conveyor_lin
1188  0159  36 00       	ld	(hl),0x00
1189  015B  21 00 00    	ld	hl,_game_conveyor_col0
1190  015E  36 00       	ld	(hl),0x00
1191  0160  21 00 00    	ld	hl,_game_conveyor_col1
1192  0163  36 00       	ld	(hl),0x00
1193  0165  21 00 00    	ld	hl,_game_conveyor_tile
1194  0168  36 11       	ld	(hl),0x11
1195  016A              l_game_draw_map_00122:
1196  016A  21 01 00    	ld	hl,_index1 + 1
1197  016D  7E          	ld	a, (hl)
1198  016E  D6 02       	sub	a,0x02
1199  0170  D2 11 03    	jp	NC, l_game_draw_map_00124
1200  0173  3E 00       	ld	a, +((_scr_map) & 0xFF)
1201  0175  2B          	dec	hl
1202  0176  86          	add	a, (hl)
1203  0177  4F          	ld	c, a
1204  0178  3E 00       	ld	a, +((_scr_map) / 256)
1205  017A  23          	inc	hl
1206  017B  8E          	adc	a, (hl)
1207  017C  47          	ld	b, a
1208  017D  0A          	ld	a, (bc)
1209  017E  DD 77 FF    	ld	(ix-1),a
1210  0181  D6 40       	sub	a,0x40
1211  0183  D2 46 02    	jp	NC, l_game_draw_map_00118
1212  0186  DD 7E FF    	ld	a,(ix-1)
1213  0189  D6 08       	sub	a,0x08
1214  018B  20 1B       	jr	NZ,l_game_draw_map_00105
1215  018D  2A 00 00    	ld	hl,(_obj_count)
1216  0190  26 00       	ld	h,0x00
1217  0192  19          	add	hl,de
1218  0193  3A 00 00    	ld	a,(_s_col1)
1219  0196  77          	ld	(hl),a
1220  0197  2A 00 00    	ld	hl,(_obj_count)
1221  019A  26 00       	ld	h,0x00
1222  019C  01 00 00    	ld	bc,_obj_lin
1223  019F  09          	add	hl,bc
1224  01A0  3A 00 00    	ld	a,(_s_lin1)
1225  01A3  77          	ld	(hl),a
1226  01A4  21 00 00    	ld	hl,_obj_count
1227  01A7  34          	inc	(hl)
1228  01A8              l_game_draw_map_00105:
1229  01A8  2A 00 00    	ld	hl,(_index1)
1230  01AB  01 00 00    	ld	bc,_scr_map
1231  01AE  09          	add	hl,bc
1232  01AF  3A 00 00    	ld	a,(_index1)
1233  01B2  E6 1F       	and	a,0x1f
1234  01B4  DD 77 FD    	ld	(ix-3),a
1235  01B7  DD 36 FE 00 	ld	(ix-2),0x00
1236  01BB  4E          	ld	c, (hl)
1237  01BC  DD 46 FD    	ld	b,(ix-3)
1238  01BF  79          	ld	a, c
1239  01C0  D6 04       	sub	a,0x04
1240  01C2  20 04       	jr	NZ,l_game_draw_map_00181
1241  01C4  3E 01       	ld	a,0x01
1242  01C6  18 01       	jr	l_game_draw_map_00182
1243  01C8              l_game_draw_map_00181:
1244  01C8  AF          	xor	a,a
1245  01C9              l_game_draw_map_00182:
1246  01C9  4F          	ld	c, a
1247  01CA  3A 00 00    	ld	a,(_game_conveyor_col0)
1248  01CD  B7          	or	a, a
1249  01CE  28 0C       	jr	Z,l_game_draw_map_00107
1250  01D0  21 00 00    	ld	hl,_game_conveyor_col1
1251  01D3  7E          	ld	a, (hl)
1252  01D4  B7          	or	a, a
1253  01D5  20 05       	jr	NZ,l_game_draw_map_00107
1254  01D7  CB 41       	bit	0, c
1255  01D9  20 01       	jr	NZ,l_game_draw_map_00107
1256  01DB  70          	ld	(hl), b
1257  01DC              l_game_draw_map_00107:
1258  01DC  CB 41       	bit	0, c
1259  01DE  28 3E       	jr	Z,l_game_draw_map_00116
1260  01E0  21 00 00    	ld	hl,_game_conveyor_col0
1261  01E3  7E          	ld	a, (hl)
1262  01E4  B7          	or	a, a
1263  01E5  20 37       	jr	NZ,l_game_draw_map_00116
1264  01E7  70          	ld	(hl), b
1265  01E8  ED 4B 00 00 	ld	bc,(_index1)
1266  01EC  79          	ld	a,c
1267  01ED  0E 05       	ld	c,0x05
1268  01EF              l_game_draw_map_00183:
1269  01EF  CB 38       	srl	b
1270  01F1  1F          	rra
1271  01F2  0D          	dec	c
1272  01F3  20 FA       	jr	NZ,l_game_draw_map_00183
1273  01F5  07          	rlca
1274  01F6  07          	rlca
1275  01F7  07          	rlca
1276  01F8  E6 F8       	and	a,0xf8
1277  01FA  C6 08       	add	a,0x08
1278  01FC  32 00 00    	ld	(_game_conveyor_lin),a
1279  01FF  ED 4B 00 00 	ld	bc,(_index1)
1280  0203  03          	inc	bc
1281  0204  21 00 00    	ld	hl,_scr_map
1282  0207  09          	add	hl,bc
1283  0208  F1          	pop	af
1284  0209  7E          	ld	a,(hl)
1285  020A  E5          	push	hl
1286  020B  B7          	or	a, a
1287  020C  28 07       	jr	Z,l_game_draw_map_00111
1288  020E  21 00 00    	ld	hl,_game_conveyor_dir
1289  0211  36 FF       	ld	(hl),0xff
1290  0213  18 05       	jr	l_game_draw_map_00112
1291  0215              l_game_draw_map_00111:
1292  0215  21 00 00    	ld	hl,_game_conveyor_dir
1293  0218  36 01       	ld	(hl),0x01
1294  021A              l_game_draw_map_00112:
1295  021A  E1          	pop	hl
1296  021B  E5          	push	hl
1297  021C  36 04       	ld	(hl),0x04
1298  021E              l_game_draw_map_00116:
1299  021E  3A 00 00    	ld	a,(_s_row1)
1300  0221  07          	rlca
1301  0222  07          	rlca
1302  0223  07          	rlca
1303  0224  E6 F8       	and	a,0xf8
1304  0226  DD 77 FD    	ld	(ix-3),a
1305  0229  01 00 00    	ld	bc,_scr_map
1306  022C  2A 00 00    	ld	hl,(_index1)
1307  022F  09          	add	hl,bc
1308  0230  46          	ld	b, (hl)
1309  0231  3A 00 00    	ld	a,(_s_col1)
1310  0234  D5          	push	de
1311  0235  F5          	push	af
1312  0236  33          	inc	sp
1313  0237  DD 7E FD    	ld	a,(ix-3)
1314  023A  48          	ld	c,b
1315  023B  47          	ld	b,a
1316  023C  C5          	push	bc
1317  023D  CD 00 00    	call	_game_sprite_draw8
1318  0240  F1          	pop	af
1319  0241  33          	inc	sp
1320  0242  D1          	pop	de
1321  0243  C3 EA 02    	jp	l_game_draw_map_00119
1322  0246              l_game_draw_map_00118:
1323  0246  21 00 00    	ld	hl,_index1
1324  0249  7E          	ld	a, (hl)
1325  024A  E6 1F       	and	a,0x1f
1326  024C  DD 77 FD    	ld	(ix-3),a
1327  024F  23          	inc	hl
1328  0250  46          	ld	b,(hl)
1329  0251  2B          	dec	hl
1330  0252  7E          	ld	a,(hl)
1331  0253  0E 05       	ld	c,0x05
1332  0255              l_game_draw_map_00184:
1333  0255  CB 38       	srl	b
1334  0257  1F          	rra
1335  0258  0D          	dec	c
1336  0259  20 FA       	jr	NZ,l_game_draw_map_00184
1337  025B  4F          	ld	c,a
1338  025C  07          	rlca
1339  025D  07          	rlca
1340  025E  07          	rlca
1341  025F  E6 F8       	and	a,0xf8
1342  0261  47          	ld	b, a
1343  0262  D5          	push	de
1344  0263  DD 66 FF    	ld	h,(ix-1)
1345  0266  DD 6E FD    	ld	l,(ix-3)
1346  0269  E5          	push	hl
1347  026A  C5          	push	bc
1348  026B  33          	inc	sp
1349  026C  CD 00 00    	call	_enemy_init
1350  026F  F1          	pop	af
1351  0270  33          	inc	sp
1352  0271  D1          	pop	de
1353  0272  3E 00       	ld	a, +((_value_a) & 0xFF)
1354  0274  21 00 00    	ld	hl,_sprite
1355  0277  86          	add	a, (hl)
1356  0278  DD 77 FD    	ld	(ix-3),a
1357  027B  3E 00       	ld	a, +((_value_a) / 256)
1358  027D  CE 00       	adc	a,0x00
1359  027F  DD 77 FE    	ld	(ix-2),a
1360  0282  2A 00 00    	ld	hl,(_index1)
1361  0285  01 20 00    	ld	bc,0x0020
1362  0288  09          	add	hl,bc
1363  0289  01 00 00    	ld	bc,_scr_map
1364  028C  09          	add	hl,bc
1365  028D  4E          	ld	c, (hl)
1366  028E  E1          	pop	hl
1367  028F  E5          	push	hl
1368  0290  71          	ld	(hl), c
1369  0291  3E 00       	ld	a, +((_value_b) & 0xFF)
1370  0293  21 00 00    	ld	hl,_sprite
1371  0296  86          	add	a, (hl)
1372  0297  DD 77 FD    	ld	(ix-3),a
1373  029A  3E 00       	ld	a, +((_value_b) / 256)
1374  029C  CE 00       	adc	a,0x00
1375  029E  DD 77 FE    	ld	(ix-2),a
1376  02A1  2A 00 00    	ld	hl,(_index1)
1377  02A4  01 21 00    	ld	bc,0x0021
1378  02A7  09          	add	hl,bc
1379  02A8  01 00 00    	ld	bc,_scr_map
1380  02AB  09          	add	hl,bc
1381  02AC  4E          	ld	c, (hl)
1382  02AD  E1          	pop	hl
1383  02AE  E5          	push	hl
1384  02AF  71          	ld	(hl), c
1385  02B0  2A 00 00    	ld	hl,(_index1)
1386  02B3  01 00 00    	ld	bc,_scr_map
1387  02B6  09          	add	hl,bc
1388  02B7  AF          	xor	a,a
1389  02B8  77          	ld	(hl),a
1390  02B9  ED 4B 00 00 	ld	bc,(_index1)
1391  02BD  03          	inc	bc
1392  02BE  21 00 00    	ld	hl,_scr_map
1393  02C1  09          	add	hl, bc
1394  02C2  36 00       	ld	(hl),0x00
1395  02C4  ED 4B 00 00 	ld	bc,(_index1)
1396  02C8  03          	inc	bc
1397  02C9  03          	inc	bc
1398  02CA  21 00 00    	ld	hl,_scr_map
1399  02CD  09          	add	hl, bc
1400  02CE  36 00       	ld	(hl),0x00
1401  02D0  2A 00 00    	ld	hl,(_index1)
1402  02D3  01 20 00    	ld	bc,0x0020
1403  02D6  09          	add	hl,bc
1404  02D7  01 00 00    	ld	bc,_scr_map
1405  02DA  09          	add	hl,bc
1406  02DB  36 00       	ld	(hl),0x00
1407  02DD  2A 00 00    	ld	hl,(_index1)
1408  02E0  01 21 00    	ld	bc,0x0021
1409  02E3  09          	add	hl,bc
1410  02E4  01 00 00    	ld	bc,_scr_map
1411  02E7  09          	add	hl,bc
1412  02E8  36 00       	ld	(hl),0x00
1413  02EA              l_game_draw_map_00119:
1414  02EA  21 00 00    	ld	hl,_index1
1415  02ED  34          	inc	(hl)
1416  02EE  20 02       	jr	NZ,l_game_draw_map_00185
1417  02F0  23          	inc	hl
1418  02F1  34          	inc	(hl)
1419  02F2              l_game_draw_map_00185:
1420  02F2  21 00 00    	ld	hl,_s_col1
1421  02F5  34          	inc	(hl)
1422  02F6  3A 00 00    	ld	a,(_index1)
1423  02F9  E6 1F       	and	a,0x1f
1424  02FB  C2 6A 01    	jp	NZ,l_game_draw_map_00122
1425  02FE  21 00 00    	ld	hl,_s_row1
1426  0301  34          	inc	(hl)
1427  0302  21 00 00    	ld	hl,_s_lin1
1428  0305  7E          	ld	a, (hl)
1429  0306  C6 08       	add	a,0x08
1430  0308  77          	ld	(hl), a
1431  0309  21 00 00    	ld	hl,_s_col1
1432  030C  36 00       	ld	(hl),0x00
1433  030E  C3 6A 01    	jp	l_game_draw_map_00122
1434  0311              l_game_draw_map_00124:
1435  0311  CD 00 00    	call	_NIRVANAP_start
1436  0314  76          	halt
1437  0315  CD 00 00    	call	_game_update_stats
1438  0318  DD F9       	ld	sp, ix
1439  031A  DD E1       	pop	ix
1440  031C  C9          	ret
1441  031D              	SECTION code_compiler
1442  031D              ;	---------------------------------
1443  031D              ; Function game_cell_paint_index
1444  031D              ; ---------------------------------
1445  031D              _game_cell_paint_index:
1446  031D  3A 00 00    	ld	a,(_index1)
1447  0320  E6 1F       	and	a,0x1f
1448  0322  32 00 00    	ld	(_s_col1),a
1449  0325  2A 00 00    	ld	hl,(_index1)
1450  0328  4D          	ld	c,l
1451  0329  5C          	ld	e,h
1452  032A  06 05       	ld	b,0x05
1453  032C  79          	ld	a,c
1454  032D              l_game_cell_paint_index_00103:
1455  032D  CB 3B       	srl	e
1456  032F  1F          	rra
1457  0330  10 FB       	djnz	l_game_cell_paint_index_00103
1458  0332  07          	rlca
1459  0333  07          	rlca
1460  0334  07          	rlca
1461  0335  E6 F8       	and	a,0xf8
1462  0337  32 00 00    	ld	(_s_lin1),a
1463  033A  0F          	rrca
1464  033B  0F          	rrca
1465  033C  0F          	rrca
1466  033D  E6 1F       	and	a,0x1f
1467  033F  3C          	inc	a
1468  0340  32 00 00    	ld	(_s_row1),a
1469  0343  21 00 00    	ld	hl,_s_lin1
1470  0346  7E          	ld	a, (hl)
1471  0347  C6 10       	add	a,0x10
1472  0349  77          	ld	(hl), a
1473  034A  3A 00 00    	ld	a,(_s_row1)
1474  034D  07          	rlca
1475  034E  07          	rlca
1476  034F  07          	rlca
1477  0350  E6 F8       	and	a,0xf8
1478  0352  4F          	ld	c, a
1479  0353  11 00 00    	ld	de,_scr_map
1480  0356  2A 00 00    	ld	hl,(_index1)
1481  0359  19          	add	hl,de
1482  035A  46          	ld	b, (hl)
1483  035B  3A 00 00    	ld	a,(_s_col1)
1484  035E  F5          	push	af
1485  035F  33          	inc	sp
1486  0360  79          	ld	a, c
1487  0361  48          	ld	c,b
1488  0362  47          	ld	b,a
1489  0363  C5          	push	bc
1490  0364  CD 00 00    	call	_game_sprite_draw8
1491  0367  F1          	pop	af
1492  0368  33          	inc	sp
1493  0369  C9          	ret
1494  036A              	SECTION code_compiler
1495  036A              ;	---------------------------------
1496  036A              ; Function game_cell_paint
1497  036A              ; ---------------------------------
1498  036A              _game_cell_paint:
1499  036A  3A 00 00    	ld	a,(_s_row1)
1500  036D  07          	rlca
1501  036E  07          	rlca
1502  036F  07          	rlca
1503  0370  E6 F8       	and	a,0xf8
1504  0372  57          	ld	d, a
1505  0373  01 00 00    	ld	bc,_scr_map
1506  0376  2A 00 00    	ld	hl,(_index1)
1507  0379  09          	add	hl,bc
1508  037A  4D          	ld	c,l
1509  037B  46          	ld	b, (hl)
1510  037C  3A 00 00    	ld	a,(_s_col1)
1511  037F  5A          	ld	e,d
1512  0380  57          	ld	d,a
1513  0381  D5          	push	de
1514  0382  C5          	push	bc
1515  0383  33          	inc	sp
1516  0384  CD 00 00    	call	_game_sprite_draw8
1517  0387  F1          	pop	af
1518  0388  33          	inc	sp
1519  0389  C9          	ret
1520  038A              	SECTION code_compiler
1521  038A              ;	---------------------------------
1522  038A              ; Function game_end is a stub
1523  038A              ; ---------------------------------
1524  038A              EXTERN l_ret
1525  038A              defc _game_end = l_ret
1526  038A              	SECTION code_compiler
1527  038A              ;	---------------------------------
1528  038A              ; Function game_print_footer
1529  038A              ; ---------------------------------
1530  038A              _game_print_footer:
1531  038A  3A 00 00    	ld	a,(_game_fps_show)
1532  038D  B7          	or	a, a
1533  038E  28 10       	jr	Z,l_game_print_footer_00102
1534  0390  21 00 00    	ld	hl,_screen_ink
1535  0393  36 07       	ld	(hl),0x07
1536  0395  21 00 00    	ld	hl,___str_0
1537  0398  E5          	push	hl
1538  0399  21 17 14    	ld	hl,0x1417
1539  039C  E5          	push	hl
1540  039D  CD 00 00    	call	_zx_print_str
1541  03A0              l_game_print_footer_00102:
1542  03A0  CD 00 00    	call	_game_update_stats
1543  03A3  C9          	ret
1544  03A4              	SECTION rodata_compiler
1545  0000              ___str_0:
1546  0000  4C 50 53 3A 	DEFM "LPS:"
1547  0004  00          	DEFB 0x00
1548  0005              	SECTION code_compiler
1549  03A4              ;	---------------------------------
1550  03A4              ; Function game_print_score is a stub
1551  03A4              ; ---------------------------------
1552  03A4              EXTERN l_ret
1553  03A4              defc _game_print_score = l_ret
1554  03A4              	SECTION code_compiler
1555  03A4              ;	---------------------------------
1556  03A4              ; Function game_cls
1557  03A4              ; ---------------------------------
1558  03A4              _game_cls:
1559  03A4  CD 00 00    	call	_NIRVANAP_stop
1560  03A7  2E 00       	ld	l,0x00
1561  03A9  CD 00 00    	call	_zx_cls_fastcall
1562  03AC  21 00 00    	ld	hl,_screen_ink
1563  03AF  36 07       	ld	(hl),0x07
1564  03B1  C3 00 00    	jp  _NIRVANAP_start
1565  03B4              	SECTION code_compiler
1566  03B4              ;	---------------------------------
1567  03B4              ; Function game_update_stats is a stub
1568  03B4              ; ---------------------------------
1569  03B4              EXTERN l_ret
1570  03B4              defc _game_update_stats = l_ret
1571  03B4              	SECTION code_compiler
1572  03B4              ;	---------------------------------
1573  03B4              ; Function game_tick
1574  03B4              ; ---------------------------------
1575  03B4              _game_tick:
1576  03B4  21 00 00    	ld	hl,_curr_time
1577  03B7  34          	inc	(hl)
1578  03B8  C2 00 00    	jp	NZ,_zx_isr
1579  03BB  23          	inc	hl
1580  03BC  34          	inc	(hl)
1581  03BD  C3 00 00    	jp  _zx_isr
1582  03C0              	SECTION code_compiler
1583  03C0              ;	---------------------------------
1584  03C0              ; Function game_start_timer
1585  03C0              ; ---------------------------------
1586  03C0              _game_start_timer:
1587  03C0  21 00 00    	ld	hl,_NIRVANAP_ISR_HOOK+0
1588  03C3  36 CD       	ld	(hl),0xcd
1589  03C5  23          	inc	hl
1590  03C6  11 B4 03    	ld	de,_game_tick
1591  03C9  73          	ld	(hl), e
1592  03CA  23          	inc	hl
1593  03CB  72          	ld	(hl), d
1594  03CC  C9          	ret
1595  03CD              	SECTION code_compiler
1596  03CD              ;	---------------------------------
1597  03CD              ; Function game_anim_conveyor
1598  03CD              ; ---------------------------------
1599  03CD              _game_anim_conveyor:
1600  03CD  CD 00 00    	call	___sdcc_enter_ix
1601  03D0  F5          	push	af
1602  03D1  F5          	push	af
1603  03D2  3B          	dec	sp
1604  03D3  01 60 00    	ld	bc,_btiles+96
1605  03D6  3A 00 00    	ld	a,(_game_conveyor_lin)
1606  03D9  32 00 00    	ld	(_i),a
1607  03DC  C6 08       	add	a,0x08
1608  03DE  DD 77 FB    	ld	(ix-5),a
1609  03E1  0A          	ld	a, (bc)
1610  03E2  6F          	ld	l,a
1611  03E3  87          	add	a, a
1612  03E4  5F          	ld	e, a
1613  03E5  7D          	ld	a, l
1614  03E6  07          	rlca
1615  03E7  E6 01       	and	a,0x01
1616  03E9  B3          	or	a, e
1617  03EA  57          	ld	d,a
1618  03EB  02          	ld	(bc),a
1619  03EC  87          	add	a, a
1620  03ED  5F          	ld	e, a
1621  03EE  7A          	ld	a, d
1622  03EF  07          	rlca
1623  03F0  E6 01       	and	a,0x01
1624  03F2  B3          	or	a, e
1625  03F3  02          	ld	(bc), a
1626  03F4              l_game_anim_conveyor_00106:
1627  03F4  3A 00 00    	ld	a,(_i)
1628  03F7  DD 96 FB    	sub	a,(ix-5)
1629  03FA  30 6A       	jr	NC,l_game_anim_conveyor_00109
1630  03FC  3A 00 00    	ld	a,(_game_conveyor_col0)
1631  03FF  DD 77 FC    	ld	(ix-4),a
1632  0402  2A 00 00    	ld	hl,(_i)
1633  0405  CD 00 00    	call	_zx_py2saddr_fastcall
1634  0408  EB          	ex	de,hl
1635  0409  7B          	ld	a, e
1636  040A  DD 86 FC    	add	a,(ix-4)
1637  040D  5F          	ld	e, a
1638  040E  7A          	ld	a, d
1639  040F  CE 00       	adc	a,0x00
1640  0411  57          	ld	d, a
1641  0412  DD 7E FC    	ld	a,(ix-4)
1642  0415  DD 77 FD    	ld	(ix-3),a
1643  0418              l_game_anim_conveyor_00101:
1644  0418  DD 7E FD    	ld	a,(ix-3)
1645  041B  21 00 00    	ld	hl,_game_conveyor_col1
1646  041E  96          	sub	a, (hl)
1647  041F  30 08       	jr	NC,l_game_anim_conveyor_00103
1648  0421  0A          	ld	a, (bc)
1649  0422  12          	ld	(de), a
1650  0423  13          	inc	de
1651  0424  DD 34 FD    	inc	(ix-3)
1652  0427  18 EF       	jr	l_game_anim_conveyor_00101
1653  0429              l_game_anim_conveyor_00103:
1654  0429  03          	inc	bc
1655  042A  03          	inc	bc
1656  042B  21 00 00    	ld	hl,_i
1657  042E  34          	inc	(hl)
1658  042F  3A 00 00    	ld	a,(_game_conveyor_lin)
1659  0432  5F          	ld	e,a
1660  0433  16 00       	ld	d,0x00
1661  0435  13          	inc	de
1662  0436  13          	inc	de
1663  0437  DD 73 FE    	ld	(ix-2),e
1664  043A  DD 72 FF    	ld	(ix-1),d
1665  043D  3A 00 00    	ld	a,(_i)
1666  0440  5F          	ld	e,a
1667  0441  16 00       	ld	d,0x00
1668  0443  DD 7E FE    	ld	a,(ix-2)
1669  0446  93          	sub	a, e
1670  0447  20 AB       	jr	NZ,l_game_anim_conveyor_00106
1671  0449  DD 7E FF    	ld	a,(ix-1)
1672  044C  92          	sub	a, d
1673  044D  20 A5       	jr	NZ,l_game_anim_conveyor_00106
1674  044F  0A          	ld	a, (bc)
1675  0450  5F          	ld	e,a
1676  0451  0F          	rrca
1677  0452  E6 80       	and	a,0x80
1678  0454  57          	ld	d, a
1679  0455  7B          	ld	a,e
1680  0456  CB 3F       	srl	a
1681  0458  B2          	or	a, d
1682  0459  5F          	ld	e,a
1683  045A  02          	ld	(bc),a
1684  045B  0F          	rrca
1685  045C  E6 80       	and	a,0x80
1686  045E  57          	ld	d, a
1687  045F  CB 3B       	srl	e
1688  0461  7A          	ld	a, d
1689  0462  B3          	or	a, e
1690  0463  02          	ld	(bc), a
1691  0464  18 8E       	jr	l_game_anim_conveyor_00106
1692  0466              l_game_anim_conveyor_00109:
1693  0466  DD F9       	ld	sp, ix
1694  0468  DD E1       	pop	ix
1695  046A  C9          	ret
1696  046B              	SECTION code_compiler
1697  046B              ;	---------------------------------
1698  046B              ; Function game_round_init
1699  046B              ; ---------------------------------
1700  046B              _game_round_init:
1701  046B  CD 00 00    	call	___sdcc_enter_ix
1702  046E  21 C2 FF    	ld	hl, -62
1703  0471  39          	add	hl, sp
1704  0472  F9          	ld	sp, hl
1705  0473  21 14 00    	ld	hl,0x0014
1706  0476  39          	add	hl, sp
1707  0477  4D          	ld	c,l
1708  0478  44          	ld	b,h
1709  0479  36 05       	ld	(hl), +((___str_1) & 0xFF)
1710  047B  23          	inc	hl
1711  047C  36 00       	ld	(hl), +((___str_1) / 256)
1712  047E  59          	ld	e, c
1713  047F  50          	ld	d, b
1714  0480  13          	inc	de
1715  0481  13          	inc	de
1716  0482  3E 14       	ld	a, +((___str_2) & 0xFF)
1717  0484  12          	ld	(de), a
1718  0485  13          	inc	de
1719  0486  3E 00       	ld	a, +((___str_2) / 256)
1720  0488  12          	ld	(de), a
1721  0489  21 04 00    	ld	hl,0x0004
1722  048C  09          	add	hl,bc
1723  048D  36 22       	ld	(hl), +((___str_3) & 0xFF)
1724  048F  EB          	ex	de,hl
1725  0490  13          	inc	de
1726  0491  3E 00       	ld	a, +((___str_3) / 256)
1727  0493  12          	ld	(de), a
1728  0494  21 06 00    	ld	hl,0x0006
1729  0497  09          	add	hl,bc
1730  0498  36 2C       	ld	(hl), +((___str_4) & 0xFF)
1731  049A  EB          	ex	de,hl
1732  049B  13          	inc	de
1733  049C  3E 00       	ld	a, +((___str_4) / 256)
1734  049E  12          	ld	(de), a
1735  049F  21 08 00    	ld	hl,0x0008
1736  04A2  09          	add	hl,bc
1737  04A3  36 47       	ld	(hl), +((___str_5) & 0xFF)
1738  04A5  EB          	ex	de,hl
1739  04A6  13          	inc	de
1740  04A7  3E 00       	ld	a, +((___str_5) / 256)
1741  04A9  12          	ld	(de), a
1742  04AA  21 0A 00    	ld	hl,0x000a
1743  04AD  09          	add	hl,bc
1744  04AE  36 55       	ld	(hl), +((___str_6) & 0xFF)
1745  04B0  EB          	ex	de,hl
1746  04B1  13          	inc	de
1747  04B2  3E 00       	ld	a, +((___str_6) / 256)
1748  04B4  12          	ld	(de), a
1749  04B5  21 0C 00    	ld	hl,0x000c
1750  04B8  09          	add	hl,bc
1751  04B9  36 66       	ld	(hl), +((___str_7) & 0xFF)
1752  04BB  EB          	ex	de,hl
1753  04BC  13          	inc	de
1754  04BD  3E 00       	ld	a, +((___str_7) / 256)
1755  04BF  12          	ld	(de), a
1756  04C0  21 0E 00    	ld	hl,0x000e
1757  04C3  09          	add	hl,bc
1758  04C4  36 6E       	ld	(hl), +((___str_8) & 0xFF)
1759  04C6  EB          	ex	de,hl
1760  04C7  13          	inc	de
1761  04C8  3E 00       	ld	a, +((___str_8) / 256)
1762  04CA  12          	ld	(de), a
1763  04CB  21 10 00    	ld	hl,0x0010
1764  04CE  09          	add	hl,bc
1765  04CF  36 80       	ld	(hl), +((___str_9) & 0xFF)
1766  04D1  EB          	ex	de,hl
1767  04D2  13          	inc	de
1768  04D3  3E 00       	ld	a, +((___str_9) / 256)
1769  04D5  12          	ld	(de), a
1770  04D6  21 12 00    	ld	hl,0x0012
1771  04D9  09          	add	hl,bc
1772  04DA  36 94       	ld	(hl), +((___str_10) & 0xFF)
1773  04DC  EB          	ex	de,hl
1774  04DD  13          	inc	de
1775  04DE  3E 00       	ld	a, +((___str_10) / 256)
1776  04E0  12          	ld	(de), a
1777  04E1  21 14 00    	ld	hl,0x0014
1778  04E4  09          	add	hl,bc
1779  04E5  36 B4       	ld	(hl), +((___str_11) & 0xFF)
1780  04E7  EB          	ex	de,hl
1781  04E8  13          	inc	de
1782  04E9  3E 00       	ld	a, +((___str_11) / 256)
1783  04EB  12          	ld	(de), a
1784  04EC  21 16 00    	ld	hl,0x0016
1785  04EF  09          	add	hl,bc
1786  04F0  36 C1       	ld	(hl), +((___str_12) & 0xFF)
1787  04F2  EB          	ex	de,hl
1788  04F3  13          	inc	de
1789  04F4  3E 00       	ld	a, +((___str_12) / 256)
1790  04F6  12          	ld	(de), a
1791  04F7  21 18 00    	ld	hl,0x0018
1792  04FA  09          	add	hl,bc
1793  04FB  36 CF       	ld	(hl), +((___str_13) & 0xFF)
1794  04FD  EB          	ex	de,hl
1795  04FE  13          	inc	de
1796  04FF  3E 00       	ld	a, +((___str_13) / 256)
1797  0501  12          	ld	(de), a
1798  0502  21 1A 00    	ld	hl,0x001a
1799  0505  09          	add	hl,bc
1800  0506  36 E5       	ld	(hl), +((___str_14) & 0xFF)
1801  0508  EB          	ex	de,hl
1802  0509  13          	inc	de
1803  050A  3E 00       	ld	a, +((___str_14) / 256)
1804  050C  12          	ld	(de), a
1805  050D  21 1C 00    	ld	hl,0x001c
1806  0510  09          	add	hl,bc
1807  0511  36 F9       	ld	(hl), +((___str_15) & 0xFF)
1808  0513  EB          	ex	de,hl
1809  0514  13          	inc	de
1810  0515  3E 00       	ld	a, +((___str_15) / 256)
1811  0517  12          	ld	(de), a
1812  0518  21 1E 00    	ld	hl,0x001e
1813  051B  09          	add	hl,bc
1814  051C  36 1A       	ld	(hl), +((___str_16) & 0xFF)
1815  051E  EB          	ex	de,hl
1816  051F  13          	inc	de
1817  0520  3E 01       	ld	a, +((___str_16) / 256)
1818  0522  12          	ld	(de), a
1819  0523  21 20 00    	ld	hl,0x0020
1820  0526  09          	add	hl,bc
1821  0527  36 39       	ld	(hl), +((___str_17) & 0xFF)
1822  0529  EB          	ex	de,hl
1823  052A  13          	inc	de
1824  052B  3E 01       	ld	a, +((___str_17) / 256)
1825  052D  12          	ld	(de), a
1826  052E  21 22 00    	ld	hl,0x0022
1827  0531  09          	add	hl,bc
1828  0532  36 4B       	ld	(hl), +((___str_18) & 0xFF)
1829  0534  EB          	ex	de,hl
1830  0535  13          	inc	de
1831  0536  3E 01       	ld	a, +((___str_18) / 256)
1832  0538  12          	ld	(de), a
1833  0539  21 24 00    	ld	hl,0x0024
1834  053C  09          	add	hl,bc
1835  053D  36 5E       	ld	(hl), +((___str_19) & 0xFF)
1836  053F  EB          	ex	de,hl
1837  0540  13          	inc	de
1838  0541  3E 01       	ld	a, +((___str_19) / 256)
1839  0543  12          	ld	(de), a
1840  0544  21 26 00    	ld	hl,0x0026
1841  0547  09          	add	hl,bc
1842  0548  36 67       	ld	(hl), +((___str_20) & 0xFF)
1843  054A  EB          	ex	de,hl
1844  054B  13          	inc	de
1845  054C  3E 01       	ld	a, +((___str_20) / 256)
1846  054E  12          	ld	(de), a
1847  054F  21 00 00    	ld	hl,0x0000
1848  0552  39          	add	hl, sp
1849  0553  36 0E       	ld	(hl),0x0e
1850  0555  5D          	ld	e,l
1851  0556  54          	ld	d,h
1852  0557  23          	inc	hl
1853  0558  36 0D       	ld	(hl),0x0d
1854  055A  6B          	ld	l, e
1855  055B  62          	ld	h, d
1856  055C  23          	inc	hl
1857  055D  23          	inc	hl
1858  055E  36 09       	ld	(hl),0x09
1859  0560  6B          	ld	l, e
1860  0561  62          	ld	h, d
1861  0562  23          	inc	hl
1862  0563  23          	inc	hl
1863  0564  23          	inc	hl
1864  0565  36 0D       	ld	(hl),0x0d
1865  0567  21 04 00    	ld	hl,0x0004
1866  056A  19          	add	hl, de
1867  056B  36 10       	ld	(hl),0x10
1868  056D  21 05 00    	ld	hl,0x0005
1869  0570  19          	add	hl, de
1870  0571  36 07       	ld	(hl),0x07
1871  0573  21 06 00    	ld	hl,0x0006
1872  0576  19          	add	hl, de
1873  0577  36 11       	ld	(hl),0x11
1874  0579  21 07 00    	ld	hl,0x0007
1875  057C  19          	add	hl, de
1876  057D  36 13       	ld	(hl),0x13
1877  057F  21 08 00    	ld	hl,0x0008
1878  0582  19          	add	hl, de
1879  0583  36 1F       	ld	(hl),0x1f
1880  0585  21 09 00    	ld	hl,0x0009
1881  0588  19          	add	hl, de
1882  0589  36 0C       	ld	(hl),0x0c
1883  058B  21 0A 00    	ld	hl,0x000a
1884  058E  19          	add	hl, de
1885  058F  36 0D       	ld	(hl),0x0d
1886  0591  21 0B 00    	ld	hl,0x000b
1887  0594  19          	add	hl, de
1888  0595  36 13       	ld	(hl),0x13
1889  0597  21 0C 00    	ld	hl,0x000c
1890  059A  19          	add	hl, de
1891  059B  36 15       	ld	(hl),0x15
1892  059D  21 0D 00    	ld	hl,0x000d
1893  05A0  19          	add	hl, de
1894  05A1  36 13       	ld	(hl),0x13
1895  05A3  21 0E 00    	ld	hl,0x000e
1896  05A6  19          	add	hl, de
1897  05A7  36 20       	ld	(hl),0x20
1898  05A9  21 0F 00    	ld	hl,0x000f
1899  05AC  19          	add	hl, de
1900  05AD  36 1E       	ld	(hl),0x1e
1901  05AF  21 10 00    	ld	hl,0x0010
1902  05B2  19          	add	hl, de
1903  05B3  36 11       	ld	(hl),0x11
1904  05B5  21 11 00    	ld	hl,0x0011
1905  05B8  19          	add	hl, de
1906  05B9  36 12       	ld	(hl),0x12
1907  05BB  21 12 00    	ld	hl,0x0012
1908  05BE  19          	add	hl, de
1909  05BF  36 08       	ld	(hl),0x08
1910  05C1  21 13 00    	ld	hl,0x0013
1911  05C4  19          	add	hl, de
1912  05C5  36 14       	ld	(hl),0x14
1913  05C7  21 00 00    	ld	hl,0x0000
1914  05CA  22 00 00    	ld	(_loop_count),hl
1915  05CD  21 00 00    	ld	hl,0
1916  05D0  22 00 00    	ld	(_curr_time),hl
1917  05D3  21 00 00    	ld	hl,0x0000
1918  05D6  22 00 00    	ld	(_frame_time),hl
1919  05D9  21 00 00    	ld	hl,_player_coins
1920  05DC  36 00       	ld	(hl),0x00
1921  05DE  21 00 00    	ld	hl,_game_conveyor_flag
1922  05E1  36 00       	ld	(hl),0x00
1923  05E3  C5          	push	bc
1924  05E4  D5          	push	de
1925  05E5  CD 00 00    	call	_spr_init_effects
1926  05E8  CD 00 00    	call	_game_print_header
1927  05EB  CD 8A 03    	call	_game_print_footer
1928  05EE  D1          	pop	de
1929  05EF  C1          	pop	bc
1930  05F0  CD 00 00    	call	_ay_reset
1931  05F3  C5          	push	bc
1932  05F4  D5          	push	de
1933  05F5  CD 28 0B    	call	_game_page_map
1934  05F8  CD 00 00    	call	_spr_btile_paint_back
1935  05FB  CD EF 00    	call	_game_draw_map
1936  05FE  21 20 90    	ld	hl,0x9020
1937  0601  E5          	push	hl
1938  0602  AF          	xor	a, a
1939  0603  F5          	push	af
1940  0604  33          	inc	sp
1941  0605  21 00 00    	ld	hl,_attrib_hl
1942  0608  E5          	push	hl
1943  0609  CD 76 07    	call	_game_paint_attrib
1944  060C  F1          	pop	af
1945  060D  F1          	pop	af
1946  060E  33          	inc	sp
1947  060F  D1          	pop	de
1948  0610  C1          	pop	bc
1949  0611  21 00 00    	ld	hl,_i
1950  0614  36 00       	ld	(hl),0x00
1951  0616  21 00 00    	ld	hl,0x0000
1952  0619  22 00 00    	ld	(_tmp_ui),hl
1953  061C              l_game_round_init_00101:
1954  061C  3A 00 00    	ld	a,(_i)
1955  061F  21 00 00    	ld	hl,_scr_curr
1956  0622  96          	sub	a, (hl)
1957  0623  30 2C       	jr	NC,l_game_round_init_00103
1958  0625  7B          	ld	a, e
1959  0626  21 00 00    	ld	hl,_i
1960  0629  86          	add	a, (hl)
1961  062A  DD 77 FE    	ld	(ix-2),a
1962  062D  6F          	ld	l,a
1963  062E  7A          	ld	a,d
1964  062F  CE 00       	adc	a,0x00
1965  0631  DD 77 FF    	ld	(ix-1),a
1966  0634  67          	ld	h,a
1967  0635  6E          	ld	l, (hl)
1968  0636  DD 75 FE    	ld	(ix-2),l
1969  0639  DD 36 FF 00 	ld	(ix-1),0x00
1970  063D  21 00 00    	ld	hl,_tmp_ui
1971  0640  7E          	ld	a, (hl)
1972  0641  DD 86 FE    	add	a,(ix-2)
1973  0644  77          	ld	(hl), a
1974  0645  23          	inc	hl
1975  0646  7E          	ld	a, (hl)
1976  0647  DD 8E FF    	adc	a,(ix-1)
1977  064A  77          	ld	(hl), a
1978  064B  21 00 00    	ld	hl,_i
1979  064E  34          	inc	(hl)
1980  064F  18 CB       	jr	l_game_round_init_00101
1981  0651              l_game_round_init_00103:
1982  0651  3A 00 00    	ld	a,(_scr_curr)
1983  0654  DD 77 FE    	ld	(ix-2),a
1984  0657  6F          	ld	l, a
1985  0658  26 00       	ld	h,0x00
1986  065A  DD 74 FF    	ld	(ix-1),h
1987  065D  29          	add	hl, hl
1988  065E  09          	add	hl, bc
1989  065F  4E          	ld	c, (hl)
1990  0660  23          	inc	hl
1991  0661  46          	ld	b, (hl)
1992  0662  2A 00 00    	ld	hl,(_scr_curr)
1993  0665  26 00       	ld	h,0x00
1994  0667  19          	add	hl,de
1995  0668  6E          	ld	l, (hl)
1996  0669  AF          	xor	a,a
1997  066A  67          	ld	h,a
1998  066B  EB          	ex	de,hl
1999  066C  21 20 00    	ld	hl,0x0020
2000  066F  ED 52       	sbc	hl,de
2001  0671  CB 2C       	sra	h
2002  0673  CB 1D       	rr	l
2003  0675  EB          	ex	de,hl
2004  0676  53          	ld	d, e
2005  0677  C5          	push	bc
2006  0678  1E 11       	ld	e,0x11
2007  067A  D5          	push	de
2008  067B  CD 00 00    	call	_zx_print_str
2009  067E  21 0A 98    	ld	hl,0x980a
2010  0681  E5          	push	hl
2011  0682  AF          	xor	a, a
2012  0683  F5          	push	af
2013  0684  33          	inc	sp
2014  0685  21 00 00    	ld	hl,_attrib_red
2015  0688  E5          	push	hl
2016  0689  CD 76 07    	call	_game_paint_attrib
2017  068C  F1          	pop	af
2018  068D  33          	inc	sp
2019  068E  21 20 98    	ld	hl,0x9820
2020  0691  E3          	ex	(sp),hl
2021  0692  3E 0A       	ld	a,0x0a
2022  0694  F5          	push	af
2023  0695  33          	inc	sp
2024  0696  21 00 00    	ld	hl,_attrib_osd
2025  0699  E5          	push	hl
2026  069A  CD 76 07    	call	_game_paint_attrib
2027  069D  F1          	pop	af
2028  069E  33          	inc	sp
2029  069F  21 7C 01    	ld	hl,___str_21
2030  06A2  E3          	ex	(sp),hl
2031  06A3  21 12 00    	ld	hl,0x0012
2032  06A6  E5          	push	hl
2033  06A7  CD 00 00    	call	_zx_print_str
2034  06AA  21 00 00    	ld	hl,_screen_ink
2035  06AD  36 06       	ld	(hl),0x06
2036  06AF  21 9D 01    	ld	hl,___str_22
2037  06B2  E5          	push	hl
2038  06B3  21 14 00    	ld	hl,0x0014
2039  06B6  E5          	push	hl
2040  06B7  CD 00 00    	call	_zx_print_str
2041  06BA  21 00 00    	ld	hl,_game_song_play_start
2042  06BD  36 00       	ld	(hl),0x00
2043  06BF  3A 00 00    	ld	a,(_game_over)
2044  06C2  B7          	or	a, a
2045  06C3  20 10       	jr	NZ,l_game_round_init_00105
2046  06C5  2A 00 00    	ld	hl,(_player_col_scr)
2047  06C8  26 08       	ld	h,0x08
2048  06CA  3A 00 00    	ld	a,(_player_lin_scr)
2049  06CD  E5          	push	hl
2050  06CE  F5          	push	af
2051  06CF  33          	inc	sp
2052  06D0  CD 00 00    	call	_player_init
2053  06D3  F1          	pop	af
2054  06D4  33          	inc	sp
2055  06D5              l_game_round_init_00105:
2056  06D5  CD 00 00    	call	_game_update_stats
2057  06D8  3A 00 00    	ld	a,(_game_debug)
2058  06DB  B7          	or	a, a
2059  06DC  20 3B       	jr	NZ,l_game_round_init_00107
2060  06DE  21 BE 01    	ld	hl,___str_23
2061  06E1  E5          	push	hl
2062  06E2  21 0C 06    	ld	hl,0x060c
2063  06E5  E5          	push	hl
2064  06E6  CD 00 00    	call	_zx_print_str
2065  06E9  21 00 00    	ld	hl,_tmp0
2066  06EC  36 0B       	ld	(hl),0x0b
2067  06EE  21 11 68    	ld	hl,0x6811
2068  06F1  E5          	push	hl
2069  06F2  3E 06       	ld	a,0x06
2070  06F4  F5          	push	af
2071  06F5  33          	inc	sp
2072  06F6  21 00 00    	ld	hl,_attrib_osd
2073  06F9  E5          	push	hl
2074  06FA  CD 76 07    	call	_game_paint_attrib
2075  06FD  F1          	pop	af
2076  06FE  F1          	pop	af
2077  06FF  33          	inc	sp
2078  0700  3A 00 00    	ld	a,(_tmp0)
2079  0703  C6 06       	add	a,0x06
2080  0705  47          	ld	b, a
2081  0706  AF          	xor	a, a
2082  0707  F5          	push	af
2083  0708  33          	inc	sp
2084  0709  21 C8 00    	ld	hl,0x00c8
2085  070C  E5          	push	hl
2086  070D  C5          	push	bc
2087  070E  33          	inc	sp
2088  070F  21 0C 06    	ld	hl,0x060c
2089  0712  E5          	push	hl
2090  0713  CD A0 07    	call	_game_colour_message
2091  0716  F1          	pop	af
2092  0717  F1          	pop	af
2093  0718  F1          	pop	af
2094  0719              l_game_round_init_00107:
2095  0719  CD 00 00    	call	_audio_ingame
2096  071C  21 00 00    	ld	hl,_screen_ink
2097  071F  36 12       	ld	(hl),0x12
2098  0721  21 CA 01    	ld	hl,___str_24
2099  0724  E5          	push	hl
2100  0725  21 00 00    	ld	hl,0x0000
2101  0728  E5          	push	hl
2102  0729  CD 00 00    	call	_zx_print_str
2103  072C  2E 02       	ld	l,0x02
2104  072E  CD 00 00    	call	_zx_border_fastcall
2105  0731  21 00 00    	ld	hl,_screen_ink
2106  0734  36 07       	ld	(hl),0x07
2107  0736  DD F9       	ld	sp, ix
2108  0738  DD E1       	pop	ix
2109  073A  C9          	ret
2110  073B              	SECTION rodata_compiler
2111  0005              ___str_1:
2112  0005  43 65 6E 74 72 61 6C 20 43 61 76 65 72 6E 
                        	DEFM "Central Cavern"
2113  0013  00          	DEFB 0x00
2114  0014              	SECTION rodata_compiler
2115  0014              ___str_2:
2116  0014  54 68 65 20 43 6F 6C 64 20 52 6F 6F 6D 
                        	DEFM "The Cold Room"
2117  0021  00          	DEFB 0x00
2118  0022              	SECTION rodata_compiler
2119  0022              ___str_3:
2120  0022  4D 65 6E 61 67 65 72 69 65 
                        	DEFM "Menagerie"
2121  002B  00          	DEFB 0x00
2122  002C              	SECTION rodata_compiler
2123  002C              ___str_4:
2124  002C  41 62 61 6E 64 6F 6E 65 64 20 55 72 61 6E 69 75 6D 20 57 6F 72 6B 69 6E 67 73 
                        	DEFM "Abandoned Uranium Workings"
2125  0046  00          	DEFB 0x00
2126  0047              	SECTION rodata_compiler
2127  0047              ___str_5:
2128  0047  45 75 67 65 6E 65 27 73 20 4C 61 69 72 
                        	DEFM "Eugene's Lair"
2129  0054  00          	DEFB 0x00
2130  0055              	SECTION rodata_compiler
2131  0055              ___str_6:
2132  0055  50 72 6F 63 65 73 73 69 6E 67 20 50 6C 61 6E 74 
                        	DEFM "Processing Plant"
2133  0065  00          	DEFB 0x00
2134  0066              	SECTION rodata_compiler
2135  0066              ___str_7:
2136  0066  54 68 65 20 56 61 74 
                        	DEFM "The Vat"
2137  006D  00          	DEFB 0x00
2138  006E              	SECTION rodata_compiler
2139  006E              ___str_8:
2140  006E  57 61 63 6B 79 20 41 6D 6F 65 62 61 74 72 6F 6E 73 
                        	DEFM "Wacky Amoebatrons"
2141  007F  00          	DEFB 0x00
2142  0080              	SECTION rodata_compiler
2143  0080              ___str_9:
2144  0080  54 68 65 20 45 6E 64 6F 72 69 61 6E 20 46 6F 72 65 73 74 
                        	DEFM "The Endorian Forest"
2145  0093  00          	DEFB 0x00
2146  0094              	SECTION rodata_compiler
2147  0094              ___str_10:
2148  0094  41 74 74 61 63 6B 20 6F 66 20 74 68 65 20 4D 75 74 61 6E 74 20 54 65 6C 65 70 68 6F 6E 65 73 
                        	DEFM "Attack of the Mutant Telephones"
2149  00B3  00          	DEFB 0x00
2150  00B4              	SECTION rodata_compiler
2151  00B4              ___str_11:
2152  00B4  4F 72 65 20 52 65 66 69 6E 65 72 79 
                        	DEFM "Ore Refinery"
2153  00C0  00          	DEFB 0x00
2154  00C1              	SECTION rodata_compiler
2155  00C1              ___str_12:
2156  00C1  54 68 65 20 57 61 72 65 68 6F 75 73 65 
                        	DEFM "The Warehouse"
2157  00CE  00          	DEFB 0x00
2158  00CF              	SECTION rodata_compiler
2159  00CF              ___str_13:
2160  00CF  53 6F 6C 61 72 20 50 6F 77 65 72 20 47 65 6E 65 72 61 74 6F 72 
                        	DEFM "Solar Power Generator"
2161  00E4  00          	DEFB 0x00
2162  00E5              	SECTION rodata_compiler
2163  00E5              ___str_14:
2164  00E5  41 6D 6F 65 62 61 74 72 6F 6E 73 20 52 65 76 65 6E 67 65 
                        	DEFM "Amoebatrons Revenge"
2165  00F8  00          	DEFB 0x00
2166  00F9              	SECTION rodata_compiler
2167  00F9              ___str_15:
2168  00F9  4D 69 6E 65 72 20 57 69 6C 6C 79 20 6D 65 65 74 73 20 74 68 65 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Miner Willy meets the Kong Beast"
2169  0119  00          	DEFB 0x00
2170  011A              	SECTION rodata_compiler
2171  011A              ___str_16:
2172  011A  52 65 74 75 72 6E 20 6F 66 20 74 68 65 20 41 6C 69 65 6E 20 4B 6F 6E 67 20 42 65 61 73 74 
                        	DEFM "Return of the Alien Kong Beast"
2173  0138  00          	DEFB 0x00
2174  0139              	SECTION rodata_compiler
2175  0139              ___str_17:
2176  0139  54 68 65 20 46 69 6E 61 6C 20 42 61 72 72 69 65 72 
                        	DEFM "The Final Barrier"
2177  014A  00          	DEFB 0x00
2178  014B              	SECTION rodata_compiler
2179  014B              ___str_18:
2180  014B  53 6B 79 6C 61 62 20 4C 61 6E 64 69 6E 67 20 42 61 79 
                        	DEFM "Skylab Landing Bay"
2181  015D  00          	DEFB 0x00
2182  015E              	SECTION rodata_compiler
2183  015E              ___str_19:
2184  015E  54 68 65 20 42 61 6E 6B 
                        	DEFM "The Bank"
2185  0166  00          	DEFB 0x00
2186  0167              	SECTION rodata_compiler
2187  0167              ___str_20:
2188  0167  54 68 65 20 53 69 78 74 65 65 6E 74 68 20 43 61 76 65 72 6E 
                        	DEFM "The Sixteenth Cavern"
2189  017B  00          	DEFB 0x00
2190  017C              	SECTION rodata_compiler
2191  017C              ___str_21:
2192  017C  41 49 52 20 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 2D 
                        	DEFM "AIR ----------------------------"
2193  019C  00          	DEFB 0x00
2194  019D              	SECTION rodata_compiler
2195  019D              ___str_22:
2196  019D  48 49 47 48 20 53 43 4F 52 45 20 30 30 30 30 30 30 20 20 20 53 43 4F 52 45 20 30 30 30 30 30 30 
                        	DEFM "HIGH SCORE 000000   SCORE 000000"
2197  01BD  00          	DEFB 0x00
2198  01BE              	SECTION rodata_compiler
2199  01BE              ___str_23:
2200  01BE  52 4F 55 4E 44 20 53 54 41 52 54 
                        	DEFM "ROUND START"
2201  01C9  00          	DEFB 0x00
2202  01CA              	SECTION rodata_compiler
2203  01CA              ___str_24:
2204  01CA  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 
                        	DEFM "                                "
2205  01EA  00          	DEFB 0x00
2206  01EB              	SECTION code_compiler
2207  073B              ;	---------------------------------
2208  073B              ; Function game_print_header
2209  073B              ; ---------------------------------
2210  073B              	defc _game_print_header	=	_game_print_score
2211  073B              	SECTION code_compiler
2212  073B              ;	---------------------------------
2213  073B              ; Function game_check_map
2214  073B              ; ---------------------------------
2215  073B              _game_check_map:
2216  073B  CD 00 00    	call	___sdcc_enter_ix
2217  073E  DD 66 05    	ld	h,(ix+5)
2218  0741  DD 6E 04    	ld	l,(ix+4)
2219  0744  E5          	push	hl
2220  0745  CD 00 00    	call	_spr_calc_index
2221  0748  F1          	pop	af
2222  0749  22 00 00    	ld	(_index1),hl
2223  074C  21 00 00    	ld	hl,_index1
2224  074F  DD E1       	pop	ix
2225  0751  C3 54 07    	jp	_game_check_cell
2226  0754              	SECTION code_compiler
2227  0754              ;	---------------------------------
2228  0754              ; Function game_check_cell
2229  0754              ; ---------------------------------
2230  0754              _game_check_cell:
2231  0754  4E          	ld	c, (hl)
2232  0755  23          	inc	hl
2233  0756  46          	ld	b, (hl)
2234  0757  AF          	xor	a, a
2235  0758  B9          	cp	a, c
2236  0759  3E 02       	ld	a,0x02
2237  075B  98          	sbc	a, b
2238  075C  30 04       	jr	NC,l_game_check_cell_00102
2239  075E  2E 01       	ld	l,0x01
2240  0760  18 13       	jr	l_game_check_cell_00106
2241  0762              l_game_check_cell_00102:
2242  0762  21 00 00    	ld	hl,_scr_map
2243  0765  09          	add	hl, bc
2244  0766  5E          	ld	e, (hl)
2245  0767  ED 43 00 00 	ld	(_index1),bc
2246  076B  7B          	ld	a,e
2247  076C  D6 03       	sub	a,0x03
2248  076E  28 04       	jr	Z,l_game_check_cell_00104
2249  0770  2E 00       	ld	l,0x00
2250  0772  18 01       	jr	l_game_check_cell_00106
2251  0774              l_game_check_cell_00104:
2252  0774  6B          	ld	l, e
2253  0775              l_game_check_cell_00106:
2254  0775  C9          	ret
2255  0776              	SECTION code_compiler
2256  0776              ;	---------------------------------
2257  0776              ; Function game_paint_attrib
2258  0776              ; ---------------------------------
2259  0776              _game_paint_attrib:
2260  0776  CD 00 00    	call	___sdcc_enter_ix
2261  0779  DD 7E 06    	ld	a,(ix+6)
2262  077C  32 00 00    	ld	(_tmp_uc),a
2263  077F              l_game_paint_attrib_00103:
2264  077F  21 00 00    	ld	hl,_tmp_uc
2265  0782  7E          	ld	a, (hl)
2266  0783  DD 96 07    	sub	a,(ix+7)
2267  0786  30 15       	jr	NC,l_game_paint_attrib_00105
2268  0788  DD 4E 04    	ld	c,(ix+4)
2269  078B  DD 46 05    	ld	b,(ix+5)
2270  078E  66          	ld	h,(hl)
2271  078F  DD 6E 08    	ld	l,(ix+8)
2272  0792  E5          	push	hl
2273  0793  C5          	push	bc
2274  0794  CD 00 00    	call	_NIRVANAP_paintC_callee
2275  0797  21 00 00    	ld	hl,_tmp_uc
2276  079A  34          	inc	(hl)
2277  079B  18 E2       	jr	l_game_paint_attrib_00103
2278  079D              l_game_paint_attrib_00105:
2279  079D  DD E1       	pop	ix
2280  079F  C9          	ret
2281  07A0              	SECTION code_compiler
2282  07A0              ;	---------------------------------
2283  07A0              ; Function game_colour_message
2284  07A0              ; ---------------------------------
2285  07A0              _game_colour_message:
2286  07A0  CD 00 00    	call	___sdcc_enter_ix
2287  07A3  F5          	push	af
2288  07A4  F5          	push	af
2289  07A5  F5          	push	af
2290  07A6  F5          	push	af
2291  07A7  D1          	pop	de
2292  07A8  21 00 00    	ld	hl,_tmp
2293  07AB  36 01       	ld	(hl),0x01
2294  07AD  2A 00 00    	ld	hl,(_curr_time)
2295  07B0  22 00 00    	ld	(_frame_time),hl
2296  07B3  E5          	push	hl
2297  07B4  DD 7E 04    	ld	a,(ix+4)
2298  07B7  4D          	ld	c,l
2299  07B8  07          	rlca
2300  07B9  07          	rlca
2301  07BA  07          	rlca
2302  07BB  E6 F8       	and	a,0xf8
2303  07BD  DD 77 FA    	ld	(ix-6),a
2304  07C0  C6 08       	add	a,0x08
2305  07C2  DD 77 FF    	ld	(ix-1),a
2306  07C5  DD 77 FE    	ld	(ix-2),a
2307  07C8              l_game_colour_message_00112:
2308  07C8  3A 00 00    	ld	a,(_tmp)
2309  07CB  B7          	or	a, a
2310  07CC  CA 6B 08    	jp	Z, l_game_colour_message_00114
2311  07CF  DD 46 07    	ld	b,(ix+7)
2312  07D2  21 00 00    	ld	hl,0x0000
2313  07D5  39          	add	hl, sp
2314  07D6  EB          	ex	de,hl
2315  07D7  C5          	push	bc
2316  07D8  33          	inc	sp
2317  07D9  D5          	push	de
2318  07DA  CD E1 08    	call	_game_check_time
2319  07DD  F1          	pop	af
2320  07DE  33          	inc	sp
2321  07DF  7D          	ld	a, l
2322  07E0  B7          	or	a, a
2323  07E1  C2 6B 08    	jp	NZ, l_game_colour_message_00114
2324  07E4  3E 05       	ld	a,0x05
2325  07E6  F5          	push	af
2326  07E7  33          	inc	sp
2327  07E8  21 00 00    	ld	hl,_frame_time
2328  07EB  E5          	push	hl
2329  07EC  CD E1 08    	call	_game_check_time
2330  07EF  F1          	pop	af
2331  07F0  33          	inc	sp
2332  07F1  DD 75 FD    	ld	(ix-3),l
2333  07F4  7D          	ld	a, l
2334  07F5  B7          	or	a, a
2335  07F6  28 4D       	jr	Z,l_game_colour_message_00105
2336  07F8  2A 00 00    	ld	hl,(_curr_time)
2337  07FB  DD 74 FC    	ld	(ix-4),h
2338  07FE  DD 75 FB    	ld	(ix-5),l
2339  0801  7D          	ld	a, l
2340  0802  21 00 00    	ld	hl,_frame_time
2341  0805  77          	ld	(hl), a
2342  0806  DD 7E FC    	ld	a,(ix-4)
2343  0809  23          	inc	hl
2344  080A  77          	ld	(hl), a
2345  080B  3A 00 00    	ld	a,(_game_over)
2346  080E  B7          	or	a, a
2347  080F  28 1B       	jr	Z,l_game_colour_message_00102
2348  0811  DD 66 FE    	ld	h,(ix-2)
2349  0814  DD 6E 06    	ld	l,(ix+6)
2350  0817  E5          	push	hl
2351  0818  DD 7E 05    	ld	a,(ix+5)
2352  081B  F5          	push	af
2353  081C  33          	inc	sp
2354  081D  21 00 00    	ld	hl,_attrib_hl
2355  0820  E5          	push	hl
2356  0821  CD 76 07    	call	_game_paint_attrib
2357  0824  F1          	pop	af
2358  0825  F1          	pop	af
2359  0826  33          	inc	sp
2360  0827  CD 0B 09    	call	_game_rotate_attrib
2361  082A  18 19       	jr	l_game_colour_message_00105
2362  082C              l_game_colour_message_00102:
2363  082C  DD 66 FF    	ld	h,(ix-1)
2364  082F  DD 6E 06    	ld	l,(ix+6)
2365  0832  E5          	push	hl
2366  0833  DD 7E 05    	ld	a,(ix+5)
2367  0836  F5          	push	af
2368  0837  33          	inc	sp
2369  0838  21 00 00    	ld	hl,_attrib_osd
2370  083B  E5          	push	hl
2371  083C  CD 76 07    	call	_game_paint_attrib
2372  083F  F1          	pop	af
2373  0840  F1          	pop	af
2374  0841  33          	inc	sp
2375  0842  CD 80 09    	call	_game_rotate_attrib_osd
2376  0845              l_game_colour_message_00105:
2377  0845  DD 7E 09    	ld	a,(ix+9)
2378  0848  B7          	or	a, a
2379  0849  CA C8 07    	jp	Z, l_game_colour_message_00112
2380  084C              l_game_colour_message_00106:
2381  084C  21 00 00    	ld	hl,_k1
2382  084F  E5          	push	hl
2383  0850  2A 00 00    	ld	hl,(_joyfunc1)
2384  0853  CD 00 00    	call	___sdcc_call_hl
2385  0856  F1          	pop	af
2386  0857  DD 74 FC    	ld	(ix-4),h
2387  085A  DD 75 FB    	ld	(ix-5),l
2388  085D  7C          	ld	a,h
2389  085E  DD B6 FB    	or	a,(ix-5)
2390  0861  CA C8 07    	jp	Z, l_game_colour_message_00112
2391  0864  21 00 00    	ld	hl,_tmp
2392  0867  36 00       	ld	(hl),0x00
2393  0869  18 E1       	jr	l_game_colour_message_00106
2394  086B              l_game_colour_message_00114:
2395  086B  DD 7E 06    	ld	a,(ix+6)
2396  086E  DD 96 05    	sub	a,(ix+5)
2397  0871  4F          	ld	c, a
2398  0872  3A 00 00    	ld	a,(_game_over)
2399  0875  B7          	or	a, a
2400  0876  28 2F       	jr	Z,l_game_colour_message_00118
2401  0878  21 00 00    	ld	hl,_tmp1
2402  087B  71          	ld	(hl), c
2403  087C  21 00 00    	ld	hl,_tmp0
2404  087F  36 00       	ld	(hl),0x00
2405  0881              l_game_colour_message_00121:
2406  0881  3A 00 00    	ld	a,(_tmp0)
2407  0884  21 00 00    	ld	hl,_tmp1
2408  0887  96          	sub	a, (hl)
2409  0888  30 52       	jr	NC,l_game_colour_message_00126
2410  088A  DD 7E 05    	ld	a,(ix+5)
2411  088D  21 00 00    	ld	hl,_tmp0
2412  0890  86          	add	a, (hl)
2413  0891  4F          	ld	c, a
2414  0892  21 EB 01    	ld	hl,___str_25
2415  0895  E5          	push	hl
2416  0896  79          	ld	a, c
2417  0897  F5          	push	af
2418  0898  33          	inc	sp
2419  0899  DD 7E 04    	ld	a,(ix+4)
2420  089C  F5          	push	af
2421  089D  33          	inc	sp
2422  089E  CD 00 00    	call	_zx_print_str
2423  08A1  21 00 00    	ld	hl,_tmp0
2424  08A4  34          	inc	(hl)
2425  08A5  18 DA       	jr	l_game_colour_message_00121
2426  08A7              l_game_colour_message_00118:
2427  08A7  21 00 00    	ld	hl,_tmp1
2428  08AA  71          	ld	(hl), c
2429  08AB  DD 7E FA    	ld	a,(ix-6)
2430  08AE  32 00 00    	ld	(_s_lin0),a
2431  08B1  DD 7E 05    	ld	a,(ix+5)
2432  08B4  CB 3F       	srl	a
2433  08B6  87          	add	a, a
2434  08B7  32 00 00    	ld	(_s_col1),a
2435  08BA  21 00 00    	ld	hl,_tmp0
2436  08BD  36 00       	ld	(hl),0x00
2437  08BF              l_game_colour_message_00124:
2438  08BF  3A 00 00    	ld	a,(_tmp0)
2439  08C2  21 00 00    	ld	hl,_tmp1
2440  08C5  96          	sub	a, (hl)
2441  08C6  30 14       	jr	NC,l_game_colour_message_00126
2442  08C8  3A 00 00    	ld	a,(_s_col1)
2443  08CB  21 00 00    	ld	hl,_tmp0
2444  08CE  86          	add	a, (hl)
2445  08CF  32 00 00    	ld	(_s_col0),a
2446  08D2  CD 00 00    	call	_spr_back_repaint
2447  08D5  21 00 00    	ld	hl,_tmp0
2448  08D8  34          	inc	(hl)
2449  08D9  34          	inc	(hl)
2450  08DA  18 E3       	jr	l_game_colour_message_00124
2451  08DC              l_game_colour_message_00126:
2452  08DC  DD F9       	ld	sp, ix
2453  08DE  DD E1       	pop	ix
2454  08E0  C9          	ret
2455  08E1              	SECTION rodata_compiler
2456  01EB              ___str_25:
2457  01EB  20          	DEFM " "
2458  01EC  00          	DEFB 0x00
2459  01ED              	SECTION code_compiler
2460  08E1              ;	---------------------------------
2461  08E1              ; Function game_check_time
2462  08E1              ; ---------------------------------
2463  08E1              _game_check_time:
2464  08E1  CD 00 00    	call	___sdcc_enter_ix
2465  08E4  2A 00 00    	ld	hl,(_curr_time)
2466  08E7  4D          	ld	c, l
2467  08E8  DD 6E 04    	ld	l,(ix+4)
2468  08EB  44          	ld	b,h
2469  08EC  DD 66 05    	ld	h,(ix+5)
2470  08EF  5E          	ld	e, (hl)
2471  08F0  23          	inc	hl
2472  08F1  56          	ld	d, (hl)
2473  08F2  79          	ld	a, c
2474  08F3  93          	sub	a, e
2475  08F4  4F          	ld	c, a
2476  08F5  78          	ld	a, b
2477  08F6  9A          	sbc	a, d
2478  08F7  47          	ld	b, a
2479  08F8  DD 7E 06    	ld	a,(ix+6)
2480  08FB  16 00       	ld	d,0x00
2481  08FD  91          	sub	a, c
2482  08FE  7A          	ld	a, d
2483  08FF  98          	sbc	a, b
2484  0900  30 04       	jr	NC,l_game_check_time_00102
2485  0902  2E 01       	ld	l,0x01
2486  0904  18 02       	jr	l_game_check_time_00104
2487  0906              l_game_check_time_00102:
2488  0906  2E 00       	ld	l,0x00
2489  0908              l_game_check_time_00104:
2490  0908  DD E1       	pop	ix
2491  090A  C9          	ret
2492  090B              	SECTION code_compiler
2493  090B              ;	---------------------------------
2494  090B              ; Function game_rotate_attrib
2495  090B              ; ---------------------------------
2496  090B              _game_rotate_attrib:
2497  090B  3E 07       	ld	a,0x07
2498  090D  21 00 00    	ld	hl,_last_rotated
2499  0910  96          	sub	a, (hl)
2500  0911  30 02       	jr	NC,l_game_rotate_attrib_00102
2501  0913  36 00       	ld	(hl),0x00
2502  0915              l_game_rotate_attrib_00102:
2503  0915  3A 00 00    	ld	a,(_last_rotated)
2504  0918  32 00 00    	ld	(_tmp_uc),a
2505  091B              l_game_rotate_attrib_00110:
2506  091B  21 00 00    	ld	hl,_tmp_uc
2507  091E  7E          	ld	a, (hl)
2508  091F  D6 08       	sub	a,0x08
2509  0921  30 5C       	jr	NC,l_game_rotate_attrib_00112
2510  0923  3E 00       	ld	a, +((_obj_col) & 0xFF)
2511  0925  86          	add	a, (hl)
2512  0926  4F          	ld	c, a
2513  0927  3E 00       	ld	a, +((_obj_col) / 256)
2514  0929  CE 00       	adc	a,0x00
2515  092B  47          	ld	b, a
2516  092C  0A          	ld	a, (bc)
2517  092D  4F          	ld	c,a
2518  092E  B7          	or	a, a
2519  092F  28 44       	jr	Z,l_game_rotate_attrib_00106
2520  0931  7E          	ld	a, (hl)
2521  0932  3C          	inc	a
2522  0933  32 00 00    	ld	(_last_rotated),a
2523  0936  2A 00 00    	ld	hl,(_tmp_uc)
2524  0939  26 00       	ld	h,0x00
2525  093B  11 00 00    	ld	de,_obj_lin
2526  093E  19          	add	hl,de
2527  093F  46          	ld	b, (hl)
2528  0940  79          	ld	a, c
2529  0941  48          	ld	c,b
2530  0942  47          	ld	b,a
2531  0943  C5          	push	bc
2532  0944  21 00 00    	ld	hl,_attrib8
2533  0947  E5          	push	hl
2534  0948  CD 00 00    	call	_NIRVANAP_paintC_callee
2535  094B  3A 00 00    	ld	a,(_game_attrib_osd)
2536  094E  D6 07       	sub	a,0x07
2537  0950  20 05       	jr	NZ,l_game_rotate_attrib_00104
2538  0952  21 00 00    	ld	hl,_game_attrib_osd
2539  0955  36 01       	ld	(hl),0x01
2540  0957              l_game_rotate_attrib_00104:
2541  0957  21 00 00    	ld	hl,_game_attrib_osd
2542  095A  34          	inc	(hl)
2543  095B  3A 00 00    	ld	a,(_map_paper)
2544  095E  21 00 00    	ld	hl,_game_attrib_osd
2545  0961  B6          	or	a, (hl)
2546  0962  32 00 00    	ld	(_attrib8),a
2547  0965  32 01 00    	ld	((_attrib8 + 0x0001)),a
2548  0968  32 02 00    	ld	((_attrib8 + 0x0002)),a
2549  096B  32 03 00    	ld	((_attrib8 + 0x0003)),a
2550  096E  21 00 00    	ld	hl,_tmp_uc
2551  0971  36 08       	ld	(hl),0x08
2552  0973  18 04       	jr	l_game_rotate_attrib_00111
2553  0975              l_game_rotate_attrib_00106:
2554  0975  21 00 00    	ld	hl,_last_rotated
2555  0978  34          	inc	(hl)
2556  0979              l_game_rotate_attrib_00111:
2557  0979  21 00 00    	ld	hl,_tmp_uc
2558  097C  34          	inc	(hl)
2559  097D  18 9C       	jr	l_game_rotate_attrib_00110
2560  097F              l_game_rotate_attrib_00112:
2561  097F  C9          	ret
2562  0980              	SECTION code_compiler
2563  0980              ;	---------------------------------
2564  0980              ; Function game_rotate_attrib_osd
2565  0980              ; ---------------------------------
2566  0980              _game_rotate_attrib_osd:
2567  0980  3A 00 00    	ld	a,(_game_attrib_osd)
2568  0983  D6 07       	sub	a,0x07
2569  0985  20 05       	jr	NZ,l_game_rotate_attrib_osd_00102
2570  0987  21 00 00    	ld	hl,_game_attrib_osd
2571  098A  36 01       	ld	(hl),0x01
2572  098C              l_game_rotate_attrib_osd_00102:
2573  098C  21 00 00    	ld	hl,_game_attrib_osd
2574  098F  7E          	ld	a,(hl)
2575  0990  3C          	inc	a
2576  0991  77          	ld	(hl),a
2577  0992  32 00 00    	ld	(_attrib_osd),a
2578  0995  32 01 00    	ld	((_attrib_osd + 0x0001)),a
2579  0998  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2580  099B  32 03 00    	ld	((_attrib_osd + 0x0003)),a
2581  099E  C9          	ret
2582  099F              	SECTION code_compiler
2583  099F              ;	---------------------------------
2584  099F              ; Function game_attribs
2585  099F              ; ---------------------------------
2586  099F              _game_attribs:
2587  099F  01 00 00    	ld	bc,_attrib0+0
2588  09A2  21 00 00    	ld	hl,_map_paper
2589  09A5  7E          	ld	a, (hl)
2590  09A6  F6 41       	or	a,0x41
2591  09A8  02          	ld	(bc), a
2592  09A9  59          	ld	e, c
2593  09AA  50          	ld	d, b
2594  09AB  13          	inc	de
2595  09AC  7E          	ld	a, (hl)
2596  09AD  F6 41       	or	a,0x41
2597  09AF  12          	ld	(de), a
2598  09B0  7E          	ld	a, (hl)
2599  09B1  F6 41       	or	a,0x41
2600  09B3  32 02 00    	ld	((_attrib0 + 0x0002)),a
2601  09B6  03          	inc	bc
2602  09B7  03          	inc	bc
2603  09B8  03          	inc	bc
2604  09B9  21 00 00    	ld	hl,_map_paper
2605  09BC  7E          	ld	a, (hl)
2606  09BD  F6 43       	or	a,0x43
2607  09BF  02          	ld	(bc), a
2608  09C0  01 00 00    	ld	bc,_attrib1+0
2609  09C3  7E          	ld	a, (hl)
2610  09C4  F6 02       	or	a,0x02
2611  09C6  02          	ld	(bc), a
2612  09C7  59          	ld	e, c
2613  09C8  50          	ld	d, b
2614  09C9  13          	inc	de
2615  09CA  7E          	ld	a, (hl)
2616  09CB  F6 42       	or	a,0x42
2617  09CD  12          	ld	(de), a
2618  09CE  7E          	ld	a, (hl)
2619  09CF  F6 03       	or	a,0x03
2620  09D1  32 02 00    	ld	((_attrib1 + 0x0002)),a
2621  09D4  03          	inc	bc
2622  09D5  03          	inc	bc
2623  09D6  03          	inc	bc
2624  09D7  21 00 00    	ld	hl,_map_paper
2625  09DA  7E          	ld	a, (hl)
2626  09DB  F6 43       	or	a,0x43
2627  09DD  02          	ld	(bc), a
2628  09DE  01 00 00    	ld	bc,_attrib2+0
2629  09E1  7E          	ld	a, (hl)
2630  09E2  F6 02       	or	a,0x02
2631  09E4  02          	ld	(bc), a
2632  09E5  59          	ld	e, c
2633  09E6  50          	ld	d, b
2634  09E7  13          	inc	de
2635  09E8  7E          	ld	a, (hl)
2636  09E9  F6 42       	or	a,0x42
2637  09EB  12          	ld	(de), a
2638  09EC  7E          	ld	a, (hl)
2639  09ED  F6 03       	or	a,0x03
2640  09EF  32 02 00    	ld	((_attrib2 + 0x0002)),a
2641  09F2  03          	inc	bc
2642  09F3  03          	inc	bc
2643  09F4  03          	inc	bc
2644  09F5  21 00 00    	ld	hl,_map_paper
2645  09F8  7E          	ld	a, (hl)
2646  09F9  F6 43       	or	a,0x43
2647  09FB  02          	ld	(bc), a
2648  09FC  01 00 00    	ld	bc,_attrib3+0
2649  09FF  7E          	ld	a, (hl)
2650  0A00  F6 42       	or	a,0x42
2651  0A02  02          	ld	(bc), a
2652  0A03  59          	ld	e, c
2653  0A04  50          	ld	d, b
2654  0A05  13          	inc	de
2655  0A06  7E          	ld	a, (hl)
2656  0A07  F6 02       	or	a,0x02
2657  0A09  12          	ld	(de), a
2658  0A0A  7E          	ld	a, (hl)
2659  0A0B  F6 03       	or	a,0x03
2660  0A0D  32 02 00    	ld	((_attrib3 + 0x0002)),a
2661  0A10  03          	inc	bc
2662  0A11  03          	inc	bc
2663  0A12  03          	inc	bc
2664  0A13  21 00 00    	ld	hl,_map_paper
2665  0A16  7E          	ld	a, (hl)
2666  0A17  F6 43       	or	a,0x43
2667  0A19  02          	ld	(bc), a
2668  0A1A  01 00 00    	ld	bc,_attrib4+0
2669  0A1D  7E          	ld	a, (hl)
2670  0A1E  F6 57       	or	a,0x57
2671  0A20  02          	ld	(bc), a
2672  0A21  59          	ld	e, c
2673  0A22  50          	ld	d, b
2674  0A23  13          	inc	de
2675  0A24  7E          	ld	a, (hl)
2676  0A25  F6 56       	or	a,0x56
2677  0A27  12          	ld	(de), a
2678  0A28  7E          	ld	a, (hl)
2679  0A29  F6 57       	or	a,0x57
2680  0A2B  32 02 00    	ld	((_attrib4 + 0x0002)),a
2681  0A2E  03          	inc	bc
2682  0A2F  03          	inc	bc
2683  0A30  03          	inc	bc
2684  0A31  21 00 00    	ld	hl,_map_paper
2685  0A34  7E          	ld	a, (hl)
2686  0A35  F6 56       	or	a,0x56
2687  0A37  02          	ld	(bc), a
2688  0A38  01 00 00    	ld	bc,_attrib5+0
2689  0A3B  7E          	ld	a, (hl)
2690  0A3C  F6 44       	or	a,0x44
2691  0A3E  02          	ld	(bc), a
2692  0A3F  59          	ld	e, c
2693  0A40  50          	ld	d, b
2694  0A41  13          	inc	de
2695  0A42  7E          	ld	a, (hl)
2696  0A43  F6 44       	or	a,0x44
2697  0A45  12          	ld	(de), a
2698  0A46  7E          	ld	a, (hl)
2699  0A47  F6 45       	or	a,0x45
2700  0A49  32 02 00    	ld	((_attrib5 + 0x0002)),a
2701  0A4C  03          	inc	bc
2702  0A4D  03          	inc	bc
2703  0A4E  03          	inc	bc
2704  0A4F  21 00 00    	ld	hl,_map_paper
2705  0A52  7E          	ld	a, (hl)
2706  0A53  F6 45       	or	a,0x45
2707  0A55  02          	ld	(bc), a
2708  0A56  01 00 00    	ld	bc,_attrib6+0
2709  0A59  7E          	ld	a, (hl)
2710  0A5A  F6 46       	or	a,0x46
2711  0A5C  02          	ld	(bc), a
2712  0A5D  59          	ld	e, c
2713  0A5E  50          	ld	d, b
2714  0A5F  13          	inc	de
2715  0A60  7E          	ld	a, (hl)
2716  0A61  F6 44       	or	a,0x44
2717  0A63  12          	ld	(de), a
2718  0A64  7E          	ld	a, (hl)
2719  0A65  F6 44       	or	a,0x44
2720  0A67  32 02 00    	ld	((_attrib6 + 0x0002)),a
2721  0A6A  03          	inc	bc
2722  0A6B  03          	inc	bc
2723  0A6C  03          	inc	bc
2724  0A6D  21 00 00    	ld	hl,_map_paper
2725  0A70  7E          	ld	a, (hl)
2726  0A71  F6 44       	or	a,0x44
2727  0A73  02          	ld	(bc), a
2728  0A74  01 00 00    	ld	bc,_attrib7+0
2729  0A77  7E          	ld	a, (hl)
2730  0A78  F6 41       	or	a,0x41
2731  0A7A  02          	ld	(bc), a
2732  0A7B  59          	ld	e, c
2733  0A7C  50          	ld	d, b
2734  0A7D  13          	inc	de
2735  0A7E  7E          	ld	a, (hl)
2736  0A7F  F6 05       	or	a,0x05
2737  0A81  12          	ld	(de), a
2738  0A82  7E          	ld	a, (hl)
2739  0A83  F6 45       	or	a,0x45
2740  0A85  32 02 00    	ld	((_attrib7 + 0x0002)),a
2741  0A88  03          	inc	bc
2742  0A89  03          	inc	bc
2743  0A8A  03          	inc	bc
2744  0A8B  21 00 00    	ld	hl,_map_paper
2745  0A8E  7E          	ld	a, (hl)
2746  0A8F  F6 47       	or	a,0x47
2747  0A91  02          	ld	(bc), a
2748  0A92  01 00 00    	ld	bc,_attrib8+0
2749  0A95  7E          	ld	a, (hl)
2750  0A96  F6 46       	or	a,0x46
2751  0A98  02          	ld	(bc), a
2752  0A99  59          	ld	e, c
2753  0A9A  50          	ld	d, b
2754  0A9B  13          	inc	de
2755  0A9C  7E          	ld	a, (hl)
2756  0A9D  F6 42       	or	a,0x42
2757  0A9F  12          	ld	(de), a
2758  0AA0  7E          	ld	a, (hl)
2759  0AA1  F6 46       	or	a,0x46
2760  0AA3  32 02 00    	ld	((_attrib8 + 0x0002)),a
2761  0AA6  03          	inc	bc
2762  0AA7  03          	inc	bc
2763  0AA8  03          	inc	bc
2764  0AA9  21 00 00    	ld	hl,_map_paper
2765  0AAC  7E          	ld	a, (hl)
2766  0AAD  F6 42       	or	a,0x42
2767  0AAF  02          	ld	(bc), a
2768  0AB0  01 00 00    	ld	bc,_attrib+0
2769  0AB3  7E          	ld	a, (hl)
2770  0AB4  F6 47       	or	a,0x47
2771  0AB6  02          	ld	(bc), a
2772  0AB7  59          	ld	e, c
2773  0AB8  50          	ld	d, b
2774  0AB9  13          	inc	de
2775  0ABA  7E          	ld	a, (hl)
2776  0ABB  F6 47       	or	a,0x47
2777  0ABD  12          	ld	(de), a
2778  0ABE  7E          	ld	a, (hl)
2779  0ABF  F6 47       	or	a,0x47
2780  0AC1  32 02 00    	ld	((_attrib + 0x0002)),a
2781  0AC4  03          	inc	bc
2782  0AC5  03          	inc	bc
2783  0AC6  03          	inc	bc
2784  0AC7  21 00 00    	ld	hl,_map_paper
2785  0ACA  7E          	ld	a, (hl)
2786  0ACB  F6 47       	or	a,0x47
2787  0ACD  02          	ld	(bc), a
2788  0ACE  01 00 00    	ld	bc,_attrib_hl+0
2789  0AD1  7E          	ld	a, (hl)
2790  0AD2  F6 33       	or	a,0x33
2791  0AD4  02          	ld	(bc), a
2792  0AD5  59          	ld	e, c
2793  0AD6  50          	ld	d, b
2794  0AD7  13          	inc	de
2795  0AD8  7E          	ld	a, (hl)
2796  0AD9  F6 30       	or	a,0x30
2797  0ADB  12          	ld	(de), a
2798  0ADC  7E          	ld	a, (hl)
2799  0ADD  F6 31       	or	a,0x31
2800  0ADF  32 02 00    	ld	((_attrib_hl + 0x0002)),a
2801  0AE2  03          	inc	bc
2802  0AE3  03          	inc	bc
2803  0AE4  03          	inc	bc
2804  0AE5  21 00 00    	ld	hl,_map_paper
2805  0AE8  7E          	ld	a, (hl)
2806  0AE9  F6 30       	or	a,0x30
2807  0AEB  02          	ld	(bc), a
2808  0AEC  01 00 00    	ld	bc,_attrib_osd+0
2809  0AEF  7E          	ld	a, (hl)
2810  0AF0  F6 27       	or	a,0x27
2811  0AF2  02          	ld	(bc), a
2812  0AF3  59          	ld	e, c
2813  0AF4  50          	ld	d, b
2814  0AF5  13          	inc	de
2815  0AF6  7E          	ld	a, (hl)
2816  0AF7  F6 27       	or	a,0x27
2817  0AF9  12          	ld	(de), a
2818  0AFA  7E          	ld	a, (hl)
2819  0AFB  F6 27       	or	a,0x27
2820  0AFD  32 02 00    	ld	((_attrib_osd + 0x0002)),a
2821  0B00  03          	inc	bc
2822  0B01  03          	inc	bc
2823  0B02  03          	inc	bc
2824  0B03  21 00 00    	ld	hl,_map_paper
2825  0B06  7E          	ld	a, (hl)
2826  0B07  F6 27       	or	a,0x27
2827  0B09  02          	ld	(bc), a
2828  0B0A  01 00 00    	ld	bc,_attrib_red+0
2829  0B0D  7E          	ld	a, (hl)
2830  0B0E  F6 17       	or	a,0x17
2831  0B10  02          	ld	(bc), a
2832  0B11  59          	ld	e, c
2833  0B12  50          	ld	d, b
2834  0B13  13          	inc	de
2835  0B14  7E          	ld	a, (hl)
2836  0B15  F6 17       	or	a,0x17
2837  0B17  12          	ld	(de), a
2838  0B18  7E          	ld	a, (hl)
2839  0B19  F6 17       	or	a,0x17
2840  0B1B  32 02 00    	ld	((_attrib_red + 0x0002)),a
2841  0B1E  03          	inc	bc
2842  0B1F  03          	inc	bc
2843  0B20  03          	inc	bc
2844  0B21  3A 00 00    	ld	a,(_map_paper)
2845  0B24  F6 17       	or	a,0x17
2846  0B26  02          	ld	(bc), a
2847  0B27  C9          	ret
2848  0B28              	SECTION code_compiler
2849  0B28              ;	---------------------------------
2850  0B28              ; Function game_page_map
2851  0B28              ; ---------------------------------
2852  0B28              _game_page_map:
2853  0B28  CD 00 00    	call	___sdcc_enter_ix
2854  0B2B  21 AD FF    	ld	hl, -83
2855  0B2E  39          	add	hl, sp
2856  0B2F  F9          	ld	sp, hl
2857  0B30  CD 00 00    	call	_spr_clear_scr
2858  0B33  F3          	di
2859  0B34  21 00 00    	ld	hl,_game_world
2860  0B37  4E          	ld	c, (hl)
2861  0B38  3A 00 00    	ld	a,(_scr_curr)
2862  0B3B  DD 77 BC    	ld	(ix-68),a
2863  0B3E  79          	ld	a, c
2864  0B3F  07          	rlca
2865  0B40  07          	rlca
2866  0B41  07          	rlca
2867  0B42  07          	rlca
2868  0B43  E6 F0       	and	a,0xf0
2869  0B45  47          	ld	b,a
2870  0B46  DD 86 BC    	add	a,(ix-68)
2871  0B49  DD 77 BB    	ld	(ix-69),a
2872  0B4C  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
2873  0B4F  36 16       	ld	(hl),0x16
2874  0B51  C5          	push	bc
2875  0B52  3E 16       	ld	a,0x16
2876  0B54  01 FD 7F    	ld	bc,_IO_7FFD
2877  0B57  ED 79       	out	(c),a
2878  0B59  C1          	pop	bc
2879  0B5A  DD 7E BC    	ld	a,(ix-68)
2880  0B5D  3C          	inc	a
2881  0B5E  20 12       	jr	NZ,l_game_page_map_00102
2882  0B60  11 00 00    	ld	de,_start_scr0+0
2883  0B63  69          	ld	l,c
2884  0B64  26 00       	ld	h,0x00
2885  0B66  19          	add	hl, de
2886  0B67  7E          	ld	a, (hl)
2887  0B68  DD 77 BC    	ld	(ix-68),a
2888  0B6B  78          	ld	a, b
2889  0B6C  DD 86 BC    	add	a,(ix-68)
2890  0B6F  DD 77 BB    	ld	(ix-69),a
2891  0B72              l_game_page_map_00102:
2892  0B72  01 00 00    	ld	bc,_paper0+0
2893  0B75  DD 6E BB    	ld	l,(ix-69)
2894  0B78  26 00       	ld	h,0x00
2895  0B7A  09          	add	hl, bc
2896  0B7B  7E          	ld	a, (hl)
2897  0B7C  DD 77 B8    	ld	(ix-72),a
2898  0B7F  3E 10       	ld	a,0x10
2899  0B81  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2900  0B84  01 FD 7F    	ld	bc,_IO_7FFD
2901  0B87  ED 79       	out	(c),a
2902  0B89  DD 4E BC    	ld	c,(ix-68)
2903  0B8C  CB 39       	srl	c
2904  0B8E  06 00       	ld	b,0x00
2905  0B90  69          	ld	l, c
2906  0B91  60          	ld	h, b
2907  0B92  29          	add	hl, hl
2908  0B93  09          	add	hl, bc
2909  0B94  AF          	xor	a,a
2910  0B95  CB 3C       	srl	h
2911  0B97  CB 1D       	rr	l
2912  0B99  1F          	rra
2913  0B9A  CB 3C       	srl	h
2914  0B9C  CB 1D       	rr	l
2915  0B9E  1F          	rra
2916  0B9F  DD 77 B6    	ld	(ix-74),a
2917  0BA2  DD 75 B7    	ld	(ix-73),l
2918  0BA5  21 10 00    	ld	hl,0x0010
2919  0BA8  39          	add	hl, sp
2920  0BA9  DD 75 ED    	ld	(ix-19),l
2921  0BAC  DD 74 EE    	ld	(ix-18),h
2922  0BAF  DD 75 FE    	ld	(ix-2),l
2923  0BB2  DD 74 FF    	ld	(ix-1),h
2924  0BB5  DD 7E ED    	ld	a,(ix-19)
2925  0BB8  DD 77 FC    	ld	(ix-4),a
2926  0BBB  DD 7E EE    	ld	a,(ix-18)
2927  0BBE  DD 77 FD    	ld	(ix-3),a
2928  0BC1  DD 7E ED    	ld	a,(ix-19)
2929  0BC4  DD 77 FA    	ld	(ix-6),a
2930  0BC7  DD 7E EE    	ld	a,(ix-18)
2931  0BCA  DD 77 FB    	ld	(ix-5),a
2932  0BCD  DD 7E BC    	ld	a,(ix-68)
2933  0BD0  E6 01       	and	a,0x01
2934  0BD2  DD 77 F9    	ld	(ix-7),a
2935  0BD5  DD 7E ED    	ld	a,(ix-19)
2936  0BD8  DD 77 F7    	ld	(ix-9),a
2937  0BDB  DD 7E EE    	ld	a,(ix-18)
2938  0BDE  DD 77 F8    	ld	(ix-8),a
2939  0BE1  DD 7E ED    	ld	a,(ix-19)
2940  0BE4  DD 77 F5    	ld	(ix-11),a
2941  0BE7  DD 7E EE    	ld	a,(ix-18)
2942  0BEA  DD 77 F6    	ld	(ix-10),a
2943  0BED  DD 7E ED    	ld	a,(ix-19)
2944  0BF0  DD 77 F3    	ld	(ix-13),a
2945  0BF3  DD 7E EE    	ld	a,(ix-18)
2946  0BF6  DD 77 F4    	ld	(ix-12),a
2947  0BF9  DD 36 B4 00 	ld	(ix-76),0x00
2948  0BFD  DD 36 B5 00 	ld	(ix-75),0x00
2949  0C01              l_game_page_map_00127:
2950  0C01  DD 7E B4    	ld	a,(ix-76)
2951  0C04  D6 F0       	sub	a,0xf0
2952  0C06  DD 7E B5    	ld	a,(ix-75)
2953  0C09  DE 00       	sbc	a,0x00
2954  0C0B  D2 CA 0D    	jp	NC, l_game_page_map_00129
2955  0C0E  3E 13       	ld	a,0x13
2956  0C10  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
2957  0C13  01 FD 7F    	ld	bc,_IO_7FFD
2958  0C16  ED 79       	out	(c),a
2959  0C18  DD 36 B0 00 	ld	(ix-80),0x00
2960  0C1C  DD 36 B1 00 	ld	(ix-79),0x00
2961  0C20              l_game_page_map_00103:
2962  0C20  DD 7E B0    	ld	a,(ix-80)
2963  0C23  D6 30       	sub	a,0x30
2964  0C25  DD 7E B1    	ld	a,(ix-79)
2965  0C28  DE 00       	sbc	a,0x00
2966  0C2A  30 54       	jr	NC,l_game_page_map_00105
2967  0C2C  DD 7E FA    	ld	a,(ix-6)
2968  0C2F  DD 86 B0    	add	a,(ix-80)
2969  0C32  DD 77 F1    	ld	(ix-15),a
2970  0C35  DD 7E FB    	ld	a,(ix-5)
2971  0C38  DD 8E B1    	adc	a,(ix-79)
2972  0C3B  DD 77 F2    	ld	(ix-14),a
2973  0C3E  DD 7E B6    	ld	a,(ix-74)
2974  0C41  DD 86 B0    	add	a,(ix-80)
2975  0C44  DD 77 EF    	ld	(ix-17),a
2976  0C47  DD 7E B7    	ld	a,(ix-73)
2977  0C4A  DD 8E B1    	adc	a,(ix-79)
2978  0C4D  DD 77 F0    	ld	(ix-16),a
2979  0C50  DD 7E EF    	ld	a,(ix-17)
2980  0C53  DD 86 B4    	add	a,(ix-76)
2981  0C56  DD 77 EF    	ld	(ix-17),a
2982  0C59  6F          	ld	l,a
2983  0C5A  DD 7E F0    	ld	a,(ix-16)
2984  0C5D  DD 8E B5    	adc	a,(ix-75)
2985  0C60  DD 77 F0    	ld	(ix-16),a
2986  0C63  67          	ld	h,a
2987  0C64  01 00 00    	ld	bc,_hibtiles
2988  0C67  09          	add	hl,bc
2989  0C68  DD 75 EF    	ld	(ix-17),l
2990  0C6B  DD 74 F0    	ld	(ix-16),h
2991  0C6E  4E          	ld	c, (hl)
2992  0C6F  DD 6E F1    	ld	l,(ix-15)
2993  0C72  DD 66 F2    	ld	h,(ix-14)
2994  0C75  71          	ld	(hl), c
2995  0C76  DD 34 B0    	inc	(ix-80)
2996  0C79  20 A5       	jr	NZ,l_game_page_map_00103
2997  0C7B  DD 34 B1    	inc	(ix-79)
2998  0C7E  18 A0       	jr	l_game_page_map_00103
2999  0C80              l_game_page_map_00105:
3000  0C80  3E 10       	ld	a,0x10
3001  0C82  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3002  0C85  01 FD 7F    	ld	bc,_IO_7FFD
3003  0C88  ED 79       	out	(c),a
3004  0C8A  DD 7E F9    	ld	a,(ix-7)
3005  0C8D  B7          	or	a, a
3006  0C8E  C2 34 0D    	jp	NZ, l_game_page_map_00176
3007  0C91  01 00 00    	ld	bc,0x0000
3008  0C94              l_game_page_map_00106:
3009  0C94  79          	ld	a, c
3010  0C95  D6 10       	sub	a,0x10
3011  0C97  78          	ld	a, b
3012  0C98  DE 00       	sbc	a,0x00
3013  0C9A  30 18       	jr	NC,l_game_page_map_00108
3014  0C9C  DD 6E B4    	ld	l,(ix-76)
3015  0C9F  DD 66 B5    	ld	h,(ix-75)
3016  0CA2  09          	add	hl, bc
3017  0CA3  11 00 00    	ld	de,_btiles
3018  0CA6  19          	add	hl,de
3019  0CA7  EB          	ex	de,hl
3020  0CA8  DD 6E ED    	ld	l,(ix-19)
3021  0CAB  DD 66 EE    	ld	h,(ix-18)
3022  0CAE  09          	add	hl, bc
3023  0CAF  7E          	ld	a, (hl)
3024  0CB0  12          	ld	(de), a
3025  0CB1  03          	inc	bc
3026  0CB2  18 E0       	jr	l_game_page_map_00106
3027  0CB4              l_game_page_map_00108:
3028  0CB4  DD 36 B0 20 	ld	(ix-80),0x20
3029  0CB8  DD 36 B1 00 	ld	(ix-79),0x00
3030  0CBC              l_game_page_map_00109:
3031  0CBC  DD 7E B0    	ld	a,(ix-80)
3032  0CBF  D6 24       	sub	a,0x24
3033  0CC1  DD 7E B1    	ld	a,(ix-79)
3034  0CC4  DE 00       	sbc	a,0x00
3035  0CC6  30 48       	jr	NC,l_game_page_map_00111
3036  0CC8  DD 7E B0    	ld	a,(ix-80)
3037  0CCB  DD 86 B4    	add	a,(ix-76)
3038  0CCE  DD 77 EF    	ld	(ix-17),a
3039  0CD1  DD 7E B1    	ld	a,(ix-79)
3040  0CD4  DD 8E B5    	adc	a,(ix-75)
3041  0CD7  DD 77 F0    	ld	(ix-16),a
3042  0CDA  3E 00       	ld	a, +((_btiles) & 0xFF)
3043  0CDC  DD 86 EF    	add	a,(ix-17)
3044  0CDF  DD 77 EF    	ld	(ix-17),a
3045  0CE2  3E 00       	ld	a, +((_btiles) / 256)
3046  0CE4  DD 8E F0    	adc	a,(ix-16)
3047  0CE7  DD 77 F0    	ld	(ix-16),a
3048  0CEA  DD 7E FE    	ld	a,(ix-2)
3049  0CED  DD 86 B0    	add	a,(ix-80)
3050  0CF0  DD 77 F1    	ld	(ix-15),a
3051  0CF3  6F          	ld	l,a
3052  0CF4  DD 7E FF    	ld	a,(ix-1)
3053  0CF7  DD 8E B1    	adc	a,(ix-79)
3054  0CFA  DD 77 F2    	ld	(ix-14),a
3055  0CFD  67          	ld	h,a
3056  0CFE  4E          	ld	c, (hl)
3057  0CFF  DD 6E EF    	ld	l,(ix-17)
3058  0D02  DD 66 F0    	ld	h,(ix-16)
3059  0D05  71          	ld	(hl), c
3060  0D06  DD 34 B0    	inc	(ix-80)
3061  0D09  20 B1       	jr	NZ,l_game_page_map_00109
3062  0D0B  DD 34 B1    	inc	(ix-79)
3063  0D0E  18 AC       	jr	l_game_page_map_00109
3064  0D10              l_game_page_map_00111:
3065  0D10  01 28 00    	ld	bc,0x0028
3066  0D13              l_game_page_map_00112:
3067  0D13  79          	ld	a, c
3068  0D14  D6 2C       	sub	a,0x2c
3069  0D16  78          	ld	a, b
3070  0D17  DE 00       	sbc	a,0x00
3071  0D19  D2 B7 0D    	jp	NC, l_game_page_map_00126
3072  0D1C  DD 6E B4    	ld	l,(ix-76)
3073  0D1F  DD 66 B5    	ld	h,(ix-75)
3074  0D22  09          	add	hl, bc
3075  0D23  11 00 00    	ld	de,_btiles
3076  0D26  19          	add	hl,de
3077  0D27  EB          	ex	de,hl
3078  0D28  DD 6E FC    	ld	l,(ix-4)
3079  0D2B  DD 66 FD    	ld	h,(ix-3)
3080  0D2E  09          	add	hl, bc
3081  0D2F  7E          	ld	a, (hl)
3082  0D30  12          	ld	(de), a
3083  0D31  03          	inc	bc
3084  0D32  18 DF       	jr	l_game_page_map_00112
3085  0D34              l_game_page_map_00176:
3086  0D34  01 00 00    	ld	bc,0x0000
3087  0D37              l_game_page_map_00115:
3088  0D37  79          	ld	a, c
3089  0D38  D6 10       	sub	a,0x10
3090  0D3A  78          	ld	a, b
3091  0D3B  DE 00       	sbc	a,0x00
3092  0D3D  30 20       	jr	NC,l_game_page_map_00117
3093  0D3F  DD 6E B4    	ld	l,(ix-76)
3094  0D42  DD 66 B5    	ld	h,(ix-75)
3095  0D45  09          	add	hl, bc
3096  0D46  11 00 00    	ld	de,_btiles
3097  0D49  19          	add	hl,de
3098  0D4A  79          	ld	a,c
3099  0D4B  EB          	ex	de,hl
3100  0D4C  C6 10       	add	a,0x10
3101  0D4E  6F          	ld	l, a
3102  0D4F  DD 7E F7    	ld	a,(ix-9)
3103  0D52  85          	add	a, l
3104  0D53  6F          	ld	l, a
3105  0D54  DD 7E F8    	ld	a,(ix-8)
3106  0D57  CE 00       	adc	a,0x00
3107  0D59  67          	ld	h, a
3108  0D5A  7E          	ld	a, (hl)
3109  0D5B  12          	ld	(de), a
3110  0D5C  03          	inc	bc
3111  0D5D  18 D8       	jr	l_game_page_map_00115
3112  0D5F              l_game_page_map_00117:
3113  0D5F  01 20 00    	ld	bc,0x0020
3114  0D62              l_game_page_map_00118:
3115  0D62  79          	ld	a, c
3116  0D63  D6 24       	sub	a,0x24
3117  0D65  78          	ld	a, b
3118  0D66  DE 00       	sbc	a,0x00
3119  0D68  30 21       	jr	NC,l_game_page_map_00120
3120  0D6A  DD 6E B4    	ld	l,(ix-76)
3121  0D6D  DD 66 B5    	ld	h,(ix-75)
3122  0D70  09          	add	hl, bc
3123  0D71  11 00 00    	ld	de,_btiles
3124  0D74  19          	add	hl,de
3125  0D75  59          	ld	e,c
3126  0D76  EB          	ex	de,hl
3127  0D77  2C          	inc	l
3128  0D78  2C          	inc	l
3129  0D79  2C          	inc	l
3130  0D7A  2C          	inc	l
3131  0D7B  DD 7E F5    	ld	a,(ix-11)
3132  0D7E  85          	add	a, l
3133  0D7F  6F          	ld	l, a
3134  0D80  DD 7E F6    	ld	a,(ix-10)
3135  0D83  CE 00       	adc	a,0x00
3136  0D85  67          	ld	h, a
3137  0D86  7E          	ld	a, (hl)
3138  0D87  12          	ld	(de), a
3139  0D88  03          	inc	bc
3140  0D89  18 D7       	jr	l_game_page_map_00118
3141  0D8B              l_game_page_map_00120:
3142  0D8B  01 28 00    	ld	bc,0x0028
3143  0D8E              l_game_page_map_00121:
3144  0D8E  79          	ld	a, c
3145  0D8F  D6 2C       	sub	a,0x2c
3146  0D91  78          	ld	a, b
3147  0D92  DE 00       	sbc	a,0x00
3148  0D94  30 21       	jr	NC,l_game_page_map_00126
3149  0D96  DD 6E B4    	ld	l,(ix-76)
3150  0D99  DD 66 B5    	ld	h,(ix-75)
3151  0D9C  09          	add	hl, bc
3152  0D9D  11 00 00    	ld	de,_btiles
3153  0DA0  19          	add	hl,de
3154  0DA1  59          	ld	e,c
3155  0DA2  EB          	ex	de,hl
3156  0DA3  2C          	inc	l
3157  0DA4  2C          	inc	l
3158  0DA5  2C          	inc	l
3159  0DA6  2C          	inc	l
3160  0DA7  DD 7E F3    	ld	a,(ix-13)
3161  0DAA  85          	add	a, l
3162  0DAB  6F          	ld	l, a
3163  0DAC  DD 7E F4    	ld	a,(ix-12)
3164  0DAF  CE 00       	adc	a,0x00
3165  0DB1  67          	ld	h, a
3166  0DB2  7E          	ld	a, (hl)
3167  0DB3  12          	ld	(de), a
3168  0DB4  03          	inc	bc
3169  0DB5  18 D7       	jr	l_game_page_map_00121
3170  0DB7              l_game_page_map_00126:
3171  0DB7  DD 7E B4    	ld	a,(ix-76)
3172  0DBA  C6 30       	add	a,0x30
3173  0DBC  DD 77 B4    	ld	(ix-76),a
3174  0DBF  DD 7E B5    	ld	a,(ix-75)
3175  0DC2  CE 00       	adc	a,0x00
3176  0DC4  DD 77 B5    	ld	(ix-75),a
3177  0DC7  C3 01 0C    	jp	l_game_page_map_00127
3178  0DCA              l_game_page_map_00129:
3179  0DCA  DD 36 B0 C0 	ld	(ix-80),0xc0
3180  0DCE  DD 36 B1 00 	ld	(ix-79),0x00
3181  0DD2              l_game_page_map_00130:
3182  0DD2  DD 7E B0    	ld	a,(ix-80)
3183  0DD5  D6 80       	sub	a,0x80
3184  0DD7  DD 7E B1    	ld	a,(ix-79)
3185  0DDA  DE 01       	sbc	a,0x01
3186  0DDC  30 18       	jr	NC,l_game_page_map_00132
3187  0DDE  3E 00       	ld	a, +((_btiles) & 0xFF)
3188  0DE0  DD 86 B0    	add	a,(ix-80)
3189  0DE3  4F          	ld	c, a
3190  0DE4  3E 00       	ld	a, +((_btiles) / 256)
3191  0DE6  DD 8E B1    	adc	a,(ix-79)
3192  0DE9  47          	ld	b, a
3193  0DEA  AF          	xor	a, a
3194  0DEB  02          	ld	(bc), a
3195  0DEC  DD 34 B0    	inc	(ix-80)
3196  0DEF  20 E1       	jr	NZ,l_game_page_map_00130
3197  0DF1  DD 34 B1    	inc	(ix-79)
3198  0DF4  18 DC       	jr	l_game_page_map_00130
3199  0DF6              l_game_page_map_00132:
3200  0DF6  DD 36 B4 E0 	ld	(ix-76),0xe0
3201  0DFA  DD 36 B5 00 	ld	(ix-75),0x00
3202  0DFE              l_game_page_map_00136:
3203  0DFE  DD 7E B4    	ld	a,(ix-76)
3204  0E01  D6 80       	sub	a,0x80
3205  0E03  DD 7E B5    	ld	a,(ix-75)
3206  0E06  DE 01       	sbc	a,0x01
3207  0E08  30 2F       	jr	NC,l_game_page_map_00138
3208  0E0A  01 00 00    	ld	bc,0x0000
3209  0E0D              l_game_page_map_00133:
3210  0E0D  79          	ld	a, c
3211  0E0E  D6 10       	sub	a,0x10
3212  0E10  78          	ld	a, b
3213  0E11  DE 00       	sbc	a,0x00
3214  0E13  30 12       	jr	NC,l_game_page_map_00135
3215  0E15  DD 6E B4    	ld	l,(ix-76)
3216  0E18  DD 66 B5    	ld	h,(ix-75)
3217  0E1B  09          	add	hl, bc
3218  0E1C  11 00 00    	ld	de,_btiles
3219  0E1F  19          	add	hl, de
3220  0E20  DD 7E B8    	ld	a,(ix-72)
3221  0E23  77          	ld	(hl), a
3222  0E24  03          	inc	bc
3223  0E25  18 E6       	jr	l_game_page_map_00133
3224  0E27              l_game_page_map_00135:
3225  0E27  DD 7E B4    	ld	a,(ix-76)
3226  0E2A  C6 30       	add	a,0x30
3227  0E2C  DD 77 B4    	ld	(ix-76),a
3228  0E2F  DD 7E B5    	ld	a,(ix-75)
3229  0E32  CE 00       	adc	a,0x00
3230  0E34  DD 77 B5    	ld	(ix-75),a
3231  0E37  18 C5       	jr	l_game_page_map_00136
3232  0E39              l_game_page_map_00138:
3233  0E39  DD 36 B0 00 	ld	(ix-80),0x00
3234  0E3D  DD 36 B1 00 	ld	(ix-79),0x00
3235  0E41              l_game_page_map_00139:
3236  0E41  DD 7E B0    	ld	a,(ix-80)
3237  0E44  D6 10       	sub	a,0x10
3238  0E46  DD 7E B1    	ld	a,(ix-79)
3239  0E49  DE 00       	sbc	a,0x00
3240  0E4B  30 30       	jr	NC,l_game_page_map_00141
3241  0E4D  DD 7E B0    	ld	a,(ix-80)
3242  0E50  C6 C0       	add	a,0xc0
3243  0E52  4F          	ld	c, a
3244  0E53  DD 7E B1    	ld	a,(ix-79)
3245  0E56  CE 00       	adc	a,0x00
3246  0E58  47          	ld	b, a
3247  0E59  21 00 00    	ld	hl,_btiles
3248  0E5C  09          	add	hl,bc
3249  0E5D  3E 00       	ld	a,+((_btiles) & 0xFF)
3250  0E5F  DD 86 B0    	add	a,(ix-80)
3251  0E62  5F          	ld	e,a
3252  0E63  3E 00       	ld	a,+((_btiles) / 256)
3253  0E65  DD 8E B1    	adc	a,(ix-79)
3254  0E68  57          	ld	d,a
3255  0E69  1A          	ld	a,(de)
3256  0E6A  77          	ld	(hl),a
3257  0E6B  DD 7E B0    	ld	a,(ix-80)
3258  0E6E  C6 02       	add	a,0x02
3259  0E70  DD 77 B0    	ld	(ix-80),a
3260  0E73  DD 7E B1    	ld	a,(ix-79)
3261  0E76  CE 00       	adc	a,0x00
3262  0E78  DD 77 B1    	ld	(ix-79),a
3263  0E7B  18 C4       	jr	l_game_page_map_00139
3264  0E7D              l_game_page_map_00141:
3265  0E7D  DD 36 B0 00 	ld	(ix-80),0x00
3266  0E81  DD 36 B1 00 	ld	(ix-79),0x00
3267  0E85              l_game_page_map_00142:
3268  0E85  DD 7E B0    	ld	a,(ix-80)
3269  0E88  D6 10       	sub	a,0x10
3270  0E8A  DD 7E B1    	ld	a,(ix-79)
3271  0E8D  DE 00       	sbc	a,0x00
3272  0E8F  30 20       	jr	NC,l_game_page_map_00144
3273  0E91  3E 00       	ld	a, +((_btiles) & 0xFF)
3274  0E93  DD 86 B0    	add	a,(ix-80)
3275  0E96  4F          	ld	c, a
3276  0E97  3E 00       	ld	a, +((_btiles) / 256)
3277  0E99  DD 8E B1    	adc	a,(ix-79)
3278  0E9C  47          	ld	b, a
3279  0E9D  AF          	xor	a, a
3280  0E9E  02          	ld	(bc), a
3281  0E9F  DD 7E B0    	ld	a,(ix-80)
3282  0EA2  C6 02       	add	a,0x02
3283  0EA4  DD 77 B0    	ld	(ix-80),a
3284  0EA7  DD 7E B1    	ld	a,(ix-79)
3285  0EAA  CE 00       	adc	a,0x00
3286  0EAC  DD 77 B1    	ld	(ix-79),a
3287  0EAF  18 D4       	jr	l_game_page_map_00142
3288  0EB1              l_game_page_map_00144:
3289  0EB1  01 30 00    	ld	bc,_btiles + 48
3290  0EB4  0A          	ld	a, (bc)
3291  0EB5  32 C3 00    	ld	((_btiles + 0x00c3)),a
3292  0EB8  3A 32 00    	ld	a,(_btiles + 0x0032)
3293  0EBB  32 C5 00    	ld	((_btiles + 0x00c5)),a
3294  0EBE  3A 34 00    	ld	a,(_btiles + 0x0034)
3295  0EC1  32 C7 00    	ld	((_btiles + 0x00c7)),a
3296  0EC4  3A 36 00    	ld	a,(_btiles + 0x0036)
3297  0EC7  32 C9 00    	ld	((_btiles + 0x00c9)),a
3298  0ECA  3A 38 00    	ld	a,(_btiles + 0x0038)
3299  0ECD  32 CB 00    	ld	((_btiles + 0x00cb)),a
3300  0ED0  3A 3A 00    	ld	a, (_btiles + 58)
3301  0ED3  32 CD 00    	ld	((_btiles + 0x00cd)),a
3302  0ED6  11 50 00    	ld	de,_btiles + 80
3303  0ED9  1A          	ld	a, (de)
3304  0EDA  32 E8 00    	ld	((_btiles + 0x00e8)),a
3305  0EDD  3A 51 00    	ld	a,(_btiles + 0x0051)
3306  0EE0  32 E9 00    	ld	((_btiles + 0x00e9)),a
3307  0EE3  3A 52 00    	ld	a,(_btiles + 0x0052)
3308  0EE6  32 EA 00    	ld	((_btiles + 0x00ea)),a
3309  0EE9  3A 53 00    	ld	a, (_btiles + 83)
3310  0EEC  32 EB 00    	ld	((_btiles + 0x00eb)),a
3311  0EEF  0A          	ld	a, (bc)
3312  0EF0  32 F4 00    	ld	((_btiles + 0x00f4)),a
3313  0EF3  3A 32 00    	ld	a,(_btiles + 0x0032)
3314  0EF6  32 F6 00    	ld	((_btiles + 0x00f6)),a
3315  0EF9  3A 34 00    	ld	a,(_btiles + 0x0034)
3316  0EFC  32 F8 00    	ld	((_btiles + 0x00f8)),a
3317  0EFF  3A 36 00    	ld	a,(_btiles + 0x0036)
3318  0F02  32 FA 00    	ld	((_btiles + 0x00fa)),a
3319  0F05  3A 38 00    	ld	a,(_btiles + 0x0038)
3320  0F08  32 FC 00    	ld	((_btiles + 0x00fc)),a
3321  0F0B  1A          	ld	a, (de)
3322  0F0C  32 11 01    	ld	((_btiles + 0x0111)),a
3323  0F0F  3A 51 00    	ld	a,(_btiles + 0x0051)
3324  0F12  32 12 01    	ld	((_btiles + 0x0112)),a
3325  0F15  3A 52 00    	ld	a,(_btiles + 0x0052)
3326  0F18  32 13 01    	ld	((_btiles + 0x0113)),a
3327  0F1B  0A          	ld	a, (bc)
3328  0F1C  32 F7 00    	ld	((_btiles + 0x00f7)),a
3329  0F1F  3A 32 00    	ld	a,(_btiles + 0x0032)
3330  0F22  32 F9 00    	ld	((_btiles + 0x00f9)),a
3331  0F25  3A 34 00    	ld	a,(_btiles + 0x0034)
3332  0F28  32 FB 00    	ld	((_btiles + 0x00fb)),a
3333  0F2B  3A 36 00    	ld	a,(_btiles + 0x0036)
3334  0F2E  32 FD 00    	ld	((_btiles + 0x00fd)),a
3335  0F31  1A          	ld	a, (de)
3336  0F32  32 19 01    	ld	((_btiles + 0x0119)),a
3337  0F35  3A 51 00    	ld	a,(_btiles + 0x0051)
3338  0F38  32 1A 01    	ld	((_btiles + 0x011a)),a
3339  0F3B  3A 52 00    	ld	a,(_btiles + 0x0052)
3340  0F3E  32 1B 01    	ld	((_btiles + 0x011b)),a
3341  0F41  0A          	ld	a, (bc)
3342  0F42  32 28 01    	ld	((_btiles + 0x0128)),a
3343  0F45  3A 32 00    	ld	a,(_btiles + 0x0032)
3344  0F48  32 2A 01    	ld	((_btiles + 0x012a)),a
3345  0F4B  3A 34 00    	ld	a,(_btiles + 0x0034)
3346  0F4E  32 2C 01    	ld	((_btiles + 0x012c)),a
3347  0F51  1A          	ld	a, (de)
3348  0F52  32 42 01    	ld	((_btiles + 0x0142)),a
3349  0F55  3A 51 00    	ld	a,(_btiles + 0x0051)
3350  0F58  32 43 01    	ld	((_btiles + 0x0143)),a
3351  0F5B  0A          	ld	a, (bc)
3352  0F5C  32 2B 01    	ld	((_btiles + 0x012b)),a
3353  0F5F  3A 32 00    	ld	a,(_btiles + 0x0032)
3354  0F62  32 2D 01    	ld	((_btiles + 0x012d)),a
3355  0F65  1A          	ld	a, (de)
3356  0F66  32 4A 01    	ld	((_btiles + 0x014a)),a
3357  0F69  3A 51 00    	ld	a,(_btiles + 0x0051)
3358  0F6C  32 4B 01    	ld	((_btiles + 0x014b)),a
3359  0F6F  0A          	ld	a, (bc)
3360  0F70  32 5C 01    	ld	((_btiles + 0x015c)),a
3361  0F73  1A          	ld	a, (de)
3362  0F74  32 73 01    	ld	((_btiles + 0x0173)),a
3363  0F77  3E 00       	ld	a,0x00
3364  0F79  DD 77 B4    	ld	(ix-76),a
3365  0F7C  DD 77 B5    	ld	(ix-75),a
3366  0F7F  DD 77 B9    	ld	(ix-71),a
3367  0F82  DD 77 BA    	ld	(ix-70),a
3368  0F85  DD 36 B2 00 	ld	(ix-78),0x00
3369  0F89  DD 36 B3 00 	ld	(ix-77),0x00
3370  0F8D              l_game_page_map_00145:
3371  0F8D  DD 4E BB    	ld	c,(ix-69)
3372  0F90  06 00       	ld	b,0x00
3373  0F92  DD 7E B2    	ld	a,(ix-78)
3374  0F95  91          	sub	a, c
3375  0F96  DD 7E B3    	ld	a,(ix-77)
3376  0F99  98          	sbc	a, b
3377  0F9A  30 3A       	jr	NC,l_game_page_map_00147
3378  0F9C  3E 16       	ld	a,0x16
3379  0F9E  01 FD 7F    	ld	bc,_IO_7FFD
3380  0FA1  ED 79       	out	(c),a
3381  0FA3  01 00 00    	ld	bc,_lenght0
3382  0FA6  DD 6E B2    	ld	l,(ix-78)
3383  0FA9  DD 66 B3    	ld	h,(ix-77)
3384  0FAC  09          	add	hl,bc
3385  0FAD  4E          	ld	c, (hl)
3386  0FAE  06 00       	ld	b,0x00
3387  0FB0  21 00 00    	ld	hl,_GLOBAL_ZX_PORT_7FFD
3388  0FB3  36 10       	ld	(hl),0x10
3389  0FB5  C5          	push	bc
3390  0FB6  3E 10       	ld	a,0x10
3391  0FB8  01 FD 7F    	ld	bc,_IO_7FFD
3392  0FBB  ED 79       	out	(c),a
3393  0FBD  C1          	pop	bc
3394  0FBE  DD 7E B9    	ld	a,(ix-71)
3395  0FC1  81          	add	a, c
3396  0FC2  DD 77 B9    	ld	(ix-71),a
3397  0FC5  DD 7E BA    	ld	a,(ix-70)
3398  0FC8  88          	adc	a, b
3399  0FC9  DD 77 BA    	ld	(ix-70),a
3400  0FCC  DD 34 B2    	inc	(ix-78)
3401  0FCF  20 BC       	jr	NZ,l_game_page_map_00145
3402  0FD1  DD 34 B3    	inc	(ix-77)
3403  0FD4  18 B7       	jr	l_game_page_map_00145
3404  0FD6              l_game_page_map_00147:
3405  0FD6  DD 36 B0 00 	ld	(ix-80),0x00
3406  0FDA  DD 36 B1 00 	ld	(ix-79),0x00
3407  0FDE              l_game_page_map_00160:
3408  0FDE  3E 16       	ld	a,0x16
3409  0FE0  01 FD 7F    	ld	bc,_IO_7FFD
3410  0FE3  ED 79       	out	(c),a
3411  0FE5  DD 7E B9    	ld	a,(ix-71)
3412  0FE8  DD 86 B0    	add	a,(ix-80)
3413  0FEB  4F          	ld	c, a
3414  0FEC  DD 7E BA    	ld	a,(ix-70)
3415  0FEF  DD 8E B1    	adc	a,(ix-79)
3416  0FF2  47          	ld	b, a
3417  0FF3  21 00 00    	ld	hl,_world0
3418  0FF6  09          	add	hl, bc
3419  0FF7  7E          	ld	a, (hl)
3420  0FF8  DD 77 AD    	ld	(ix-83),a
3421  0FFB  03          	inc	bc
3422  0FFC  21 00 00    	ld	hl,_world0
3423  0FFF  09          	add	hl, bc
3424  1000  7E          	ld	a, (hl)
3425  1001  DD 77 AE    	ld	(ix-82),a
3426  1004  3E 10       	ld	a,0x10
3427  1006  32 00 00    	ld	(_GLOBAL_ZX_PORT_7FFD),a
3428  1009  01 FD 7F    	ld	bc,_IO_7FFD
3429  100C  ED 79       	out	(c),a
3430  100E  DD 7E AD    	ld	a,(ix-83)
3431  1011  D6 80       	sub	a,0x80
3432  1013  30 1F       	jr	NC,l_game_page_map_00152
3433  1015  DD 6E B4    	ld	l,(ix-76)
3434  1018  DD 66 B5    	ld	h,(ix-75)
3435  101B  01 00 00    	ld	bc,_scr_map
3436  101E  09          	add	hl,bc
3437  101F  DD 75 EF    	ld	(ix-17),l
3438  1022  DD 74 F0    	ld	(ix-16),h
3439  1025  DD 7E AD    	ld	a,(ix-83)
3440  1028  77          	ld	(hl), a
3441  1029  DD 34 B4    	inc	(ix-76)
3442  102C  C2 A9 10    	jp	NZ,l_game_page_map_00153
3443  102F  DD 34 B5    	inc	(ix-75)
3444  1032  18 75       	jr	l_game_page_map_00153
3445  1034              l_game_page_map_00152:
3446  1034  DD 7E AD    	ld	a,(ix-83)
3447  1037  C6 80       	add	a,0x80
3448  1039  DD 77 AF    	ld	(ix-81),a
3449  103C  DD 7E B4    	ld	a,(ix-76)
3450  103F  DD 77 EF    	ld	(ix-17),a
3451  1042  DD 7E B5    	ld	a,(ix-75)
3452  1045  DD 77 F0    	ld	(ix-16),a
3453  1048  DD 36 B2 00 	ld	(ix-78),0x00
3454  104C  DD 36 B3 00 	ld	(ix-77),0x00
3455  1050              l_game_page_map_00158:
3456  1050  DD 7E AF    	ld	a,(ix-81)
3457  1053  DD 77 F1    	ld	(ix-15),a
3458  1056  DD 36 F2 00 	ld	(ix-14),0x00
3459  105A  DD 7E B2    	ld	a,(ix-78)
3460  105D  DD 96 F1    	sub	a,(ix-15)
3461  1060  DD 7E B3    	ld	a,(ix-77)
3462  1063  DD 9E F2    	sbc	a,(ix-14)
3463  1066  30 2D       	jr	NC,l_game_page_map_00212
3464  1068  DD 6E EF    	ld	l,(ix-17)
3465  106B  DD 66 F0    	ld	h,(ix-16)
3466  106E  01 00 00    	ld	bc,_scr_map
3467  1071  09          	add	hl,bc
3468  1072  DD 75 F1    	ld	(ix-15),l
3469  1075  DD 74 F2    	ld	(ix-14),h
3470  1078  DD 7E AE    	ld	a,(ix-82)
3471  107B  77          	ld	(hl), a
3472  107C  DD 34 EF    	inc	(ix-17)
3473  107F  20 03       	jr	NZ,l_game_page_map_00330
3474  1081  DD 34 F0    	inc	(ix-16)
3475  1084              l_game_page_map_00330:
3476  1084  DD 7E F0    	ld	a,(ix-16)
3477  1087  D6 02       	sub	a,0x02
3478  1089  30 0A       	jr	NC,l_game_page_map_00212
3479  108B  DD 34 B2    	inc	(ix-78)
3480  108E  20 C0       	jr	NZ,l_game_page_map_00158
3481  1090  DD 34 B3    	inc	(ix-77)
3482  1093  18 BB       	jr	l_game_page_map_00158
3483  1095              l_game_page_map_00212:
3484  1095  DD 7E EF    	ld	a,(ix-17)
3485  1098  DD 77 B4    	ld	(ix-76),a
3486  109B  DD 7E F0    	ld	a,(ix-16)
3487  109E  DD 77 B5    	ld	(ix-75),a
3488  10A1  DD 34 B0    	inc	(ix-80)
3489  10A4  20 03       	jr	NZ,l_game_page_map_00332
3490  10A6  DD 34 B1    	inc	(ix-79)
3491  10A9              l_game_page_map_00332:
3492  10A9              l_game_page_map_00153:
3493  10A9  DD 7E B5    	ld	a,(ix-75)
3494  10AC  D6 02       	sub	a,0x02
3495  10AE  30 10       	jr	NC,l_game_page_map_00156
3496  10B0  DD 34 B0    	inc	(ix-80)
3497  10B3  20 03       	jr	NZ,l_game_page_map_00333
3498  10B5  DD 34 B1    	inc	(ix-79)
3499  10B8              l_game_page_map_00333:
3500  10B8  DD 7E B1    	ld	a,(ix-79)
3501  10BB  D6 02       	sub	a,0x02
3502  10BD  DA DE 0F    	jp	C, l_game_page_map_00160
3503  10C0              l_game_page_map_00156:
3504  10C0  DD 7E BC    	ld	a,(ix-68)
3505  10C3  32 00 00    	ld	(_scr_curr),a
3506  10C6  DD 7E B8    	ld	a,(ix-72)
3507  10C9  32 00 00    	ld	(_map_paper),a
3508  10CC  FB          	ei
3509  10CD  DD F9       	ld	sp, ix
3510  10CF  DD E1       	pop	ix
3511  10D1  C9          	ret
3512  10D2              	SECTION IGNORE
3513  0000              
