1     0000              MODULE game_player_c
2     0000              LINE 0, "game_player.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _player_get_floor
204   0000              	GLOBAL _player_check_conveyor
205   0000              	GLOBAL _player_1up
206   0000              	GLOBAL _player_collision
207   0000              	GLOBAL _player_new_jump
208   0000              	GLOBAL _player_handle_fall
209   0000              	GLOBAL _player_handle_walk
210   0000              	GLOBAL _player_handle_lock
211   0000              	GLOBAL _player_init
212   0000              	GLOBAL _player_turn
213   0000              	GLOBAL _player_move
214   0000              	GLOBAL _player_move_jump
215   0000              	GLOBAL _player_move_walk
216   0000              	GLOBAL _player_handle_conveyor
217   0000              	GLOBAL _player_pick
218   0000              	GLOBAL _player_check_input
219   0000              	GLOBAL _player_tile
220   0000              	GLOBAL _player_score_add
221   0000              	GLOBAL _player_pick_item
222   0000              	GLOBAL _player_pick_deadly
223   0000              	GLOBAL _player_pick_exit
224   0000              	GLOBAL _player_pick_extra
225   0000              	GLOBAL _player_check_ceil
226   0000              	GLOBAL _player_check_floor
227   0000              	GLOBAL _player_lost_life
228   0000              ;--------------------------------------------------------
229   0000              ; Externals used
230   0000              ;--------------------------------------------------------
231   0000              	GLOBAL _ulltoa_callee
232   0000              	GLOBAL _ulltoa
233   0000              	GLOBAL _strtoull_callee
234   0000              	GLOBAL _strtoull
235   0000              	GLOBAL _strtoll_callee
236   0000              	GLOBAL _strtoll
237   0000              	GLOBAL _lltoa_callee
238   0000              	GLOBAL _lltoa
239   0000              	GLOBAL _llabs_callee
240   0000              	GLOBAL _llabs
241   0000              	GLOBAL __lldivu__callee
242   0000              	GLOBAL __lldivu_
243   0000              	GLOBAL __lldiv__callee
244   0000              	GLOBAL __lldiv_
245   0000              	GLOBAL _atoll_callee
246   0000              	GLOBAL _atoll
247   0000              	GLOBAL _realloc_unlocked_callee
248   0000              	GLOBAL _realloc_unlocked
249   0000              	GLOBAL _malloc_unlocked_fastcall
250   0000              	GLOBAL _malloc_unlocked
251   0000              	GLOBAL _free_unlocked_fastcall
252   0000              	GLOBAL _free_unlocked
253   0000              	GLOBAL _calloc_unlocked_callee
254   0000              	GLOBAL _calloc_unlocked
255   0000              	GLOBAL _aligned_alloc_unlocked_callee
256   0000              	GLOBAL _aligned_alloc_unlocked
257   0000              	GLOBAL _realloc_callee
258   0000              	GLOBAL _realloc
259   0000              	GLOBAL _malloc_fastcall
260   0000              	GLOBAL _malloc
261   0000              	GLOBAL _free_fastcall
262   0000              	GLOBAL _free
263   0000              	GLOBAL _calloc_callee
264   0000              	GLOBAL _calloc
265   0000              	GLOBAL _aligned_alloc_callee
266   0000              	GLOBAL _aligned_alloc
267   0000              	GLOBAL _utoa_callee
268   0000              	GLOBAL _utoa
269   0000              	GLOBAL _ultoa_callee
270   0000              	GLOBAL _ultoa
271   0000              	GLOBAL _system_fastcall
272   0000              	GLOBAL _system
273   0000              	GLOBAL _strtoul_callee
274   0000              	GLOBAL _strtoul
275   0000              	GLOBAL _strtol_callee
276   0000              	GLOBAL _strtol
277   0000              	GLOBAL _strtof_callee
278   0000              	GLOBAL _strtof
279   0000              	GLOBAL _strtod_callee
280   0000              	GLOBAL _strtod
281   0000              	GLOBAL _srand_fastcall
282   0000              	GLOBAL _srand
283   0000              	GLOBAL _rand
284   0000              	GLOBAL _quick_exit_fastcall
285   0000              	GLOBAL _quick_exit
286   0000              	GLOBAL _qsort_callee
287   0000              	GLOBAL _qsort
288   0000              	GLOBAL _ltoa_callee
289   0000              	GLOBAL _ltoa
290   0000              	GLOBAL _labs_fastcall
291   0000              	GLOBAL _labs
292   0000              	GLOBAL _itoa_callee
293   0000              	GLOBAL _itoa
294   0000              	GLOBAL _ftoh_callee
295   0000              	GLOBAL _ftoh
296   0000              	GLOBAL _ftog_callee
297   0000              	GLOBAL _ftog
298   0000              	GLOBAL _ftoe_callee
299   0000              	GLOBAL _ftoe
300   0000              	GLOBAL _ftoa_callee
301   0000              	GLOBAL _ftoa
302   0000              	GLOBAL _exit_fastcall
303   0000              	GLOBAL _exit
304   0000              	GLOBAL _dtoh_callee
305   0000              	GLOBAL _dtoh
306   0000              	GLOBAL _dtog_callee
307   0000              	GLOBAL _dtog
308   0000              	GLOBAL _dtoe_callee
309   0000              	GLOBAL _dtoe
310   0000              	GLOBAL _dtoa_callee
311   0000              	GLOBAL _dtoa
312   0000              	GLOBAL _bsearch_callee
313   0000              	GLOBAL _bsearch
314   0000              	GLOBAL _atol_fastcall
315   0000              	GLOBAL _atol
316   0000              	GLOBAL _atoi_fastcall
317   0000              	GLOBAL _atoi
318   0000              	GLOBAL _atof_fastcall
319   0000              	GLOBAL _atof
320   0000              	GLOBAL _atexit_fastcall
321   0000              	GLOBAL _atexit
322   0000              	GLOBAL _at_quick_exit_fastcall
323   0000              	GLOBAL _at_quick_exit
324   0000              	GLOBAL _abs_fastcall
325   0000              	GLOBAL _abs
326   0000              	GLOBAL _abort
327   0000              	GLOBAL __strtou__callee
328   0000              	GLOBAL __strtou_
329   0000              	GLOBAL __strtoi__callee
330   0000              	GLOBAL __strtoi_
331   0000              	GLOBAL __random_uniform_xor_8__fastcall
332   0000              	GLOBAL __random_uniform_xor_8_
333   0000              	GLOBAL __random_uniform_xor_32__fastcall
334   0000              	GLOBAL __random_uniform_xor_32_
335   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
336   0000              	GLOBAL __random_uniform_cmwc_8_
337   0000              	GLOBAL __shellsort__callee
338   0000              	GLOBAL __shellsort_
339   0000              	GLOBAL __quicksort__callee
340   0000              	GLOBAL __quicksort_
341   0000              	GLOBAL __insertion_sort__callee
342   0000              	GLOBAL __insertion_sort_
343   0000              	GLOBAL __ldivu__callee
344   0000              	GLOBAL __ldivu_
345   0000              	GLOBAL __ldiv__callee
346   0000              	GLOBAL __ldiv_
347   0000              	GLOBAL __divu__callee
348   0000              	GLOBAL __divu_
349   0000              	GLOBAL __div__callee
350   0000              	GLOBAL __div_
351   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
352   0000              	GLOBAL _NIRVANAP_drawTW_raw
353   0000              	GLOBAL _NIRVANAP_drawTW_callee
354   0000              	GLOBAL _NIRVANAP_drawTW
355   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
356   0000              	GLOBAL _NIRVANAP_drawW_raw
357   0000              	GLOBAL _NIRVANAP_drawW_callee
358   0000              	GLOBAL _NIRVANAP_drawW
359   0000              	GLOBAL _NIRVANAP_spriteT_callee
360   0000              	GLOBAL _NIRVANAP_spriteT
361   0000              	GLOBAL _NIRVANAP_fillC_callee
362   0000              	GLOBAL _NIRVANAP_fillC
363   0000              	GLOBAL _NIRVANAP_readC_callee
364   0000              	GLOBAL _NIRVANAP_readC
365   0000              	GLOBAL _NIRVANAP_paintC_callee
366   0000              	GLOBAL _NIRVANAP_paintC
367   0000              	GLOBAL _NIRVANAP_printQ_callee
368   0000              	GLOBAL _NIRVANAP_printQ
369   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
370   0000              	GLOBAL _NIRVANAP_fillT_raw
371   0000              	GLOBAL _NIRVANAP_fillT_callee
372   0000              	GLOBAL _NIRVANAP_fillT
373   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
374   0000              	GLOBAL _NIRVANAP_drawT_raw
375   0000              	GLOBAL _NIRVANAP_drawT_callee
376   0000              	GLOBAL _NIRVANAP_drawT
377   0000              	GLOBAL _NIRVANAP_stop
378   0000              	GLOBAL _NIRVANAP_start
379   0000              	GLOBAL _zx_print_str
380   0000              	GLOBAL _zx_print_int
381   0000              	GLOBAL _zx_print_chr
382   0000              	GLOBAL _zx_isr
383   0000              	GLOBAL _z80_otdr_callee
384   0000              	GLOBAL _z80_otdr
385   0000              	GLOBAL _z80_otir_callee
386   0000              	GLOBAL _z80_otir
387   0000              	GLOBAL _z80_outp_callee
388   0000              	GLOBAL _z80_outp
389   0000              	GLOBAL _z80_indr_callee
390   0000              	GLOBAL _z80_indr
391   0000              	GLOBAL _z80_inir_callee
392   0000              	GLOBAL _z80_inir
393   0000              	GLOBAL _z80_inp_fastcall
394   0000              	GLOBAL _z80_inp
395   0000              	GLOBAL _z80_set_int_state_fastcall
396   0000              	GLOBAL _z80_set_int_state
397   0000              	GLOBAL _z80_get_int_state
398   0000              	GLOBAL _z80_delay_tstate_fastcall
399   0000              	GLOBAL _z80_delay_tstate
400   0000              	GLOBAL _z80_delay_ms_fastcall
401   0000              	GLOBAL _z80_delay_ms
402   0000              	GLOBAL _im2_remove_generic_callback_callee
403   0000              	GLOBAL _im2_remove_generic_callback
404   0000              	GLOBAL _im2_prepend_generic_callback_callee
405   0000              	GLOBAL _im2_prepend_generic_callback
406   0000              	GLOBAL _im2_append_generic_callback_callee
407   0000              	GLOBAL _im2_append_generic_callback
408   0000              	GLOBAL _im2_create_generic_isr_8080_callee
409   0000              	GLOBAL _im2_create_generic_isr_8080
410   0000              	GLOBAL _im2_create_generic_isr_callee
411   0000              	GLOBAL _im2_create_generic_isr
412   0000              	GLOBAL _im2_install_isr_callee
413   0000              	GLOBAL _im2_install_isr
414   0000              	GLOBAL _im2_init_fastcall
415   0000              	GLOBAL _im2_init
416   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
417   0000              	GLOBAL _intrinsic_swap_word_32
418   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
419   0000              	GLOBAL _intrinsic_swap_endian_32
420   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
421   0000              	GLOBAL _intrinsic_swap_endian_16
422   0000              	GLOBAL _intrinsic_return_de
423   0000              	GLOBAL _intrinsic_return_bc
424   0000              	GLOBAL _intrinsic_exx
425   0000              	GLOBAL _intrinsic_ex_de_hl
426   0000              	GLOBAL _intrinsic_nop
427   0000              	GLOBAL _intrinsic_im_2
428   0000              	GLOBAL _intrinsic_im_1
429   0000              	GLOBAL _intrinsic_im_0
430   0000              	GLOBAL _intrinsic_retn
431   0000              	GLOBAL _intrinsic_reti
432   0000              	GLOBAL _intrinsic_halt
433   0000              	GLOBAL _intrinsic_ei
434   0000              	GLOBAL _intrinsic_di
435   0000              	GLOBAL _intrinsic_stub
436   0000              	GLOBAL _intrinsic_ini
437   0000              	GLOBAL _intrinsic_outi
438   0000              	GLOBAL _intrinsic_ldi
439   0000              	GLOBAL _zx_pattern_fill_callee
440   0000              	GLOBAL _zx_pattern_fill
441   0000              	GLOBAL _zx_saddrpup_fastcall
442   0000              	GLOBAL _zx_saddrpup
443   0000              	GLOBAL _zx_saddrpright_callee
444   0000              	GLOBAL _zx_saddrpright
445   0000              	GLOBAL _zx_saddrpleft_callee
446   0000              	GLOBAL _zx_saddrpleft
447   0000              	GLOBAL _zx_saddrpdown_fastcall
448   0000              	GLOBAL _zx_saddrpdown
449   0000              	GLOBAL _zx_saddrcup_fastcall
450   0000              	GLOBAL _zx_saddrcup
451   0000              	GLOBAL _zx_saddrcright_fastcall
452   0000              	GLOBAL _zx_saddrcright
453   0000              	GLOBAL _zx_saddrcleft_fastcall
454   0000              	GLOBAL _zx_saddrcleft
455   0000              	GLOBAL _zx_saddrcdown_fastcall
456   0000              	GLOBAL _zx_saddrcdown
457   0000              	GLOBAL _zx_saddr2py_fastcall
458   0000              	GLOBAL _zx_saddr2py
459   0000              	GLOBAL _zx_saddr2px_fastcall
460   0000              	GLOBAL _zx_saddr2px
461   0000              	GLOBAL _zx_saddr2cy_fastcall
462   0000              	GLOBAL _zx_saddr2cy
463   0000              	GLOBAL _zx_saddr2cx_fastcall
464   0000              	GLOBAL _zx_saddr2cx
465   0000              	GLOBAL _zx_saddr2aaddr_fastcall
466   0000              	GLOBAL _zx_saddr2aaddr
467   0000              	GLOBAL _zx_py2saddr_fastcall
468   0000              	GLOBAL _zx_py2saddr
469   0000              	GLOBAL _zx_py2aaddr_fastcall
470   0000              	GLOBAL _zx_py2aaddr
471   0000              	GLOBAL _zx_pxy2saddr_callee
472   0000              	GLOBAL _zx_pxy2saddr
473   0000              	GLOBAL _zx_pxy2aaddr_callee
474   0000              	GLOBAL _zx_pxy2aaddr
475   0000              	GLOBAL _zx_px2bitmask_fastcall
476   0000              	GLOBAL _zx_px2bitmask
477   0000              	GLOBAL _zx_cy2saddr_fastcall
478   0000              	GLOBAL _zx_cy2saddr
479   0000              	GLOBAL _zx_cy2aaddr_fastcall
480   0000              	GLOBAL _zx_cy2aaddr
481   0000              	GLOBAL _zx_cxy2saddr_callee
482   0000              	GLOBAL _zx_cxy2saddr
483   0000              	GLOBAL _zx_cxy2aaddr_callee
484   0000              	GLOBAL _zx_cxy2aaddr
485   0000              	GLOBAL _zx_bitmask2px_fastcall
486   0000              	GLOBAL _zx_bitmask2px
487   0000              	GLOBAL _zx_aaddrcup_fastcall
488   0000              	GLOBAL _zx_aaddrcup
489   0000              	GLOBAL _zx_aaddrcright_fastcall
490   0000              	GLOBAL _zx_aaddrcright
491   0000              	GLOBAL _zx_aaddrcleft_fastcall
492   0000              	GLOBAL _zx_aaddrcleft
493   0000              	GLOBAL _zx_aaddrcdown_fastcall
494   0000              	GLOBAL _zx_aaddrcdown
495   0000              	GLOBAL _zx_aaddr2saddr_fastcall
496   0000              	GLOBAL _zx_aaddr2saddr
497   0000              	GLOBAL _zx_aaddr2py_fastcall
498   0000              	GLOBAL _zx_aaddr2py
499   0000              	GLOBAL _zx_aaddr2px_fastcall
500   0000              	GLOBAL _zx_aaddr2px
501   0000              	GLOBAL _zx_aaddr2cy_fastcall
502   0000              	GLOBAL _zx_aaddr2cy
503   0000              	GLOBAL _zx_aaddr2cx_fastcall
504   0000              	GLOBAL _zx_aaddr2cx
505   0000              	GLOBAL _zx_visit_wc_pix_callee
506   0000              	GLOBAL _zx_visit_wc_pix
507   0000              	GLOBAL _zx_visit_wc_attr_callee
508   0000              	GLOBAL _zx_visit_wc_attr
509   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
510   0000              	GLOBAL _zx_scroll_wc_up_pix
511   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
512   0000              	GLOBAL _zx_scroll_wc_up_attr
513   0000              	GLOBAL _zx_scroll_wc_up_callee
514   0000              	GLOBAL _zx_scroll_wc_up
515   0000              	GLOBAL _zx_scroll_up_pix_callee
516   0000              	GLOBAL _zx_scroll_up_pix
517   0000              	GLOBAL _zx_scroll_up_attr_callee
518   0000              	GLOBAL _zx_scroll_up_attr
519   0000              	GLOBAL _zx_scroll_up_callee
520   0000              	GLOBAL _zx_scroll_up
521   0000              	GLOBAL _zx_cls_wc_pix_callee
522   0000              	GLOBAL _zx_cls_wc_pix
523   0000              	GLOBAL _zx_cls_wc_attr_callee
524   0000              	GLOBAL _zx_cls_wc_attr
525   0000              	GLOBAL _zx_cls_wc_callee
526   0000              	GLOBAL _zx_cls_wc
527   0000              	GLOBAL _zx_cls_pix_fastcall
528   0000              	GLOBAL _zx_cls_pix
529   0000              	GLOBAL _zx_cls_attr_fastcall
530   0000              	GLOBAL _zx_cls_attr
531   0000              	GLOBAL _zx_cls_fastcall
532   0000              	GLOBAL _zx_cls
533   0000              	GLOBAL _zx_border_fastcall
534   0000              	GLOBAL _zx_border
535   0000              	GLOBAL _zx_tape_verify_block_callee
536   0000              	GLOBAL _zx_tape_verify_block
537   0000              	GLOBAL _zx_tape_save_block_callee
538   0000              	GLOBAL _zx_tape_save_block
539   0000              	GLOBAL _zx_tape_load_block_callee
540   0000              	GLOBAL _zx_tape_load_block
541   0000              	GLOBAL _spr_draw8
542   0000              	GLOBAL _spr_destroy
543   0000              	GLOBAL _spr_unflattenP1
544   0000              	GLOBAL _spr_flatten
545   0000              	GLOBAL _spr_btile_paint_back
546   0000              	GLOBAL _spr_turn_horizontal
547   0000              	GLOBAL _spr_play_anim
548   0000              	GLOBAL _spr_add_anim
549   0000              	GLOBAL _spr_clear_scr
550   0000              	GLOBAL _spr_back_repaint
551   0000              	GLOBAL _spr_get_tile_dir
552   0000              	GLOBAL _spr_get_tile
553   0000              	GLOBAL _spr_paint_player
554   0000              	GLOBAL _spr_paint
555   0000              	GLOBAL _spr_move_left
556   0000              	GLOBAL _spr_move_right
557   0000              	GLOBAL _spr_move_left_f
558   0000              	GLOBAL _spr_move_right_f
559   0000              	GLOBAL _spr_move_horizontal
560   0000              	GLOBAL _spr_move_down_f
561   0000              	GLOBAL _spr_move_up_f
562   0000              	GLOBAL _spr_move_down
563   0000              	GLOBAL _spr_move_up
564   0000              	GLOBAL _spr_set_right
565   0000              	GLOBAL _spr_set_left
566   0000              	GLOBAL _spr_set_down
567   0000              	GLOBAL _spr_set_up
568   0000              	GLOBAL _spr_calc_index
569   0000              	GLOBAL _spr_chktime
570   0000              	GLOBAL _player_use_floor
571   0000              	GLOBAL _page
572   0000              	GLOBAL _game_anim_air
573   0000              	GLOBAL _reverse
574   0000              	GLOBAL _game_copy_sprite
575   0000              	GLOBAL _game_copy_sprite_color_reset
576   0000              	GLOBAL _game_copy_sprite_std
577   0000              	GLOBAL _game_flash_exit
578   0000              	GLOBAL _game_page_map
579   0000              	GLOBAL _game_attribs
580   0000              	GLOBAL _game_print_header
581   0000              	GLOBAL _game_check_time
582   0000              	GLOBAL _game_rotate_attrib_osd
583   0000              	GLOBAL _game_key_paint
584   0000              	GLOBAL _game_colour_message
585   0000              	GLOBAL _game_paint_attrib
586   0000              	GLOBAL _game_print_score
587   0000              	GLOBAL _game_cell_paint_index
588   0000              	GLOBAL _game_cell_paint
589   0000              	GLOBAL _game_check_cell
590   0000              	GLOBAL _game_check_map
591   0000              	GLOBAL _game_loop
592   0000              	GLOBAL _game_round_init
593   0000              	GLOBAL _game_start_timer
594   0000              	GLOBAL _game_update_stats
595   0000              	GLOBAL _game_print_footer
596   0000              	GLOBAL _game_fill_row
597   0000              	GLOBAL _game_cls
598   0000              	GLOBAL _game_fps
599   0000              	GLOBAL _game_draw_map
600   0000              	GLOBAL _enemy_kill
601   0000              	GLOBAL _enemy_init
602   0000              	GLOBAL _enemy_move
603   0000              	GLOBAL _enemy_turn
604   0000              	GLOBAL _enemy_static
605   0000              	GLOBAL _enemy_walk
606   0000              	GLOBAL _enemy_horizontal
607   0000              	GLOBAL _enemy_vertical
608   0000              	GLOBAL _ay_reset
609   0000              	GLOBAL _ay_song_stop
610   0000              	GLOBAL _ay_song_play
611   0000              	GLOBAL _ay_fx_stop
612   0000              	GLOBAL _ay_fx_play
613   0000              	GLOBAL _ay_is_playing
614   0000              	GLOBAL _audio_levelup
615   0000              	GLOBAL _audio_menu
616   0000              	GLOBAL _audio_game_end
617   0000              	GLOBAL _audio_game_start
618   0000              	GLOBAL _audio_level_complete
619   0000              	GLOBAL _audio_level_start
620   0000              	GLOBAL _audio_puerta
621   0000              	GLOBAL _audio_tick
622   0000              	GLOBAL _audio_door
623   0000              	GLOBAL _audio_coin
624   0000              	GLOBAL _audio_fall
625   0000              	GLOBAL _audio_jump
626   0000              	GLOBAL _audio_dead
627   0000              	GLOBAL _audio_ingame
628   0000              	GLOBAL _test_func
629   0000              	GLOBAL _test_proc
630   0000              	GLOBAL _in_mouse_kempston_wheel_delta
631   0000              	GLOBAL _in_mouse_kempston_wheel
632   0000              	GLOBAL _in_mouse_kempston_callee
633   0000              	GLOBAL _in_mouse_kempston
634   0000              	GLOBAL _in_mouse_kempston_setpos_callee
635   0000              	GLOBAL _in_mouse_kempston_setpos
636   0000              	GLOBAL _in_mouse_kempston_reset
637   0000              	GLOBAL _in_mouse_kempston_init
638   0000              	GLOBAL _in_mouse_amx_wheel_delta
639   0000              	GLOBAL _in_mouse_amx_wheel
640   0000              	GLOBAL _in_mouse_amx_callee
641   0000              	GLOBAL _in_mouse_amx
642   0000              	GLOBAL _in_mouse_amx_setpos_callee
643   0000              	GLOBAL _in_mouse_amx_setpos
644   0000              	GLOBAL _in_mouse_amx_reset
645   0000              	GLOBAL _in_mouse_amx_init_callee
646   0000              	GLOBAL _in_mouse_amx_init
647   0000              	GLOBAL _in_stick_sinclair2
648   0000              	GLOBAL _in_stick_sinclair1
649   0000              	GLOBAL _in_stick_kempston
650   0000              	GLOBAL _in_stick_fuller
651   0000              	GLOBAL _in_stick_cursor
652   0000              	GLOBAL _in_stick_keyboard_fastcall
653   0000              	GLOBAL _in_stick_keyboard
654   0000              	GLOBAL _in_wait_nokey
655   0000              	GLOBAL _in_wait_key
656   0000              	GLOBAL _in_test_key
657   0000              	GLOBAL _in_pause_fastcall
658   0000              	GLOBAL _in_pause
659   0000              	GLOBAL _in_key_scancode_fastcall
660   0000              	GLOBAL _in_key_scancode
661   0000              	GLOBAL _in_key_pressed_fastcall
662   0000              	GLOBAL _in_key_pressed
663   0000              	GLOBAL _in_inkey
664   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
665   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
666   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
667   0000              	GLOBAL _NIRVANAP_HOLE
668   0000              	GLOBAL _NIRVANAP_ISR_HOOK
669   0000              	GLOBAL _air_curr_byte
670   0000              	GLOBAL _spr_init_bright
671   0000              	GLOBAL _spr_init_cout3
672   0000              	GLOBAL _spr_init_cin3
673   0000              	GLOBAL _spr_init_cout2
674   0000              	GLOBAL _spr_init_cin2
675   0000              	GLOBAL _spr_init_cout1
676   0000              	GLOBAL _spr_init_cin1
677   0000              	GLOBAL _spr_init_cout0
678   0000              	GLOBAL _spr_init_cin0
679   0000              	GLOBAL _map_paper_last
680   0000              	GLOBAL _map_paper_clr
681   0000              	GLOBAL _map_paper
682   0000              	GLOBAL _map_border
683   0000              	GLOBAL _anim_count
684   0000              	GLOBAL _anim_loop
685   0000              	GLOBAL _anim_end
686   0000              	GLOBAL _anim_int
687   0000              	GLOBAL _anim_tile
688   0000              	GLOBAL _anim_col
689   0000              	GLOBAL _anim_lin
690   0000              	GLOBAL _map_heigth
691   0000              	GLOBAL _map_width
692   0000              	GLOBAL _scr_curr
693   0000              	GLOBAL _scr_map
694   0000              	GLOBAL _spr_kind
695   0000              	GLOBAL _spr_frames
696   0000              	GLOBAL _spr_speed
697   0000              	GLOBAL _spr_tile
698   0000              	GLOBAL _screen_ink
699   0000              	GLOBAL _screen_paper
700   0000              	GLOBAL _game_start_scr
701   0000              	GLOBAL _game_score_top
702   0000              	GLOBAL _player_coins
703   0000              	GLOBAL _player_lives
704   0000              	GLOBAL _game_over
705   0000              	GLOBAL _game_tile_cnt
706   0000              	GLOBAL _game_sound
707   0000              	GLOBAL _game_inf_lives
708   0000              	GLOBAL _game_inmune
709   0000              	GLOBAL _sprite_curr_index
710   0000              	GLOBAL _spr_count
711   0000              	GLOBAL _key_ink
712   0000              	GLOBAL _key_last
713   0000              	GLOBAL _anim_time
714   0000              	GLOBAL _time_key
715   0000              	GLOBAL _time_conv
716   0000              	GLOBAL _time_air
717   0000              	GLOBAL _frame_time
718   0000              	GLOBAL _curr_time
719   0000              	GLOBAL _p_state_a
720   0000              	GLOBAL _p_state
721   0000              	GLOBAL _key_attrib
722   0000              	GLOBAL _game_attrib_osd
723   0000              	GLOBAL _attrib_osd
724   0000              	GLOBAL _attrib_hl
725   0000              	GLOBAL _attrib
726   0000              	GLOBAL _zx_val_asm
727   0000              	GLOBAL _enemies
728   0000              	GLOBAL _tmp_ui
729   0000              	GLOBAL _index1
730   0000              	GLOBAL _index0
731   0000              	GLOBAL _index_tmp
732   0000              	GLOBAL _loop_count
733   0000              	GLOBAL _s_class
734   0000              	GLOBAL _s_row1
735   0000              	GLOBAL _s_col1
736   0000              	GLOBAL _s_col0
737   0000              	GLOBAL _s_lin1
738   0000              	GLOBAL _s_lin0
739   0000              	GLOBAL _s_tile1
740   0000              	GLOBAL _s_tile0
741   0000              	GLOBAL _nirv_sprite_index
742   0000              	GLOBAL _player_kill_index
743   0000              	GLOBAL _player_killed
744   0000              	GLOBAL _player_jump_top
745   0000              	GLOBAL _game_fps_show
746   0000              	GLOBAL _game_debug
747   0000              	GLOBAL _sprite
748   0000              	GLOBAL _fps
749   0000              	GLOBAL _game_mode
750   0000              	GLOBAL _game_tileset
751   0000              	GLOBAL _menu_curr_sel
752   0000              	GLOBAL _game_round_up
753   0000              	GLOBAL _game_exit_lin
754   0000              	GLOBAL _game_exit_col
755   0000              	GLOBAL _game_conveyor_col1
756   0000              	GLOBAL _game_conveyor_col0
757   0000              	GLOBAL _game_conveyor_lin
758   0000              	GLOBAL _game_conveyor_dir
759   0000              	GLOBAL _game_song_play_start
760   0000              	GLOBAL _game_song_play
761   0000              	GLOBAL _game_gravity
762   0000              	GLOBAL _player_jumpcount
763   0000              	GLOBAL _player_hit
764   0000              	GLOBAL _player_hit_time
765   0000              	GLOBAL _player_lin_scr
766   0000              	GLOBAL _player_col_scr
767   0000              	GLOBAL _player_fall_start
768   0000              	GLOBAL _player_jump_count
769   0000              	GLOBAL _player_jump_hack
770   0000              	GLOBAL _player_vel_inc
771   0000              	GLOBAL _player_vel_y0
772   0000              	GLOBAL _player_vel_y
773   0000              	GLOBAL _player_score
774   0000              	GLOBAL _tbuffer
775   0000              	GLOBAL _obj_count
776   0000              	GLOBAL _obj_col
777   0000              	GLOBAL _obj_lin
778   0000              	GLOBAL _spr_timer
779   0000              	GLOBAL _last_time
780   0000              	GLOBAL _colint
781   0000              	GLOBAL _col
782   0000              	GLOBAL _lin
783   0000              	GLOBAL _tile
784   0000              	GLOBAL _value_b
785   0000              	GLOBAL _value_a
786   0000              	GLOBAL _state_a
787   0000              	GLOBAL _state
788   0000              	GLOBAL _class
789   0000              	GLOBAL _dirs_last
790   0000              	GLOBAL _dirs
791   0000              	GLOBAL _k1
792   0000              	GLOBAL _joyfunc1
793   0000              	GLOBAL _btiles
794   0000              	GLOBAL _v3
795   0000              	GLOBAL _v2
796   0000              	GLOBAL _v1
797   0000              	GLOBAL _v0
798   0000              	GLOBAL _i
799   0000              	GLOBAL _spec128
800   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
801   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
802   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
803   0000              	GLOBAL _hitiles2
804   0000              	GLOBAL _hitiles1
805   0000              	GLOBAL _ay_fx_door
806   0000              	GLOBAL _ay_fx_tick
807   0000              	GLOBAL _ay_fx_game_start
808   0000              	GLOBAL _ay_fx_fall
809   0000              	GLOBAL _ay_fx_jump
810   0000              	GLOBAL _ay_fx_dead
811   0000              	GLOBAL _ay_fx_coin
812   0000              	GLOBAL _ay_song_menu
813   0000              	GLOBAL _ay_song_ingame1
814   0000              	GLOBAL _ay_song_ingame0
815   0000              	GLOBAL _hisprites2
816   0000              	GLOBAL _hisprites1
817   0000              	GLOBAL _img1
818   0000              	GLOBAL _air_end_byte
819   0000              	GLOBAL _air_start_byte
820   0000              	GLOBAL _tile_class
821   0000              	GLOBAL _scan_map
822   0000              	GLOBAL _key_map
823   0000              	GLOBAL _map_names0
824   0000              	GLOBAL _game_borders0
825   0000              	GLOBAL _paper0
826   0000              	GLOBAL _lenght0
827   0000              	GLOBAL _world0
828   0000              	GLOBAL _spr_init_len
829   0000              	GLOBAL _spr_init
830   0000              ;--------------------------------------------------------
831   0000              ; special function registers
832   0000              ;--------------------------------------------------------
833   0000              defc _IO_FE	=	0x00fe
834   0000              defc _IO_1FFD	=	0x1ffd
835   0000              defc _IO_7FFD	=	0x7ffd
836   0000              ;--------------------------------------------------------
837   0000              ; ram data
838   0000              ;--------------------------------------------------------
839   0000              	SECTION bss_compiler
840   0000              ;--------------------------------------------------------
841   0000              ; ram data
842   0000              ;--------------------------------------------------------
843   0000              
844   0000              IF 0
845   0000              
846   0000              ; .area _INITIALIZED removed by z88dk
847   0000              
848   0000              
849   0000              ENDIF
850   0000              
851   0000              ;--------------------------------------------------------
852   0000              ; absolute external ram data
853   0000              ;--------------------------------------------------------
854   0000              	SECTION IGNORE
855   0000              ;--------------------------------------------------------
856   0000              ; global & static initialisations
857   0000              ;--------------------------------------------------------
858   0000              	SECTION code_crt_init
859   0000              ;--------------------------------------------------------
860   0000              ; Home
861   0000              ;--------------------------------------------------------
862   0000              	SECTION IGNORE
863   0000              ;--------------------------------------------------------
864   0000              ; code
865   0000              ;--------------------------------------------------------
866   0000              	SECTION code_compiler
867   0000              ;	---------------------------------
868   0000              ; Function player_init
869   0000              ; ---------------------------------
870   0000              _player_init:
871   0000  CD 00 00    	call	___sdcc_enter_ix
872   0003  21 0F 00    	ld	hl, +(_class + 0x000f)
873   0006  36 FF       	ld	(hl),0xff
874   0008  21 0F 00    	ld	hl, +(_spr_speed + 0x000f)
875   000B  36 04       	ld	(hl),0x04
876   000D  21 0F 00    	ld	hl, +(_spr_frames + 0x000f)
877   0010  36 04       	ld	(hl),0x04
878   0012  21 0F 00    	ld	hl, +(_lin + 0x000f)
879   0015  DD 7E 04    	ld	a,(ix+4)
880   0018  77          	ld	(hl), a
881   0019  21 0F 00    	ld	hl, +(_col + 0x000f)
882   001C  DD 7E 05    	ld	a,(ix+5)
883   001F  77          	ld	(hl), a
884   0020  DD 7E 04    	ld	a,(ix+4)
885   0023  32 00 00    	ld	(_player_jump_top),a
886   0026  21 0F 00    	ld	hl, +(_state + 0x000f)
887   0029  36 00       	ld	(hl),0x00
888   002B  21 0F 00    	ld	hl, +(_state_a + 0x000f)
889   002E  36 00       	ld	(hl),0x00
890   0030  2A 00 00    	ld	hl,(_curr_time)
891   0033  22 1E 00    	ld	(_last_time + 0x001e),hl
892   0036  21 00 00    	ld	hl,0x0000
893   0039  22 00 00    	ld	(_player_vel_y),hl
894   003C  21 0F 00    	ld	hl, +(_spr_frames + 0x000f)
895   003F  36 04       	ld	(hl),0x04
896   0041  21 0F 00    	ld	hl,+(_state + 0x000f)
897   0044  22 00 00    	ld	(_p_state),hl
898   0047  21 0F 00    	ld	hl,+(_state_a + 0x000f)
899   004A  22 00 00    	ld	(_p_state_a),hl
900   004D  DD 7E 05    	ld	a,(ix+5)
901   0050  D6 10       	sub	a,0x10
902   0052  30 1E       	jr	NC,l_player_init_00102
903   0054  ED 4B 00 00 	ld	bc,(_p_state)
904   0058  0A          	ld	a,(bc)
905   0059  F6 04       	or	a,0x04
906   005B  02          	ld	(bc), a
907   005C  ED 4B 00 00 	ld	bc,(_p_state_a)
908   0060  0A          	ld	a,(bc)
909   0061  F6 10       	or	a,0x10
910   0063  02          	ld	(bc), a
911   0064  21 0F 00    	ld	hl, +(_tile + 0x000f)
912   0067  DD 7E 06    	ld	a,(ix+6)
913   006A  77          	ld	(hl), a
914   006B  21 0F 00    	ld	hl, +(_colint + 0x000f)
915   006E  36 00       	ld	(hl),0x00
916   0070  18 20       	jr	l_player_init_00104
917   0072              l_player_init_00102:
918   0072  21 0F 00    	ld	hl,_colint+15
919   0075  36 03       	ld	(hl),0x03
920   0077  ED 5B 00 00 	ld	de,(_p_state)
921   007B  1A          	ld	a,(de)
922   007C  F6 08       	or	a,0x08
923   007E  12          	ld	(de),a
924   007F  ED 5B 00 00 	ld	de,(_p_state_a)
925   0083  1A          	ld	a,(de)
926   0084  F6 08       	or	a,0x08
927   0086  12          	ld	(de),a
928   0087  11 0F 00    	ld	de,_tile+15
929   008A  DD 7E 06    	ld	a,(ix+6)
930   008D  C6 04       	add	a,0x04
931   008F  12          	ld	(de),a
932   0090  36 03       	ld	(hl),0x03
933   0092              l_player_init_00104:
934   0092  DD E1       	pop	ix
935   0094  C9          	ret
936   0095              	SECTION code_compiler
937   0095              ;	---------------------------------
938   0095              ; Function player_turn
939   0095              ; ---------------------------------
940   0095              _player_turn:
941   0095  21 00 00    	ld	hl,_sprite
942   0098  36 0F       	ld	(hl),0x0f
943   009A  21 00 00    	ld	hl,_sprite
944   009D  CD 00 00    	call	_spr_chktime
945   00A0  7D          	ld	a, l
946   00A1  B7          	or	a, a
947   00A2  CA 65 02    	jp	Z, l_player_turn_00137
948   00A5  CD 00 00    	call	_in_inkey
949   00A8  7D          	ld	a,l
950   00A9  D6 31       	sub	a,0x31
951   00AB  4D          	ld	c,l
952   00AC  44          	ld	b,h
953   00AD  20 17       	jr	NZ,l_player_turn_00104
954   00AF  21 00 00    	ld	hl,_scr_curr
955   00B2  35          	dec	(hl)
956   00B3  21 00 00    	ld	hl,_game_round_up
957   00B6  36 01       	ld	(hl),0x01
958   00B8  3A 00 00    	ld	a,(_scr_curr)
959   00BB  3C          	inc	a
960   00BC  20 05       	jr	NZ,l_player_turn_00102
961   00BE  21 00 00    	ld	hl,_scr_curr
962   00C1  36 27       	ld	(hl),0x27
963   00C3              l_player_turn_00102:
964   00C3  CD 00 00    	call	_in_wait_nokey
965   00C6              l_player_turn_00104:
966   00C6  79          	ld	a, c
967   00C7  D6 32       	sub	a,0x32
968   00C9  20 18       	jr	NZ,l_player_turn_00108
969   00CB  21 00 00    	ld	hl,_scr_curr
970   00CE  34          	inc	(hl)
971   00CF  21 00 00    	ld	hl,_game_round_up
972   00D2  36 01       	ld	(hl),0x01
973   00D4  3A 00 00    	ld	a,(_scr_curr)
974   00D7  D6 28       	sub	a,0x28
975   00D9  20 05       	jr	NZ,l_player_turn_00106
976   00DB  21 00 00    	ld	hl,_scr_curr
977   00DE  36 00       	ld	(hl),0x00
978   00E0              l_player_turn_00106:
979   00E0  CD 00 00    	call	_in_wait_nokey
980   00E3              l_player_turn_00108:
981   00E3  79          	ld	a, c
982   00E4  D6 33       	sub	a,0x33
983   00E6  20 3E       	jr	NZ,l_player_turn_00113
984   00E8  21 00 00    	ld	hl,_game_inmune
985   00EB  7E          	ld	a, (hl)
986   00EC  D6 01       	sub	a,0x01
987   00EE  3E 00       	ld	a,0x00
988   00F0  17          	rla
989   00F1  47          	ld	b,a
990   00F2  70          	ld	(hl),b
991   00F3  B7          	or	a, a
992   00F4  28 0F       	jr	Z,l_player_turn_00110
993   00F6  C5          	push	bc
994   00F7  21 00 00    	ld	hl,___str_0
995   00FA  E5          	push	hl
996   00FB  21 15 00    	ld	hl,0x0015
997   00FE  E5          	push	hl
998   00FF  CD 00 00    	call	_zx_print_str
999   0102  C1          	pop	bc
1000  0103  18 0D       	jr	l_player_turn_00111
1001  0105              l_player_turn_00110:
1002  0105  C5          	push	bc
1003  0106  21 0F 00    	ld	hl,___str_1
1004  0109  E5          	push	hl
1005  010A  21 15 00    	ld	hl,0x0015
1006  010D  E5          	push	hl
1007  010E  CD 00 00    	call	_zx_print_str
1008  0111  C1          	pop	bc
1009  0112              l_player_turn_00111:
1010  0112  C5          	push	bc
1011  0113  21 19 00    	ld	hl,0x0019
1012  0116  CD 00 00    	call	_z80_delay_ms_fastcall
1013  0119  C1          	pop	bc
1014  011A  CD 00 00    	call	_in_wait_nokey
1015  011D  C5          	push	bc
1016  011E  21 15 20    	ld	hl,0x2015
1017  0121  E5          	push	hl
1018  0122  CD 00 00    	call	_game_fill_row
1019  0125  C1          	pop	bc
1020  0126              l_player_turn_00113:
1021  0126  79          	ld	a, c
1022  0127  D6 34       	sub	a,0x34
1023  0129  20 10       	jr	NZ,l_player_turn_00115
1024  012B  21 00 00    	ld	hl,_game_round_up
1025  012E  36 01       	ld	(hl),0x01
1026  0130  C5          	push	bc
1027  0131  21 FA 00    	ld	hl,0x00fa
1028  0134  CD 00 00    	call	_z80_delay_ms_fastcall
1029  0137  C1          	pop	bc
1030  0138  CD 00 00    	call	_in_wait_nokey
1031  013B              l_player_turn_00115:
1032  013B  79          	ld	a, c
1033  013C  D6 35       	sub	a,0x35
1034  013E  20 1F       	jr	NZ,l_player_turn_00120
1035  0140  21 00 00    	ld	hl,_scr_curr
1036  0143  7E          	ld	a, (hl)
1037  0144  D6 14       	sub	a,0x14
1038  0146  38 04       	jr	C,l_player_turn_00117
1039  0148  36 00       	ld	(hl),0x00
1040  014A  18 05       	jr	l_player_turn_00118
1041  014C              l_player_turn_00117:
1042  014C  21 00 00    	ld	hl,_scr_curr
1043  014F  36 14       	ld	(hl),0x14
1044  0151              l_player_turn_00118:
1045  0151  21 00 00    	ld	hl,_game_round_up
1046  0154  36 01       	ld	(hl),0x01
1047  0156  21 FA 00    	ld	hl,0x00fa
1048  0159  CD 00 00    	call	_z80_delay_ms_fastcall
1049  015C  CD 00 00    	call	_in_wait_nokey
1050  015F              l_player_turn_00120:
1051  015F  21 0F 00    	ld	hl,+(_state + 0x000f)
1052  0162  22 00 00    	ld	(_p_state),hl
1053  0165  21 0F 00    	ld	hl,+(_state_a + 0x000f)
1054  0168  22 00 00    	ld	(_p_state_a),hl
1055  016B  3A 0F 00    	ld	a,(_lin + 0x000f)
1056  016E  32 00 00    	ld	(_s_lin0),a
1057  0171  3A 0F 00    	ld	a,(_col + 0x000f)
1058  0174  32 00 00    	ld	(_s_col0),a
1059  0177  3A 0F 00    	ld	a,(_tile + 0x000f)
1060  017A  32 00 00    	ld	(_s_tile0),a
1061  017D  21 00 00    	ld	hl,_s_class
1062  0180  36 00       	ld	(hl),0x00
1063  0182  21 00 00    	ld	hl,_k1
1064  0185  E5          	push	hl
1065  0186  2A 00 00    	ld	hl,(_joyfunc1)
1066  0189  CD 00 00    	call	___sdcc_call_hl
1067  018C  F1          	pop	af
1068  018D  4D          	ld	c, l
1069  018E  21 00 00    	ld	hl,_dirs
1070  0191  71          	ld	(hl), c
1071  0192  CD 8A 04    	call	_player_handle_lock
1072  0195  CD 66 02    	call	_player_move
1073  0198  CD 62 06    	call	_player_collision
1074  019B  3A 00 00    	ld	a,(_player_killed)
1075  019E  B7          	or	a, a
1076  019F  28 10       	jr	Z,l_player_turn_00122
1077  01A1  3A 00 00    	ld	a,(_game_inmune)
1078  01A4  B7          	or	a, a
1079  01A5  28 0A       	jr	Z,l_player_turn_00122
1080  01A7  21 00 00    	ld	hl,_player_killed
1081  01AA  36 00       	ld	(hl),0x00
1082  01AC  2E 00       	ld	l,0x00
1083  01AE  CD 00 00    	call	_zx_border_fastcall
1084  01B1              l_player_turn_00122:
1085  01B1  21 00 00    	ld	hl,_player_killed
1086  01B4  7E          	ld	a, (hl)
1087  01B5  B7          	or	a, a
1088  01B6  28 05       	jr	Z,l_player_turn_00125
1089  01B8  36 00       	ld	(hl),0x00
1090  01BA  CD 57 0C    	call	_player_lost_life
1091  01BD              l_player_turn_00125:
1092  01BD  2A 0F 00    	ld	hl,(_lin + 0x000f)
1093  01C0  26 00       	ld	h,0x00
1094  01C2  01 10 00    	ld	bc,0x0010
1095  01C5  09          	add	hl,bc
1096  01C6  3A 00 00    	ld	a,(_game_exit_lin)
1097  01C9  5F          	ld	e,a
1098  01CA  16 00       	ld	d,0x00
1099  01CC  7D          	ld	a,l
1100  01CD  93          	sub	a,e
1101  01CE  44          	ld	b,h
1102  01CF  6F          	ld	l, a
1103  01D0  78          	ld	a, b
1104  01D1  9A          	sbc	a, d
1105  01D2  67          	ld	h, a
1106  01D3  CD 00 00    	call	_abs_fastcall
1107  01D6  7D          	ld	a,l
1108  01D7  32 00 00    	ld	(_v0),a
1109  01DA  4F          	ld	c,a
1110  01DB  3A 00 00    	ld	a,(_obj_count)
1111  01DE  3C          	inc	a
1112  01DF  20 36       	jr	NZ,l_player_turn_00130
1113  01E1  21 0F 00    	ld	hl,+(_col + 0x000f)
1114  01E4  4E          	ld	c, (hl)
1115  01E5  3A 00 00    	ld	a,(_game_exit_col)
1116  01E8  91          	sub	a, c
1117  01E9  20 2C       	jr	NZ,l_player_turn_00130
1118  01EB  3A 00 00    	ld	a,(_v0)
1119  01EE  D6 08       	sub	a,0x08
1120  01F0  30 25       	jr	NC,l_player_turn_00130
1121  01F2  21 00 00    	ld	hl,_scr_curr
1122  01F5  34          	inc	(hl)
1123  01F6  21 00 00    	ld	hl,_game_round_up
1124  01F9  36 01       	ld	(hl),0x01
1125  01FB              l_player_turn_00126:
1126  01FB  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1127  01FF  ED 5B 00 00 	ld	de,(_air_end_byte)
1128  0203  7B          	ld	a,e
1129  0204  91          	sub	a,c
1130  0205  7A          	ld	a,d
1131  0206  98          	sbc	a,b
1132  0207  30 0E       	jr	NC,l_player_turn_00130
1133  0209  CD 00 00    	call	_audio_tick
1134  020C  CD 00 00    	call	_game_anim_air
1135  020F  21 19 00    	ld	hl,0x0019
1136  0212  CD 2A 08    	call	_player_score_add
1137  0215  18 E4       	jr	l_player_turn_00126
1138  0217              l_player_turn_00130:
1139  0217  3A 00 00    	ld	a,(_game_debug)
1140  021A  B7          	or	a, a
1141  021B  C8          	ret	Z
1142  021C  21 0F 00    	ld	hl,+(_colint + 0x000f)
1143  021F  46          	ld	b, (hl)
1144  0220  C5          	push	bc
1145  0221  33          	inc	sp
1146  0222  21 15 00    	ld	hl,0x0015
1147  0225  E5          	push	hl
1148  0226  CD 00 00    	call	_zx_print_chr
1149  0229  2A 00 00    	ld	hl,(_p_state)
1150  022C  7E          	ld	a,(hl)
1151  022D  E6 04       	and	a,0x04
1152  022F  F5          	push	af
1153  0230  33          	inc	sp
1154  0231  21 16 00    	ld	hl,0x0016
1155  0234  E5          	push	hl
1156  0235  CD 00 00    	call	_zx_print_chr
1157  0238  2A 00 00    	ld	hl,(_p_state)
1158  023B  7E          	ld	a,(hl)
1159  023C  E6 08       	and	a,0x08
1160  023E  F5          	push	af
1161  023F  33          	inc	sp
1162  0240  21 16 04    	ld	hl,0x0416
1163  0243  E5          	push	hl
1164  0244  CD 00 00    	call	_zx_print_chr
1165  0247  2A 00 00    	ld	hl,(_p_state)
1166  024A  7E          	ld	a,(hl)
1167  024B  E6 10       	and	a,0x10
1168  024D  F5          	push	af
1169  024E  33          	inc	sp
1170  024F  21 16 08    	ld	hl,0x0816
1171  0252  E5          	push	hl
1172  0253  CD 00 00    	call	_zx_print_chr
1173  0256  2A 00 00    	ld	hl,(_p_state_a)
1174  0259  7E          	ld	a,(hl)
1175  025A  E6 01       	and	a,0x01
1176  025C  F5          	push	af
1177  025D  33          	inc	sp
1178  025E  21 16 0C    	ld	hl,0x0c16
1179  0261  E5          	push	hl
1180  0262  CD 00 00    	call	_zx_print_chr
1181  0265              l_player_turn_00137:
1182  0265  C9          	ret
1183  0266              	SECTION rodata_compiler
1184  0000              ___str_0:
1185  0000  4D 49 4C 4C 45 4E 49 41 4C 20 4D 4F 44 45 
                        	DEFM "MILLENIAL MODE"
1186  000E  00          	DEFB 0x00
1187  000F              	SECTION rodata_compiler
1188  000F              ___str_1:
1189  000F  47 45 4E 58 20 4D 4F 44 45 
                        	DEFM "GENX MODE"
1190  0018  00          	DEFB 0x00
1191  0019              	SECTION code_compiler
1192  0266              ;	---------------------------------
1193  0266              ; Function player_move
1194  0266              ; ---------------------------------
1195  0266              _player_move:
1196  0266  2A 00 00    	ld	hl,(_p_state)
1197  0269  7E          	ld	a,(hl)
1198  026A  CB 47       	bit	0, a
1199  026C  20 04       	jr	NZ,l_player_move_00101
1200  026E  CB 4F       	bit	1, a
1201  0270  28 05       	jr	Z,l_player_move_00102
1202  0272              l_player_move_00101:
1203  0272  CD 80 02    	call	_player_move_jump
1204  0275  18 03       	jr	l_player_move_00103
1205  0277              l_player_move_00102:
1206  0277  CD 4E 04    	call	_player_move_walk
1207  027A              l_player_move_00103:
1208  027A  CD 00 00    	call	_spr_paint_player
1209  027D  2E 00       	ld	l,0x00
1210  027F  C9          	ret
1211  0280              	SECTION code_compiler
1212  0280              ;	---------------------------------
1213  0280              ; Function player_move_jump
1214  0280              ; ---------------------------------
1215  0280              _player_move_jump:
1216  0280  CD 00 00    	call	___sdcc_enter_ix
1217  0283  F5          	push	af
1218  0284  3B          	dec	sp
1219  0285  21 00 00    	ld	hl,_player_jump_count
1220  0288  34          	inc	(hl)
1221  0289  2A 00 00    	ld	hl,(_player_vel_y)
1222  028C  ED 5B 00 00 	ld	de,(_game_gravity)
1223  0290  19          	add	hl,de
1224  0291  22 00 00    	ld	(_player_vel_y),hl
1225  0294  3A 00 00    	ld	a,(_player_jump_count)
1226  0297  D6 11       	sub	a,0x11
1227  0299  20 10       	jr	NZ,l_player_move_jump_00102
1228  029B  ED 4B 00 00 	ld	bc,(_p_state)
1229  029F  0A          	ld	a,(bc)
1230  02A0  E6 F7       	and	a,0xf7
1231  02A2  02          	ld	(bc),a
1232  02A3  ED 4B 00 00 	ld	bc,(_p_state)
1233  02A7  0A          	ld	a,(bc)
1234  02A8  E6 FB       	and	a,0xfb
1235  02AA  02          	ld	(bc), a
1236  02AB              l_player_move_jump_00102:
1237  02AB  ED 4B 00 00 	ld	bc,(_p_state)
1238  02AF  0A          	ld	a,(bc)
1239  02B0  CB 67       	bit	4, a
1240  02B2  28 13       	jr	Z,l_player_move_jump_00104
1241  02B4  E6 FB       	and	a,0xfb
1242  02B6  02          	ld	(bc), a
1243  02B7  ED 4B 00 00 	ld	bc,(_p_state)
1244  02BB  0A          	ld	a,(bc)
1245  02BC  E6 F7       	and	a,0xf7
1246  02BE  02          	ld	(bc),a
1247  02BF  ED 4B 00 00 	ld	bc,(_p_state)
1248  02C3  0A          	ld	a,(bc)
1249  02C4  E6 EF       	and	a,0xef
1250  02C6  02          	ld	(bc), a
1251  02C7              l_player_move_jump_00104:
1252  02C7  2A 00 00    	ld	hl,(_p_state)
1253  02CA  7E          	ld	a,(hl)
1254  02CB  DD 77 FD    	ld	(ix-3),a
1255  02CE  CB 5F       	bit	3,a
1256  02D0  20 06       	jr	NZ,l_player_move_jump_00112
1257  02D2  DD CB FD 56 	bit	2,(ix-3)
1258  02D6  28 4E       	jr	Z,l_player_move_jump_00113
1259  02D8              l_player_move_jump_00112:
1260  02D8  3A 00 00    	ld	a,(_player_jump_count)
1261  02DB  3D          	dec	a
1262  02DC  28 13       	jr	Z,l_player_move_jump_00111
1263  02DE  3A 00 00    	ld	a,(_player_jump_count)
1264  02E1  FE 04       	cp	a,0x04
1265  02E3  28 0C       	jr	Z,l_player_move_jump_00111
1266  02E5  FE 07       	cp	a,0x07
1267  02E7  28 08       	jr	Z,l_player_move_jump_00111
1268  02E9  FE 09       	cp	a,0x09
1269  02EB  28 04       	jr	Z,l_player_move_jump_00111
1270  02ED  D6 0C       	sub	a,0x0c
1271  02EF  20 30       	jr	NZ,l_player_move_jump_00106
1272  02F1              l_player_move_jump_00111:
1273  02F1  21 00 00    	ld	hl,_player_jump_hack
1274  02F4  7E          	ld	a, (hl)
1275  02F5  B7          	or	a, a
1276  02F6  28 29       	jr	Z,l_player_move_jump_00106
1277  02F8  36 00       	ld	(hl),0x00
1278  02FA  3A 00 00    	ld	a,(_player_vel_y)
1279  02FD  21 00 00    	ld	hl,_game_gravity
1280  0300  96          	sub	a, (hl)
1281  0301  21 00 00    	ld	hl,_player_vel_y
1282  0304  77          	ld	(hl), a
1283  0305  23          	inc	hl
1284  0306  7E          	ld	a, (hl)
1285  0307  21 01 00    	ld	hl,_game_gravity + 1
1286  030A  9E          	sbc	a, (hl)
1287  030B  32 01 00    	ld	(_player_vel_y + 1),a
1288  030E  CD 00 00    	call	_spr_move_horizontal
1289  0311  21 00 00    	ld	hl,0x0000
1290  0314  22 1E 00    	ld	(_last_time + 0x001e),hl
1291  0317  2E 02       	ld	l,0x02
1292  0319  CD 00 00    	call	_z80_delay_ms_fastcall
1293  031C  2E 00       	ld	l,0x00
1294  031E  C3 49 04    	jp	l_player_move_jump_00133
1295  0321              l_player_move_jump_00106:
1296  0321  21 00 00    	ld	hl,_player_jump_hack
1297  0324  36 01       	ld	(hl),0x01
1298  0326              l_player_move_jump_00113:
1299  0326  21 64 00    	ld	hl,0x0064
1300  0329  E5          	push	hl
1301  032A  2A 00 00    	ld	hl,(_player_vel_y)
1302  032D  E5          	push	hl
1303  032E  CD 00 00    	call	__divsint_callee
1304  0331  4D          	ld	c, l
1305  0332  44          	ld	b, h
1306  0333  CB 41       	bit	0,c
1307  0335  21 00 00    	ld	hl,_s_lin1
1308  0338  71          	ld	(hl),c
1309  0339  28 04       	jr	Z,l_player_move_jump_00116
1310  033B  21 00 00    	ld	hl,_s_lin1
1311  033E  35          	dec	(hl)
1312  033F              l_player_move_jump_00116:
1313  033F  3A 0F 00    	ld	a,(_lin + 0x000f)
1314  0342  21 00 00    	ld	hl,_s_lin1
1315  0345  86          	add	a, (hl)
1316  0346  77          	ld	(hl), a
1317  0347  AF          	xor	a, a
1318  0348  B9          	cp	a, c
1319  0349  98          	sbc	a, b
1320  034A  E2 4F 03    	jp	PO, l_player_move_jump_00212
1321  034D  EE 80       	xor	a,0x80
1322  034F              l_player_move_jump_00212:
1323  034F  FA C5 03    	jp	M, l_player_move_jump_00131
1324  0352  CD 00 00    	call	_spr_set_up
1325  0355  3E 80       	ld	a,0x80
1326  0357  21 00 00    	ld	hl,_s_lin1
1327  035A  96          	sub	a, (hl)
1328  035B  30 02       	jr	NC,l_player_move_jump_00118
1329  035D  36 00       	ld	(hl),0x00
1330  035F              l_player_move_jump_00118:
1331  035F  21 0F 00    	ld	hl,+(_col + 0x000f)
1332  0362  46          	ld	b, (hl)
1333  0363  3A 00 00    	ld	a,(_s_lin1)
1334  0366  4F          	ld	c,a
1335  0367  C5          	push	bc
1336  0368  CD 78 09    	call	_player_check_ceil
1337  036B  F1          	pop	af
1338  036C  DD 75 FD    	ld	(ix-3),l
1339  036F  7D          	ld	a, l
1340  0370  B7          	or	a, a
1341  0371  20 43       	jr	NZ,l_player_move_jump_00120
1342  0373  21 00 00    	ld	hl,0x0000
1343  0376  22 00 00    	ld	(_player_vel_y),hl
1344  0379  11 FE FF    	ld	de,-2
1345  037C  21 00 00    	ld	hl,_p_state
1346  037F  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1347  0382  DD 6E FE    	ld	l,(ix-2)
1348  0385  DD 66 FF    	ld	h,(ix-1)
1349  0388  7E          	ld	a, (hl)
1350  0389  DD 77 FD    	ld	(ix-3),a
1351  038C  E6 FB       	and	a,0xfb
1352  038E  DD 77 FD    	ld	(ix-3),a
1353  0391  DD 6E FE    	ld	l,(ix-2)
1354  0394  DD 66 FF    	ld	h,(ix-1)
1355  0397  DD 7E FD    	ld	a,(ix-3)
1356  039A  77          	ld	(hl), a
1357  039B  11 FE FF    	ld	de,-2
1358  039E  21 00 00    	ld	hl,_p_state
1359  03A1  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1360  03A4  DD 6E FE    	ld	l,(ix-2)
1361  03A7  DD 66 FF    	ld	h,(ix-1)
1362  03AA  4E          	ld	c, (hl)
1363  03AB  CB 99       	res	3, c
1364  03AD  DD 6E FE    	ld	l,(ix-2)
1365  03B0  DD 66 FF    	ld	h,(ix-1)
1366  03B3  71          	ld	(hl), c
1367  03B4  18 06       	jr	l_player_move_jump_00121
1368  03B6              l_player_move_jump_00120:
1369  03B6  3A 00 00    	ld	a,(_s_lin1)
1370  03B9  32 0F 00    	ld	((_lin + 0x000f)),a
1371  03BC              l_player_move_jump_00121:
1372  03BC  3A 00 00    	ld	a,(_s_lin1)
1373  03BF  32 00 00    	ld	(_player_jump_top),a
1374  03C2  C3 44 04    	jp	l_player_move_jump_00132
1375  03C5              l_player_move_jump_00131:
1376  03C5  21 00 00    	ld	hl,_player_jump_count
1377  03C8  7E          	ld	a, (hl)
1378  03C9  D6 0E       	sub	a,0x0e
1379  03CB  20 03       	jr	NZ,l_player_move_jump_00123
1380  03CD  CD 00 00    	call	_audio_fall
1381  03D0              l_player_move_jump_00123:
1382  03D0  CD 69 0B    	call	_player_get_floor
1383  03D3  7D          	ld	a,l
1384  03D4  32 00 00    	ld	(_v0),a
1385  03D7  21 00 00    	ld	hl,_s_lin1
1386  03DA  7E          	ld	a, (hl)
1387  03DB  D6 78       	sub	a,0x78
1388  03DD  30 0E       	jr	NC,l_player_move_jump_00126
1389  03DF  7E          	ld	a, (hl)
1390  03E0  21 00 00    	ld	hl,_v0
1391  03E3  96          	sub	a, (hl)
1392  03E4  38 55       	jr	C,l_player_move_jump_00127
1393  03E6  7E          	ld	a, (hl)
1394  03E7  21 00 00    	ld	hl,_s_lin0
1395  03EA  96          	sub	a, (hl)
1396  03EB  38 4E       	jr	C,l_player_move_jump_00127
1397  03ED              l_player_move_jump_00126:
1398  03ED  3A 00 00    	ld	a,(_s_lin1)
1399  03F0  4F          	ld	c,a
1400  03F1  06 00       	ld	b,0x00
1401  03F3  3A 00 00    	ld	a,(_player_jump_top)
1402  03F6  5F          	ld	e,a
1403  03F7  16 00       	ld	d,0x00
1404  03F9  79          	ld	a, c
1405  03FA  93          	sub	a, e
1406  03FB  4F          	ld	c, a
1407  03FC  78          	ld	a, b
1408  03FD  9A          	sbc	a, d
1409  03FE  47          	ld	b, a
1410  03FF  3E 30       	ld	a,0x30
1411  0401  B9          	cp	a, c
1412  0402  3E 00       	ld	a,0x00
1413  0404  98          	sbc	a, b
1414  0405  E2 0A 04    	jp	PO, l_player_move_jump_00215
1415  0408  EE 80       	xor	a,0x80
1416  040A              l_player_move_jump_00215:
1417  040A  F2 12 04    	jp	P, l_player_move_jump_00125
1418  040D  21 00 00    	ld	hl,_player_killed
1419  0410  36 01       	ld	(hl),0x01
1420  0412              l_player_move_jump_00125:
1421  0412  3A 00 00    	ld	a,(_v0)
1422  0415  32 0F 00    	ld	((_lin + 0x000f)),a
1423  0418  21 00 00    	ld	hl,0x0000
1424  041B  22 00 00    	ld	(_player_vel_y),hl
1425  041E  ED 4B 00 00 	ld	bc,(_p_state)
1426  0422  0A          	ld	a,(bc)
1427  0423  E6 FD       	and	a,0xfd
1428  0425  02          	ld	(bc),a
1429  0426  ED 4B 00 00 	ld	bc,(_p_state)
1430  042A  0A          	ld	a,(bc)
1431  042B  E6 FE       	and	a,0xfe
1432  042D  02          	ld	(bc),a
1433  042E  21 01 00    	ld	hl,_p_state + 1
1434  0431  CD 09 0A    	call	_player_check_conveyor
1435  0434  CD 00 00    	call	_ay_fx_stop
1436  0437  2E 00       	ld	l,0x00
1437  0439  18 0E       	jr	l_player_move_jump_00133
1438  043B              l_player_move_jump_00127:
1439  043B  CD 00 00    	call	_spr_set_down
1440  043E  3A 00 00    	ld	a,(_s_lin1)
1441  0441  32 0F 00    	ld	((_lin + 0x000f)),a
1442  0444              l_player_move_jump_00132:
1443  0444  CD 00 00    	call	_spr_move_horizontal
1444  0447  2E 01       	ld	l,0x01
1445  0449              l_player_move_jump_00133:
1446  0449  DD F9       	ld	sp, ix
1447  044B  DD E1       	pop	ix
1448  044D  C9          	ret
1449  044E              	SECTION code_compiler
1450  044E              ;	---------------------------------
1451  044E              ; Function player_move_walk
1452  044E              ; ---------------------------------
1453  044E              _player_move_walk:
1454  044E  CD BE 07    	call	_player_check_input
1455  0451  7D          	ld	a, l
1456  0452  B7          	or	a, a
1457  0453  28 25       	jr	Z,l_player_move_walk_00108
1458  0455  21 00 00    	ld	hl,_dirs
1459  0458  CB 7E       	bit	7, (hl)
1460  045A  28 07       	jr	Z,l_player_move_walk_00102
1461  045C  CD A1 05    	call	_player_new_jump
1462  045F  2E 01       	ld	l,0x01
1463  0461  18 26       	jr	l_player_move_walk_00110
1464  0463              l_player_move_walk_00102:
1465  0463  2A 00 00    	ld	hl,(_p_state_a)
1466  0466  7E          	ld	a,(hl)
1467  0467  0F          	rrca
1468  0468  38 03       	jr	C,l_player_move_walk_00104
1469  046A  CD 69 05    	call	_player_handle_conveyor
1470  046D              l_player_move_walk_00104:
1471  046D  CD F1 04    	call	_player_handle_walk
1472  0470  CD 2E 05    	call	_player_handle_fall
1473  0473  CD 00 00    	call	_spr_move_horizontal
1474  0476  2E 01       	ld	l,0x01
1475  0478  18 0F       	jr	l_player_move_walk_00110
1476  047A              l_player_move_walk_00108:
1477  047A  CD 69 05    	call	_player_handle_conveyor
1478  047D  7D          	ld	a, l
1479  047E  B7          	or	a, a
1480  047F  28 03       	jr	Z,l_player_move_walk_00106
1481  0481  CD 00 00    	call	_spr_move_horizontal
1482  0484              l_player_move_walk_00106:
1483  0484  CD 2E 05    	call	_player_handle_fall
1484  0487  2E 00       	ld	l,0x00
1485  0489              l_player_move_walk_00110:
1486  0489  C9          	ret
1487  048A              	SECTION code_compiler
1488  048A              ;	---------------------------------
1489  048A              ; Function player_handle_lock
1490  048A              ; ---------------------------------
1491  048A              _player_handle_lock:
1492  048A  2A 00 00    	ld	hl,(_p_state)
1493  048D  7E          	ld	a,(hl)
1494  048E  CB 67       	bit	4, a
1495  0490  20 4D       	jr	NZ,l_player_handle_lock_00112
1496  0492  CB 47       	bit	0, a
1497  0494  20 49       	jr	NZ,l_player_handle_lock_00112
1498  0496  CB 4F       	bit	1, a
1499  0498  20 45       	jr	NZ,l_player_handle_lock_00112
1500  049A  21 00 00    	ld	hl,_dirs
1501  049D  CB 5E       	bit	3, (hl)
1502  049F  28 1C       	jr	Z,l_player_handle_lock_00105
1503  04A1  ED 4B 00 00 	ld	bc,(_p_state_a)
1504  04A5  0A          	ld	a,(bc)
1505  04A6  5F          	ld	e,a
1506  04A7  3A 00 00    	ld	a,(_dirs_last)
1507  04AA  D6 02       	sub	a,0x02
1508  04AC  28 0B       	jr	Z,l_player_handle_lock_00102
1509  04AE  21 00 00    	ld	hl,_dirs_last
1510  04B1  36 02       	ld	(hl),0x02
1511  04B3  CB 83       	res	0, e
1512  04B5  7B          	ld	a, e
1513  04B6  02          	ld	(bc), a
1514  04B7  18 04       	jr	l_player_handle_lock_00105
1515  04B9              l_player_handle_lock_00102:
1516  04B9  7B          	ld	a, e
1517  04BA  F6 01       	or	a,0x01
1518  04BC  02          	ld	(bc), a
1519  04BD              l_player_handle_lock_00105:
1520  04BD  21 00 00    	ld	hl,_dirs
1521  04C0  CB 56       	bit	2, (hl)
1522  04C2  28 1B       	jr	Z,l_player_handle_lock_00112
1523  04C4  ED 4B 00 00 	ld	bc,(_p_state_a)
1524  04C8  0A          	ld	a,(bc)
1525  04C9  5F          	ld	e,a
1526  04CA  3A 00 00    	ld	a,(_dirs_last)
1527  04CD  3D          	dec	a
1528  04CE  28 0B       	jr	Z,l_player_handle_lock_00107
1529  04D0  21 00 00    	ld	hl,_dirs_last
1530  04D3  36 01       	ld	(hl),0x01
1531  04D5  CB 83       	res	0, e
1532  04D7  7B          	ld	a, e
1533  04D8  02          	ld	(bc), a
1534  04D9  18 04       	jr	l_player_handle_lock_00112
1535  04DB              l_player_handle_lock_00107:
1536  04DB  7B          	ld	a, e
1537  04DC  F6 01       	or	a,0x01
1538  04DE  02          	ld	(bc), a
1539  04DF              l_player_handle_lock_00112:
1540  04DF  21 00 00    	ld	hl,_dirs
1541  04E2  CB 5E       	bit	3,(hl)
1542  04E4  C0          	ret	NZ
1543  04E5  CB 56       	bit	2, (hl)
1544  04E7  C0          	ret	NZ
1545  04E8  ED 4B 00 00 	ld	bc,(_p_state_a)
1546  04EC  0A          	ld	a,(bc)
1547  04ED  E6 FE       	and	a,0xfe
1548  04EF  02          	ld	(bc), a
1549  04F0  C9          	ret
1550  04F1              	SECTION code_compiler
1551  04F1              ;	---------------------------------
1552  04F1              ; Function player_handle_walk
1553  04F1              ; ---------------------------------
1554  04F1              _player_handle_walk:
1555  04F1  2A 00 00    	ld	hl,(_p_state)
1556  04F4  7E          	ld	a,(hl)
1557  04F5  CB 67       	bit	4, a
1558  04F7  20 34       	jr	NZ,l_player_handle_walk_00111
1559  04F9  21 00 00    	ld	hl,_dirs
1560  04FC  CB 5E       	bit	3, (hl)
1561  04FE  28 0E       	jr	Z,l_player_handle_walk_00104
1562  0500  CB 5F       	bit	3, a
1563  0502  28 07       	jr	Z,l_player_handle_walk_00102
1564  0504  01 0F 00    	ld	bc,_colint+15
1565  0507  0A          	ld	a, (bc)
1566  0508  C6 FF       	add	a,0xff
1567  050A  02          	ld	(bc), a
1568  050B              l_player_handle_walk_00102:
1569  050B  CD 00 00    	call	_spr_set_right
1570  050E              l_player_handle_walk_00104:
1571  050E  21 00 00    	ld	hl,_dirs
1572  0511  CB 56       	bit	2, (hl)
1573  0513  28 10       	jr	Z,l_player_handle_walk_00108
1574  0515  2A 00 00    	ld	hl,(_p_state)
1575  0518  CB 56       	bit	2,(hl)
1576  051A  28 06       	jr	Z,l_player_handle_walk_00106
1577  051C  01 0F 00    	ld	bc,_colint+15
1578  051F  0A          	ld	a, (bc)
1579  0520  3C          	inc	a
1580  0521  02          	ld	(bc), a
1581  0522              l_player_handle_walk_00106:
1582  0522  CD 00 00    	call	_spr_set_left
1583  0525              l_player_handle_walk_00108:
1584  0525  21 08 04    	ld	hl,0x0408
1585  0528  E5          	push	hl
1586  0529  CD 10 08    	call	_player_tile
1587  052C  F1          	pop	af
1588  052D              l_player_handle_walk_00111:
1589  052D  C9          	ret
1590  052E              	SECTION code_compiler
1591  052E              ;	---------------------------------
1592  052E              ; Function player_handle_fall
1593  052E              ; ---------------------------------
1594  052E              _player_handle_fall:
1595  052E  AF          	xor	a, a
1596  052F  F5          	push	af
1597  0530  33          	inc	sp
1598  0531  CD 5D 0A    	call	_player_check_floor
1599  0534  33          	inc	sp
1600  0535  7D          	ld	a, l
1601  0536  B7          	or	a, a
1602  0537  C8          	ret	Z
1603  0538  3E 01       	ld	a,0x01
1604  053A  F5          	push	af
1605  053B  33          	inc	sp
1606  053C  CD 5D 0A    	call	_player_check_floor
1607  053F  33          	inc	sp
1608  0540  7D          	ld	a, l
1609  0541  B7          	or	a, a
1610  0542  C8          	ret	Z
1611  0543  3A 0F 00    	ld	a,(_lin + 0x000f)
1612  0546  32 00 00    	ld	(_player_jump_top),a
1613  0549  ED 4B 00 00 	ld	bc,(_p_state)
1614  054D  0A          	ld	a,(bc)
1615  054E  F6 02       	or	a,0x02
1616  0550  02          	ld	(bc),a
1617  0551  ED 4B 00 00 	ld	bc,(_p_state)
1618  0555  0A          	ld	a,(bc)
1619  0556  E6 F7       	and	a,0xf7
1620  0558  02          	ld	(bc),a
1621  0559  ED 4B 00 00 	ld	bc,(_p_state)
1622  055D  0A          	ld	a,(bc)
1623  055E  E6 FB       	and	a,0xfb
1624  0560  02          	ld	(bc), a
1625  0561  21 00 00    	ld	hl,_player_jump_count
1626  0564  36 FF       	ld	(hl),0xff
1627  0566  C3 00 00    	jp  _audio_fall
1628  0569              	SECTION code_compiler
1629  0569              ;	---------------------------------
1630  0569              ; Function player_handle_conveyor
1631  0569              ; ---------------------------------
1632  0569              _player_handle_conveyor:
1633  0569  CD 09 0A    	call	_player_check_conveyor
1634  056C  2A 00 00    	ld	hl,(_p_state)
1635  056F  CB 66       	bit	4,(hl)
1636  0571  28 2B       	jr	Z,l_player_handle_conveyor_00106
1637  0573  3A 00 00    	ld	a,(_game_conveyor_dir)
1638  0576  D6 02       	sub	a,0x02
1639  0578  20 0F       	jr	NZ,l_player_handle_conveyor_00102
1640  057A  CD 00 00    	call	_spr_set_right
1641  057D  21 08 04    	ld	hl,0x0408
1642  0580  E5          	push	hl
1643  0581  CD 10 08    	call	_player_tile
1644  0584  F1          	pop	af
1645  0585  2E 01       	ld	l,0x01
1646  0587  18 17       	jr	l_player_handle_conveyor_00107
1647  0589              l_player_handle_conveyor_00102:
1648  0589  3A 00 00    	ld	a,(_game_conveyor_dir)
1649  058C  3D          	dec	a
1650  058D  20 0F       	jr	NZ,l_player_handle_conveyor_00106
1651  058F  CD 00 00    	call	_spr_set_left
1652  0592  21 08 04    	ld	hl,0x0408
1653  0595  E5          	push	hl
1654  0596  CD 10 08    	call	_player_tile
1655  0599  F1          	pop	af
1656  059A  2E 01       	ld	l,0x01
1657  059C  18 02       	jr	l_player_handle_conveyor_00107
1658  059E              l_player_handle_conveyor_00106:
1659  059E  2E 00       	ld	l,0x00
1660  05A0              l_player_handle_conveyor_00107:
1661  05A0  C9          	ret
1662  05A1              	SECTION code_compiler
1663  05A1              ;	---------------------------------
1664  05A1              ; Function player_new_jump
1665  05A1              ; ---------------------------------
1666  05A1              _player_new_jump:
1667  05A1  21 0F 00    	ld	hl,+(_col + 0x000f)
1668  05A4  56          	ld	d, (hl)
1669  05A5  21 0F 00    	ld	hl,+(_lin + 0x000f)
1670  05A8  46          	ld	b, (hl)
1671  05A9  05          	dec	b
1672  05AA  05          	dec	b
1673  05AB  58          	ld	e,b
1674  05AC  D5          	push	de
1675  05AD  CD 78 09    	call	_player_check_ceil
1676  05B0  F1          	pop	af
1677  05B1  7D          	ld	a, l
1678  05B2  B7          	or	a, a
1679  05B3  CA 61 06    	jp	Z, l_player_new_jump_00120
1680  05B6  3A 00 00    	ld	a,(_game_mode)
1681  05B9  B7          	or	a, a
1682  05BA  20 0E       	jr	NZ,l_player_new_jump_00102
1683  05BC  21 64 00    	ld	hl,0x0064
1684  05BF  22 00 00    	ld	(_game_gravity),hl
1685  05C2  21 A8 FD    	ld	hl,0xfda8
1686  05C5  22 00 00    	ld	(_player_vel_y0),hl
1687  05C8  18 0C       	jr	l_player_new_jump_00103
1688  05CA              l_player_new_jump_00102:
1689  05CA  21 64 00    	ld	hl,0x0064
1690  05CD  22 00 00    	ld	(_game_gravity),hl
1691  05D0  21 A8 FD    	ld	hl,0xfda8
1692  05D3  22 00 00    	ld	(_player_vel_y0),hl
1693  05D6              l_player_new_jump_00103:
1694  05D6  21 00 00    	ld	hl,_player_vel_inc
1695  05D9  36 01       	ld	(hl),0x01
1696  05DB  21 00 00    	ld	hl,_player_jump_count
1697  05DE  36 FF       	ld	(hl),0xff
1698  05E0  CD 00 00    	call	_audio_jump
1699  05E3  CD 00 00    	call	_spr_set_up
1700  05E6  2A 00 00    	ld	hl,(_player_vel_y0)
1701  05E9  22 00 00    	ld	(_player_vel_y),hl
1702  05EC  CD 69 05    	call	_player_handle_conveyor
1703  05EF  7D          	ld	a, l
1704  05F0  B7          	or	a, a
1705  05F1  28 32       	jr	Z,l_player_new_jump_00116
1706  05F3  2A 00 00    	ld	hl,(_p_state_a)
1707  05F6  7E          	ld	a,(hl)
1708  05F7  CB 47       	bit	0, a
1709  05F9  28 20       	jr	Z,l_player_new_jump_00109
1710  05FB  CB 4F       	bit	1, a
1711  05FD  20 1C       	jr	NZ,l_player_new_jump_00109
1712  05FF  21 00 00    	ld	hl,_dirs
1713  0602  CB 56       	bit	2, (hl)
1714  0604  28 03       	jr	Z,l_player_new_jump_00105
1715  0606  CD 00 00    	call	_spr_set_left
1716  0609              l_player_new_jump_00105:
1717  0609  21 00 00    	ld	hl,_dirs
1718  060C  CB 5E       	bit	3, (hl)
1719  060E  28 03       	jr	Z,l_player_new_jump_00107
1720  0610  CD 00 00    	call	_spr_set_right
1721  0613              l_player_new_jump_00107:
1722  0613  21 08 04    	ld	hl,0x0408
1723  0616  E5          	push	hl
1724  0617  CD 10 08    	call	_player_tile
1725  061A  F1          	pop	af
1726  061B              l_player_new_jump_00109:
1727  061B  ED 4B 00 00 	ld	bc,(_p_state_a)
1728  061F  0A          	ld	a,(bc)
1729  0620  F6 02       	or	a,0x02
1730  0622  02          	ld	(bc), a
1731  0623  18 2C       	jr	l_player_new_jump_00117
1732  0625              l_player_new_jump_00116:
1733  0625  ED 4B 00 00 	ld	bc,(_p_state)
1734  0629  0A          	ld	a,(bc)
1735  062A  E6 F7       	and	a,0xf7
1736  062C  02          	ld	(bc),a
1737  062D  ED 4B 00 00 	ld	bc,(_p_state)
1738  0631  0A          	ld	a,(bc)
1739  0632  E6 FB       	and	a,0xfb
1740  0634  02          	ld	(bc), a
1741  0635  21 00 00    	ld	hl,_dirs
1742  0638  CB 56       	bit	2, (hl)
1743  063A  28 03       	jr	Z,l_player_new_jump_00112
1744  063C  CD 00 00    	call	_spr_set_left
1745  063F              l_player_new_jump_00112:
1746  063F  21 00 00    	ld	hl,_dirs
1747  0642  CB 5E       	bit	3, (hl)
1748  0644  28 03       	jr	Z,l_player_new_jump_00114
1749  0646  CD 00 00    	call	_spr_set_right
1750  0649              l_player_new_jump_00114:
1751  0649  21 08 04    	ld	hl,0x0408
1752  064C  E5          	push	hl
1753  064D  CD 10 08    	call	_player_tile
1754  0650  F1          	pop	af
1755  0651              l_player_new_jump_00117:
1756  0651  ED 4B 00 00 	ld	bc,(_p_state)
1757  0655  0A          	ld	a,(bc)
1758  0656  E6 EF       	and	a,0xef
1759  0658  02          	ld	(bc), a
1760  0659  ED 4B 00 00 	ld	bc,(_p_state_a)
1761  065D  0A          	ld	a,(bc)
1762  065E  E6 FD       	and	a,0xfd
1763  0660  02          	ld	(bc), a
1764  0661              l_player_new_jump_00120:
1765  0661  C9          	ret
1766  0662              	SECTION code_compiler
1767  0662              ;	---------------------------------
1768  0662              ; Function player_collision
1769  0662              ; ---------------------------------
1770  0662              _player_collision:
1771  0662  ED 4B 00 00 	ld	bc,(_p_state)
1772  0666  0A          	ld	a,(bc)
1773  0667  E6 DF       	and	a,0xdf
1774  0669  02          	ld	(bc), a
1775  066A  21 0F 00    	ld	hl,+(_col + 0x000f)
1776  066D  56          	ld	d, (hl)
1777  066E  21 0F 00    	ld	hl,+(_lin + 0x000f)
1778  0671  5E          	ld	e, (hl)
1779  0672  D5          	push	de
1780  0673  CD 00 00    	call	_spr_calc_index
1781  0676  F1          	pop	af
1782  0677  22 00 00    	ld	(_index1),hl
1783  067A  CD 85 07    	call	_player_pick
1784  067D  21 0F 00    	ld	hl,+(_col + 0x000f)
1785  0680  56          	ld	d, (hl)
1786  0681  3A 0F 00    	ld	a,(_lin + 0x000f)
1787  0684  C6 0E       	add	a,0x0e
1788  0686  5F          	ld	e, a
1789  0687  D5          	push	de
1790  0688  CD 00 00    	call	_spr_calc_index
1791  068B  F1          	pop	af
1792  068C  22 00 00    	ld	(_index1),hl
1793  068F  CD 85 07    	call	_player_pick
1794  0692  21 0F 00    	ld	hl,+(_col + 0x000f)
1795  0695  56          	ld	d, (hl)
1796  0696  14          	inc	d
1797  0697  21 0F 00    	ld	hl,+(_lin + 0x000f)
1798  069A  5E          	ld	e, (hl)
1799  069B  D5          	push	de
1800  069C  CD 00 00    	call	_spr_calc_index
1801  069F  F1          	pop	af
1802  06A0  22 00 00    	ld	(_index1),hl
1803  06A3  CD 85 07    	call	_player_pick
1804  06A6  21 0F 00    	ld	hl,+(_col + 0x000f)
1805  06A9  56          	ld	d, (hl)
1806  06AA  14          	inc	d
1807  06AB  3A 0F 00    	ld	a,(_lin + 0x000f)
1808  06AE  C6 0E       	add	a,0x0e
1809  06B0  5F          	ld	e, a
1810  06B1  D5          	push	de
1811  06B2  CD 00 00    	call	_spr_calc_index
1812  06B5  F1          	pop	af
1813  06B6  22 00 00    	ld	(_index1),hl
1814  06B9  CD 85 07    	call	_player_pick
1815  06BC  21 00 00    	ld	hl,_i
1816  06BF  36 00       	ld	(hl),0x00
1817  06C1              l_player_collision_00119:
1818  06C1  2A 00 00    	ld	hl,(_i)
1819  06C4  26 00       	ld	h,0x00
1820  06C6  01 00 00    	ld	bc,_class
1821  06C9  09          	add	hl,bc
1822  06CA  7E          	ld	a,(hl)
1823  06CB  B7          	or	a,a
1824  06CC  CA 79 07    	jp	Z,l_player_collision_00120
1825  06CF  2A 00 00    	ld	hl,(_i)
1826  06D2  26 00       	ld	h,0x00
1827  06D4  01 00 00    	ld	bc,_col
1828  06D7  09          	add	hl,bc
1829  06D8  4E          	ld	c, (hl)
1830  06D9  06 00       	ld	b,0x00
1831  06DB  ED 5B 0F 00 	ld	de,(_col + 0x000f)
1832  06DF  50          	ld	d,b
1833  06E0  79          	ld	a, c
1834  06E1  93          	sub	a, e
1835  06E2  6F          	ld	l, a
1836  06E3  78          	ld	a, b
1837  06E4  9A          	sbc	a, d
1838  06E5  67          	ld	h, a
1839  06E6  CD 00 00    	call	_abs_fastcall
1840  06E9  7D          	ld	a,l
1841  06EA  32 00 00    	ld	(_v0),a
1842  06ED  D6 02       	sub	a,0x02
1843  06EF  D2 79 07    	jp	NC, l_player_collision_00120
1844  06F2  2A 00 00    	ld	hl,(_i)
1845  06F5  26 00       	ld	h,0x00
1846  06F7  01 00 00    	ld	bc,_lin
1847  06FA  09          	add	hl,bc
1848  06FB  4E          	ld	c,(hl)
1849  06FC  06 00       	ld	b,0x00
1850  06FE  ED 5B 0F 00 	ld	de,(_lin + 0x000f)
1851  0702  50          	ld	d,b
1852  0703  79          	ld	a, c
1853  0704  93          	sub	a, e
1854  0705  6F          	ld	l, a
1855  0706  78          	ld	a, b
1856  0707  9A          	sbc	a, d
1857  0708  67          	ld	h, a
1858  0709  CD 00 00    	call	_abs_fastcall
1859  070C  7D          	ld	a,l
1860  070D  32 00 00    	ld	(_v0),a
1861  0710  2A 00 00    	ld	hl,(_i)
1862  0713  26 00       	ld	h,0x00
1863  0715  01 00 00    	ld	bc,_lin
1864  0718  09          	add	hl,bc
1865  0719  4E          	ld	c,(hl)
1866  071A  21 0F 00    	ld	hl,+(_lin + 0x000f)
1867  071D  46          	ld	b, (hl)
1868  071E  79          	ld	a, c
1869  071F  90          	sub	a, b
1870  0720  30 13       	jr	NC,l_player_collision_00108
1871  0722  21 00 00    	ld	hl,_v0
1872  0725  7E          	ld	a, (hl)
1873  0726  D6 10       	sub	a,0x10
1874  0728  30 04       	jr	NC,l_player_collision_00102
1875  072A  36 01       	ld	(hl),0x01
1876  072C  18 18       	jr	l_player_collision_00109
1877  072E              l_player_collision_00102:
1878  072E  21 00 00    	ld	hl,_v0
1879  0731  36 00       	ld	(hl),0x00
1880  0733  18 11       	jr	l_player_collision_00109
1881  0735              l_player_collision_00108:
1882  0735  21 00 00    	ld	hl,_v0
1883  0738  7E          	ld	a, (hl)
1884  0739  D6 0E       	sub	a,0x0e
1885  073B  30 04       	jr	NC,l_player_collision_00105
1886  073D  36 01       	ld	(hl),0x01
1887  073F  18 05       	jr	l_player_collision_00109
1888  0741              l_player_collision_00105:
1889  0741  21 00 00    	ld	hl,_v0
1890  0744  36 00       	ld	(hl),0x00
1891  0746              l_player_collision_00109:
1892  0746  3A 00 00    	ld	a,(_v0)
1893  0749  B7          	or	a, a
1894  074A  28 2D       	jr	Z,l_player_collision_00120
1895  074C  2A 00 00    	ld	hl,(_i)
1896  074F  26 00       	ld	h,0x00
1897  0751  01 00 00    	ld	bc,_colint
1898  0754  09          	add	hl,bc
1899  0755  4E          	ld	c,(hl)
1900  0756  06 00       	ld	b,0x00
1901  0758  ED 5B 0F 00 	ld	de,(_colint + 15)
1902  075C  50          	ld	d,b
1903  075D  79          	ld	a, c
1904  075E  93          	sub	a, e
1905  075F  6F          	ld	l, a
1906  0760  78          	ld	a, b
1907  0761  9A          	sbc	a, d
1908  0762  67          	ld	h, a
1909  0763  CD 00 00    	call	_abs_fastcall
1910  0766  7D          	ld	a,l
1911  0767  32 00 00    	ld	(_v0),a
1912  076A  D6 02       	sub	a,0x02
1913  076C  30 0B       	jr	NC,l_player_collision_00120
1914  076E  21 FF FF    	ld	hl,0xffff
1915  0771  22 00 00    	ld	(_player_kill_index),hl
1916  0774  21 00 00    	ld	hl,_player_killed
1917  0777  36 01       	ld	(hl),0x01
1918  0779              l_player_collision_00120:
1919  0779  21 00 00    	ld	hl,_i
1920  077C  7E          	ld	a,(hl)
1921  077D  3C          	inc	a
1922  077E  77          	ld	(hl),a
1923  077F  D6 0F       	sub	a,0x0f
1924  0781  DA C1 06    	jp	C, l_player_collision_00119
1925  0784  C9          	ret
1926  0785              	SECTION code_compiler
1927  0785              ;	---------------------------------
1928  0785              ; Function player_pick
1929  0785              ; ---------------------------------
1930  0785              _player_pick:
1931  0785  01 00 00    	ld	bc,_scr_map
1932  0788  2A 00 00    	ld	hl,(_index1)
1933  078B  09          	add	hl,bc
1934  078C  7E          	ld	a,(hl)
1935  078D  32 00 00    	ld	(_v0),a
1936  0790  F5          	push	af
1937  0791  33          	inc	sp
1938  0792  CD 8F 08    	call	_player_pick_deadly
1939  0795  33          	inc	sp
1940  0796  7D          	ld	a,l
1941  0797  32 00 00    	ld	(_v0),a
1942  079A  F5          	push	af
1943  079B  33          	inc	sp
1944  079C  CD C4 08    	call	_player_pick_exit
1945  079F  33          	inc	sp
1946  07A0  7D          	ld	a,l
1947  07A1  32 00 00    	ld	(_v0),a
1948  07A4  2A 00 00    	ld	hl,(_index1)
1949  07A7  E5          	push	hl
1950  07A8  F5          	push	af
1951  07A9  33          	inc	sp
1952  07AA  CD 4A 08    	call	_player_pick_item
1953  07AD  F1          	pop	af
1954  07AE  33          	inc	sp
1955  07AF  7D          	ld	a,l
1956  07B0  32 00 00    	ld	(_v0),a
1957  07B3  F5          	push	af
1958  07B4  33          	inc	sp
1959  07B5  CD E0 08    	call	_player_pick_extra
1960  07B8  33          	inc	sp
1961  07B9  7D          	ld	a,l
1962  07BA  32 00 00    	ld	(_v0),a
1963  07BD  C9          	ret
1964  07BE              	SECTION code_compiler
1965  07BE              ;	---------------------------------
1966  07BE              ; Function player_check_input
1967  07BE              ; ---------------------------------
1968  07BE              _player_check_input:
1969  07BE  21 00 00    	ld	hl,_dirs
1970  07C1  CB 56       	bit	2,(hl)
1971  07C3  28 06       	jr	Z,l_player_check_input_00102
1972  07C5  CB 5E       	bit	3,(hl)
1973  07C7  28 02       	jr	Z,l_player_check_input_00102
1974  07C9  36 00       	ld	(hl),0x00
1975  07CB              l_player_check_input_00102:
1976  07CB  21 00 00    	ld	hl,_dirs
1977  07CE  CB 56       	bit	2,(hl)
1978  07D0  20 08       	jr	NZ,l_player_check_input_00104
1979  07D2  CB 5E       	bit	3,(hl)
1980  07D4  20 04       	jr	NZ,l_player_check_input_00104
1981  07D6  CB 7E       	bit	7, (hl)
1982  07D8  28 04       	jr	Z,l_player_check_input_00105
1983  07DA              l_player_check_input_00104:
1984  07DA  2E 01       	ld	l,0x01
1985  07DC  18 02       	jr	l_player_check_input_00108
1986  07DE              l_player_check_input_00105:
1987  07DE  2E 00       	ld	l,0x00
1988  07E0              l_player_check_input_00108:
1989  07E0  C9          	ret
1990  07E1              	SECTION code_compiler
1991  07E1              ;	---------------------------------
1992  07E1              ; Function player_1up
1993  07E1              ; ---------------------------------
1994  07E1              _player_1up:
1995  07E1  21 00 00    	ld	hl,_player_lives
1996  07E4  7E          	ld	a, (hl)
1997  07E5  D6 64       	sub	a,0x64
1998  07E7  D0          	ret	NC
1999  07E8  34          	inc	(hl)
2000  07E9  CD 00 00    	call	_spr_flatten
2001  07EC  21 19 00    	ld	hl,___str_2
2002  07EF  E5          	push	hl
2003  07F0  21 0C 0C    	ld	hl,0x0c0c
2004  07F3  E5          	push	hl
2005  07F4  CD 00 00    	call	_zx_print_str
2006  07F7  AF          	xor	a, a
2007  07F8  F5          	push	af
2008  07F9  33          	inc	sp
2009  07FA  21 19 00    	ld	hl,0x0019
2010  07FD  E5          	push	hl
2011  07FE  21 0C 11    	ld	hl,0x110c
2012  0801  E5          	push	hl
2013  0802  3E 0C       	ld	a,0x0c
2014  0804  F5          	push	af
2015  0805  33          	inc	sp
2016  0806  CD 00 00    	call	_game_colour_message
2017  0809  F1          	pop	af
2018  080A  F1          	pop	af
2019  080B  F1          	pop	af
2020  080C  CD 00 00    	call	_spr_unflattenP1
2021  080F  C9          	ret
2022  0810              	SECTION rodata_compiler
2023  0019              ___str_2:
2024  0019  31 20 55 50 21 
                        	DEFM "1 UP!"
2025  001E  00          	DEFB 0x00
2026  001F              	SECTION code_compiler
2027  0810              ;	---------------------------------
2028  0810              ; Function player_tile
2029  0810              ; ---------------------------------
2030  0810              _player_tile:
2031  0810  CD 00 00    	call	___sdcc_enter_ix
2032  0813  21 05 00    	ld	hl,0x0005
2033  0816  39          	add	hl, sp
2034  0817  EB          	ex	de,hl
2035  0818  21 04 00    	ld	hl,0x0004
2036  081B  39          	add	hl, sp
2037  081C  D5          	push	de
2038  081D  E5          	push	hl
2039  081E  CD 00 00    	call	_spr_get_tile_dir
2040  0821  F1          	pop	af
2041  0822  F1          	pop	af
2042  0823  7D          	ld	a,l
2043  0824  32 0F 00    	ld	((_tile + 0x000f)),a
2044  0827  DD E1       	pop	ix
2045  0829  C9          	ret
2046  082A              	SECTION code_compiler
2047  082A              ;	---------------------------------
2048  082A              ; Function player_score_add
2049  082A              ; ---------------------------------
2050  082A              _player_score_add:
2051  082A  ED 4B 00 00 	ld	bc,(_player_score)
2052  082E  09          	add	hl,bc
2053  082F  22 00 00    	ld	(_player_score),hl
2054  0832  3A 00 00    	ld	a,(_game_score_top)
2055  0835  21 00 00    	ld	hl,_player_score
2056  0838  96          	sub	a, (hl)
2057  0839  3A 01 00    	ld	a,(_game_score_top + 1)
2058  083C  23          	inc	hl
2059  083D  9E          	sbc	a, (hl)
2060  083E  D2 00 00    	jp	NC,_game_print_score
2061  0841  2A 00 00    	ld	hl,(_player_score)
2062  0844  22 00 00    	ld	(_game_score_top),hl
2063  0847  C3 00 00    	jp  _game_print_score
2064  084A              	SECTION code_compiler
2065  084A              ;	---------------------------------
2066  084A              ; Function player_pick_item
2067  084A              ; ---------------------------------
2068  084A              _player_pick_item:
2069  084A  CD 00 00    	call	___sdcc_enter_ix
2070  084D  DD 7E 04    	ld	a,(ix+4)
2071  0850  D6 08       	sub	a,0x08
2072  0852  20 35       	jr	NZ,l_player_pick_item_00104
2073  0854  21 64 00    	ld	hl,0x0064
2074  0857  CD 2A 08    	call	_player_score_add
2075  085A  3E 00       	ld	a, +((_scr_map) & 0xFF)
2076  085C  DD 86 05    	add	a,(ix+5)
2077  085F  4F          	ld	c, a
2078  0860  3E 00       	ld	a, +((_scr_map) / 256)
2079  0862  DD 8E 06    	adc	a,(ix+6)
2080  0865  47          	ld	b, a
2081  0866  AF          	xor	a, a
2082  0867  02          	ld	(bc), a
2083  0868  21 00 00    	ld	hl,_player_coins
2084  086B  34          	inc	(hl)
2085  086C  CD 00 00    	call	_audio_coin
2086  086F  3A 00 00    	ld	a,(_obj_count)
2087  0872  21 00 00    	ld	hl,_player_coins
2088  0875  96          	sub	a, (hl)
2089  0876  20 0D       	jr	NZ,l_player_pick_item_00102
2090  0878  3E 80       	ld	a,0x80
2091  087A  F5          	push	af
2092  087B  33          	inc	sp
2093  087C  CD 00 00    	call	_game_flash_exit
2094  087F  33          	inc	sp
2095  0880  21 00 00    	ld	hl,_obj_count
2096  0883  36 FF       	ld	(hl),0xff
2097  0885              l_player_pick_item_00102:
2098  0885  2E 00       	ld	l,0x00
2099  0887  18 03       	jr	l_player_pick_item_00105
2100  0889              l_player_pick_item_00104:
2101  0889  DD 6E 04    	ld	l,(ix+4)
2102  088C              l_player_pick_item_00105:
2103  088C  DD E1       	pop	ix
2104  088E  C9          	ret
2105  088F              	SECTION code_compiler
2106  088F              ;	---------------------------------
2107  088F              ; Function player_pick_deadly
2108  088F              ; ---------------------------------
2109  088F              _player_pick_deadly:
2110  088F  CD 00 00    	call	___sdcc_enter_ix
2111  0892  3E 00       	ld	a, +((_tile_class) & 0xFF)
2112  0894  DD 86 04    	add	a,(ix+4)
2113  0897  4F          	ld	c, a
2114  0898  3E 00       	ld	a, +((_tile_class) / 256)
2115  089A  CE 00       	adc	a,0x00
2116  089C  47          	ld	b, a
2117  089D  0A          	ld	a, (bc)
2118  089E  DD 77 04    	ld	(ix+4),a
2119  08A1  D6 05       	sub	a,0x05
2120  08A3  20 19       	jr	NZ,l_player_pick_deadly_00102
2121  08A5  21 00 00    	ld	hl,_player_killed
2122  08A8  36 01       	ld	(hl),0x01
2123  08AA  2A 00 00    	ld	hl,(_index1)
2124  08AD  22 00 00    	ld	(_player_kill_index),hl
2125  08B0  21 00 00    	ld	hl,_v0
2126  08B3  36 00       	ld	(hl),0x00
2127  08B5  21 00 00    	ld	hl,_v1
2128  08B8  36 00       	ld	(hl),0x00
2129  08BA  2E 00       	ld	l,0x00
2130  08BC  18 03       	jr	l_player_pick_deadly_00103
2131  08BE              l_player_pick_deadly_00102:
2132  08BE  DD 6E 04    	ld	l,(ix+4)
2133  08C1              l_player_pick_deadly_00103:
2134  08C1  DD E1       	pop	ix
2135  08C3  C9          	ret
2136  08C4              	SECTION code_compiler
2137  08C4              ;	---------------------------------
2138  08C4              ; Function player_pick_exit
2139  08C4              ; ---------------------------------
2140  08C4              _player_pick_exit:
2141  08C4  CD 00 00    	call	___sdcc_enter_ix
2142  08C7  DD 7E 04    	ld	a,(ix+4)
2143  08CA  D6 20       	sub	a,0x20
2144  08CC  20 0C       	jr	NZ,l_player_pick_exit_00102
2145  08CE  ED 4B 00 00 	ld	bc,(_p_state)
2146  08D2  0A          	ld	a,(bc)
2147  08D3  F6 20       	or	a,0x20
2148  08D5  02          	ld	(bc), a
2149  08D6  2E 00       	ld	l,0x00
2150  08D8  18 03       	jr	l_player_pick_exit_00103
2151  08DA              l_player_pick_exit_00102:
2152  08DA  DD 6E 04    	ld	l,(ix+4)
2153  08DD              l_player_pick_exit_00103:
2154  08DD  DD E1       	pop	ix
2155  08DF  C9          	ret
2156  08E0              	SECTION code_compiler
2157  08E0              ;	---------------------------------
2158  08E0              ; Function player_pick_extra
2159  08E0              ; ---------------------------------
2160  08E0              _player_pick_extra:
2161  08E0  CD 00 00    	call	___sdcc_enter_ix
2162  08E3  DD 7E 04    	ld	a,(ix+4)
2163  08E6  D6 06       	sub	a,0x06
2164  08E8  C2 72 09    	jp	NZ,l_player_pick_extra_00110
2165  08EB  3A 00 00    	ld	a,(_scr_curr)
2166  08EE  FE 07       	cp	a,0x07
2167  08F0  28 04       	jr	Z,l_player_pick_extra_00106
2168  08F2  D6 0B       	sub	a,0x0b
2169  08F4  20 78       	jr	NZ,l_player_pick_extra_00107
2170  08F6              l_player_pick_extra_00106:
2171  08F6  01 00 00    	ld	bc,_scr_map
2172  08F9  2A 00 00    	ld	hl,(_index1)
2173  08FC  09          	add	hl,bc
2174  08FD  36 08       	ld	(hl),0x08
2175  08FF  CD 00 00    	call	_game_cell_paint_index
2176  0902  21 00 00    	ld	hl,_index1
2177  0905  7E          	ld	a, (hl)
2178  0906  D6 05       	sub	a,0x05
2179  0908  23          	inc	hl
2180  0909  B6          	or	a, (hl)
2181  090A  28 0A       	jr	Z,l_player_pick_extra_00101
2182  090C  21 00 00    	ld	hl,_index1
2183  090F  7E          	ld	a, (hl)
2184  0910  D6 06       	sub	a,0x06
2185  0912  23          	inc	hl
2186  0913  B6          	or	a, (hl)
2187  0914  20 21       	jr	NZ,l_player_pick_extra_00102
2188  0916              l_player_pick_extra_00101:
2189  0916  21 71 01    	ld	hl,0x0171
2190  0919  22 00 00    	ld	(_index1),hl
2191  091C  21 71 01    	ld	hl, +(_scr_map + 0x0171)
2192  091F  36 00       	ld	(hl),0x00
2193  0921  CD 00 00    	call	_game_cell_paint_index
2194  0924  21 91 01    	ld	hl,0x0191
2195  0927  22 00 00    	ld	(_index1),hl
2196  092A  21 91 01    	ld	hl, +(_scr_map + 0x0191)
2197  092D  36 00       	ld	(hl),0x00
2198  092F  CD 00 00    	call	_game_cell_paint_index
2199  0932  21 02 00    	ld	hl, +(_value_b + 0x0002)
2200  0935  36 12       	ld	(hl),0x12
2201  0937              l_player_pick_extra_00102:
2202  0937  21 00 00    	ld	hl,_index1
2203  093A  7E          	ld	a, (hl)
2204  093B  D6 12       	sub	a,0x12
2205  093D  23          	inc	hl
2206  093E  B6          	or	a, (hl)
2207  093F  20 2D       	jr	NZ,l_player_pick_extra_00107
2208  0941  01 00 00    	ld	bc,_tile+0
2209  0944  0A          	ld	a, (bc)
2210  0945  C6 02       	add	a,0x02
2211  0947  02          	ld	(bc), a
2212  0948  21 00 00    	ld	hl,_spr_kind
2213  094B  36 07       	ld	(hl),0x07
2214  094D  21 00 00    	ld	hl,_spr_speed
2215  0950  36 04       	ld	(hl),0x04
2216  0952  21 4F 00    	ld	hl,0x004f
2217  0955  22 00 00    	ld	(_index1),hl
2218  0958  21 4F 00    	ld	hl, +(_scr_map + 0x004f)
2219  095B  36 00       	ld	(hl),0x00
2220  095D  CD 00 00    	call	_game_cell_paint_index
2221  0960  21 50 00    	ld	hl,0x0050
2222  0963  22 00 00    	ld	(_index1),hl
2223  0966  21 50 00    	ld	hl, +(_scr_map + 0x0050)
2224  0969  36 00       	ld	(hl),0x00
2225  096B  CD 00 00    	call	_game_cell_paint_index
2226  096E              l_player_pick_extra_00107:
2227  096E  2E 00       	ld	l,0x00
2228  0970  18 03       	jr	l_player_pick_extra_00111
2229  0972              l_player_pick_extra_00110:
2230  0972  DD 6E 04    	ld	l,(ix+4)
2231  0975              l_player_pick_extra_00111:
2232  0975  DD E1       	pop	ix
2233  0977  C9          	ret
2234  0978              	SECTION code_compiler
2235  0978              ;	---------------------------------
2236  0978              ; Function player_check_ceil
2237  0978              ; ---------------------------------
2238  0978              _player_check_ceil:
2239  0978  CD 00 00    	call	___sdcc_enter_ix
2240  097B  3A 0F 00    	ld	a,(_colint + 0x000f)
2241  097E  D6 03       	sub	a,0x03
2242  0980  30 18       	jr	NC,l_player_check_ceil_00102
2243  0982  DD 66 05    	ld	h,(ix+5)
2244  0985  DD 6E 04    	ld	l,(ix+4)
2245  0988  E5          	push	hl
2246  0989  CD 00 00    	call	_spr_calc_index
2247  098C  F1          	pop	af
2248  098D  22 00 00    	ld	(_index1),hl
2249  0990  01 00 00    	ld	bc,_scr_map
2250  0993  09          	add	hl,bc
2251  0994  7E          	ld	a,(hl)
2252  0995  32 00 00    	ld	(_v0),a
2253  0998  18 05       	jr	l_player_check_ceil_00103
2254  099A              l_player_check_ceil_00102:
2255  099A  21 00 00    	ld	hl,_v0
2256  099D  36 00       	ld	(hl),0x00
2257  099F              l_player_check_ceil_00103:
2258  099F  3A 0F 00    	ld	a,(_colint + 0x000f)
2259  09A2  B7          	or	a, a
2260  09A3  28 19       	jr	Z,l_player_check_ceil_00105
2261  09A5  DD 46 05    	ld	b,(ix+5)
2262  09A8  04          	inc	b
2263  09A9  DD 4E 04    	ld	c,(ix+4)
2264  09AC  C5          	push	bc
2265  09AD  CD 00 00    	call	_spr_calc_index
2266  09B0  F1          	pop	af
2267  09B1  22 00 00    	ld	(_index1),hl
2268  09B4  01 00 00    	ld	bc,_scr_map
2269  09B7  09          	add	hl,bc
2270  09B8  7E          	ld	a,(hl)
2271  09B9  32 00 00    	ld	(_v1),a
2272  09BC  18 05       	jr	l_player_check_ceil_00106
2273  09BE              l_player_check_ceil_00105:
2274  09BE  21 00 00    	ld	hl,_v1
2275  09C1  36 00       	ld	(hl),0x00
2276  09C3              l_player_check_ceil_00106:
2277  09C3  3E 1F       	ld	a,0x1f
2278  09C5  21 00 00    	ld	hl,_v0
2279  09C8  96          	sub	a, (hl)
2280  09C9  30 02       	jr	NC,l_player_check_ceil_00108
2281  09CB  36 00       	ld	(hl),0x00
2282  09CD              l_player_check_ceil_00108:
2283  09CD  3E 1F       	ld	a,0x1f
2284  09CF  21 00 00    	ld	hl,_v1
2285  09D2  96          	sub	a, (hl)
2286  09D3  30 02       	jr	NC,l_player_check_ceil_00110
2287  09D5  36 00       	ld	(hl),0x00
2288  09D7              l_player_check_ceil_00110:
2289  09D7  01 00 00    	ld	bc,_tile_class+0
2290  09DA  79          	ld	a, c
2291  09DB  21 00 00    	ld	hl,_v0
2292  09DE  86          	add	a, (hl)
2293  09DF  5F          	ld	e, a
2294  09E0  78          	ld	a, b
2295  09E1  CE 00       	adc	a,0x00
2296  09E3  57          	ld	d, a
2297  09E4  1A          	ld	a, (de)
2298  09E5  77          	ld	(hl), a
2299  09E6  79          	ld	a, c
2300  09E7  21 00 00    	ld	hl,_v1
2301  09EA  86          	add	a, (hl)
2302  09EB  4F          	ld	c, a
2303  09EC  78          	ld	a, b
2304  09ED  CE 00       	adc	a,0x00
2305  09EF  47          	ld	b, a
2306  09F0  0A          	ld	a, (bc)
2307  09F1  77          	ld	(hl), a
2308  09F2  3A 00 00    	ld	a,(_v0)
2309  09F5  D6 03       	sub	a,0x03
2310  09F7  28 0B       	jr	Z,l_player_check_ceil_00112
2311  09F9  3A 00 00    	ld	a,(_v1)
2312  09FC  D6 03       	sub	a,0x03
2313  09FE  28 04       	jr	Z,l_player_check_ceil_00112
2314  0A00  2E 01       	ld	l,0x01
2315  0A02  18 02       	jr	l_player_check_ceil_00114
2316  0A04              l_player_check_ceil_00112:
2317  0A04  2E 00       	ld	l,0x00
2318  0A06              l_player_check_ceil_00114:
2319  0A06  DD E1       	pop	ix
2320  0A08  C9          	ret
2321  0A09              	SECTION code_compiler
2322  0A09              ;	---------------------------------
2323  0A09              ; Function player_check_conveyor
2324  0A09              ; ---------------------------------
2325  0A09              _player_check_conveyor:
2326  0A09  21 0F 00    	ld	hl,+(_col + 0x000f)
2327  0A0C  56          	ld	d, (hl)
2328  0A0D  3A 0F 00    	ld	a,(_lin + 0x000f)
2329  0A10  C6 10       	add	a,0x10
2330  0A12  5F          	ld	e, a
2331  0A13  D5          	push	de
2332  0A14  CD 00 00    	call	_spr_calc_index
2333  0A17  F1          	pop	af
2334  0A18  22 00 00    	ld	(_index1),hl
2335  0A1B  01 00 00    	ld	bc,_tile_class+0
2336  0A1E  11 00 00    	ld	de,_scr_map
2337  0A21  2A 00 00    	ld	hl,(_index1)
2338  0A24  19          	add	hl,de
2339  0A25  6E          	ld	l,(hl)
2340  0A26  26 00       	ld	h,0x00
2341  0A28  09          	add	hl, bc
2342  0A29  7E          	ld	a, (hl)
2343  0A2A  32 00 00    	ld	(_v0),a
2344  0A2D  ED 5B 00 00 	ld	de,(_index1)
2345  0A31  13          	inc	de
2346  0A32  21 00 00    	ld	hl,_scr_map
2347  0A35  19          	add	hl, de
2348  0A36  6E          	ld	l, (hl)
2349  0A37  26 00       	ld	h,0x00
2350  0A39  09          	add	hl, bc
2351  0A3A  7E          	ld	a, (hl)
2352  0A3B  32 00 00    	ld	(_v1),a
2353  0A3E  ED 4B 00 00 	ld	bc,(_p_state)
2354  0A42  0A          	ld	a,(bc)
2355  0A43  5F          	ld	e,a
2356  0A44  3A 00 00    	ld	a,(_v0)
2357  0A47  D6 04       	sub	a,0x04
2358  0A49  28 07       	jr	Z,l_player_check_conveyor_00101
2359  0A4B  3A 00 00    	ld	a,(_v1)
2360  0A4E  D6 04       	sub	a,0x04
2361  0A50  20 06       	jr	NZ,l_player_check_conveyor_00102
2362  0A52              l_player_check_conveyor_00101:
2363  0A52  7B          	ld	a, e
2364  0A53  F6 10       	or	a,0x10
2365  0A55  02          	ld	(bc), a
2366  0A56  18 04       	jr	l_player_check_conveyor_00105
2367  0A58              l_player_check_conveyor_00102:
2368  0A58  CB A3       	res	4, e
2369  0A5A  7B          	ld	a, e
2370  0A5B  02          	ld	(bc), a
2371  0A5C              l_player_check_conveyor_00105:
2372  0A5C  C9          	ret
2373  0A5D              	SECTION code_compiler
2374  0A5D              ;	---------------------------------
2375  0A5D              ; Function player_check_floor
2376  0A5D              ; ---------------------------------
2377  0A5D              _player_check_floor:
2378  0A5D  CD 00 00    	call	___sdcc_enter_ix
2379  0A60  F5          	push	af
2380  0A61  3B          	dec	sp
2381  0A62  3A 0F 00    	ld	a,(_col + 0x000f)
2382  0A65  DD 86 04    	add	a,(ix+4)
2383  0A68  57          	ld	d, a
2384  0A69  3A 0F 00    	ld	a,(_lin + 0x000f)
2385  0A6C  C6 10       	add	a,0x10
2386  0A6E  5F          	ld	e, a
2387  0A6F  D5          	push	de
2388  0A70  CD 00 00    	call	_spr_calc_index
2389  0A73  F1          	pop	af
2390  0A74  22 00 00    	ld	(_index1),hl
2391  0A77  3E 1F       	ld	a,0x1f
2392  0A79  21 00 00    	ld	hl,_v0
2393  0A7C  96          	sub	a, (hl)
2394  0A7D  30 02       	jr	NC,l_player_check_floor_00102
2395  0A7F  36 00       	ld	(hl),0x00
2396  0A81              l_player_check_floor_00102:
2397  0A81  01 00 00    	ld	bc,_scr_map+0
2398  0A84  2A 00 00    	ld	hl,(_index1)
2399  0A87  09          	add	hl,bc
2400  0A88  7E          	ld	a,(hl)
2401  0A89  EB          	ex	de,hl
2402  0A8A  DD 77 FD    	ld	(ix-3),a
2403  0A8D  C6 00       	add	a,+((_tile_class) & 0xFF)
2404  0A8F  6F          	ld	l, a
2405  0A90  3E 00       	ld	a, +((_tile_class) / 256)
2406  0A92  CE 00       	adc	a,0x00
2407  0A94  67          	ld	h, a
2408  0A95  7E          	ld	a, (hl)
2409  0A96  32 00 00    	ld	(_v0),a
2410  0A99  2A 00 00    	ld	hl,(_p_state)
2411  0A9C  DD 75 FE    	ld	(ix-2),l
2412  0A9F  7C          	ld	a,h
2413  0AA0  DD 6E FE    	ld	l,(ix-2)
2414  0AA3  DD 77 FF    	ld	(ix-1),a
2415  0AA6  67          	ld	h,a
2416  0AA7  7E          	ld	a, (hl)
2417  0AA8  DD 77 FE    	ld	(ix-2),a
2418  0AAB  CB 57       	bit	2,a
2419  0AAD  28 11       	jr	Z,l_player_check_floor_00104
2420  0AAF  DD 7E 04    	ld	a,(ix+4)
2421  0AB2  3D          	dec	a
2422  0AB3  20 0B       	jr	NZ,l_player_check_floor_00104
2423  0AB5  3A 0F 00    	ld	a,(_colint + 0x000f)
2424  0AB8  B7          	or	a, a
2425  0AB9  20 05       	jr	NZ,l_player_check_floor_00104
2426  0ABB  21 00 00    	ld	hl,_v0
2427  0ABE  36 00       	ld	(hl),0x00
2428  0AC0              l_player_check_floor_00104:
2429  0AC0  DD CB FE 5E 	bit	3,(ix-2)
2430  0AC4  28 12       	jr	Z,l_player_check_floor_00108
2431  0AC6  DD 7E 04    	ld	a,(ix+4)
2432  0AC9  B7          	or	a, a
2433  0ACA  20 0C       	jr	NZ,l_player_check_floor_00108
2434  0ACC  3A 0F 00    	ld	a,(_colint + 0x000f)
2435  0ACF  D6 03       	sub	a,0x03
2436  0AD1  20 05       	jr	NZ,l_player_check_floor_00108
2437  0AD3  21 00 00    	ld	hl,_v0
2438  0AD6  36 00       	ld	(hl),0x00
2439  0AD8              l_player_check_floor_00108:
2440  0AD8  3A 00 00    	ld	a,(_v0)
2441  0ADB  B7          	or	a, a
2442  0ADC  28 0B       	jr	Z,l_player_check_floor_00111
2443  0ADE  D6 08       	sub	a,0x08
2444  0AE0  28 07       	jr	Z,l_player_check_floor_00111
2445  0AE2  3A 00 00    	ld	a,(_v0)
2446  0AE5  D6 05       	sub	a,0x05
2447  0AE7  20 04       	jr	NZ,l_player_check_floor_00112
2448  0AE9              l_player_check_floor_00111:
2449  0AE9  2E 01       	ld	l,0x01
2450  0AEB  18 77       	jr	l_player_check_floor_00122
2451  0AED              l_player_check_floor_00112:
2452  0AED  3A 00 00    	ld	a,(_v0)
2453  0AF0  D6 02       	sub	a,0x02
2454  0AF2  20 6E       	jr	NZ,l_player_check_floor_00121
2455  0AF4  3A 0F 00    	ld	a,(_col + 0x000f)
2456  0AF7  DD 77 FE    	ld	(ix-2),a
2457  0AFA  DD 86 04    	add	a,(ix+4)
2458  0AFD  32 00 00    	ld	(_s_col1),a
2459  0B00  DD 7E FD    	ld	a,(ix-3)
2460  0B03  D6 02       	sub	a,0x02
2461  0B05  20 05       	jr	NZ,l_player_check_floor_00118
2462  0B07  3E 09       	ld	a,0x09
2463  0B09  12          	ld	(de), a
2464  0B0A  18 25       	jr	l_player_check_floor_00119
2465  0B0C              l_player_check_floor_00118:
2466  0B0C  DD 7E FD    	ld	a,(ix-3)
2467  0B0F  3C          	inc	a
2468  0B10  12          	ld	(de), a
2469  0B11  79          	ld	a, c
2470  0B12  21 00 00    	ld	hl,_index1
2471  0B15  86          	add	a, (hl)
2472  0B16  DD 77 FE    	ld	(ix-2),a
2473  0B19  78          	ld	a, b
2474  0B1A  23          	inc	hl
2475  0B1B  8E          	adc	a, (hl)
2476  0B1C  DD 6E FE    	ld	l,(ix-2)
2477  0B1F  DD 77 FF    	ld	(ix-1),a
2478  0B22  67          	ld	h,a
2479  0B23  5E          	ld	e, (hl)
2480  0B24  3E 0B       	ld	a,0x0b
2481  0B26  93          	sub	a, e
2482  0B27  30 08       	jr	NC,l_player_check_floor_00119
2483  0B29  DD 6E FE    	ld	l,(ix-2)
2484  0B2C  DD 66 FF    	ld	h,(ix-1)
2485  0B2F  36 00       	ld	(hl),0x00
2486  0B31              l_player_check_floor_00119:
2487  0B31  ED 5B 0F 00 	ld	de,(_lin + 0x000f)
2488  0B35  16 00       	ld	d,0x00
2489  0B37  21 10 00    	ld	hl,0x0010
2490  0B3A  19          	add	hl, de
2491  0B3B  7D          	ld	a,l
2492  0B3C  2E 03       	ld	l,0x03
2493  0B3E              l_player_check_floor_00185:
2494  0B3E  CB 2C       	sra	h
2495  0B40  1F          	rra
2496  0B41  2D          	dec	l
2497  0B42  20 FA       	jr	NZ,l_player_check_floor_00185
2498  0B44  3C          	inc	a
2499  0B45  07          	rlca
2500  0B46  07          	rlca
2501  0B47  07          	rlca
2502  0B48  E6 F8       	and	a,0xf8
2503  0B4A  32 00 00    	ld	(_s_row1),a
2504  0B4D  2A 00 00    	ld	hl,(_index1)
2505  0B50  09          	add	hl,bc
2506  0B51  46          	ld	b, (hl)
2507  0B52  3A 00 00    	ld	a,(_s_col1)
2508  0B55  F5          	push	af
2509  0B56  33          	inc	sp
2510  0B57  3A 00 00    	ld	a,(_s_row1)
2511  0B5A  48          	ld	c,b
2512  0B5B  47          	ld	b,a
2513  0B5C  C5          	push	bc
2514  0B5D  CD 00 00    	call	_spr_draw8
2515  0B60  F1          	pop	af
2516  0B61  33          	inc	sp
2517  0B62              l_player_check_floor_00121:
2518  0B62  2E 00       	ld	l,0x00
2519  0B64              l_player_check_floor_00122:
2520  0B64  DD F9       	ld	sp, ix
2521  0B66  DD E1       	pop	ix
2522  0B68  C9          	ret
2523  0B69              	SECTION code_compiler
2524  0B69              ;	---------------------------------
2525  0B69              ; Function player_get_floor
2526  0B69              ; ---------------------------------
2527  0B69              _player_get_floor:
2528  0B69  CD 00 00    	call	___sdcc_enter_ix
2529  0B6C  F5          	push	af
2530  0B6D  21 0F 00    	ld	hl,+(_col + 0x000f)
2531  0B70  56          	ld	d, (hl)
2532  0B71  3A 0F 00    	ld	a,(_lin + 0x000f)
2533  0B74  C6 10       	add	a,0x10
2534  0B76  5F          	ld	e, a
2535  0B77  D5          	push	de
2536  0B78  CD 00 00    	call	_spr_calc_index
2537  0B7B  F1          	pop	af
2538  0B7C  22 00 00    	ld	(_index1),hl
2539  0B7F  21 00 00    	ld	hl,_i
2540  0B82  36 00       	ld	(hl),0x00
2541  0B84  01 00 00    	ld	bc,_scr_map+0
2542  0B87  3A 0F 00    	ld	a,(_colint + 0x000f)
2543  0B8A  DD 77 FF    	ld	(ix-1),a
2544  0B8D  D6 03       	sub	a,0x03
2545  0B8F  20 04       	jr	NZ,l_player_get_floor_00178
2546  0B91  3E 01       	ld	a,0x01
2547  0B93  18 01       	jr	l_player_get_floor_00179
2548  0B95              l_player_get_floor_00178:
2549  0B95  AF          	xor	a,a
2550  0B96              l_player_get_floor_00179:
2551  0B96  DD 77 FE    	ld	(ix-2),a
2552  0B99              l_player_get_floor_00121:
2553  0B99  3A 00 00    	ld	a,(_i)
2554  0B9C  D6 10       	sub	a,0x10
2555  0B9E  D2 51 0C    	jp	NC, l_player_get_floor_00123
2556  0BA1  2A 00 00    	ld	hl,(_index1)
2557  0BA4  09          	add	hl,bc
2558  0BA5  7E          	ld	a,(hl)
2559  0BA6  32 00 00    	ld	(_v0),a
2560  0BA9  ED 5B 00 00 	ld	de,(_index1)
2561  0BAD  13          	inc	de
2562  0BAE  69          	ld	l, c
2563  0BAF  60          	ld	h, b
2564  0BB0  19          	add	hl, de
2565  0BB1  7E          	ld	a, (hl)
2566  0BB2  32 00 00    	ld	(_v1),a
2567  0BB5  3E 1F       	ld	a,0x1f
2568  0BB7  21 00 00    	ld	hl,_v0
2569  0BBA  96          	sub	a, (hl)
2570  0BBB  30 02       	jr	NC,l_player_get_floor_00102
2571  0BBD  36 00       	ld	(hl),0x00
2572  0BBF              l_player_get_floor_00102:
2573  0BBF  3E 1F       	ld	a,0x1f
2574  0BC1  21 00 00    	ld	hl,_v1
2575  0BC4  96          	sub	a, (hl)
2576  0BC5  30 02       	jr	NC,l_player_get_floor_00104
2577  0BC7  36 00       	ld	(hl),0x00
2578  0BC9              l_player_get_floor_00104:
2579  0BC9  2A 00 00    	ld	hl,(_v0)
2580  0BCC  26 00       	ld	h,0x00
2581  0BCE  11 00 00    	ld	de,_tile_class
2582  0BD1  19          	add	hl,de
2583  0BD2  7E          	ld	a,(hl)
2584  0BD3  32 00 00    	ld	(_v0),a
2585  0BD6  2A 00 00    	ld	hl,(_v1)
2586  0BD9  26 00       	ld	h,0x00
2587  0BDB  11 00 00    	ld	de,_tile_class
2588  0BDE  19          	add	hl,de
2589  0BDF  7E          	ld	a,(hl)
2590  0BE0  32 00 00    	ld	(_v1),a
2591  0BE3  3A 00 00    	ld	a,(_player_jump_count)
2592  0BE6  D6 0A       	sub	a,0x0a
2593  0BE8  30 1D       	jr	NC,l_player_get_floor_00112
2594  0BEA  21 00 00    	ld	hl,_v1
2595  0BED  7E          	ld	a, (hl)
2596  0BEE  B7          	or	a, a
2597  0BEF  28 07       	jr	Z,l_player_get_floor_00106
2598  0BF1  DD 7E FF    	ld	a,(ix-1)
2599  0BF4  B7          	or	a,a
2600  0BF5  20 01       	jr	NZ,l_player_get_floor_00106
2601  0BF7  77          	ld	(hl),a
2602  0BF8              l_player_get_floor_00106:
2603  0BF8  21 00 00    	ld	hl,_v0
2604  0BFB  7E          	ld	a, (hl)
2605  0BFC  B7          	or	a, a
2606  0BFD  28 08       	jr	Z,l_player_get_floor_00112
2607  0BFF  DD 7E FE    	ld	a,(ix-2)
2608  0C02  B7          	or	a, a
2609  0C03  28 02       	jr	Z,l_player_get_floor_00112
2610  0C05  36 00       	ld	(hl),0x00
2611  0C07              l_player_get_floor_00112:
2612  0C07  3A 00 00    	ld	a,(_v0)
2613  0C0A  B7          	or	a, a
2614  0C0B  28 0B       	jr	Z,l_player_get_floor_00120
2615  0C0D  D6 08       	sub	a,0x08
2616  0C0F  28 07       	jr	Z,l_player_get_floor_00120
2617  0C11  3A 00 00    	ld	a,(_v0)
2618  0C14  D6 05       	sub	a,0x05
2619  0C16  20 22       	jr	NZ,l_player_get_floor_00114
2620  0C18              l_player_get_floor_00120:
2621  0C18  3A 00 00    	ld	a,(_v1)
2622  0C1B  B7          	or	a, a
2623  0C1C  28 0B       	jr	Z,l_player_get_floor_00113
2624  0C1E  D6 08       	sub	a,0x08
2625  0C20  28 07       	jr	Z,l_player_get_floor_00113
2626  0C22  3A 00 00    	ld	a,(_v1)
2627  0C25  D6 05       	sub	a,0x05
2628  0C27  20 11       	jr	NZ,l_player_get_floor_00114
2629  0C29              l_player_get_floor_00113:
2630  0C29  2A 00 00    	ld	hl,(_index1)
2631  0C2C  11 20 00    	ld	de,0x0020
2632  0C2F  19          	add	hl,de
2633  0C30  22 00 00    	ld	(_index1),hl
2634  0C33  21 00 00    	ld	hl,_i
2635  0C36  34          	inc	(hl)
2636  0C37  C3 99 0B    	jp	l_player_get_floor_00121
2637  0C3A              l_player_get_floor_00114:
2638  0C3A  2A 00 00    	ld	hl,(_index1)
2639  0C3D  4D          	ld	c,l
2640  0C3E  5C          	ld	e,h
2641  0C3F  06 05       	ld	b,0x05
2642  0C41  79          	ld	a,c
2643  0C42              l_player_get_floor_00186:
2644  0C42  CB 3B       	srl	e
2645  0C44  1F          	rra
2646  0C45  10 FB       	djnz	l_player_get_floor_00186
2647  0C47  07          	rlca
2648  0C48  07          	rlca
2649  0C49  07          	rlca
2650  0C4A  E6 F8       	and	a,0xf8
2651  0C4C  C6 F0       	add	a,0xf0
2652  0C4E  6F          	ld	l, a
2653  0C4F  18 02       	jr	l_player_get_floor_00124
2654  0C51              l_player_get_floor_00123:
2655  0C51  2E 68       	ld	l,0x68
2656  0C53              l_player_get_floor_00124:
2657  0C53  F1          	pop	af
2658  0C54  DD E1       	pop	ix
2659  0C56  C9          	ret
2660  0C57              	SECTION code_compiler
2661  0C57              ;	---------------------------------
2662  0C57              ; Function player_lost_life
2663  0C57              ; ---------------------------------
2664  0C57              _player_lost_life:
2665  0C57  CD 00 00    	call	___sdcc_enter_ix
2666  0C5A  F5          	push	af
2667  0C5B  CD 00 00    	call	_ay_reset
2668  0C5E  CD 00 00    	call	_audio_dead
2669  0C61  4F          	ld	c, a
2670  0C62              l_player_lost_life_00104:
2671  0C62  79          	ld	a, c
2672  0C63  D6 20       	sub	a,0x20
2673  0C65  30 79       	jr	NC,l_player_lost_life_00106
2674  0C67  21 00 00    	ld	hl,_player_kill_index
2675  0C6A  7E          	ld	a, (hl)
2676  0C6B  3C          	inc	a
2677  0C6C  20 05       	jr	NZ,l_player_lost_life_00135
2678  0C6E  23          	inc	hl
2679  0C6F  7E          	ld	a, (hl)
2680  0C70  3C          	inc	a
2681  0C71  28 3D       	jr	Z,l_player_lost_life_00102
2682  0C73              l_player_lost_life_00135:
2683  0C73  2A 00 00    	ld	hl,(_player_kill_index)
2684  0C76  22 00 00    	ld	(_index1),hl
2685  0C79  21 0F 00    	ld	hl,+(_col + 0x000f)
2686  0C7C  56          	ld	d, (hl)
2687  0C7D  3A 0F 00    	ld	a,(_lin + 0x000f)
2688  0C80  C6 10       	add	a,0x10
2689  0C82  5F          	ld	e, a
2690  0C83  3A 0F 00    	ld	a,(_tile + 0x000f)
2691  0C86  DD 77 FF    	ld	(ix-1),a
2692  0C89  2A 0F 00    	ld	hl,(_colint + 0x000f)
2693  0C8C  DD 7E FF    	ld	a,(ix-1)
2694  0C8F  85          	add	a, l
2695  0C90  47          	ld	b, a
2696  0C91  C5          	push	bc
2697  0C92  D5          	push	de
2698  0C93  0E 05       	ld	c,0x05
2699  0C95  C5          	push	bc
2700  0C96  CD 00 00    	call	_NIRVANAP_spriteT_callee
2701  0C99  C1          	pop	bc
2702  0C9A  76          	halt
2703  0C9B  C5          	push	bc
2704  0C9C  21 00 00    	ld	hl,0x0000
2705  0C9F  E5          	push	hl
2706  0CA0  2E 05       	ld	l,0x05
2707  0CA2  E5          	push	hl
2708  0CA3  CD 00 00    	call	_NIRVANAP_spriteT_callee
2709  0CA6  C1          	pop	bc
2710  0CA7  76          	halt
2711  0CA8  C5          	push	bc
2712  0CA9  CD 00 00    	call	_game_cell_paint_index
2713  0CAC  C1          	pop	bc
2714  0CAD  76          	halt
2715  0CAE  18 2C       	jr	l_player_lost_life_00103
2716  0CB0              l_player_lost_life_00102:
2717  0CB0  21 0F 00    	ld	hl,+(_col + 0x000f)
2718  0CB3  46          	ld	b, (hl)
2719  0CB4  3A 0F 00    	ld	a,(_lin + 0x000f)
2720  0CB7  C6 10       	add	a,0x10
2721  0CB9  57          	ld	d, a
2722  0CBA  21 0F 00    	ld	hl,+(_tile + 0x000f)
2723  0CBD  5E          	ld	e, (hl)
2724  0CBE  2A 0F 00    	ld	hl,(_colint + 0x000f)
2725  0CC1  7B          	ld	a, e
2726  0CC2  85          	add	a, l
2727  0CC3  C5          	push	bc
2728  0CC4  4A          	ld	c, d
2729  0CC5  C5          	push	bc
2730  0CC6  57          	ld	d,a
2731  0CC7  1E 05       	ld	e,0x05
2732  0CC9  D5          	push	de
2733  0CCA  CD 00 00    	call	_NIRVANAP_spriteT_callee
2734  0CCD  C1          	pop	bc
2735  0CCE  76          	halt
2736  0CCF  C5          	push	bc
2737  0CD0  21 00 00    	ld	hl,0x0000
2738  0CD3  E5          	push	hl
2739  0CD4  2E 05       	ld	l,0x05
2740  0CD6  E5          	push	hl
2741  0CD7  CD 00 00    	call	_NIRVANAP_spriteT_callee
2742  0CDA  C1          	pop	bc
2743  0CDB  76          	halt
2744  0CDC              l_player_lost_life_00103:
2745  0CDC  0C          	inc	c
2746  0CDD  C3 62 0C    	jp	l_player_lost_life_00104
2747  0CE0              l_player_lost_life_00106:
2748  0CE0  3A 0F 00    	ld	a,(_lin + 0x000f)
2749  0CE3  32 00 00    	ld	(_s_lin0),a
2750  0CE6  3A 0F 00    	ld	a,(_col + 0x000f)
2751  0CE9  32 00 00    	ld	(_s_col0),a
2752  0CEC  3A 00 00    	ld	a,(_game_inf_lives)
2753  0CEF  B7          	or	a, a
2754  0CF0  20 04       	jr	NZ,l_player_lost_life_00108
2755  0CF2  21 00 00    	ld	hl,_player_lives
2756  0CF5  35          	dec	(hl)
2757  0CF6              l_player_lost_life_00108:
2758  0CF6  3A 00 00    	ld	a,(_player_lives)
2759  0CF9  B7          	or	a, a
2760  0CFA  28 05       	jr	Z,l_player_lost_life_00110
2761  0CFC  CD 00 00    	call	_game_round_init
2762  0CFF  18 0A       	jr	l_player_lost_life_00112
2763  0D01              l_player_lost_life_00110:
2764  0D01  21 00 00    	ld	hl,_player_lives
2765  0D04  36 00       	ld	(hl),0x00
2766  0D06  21 00 00    	ld	hl,_game_over
2767  0D09  36 01       	ld	(hl),0x01
2768  0D0B              l_player_lost_life_00112:
2769  0D0B  F1          	pop	af
2770  0D0C  DD E1       	pop	ix
2771  0D0E  C9          	ret
2772  0D0F              	SECTION IGNORE
2773  0000              
