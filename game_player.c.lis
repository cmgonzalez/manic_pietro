1     0000              MODULE game_player_c
2     0000              LINE -1, "game_player.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _player_1up
204   0000              	GLOBAL _player_init
205   0000              	GLOBAL _player_turn
206   0000              	GLOBAL _player_move
207   0000              	GLOBAL _player_check_input
208   0000              	GLOBAL _player_new_jump
209   0000              	GLOBAL _player_move_input
210   0000              	GLOBAL _player_tile
211   0000              	GLOBAL _player_score_add
212   0000              	GLOBAL _player_check_floor
213   0000              	GLOBAL _player_check_floor1
214   0000              	GLOBAL _player_check_ceil
215   0000              	GLOBAL _player_gasta_brick
216   0000              	GLOBAL _player_move_jump
217   0000              	GLOBAL _player_lost_life
218   0000              	GLOBAL _player_damage
219   0000              ;--------------------------------------------------------
220   0000              ; Externals used
221   0000              ;--------------------------------------------------------
222   0000              	GLOBAL _ulltoa_callee
223   0000              	GLOBAL _ulltoa
224   0000              	GLOBAL _strtoull_callee
225   0000              	GLOBAL _strtoull
226   0000              	GLOBAL _strtoll_callee
227   0000              	GLOBAL _strtoll
228   0000              	GLOBAL _lltoa_callee
229   0000              	GLOBAL _lltoa
230   0000              	GLOBAL _llabs_callee
231   0000              	GLOBAL _llabs
232   0000              	GLOBAL __lldivu__callee
233   0000              	GLOBAL __lldivu_
234   0000              	GLOBAL __lldiv__callee
235   0000              	GLOBAL __lldiv_
236   0000              	GLOBAL _atoll_callee
237   0000              	GLOBAL _atoll
238   0000              	GLOBAL _realloc_unlocked_callee
239   0000              	GLOBAL _realloc_unlocked
240   0000              	GLOBAL _malloc_unlocked_fastcall
241   0000              	GLOBAL _malloc_unlocked
242   0000              	GLOBAL _free_unlocked_fastcall
243   0000              	GLOBAL _free_unlocked
244   0000              	GLOBAL _calloc_unlocked_callee
245   0000              	GLOBAL _calloc_unlocked
246   0000              	GLOBAL _aligned_alloc_unlocked_callee
247   0000              	GLOBAL _aligned_alloc_unlocked
248   0000              	GLOBAL _realloc_callee
249   0000              	GLOBAL _realloc
250   0000              	GLOBAL _malloc_fastcall
251   0000              	GLOBAL _malloc
252   0000              	GLOBAL _free_fastcall
253   0000              	GLOBAL _free
254   0000              	GLOBAL _calloc_callee
255   0000              	GLOBAL _calloc
256   0000              	GLOBAL _aligned_alloc_callee
257   0000              	GLOBAL _aligned_alloc
258   0000              	GLOBAL _utoa_callee
259   0000              	GLOBAL _utoa
260   0000              	GLOBAL _ultoa_callee
261   0000              	GLOBAL _ultoa
262   0000              	GLOBAL _system_fastcall
263   0000              	GLOBAL _system
264   0000              	GLOBAL _strtoul_callee
265   0000              	GLOBAL _strtoul
266   0000              	GLOBAL _strtol_callee
267   0000              	GLOBAL _strtol
268   0000              	GLOBAL _strtof_callee
269   0000              	GLOBAL _strtof
270   0000              	GLOBAL _strtod_callee
271   0000              	GLOBAL _strtod
272   0000              	GLOBAL _srand_fastcall
273   0000              	GLOBAL _srand
274   0000              	GLOBAL _rand
275   0000              	GLOBAL _quick_exit_fastcall
276   0000              	GLOBAL _quick_exit
277   0000              	GLOBAL _qsort_callee
278   0000              	GLOBAL _qsort
279   0000              	GLOBAL _ltoa_callee
280   0000              	GLOBAL _ltoa
281   0000              	GLOBAL _labs_fastcall
282   0000              	GLOBAL _labs
283   0000              	GLOBAL _itoa_callee
284   0000              	GLOBAL _itoa
285   0000              	GLOBAL _ftoh_callee
286   0000              	GLOBAL _ftoh
287   0000              	GLOBAL _ftog_callee
288   0000              	GLOBAL _ftog
289   0000              	GLOBAL _ftoe_callee
290   0000              	GLOBAL _ftoe
291   0000              	GLOBAL _ftoa_callee
292   0000              	GLOBAL _ftoa
293   0000              	GLOBAL _exit_fastcall
294   0000              	GLOBAL _exit
295   0000              	GLOBAL _dtoh_callee
296   0000              	GLOBAL _dtoh
297   0000              	GLOBAL _dtog_callee
298   0000              	GLOBAL _dtog
299   0000              	GLOBAL _dtoe_callee
300   0000              	GLOBAL _dtoe
301   0000              	GLOBAL _dtoa_callee
302   0000              	GLOBAL _dtoa
303   0000              	GLOBAL _bsearch_callee
304   0000              	GLOBAL _bsearch
305   0000              	GLOBAL _atol_fastcall
306   0000              	GLOBAL _atol
307   0000              	GLOBAL _atoi_fastcall
308   0000              	GLOBAL _atoi
309   0000              	GLOBAL _atof_fastcall
310   0000              	GLOBAL _atof
311   0000              	GLOBAL _atexit_fastcall
312   0000              	GLOBAL _atexit
313   0000              	GLOBAL _at_quick_exit_fastcall
314   0000              	GLOBAL _at_quick_exit
315   0000              	GLOBAL _abs_fastcall
316   0000              	GLOBAL _abs
317   0000              	GLOBAL _abort
318   0000              	GLOBAL __strtou__callee
319   0000              	GLOBAL __strtou_
320   0000              	GLOBAL __strtoi__callee
321   0000              	GLOBAL __strtoi_
322   0000              	GLOBAL __random_uniform_xor_8__fastcall
323   0000              	GLOBAL __random_uniform_xor_8_
324   0000              	GLOBAL __random_uniform_xor_32__fastcall
325   0000              	GLOBAL __random_uniform_xor_32_
326   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
327   0000              	GLOBAL __random_uniform_cmwc_8_
328   0000              	GLOBAL __shellsort__callee
329   0000              	GLOBAL __shellsort_
330   0000              	GLOBAL __quicksort__callee
331   0000              	GLOBAL __quicksort_
332   0000              	GLOBAL __insertion_sort__callee
333   0000              	GLOBAL __insertion_sort_
334   0000              	GLOBAL __ldivu__callee
335   0000              	GLOBAL __ldivu_
336   0000              	GLOBAL __ldiv__callee
337   0000              	GLOBAL __ldiv_
338   0000              	GLOBAL __divu__callee
339   0000              	GLOBAL __divu_
340   0000              	GLOBAL __div__callee
341   0000              	GLOBAL __div_
342   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
343   0000              	GLOBAL _NIRVANAP_drawTW_raw
344   0000              	GLOBAL _NIRVANAP_drawTW_callee
345   0000              	GLOBAL _NIRVANAP_drawTW
346   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
347   0000              	GLOBAL _NIRVANAP_drawW_raw
348   0000              	GLOBAL _NIRVANAP_drawW_callee
349   0000              	GLOBAL _NIRVANAP_drawW
350   0000              	GLOBAL _NIRVANAP_spriteT_callee
351   0000              	GLOBAL _NIRVANAP_spriteT
352   0000              	GLOBAL _NIRVANAP_fillC_callee
353   0000              	GLOBAL _NIRVANAP_fillC
354   0000              	GLOBAL _NIRVANAP_readC_callee
355   0000              	GLOBAL _NIRVANAP_readC
356   0000              	GLOBAL _NIRVANAP_paintC_callee
357   0000              	GLOBAL _NIRVANAP_paintC
358   0000              	GLOBAL _NIRVANAP_printC_callee
359   0000              	GLOBAL _NIRVANAP_printC
360   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
361   0000              	GLOBAL _NIRVANAP_fillT_raw
362   0000              	GLOBAL _NIRVANAP_fillT_callee
363   0000              	GLOBAL _NIRVANAP_fillT
364   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
365   0000              	GLOBAL _NIRVANAP_drawT_raw
366   0000              	GLOBAL _NIRVANAP_drawT_callee
367   0000              	GLOBAL _NIRVANAP_drawT
368   0000              	GLOBAL _NIRVANAP_stop
369   0000              	GLOBAL _NIRVANAP_start
370   0000              	GLOBAL _zx_print_str
371   0000              	GLOBAL _zx_print_int
372   0000              	GLOBAL _zx_print_chr
373   0000              	GLOBAL _zx_print_bonus_time
374   0000              	GLOBAL _zx_isr
375   0000              	GLOBAL _z80_otdr_callee
376   0000              	GLOBAL _z80_otdr
377   0000              	GLOBAL _z80_otir_callee
378   0000              	GLOBAL _z80_otir
379   0000              	GLOBAL _z80_outp_callee
380   0000              	GLOBAL _z80_outp
381   0000              	GLOBAL _z80_indr_callee
382   0000              	GLOBAL _z80_indr
383   0000              	GLOBAL _z80_inir_callee
384   0000              	GLOBAL _z80_inir
385   0000              	GLOBAL _z80_inp_fastcall
386   0000              	GLOBAL _z80_inp
387   0000              	GLOBAL _z80_set_int_state_fastcall
388   0000              	GLOBAL _z80_set_int_state
389   0000              	GLOBAL _z80_get_int_state
390   0000              	GLOBAL _z80_delay_tstate_fastcall
391   0000              	GLOBAL _z80_delay_tstate
392   0000              	GLOBAL _z80_delay_ms_fastcall
393   0000              	GLOBAL _z80_delay_ms
394   0000              	GLOBAL _im2_remove_generic_callback_callee
395   0000              	GLOBAL _im2_remove_generic_callback
396   0000              	GLOBAL _im2_prepend_generic_callback_callee
397   0000              	GLOBAL _im2_prepend_generic_callback
398   0000              	GLOBAL _im2_append_generic_callback_callee
399   0000              	GLOBAL _im2_append_generic_callback
400   0000              	GLOBAL _im2_create_generic_isr_8080_callee
401   0000              	GLOBAL _im2_create_generic_isr_8080
402   0000              	GLOBAL _im2_create_generic_isr_callee
403   0000              	GLOBAL _im2_create_generic_isr
404   0000              	GLOBAL _im2_install_isr_callee
405   0000              	GLOBAL _im2_install_isr
406   0000              	GLOBAL _im2_init_fastcall
407   0000              	GLOBAL _im2_init
408   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_word_32
410   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_32
412   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
413   0000              	GLOBAL _intrinsic_swap_endian_16
414   0000              	GLOBAL _intrinsic_return_de
415   0000              	GLOBAL _intrinsic_return_bc
416   0000              	GLOBAL _intrinsic_exx
417   0000              	GLOBAL _intrinsic_ex_de_hl
418   0000              	GLOBAL _intrinsic_nop
419   0000              	GLOBAL _intrinsic_im_2
420   0000              	GLOBAL _intrinsic_im_1
421   0000              	GLOBAL _intrinsic_im_0
422   0000              	GLOBAL _intrinsic_retn
423   0000              	GLOBAL _intrinsic_reti
424   0000              	GLOBAL _intrinsic_halt
425   0000              	GLOBAL _intrinsic_ei
426   0000              	GLOBAL _intrinsic_di
427   0000              	GLOBAL _intrinsic_stub
428   0000              	GLOBAL _intrinsic_outi
429   0000              	GLOBAL _intrinsic_ldi
430   0000              	GLOBAL _zx_pattern_fill_callee
431   0000              	GLOBAL _zx_pattern_fill
432   0000              	GLOBAL _zx_saddrpup_fastcall
433   0000              	GLOBAL _zx_saddrpup
434   0000              	GLOBAL _zx_saddrpright_callee
435   0000              	GLOBAL _zx_saddrpright
436   0000              	GLOBAL _zx_saddrpleft_callee
437   0000              	GLOBAL _zx_saddrpleft
438   0000              	GLOBAL _zx_saddrpdown_fastcall
439   0000              	GLOBAL _zx_saddrpdown
440   0000              	GLOBAL _zx_saddrcup_fastcall
441   0000              	GLOBAL _zx_saddrcup
442   0000              	GLOBAL _zx_saddrcright_fastcall
443   0000              	GLOBAL _zx_saddrcright
444   0000              	GLOBAL _zx_saddrcleft_fastcall
445   0000              	GLOBAL _zx_saddrcleft
446   0000              	GLOBAL _zx_saddrcdown_fastcall
447   0000              	GLOBAL _zx_saddrcdown
448   0000              	GLOBAL _zx_saddr2py_fastcall
449   0000              	GLOBAL _zx_saddr2py
450   0000              	GLOBAL _zx_saddr2px_fastcall
451   0000              	GLOBAL _zx_saddr2px
452   0000              	GLOBAL _zx_saddr2cy_fastcall
453   0000              	GLOBAL _zx_saddr2cy
454   0000              	GLOBAL _zx_saddr2cx_fastcall
455   0000              	GLOBAL _zx_saddr2cx
456   0000              	GLOBAL _zx_saddr2aaddr_fastcall
457   0000              	GLOBAL _zx_saddr2aaddr
458   0000              	GLOBAL _zx_py2saddr_fastcall
459   0000              	GLOBAL _zx_py2saddr
460   0000              	GLOBAL _zx_py2aaddr_fastcall
461   0000              	GLOBAL _zx_py2aaddr
462   0000              	GLOBAL _zx_pxy2saddr_callee
463   0000              	GLOBAL _zx_pxy2saddr
464   0000              	GLOBAL _zx_pxy2aaddr_callee
465   0000              	GLOBAL _zx_pxy2aaddr
466   0000              	GLOBAL _zx_px2bitmask_fastcall
467   0000              	GLOBAL _zx_px2bitmask
468   0000              	GLOBAL _zx_cy2saddr_fastcall
469   0000              	GLOBAL _zx_cy2saddr
470   0000              	GLOBAL _zx_cy2aaddr_fastcall
471   0000              	GLOBAL _zx_cy2aaddr
472   0000              	GLOBAL _zx_cxy2saddr_callee
473   0000              	GLOBAL _zx_cxy2saddr
474   0000              	GLOBAL _zx_cxy2aaddr_callee
475   0000              	GLOBAL _zx_cxy2aaddr
476   0000              	GLOBAL _zx_bitmask2px_fastcall
477   0000              	GLOBAL _zx_bitmask2px
478   0000              	GLOBAL _zx_aaddrcup_fastcall
479   0000              	GLOBAL _zx_aaddrcup
480   0000              	GLOBAL _zx_aaddrcright_fastcall
481   0000              	GLOBAL _zx_aaddrcright
482   0000              	GLOBAL _zx_aaddrcleft_fastcall
483   0000              	GLOBAL _zx_aaddrcleft
484   0000              	GLOBAL _zx_aaddrcdown_fastcall
485   0000              	GLOBAL _zx_aaddrcdown
486   0000              	GLOBAL _zx_aaddr2saddr_fastcall
487   0000              	GLOBAL _zx_aaddr2saddr
488   0000              	GLOBAL _zx_aaddr2py_fastcall
489   0000              	GLOBAL _zx_aaddr2py
490   0000              	GLOBAL _zx_aaddr2px_fastcall
491   0000              	GLOBAL _zx_aaddr2px
492   0000              	GLOBAL _zx_aaddr2cy_fastcall
493   0000              	GLOBAL _zx_aaddr2cy
494   0000              	GLOBAL _zx_aaddr2cx_fastcall
495   0000              	GLOBAL _zx_aaddr2cx
496   0000              	GLOBAL _zx_visit_wc_pix_callee
497   0000              	GLOBAL _zx_visit_wc_pix
498   0000              	GLOBAL _zx_visit_wc_attr_callee
499   0000              	GLOBAL _zx_visit_wc_attr
500   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
501   0000              	GLOBAL _zx_scroll_wc_up_pix
502   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
503   0000              	GLOBAL _zx_scroll_wc_up_attr
504   0000              	GLOBAL _zx_scroll_wc_up_callee
505   0000              	GLOBAL _zx_scroll_wc_up
506   0000              	GLOBAL _zx_scroll_up_pix_callee
507   0000              	GLOBAL _zx_scroll_up_pix
508   0000              	GLOBAL _zx_scroll_up_attr_callee
509   0000              	GLOBAL _zx_scroll_up_attr
510   0000              	GLOBAL _zx_scroll_up_callee
511   0000              	GLOBAL _zx_scroll_up
512   0000              	GLOBAL _zx_cls_wc_pix_callee
513   0000              	GLOBAL _zx_cls_wc_pix
514   0000              	GLOBAL _zx_cls_wc_attr_callee
515   0000              	GLOBAL _zx_cls_wc_attr
516   0000              	GLOBAL _zx_cls_wc_callee
517   0000              	GLOBAL _zx_cls_wc
518   0000              	GLOBAL _zx_cls_pix_fastcall
519   0000              	GLOBAL _zx_cls_pix
520   0000              	GLOBAL _zx_cls_attr_fastcall
521   0000              	GLOBAL _zx_cls_attr
522   0000              	GLOBAL _zx_cls_fastcall
523   0000              	GLOBAL _zx_cls
524   0000              	GLOBAL _zx_border_fastcall
525   0000              	GLOBAL _zx_border
526   0000              	GLOBAL _zx_tape_verify_block_callee
527   0000              	GLOBAL _zx_tape_verify_block
528   0000              	GLOBAL _zx_tape_save_block_callee
529   0000              	GLOBAL _zx_tape_save_block
530   0000              	GLOBAL _zx_tape_load_block_callee
531   0000              	GLOBAL _zx_tape_load_block
532   0000              	GLOBAL _spr_destroy
533   0000              	GLOBAL _spr_colision_boss
534   0000              	GLOBAL _spr_unflattenP1
535   0000              	GLOBAL _spr_flatten
536   0000              	GLOBAL _spr_btile_paint_back
537   0000              	GLOBAL _spr_init_effects
538   0000              	GLOBAL _spr_turn_horizontal
539   0000              	GLOBAL _spr_play_anim
540   0000              	GLOBAL _spr_add_anim
541   0000              	GLOBAL _spr_clear_scr
542   0000              	GLOBAL _spr_page_map
543   0000              	GLOBAL _spr_back_repaint
544   0000              	GLOBAL _spr_tile_dir
545   0000              	GLOBAL _spr_tile
546   0000              	GLOBAL _spr_paint_player
547   0000              	GLOBAL _spr_paint
548   0000              	GLOBAL _spr_move_left
549   0000              	GLOBAL _spr_move_right
550   0000              	GLOBAL _spr_move_left_f
551   0000              	GLOBAL _spr_move_right_f
552   0000              	GLOBAL _spr_move_horizontal
553   0000              	GLOBAL _spr_move_down
554   0000              	GLOBAL _spr_move_up
555   0000              	GLOBAL _spr_set_right
556   0000              	GLOBAL _spr_set_left
557   0000              	GLOBAL _spr_set_down
558   0000              	GLOBAL _spr_set_up
559   0000              	GLOBAL _spr_calc_index
560   0000              	GLOBAL _spr_chktime
561   0000              	GLOBAL _player_pick_item
562   0000              	GLOBAL _game_attribs
563   0000              	GLOBAL _game_boss_clear
564   0000              	GLOBAL _game_add_enemy
565   0000              	GLOBAL _game_print_header
566   0000              	GLOBAL _game_check_time
567   0000              	GLOBAL _game_rotate_attrib_osd
568   0000              	GLOBAL _game_rotate_attrib
569   0000              	GLOBAL _game_colour_message
570   0000              	GLOBAL _game_paint_attrib
571   0000              	GLOBAL _game_print_score
572   0000              	GLOBAL _game_cell_paint
573   0000              	GLOBAL _game_check_cell
574   0000              	GLOBAL _game_check_map
575   0000              	GLOBAL _game_loop
576   0000              	GLOBAL _game_round_init
577   0000              	GLOBAL _game_set_checkpoint
578   0000              	GLOBAL _game_start_timer
579   0000              	GLOBAL _game_update_stats
580   0000              	GLOBAL _game_print_footer
581   0000              	GLOBAL _game_fill_row
582   0000              	GLOBAL _game_cls
583   0000              	GLOBAL _game_fps
584   0000              	GLOBAL _game_draw_screen
585   0000              	GLOBAL _enemy_avoid_dead
586   0000              	GLOBAL _enemy_avoid_fall
587   0000              	GLOBAL _enemy_kill
588   0000              	GLOBAL _enemy_init
589   0000              	GLOBAL _enemy_move
590   0000              	GLOBAL _enemy_turn
591   0000              	GLOBAL _enemy_static
592   0000              	GLOBAL _enemy_walk
593   0000              	GLOBAL _enemy_horizontal
594   0000              	GLOBAL _enemy_vertical
595   0000              	GLOBAL _ay_reset
596   0000              	GLOBAL _ay_song_stop
597   0000              	GLOBAL _ay_song_play
598   0000              	GLOBAL _ay_fx_stop
599   0000              	GLOBAL _ay_fx_play
600   0000              	GLOBAL _ay_is_playing
601   0000              	GLOBAL _audio_levelup
602   0000              	GLOBAL _audio_checkpoint
603   0000              	GLOBAL _audio_menu
604   0000              	GLOBAL _audio_game_end
605   0000              	GLOBAL _audio_level_complete
606   0000              	GLOBAL _audio_level_start
607   0000              	GLOBAL _audio_lotr_lose_a_life
608   0000              	GLOBAL _audio_puerta
609   0000              	GLOBAL _audio_sin_mana
610   0000              	GLOBAL _audio_magic1
611   0000              	GLOBAL _audio_coin
612   0000              	GLOBAL _audio_golpe
613   0000              	GLOBAL _audio_salto
614   0000              	GLOBAL _audio_efecto
615   0000              	GLOBAL _audio_disparo_fire
616   0000              	GLOBAL _audio_disparo_axe
617   0000              	GLOBAL _audio_disparo2
618   0000              	GLOBAL _audio_disparo1
619   0000              	GLOBAL _audio_explosion1
620   0000              	GLOBAL _audio_explosion
621   0000              	GLOBAL _audio_ingame
622   0000              	GLOBAL _test_func
623   0000              	GLOBAL _test_proc
624   0000              	GLOBAL _in_mouse_kempston_wheel_delta
625   0000              	GLOBAL _in_mouse_kempston_wheel
626   0000              	GLOBAL _in_mouse_kempston_callee
627   0000              	GLOBAL _in_mouse_kempston
628   0000              	GLOBAL _in_mouse_kempston_setpos_callee
629   0000              	GLOBAL _in_mouse_kempston_setpos
630   0000              	GLOBAL _in_mouse_kempston_reset
631   0000              	GLOBAL _in_mouse_kempston_init
632   0000              	GLOBAL _in_mouse_amx_wheel_delta
633   0000              	GLOBAL _in_mouse_amx_wheel
634   0000              	GLOBAL _in_mouse_amx_callee
635   0000              	GLOBAL _in_mouse_amx
636   0000              	GLOBAL _in_mouse_amx_setpos_callee
637   0000              	GLOBAL _in_mouse_amx_setpos
638   0000              	GLOBAL _in_mouse_amx_reset
639   0000              	GLOBAL _in_mouse_amx_init_callee
640   0000              	GLOBAL _in_mouse_amx_init
641   0000              	GLOBAL _in_stick_sinclair2
642   0000              	GLOBAL _in_stick_sinclair1
643   0000              	GLOBAL _in_stick_kempston
644   0000              	GLOBAL _in_stick_fuller
645   0000              	GLOBAL _in_stick_cursor
646   0000              	GLOBAL _in_stick_keyboard_fastcall
647   0000              	GLOBAL _in_stick_keyboard
648   0000              	GLOBAL _in_wait_nokey
649   0000              	GLOBAL _in_wait_key
650   0000              	GLOBAL _in_test_key
651   0000              	GLOBAL _in_pause_fastcall
652   0000              	GLOBAL _in_pause
653   0000              	GLOBAL _in_key_scancode_fastcall
654   0000              	GLOBAL _in_key_scancode
655   0000              	GLOBAL _in_key_pressed_fastcall
656   0000              	GLOBAL _in_key_pressed
657   0000              	GLOBAL _in_inkey
658   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
659   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
660   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
661   0000              	GLOBAL _NIRVANAP_HOLE
662   0000              	GLOBAL _NIRVANAP_ISR_HOOK
663   0000              	GLOBAL _scan_map
664   0000              	GLOBAL _key_map
665   0000              	GLOBAL _map_paper_last_a
666   0000              	GLOBAL _map_paper_last
667   0000              	GLOBAL _map_paper_clr
668   0000              	GLOBAL _map_paper
669   0000              	GLOBAL _boss_stat
670   0000              	GLOBAL _boss_time_fire
671   0000              	GLOBAL _boss_time
672   0000              	GLOBAL _boss_tile
673   0000              	GLOBAL _boss_inc
674   0000              	GLOBAL _boss_col
675   0000              	GLOBAL _boss_lin
676   0000              	GLOBAL _anim_count
677   0000              	GLOBAL _anim_respanwn
678   0000              	GLOBAL _anim_loop
679   0000              	GLOBAL _anim_end
680   0000              	GLOBAL _anim_int
681   0000              	GLOBAL _anim_tile
682   0000              	GLOBAL _anim_col
683   0000              	GLOBAL _anim_lin
684   0000              	GLOBAL _map_heigth
685   0000              	GLOBAL _map_width
686   0000              	GLOBAL _scr_curr
687   0000              	GLOBAL _sprite_kind
688   0000              	GLOBAL _scr_map
689   0000              	GLOBAL _spr_init
690   0000              	GLOBAL _spr_map_tile
691   0000              	GLOBAL _sprite_frames
692   0000              	GLOBAL _sprite_base_speed
693   0000              	GLOBAL _sprite_speed
694   0000              	GLOBAL _screen_ink
695   0000              	GLOBAL _screen_paper
696   0000              	GLOBAL _game_start_scr
697   0000              	GLOBAL _game_score_top
698   0000              	GLOBAL _player_coins
699   0000              	GLOBAL _player_lives
700   0000              	GLOBAL _game_over
701   0000              	GLOBAL _game_sound
702   0000              	GLOBAL _game_inf_lives
703   0000              	GLOBAL _game_inmune
704   0000              	GLOBAL _sprite_curr_index
705   0000              	GLOBAL _spr_count
706   0000              	GLOBAL _anim_time
707   0000              	GLOBAL _frame_time
708   0000              	GLOBAL _curr_time
709   0000              	GLOBAL _s_state
710   0000              	GLOBAL _attrib8
711   0000              	GLOBAL _attrib7
712   0000              	GLOBAL _attrib6
713   0000              	GLOBAL _attrib5
714   0000              	GLOBAL _attrib4
715   0000              	GLOBAL _attrib3
716   0000              	GLOBAL _attrib2
717   0000              	GLOBAL _attrib1
718   0000              	GLOBAL _attrib0
719   0000              	GLOBAL _attrib_osd
720   0000              	GLOBAL _attrib_hl
721   0000              	GLOBAL _attrib
722   0000              	GLOBAL _zx_val_asm
723   0000              	GLOBAL _enemies
724   0000              	GLOBAL _tmp_ui
725   0000              	GLOBAL _tmp_sc
726   0000              	GLOBAL _tmp_uc
727   0000              	GLOBAL _tmp1
728   0000              	GLOBAL _tmp0
729   0000              	GLOBAL _tmp
730   0000              	GLOBAL _index1
731   0000              	GLOBAL _index0
732   0000              	GLOBAL _loop_count
733   0000              	GLOBAL _s_class
734   0000              	GLOBAL _s_row1
735   0000              	GLOBAL _s_col1
736   0000              	GLOBAL _s_col0
737   0000              	GLOBAL _s_lin1
738   0000              	GLOBAL _s_lin0
739   0000              	GLOBAL _s_tile1
740   0000              	GLOBAL _s_tile0
741   0000              	GLOBAL _player_jump_top
742   0000              	GLOBAL _player_hit_count
743   0000              	GLOBAL _game_debug
744   0000              	GLOBAL _sprite
745   0000              	GLOBAL _fps
746   0000              	GLOBAL _menu_curr_sel
747   0000              	GLOBAL _game_control_mode
748   0000              	GLOBAL _game_round_up
749   0000              	GLOBAL _game_song_play_start
750   0000              	GLOBAL _game_song_play
751   0000              	GLOBAL _game_boss_fix
752   0000              	GLOBAL _game_boss_hit
753   0000              	GLOBAL _game_boss_alive
754   0000              	GLOBAL _game_boss
755   0000              	GLOBAL _game_world
756   0000              	GLOBAL _game_gravity
757   0000              	GLOBAL _player_hit
758   0000              	GLOBAL _player_hit_time
759   0000              	GLOBAL _game_checkpoint_scr
760   0000              	GLOBAL _game_checkpoint_lin
761   0000              	GLOBAL _game_checkpoint_col
762   0000              	GLOBAL _player_lin_scr
763   0000              	GLOBAL _player_col_scr
764   0000              	GLOBAL _player_max_vita
765   0000              	GLOBAL _player_max_mana
766   0000              	GLOBAL _player_vita
767   0000              	GLOBAL _player_keys
768   0000              	GLOBAL _player_vel_inc
769   0000              	GLOBAL _player_vel_y0
770   0000              	GLOBAL _player_vel_y
771   0000              	GLOBAL _player_vel_x
772   0000              	GLOBAL _player_score
773   0000              	GLOBAL _last_time
774   0000              	GLOBAL _obj_count
775   0000              	GLOBAL _obj_col
776   0000              	GLOBAL _obj_lin
777   0000              	GLOBAL _spr_timer
778   0000              	GLOBAL _jump_lin
779   0000              	GLOBAL _colint
780   0000              	GLOBAL _col
781   0000              	GLOBAL _tbuffer
782   0000              	GLOBAL _lin
783   0000              	GLOBAL _tile
784   0000              	GLOBAL _value_b
785   0000              	GLOBAL _value_a
786   0000              	GLOBAL _state_a
787   0000              	GLOBAL _state
788   0000              	GLOBAL _class
789   0000              	GLOBAL _dirs
790   0000              	GLOBAL _k2
791   0000              	GLOBAL _k1
792   0000              	GLOBAL _joyfunc2
793   0000              	GLOBAL _joyfunc1
794   0000              	GLOBAL _btiles
795   0000              	GLOBAL _spec128
796   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
797   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
798   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
799   0000              	GLOBAL _ay_fx_06_disparo_fire
800   0000              	GLOBAL _ay_fx_06_disparo_axe
801   0000              	GLOBAL _ay_fx_06_explosion1
802   0000              	GLOBAL _ay_fx_06_efecto
803   0000              	GLOBAL _ay_fx_06_disparo2
804   0000              	GLOBAL _ay_fx_06_disparo1
805   0000              	GLOBAL _ay_fx_06_checkpoint
806   0000              	GLOBAL _ay_fx_06_levelup
807   0000              	GLOBAL _ay_fx_06_magic
808   0000              	GLOBAL _ay_fx_06_sin_mana
809   0000              	GLOBAL _ay_fx_06_salto
810   0000              	GLOBAL _ay_fx_06_puerta
811   0000              	GLOBAL _ay_fx_06_magic1
812   0000              	GLOBAL _ay_fx_06_golpe
813   0000              	GLOBAL _ay_fx_06_explosion
814   0000              	GLOBAL _ay_fx_06_dano_por_toque
815   0000              	GLOBAL _ay_fx_06_coin
816   0000              	GLOBAL _ay_song_06_lotr_level_start
817   0000              	GLOBAL _ay_song_06_lotr_level_complete
818   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
819   0000              	GLOBAL _ay_song_04_ingame
820   0000              	GLOBAL _world0_h
821   0000              	GLOBAL _world0_w
822   0000              	GLOBAL _world0
823   0000              	GLOBAL _paper0
824   0000              	GLOBAL _lenght0
825   0000              	GLOBAL _start_scr0
826   0000              ;--------------------------------------------------------
827   0000              ; special function registers
828   0000              ;--------------------------------------------------------
829   0000              defc _IO_FE	=	0x00fe
830   0000              defc _IO_1FFD	=	0x1ffd
831   0000              defc _IO_7FFD	=	0x7ffd
832   0000              ;--------------------------------------------------------
833   0000              ; ram data
834   0000              ;--------------------------------------------------------
835   0000              	SECTION bss_compiler
836   0000              ;--------------------------------------------------------
837   0000              ; ram data
838   0000              ;--------------------------------------------------------
839   0000              
840   0000              IF 0
841   0000              
842   0000              ; .area _INITIALIZED removed by z88dk
843   0000              
844   0000              
845   0000              ENDIF
846   0000              
847   0000              ;--------------------------------------------------------
848   0000              ; absolute external ram data
849   0000              ;--------------------------------------------------------
850   0000              	SECTION IGNORE
851   0000              ;--------------------------------------------------------
852   0000              ; global & static initialisations
853   0000              ;--------------------------------------------------------
854   0000              	SECTION code_crt_init
855   0000              ;--------------------------------------------------------
856   0000              ; Home
857   0000              ;--------------------------------------------------------
858   0000              	SECTION IGNORE
859   0000              ;--------------------------------------------------------
860   0000              ; code
861   0000              ;--------------------------------------------------------
862   0000              	SECTION code_compiler
863   0000              ;	---------------------------------
864   0000              ; Function player_init
865   0000              ; ---------------------------------
866   0000              _player_init:
867   0000  CD 00 00    	call	___sdcc_enter_ix
868   0003  21 07 00    	ld	hl, +(_class + 0x0007)
869   0006  36 FF       	ld	(hl),0xff
870   0008  3A 00 00    	ld	a,(_sprite_base_speed)
871   000B  32 07 00    	ld	((_sprite_speed + 0x0007)),a
872   000E  21 07 00    	ld	hl, +(_tile + 0x0007)
873   0011  DD 7E 06    	ld	a,(ix+6)
874   0014  77          	ld	(hl), a
875   0015  21 07 00    	ld	hl, +(_lin + 0x0007)
876   0018  DD 7E 04    	ld	a,(ix+4)
877   001B  77          	ld	(hl), a
878   001C  21 07 00    	ld	hl, +(_col + 0x0007)
879   001F  DD 7E 05    	ld	a,(ix+5)
880   0022  77          	ld	(hl), a
881   0023  21 07 00    	ld	hl, +(_colint + 0x0007)
882   0026  36 00       	ld	(hl),0x00
883   0028  21 07 00    	ld	hl, +(_state + 0x0007)
884   002B  36 00       	ld	(hl),0x00
885   002D  01 07 00    	ld	bc,_state_a+7
886   0030  AF          	xor	a, a
887   0031  02          	ld	(bc), a
888   0032  21 07 00    	ld	hl, +(_jump_lin + 0x0007)
889   0035  DD 7E 04    	ld	a,(ix+4)
890   0038  77          	ld	(hl), a
891   0039  ED 5B 00 00 	ld	de,(_curr_time)
892   003D  ED 53 0E 00 	ld	(_last_time + 0x000e),de
893   0041  0A          	ld	a, (bc)
894   0042  F6 11       	or	a,+(0x01|0x10)
895   0044  02          	ld	(bc),a
896   0045  DD 7E 04    	ld	a,(ix+4)
897   0048  C6 10       	add	a,0x10
898   004A  47          	ld	b, a
899   004B  DD 7E 05    	ld	a,(ix+5)
900   004E  48          	ld	c,b
901   004F  47          	ld	b,a
902   0050  C5          	push	bc
903   0051  DD 56 06    	ld	d,(ix+6)
904   0054  1E 07       	ld	e,0x07
905   0056  D5          	push	de
906   0057  CD 00 00    	call	_NIRVANAP_spriteT_callee
907   005A  DD E1       	pop	ix
908   005C  C9          	ret
909   005D              	SECTION code_compiler
910   005D              ;	---------------------------------
911   005D              ; Function player_turn
912   005D              ; ---------------------------------
913   005D              _player_turn:
914   005D  21 00 00    	ld	hl,_sprite
915   0060  CD 00 00    	call	_spr_chktime
916   0063  7D          	ld	a, l
917   0064  B7          	or	a, a
918   0065  C8          	ret	Z
919   0066  2E 00       	ld	l,0x00
920   0068  CD 00 00    	call	_zx_border_fastcall
921   006B  21 00 00    	ld	hl,_k1
922   006E  E5          	push	hl
923   006F  2A 00 00    	ld	hl,(_joyfunc1)
924   0072  CD 00 00    	call	___sdcc_call_hl
925   0075  F1          	pop	af
926   0076  7D          	ld	a,l
927   0077  32 00 00    	ld	(_dirs),a
928   007A  3A 07 00    	ld	a,(_lin + 0x0007)
929   007D  32 00 00    	ld	(_s_lin0),a
930   0080  3A 07 00    	ld	a,(_col + 0x0007)
931   0083  32 00 00    	ld	(_s_col0),a
932   0086  01 07 00    	ld	bc,_state+7
933   0089  0A          	ld	a, (bc)
934   008A  32 00 00    	ld	(_s_state),a
935   008D  21 00 00    	ld	hl,_s_class
936   0090  36 00       	ld	(hl),0x00
937   0092  C5          	push	bc
938   0093  CD 9C 00    	call	_player_move
939   0096  C1          	pop	bc
940   0097  3A 00 00    	ld	a,(_s_state)
941   009A  02          	ld	(bc), a
942   009B  C9          	ret
943   009C              	SECTION code_compiler
944   009C              ;	---------------------------------
945   009C              ; Function player_move
946   009C              ; ---------------------------------
947   009C              _player_move:
948   009C  21 00 00    	ld	hl,_s_state
949   009F  CB 46       	bit	0,(hl)
950   00A1  20 04       	jr	NZ,l_player_move_00103
951   00A3  CB 4E       	bit	1, (hl)
952   00A5  28 05       	jr	Z,l_player_move_00104
953   00A7              l_player_move_00103:
954   00A7  CD 37 05    	call	_player_move_jump
955   00AA  18 1F       	jr	l_player_move_00105
956   00AC              l_player_move_00104:
957   00AC  CD 09 01    	call	_player_move_input
958   00AF  21 07 00    	ld	hl,+(_col + 0x0007)
959   00B2  46          	ld	b, (hl)
960   00B3  3A 07 00    	ld	a,(_lin + 0x0007)
961   00B6  C6 10       	add	a,0x10
962   00B8  4F          	ld	c,a
963   00B9  C5          	push	bc
964   00BA  CD C4 02    	call	_player_check_floor1
965   00BD  F1          	pop	af
966   00BE  7D          	ld	a, l
967   00BF  B7          	or	a, a
968   00C0  28 09       	jr	Z,l_player_move_00105
969   00C2  21 00 00    	ld	hl,_s_state
970   00C5  7E          	ld	a,(hl)
971   00C6  F6 02       	or	a,0x02
972   00C8  E6 F3       	and	a,+(0xf7&0xfb)
973   00CA  77          	ld	(hl),a
974   00CB              l_player_move_00105:
975   00CB  CD 00 00    	call	_spr_paint_player
976   00CE  2E 00       	ld	l,0x00
977   00D0  C9          	ret
978   00D1              	SECTION code_compiler
979   00D1              ;	---------------------------------
980   00D1              ; Function player_check_input
981   00D1              ; ---------------------------------
982   00D1              _player_check_input:
983   00D1  21 00 00    	ld	hl,_dirs
984   00D4  CB 56       	bit	2,(hl)
985   00D6  28 06       	jr	Z,l_player_check_input_00102
986   00D8  CB 5E       	bit	3,(hl)
987   00DA  28 02       	jr	Z,l_player_check_input_00102
988   00DC  36 00       	ld	(hl),0x00
989   00DE              l_player_check_input_00102:
990   00DE  21 00 00    	ld	hl,_dirs
991   00E1  CB 7E       	bit	7, (hl)
992   00E3  28 04       	jr	Z,l_player_check_input_00105
993   00E5  2E 01       	ld	l,0x01
994   00E7  18 11       	jr	l_player_check_input_00109
995   00E9              l_player_check_input_00105:
996   00E9  21 00 00    	ld	hl,_dirs
997   00EC  CB 56       	bit	2,(hl)
998   00EE  20 04       	jr	NZ,l_player_check_input_00106
999   00F0  CB 5E       	bit	3, (hl)
1000  00F2  28 04       	jr	Z,l_player_check_input_00107
1001  00F4              l_player_check_input_00106:
1002  00F4  2E 01       	ld	l,0x01
1003  00F6  18 02       	jr	l_player_check_input_00109
1004  00F8              l_player_check_input_00107:
1005  00F8  2E 00       	ld	l,0x00
1006  00FA              l_player_check_input_00109:
1007  00FA  C9          	ret
1008  00FB              	SECTION code_compiler
1009  00FB              ;	---------------------------------
1010  00FB              ; Function player_new_jump
1011  00FB              ; ---------------------------------
1012  00FB              _player_new_jump:
1013  00FB  21 00 00    	ld	hl,_dirs
1014  00FE  CB 7E       	bit	7, (hl)
1015  0100  28 04       	jr	Z,l_player_new_jump_00102
1016  0102  2E 01       	ld	l,0x01
1017  0104  18 02       	jr	l_player_new_jump_00103
1018  0106              l_player_new_jump_00102:
1019  0106  2E 00       	ld	l,0x00
1020  0108              l_player_new_jump_00103:
1021  0108  C9          	ret
1022  0109              	SECTION code_compiler
1023  0109              ;	---------------------------------
1024  0109              ; Function player_move_input
1025  0109              ; ---------------------------------
1026  0109              _player_move_input:
1027  0109  CD D1 00    	call	_player_check_input
1028  010C  7D          	ld	a, l
1029  010D  B7          	or	a, a
1030  010E  28 6F       	jr	Z,l_player_move_input_00108
1031  0110  CD FB 00    	call	_player_new_jump
1032  0113  7D          	ld	a, l
1033  0114  B7          	or	a, a
1034  0115  28 24       	jr	Z,l_player_move_input_00102
1035  0117  21 00 00    	ld	hl,_player_vel_inc
1036  011A  36 01       	ld	(hl),0x01
1037  011C  CD 00 00    	call	_audio_salto
1038  011F  21 00 00    	ld	hl,_s_state
1039  0122  CD 00 00    	call	_spr_set_up
1040  0125  3A 07 00    	ld	a,(_lin + 0x0007)
1041  0128  32 07 00    	ld	(_jump_lin+7),a
1042  012B  3A 00 00    	ld	a,(_s_state)
1043  012E  32 07 00    	ld	((_state + 0x0007)),a
1044  0131  3A 00 00    	ld	a,(_player_vel_y0)
1045  0134  32 00 00    	ld	(_player_vel_y),a
1046  0137  2E 01       	ld	l,0x01
1047  0139  18 4D       	jr	l_player_move_input_00110
1048  013B              l_player_move_input_00102:
1049  013B  21 00 00    	ld	hl,_dirs
1050  013E  CB 5E       	bit	3, (hl)
1051  0140  28 12       	jr	Z,l_player_move_input_00104
1052  0142  21 00 00    	ld	hl,_s_state
1053  0145  CD 00 00    	call	_spr_set_right
1054  0148  01 07 00    	ld	bc,_state_a+7
1055  014B  0A          	ld	a, (bc)
1056  014C  F6 10       	or	a,0x10
1057  014E  E6 F7       	and	a,0xf7
1058  0150  02          	ld	(bc),a
1059  0151  CD 00 00    	call	_spr_move_horizontal
1060  0154              l_player_move_input_00104:
1061  0154  21 00 00    	ld	hl,_dirs
1062  0157  CB 56       	bit	2, (hl)
1063  0159  28 12       	jr	Z,l_player_move_input_00106
1064  015B  21 00 00    	ld	hl,_s_state
1065  015E  CD 00 00    	call	_spr_set_left
1066  0161  01 07 00    	ld	bc,_state_a+7
1067  0164  0A          	ld	a, (bc)
1068  0165  F6 08       	or	a,0x08
1069  0167  E6 EF       	and	a,0xef
1070  0169  02          	ld	(bc),a
1071  016A  CD 00 00    	call	_spr_move_horizontal
1072  016D              l_player_move_input_00106:
1073  016D  3A 00 00    	ld	a,(_s_state)
1074  0170  32 07 00    	ld	((_state + 0x0007)),a
1075  0173  21 60 04    	ld	hl,0x0460
1076  0176  E5          	push	hl
1077  0177  CD BB 01    	call	_player_tile
1078  017A  F1          	pop	af
1079  017B  2E 01       	ld	l,0x01
1080  017D  18 09       	jr	l_player_move_input_00110
1081  017F              l_player_move_input_00108:
1082  017F  21 00 00    	ld	hl,_s_state
1083  0182  7E          	ld	a,(hl)
1084  0183  E6 F3       	and	a,+(0xf7&0xfb)
1085  0185  77          	ld	(hl),a
1086  0186  2E 00       	ld	l,0x00
1087  0188              l_player_move_input_00110:
1088  0188  C9          	ret
1089  0189              	SECTION code_compiler
1090  0189              ;	---------------------------------
1091  0189              ; Function player_1up
1092  0189              ; ---------------------------------
1093  0189              _player_1up:
1094  0189  21 00 00    	ld	hl,_player_lives
1095  018C  7E          	ld	a, (hl)
1096  018D  D6 64       	sub	a,0x64
1097  018F  D0          	ret	NC
1098  0190  34          	inc	(hl)
1099  0191  CD 00 00    	call	_spr_flatten
1100  0194  21 00 00    	ld	hl,___str_0
1101  0197  E5          	push	hl
1102  0198  21 0C 0C    	ld	hl,0x0c0c
1103  019B  E5          	push	hl
1104  019C  CD 00 00    	call	_zx_print_str
1105  019F  AF          	xor	a, a
1106  01A0  F5          	push	af
1107  01A1  33          	inc	sp
1108  01A2  21 19 00    	ld	hl,0x0019
1109  01A5  E5          	push	hl
1110  01A6  21 0C 11    	ld	hl,0x110c
1111  01A9  E5          	push	hl
1112  01AA  3E 0C       	ld	a,0x0c
1113  01AC  F5          	push	af
1114  01AD  33          	inc	sp
1115  01AE  CD 00 00    	call	_game_colour_message
1116  01B1  F1          	pop	af
1117  01B2  F1          	pop	af
1118  01B3  F1          	pop	af
1119  01B4  CD 00 00    	call	_game_update_stats
1120  01B7  CD 00 00    	call	_spr_unflattenP1
1121  01BA  C9          	ret
1122  01BB              	SECTION rodata_compiler
1123  0000              ___str_0:
1124  0000  31 20 55 50 21 
                        	DEFM "1 UP!"
1125  0005  00          	DEFB 0x00
1126  0006              	SECTION code_compiler
1127  01BB              ;	---------------------------------
1128  01BB              ; Function player_tile
1129  01BB              ; ---------------------------------
1130  01BB              _player_tile:
1131  01BB  CD 00 00    	call	___sdcc_enter_ix
1132  01BE  21 05 00    	ld	hl,0x0005
1133  01C1  39          	add	hl, sp
1134  01C2  EB          	ex	de,hl
1135  01C3  21 04 00    	ld	hl,0x0004
1136  01C6  39          	add	hl, sp
1137  01C7  4D          	ld	c, l
1138  01C8  44          	ld	b, h
1139  01C9  D5          	push	de
1140  01CA  21 00 00    	ld	hl,_sprite
1141  01CD  E5          	push	hl
1142  01CE  C5          	push	bc
1143  01CF  CD 00 00    	call	_spr_tile_dir
1144  01D2  F1          	pop	af
1145  01D3  F1          	pop	af
1146  01D4  F1          	pop	af
1147  01D5  7D          	ld	a,l
1148  01D6  32 07 00    	ld	((_tile + 0x0007)),a
1149  01D9  DD E1       	pop	ix
1150  01DB  C9          	ret
1151  01DC              	SECTION code_compiler
1152  01DC              ;	---------------------------------
1153  01DC              ; Function player_score_add
1154  01DC              ; ---------------------------------
1155  01DC              _player_score_add:
1156  01DC  ED 4B 00 00 	ld	bc,(_player_score)
1157  01E0  09          	add	hl,bc
1158  01E1  22 00 00    	ld	(_player_score),hl
1159  01E4  3A 00 00    	ld	a,(_game_score_top)
1160  01E7  21 00 00    	ld	hl,_player_score
1161  01EA  96          	sub	a, (hl)
1162  01EB  3A 01 00    	ld	a,(_game_score_top + 1)
1163  01EE  23          	inc	hl
1164  01EF  9E          	sbc	a, (hl)
1165  01F0  D2 00 00    	jp	NC,_game_print_score
1166  01F3  2A 00 00    	ld	hl,(_player_score)
1167  01F6  22 00 00    	ld	(_game_score_top),hl
1168  01F9  C3 00 00    	jp  _game_print_score
1169  01FC              	SECTION code_compiler
1170  01FC              ;	---------------------------------
1171  01FC              ; Function player_check_floor
1172  01FC              ; ---------------------------------
1173  01FC              _player_check_floor:
1174  01FC  CD 00 00    	call	___sdcc_enter_ix
1175  01FF  F5          	push	af
1176  0200  F5          	push	af
1177  0201  3B          	dec	sp
1178  0202  DD 66 05    	ld	h,(ix+5)
1179  0205  DD 6E 04    	ld	l,(ix+4)
1180  0208  E5          	push	hl
1181  0209  CD 00 00    	call	_spr_calc_index
1182  020C  F1          	pop	af
1183  020D  22 00 00    	ld	(_index1),hl
1184  0210  01 00 00    	ld	bc,_scr_map+0
1185  0213  09          	add	hl,bc
1186  0214  7E          	ld	a,(hl)
1187  0215  21 01 00    	ld	hl,_index1 + 1
1188  0218  DD 77 FB    	ld	(ix-5),a
1189  021B  56          	ld	d,(hl)
1190  021C  2B          	dec	hl
1191  021D  5E          	ld	e,(hl)
1192  021E  13          	inc	de
1193  021F  69          	ld	l, c
1194  0220  60          	ld	h, b
1195  0221  19          	add	hl, de
1196  0222  56          	ld	d, (hl)
1197  0223  3A 07 00    	ld	a,(_colint + 0x0007)
1198  0226  5F          	ld	e,a
1199  0227  B7          	or	a,a
1200  0228  20 01       	jr	NZ,l_player_check_floor_00102
1201  022A  57          	ld	d,a
1202  022B              l_player_check_floor_00102:
1203  022B  2A 07 00    	ld	hl,(_sprite_frames + 0x0007)
1204  022E  26 00       	ld	h,0x00
1205  0230  7D          	ld	a, l
1206  0231  C6 FF       	add	a,0xff
1207  0233  DD 77 FE    	ld	(ix-2),a
1208  0236  7C          	ld	a, h
1209  0237  CE FF       	adc	a,0xff
1210  0239  DD 77 FF    	ld	(ix-1),a
1211  023C  DD 73 FC    	ld	(ix-4),e
1212  023F  DD 36 FD 00 	ld	(ix-3),0x00
1213  0243  DD 7E FE    	ld	a,(ix-2)
1214  0246  DD 96 FC    	sub	a,(ix-4)
1215  0249  20 0C       	jr	NZ,l_player_check_floor_00104
1216  024B  DD 7E FF    	ld	a,(ix-1)
1217  024E  DD 96 FD    	sub	a,(ix-3)
1218  0251  20 04       	jr	NZ,l_player_check_floor_00104
1219  0253  DD 36 FB 00 	ld	(ix-5),0x00
1220  0257              l_player_check_floor_00104:
1221  0257  DD 7E FB    	ld	a,(ix-5)
1222  025A  B7          	or	a,a
1223  025B  20 07       	jr	NZ,l_player_check_floor_00106
1224  025D  B2          	or	a,d
1225  025E  20 04       	jr	NZ,l_player_check_floor_00106
1226  0260  2E 01       	ld	l,0x01
1227  0262  18 5B       	jr	l_player_check_floor_00117
1228  0264              l_player_check_floor_00106:
1229  0264  DD 7E FB    	ld	a,(ix-5)
1230  0267  D6 0C       	sub	a,0x0c
1231  0269  28 11       	jr	Z,l_player_check_floor_00108
1232  026B  7A          	ld	a, d
1233  026C  D6 0C       	sub	a,0x0c
1234  026E  28 0C       	jr	Z,l_player_check_floor_00108
1235  0270  DD 7E FB    	ld	a,(ix-5)
1236  0273  D6 0D       	sub	a,0x0d
1237  0275  28 05       	jr	Z,l_player_check_floor_00108
1238  0277  7A          	ld	a, d
1239  0278  D6 0D       	sub	a,0x0d
1240  027A  20 05       	jr	NZ,l_player_check_floor_00109
1241  027C              l_player_check_floor_00108:
1242  027C  2E 02       	ld	l,0x02
1243  027E  CD 00 00    	call	_zx_border_fastcall
1244  0281              l_player_check_floor_00109:
1245  0281  DD 7E FB    	ld	a,(ix-5)
1246  0284  D6 0E       	sub	a,0x0e
1247  0286  20 1D       	jr	NZ,l_player_check_floor_00114
1248  0288  2E 07       	ld	l,0x07
1249  028A  CD 00 00    	call	_zx_border_fastcall
1250  028D  79          	ld	a, c
1251  028E  21 00 00    	ld	hl,_index1
1252  0291  86          	add	a, (hl)
1253  0292  DD 77 FC    	ld	(ix-4),a
1254  0295  78          	ld	a, b
1255  0296  23          	inc	hl
1256  0297  8E          	adc	a, (hl)
1257  0298  DD 6E FC    	ld	l,(ix-4)
1258  029B  DD 77 FD    	ld	(ix-3),a
1259  029E  67          	ld	h,a
1260  029F  36 00       	ld	(hl),0x00
1261  02A1  21 00 00    	ld	hl,_player_coins
1262  02A4  34          	inc	(hl)
1263  02A5              l_player_check_floor_00114:
1264  02A5  7A          	ld	a, d
1265  02A6  D6 0E       	sub	a,0x0e
1266  02A8  20 13       	jr	NZ,l_player_check_floor_00116
1267  02AA  2E 07       	ld	l,0x07
1268  02AC  CD 00 00    	call	_zx_border_fastcall
1269  02AF  ED 5B 00 00 	ld	de,(_index1)
1270  02B3  13          	inc	de
1271  02B4  69          	ld	l, c
1272  02B5  60          	ld	h, b
1273  02B6  19          	add	hl, de
1274  02B7  36 00       	ld	(hl),0x00
1275  02B9  21 00 00    	ld	hl,_player_coins
1276  02BC  34          	inc	(hl)
1277  02BD              l_player_check_floor_00116:
1278  02BD  2E 00       	ld	l,0x00
1279  02BF              l_player_check_floor_00117:
1280  02BF  DD F9       	ld	sp, ix
1281  02C1  DD E1       	pop	ix
1282  02C3  C9          	ret
1283  02C4              	SECTION code_compiler
1284  02C4              ;	---------------------------------
1285  02C4              ; Function player_check_floor1
1286  02C4              ; ---------------------------------
1287  02C4              _player_check_floor1:
1288  02C4  CD 00 00    	call	___sdcc_enter_ix
1289  02C7  21 F7 FF    	ld	hl, -9
1290  02CA  39          	add	hl, sp
1291  02CB  F9          	ld	sp, hl
1292  02CC  DD 66 05    	ld	h,(ix+5)
1293  02CF  DD 6E 04    	ld	l,(ix+4)
1294  02D2  E5          	push	hl
1295  02D3  CD 00 00    	call	_spr_calc_index
1296  02D6  F1          	pop	af
1297  02D7  22 00 00    	ld	(_index1),hl
1298  02DA  3E 00       	ld	a,+((_scr_map) & 0xFF)
1299  02DC  21 00 00    	ld	hl,_index1
1300  02DF  86          	add	a, (hl)
1301  02E0  DD 77 FE    	ld	(ix-2),a
1302  02E3  3E 00       	ld	a, +((_scr_map) / 256)
1303  02E5  23          	inc	hl
1304  02E6  8E          	adc	a, (hl)
1305  02E7  DD 6E FE    	ld	l,(ix-2)
1306  02EA  DD 77 FF    	ld	(ix-1),a
1307  02ED  67          	ld	h,a
1308  02EE  7E          	ld	a, (hl)
1309  02EF  DD 77 F8    	ld	(ix-8),a
1310  02F2  21 00 00    	ld	hl,_index1
1311  02F5  7E          	ld	a, (hl)
1312  02F6  C6 01       	add	a,0x01
1313  02F8  DD 77 FC    	ld	(ix-4),a
1314  02FB  23          	inc	hl
1315  02FC  7E          	ld	a, (hl)
1316  02FD  CE 00       	adc	a,0x00
1317  02FF  DD 6E FC    	ld	l,(ix-4)
1318  0302  DD 77 FD    	ld	(ix-3),a
1319  0305  67          	ld	h,a
1320  0306  01 00 00    	ld	bc,_scr_map
1321  0309  09          	add	hl,bc
1322  030A  DD 75 FC    	ld	(ix-4),l
1323  030D  DD 74 FD    	ld	(ix-3),h
1324  0310  7E          	ld	a, (hl)
1325  0311  DD 77 F7    	ld	(ix-9),a
1326  0314  3A 07 00    	ld	a,(_colint + 0x0007)
1327  0317  DD 77 FC    	ld	(ix-4),a
1328  031A  B7          	or	a, a
1329  031B  20 04       	jr	NZ,l_player_check_floor1_00102
1330  031D  DD 36 F7 00 	ld	(ix-9),0x00
1331  0321              l_player_check_floor1_00102:
1332  0321  3A 07 00    	ld	a,(_sprite_frames + 0x0007)
1333  0324  DD 77 FB    	ld	(ix-5),a
1334  0327  DD 77 F9    	ld	(ix-7),a
1335  032A  6F          	ld	l, a
1336  032B  26 00       	ld	h,0x00
1337  032D  DD 74 FA    	ld	(ix-6),h
1338  0330  2B          	dec	hl
1339  0331  DD 75 F9    	ld	(ix-7),l
1340  0334  DD 74 FA    	ld	(ix-6),h
1341  0337  DD 4E FC    	ld	c,(ix-4)
1342  033A  06 00       	ld	b,0x00
1343  033C  DD 7E F9    	ld	a,(ix-7)
1344  033F  91          	sub	a, c
1345  0340  20 0A       	jr	NZ,l_player_check_floor1_00104
1346  0342  DD 7E FA    	ld	a,(ix-6)
1347  0345  90          	sub	a, b
1348  0346  20 04       	jr	NZ,l_player_check_floor1_00104
1349  0348  DD 36 F8 00 	ld	(ix-8),0x00
1350  034C              l_player_check_floor1_00104:
1351  034C  DD 7E F8    	ld	a,(ix-8)
1352  034F  B7          	or	a, a
1353  0350  20 0B       	jr	NZ,l_player_check_floor1_00106
1354  0352  DD 7E F7    	ld	a,(ix-9)
1355  0355  B7          	or	a, a
1356  0356  20 05       	jr	NZ,l_player_check_floor1_00106
1357  0358  2E 01       	ld	l,0x01
1358  035A  C3 55 04    	jp	l_player_check_floor1_00129
1359  035D              l_player_check_floor1_00106:
1360  035D  DD 7E 04    	ld	a,(ix+4)
1361  0360  0F          	rrca
1362  0361  0F          	rrca
1363  0362  0F          	rrca
1364  0363  E6 1F       	and	a,0x1f
1365  0365  DD 77 F9    	ld	(ix-7),a
1366  0368  DD 7E F8    	ld	a,(ix-8)
1367  036B  D6 02       	sub	a,0x02
1368  036D  38 42       	jr	C,l_player_check_floor1_00112
1369  036F  3E 09       	ld	a,0x09
1370  0371  DD 96 F8    	sub	a,(ix-8)
1371  0374  38 3B       	jr	C,l_player_check_floor1_00112
1372  0376  DD 7E F8    	ld	a,(ix-8)
1373  0379  D6 08       	sub	a,0x08
1374  037B  30 0D       	jr	NC,l_player_check_floor1_00109
1375  037D  DD 4E F8    	ld	c,(ix-8)
1376  0380  0C          	inc	c
1377  0381  DD 6E FE    	ld	l,(ix-2)
1378  0384  DD 66 FF    	ld	h,(ix-1)
1379  0387  71          	ld	(hl), c
1380  0388  18 08       	jr	l_player_check_floor1_00110
1381  038A              l_player_check_floor1_00109:
1382  038A  DD 6E FE    	ld	l,(ix-2)
1383  038D  DD 66 FF    	ld	h,(ix-1)
1384  0390  36 00       	ld	(hl),0x00
1385  0392              l_player_check_floor1_00110:
1386  0392  DD 7E 05    	ld	a,(ix+5)
1387  0395  32 00 00    	ld	(_s_col1),a
1388  0398  DD 7E F9    	ld	a,(ix-7)
1389  039B  21 00 00    	ld	hl,_s_lin1
1390  039E  77          	ld	(hl),a
1391  039F  07          	rlca
1392  03A0  07          	rlca
1393  03A1  07          	rlca
1394  03A2  E6 F8       	and	a,0xf8
1395  03A4  77          	ld	(hl),a
1396  03A5  0F          	rrca
1397  03A6  0F          	rrca
1398  03A7  0F          	rrca
1399  03A8  E6 1F       	and	a,0x1f
1400  03AA  3C          	inc	a
1401  03AB  32 00 00    	ld	(_s_row1),a
1402  03AE  CD 00 00    	call	_game_cell_paint
1403  03B1              l_player_check_floor1_00112:
1404  03B1  DD 7E F7    	ld	a,(ix-9)
1405  03B4  D6 02       	sub	a,0x02
1406  03B6  38 46       	jr	C,l_player_check_floor1_00118
1407  03B8  3E 09       	ld	a,0x09
1408  03BA  DD 96 F7    	sub	a,(ix-9)
1409  03BD  38 3F       	jr	C,l_player_check_floor1_00118
1410  03BF  21 00 00    	ld	hl,_index1
1411  03C2  34          	inc	(hl)
1412  03C3  20 02       	jr	NZ,l_player_check_floor1_00193
1413  03C5  23          	inc	hl
1414  03C6  34          	inc	(hl)
1415  03C7              l_player_check_floor1_00193:
1416  03C7  01 00 00    	ld	bc,_scr_map
1417  03CA  2A 00 00    	ld	hl,(_index1)
1418  03CD  09          	add	hl,bc
1419  03CE  DD 7E F7    	ld	a,(ix-9)
1420  03D1  D6 08       	sub	a,0x08
1421  03D3  4D          	ld	c,l
1422  03D4  44          	ld	b,h
1423  03D5  30 07       	jr	NC,l_player_check_floor1_00115
1424  03D7  DD 7E F7    	ld	a,(ix-9)
1425  03DA  3C          	inc	a
1426  03DB  02          	ld	(bc), a
1427  03DC  18 02       	jr	l_player_check_floor1_00116
1428  03DE              l_player_check_floor1_00115:
1429  03DE  AF          	xor	a, a
1430  03DF  02          	ld	(bc), a
1431  03E0              l_player_check_floor1_00116:
1432  03E0  DD 7E 05    	ld	a,(ix+5)
1433  03E3  3C          	inc	a
1434  03E4  32 00 00    	ld	(_s_col1),a
1435  03E7  DD 7E F9    	ld	a,(ix-7)
1436  03EA  21 00 00    	ld	hl,_s_lin1
1437  03ED  77          	ld	(hl),a
1438  03EE  07          	rlca
1439  03EF  07          	rlca
1440  03F0  07          	rlca
1441  03F1  E6 F8       	and	a,0xf8
1442  03F3  77          	ld	(hl), a
1443  03F4  DD 7E F9    	ld	a,(ix-7)
1444  03F7  3C          	inc	a
1445  03F8  32 00 00    	ld	(_s_row1),a
1446  03FB  CD 00 00    	call	_game_cell_paint
1447  03FE              l_player_check_floor1_00118:
1448  03FE  DD 7E F8    	ld	a,(ix-8)
1449  0401  D6 0C       	sub	a,0x0c
1450  0403  28 15       	jr	Z,l_player_check_floor1_00120
1451  0405  DD 7E F7    	ld	a,(ix-9)
1452  0408  D6 0C       	sub	a,0x0c
1453  040A  28 0E       	jr	Z,l_player_check_floor1_00120
1454  040C  DD 7E F8    	ld	a,(ix-8)
1455  040F  D6 0D       	sub	a,0x0d
1456  0411  28 07       	jr	Z,l_player_check_floor1_00120
1457  0413  DD 7E F7    	ld	a,(ix-9)
1458  0416  D6 0D       	sub	a,0x0d
1459  0418  20 05       	jr	NZ,l_player_check_floor1_00121
1460  041A              l_player_check_floor1_00120:
1461  041A  2E 02       	ld	l,0x02
1462  041C  CD 00 00    	call	_zx_border_fastcall
1463  041F              l_player_check_floor1_00121:
1464  041F  DD 7E F8    	ld	a,(ix-8)
1465  0422  D6 0E       	sub	a,0x0e
1466  0424  20 12       	jr	NZ,l_player_check_floor1_00126
1467  0426  2E 07       	ld	l,0x07
1468  0428  CD 00 00    	call	_zx_border_fastcall
1469  042B  01 00 00    	ld	bc,_scr_map
1470  042E  2A 00 00    	ld	hl,(_index1)
1471  0431  09          	add	hl,bc
1472  0432  AF          	xor	a,a
1473  0433  77          	ld	(hl),a
1474  0434  21 00 00    	ld	hl,_player_coins
1475  0437  34          	inc	(hl)
1476  0438              l_player_check_floor1_00126:
1477  0438  DD 7E F7    	ld	a,(ix-9)
1478  043B  D6 0E       	sub	a,0x0e
1479  043D  20 14       	jr	NZ,l_player_check_floor1_00128
1480  043F  2E 07       	ld	l,0x07
1481  0441  CD 00 00    	call	_zx_border_fastcall
1482  0444  ED 4B 00 00 	ld	bc,(_index1)
1483  0448  03          	inc	bc
1484  0449  21 00 00    	ld	hl,_scr_map
1485  044C  09          	add	hl, bc
1486  044D  36 00       	ld	(hl),0x00
1487  044F  21 00 00    	ld	hl,_player_coins
1488  0452  34          	inc	(hl)
1489  0453              l_player_check_floor1_00128:
1490  0453  2E 00       	ld	l,0x00
1491  0455              l_player_check_floor1_00129:
1492  0455  DD F9       	ld	sp, ix
1493  0457  DD E1       	pop	ix
1494  0459  C9          	ret
1495  045A              	SECTION code_compiler
1496  045A              ;	---------------------------------
1497  045A              ; Function player_check_ceil
1498  045A              ; ---------------------------------
1499  045A              _player_check_ceil:
1500  045A  CD 00 00    	call	___sdcc_enter_ix
1501  045D  F5          	push	af
1502  045E  3B          	dec	sp
1503  045F  DD 66 05    	ld	h,(ix+5)
1504  0462  DD 6E 04    	ld	l,(ix+4)
1505  0465  E5          	push	hl
1506  0466  CD 00 00    	call	_spr_calc_index
1507  0469  F1          	pop	af
1508  046A  22 00 00    	ld	(_index1),hl
1509  046D  01 00 00    	ld	bc,_scr_map
1510  0470  09          	add	hl,bc
1511  0471  4E          	ld	c, (hl)
1512  0472  ED 5B 00 00 	ld	de,(_index1)
1513  0476  13          	inc	de
1514  0477  21 00 00    	ld	hl,_scr_map
1515  047A  19          	add	hl, de
1516  047B  7E          	ld	a, (hl)
1517  047C  DD 77 FD    	ld	(ix-3),a
1518  047F  3A 07 00    	ld	a,(_colint + 0x0007)
1519  0482  47          	ld	b,a
1520  0483  B7          	or	a, a
1521  0484  20 04       	jr	NZ,l_player_check_ceil_00102
1522  0486  DD 36 FD 00 	ld	(ix-3),0x00
1523  048A              l_player_check_ceil_00102:
1524  048A  ED 5B 07 00 	ld	de,(_sprite_frames + 0x0007)
1525  048E  16 00       	ld	d,0x00
1526  0490  1B          	dec	de
1527  0491  DD 70 FE    	ld	(ix-2),b
1528  0494  DD 36 FF 00 	ld	(ix-1),0x00
1529  0498  7B          	ld	a,e
1530  0499  90          	sub	a,b
1531  049A  20 08       	jr	NZ,l_player_check_ceil_00104
1532  049C  7A          	ld	a, d
1533  049D  DD 96 FF    	sub	a,(ix-1)
1534  04A0  20 02       	jr	NZ,l_player_check_ceil_00104
1535  04A2  0E 00       	ld	c,0x00
1536  04A4              l_player_check_ceil_00104:
1537  04A4  79          	ld	a, c
1538  04A5  D6 0C       	sub	a,0x0c
1539  04A7  28 13       	jr	Z,l_player_check_ceil_00105
1540  04A9  DD 7E FD    	ld	a,(ix-3)
1541  04AC  D6 0C       	sub	a,0x0c
1542  04AE  28 0C       	jr	Z,l_player_check_ceil_00105
1543  04B0  79          	ld	a, c
1544  04B1  D6 0D       	sub	a,0x0d
1545  04B3  28 07       	jr	Z,l_player_check_ceil_00105
1546  04B5  DD 7E FD    	ld	a,(ix-3)
1547  04B8  D6 0D       	sub	a,0x0d
1548  04BA  20 05       	jr	NZ,l_player_check_ceil_00106
1549  04BC              l_player_check_ceil_00105:
1550  04BC  2E 02       	ld	l,0x02
1551  04BE  CD 00 00    	call	_zx_border_fastcall
1552  04C1              l_player_check_ceil_00106:
1553  04C1  79          	ld	a, c
1554  04C2  D6 0E       	sub	a,0x0e
1555  04C4  20 12       	jr	NZ,l_player_check_ceil_00111
1556  04C6  2E 07       	ld	l,0x07
1557  04C8  CD 00 00    	call	_zx_border_fastcall
1558  04CB  11 00 00    	ld	de,_scr_map
1559  04CE  2A 00 00    	ld	hl,(_index1)
1560  04D1  19          	add	hl,de
1561  04D2  AF          	xor	a,a
1562  04D3  77          	ld	(hl),a
1563  04D4  21 00 00    	ld	hl,_player_coins
1564  04D7  34          	inc	(hl)
1565  04D8              l_player_check_ceil_00111:
1566  04D8  DD 7E FD    	ld	a,(ix-3)
1567  04DB  D6 0E       	sub	a,0x0e
1568  04DD  20 14       	jr	NZ,l_player_check_ceil_00113
1569  04DF  2E 07       	ld	l,0x07
1570  04E1  CD 00 00    	call	_zx_border_fastcall
1571  04E4  ED 5B 00 00 	ld	de,(_index1)
1572  04E8  13          	inc	de
1573  04E9  21 00 00    	ld	hl,_scr_map
1574  04EC  19          	add	hl, de
1575  04ED  36 00       	ld	(hl),0x00
1576  04EF  21 00 00    	ld	hl,_player_coins
1577  04F2  34          	inc	(hl)
1578  04F3              l_player_check_ceil_00113:
1579  04F3  79          	ld	a, c
1580  04F4  D6 0A       	sub	a,0x0a
1581  04F6  28 0B       	jr	Z,l_player_check_ceil_00115
1582  04F8  DD 7E FD    	ld	a,(ix-3)
1583  04FB  D6 0A       	sub	a,0x0a
1584  04FD  28 04       	jr	Z,l_player_check_ceil_00115
1585  04FF  2E 01       	ld	l,0x01
1586  0501  18 02       	jr	l_player_check_ceil_00117
1587  0503              l_player_check_ceil_00115:
1588  0503  2E 00       	ld	l,0x00
1589  0505              l_player_check_ceil_00117:
1590  0505  DD F9       	ld	sp, ix
1591  0507  DD E1       	pop	ix
1592  0509  C9          	ret
1593  050A              	SECTION code_compiler
1594  050A              ;	---------------------------------
1595  050A              ; Function player_gasta_brick
1596  050A              ; ---------------------------------
1597  050A              _player_gasta_brick:
1598  050A  3A 00 00    	ld	a,(_s_lin0)
1599  050D  32 00 00    	ld	(_tmp_uc),a
1600  0510  32 00 00    	ld	(_s_lin1),a
1601  0513  3A 00 00    	ld	a,(_s_col0)
1602  0516  32 00 00    	ld	(_s_col1),a
1603  0519  3A 07 00    	ld	a,(_lin + 0x0007)
1604  051C  C6 10       	add	a,0x10
1605  051E  32 00 00    	ld	(_s_lin0),a
1606  0521  3A 07 00    	ld	a,(_col + 0x0007)
1607  0524  32 00 00    	ld	(_s_col0),a
1608  0527  CD 00 00    	call	_spr_back_repaint
1609  052A  3A 00 00    	ld	a,(_tmp_uc)
1610  052D  32 00 00    	ld	(_s_lin0),a
1611  0530  3A 00 00    	ld	a,(_s_col1)
1612  0533  32 00 00    	ld	(_s_col0),a
1613  0536  C9          	ret
1614  0537              	SECTION code_compiler
1615  0537              ;	---------------------------------
1616  0537              ; Function player_move_jump
1617  0537              ; ---------------------------------
1618  0537              _player_move_jump:
1619  0537  21 00 00    	ld	hl,_game_gravity
1620  053A  4E          	ld	c, (hl)
1621  053B  21 00 00    	ld	hl,_player_vel_y
1622  053E  7E          	ld	a, (hl)
1623  053F  81          	add	a, c
1624  0540  77          	ld	(hl), a
1625  0541  3E 78       	ld	a,0x78
1626  0543  96          	sub	a, (hl)
1627  0544  E2 49 05    	jp	PO, l_player_move_jump_00188
1628  0547  EE 80       	xor	a,0x80
1629  0549              l_player_move_jump_00188:
1630  0549  F2 51 05    	jp	P, l_player_move_jump_00102
1631  054C  21 00 00    	ld	hl,_player_vel_y
1632  054F  36 78       	ld	(hl),0x78
1633  0551              l_player_move_jump_00102:
1634  0551  21 00 00    	ld	hl,_player_vel_y
1635  0554  7E          	ld	a, (hl)
1636  0555  EE 80       	xor	a,0x80
1637  0557  D6 08       	sub	a,0x08
1638  0559  30 02       	jr	NC,l_player_move_jump_00104
1639  055B  36 88       	ld	(hl),0x88
1640  055D              l_player_move_jump_00104:
1641  055D  3A 00 00    	ld	a,(_player_vel_y)
1642  0560  4F          	ld	c,a
1643  0561  17          	rla
1644  0562  9F          	sbc	a, a
1645  0563  47          	ld	b, a
1646  0564  CB 41       	bit	0,c
1647  0566  21 00 00    	ld	hl,_s_lin1
1648  0569  71          	ld	(hl),c
1649  056A  28 04       	jr	Z,l_player_move_jump_00106
1650  056C  21 00 00    	ld	hl,_s_lin1
1651  056F  35          	dec	(hl)
1652  0570              l_player_move_jump_00106:
1653  0570  3A 07 00    	ld	a,(_lin + 0x0007)
1654  0573  21 00 00    	ld	hl,_s_lin1
1655  0576  86          	add	a, (hl)
1656  0577  77          	ld	(hl), a
1657  0578  CB 78       	bit	7, b
1658  057A  28 37       	jr	Z,l_player_move_jump_00121
1659  057C  21 00 00    	ld	hl,_s_state
1660  057F  CD 00 00    	call	_spr_set_up
1661  0582  3E 80       	ld	a,0x80
1662  0584  21 00 00    	ld	hl,_s_lin1
1663  0587  96          	sub	a, (hl)
1664  0588  30 02       	jr	NC,l_player_move_jump_00108
1665  058A  36 00       	ld	(hl),0x00
1666  058C              l_player_move_jump_00108:
1667  058C  21 07 00    	ld	hl,+(_col + 0x0007)
1668  058F  46          	ld	b, (hl)
1669  0590  3A 00 00    	ld	a,(_s_lin1)
1670  0593  4F          	ld	c,a
1671  0594  C5          	push	bc
1672  0595  CD 5A 04    	call	_player_check_ceil
1673  0598  F1          	pop	af
1674  0599  7D          	ld	a, l
1675  059A  B7          	or	a, a
1676  059B  20 07       	jr	NZ,l_player_move_jump_00110
1677  059D  21 00 00    	ld	hl,_player_vel_y
1678  05A0  36 00       	ld	(hl),0x00
1679  05A2  18 06       	jr	l_player_move_jump_00111
1680  05A4              l_player_move_jump_00110:
1681  05A4  3A 00 00    	ld	a,(_s_lin1)
1682  05A7  32 07 00    	ld	((_lin + 0x0007)),a
1683  05AA              l_player_move_jump_00111:
1684  05AA  3A 00 00    	ld	a,(_s_lin1)
1685  05AD  32 00 00    	ld	(_player_jump_top),a
1686  05B0  C3 3F 06    	jp	l_player_move_jump_00122
1687  05B3              l_player_move_jump_00121:
1688  05B3  21 00 00    	ld	hl,_s_state
1689  05B6  CD 00 00    	call	_spr_set_down
1690  05B9  3E 80       	ld	a,0x80
1691  05BB  21 00 00    	ld	hl,_s_lin1
1692  05BE  96          	sub	a, (hl)
1693  05BF  30 02       	jr	NC,l_player_move_jump_00113
1694  05C1  36 80       	ld	(hl),0x80
1695  05C3              l_player_move_jump_00113:
1696  05C3  3A 00 00    	ld	a,(_s_lin1)
1697  05C6  4F          	ld	c,a
1698  05C7  06 00       	ld	b,0x00
1699  05C9  3A 00 00    	ld	a,(_player_jump_top)
1700  05CC  5F          	ld	e,a
1701  05CD  16 00       	ld	d,0x00
1702  05CF  79          	ld	a, c
1703  05D0  93          	sub	a, e
1704  05D1  4F          	ld	c, a
1705  05D2  78          	ld	a, b
1706  05D3  9A          	sbc	a, d
1707  05D4  47          	ld	b, a
1708  05D5  3E 02       	ld	a,0x02
1709  05D7  B9          	cp	a, c
1710  05D8  3E 00       	ld	a,0x00
1711  05DA  98          	sbc	a, b
1712  05DB  E2 E0 05    	jp	PO, l_player_move_jump_00190
1713  05DE  EE 80       	xor	a,0x80
1714  05E0              l_player_move_jump_00190:
1715  05E0  F2 39 06    	jp	P, l_player_move_jump_00119
1716  05E3  21 07 00    	ld	hl,+(_col + 0x0007)
1717  05E6  56          	ld	d, (hl)
1718  05E7  3A 00 00    	ld	a,(_s_lin1)
1719  05EA  C6 10       	add	a,0x10
1720  05EC  5F          	ld	e, a
1721  05ED  D5          	push	de
1722  05EE  CD FC 01    	call	_player_check_floor
1723  05F1  F1          	pop	af
1724  05F2  7D          	ld	a, l
1725  05F3  B7          	or	a, a
1726  05F4  20 43       	jr	NZ,l_player_move_jump_00119
1727  05F6  3A 00 00    	ld	a,(_s_lin1)
1728  05F9  0F          	rrca
1729  05FA  0F          	rrca
1730  05FB  0F          	rrca
1731  05FC  E6 1F       	and	a,0x1f
1732  05FE  07          	rlca
1733  05FF  07          	rlca
1734  0600  07          	rlca
1735  0601  E6 F8       	and	a,0xf8
1736  0603  32 00 00    	ld	(_tmp_uc),a
1737  0606  4F          	ld	c,a
1738  0607  06 00       	ld	b,0x00
1739  0609  3A 00 00    	ld	a,(_s_lin1)
1740  060C  5F          	ld	e,a
1741  060D  16 00       	ld	d,0x00
1742  060F  79          	ld	a, c
1743  0610  93          	sub	a, e
1744  0611  4F          	ld	c, a
1745  0612  78          	ld	a, b
1746  0613  9A          	sbc	a, d
1747  0614  47          	ld	b, a
1748  0615  3E 02       	ld	a,0x02
1749  0617  B9          	cp	a, c
1750  0618  3E 00       	ld	a,0x00
1751  061A  98          	sbc	a, b
1752  061B  E2 20 06    	jp	PO, l_player_move_jump_00191
1753  061E  EE 80       	xor	a,0x80
1754  0620              l_player_move_jump_00191:
1755  0620  FA 39 06    	jp	M, l_player_move_jump_00119
1756  0623  3A 00 00    	ld	a,(_tmp_uc)
1757  0626  32 07 00    	ld	((_lin + 0x0007)),a
1758  0629  21 00 00    	ld	hl,_player_vel_y
1759  062C  36 00       	ld	(hl),0x00
1760  062E  21 00 00    	ld	hl,_s_state
1761  0631  7E          	ld	a,(hl)
1762  0632  E6 FC       	and	a,+(0xfd&0xfe)
1763  0634  77          	ld	(hl),a
1764  0635  2E 01       	ld	l,0x01
1765  0637  18 33       	jr	l_player_move_jump_00130
1766  0639              l_player_move_jump_00119:
1767  0639  3A 00 00    	ld	a,(_s_lin1)
1768  063C  32 07 00    	ld	((_lin + 0x0007)),a
1769  063F              l_player_move_jump_00122:
1770  063F  21 00 00    	ld	hl,_s_state
1771  0642  CB 5E       	bit	3,(hl)
1772  0644  20 1E       	jr	NZ,l_player_move_jump_00128
1773  0646  CB 56       	bit	2, (hl)
1774  0648  20 1A       	jr	NZ,l_player_move_jump_00128
1775  064A  21 00 00    	ld	hl,_dirs
1776  064D  CB 56       	bit	2, (hl)
1777  064F  28 06       	jr	Z,l_player_move_jump_00124
1778  0651  21 00 00    	ld	hl,_s_state
1779  0654  CD 00 00    	call	_spr_set_left
1780  0657              l_player_move_jump_00124:
1781  0657  21 00 00    	ld	hl,_dirs
1782  065A  CB 5E       	bit	3, (hl)
1783  065C  28 06       	jr	Z,l_player_move_jump_00128
1784  065E  21 00 00    	ld	hl,_s_state
1785  0661  CD 00 00    	call	_spr_set_right
1786  0664              l_player_move_jump_00128:
1787  0664  CD 00 00    	call	_spr_move_horizontal
1788  0667  CD 00 00    	call	_spr_move_horizontal
1789  066A  2E 00       	ld	l,0x00
1790  066C              l_player_move_jump_00130:
1791  066C  C9          	ret
1792  066D              	SECTION code_compiler
1793  066D              ;	---------------------------------
1794  066D              ; Function player_lost_life
1795  066D              ; ---------------------------------
1796  066D              _player_lost_life:
1797  066D  21 00 00    	ld	hl,_player_vita
1798  0670  36 00       	ld	(hl),0x00
1799  0672  CD 00 00    	call	_game_update_stats
1800  0675  3A 07 00    	ld	a,(_lin + 0x0007)
1801  0678  32 00 00    	ld	(_s_lin0),a
1802  067B  3A 07 00    	ld	a,(_col + 0x0007)
1803  067E  32 00 00    	ld	(_s_col0),a
1804  0681  CD 00 00    	call	_spr_init_effects
1805  0684  06 00       	ld	b,0x00
1806  0686              l_player_lost_life_00107:
1807  0686  C5          	push	bc
1808  0687  21 00 00    	ld	hl,0x0000
1809  068A  E5          	push	hl
1810  068B  AF          	xor	a, a
1811  068C  48          	ld	c,b
1812  068D  47          	ld	b,a
1813  068E  C5          	push	bc
1814  068F  CD 00 00    	call	_NIRVANAP_spriteT_callee
1815  0692  C1          	pop	bc
1816  0693  04          	inc	b
1817  0694  3E 07       	ld	a,0x07
1818  0696  90          	sub	a, b
1819  0697  30 ED       	jr	NC,l_player_lost_life_00107
1820  0699  CD 00 00    	call	_ay_reset
1821  069C  CD 00 00    	call	_audio_explosion
1822  069F  CD 00 00    	call	_audio_lotr_lose_a_life
1823  06A2  3A 00 00    	ld	a,(_game_inf_lives)
1824  06A5  B7          	or	a, a
1825  06A6  20 04       	jr	NZ,l_player_lost_life_00103
1826  06A8  21 00 00    	ld	hl,_player_lives
1827  06AB  35          	dec	(hl)
1828  06AC              l_player_lost_life_00103:
1829  06AC  21 00 00    	ld	hl,_player_vita
1830  06AF  36 64       	ld	(hl),0x64
1831  06B1  3A 00 00    	ld	a,(_player_lives)
1832  06B4  B7          	or	a, a
1833  06B5  28 1D       	jr	Z,l_player_lost_life_00105
1834  06B7  21 F4 01    	ld	hl,0x01f4
1835  06BA  CD 00 00    	call	_z80_delay_ms_fastcall
1836  06BD  3A 00 00    	ld	a,(_game_checkpoint_col)
1837  06C0  32 00 00    	ld	(_player_col_scr),a
1838  06C3  3A 00 00    	ld	a,(_game_checkpoint_lin)
1839  06C6  32 00 00    	ld	(_player_lin_scr),a
1840  06C9  3A 00 00    	ld	a,(_game_checkpoint_scr)
1841  06CC  32 00 00    	ld	(_scr_curr),a
1842  06CF  CD 00 00    	call	_game_round_init
1843  06D2  18 0A       	jr	l_player_lost_life_00109
1844  06D4              l_player_lost_life_00105:
1845  06D4  21 00 00    	ld	hl,_player_lives
1846  06D7  36 00       	ld	(hl),0x00
1847  06D9  21 00 00    	ld	hl,_game_over
1848  06DC  36 01       	ld	(hl),0x01
1849  06DE              l_player_lost_life_00109:
1850  06DE  C9          	ret
1851  06DF              	SECTION code_compiler
1852  06DF              ;	---------------------------------
1853  06DF              ; Function player_damage
1854  06DF              ; ---------------------------------
1855  06DF              _player_damage:
1856  06DF  7D          	ld	a,l
1857  06E0  4D          	ld	c,l
1858  06E1  21 00 00    	ld	hl,_player_vita
1859  06E4  96          	sub	a, (hl)
1860  06E5  30 1F       	jr	NC,l_player_damage_00104
1861  06E7  3A 00 00    	ld	a,(_game_inmune)
1862  06EA  B7          	or	a, a
1863  06EB  20 06       	jr	NZ,l_player_damage_00102
1864  06ED  21 00 00    	ld	hl,_player_vita
1865  06F0  7E          	ld	a, (hl)
1866  06F1  91          	sub	a, c
1867  06F2  77          	ld	(hl), a
1868  06F3              l_player_damage_00102:
1869  06F3  2A 00 00    	ld	hl,(_curr_time)
1870  06F6  22 00 00    	ld	(_player_hit_time),hl
1871  06F9  21 00 00    	ld	hl,_player_hit
1872  06FC  36 01       	ld	(hl),0x01
1873  06FE  CD 00 00    	call	_audio_golpe
1874  0701  CD 00 00    	call	_game_update_stats
1875  0704  18 03       	jr	l_player_damage_00106
1876  0706              l_player_damage_00104:
1877  0706  CD 6D 06    	call	_player_lost_life
1878  0709              l_player_damage_00106:
1879  0709  C9          	ret
1880  070A              	SECTION IGNORE
1881  0000              
