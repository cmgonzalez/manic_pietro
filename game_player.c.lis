1     0000              MODULE game_player_c
2     0000              LINE 0, "game_player.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _player_get_floor
204   0000              	GLOBAL _player_collision
205   0000              	GLOBAL _player_check_conveyor
206   0000              	GLOBAL _player_handle_fall
207   0000              	GLOBAL _player_handle_walk
208   0000              	GLOBAL _player_handle_lock
209   0000              	GLOBAL _player_check_exit
210   0000              	GLOBAL _player_debug_keys
211   0000              	GLOBAL _player_init
212   0000              	GLOBAL _player_turn
213   0000              	GLOBAL _player_move
214   0000              	GLOBAL _player_move_jump
215   0000              	GLOBAL _player_move_walk
216   0000              	GLOBAL _player_handle_conveyor
217   0000              	GLOBAL _player_new_jump
218   0000              	GLOBAL _player_pick
219   0000              	GLOBAL _player_check_input
220   0000              	GLOBAL _player_tile
221   0000              	GLOBAL _player_score_add
222   0000              	GLOBAL _player_pick_item
223   0000              	GLOBAL _player_pick_deadly
224   0000              	GLOBAL _player_pick_extra
225   0000              	GLOBAL _player_check_ceil
226   0000              	GLOBAL _player_crumble
227   0000              	GLOBAL _player_check_floor
228   0000              	GLOBAL _player_lost_life
229   0000              ;--------------------------------------------------------
230   0000              ; Externals used
231   0000              ;--------------------------------------------------------
232   0000              	GLOBAL _ulltoa_callee
233   0000              	GLOBAL _ulltoa
234   0000              	GLOBAL _strtoull_callee
235   0000              	GLOBAL _strtoull
236   0000              	GLOBAL _strtoll_callee
237   0000              	GLOBAL _strtoll
238   0000              	GLOBAL _lltoa_callee
239   0000              	GLOBAL _lltoa
240   0000              	GLOBAL _llabs_callee
241   0000              	GLOBAL _llabs
242   0000              	GLOBAL __lldivu__callee
243   0000              	GLOBAL __lldivu_
244   0000              	GLOBAL __lldiv__callee
245   0000              	GLOBAL __lldiv_
246   0000              	GLOBAL _atoll_callee
247   0000              	GLOBAL _atoll
248   0000              	GLOBAL _realloc_unlocked_callee
249   0000              	GLOBAL _realloc_unlocked
250   0000              	GLOBAL _malloc_unlocked_fastcall
251   0000              	GLOBAL _malloc_unlocked
252   0000              	GLOBAL _free_unlocked_fastcall
253   0000              	GLOBAL _free_unlocked
254   0000              	GLOBAL _calloc_unlocked_callee
255   0000              	GLOBAL _calloc_unlocked
256   0000              	GLOBAL _aligned_alloc_unlocked_callee
257   0000              	GLOBAL _aligned_alloc_unlocked
258   0000              	GLOBAL _realloc_callee
259   0000              	GLOBAL _realloc
260   0000              	GLOBAL _malloc_fastcall
261   0000              	GLOBAL _malloc
262   0000              	GLOBAL _free_fastcall
263   0000              	GLOBAL _free
264   0000              	GLOBAL _calloc_callee
265   0000              	GLOBAL _calloc
266   0000              	GLOBAL _aligned_alloc_callee
267   0000              	GLOBAL _aligned_alloc
268   0000              	GLOBAL _utoa_callee
269   0000              	GLOBAL _utoa
270   0000              	GLOBAL _ultoa_callee
271   0000              	GLOBAL _ultoa
272   0000              	GLOBAL _system_fastcall
273   0000              	GLOBAL _system
274   0000              	GLOBAL _strtoul_callee
275   0000              	GLOBAL _strtoul
276   0000              	GLOBAL _strtol_callee
277   0000              	GLOBAL _strtol
278   0000              	GLOBAL _strtof_callee
279   0000              	GLOBAL _strtof
280   0000              	GLOBAL _strtod_callee
281   0000              	GLOBAL _strtod
282   0000              	GLOBAL _srand_fastcall
283   0000              	GLOBAL _srand
284   0000              	GLOBAL _rand
285   0000              	GLOBAL _quick_exit_fastcall
286   0000              	GLOBAL _quick_exit
287   0000              	GLOBAL _qsort_callee
288   0000              	GLOBAL _qsort
289   0000              	GLOBAL _ltoa_callee
290   0000              	GLOBAL _ltoa
291   0000              	GLOBAL _labs_fastcall
292   0000              	GLOBAL _labs
293   0000              	GLOBAL _itoa_callee
294   0000              	GLOBAL _itoa
295   0000              	GLOBAL _ftoh_callee
296   0000              	GLOBAL _ftoh
297   0000              	GLOBAL _ftog_callee
298   0000              	GLOBAL _ftog
299   0000              	GLOBAL _ftoe_callee
300   0000              	GLOBAL _ftoe
301   0000              	GLOBAL _ftoa_callee
302   0000              	GLOBAL _ftoa
303   0000              	GLOBAL _exit_fastcall
304   0000              	GLOBAL _exit
305   0000              	GLOBAL _dtoh_callee
306   0000              	GLOBAL _dtoh
307   0000              	GLOBAL _dtog_callee
308   0000              	GLOBAL _dtog
309   0000              	GLOBAL _dtoe_callee
310   0000              	GLOBAL _dtoe
311   0000              	GLOBAL _dtoa_callee
312   0000              	GLOBAL _dtoa
313   0000              	GLOBAL _bsearch_callee
314   0000              	GLOBAL _bsearch
315   0000              	GLOBAL _atol_fastcall
316   0000              	GLOBAL _atol
317   0000              	GLOBAL _atoi_fastcall
318   0000              	GLOBAL _atoi
319   0000              	GLOBAL _atof_fastcall
320   0000              	GLOBAL _atof
321   0000              	GLOBAL _atexit_fastcall
322   0000              	GLOBAL _atexit
323   0000              	GLOBAL _at_quick_exit_fastcall
324   0000              	GLOBAL _at_quick_exit
325   0000              	GLOBAL _abs_fastcall
326   0000              	GLOBAL _abs
327   0000              	GLOBAL _abort
328   0000              	GLOBAL __strtou__callee
329   0000              	GLOBAL __strtou_
330   0000              	GLOBAL __strtoi__callee
331   0000              	GLOBAL __strtoi_
332   0000              	GLOBAL __random_uniform_xor_8__fastcall
333   0000              	GLOBAL __random_uniform_xor_8_
334   0000              	GLOBAL __random_uniform_xor_32__fastcall
335   0000              	GLOBAL __random_uniform_xor_32_
336   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
337   0000              	GLOBAL __random_uniform_cmwc_8_
338   0000              	GLOBAL __shellsort__callee
339   0000              	GLOBAL __shellsort_
340   0000              	GLOBAL __quicksort__callee
341   0000              	GLOBAL __quicksort_
342   0000              	GLOBAL __insertion_sort__callee
343   0000              	GLOBAL __insertion_sort_
344   0000              	GLOBAL __ldivu__callee
345   0000              	GLOBAL __ldivu_
346   0000              	GLOBAL __ldiv__callee
347   0000              	GLOBAL __ldiv_
348   0000              	GLOBAL __divu__callee
349   0000              	GLOBAL __divu_
350   0000              	GLOBAL __div__callee
351   0000              	GLOBAL __div_
352   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
353   0000              	GLOBAL _NIRVANAP_drawTW_raw
354   0000              	GLOBAL _NIRVANAP_drawTW_callee
355   0000              	GLOBAL _NIRVANAP_drawTW
356   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
357   0000              	GLOBAL _NIRVANAP_drawW_raw
358   0000              	GLOBAL _NIRVANAP_drawW_callee
359   0000              	GLOBAL _NIRVANAP_drawW
360   0000              	GLOBAL _NIRVANAP_spriteT_callee
361   0000              	GLOBAL _NIRVANAP_spriteT
362   0000              	GLOBAL _NIRVANAP_fillC_callee
363   0000              	GLOBAL _NIRVANAP_fillC
364   0000              	GLOBAL _NIRVANAP_readC_callee
365   0000              	GLOBAL _NIRVANAP_readC
366   0000              	GLOBAL _NIRVANAP_paintC_callee
367   0000              	GLOBAL _NIRVANAP_paintC
368   0000              	GLOBAL _NIRVANAP_printQ_callee
369   0000              	GLOBAL _NIRVANAP_printQ
370   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
371   0000              	GLOBAL _NIRVANAP_fillT_raw
372   0000              	GLOBAL _NIRVANAP_fillT_callee
373   0000              	GLOBAL _NIRVANAP_fillT
374   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
375   0000              	GLOBAL _NIRVANAP_drawT_raw
376   0000              	GLOBAL _NIRVANAP_drawT_callee
377   0000              	GLOBAL _NIRVANAP_drawT
378   0000              	GLOBAL _NIRVANAP_stop
379   0000              	GLOBAL _NIRVANAP_start
380   0000              	GLOBAL _zx_print_str
381   0000              	GLOBAL _zx_print_int
382   0000              	GLOBAL _zx_print_chr
383   0000              	GLOBAL _zx_isr
384   0000              	GLOBAL _z80_otdr_callee
385   0000              	GLOBAL _z80_otdr
386   0000              	GLOBAL _z80_otir_callee
387   0000              	GLOBAL _z80_otir
388   0000              	GLOBAL _z80_outp_callee
389   0000              	GLOBAL _z80_outp
390   0000              	GLOBAL _z80_indr_callee
391   0000              	GLOBAL _z80_indr
392   0000              	GLOBAL _z80_inir_callee
393   0000              	GLOBAL _z80_inir
394   0000              	GLOBAL _z80_inp_fastcall
395   0000              	GLOBAL _z80_inp
396   0000              	GLOBAL _z80_set_int_state_fastcall
397   0000              	GLOBAL _z80_set_int_state
398   0000              	GLOBAL _z80_get_int_state
399   0000              	GLOBAL _z80_delay_tstate_fastcall
400   0000              	GLOBAL _z80_delay_tstate
401   0000              	GLOBAL _z80_delay_ms_fastcall
402   0000              	GLOBAL _z80_delay_ms
403   0000              	GLOBAL _im2_remove_generic_callback_callee
404   0000              	GLOBAL _im2_remove_generic_callback
405   0000              	GLOBAL _im2_prepend_generic_callback_callee
406   0000              	GLOBAL _im2_prepend_generic_callback
407   0000              	GLOBAL _im2_append_generic_callback_callee
408   0000              	GLOBAL _im2_append_generic_callback
409   0000              	GLOBAL _im2_create_generic_isr_8080_callee
410   0000              	GLOBAL _im2_create_generic_isr_8080
411   0000              	GLOBAL _im2_create_generic_isr_callee
412   0000              	GLOBAL _im2_create_generic_isr
413   0000              	GLOBAL _im2_install_isr_callee
414   0000              	GLOBAL _im2_install_isr
415   0000              	GLOBAL _im2_init_fastcall
416   0000              	GLOBAL _im2_init
417   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
418   0000              	GLOBAL _intrinsic_swap_word_32
419   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
420   0000              	GLOBAL _intrinsic_swap_endian_32
421   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
422   0000              	GLOBAL _intrinsic_swap_endian_16
423   0000              	GLOBAL _intrinsic_return_de
424   0000              	GLOBAL _intrinsic_return_bc
425   0000              	GLOBAL _intrinsic_exx
426   0000              	GLOBAL _intrinsic_ex_de_hl
427   0000              	GLOBAL _intrinsic_nop
428   0000              	GLOBAL _intrinsic_im_2
429   0000              	GLOBAL _intrinsic_im_1
430   0000              	GLOBAL _intrinsic_im_0
431   0000              	GLOBAL _intrinsic_retn
432   0000              	GLOBAL _intrinsic_reti
433   0000              	GLOBAL _intrinsic_halt
434   0000              	GLOBAL _intrinsic_ei
435   0000              	GLOBAL _intrinsic_di
436   0000              	GLOBAL _intrinsic_stub
437   0000              	GLOBAL _intrinsic_ini
438   0000              	GLOBAL _intrinsic_outi
439   0000              	GLOBAL _intrinsic_ldi
440   0000              	GLOBAL _zx_pattern_fill_callee
441   0000              	GLOBAL _zx_pattern_fill
442   0000              	GLOBAL _zx_saddrpup_fastcall
443   0000              	GLOBAL _zx_saddrpup
444   0000              	GLOBAL _zx_saddrpright_callee
445   0000              	GLOBAL _zx_saddrpright
446   0000              	GLOBAL _zx_saddrpleft_callee
447   0000              	GLOBAL _zx_saddrpleft
448   0000              	GLOBAL _zx_saddrpdown_fastcall
449   0000              	GLOBAL _zx_saddrpdown
450   0000              	GLOBAL _zx_saddrcup_fastcall
451   0000              	GLOBAL _zx_saddrcup
452   0000              	GLOBAL _zx_saddrcright_fastcall
453   0000              	GLOBAL _zx_saddrcright
454   0000              	GLOBAL _zx_saddrcleft_fastcall
455   0000              	GLOBAL _zx_saddrcleft
456   0000              	GLOBAL _zx_saddrcdown_fastcall
457   0000              	GLOBAL _zx_saddrcdown
458   0000              	GLOBAL _zx_saddr2py_fastcall
459   0000              	GLOBAL _zx_saddr2py
460   0000              	GLOBAL _zx_saddr2px_fastcall
461   0000              	GLOBAL _zx_saddr2px
462   0000              	GLOBAL _zx_saddr2cy_fastcall
463   0000              	GLOBAL _zx_saddr2cy
464   0000              	GLOBAL _zx_saddr2cx_fastcall
465   0000              	GLOBAL _zx_saddr2cx
466   0000              	GLOBAL _zx_saddr2aaddr_fastcall
467   0000              	GLOBAL _zx_saddr2aaddr
468   0000              	GLOBAL _zx_py2saddr_fastcall
469   0000              	GLOBAL _zx_py2saddr
470   0000              	GLOBAL _zx_py2aaddr_fastcall
471   0000              	GLOBAL _zx_py2aaddr
472   0000              	GLOBAL _zx_pxy2saddr_callee
473   0000              	GLOBAL _zx_pxy2saddr
474   0000              	GLOBAL _zx_pxy2aaddr_callee
475   0000              	GLOBAL _zx_pxy2aaddr
476   0000              	GLOBAL _zx_px2bitmask_fastcall
477   0000              	GLOBAL _zx_px2bitmask
478   0000              	GLOBAL _zx_cy2saddr_fastcall
479   0000              	GLOBAL _zx_cy2saddr
480   0000              	GLOBAL _zx_cy2aaddr_fastcall
481   0000              	GLOBAL _zx_cy2aaddr
482   0000              	GLOBAL _zx_cxy2saddr_callee
483   0000              	GLOBAL _zx_cxy2saddr
484   0000              	GLOBAL _zx_cxy2aaddr_callee
485   0000              	GLOBAL _zx_cxy2aaddr
486   0000              	GLOBAL _zx_bitmask2px_fastcall
487   0000              	GLOBAL _zx_bitmask2px
488   0000              	GLOBAL _zx_aaddrcup_fastcall
489   0000              	GLOBAL _zx_aaddrcup
490   0000              	GLOBAL _zx_aaddrcright_fastcall
491   0000              	GLOBAL _zx_aaddrcright
492   0000              	GLOBAL _zx_aaddrcleft_fastcall
493   0000              	GLOBAL _zx_aaddrcleft
494   0000              	GLOBAL _zx_aaddrcdown_fastcall
495   0000              	GLOBAL _zx_aaddrcdown
496   0000              	GLOBAL _zx_aaddr2saddr_fastcall
497   0000              	GLOBAL _zx_aaddr2saddr
498   0000              	GLOBAL _zx_aaddr2py_fastcall
499   0000              	GLOBAL _zx_aaddr2py
500   0000              	GLOBAL _zx_aaddr2px_fastcall
501   0000              	GLOBAL _zx_aaddr2px
502   0000              	GLOBAL _zx_aaddr2cy_fastcall
503   0000              	GLOBAL _zx_aaddr2cy
504   0000              	GLOBAL _zx_aaddr2cx_fastcall
505   0000              	GLOBAL _zx_aaddr2cx
506   0000              	GLOBAL _zx_visit_wc_pix_callee
507   0000              	GLOBAL _zx_visit_wc_pix
508   0000              	GLOBAL _zx_visit_wc_attr_callee
509   0000              	GLOBAL _zx_visit_wc_attr
510   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
511   0000              	GLOBAL _zx_scroll_wc_up_pix
512   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
513   0000              	GLOBAL _zx_scroll_wc_up_attr
514   0000              	GLOBAL _zx_scroll_wc_up_callee
515   0000              	GLOBAL _zx_scroll_wc_up
516   0000              	GLOBAL _zx_scroll_up_pix_callee
517   0000              	GLOBAL _zx_scroll_up_pix
518   0000              	GLOBAL _zx_scroll_up_attr_callee
519   0000              	GLOBAL _zx_scroll_up_attr
520   0000              	GLOBAL _zx_scroll_up_callee
521   0000              	GLOBAL _zx_scroll_up
522   0000              	GLOBAL _zx_cls_wc_pix_callee
523   0000              	GLOBAL _zx_cls_wc_pix
524   0000              	GLOBAL _zx_cls_wc_attr_callee
525   0000              	GLOBAL _zx_cls_wc_attr
526   0000              	GLOBAL _zx_cls_wc_callee
527   0000              	GLOBAL _zx_cls_wc
528   0000              	GLOBAL _zx_cls_pix_fastcall
529   0000              	GLOBAL _zx_cls_pix
530   0000              	GLOBAL _zx_cls_attr_fastcall
531   0000              	GLOBAL _zx_cls_attr
532   0000              	GLOBAL _zx_cls_fastcall
533   0000              	GLOBAL _zx_cls
534   0000              	GLOBAL _zx_border_fastcall
535   0000              	GLOBAL _zx_border
536   0000              	GLOBAL _zx_tape_verify_block_callee
537   0000              	GLOBAL _zx_tape_verify_block
538   0000              	GLOBAL _zx_tape_save_block_callee
539   0000              	GLOBAL _zx_tape_save_block
540   0000              	GLOBAL _zx_tape_load_block_callee
541   0000              	GLOBAL _zx_tape_load_block
542   0000              	GLOBAL _spr_horizontal_check
543   0000              	GLOBAL _spr_draw8
544   0000              	GLOBAL _spr_destroy
545   0000              	GLOBAL _spr_turn_horizontal
546   0000              	GLOBAL _spr_clear_scr
547   0000              	GLOBAL _spr_back_repaint
548   0000              	GLOBAL _spr_get_tile_dir
549   0000              	GLOBAL _spr_get_tile
550   0000              	GLOBAL _spr_paint_player
551   0000              	GLOBAL _spr_clear_fast_hor
552   0000              	GLOBAL _spr_clear_fast_vert
553   0000              	GLOBAL _spr_clear_fast
554   0000              	GLOBAL _spr_paint
555   0000              	GLOBAL _spr_move_left
556   0000              	GLOBAL _spr_move_right
557   0000              	GLOBAL _spr_move_left_f
558   0000              	GLOBAL _spr_move_right_f
559   0000              	GLOBAL _spr_move_horizontal
560   0000              	GLOBAL _spr_move_down_f
561   0000              	GLOBAL _spr_move_up_f
562   0000              	GLOBAL _spr_set_right
563   0000              	GLOBAL _spr_set_left
564   0000              	GLOBAL _spr_set_down
565   0000              	GLOBAL _spr_set_up
566   0000              	GLOBAL _spr_calc_index
567   0000              	GLOBAL _spr_chktime
568   0000              	GLOBAL _player_use_floor
569   0000              	GLOBAL _reverse
570   0000              	GLOBAL _page
571   0000              	GLOBAL _game_set_attr
572   0000              	GLOBAL _game_crumble
573   0000              	GLOBAL _game_solar_ray0
574   0000              	GLOBAL _game_solar_ray1
575   0000              	GLOBAL _game_solar_ray
576   0000              	GLOBAL _game_anim_air
577   0000              	GLOBAL _game_shoe
578   0000              	GLOBAL _game_intro
579   0000              	GLOBAL _game_copy_sprite
580   0000              	GLOBAL _game_copy_sprite_color_reset
581   0000              	GLOBAL _game_copy_sprite_std
582   0000              	GLOBAL _game_flash_exit
583   0000              	GLOBAL _game_page_map
584   0000              	GLOBAL _game_attribs
585   0000              	GLOBAL _game_print_header
586   0000              	GLOBAL _game_check_time
587   0000              	GLOBAL _game_key_paint
588   0000              	GLOBAL _game_colour_message
589   0000              	GLOBAL _game_paint_attrib
590   0000              	GLOBAL _game_print_score
591   0000              	GLOBAL _game_cell_paint_index
592   0000              	GLOBAL _game_cell_paint
593   0000              	GLOBAL _game_check_cell
594   0000              	GLOBAL _game_check_map
595   0000              	GLOBAL _game_loop
596   0000              	GLOBAL _game_round_init
597   0000              	GLOBAL _game_start_timer
598   0000              	GLOBAL _game_update_stats
599   0000              	GLOBAL _game_print_footer
600   0000              	GLOBAL _game_fill_row
601   0000              	GLOBAL _game_cls
602   0000              	GLOBAL _game_fps
603   0000              	GLOBAL _game_draw_map
604   0000              	GLOBAL _enemy_init
605   0000              	GLOBAL _enemy_move
606   0000              	GLOBAL _enemy_turn
607   0000              	GLOBAL _enemy_static
608   0000              	GLOBAL _enemy_horizontal
609   0000              	GLOBAL _enemy_vertical
610   0000              	GLOBAL _ay_reset
611   0000              	GLOBAL _ay_song_stop
612   0000              	GLOBAL _ay_song_play
613   0000              	GLOBAL _ay_fx_stop
614   0000              	GLOBAL _ay_fx_play
615   0000              	GLOBAL _ay_is_playing
616   0000              	GLOBAL _audio_game_over
617   0000              	GLOBAL _audio_round_init
618   0000              	GLOBAL _audio_levelup
619   0000              	GLOBAL _audio_menu
620   0000              	GLOBAL _audio_game_end
621   0000              	GLOBAL _audio_game_start
622   0000              	GLOBAL _audio_level_complete
623   0000              	GLOBAL _audio_level_start
624   0000              	GLOBAL _audio_puerta
625   0000              	GLOBAL _audio_crumble
626   0000              	GLOBAL _audio_tick
627   0000              	GLOBAL _audio_door_open
628   0000              	GLOBAL _audio_coin_noentiendo
629   0000              	GLOBAL _audio_coin
630   0000              	GLOBAL _audio_fall
631   0000              	GLOBAL _audio_jump
632   0000              	GLOBAL _audio_dead
633   0000              	GLOBAL _audio_time
634   0000              	GLOBAL _audio_ingame
635   0000              	GLOBAL _test_func
636   0000              	GLOBAL _test_proc
637   0000              	GLOBAL _in_mouse_kempston_wheel_delta
638   0000              	GLOBAL _in_mouse_kempston_wheel
639   0000              	GLOBAL _in_mouse_kempston_callee
640   0000              	GLOBAL _in_mouse_kempston
641   0000              	GLOBAL _in_mouse_kempston_setpos_callee
642   0000              	GLOBAL _in_mouse_kempston_setpos
643   0000              	GLOBAL _in_mouse_kempston_reset
644   0000              	GLOBAL _in_mouse_kempston_init
645   0000              	GLOBAL _in_mouse_amx_wheel_delta
646   0000              	GLOBAL _in_mouse_amx_wheel
647   0000              	GLOBAL _in_mouse_amx_callee
648   0000              	GLOBAL _in_mouse_amx
649   0000              	GLOBAL _in_mouse_amx_setpos_callee
650   0000              	GLOBAL _in_mouse_amx_setpos
651   0000              	GLOBAL _in_mouse_amx_reset
652   0000              	GLOBAL _in_mouse_amx_init_callee
653   0000              	GLOBAL _in_mouse_amx_init
654   0000              	GLOBAL _in_stick_sinclair2
655   0000              	GLOBAL _in_stick_sinclair1
656   0000              	GLOBAL _in_stick_kempston
657   0000              	GLOBAL _in_stick_fuller
658   0000              	GLOBAL _in_stick_cursor
659   0000              	GLOBAL _in_stick_keyboard_fastcall
660   0000              	GLOBAL _in_stick_keyboard
661   0000              	GLOBAL _in_wait_nokey
662   0000              	GLOBAL _in_wait_key
663   0000              	GLOBAL _in_test_key
664   0000              	GLOBAL _in_pause_fastcall
665   0000              	GLOBAL _in_pause
666   0000              	GLOBAL _in_key_scancode_fastcall
667   0000              	GLOBAL _in_key_scancode
668   0000              	GLOBAL _in_key_pressed_fastcall
669   0000              	GLOBAL _in_key_pressed
670   0000              	GLOBAL _in_inkey
671   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
672   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
673   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
674   0000              	GLOBAL _NIRVANAP_HOLE
675   0000              	GLOBAL _NIRVANAP_ISR_HOOK
676   0000              	GLOBAL _deltas
677   0000              	GLOBAL _attribs
678   0000              	GLOBAL _air_curr_byte
679   0000              	GLOBAL _spr_clr
680   0000              	GLOBAL _spr_init_bright
681   0000              	GLOBAL _spr_init_cout3
682   0000              	GLOBAL _spr_init_cin3
683   0000              	GLOBAL _spr_init_cout2
684   0000              	GLOBAL _spr_init_cin2
685   0000              	GLOBAL _spr_init_cout1
686   0000              	GLOBAL _spr_init_cin1
687   0000              	GLOBAL _spr_init_cout0
688   0000              	GLOBAL _spr_init_cin0
689   0000              	GLOBAL _map_clear
690   0000              	GLOBAL _map_paper
691   0000              	GLOBAL _map_border
692   0000              	GLOBAL _gbyte
693   0000              	GLOBAL _scr_curr
694   0000              	GLOBAL _scr_map
695   0000              	GLOBAL _spr_kind
696   0000              	GLOBAL _spr_altset
697   0000              	GLOBAL _spr_frames
698   0000              	GLOBAL _spr_speed_a
699   0000              	GLOBAL _spr_speed_b
700   0000              	GLOBAL _spr_speed
701   0000              	GLOBAL _spr_tile
702   0000              	GLOBAL _screen_ink
703   0000              	GLOBAL _screen_paper
704   0000              	GLOBAL _game_start_scr
705   0000              	GLOBAL _player_next_extra
706   0000              	GLOBAL _game_score_top
707   0000              	GLOBAL _player_coins
708   0000              	GLOBAL _player_lives
709   0000              	GLOBAL _game_crumb_end
710   0000              	GLOBAL _game_crumb_start
711   0000              	GLOBAL _game_over
712   0000              	GLOBAL _game_tile_cnt
713   0000              	GLOBAL _game_sound
714   0000              	GLOBAL _game_inf_lives
715   0000              	GLOBAL _game_inmune
716   0000              	GLOBAL _spr_count
717   0000              	GLOBAL _key_ink
718   0000              	GLOBAL _key_last
719   0000              	GLOBAL _lapse_crumb
720   0000              	GLOBAL _time_crumb
721   0000              	GLOBAL _time_key
722   0000              	GLOBAL _time_conv
723   0000              	GLOBAL _time_air
724   0000              	GLOBAL _frame_time
725   0000              	GLOBAL _curr_time
726   0000              	GLOBAL _key_attrib
727   0000              	GLOBAL _g_ray1
728   0000              	GLOBAL _attrib_sol1
729   0000              	GLOBAL _attrib_sol0
730   0000              	GLOBAL _attrib_osd
731   0000              	GLOBAL _attrib_hl
732   0000              	GLOBAL _attrib
733   0000              	GLOBAL _zx_val_asm
734   0000              	GLOBAL _index1
735   0000              	GLOBAL _index0
736   0000              	GLOBAL _loop_count
737   0000              	GLOBAL _s_row1
738   0000              	GLOBAL _s_col1
739   0000              	GLOBAL _s_col0
740   0000              	GLOBAL _s_lin1
741   0000              	GLOBAL _s_lin0
742   0000              	GLOBAL _nirv_sprite_index
743   0000              	GLOBAL _player_kill_index
744   0000              	GLOBAL _player_jump_top
745   0000              	GLOBAL _game_fps_show
746   0000              	GLOBAL _game_debug
747   0000              	GLOBAL _sprite
748   0000              	GLOBAL _fps
749   0000              	GLOBAL _game_mode
750   0000              	GLOBAL _game_tileset
751   0000              	GLOBAL _menu_curr_sel
752   0000              	GLOBAL _game_round_up
753   0000              	GLOBAL _game_exit_lin
754   0000              	GLOBAL _game_exit_col
755   0000              	GLOBAL _game_conveyor_col1
756   0000              	GLOBAL _game_conveyor_col0
757   0000              	GLOBAL _game_conveyor_lin
758   0000              	GLOBAL _game_conveyor_dir
759   0000              	GLOBAL _game_song_play_start
760   0000              	GLOBAL _game_song_play
761   0000              	GLOBAL _game_gravity
762   0000              	GLOBAL _player_lin_scr
763   0000              	GLOBAL _player_col_scr
764   0000              	GLOBAL _player_fall_start
765   0000              	GLOBAL _player_jump_count
766   0000              	GLOBAL _player_jump_hack
767   0000              	GLOBAL _player_vel_inc
768   0000              	GLOBAL _player_vel_y0
769   0000              	GLOBAL _player_vel_y
770   0000              	GLOBAL _player_score
771   0000              	GLOBAL _tbuffer
772   0000              	GLOBAL _obj_count
773   0000              	GLOBAL _obj_col
774   0000              	GLOBAL _obj_lin
775   0000              	GLOBAL _last_time_b
776   0000              	GLOBAL _last_time_a
777   0000              	GLOBAL _last_time
778   0000              	GLOBAL _colint
779   0000              	GLOBAL _col
780   0000              	GLOBAL _lin
781   0000              	GLOBAL _tile
782   0000              	GLOBAL _value_c
783   0000              	GLOBAL _value_b
784   0000              	GLOBAL _value_a
785   0000              	GLOBAL _state_a
786   0000              	GLOBAL _state
787   0000              	GLOBAL _class
788   0000              	GLOBAL _dirs_last
789   0000              	GLOBAL _dirs
790   0000              	GLOBAL _k1
791   0000              	GLOBAL _joyfunc1
792   0000              	GLOBAL _btiles
793   0000              	GLOBAL _v3
794   0000              	GLOBAL _v2
795   0000              	GLOBAL _v1
796   0000              	GLOBAL _v0
797   0000              	GLOBAL _i
798   0000              	GLOBAL _spec128
799   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
800   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
801   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
802   0000              	GLOBAL _hitiles2
803   0000              	GLOBAL _hitiles1
804   0000              	GLOBAL _ay_song_coin_noentiendo
805   0000              	GLOBAL _ay_song_game_over
806   0000              	GLOBAL _ay_song_time_atack
807   0000              	GLOBAL _ay_fx_crumble
808   0000              	GLOBAL _ay_fx_door_open
809   0000              	GLOBAL _ay_fx_tick
810   0000              	GLOBAL _ay_fx_game_start
811   0000              	GLOBAL _ay_fx_fall
812   0000              	GLOBAL _ay_fx_jump
813   0000              	GLOBAL _ay_fx_dead
814   0000              	GLOBAL _ay_fx_coin
815   0000              	GLOBAL _ay_song_round_init
816   0000              	GLOBAL _ay_song_menu
817   0000              	GLOBAL _ay_song_ingame1
818   0000              	GLOBAL _ay_song_ingame0
819   0000              	GLOBAL _hisprites2
820   0000              	GLOBAL _hisprites1
821   0000              	GLOBAL _img1
822   0000              	GLOBAL _air_end_byte
823   0000              	GLOBAL _air_start_byte
824   0000              	GLOBAL _tile_class
825   0000              	GLOBAL _scan_map
826   0000              	GLOBAL _key_map
827   0000              	GLOBAL _map_names0
828   0000              	GLOBAL _game_borders0
829   0000              	GLOBAL _spr_init2
830   0000              	GLOBAL _spr_init1
831   0000              	GLOBAL _tile_class2
832   0000              	GLOBAL _tile_class1
833   0000              	GLOBAL _paper0
834   0000              	GLOBAL _lenght0
835   0000              	GLOBAL _world0
836   0000              	GLOBAL _spr_init
837   0000              	GLOBAL _player_jump_hor
838   0000              ;--------------------------------------------------------
839   0000              ; special function registers
840   0000              ;--------------------------------------------------------
841   0000              defc _IO_FE	=	0x00fe
842   0000              defc _IO_1FFD	=	0x1ffd
843   0000              defc _IO_7FFD	=	0x7ffd
844   0000              ;--------------------------------------------------------
845   0000              ; ram data
846   0000              ;--------------------------------------------------------
847   0000              	SECTION bss_compiler
848   0000              ;--------------------------------------------------------
849   0000              ; ram data
850   0000              ;--------------------------------------------------------
851   0000              
852   0000              IF 0
853   0000              
854   0000              ; .area _INITIALIZED removed by z88dk
855   0000              
856   0000              
857   0000              ENDIF
858   0000              
859   0000              ;--------------------------------------------------------
860   0000              ; absolute external ram data
861   0000              ;--------------------------------------------------------
862   0000              	SECTION IGNORE
863   0000              ;--------------------------------------------------------
864   0000              ; global & static initialisations
865   0000              ;--------------------------------------------------------
866   0000              	SECTION code_crt_init
867   0000              ;--------------------------------------------------------
868   0000              ; Home
869   0000              ;--------------------------------------------------------
870   0000              	SECTION IGNORE
871   0000              ;--------------------------------------------------------
872   0000              ; code
873   0000              ;--------------------------------------------------------
874   0000              	SECTION code_compiler
875   0000              ;	---------------------------------
876   0000              ; Function player_init
877   0000              ; ---------------------------------
878   0000              _player_init:
879   0000  CD 00 00    	call	___sdcc_enter_ix
880   0003  F5          	push	af
881   0004  21 08 00    	ld	hl, +(_class + 0x0008)
882   0007  36 FF       	ld	(hl),0xff
883   0009  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
884   000C  36 04       	ld	(hl),0x04
885   000E  21 08 00    	ld	hl, +(_spr_frames + 0x0008)
886   0011  36 04       	ld	(hl),0x04
887   0013  21 08 00    	ld	hl, +(_lin + 0x0008)
888   0016  DD 7E 04    	ld	a,(ix+4)
889   0019  77          	ld	(hl), a
890   001A  21 08 00    	ld	hl, +(_col + 0x0008)
891   001D  DD 7E 05    	ld	a,(ix+5)
892   0020  77          	ld	(hl), a
893   0021  DD 7E 04    	ld	a,(ix+4)
894   0024  32 00 00    	ld	(_player_jump_top),a
895   0027  01 08 00    	ld	bc,_state+8
896   002A  AF          	xor	a, a
897   002B  02          	ld	(bc), a
898   002C  11 08 00    	ld	de,_state_a+8
899   002F  AF          	xor	a, a
900   0030  12          	ld	(de), a
901   0031  2A 00 00    	ld	hl,(_curr_time)
902   0034  C5          	push	bc
903   0035  D5          	push	de
904   0036  DD 74 FF    	ld	(ix-1),h
905   0039  DD 75 FE    	ld	(ix-2),l
906   003C  D1          	pop	de
907   003D  C1          	pop	bc
908   003E  21 10 00    	ld	hl, +(_last_time + 0x0010)
909   0041  DD 7E FE    	ld	a,(ix-2)
910   0044  77          	ld	(hl), a
911   0045  23          	inc	hl
912   0046  DD 7E FF    	ld	a,(ix-1)
913   0049  77          	ld	(hl), a
914   004A  21 00 00    	ld	hl,0x0000
915   004D  22 00 00    	ld	(_player_vel_y),hl
916   0050  21 08 00    	ld	hl, +(_spr_frames + 0x0008)
917   0053  36 04       	ld	(hl),0x04
918   0055  3A 08 00    	ld	a,(_value_a + 0x0008)
919   0058  DD 77 FE    	ld	(ix-2),a
920   005B  B7          	or	a, a
921   005C  28 1C       	jr	Z,l_player_init_00102
922   005E  21 08 00    	ld	hl, +(_colint + 0x0008)
923   0061  36 03       	ld	(hl),0x03
924   0063  0A          	ld	a, (bc)
925   0064  F6 08       	or	a,0x08
926   0066  02          	ld	(bc), a
927   0067  1A          	ld	a, (de)
928   0068  F6 08       	or	a,0x08
929   006A  12          	ld	(de), a
930   006B  01 08 00    	ld	bc,_tile+8
931   006E  DD 7E 06    	ld	a,(ix+6)
932   0071  C6 04       	add	a,0x04
933   0073  02          	ld	(bc), a
934   0074  3A 08 00    	ld	a,(_value_b + 0x0008)
935   0077  77          	ld	(hl), a
936   0078  18 15       	jr	l_player_init_00104
937   007A              l_player_init_00102:
938   007A  0A          	ld	a, (bc)
939   007B  F6 04       	or	a,0x04
940   007D  02          	ld	(bc), a
941   007E  1A          	ld	a, (de)
942   007F  F6 10       	or	a,0x10
943   0081  12          	ld	(de), a
944   0082  21 08 00    	ld	hl, +(_tile + 0x0008)
945   0085  DD 7E 06    	ld	a,(ix+6)
946   0088  77          	ld	(hl), a
947   0089  3A 08 00    	ld	a,(_value_b + 0x0008)
948   008C  32 08 00    	ld	(_colint+8),a
949   008F              l_player_init_00104:
950   008F  F1          	pop	af
951   0090  DD E1       	pop	ix
952   0092  C9          	ret
953   0093              	SECTION code_compiler
954   0093              ;	---------------------------------
955   0093              ; Function player_turn
956   0093              ; ---------------------------------
957   0093              _player_turn:
958   0093  21 00 00    	ld	hl,_sprite
959   0096  36 08       	ld	(hl),0x08
960   0098  CD 00 00    	call	_spr_chktime
961   009B  7D          	ld	a, l
962   009C  B7          	or	a, a
963   009D  CA 2A 01    	jp	Z, l_player_turn_00109
964   00A0  3A 08 00    	ld	a,(_lin + 0x0008)
965   00A3  32 00 00    	ld	(_s_lin0),a
966   00A6  3A 08 00    	ld	a,(_col + 0x0008)
967   00A9  32 00 00    	ld	(_s_col0),a
968   00AC  3A 08 00    	ld	a,(_state + 0x0008)
969   00AF  CB 47       	bit	0, a
970   00B1  20 0A       	jr	NZ,l_player_turn_00102
971   00B3  CB 4F       	bit	1, a
972   00B5  20 06       	jr	NZ,l_player_turn_00102
973   00B7  3A 00 00    	ld	a,(_dirs)
974   00BA  32 00 00    	ld	(_dirs_last),a
975   00BD              l_player_turn_00102:
976   00BD  21 00 00    	ld	hl,_k1
977   00C0  E5          	push	hl
978   00C1  2A 00 00    	ld	hl,(_joyfunc1)
979   00C4  CD 00 00    	call	___sdcc_call_hl
980   00C7  F1          	pop	af
981   00C8  7D          	ld	a,l
982   00C9  32 00 00    	ld	(_dirs),a
983   00CC  CD 67 02    	call	_player_move
984   00CF  CD 7F 04    	call	_player_handle_lock
985   00D2  CD B5 06    	call	_player_collision
986   00D5  CD 01 02    	call	_player_check_exit
987   00D8  3A 08 00    	ld	a,(_state + 0x0008)
988   00DB  CB 6F       	bit	5, a
989   00DD  28 11       	jr	Z,l_player_turn_00105
990   00DF  3A 00 00    	ld	a,(_game_inmune)
991   00E2  B7          	or	a, a
992   00E3  20 0B       	jr	NZ,l_player_turn_00105
993   00E5  CD 9E 0C    	call	_player_lost_life
994   00E8  3A 08 00    	ld	a,(_state + 0x0008)
995   00EB  E6 DF       	and	a,0xdf
996   00ED  32 08 00    	ld	((_state + 0x0008)),a
997   00F0              l_player_turn_00105:
998   00F0  CD 00 00    	call	_game_crumble
999   00F3  CD 2B 01    	call	_player_debug_keys
1000  00F6  3A 08 00    	ld	a,(_state_a + 0x0008)
1001  00F9  E6 01       	and	a,0x01
1002  00FB  F5          	push	af
1003  00FC  33          	inc	sp
1004  00FD  21 15 00    	ld	hl,0x0015
1005  0100  E5          	push	hl
1006  0101  CD 00 00    	call	_zx_print_chr
1007  0104  3A 08 00    	ld	a,(_state + 0x0008)
1008  0107  E6 10       	and	a,0x10
1009  0109  F5          	push	af
1010  010A  33          	inc	sp
1011  010B  21 15 04    	ld	hl,0x0415
1012  010E  E5          	push	hl
1013  010F  CD 00 00    	call	_zx_print_chr
1014  0112  3A 00 00    	ld	a,(_dirs)
1015  0115  F5          	push	af
1016  0116  33          	inc	sp
1017  0117  21 16 08    	ld	hl,0x0816
1018  011A  E5          	push	hl
1019  011B  CD 00 00    	call	_zx_print_chr
1020  011E  3A 00 00    	ld	a,(_dirs_last)
1021  0121  F5          	push	af
1022  0122  33          	inc	sp
1023  0123  21 16 10    	ld	hl,0x1016
1024  0126  E5          	push	hl
1025  0127  CD 00 00    	call	_zx_print_chr
1026  012A              l_player_turn_00109:
1027  012A  C9          	ret
1028  012B              	SECTION code_compiler
1029  012B              ;	---------------------------------
1030  012B              ; Function player_debug_keys
1031  012B              ; ---------------------------------
1032  012B              _player_debug_keys:
1033  012B  CD 00 00    	call	_in_inkey
1034  012E  7D          	ld	a,l
1035  012F  D6 20       	sub	a,0x20
1036  0131  4D          	ld	c,l
1037  0132  44          	ld	b,h
1038  0133  20 16       	jr	NZ,l_player_debug_keys_00105
1039  0135  21 00 00    	ld	hl,_game_song_play_start
1040  0138  7E          	ld	a, (hl)
1041  0139  B7          	or	a, a
1042  013A  28 07       	jr	Z,l_player_debug_keys_00102
1043  013C  36 00       	ld	(hl),0x00
1044  013E  CD 00 00    	call	_ay_song_stop
1045  0141  18 05       	jr	l_player_debug_keys_00103
1046  0143              l_player_debug_keys_00102:
1047  0143  C5          	push	bc
1048  0144  CD 00 00    	call	_audio_ingame
1049  0147  C1          	pop	bc
1050  0148              l_player_debug_keys_00103:
1051  0148  CD 00 00    	call	_in_wait_nokey
1052  014B              l_player_debug_keys_00105:
1053  014B  79          	ld	a, c
1054  014C  D6 31       	sub	a,0x31
1055  014E  20 17       	jr	NZ,l_player_debug_keys_00109
1056  0150  21 00 00    	ld	hl,_scr_curr
1057  0153  35          	dec	(hl)
1058  0154  21 00 00    	ld	hl,_game_round_up
1059  0157  36 01       	ld	(hl),0x01
1060  0159  3A 00 00    	ld	a,(_scr_curr)
1061  015C  3C          	inc	a
1062  015D  20 05       	jr	NZ,l_player_debug_keys_00107
1063  015F  21 00 00    	ld	hl,_scr_curr
1064  0162  36 27       	ld	(hl),0x27
1065  0164              l_player_debug_keys_00107:
1066  0164  CD 00 00    	call	_in_wait_nokey
1067  0167              l_player_debug_keys_00109:
1068  0167  79          	ld	a, c
1069  0168  D6 32       	sub	a,0x32
1070  016A  20 18       	jr	NZ,l_player_debug_keys_00113
1071  016C  21 00 00    	ld	hl,_scr_curr
1072  016F  34          	inc	(hl)
1073  0170  21 00 00    	ld	hl,_game_round_up
1074  0173  36 01       	ld	(hl),0x01
1075  0175  3A 00 00    	ld	a,(_scr_curr)
1076  0178  D6 28       	sub	a,0x28
1077  017A  20 05       	jr	NZ,l_player_debug_keys_00111
1078  017C  21 00 00    	ld	hl,_scr_curr
1079  017F  36 00       	ld	(hl),0x00
1080  0181              l_player_debug_keys_00111:
1081  0181  CD 00 00    	call	_in_wait_nokey
1082  0184              l_player_debug_keys_00113:
1083  0184  79          	ld	a, c
1084  0185  D6 33       	sub	a,0x33
1085  0187  20 3E       	jr	NZ,l_player_debug_keys_00118
1086  0189  21 00 00    	ld	hl,_game_inmune
1087  018C  7E          	ld	a, (hl)
1088  018D  D6 01       	sub	a,0x01
1089  018F  3E 00       	ld	a,0x00
1090  0191  17          	rla
1091  0192  47          	ld	b,a
1092  0193  70          	ld	(hl),b
1093  0194  B7          	or	a, a
1094  0195  28 0F       	jr	Z,l_player_debug_keys_00115
1095  0197  C5          	push	bc
1096  0198  21 00 00    	ld	hl,___str_0
1097  019B  E5          	push	hl
1098  019C  21 15 00    	ld	hl,0x0015
1099  019F  E5          	push	hl
1100  01A0  CD 00 00    	call	_zx_print_str
1101  01A3  C1          	pop	bc
1102  01A4  18 0D       	jr	l_player_debug_keys_00116
1103  01A6              l_player_debug_keys_00115:
1104  01A6  C5          	push	bc
1105  01A7  21 0F 00    	ld	hl,___str_1
1106  01AA  E5          	push	hl
1107  01AB  21 15 00    	ld	hl,0x0015
1108  01AE  E5          	push	hl
1109  01AF  CD 00 00    	call	_zx_print_str
1110  01B2  C1          	pop	bc
1111  01B3              l_player_debug_keys_00116:
1112  01B3  C5          	push	bc
1113  01B4  21 19 00    	ld	hl,0x0019
1114  01B7  CD 00 00    	call	_z80_delay_ms_fastcall
1115  01BA  C1          	pop	bc
1116  01BB  CD 00 00    	call	_in_wait_nokey
1117  01BE  C5          	push	bc
1118  01BF  21 15 20    	ld	hl,0x2015
1119  01C2  E5          	push	hl
1120  01C3  CD 00 00    	call	_game_fill_row
1121  01C6  C1          	pop	bc
1122  01C7              l_player_debug_keys_00118:
1123  01C7  79          	ld	a, c
1124  01C8  D6 34       	sub	a,0x34
1125  01CA  20 10       	jr	NZ,l_player_debug_keys_00120
1126  01CC  21 00 00    	ld	hl,_game_round_up
1127  01CF  36 01       	ld	(hl),0x01
1128  01D1  C5          	push	bc
1129  01D2  21 FA 00    	ld	hl,0x00fa
1130  01D5  CD 00 00    	call	_z80_delay_ms_fastcall
1131  01D8  C1          	pop	bc
1132  01D9  CD 00 00    	call	_in_wait_nokey
1133  01DC              l_player_debug_keys_00120:
1134  01DC  79          	ld	a, c
1135  01DD  D6 35       	sub	a,0x35
1136  01DF  20 1F       	jr	NZ,l_player_debug_keys_00126
1137  01E1  21 00 00    	ld	hl,_scr_curr
1138  01E4  7E          	ld	a, (hl)
1139  01E5  D6 14       	sub	a,0x14
1140  01E7  38 04       	jr	C,l_player_debug_keys_00122
1141  01E9  36 00       	ld	(hl),0x00
1142  01EB  18 05       	jr	l_player_debug_keys_00123
1143  01ED              l_player_debug_keys_00122:
1144  01ED  21 00 00    	ld	hl,_scr_curr
1145  01F0  36 14       	ld	(hl),0x14
1146  01F2              l_player_debug_keys_00123:
1147  01F2  21 00 00    	ld	hl,_game_round_up
1148  01F5  36 01       	ld	(hl),0x01
1149  01F7  21 FA 00    	ld	hl,0x00fa
1150  01FA  CD 00 00    	call	_z80_delay_ms_fastcall
1151  01FD  CD 00 00    	call	_in_wait_nokey
1152  0200              l_player_debug_keys_00126:
1153  0200  C9          	ret
1154  0201              	SECTION rodata_compiler
1155  0000              ___str_0:
1156  0000  4D 49 4C 4C 45 4E 49 41 4C 20 4D 4F 44 45 
                        	DEFM "MILLENIAL MODE"
1157  000E  00          	DEFB 0x00
1158  000F              	SECTION rodata_compiler
1159  000F              ___str_1:
1160  000F  47 45 4E 58 20 4D 4F 44 45 
                        	DEFM "GENX MODE"
1161  0018  00          	DEFB 0x00
1162  0019              	SECTION code_compiler
1163  0201              ;	---------------------------------
1164  0201              ; Function player_check_exit
1165  0201              ; ---------------------------------
1166  0201              _player_check_exit:
1167  0201  3A 00 00    	ld	a,(_obj_count)
1168  0204  3C          	inc	a
1169  0205  20 5F       	jr	NZ,l_player_check_exit_00109
1170  0207  21 08 00    	ld	hl,+(_col + 0x0008)
1171  020A  4E          	ld	c, (hl)
1172  020B  3A 00 00    	ld	a,(_game_exit_col)
1173  020E  91          	sub	a, c
1174  020F  20 55       	jr	NZ,l_player_check_exit_00109
1175  0211  2A 08 00    	ld	hl,(_lin + 0x0008)
1176  0214  26 00       	ld	h,0x00
1177  0216  01 10 00    	ld	bc,0x0010
1178  0219  09          	add	hl,bc
1179  021A  3A 00 00    	ld	a,(_game_exit_lin)
1180  021D  5F          	ld	e,a
1181  021E  16 00       	ld	d,0x00
1182  0220  7D          	ld	a,l
1183  0221  93          	sub	a,e
1184  0222  44          	ld	b,h
1185  0223  6F          	ld	l, a
1186  0224  78          	ld	a, b
1187  0225  9A          	sbc	a, d
1188  0226  67          	ld	h, a
1189  0227  CD 00 00    	call	_abs_fastcall
1190  022A  7D          	ld	a,l
1191  022B  32 00 00    	ld	(_v0),a
1192  022E  D6 08       	sub	a,0x08
1193  0230  30 34       	jr	NC,l_player_check_exit_00109
1194  0232  21 00 00    	ld	hl,_scr_curr
1195  0235  34          	inc	(hl)
1196  0236  21 00 00    	ld	hl,_game_round_up
1197  0239  36 01       	ld	(hl),0x01
1198  023B  01 08 00    	ld	bc,_state+8
1199  023E  0A          	ld	a, (bc)
1200  023F  E6 DF       	and	a,0xdf
1201  0241  02          	ld	(bc), a
1202  0242  CD 00 00    	call	_ay_song_stop
1203  0245              l_player_check_exit_00101:
1204  0245  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1205  0249  ED 5B 00 00 	ld	de,(_air_end_byte)
1206  024D  7B          	ld	a,e
1207  024E  91          	sub	a,c
1208  024F  7A          	ld	a,d
1209  0250  98          	sbc	a,b
1210  0251  D0          	ret	NC
1211  0252  CD 00 00    	call	_audio_tick
1212  0255  CD 00 00    	call	_game_anim_air
1213  0258  21 01 00    	ld	hl,0x0001
1214  025B  CD 3E 08    	call	_player_score_add
1215  025E  21 05 00    	ld	hl,0x0005
1216  0261  CD 00 00    	call	_z80_delay_ms_fastcall
1217  0264  18 DF       	jr	l_player_check_exit_00101
1218  0266              l_player_check_exit_00109:
1219  0266  C9          	ret
1220  0267              	SECTION code_compiler
1221  0267              ;	---------------------------------
1222  0267              ; Function player_move
1223  0267              ; ---------------------------------
1224  0267              _player_move:
1225  0267  3A 08 00    	ld	a,(_state + 0x0008)
1226  026A  CB 47       	bit	0, a
1227  026C  20 04       	jr	NZ,l_player_move_00101
1228  026E  CB 4F       	bit	1, a
1229  0270  28 05       	jr	Z,l_player_move_00102
1230  0272              l_player_move_00101:
1231  0272  CD 80 02    	call	_player_move_jump
1232  0275  18 03       	jr	l_player_move_00103
1233  0277              l_player_move_00102:
1234  0277  CD 13 04    	call	_player_move_walk
1235  027A              l_player_move_00103:
1236  027A  CD 00 00    	call	_spr_paint_player
1237  027D  2E 00       	ld	l,0x00
1238  027F  C9          	ret
1239  0280              	SECTION code_compiler
1240  0280              ;	---------------------------------
1241  0280              ; Function player_move_jump
1242  0280              ; ---------------------------------
1243  0280              _player_move_jump:
1244  0280  CD 00 00    	call	___sdcc_enter_ix
1245  0283  F5          	push	af
1246  0284  3B          	dec	sp
1247  0285  21 00 00    	ld	hl,_player_jump_count
1248  0288  34          	inc	(hl)
1249  0289  3E 11       	ld	a,0x11
1250  028B  96          	sub	a, (hl)
1251  028C  30 07       	jr	NC,l_player_move_jump_00102
1252  028E  01 08 00    	ld	bc,_state+8
1253  0291  0A          	ld	a, (bc)
1254  0292  E6 F3       	and	a,+(0xfb&0xf7)
1255  0294  02          	ld	(bc),a
1256  0295              l_player_move_jump_00102:
1257  0295  3A 08 00    	ld	a,(_state_a + 0x0008)
1258  0298  CB 57       	bit	2, a
1259  029A  28 19       	jr	Z,l_player_move_jump_00108
1260  029C  3E 02       	ld	a,0x02
1261  029E  21 00 00    	ld	hl,_player_jump_count
1262  02A1  96          	sub	a, (hl)
1263  02A2  30 0C       	jr	NC,l_player_move_jump_00104
1264  02A4  7E          	ld	a, (hl)
1265  02A5  D6 09       	sub	a,0x09
1266  02A7  30 07       	jr	NC,l_player_move_jump_00104
1267  02A9  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
1268  02AC  36 07       	ld	(hl),0x07
1269  02AE  18 05       	jr	l_player_move_jump_00108
1270  02B0              l_player_move_jump_00104:
1271  02B0  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
1272  02B3  36 04       	ld	(hl),0x04
1273  02B5              l_player_move_jump_00108:
1274  02B5  2A 00 00    	ld	hl,(_player_vel_y)
1275  02B8  ED 5B 00 00 	ld	de,(_game_gravity)
1276  02BC  19          	add	hl,de
1277  02BD  22 00 00    	ld	(_player_vel_y),hl
1278  02C0  01 08 00    	ld	bc,_state+8
1279  02C3  0A          	ld	a,(bc)
1280  02C4  E6 EF       	and	a,0xef
1281  02C6  02          	ld	(bc), a
1282  02C7  C5          	push	bc
1283  02C8  21 64 00    	ld	hl,0x0064
1284  02CB  E5          	push	hl
1285  02CC  2A 00 00    	ld	hl,(_player_vel_y)
1286  02CF  E5          	push	hl
1287  02D0  CD 00 00    	call	__divsint_callee
1288  02D3  EB          	ex	de,hl
1289  02D4  C1          	pop	bc
1290  02D5  CB 43       	bit	0,e
1291  02D7  21 00 00    	ld	hl,_s_lin1
1292  02DA  73          	ld	(hl),e
1293  02DB  28 04       	jr	Z,l_player_move_jump_00110
1294  02DD  21 00 00    	ld	hl,_s_lin1
1295  02E0  35          	dec	(hl)
1296  02E1              l_player_move_jump_00110:
1297  02E1  3A 08 00    	ld	a,(_lin + 0x0008)
1298  02E4  DD 77 FF    	ld	(ix-1),a
1299  02E7  21 00 00    	ld	hl,_s_lin1
1300  02EA  86          	add	a, (hl)
1301  02EB  77          	ld	(hl), a
1302  02EC  AF          	xor	a, a
1303  02ED  BB          	cp	a, e
1304  02EE  9A          	sbc	a, d
1305  02EF  E2 F4 02    	jp	PO, l_player_move_jump_00204
1306  02F2  EE 80       	xor	a,0x80
1307  02F4              l_player_move_jump_00204:
1308  02F4  FA 48 03    	jp	M, l_player_move_jump_00129
1309  02F7  C5          	push	bc
1310  02F8  CD 00 00    	call	_spr_set_up
1311  02FB  C1          	pop	bc
1312  02FC  3E 80       	ld	a,0x80
1313  02FE  21 00 00    	ld	hl,_s_lin1
1314  0301  96          	sub	a, (hl)
1315  0302  30 02       	jr	NC,l_player_move_jump_00112
1316  0304  36 00       	ld	(hl),0x00
1317  0306              l_player_move_jump_00112:
1318  0306  21 08 00    	ld	hl,+(_col + 0x0008)
1319  0309  56          	ld	d, (hl)
1320  030A  C5          	push	bc
1321  030B  D5          	push	de
1322  030C  33          	inc	sp
1323  030D  3A 00 00    	ld	a,(_s_lin1)
1324  0310  F5          	push	af
1325  0311  33          	inc	sp
1326  0312  CD B6 0A    	call	_player_check_ceil
1327  0315  F1          	pop	af
1328  0316  C1          	pop	bc
1329  0317  7D          	ld	a,l
1330  0318  B7          	or	a, a
1331  0319  20 1E       	jr	NZ,l_player_move_jump_00118
1332  031B  21 00 00    	ld	hl,0x0000
1333  031E  22 00 00    	ld	(_player_vel_y),hl
1334  0321  21 00 00    	ld	hl,_dirs
1335  0324  CB 5E       	bit	3, (hl)
1336  0326  20 04       	jr	NZ,l_player_move_jump_00114
1337  0328  0A          	ld	a, (bc)
1338  0329  E6 FB       	and	a,0xfb
1339  032B  02          	ld	(bc), a
1340  032C              l_player_move_jump_00114:
1341  032C  21 00 00    	ld	hl,_dirs
1342  032F  CB 56       	bit	2, (hl)
1343  0331  20 0C       	jr	NZ,l_player_move_jump_00119
1344  0333  0A          	ld	a, (bc)
1345  0334  E6 F7       	and	a,0xf7
1346  0336  02          	ld	(bc), a
1347  0337  18 06       	jr	l_player_move_jump_00119
1348  0339              l_player_move_jump_00118:
1349  0339  3A 00 00    	ld	a,(_s_lin1)
1350  033C  32 08 00    	ld	((_lin + 0x0008)),a
1351  033F              l_player_move_jump_00119:
1352  033F  3A 00 00    	ld	a,(_s_lin1)
1353  0342  32 00 00    	ld	(_player_jump_top),a
1354  0345  C3 D8 03    	jp	l_player_move_jump_00130
1355  0348              l_player_move_jump_00129:
1356  0348  C5          	push	bc
1357  0349  CD EB 0B    	call	_player_get_floor
1358  034C  C1          	pop	bc
1359  034D  7D          	ld	a,l
1360  034E  32 00 00    	ld	(_v0),a
1361  0351  21 00 00    	ld	hl,_s_lin1
1362  0354  7E          	ld	a, (hl)
1363  0355  D6 78       	sub	a,0x78
1364  0357  30 0E       	jr	NC,l_player_move_jump_00124
1365  0359  7E          	ld	a, (hl)
1366  035A  21 00 00    	ld	hl,_v0
1367  035D  96          	sub	a, (hl)
1368  035E  38 6D       	jr	C,l_player_move_jump_00125
1369  0360  7E          	ld	a, (hl)
1370  0361  21 00 00    	ld	hl,_s_lin0
1371  0364  96          	sub	a, (hl)
1372  0365  38 66       	jr	C,l_player_move_jump_00125
1373  0367              l_player_move_jump_00124:
1374  0367  3A 00 00    	ld	a,(_s_lin1)
1375  036A  5F          	ld	e,a
1376  036B  16 00       	ld	d,0x00
1377  036D  3A 00 00    	ld	a,(_player_jump_top)
1378  0370  DD 77 FD    	ld	(ix-3),a
1379  0373  DD 36 FE 00 	ld	(ix-2),0x00
1380  0377  7B          	ld	a, e
1381  0378  DD 96 FD    	sub	a,(ix-3)
1382  037B  5F          	ld	e, a
1383  037C  7A          	ld	a, d
1384  037D  DD 9E FE    	sbc	a,(ix-2)
1385  0380  57          	ld	d, a
1386  0381  7B          	ld	a, e
1387  0382  D6 28       	sub	a,0x28
1388  0384  7A          	ld	a, d
1389  0385  17          	rla
1390  0386  3F          	ccf
1391  0387  1F          	rra
1392  0388  DE 80       	sbc	a,0x80
1393  038A  38 04       	jr	C,l_player_move_jump_00121
1394  038C  0A          	ld	a, (bc)
1395  038D  F6 20       	or	a,0x20
1396  038F  02          	ld	(bc), a
1397  0390              l_player_move_jump_00121:
1398  0390  3A 00 00    	ld	a,(_v0)
1399  0393  32 08 00    	ld	((_lin + 0x0008)),a
1400  0396  21 00 00    	ld	hl,0x0000
1401  0399  22 00 00    	ld	(_player_vel_y),hl
1402  039C  0A          	ld	a, (bc)
1403  039D  E6 FC       	and	a,+(0xfd&0xfe)
1404  039F  02          	ld	(bc),a
1405  03A0  CD 8C 05    	call	_player_handle_conveyor
1406  03A3  CD 00 00    	call	_ay_fx_stop
1407  03A6  21 00 00    	ld	hl,_dirs
1408  03A9  CB 7E       	bit	7, (hl)
1409  03AB  28 0F       	jr	Z,l_player_move_jump_00123
1410  03AD  AF          	xor	a, a
1411  03AE  F5          	push	af
1412  03AF  33          	inc	sp
1413  03B0  CD A0 0B    	call	_player_check_floor
1414  03B3  33          	inc	sp
1415  03B4  3E 01       	ld	a,0x01
1416  03B6  F5          	push	af
1417  03B7  33          	inc	sp
1418  03B8  CD A0 0B    	call	_player_check_floor
1419  03BB  33          	inc	sp
1420  03BC              l_player_move_jump_00123:
1421  03BC  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
1422  03BF  36 04       	ld	(hl),0x04
1423  03C1  3A 08 00    	ld	a,(_state_a + 0x0008)
1424  03C4  E6 FB       	and	a,0xfb
1425  03C6  32 08 00    	ld	((_state_a + 0x0008)),a
1426  03C9  2E 00       	ld	l,0x00
1427  03CB  18 41       	jr	l_player_move_jump_00136
1428  03CD              l_player_move_jump_00125:
1429  03CD  C5          	push	bc
1430  03CE  CD 00 00    	call	_spr_set_down
1431  03D1  C1          	pop	bc
1432  03D2  3A 00 00    	ld	a,(_s_lin1)
1433  03D5  32 08 00    	ld	((_lin + 0x0008)),a
1434  03D8              l_player_move_jump_00130:
1435  03D8  0A          	ld	a, (bc)
1436  03D9  CB 5F       	bit	3, a
1437  03DB  20 04       	jr	NZ,l_player_move_jump_00133
1438  03DD  CB 57       	bit	2, a
1439  03DF  28 2B       	jr	Z,l_player_move_jump_00134
1440  03E1              l_player_move_jump_00133:
1441  03E1  2A 00 00    	ld	hl,(_player_jump_count)
1442  03E4  26 00       	ld	h,0x00
1443  03E6  01 00 00    	ld	bc,_player_jump_hor
1444  03E9  09          	add	hl,bc
1445  03EA  7E          	ld	a,(hl)
1446  03EB  B7          	or	a, a
1447  03EC  28 1B       	jr	Z,l_player_move_jump_00132
1448  03EE  3A 00 00    	ld	a,(_player_vel_y)
1449  03F1  21 00 00    	ld	hl,_game_gravity
1450  03F4  96          	sub	a, (hl)
1451  03F5  21 00 00    	ld	hl,_player_vel_y
1452  03F8  77          	ld	(hl), a
1453  03F9  23          	inc	hl
1454  03FA  7E          	ld	a, (hl)
1455  03FB  21 01 00    	ld	hl,_game_gravity + 1
1456  03FE  9E          	sbc	a, (hl)
1457  03FF  32 01 00    	ld	(_player_vel_y + 1),a
1458  0402  CD 00 00    	call	_spr_move_horizontal
1459  0405  2E 00       	ld	l,0x00
1460  0407  18 05       	jr	l_player_move_jump_00136
1461  0409              l_player_move_jump_00132:
1462  0409  CD 00 00    	call	_spr_move_horizontal
1463  040C              l_player_move_jump_00134:
1464  040C  2E 01       	ld	l,0x01
1465  040E              l_player_move_jump_00136:
1466  040E  DD F9       	ld	sp, ix
1467  0410  DD E1       	pop	ix
1468  0412  C9          	ret
1469  0413              	SECTION code_compiler
1470  0413              ;	---------------------------------
1471  0413              ; Function player_move_walk
1472  0413              ; ---------------------------------
1473  0413              _player_move_walk:
1474  0413  CD 01 08    	call	_player_check_input
1475  0416  7D          	ld	a, l
1476  0417  B7          	or	a, a
1477  0418  28 55       	jr	Z,l_player_move_walk_00117
1478  041A  21 00 00    	ld	hl,_dirs
1479  041D  CB 7E       	bit	7, (hl)
1480  041F  28 0E       	jr	Z,l_player_move_walk_00104
1481  0421  CD C4 05    	call	_player_new_jump
1482  0424  7D          	ld	a, l
1483  0425  B7          	or	a, a
1484  0426  28 03       	jr	Z,l_player_move_walk_00102
1485  0428  CD 00 00    	call	_spr_move_horizontal
1486  042B              l_player_move_walk_00102:
1487  042B  2E 01       	ld	l,0x01
1488  042D  18 4F       	jr	l_player_move_walk_00119
1489  042F              l_player_move_walk_00104:
1490  042F  01 08 00    	ld	bc,_state+8
1491  0432  0A          	ld	a, (bc)
1492  0433  CB 67       	bit	4, a
1493  0435  20 05       	jr	NZ,l_player_move_walk_00106
1494  0437  C5          	push	bc
1495  0438  CD C2 04    	call	_player_handle_walk
1496  043B  C1          	pop	bc
1497  043C              l_player_move_walk_00106:
1498  043C  3A 08 00    	ld	a,(_state_a + 0x0008)
1499  043F  0F          	rrca
1500  0440  38 05       	jr	C,l_player_move_walk_00112
1501  0442  CD 8C 05    	call	_player_handle_conveyor
1502  0445  18 1E       	jr	l_player_move_walk_00113
1503  0447              l_player_move_walk_00112:
1504  0447  21 00 00    	ld	hl,_dirs
1505  044A  CB 5E       	bit	3, (hl)
1506  044C  28 04       	jr	Z,l_player_move_walk_00108
1507  044E  0A          	ld	a, (bc)
1508  044F  F6 04       	or	a,0x04
1509  0451  02          	ld	(bc), a
1510  0452              l_player_move_walk_00108:
1511  0452  21 00 00    	ld	hl,_dirs
1512  0455  CB 56       	bit	2, (hl)
1513  0457  28 04       	jr	Z,l_player_move_walk_00110
1514  0459  0A          	ld	a, (bc)
1515  045A  F6 08       	or	a,0x08
1516  045C  02          	ld	(bc), a
1517  045D              l_player_move_walk_00110:
1518  045D  21 08 04    	ld	hl,0x0408
1519  0460  E5          	push	hl
1520  0461  CD 24 08    	call	_player_tile
1521  0464  F1          	pop	af
1522  0465              l_player_move_walk_00113:
1523  0465  CD FA 04    	call	_player_handle_fall
1524  0468  CD 00 00    	call	_spr_move_horizontal
1525  046B  2E 01       	ld	l,0x01
1526  046D  18 0F       	jr	l_player_move_walk_00119
1527  046F              l_player_move_walk_00117:
1528  046F  CD 8C 05    	call	_player_handle_conveyor
1529  0472  7D          	ld	a, l
1530  0473  B7          	or	a, a
1531  0474  28 03       	jr	Z,l_player_move_walk_00115
1532  0476  CD 00 00    	call	_spr_move_horizontal
1533  0479              l_player_move_walk_00115:
1534  0479  CD FA 04    	call	_player_handle_fall
1535  047C  2E 00       	ld	l,0x00
1536  047E              l_player_move_walk_00119:
1537  047E  C9          	ret
1538  047F              	SECTION code_compiler
1539  047F              ;	---------------------------------
1540  047F              ; Function player_handle_lock
1541  047F              ; ---------------------------------
1542  047F              _player_handle_lock:
1543  047F  3A 00 00    	ld	a,(_dirs)
1544  0482  B7          	or	a, a
1545  0483  28 07       	jr	Z,l_player_handle_lock_00107
1546  0485  3A 08 00    	ld	a,(_state + 0x0008)
1547  0488  CB 67       	bit	4, a
1548  048A  28 09       	jr	Z,l_player_handle_lock_00108
1549  048C              l_player_handle_lock_00107:
1550  048C  01 08 00    	ld	bc,_state_a+8
1551  048F  0A          	ld	a, (bc)
1552  0490  E6 FE       	and	a,0xfe
1553  0492  02          	ld	(bc), a
1554  0493  18 2C       	jr	l_player_handle_lock_00111
1555  0495              l_player_handle_lock_00108:
1556  0495  21 00 00    	ld	hl,_dirs
1557  0498  CB 7E       	bit	7, (hl)
1558  049A  28 07       	jr	Z,l_player_handle_lock_00102
1559  049C  21 00 00    	ld	hl,_dirs_last
1560  049F  CB FE       	set	7, (hl)
1561  04A1  18 05       	jr	l_player_handle_lock_00103
1562  04A3              l_player_handle_lock_00102:
1563  04A3  21 00 00    	ld	hl,_dirs_last
1564  04A6  CB BE       	res	7, (hl)
1565  04A8              l_player_handle_lock_00103:
1566  04A8  3A 00 00    	ld	a,(_dirs)
1567  04AB  21 00 00    	ld	hl,_dirs_last
1568  04AE  96          	sub	a, (hl)
1569  04AF  20 09       	jr	NZ,l_player_handle_lock_00105
1570  04B1  01 08 00    	ld	bc,_state_a+8
1571  04B4  0A          	ld	a, (bc)
1572  04B5  F6 01       	or	a,0x01
1573  04B7  02          	ld	(bc), a
1574  04B8  18 07       	jr	l_player_handle_lock_00111
1575  04BA              l_player_handle_lock_00105:
1576  04BA  01 08 00    	ld	bc,_state_a+8
1577  04BD  0A          	ld	a, (bc)
1578  04BE  E6 FE       	and	a,0xfe
1579  04C0  02          	ld	(bc), a
1580  04C1              l_player_handle_lock_00111:
1581  04C1  C9          	ret
1582  04C2              	SECTION code_compiler
1583  04C2              ;	---------------------------------
1584  04C2              ; Function player_handle_walk
1585  04C2              ; ---------------------------------
1586  04C2              _player_handle_walk:
1587  04C2  21 00 00    	ld	hl,_dirs
1588  04C5  CB 5E       	bit	3, (hl)
1589  04C7  28 11       	jr	Z,l_player_handle_walk_00104
1590  04C9  3A 08 00    	ld	a,(_state_a + 0x0008)
1591  04CC  CB 5F       	bit	3, a
1592  04CE  28 07       	jr	Z,l_player_handle_walk_00102
1593  04D0  01 08 00    	ld	bc,_colint+8
1594  04D3  0A          	ld	a, (bc)
1595  04D4  C6 FF       	add	a,0xff
1596  04D6  02          	ld	(bc), a
1597  04D7              l_player_handle_walk_00102:
1598  04D7  CD 00 00    	call	_spr_set_right
1599  04DA              l_player_handle_walk_00104:
1600  04DA  21 00 00    	ld	hl,_dirs
1601  04DD  CB 56       	bit	2, (hl)
1602  04DF  28 10       	jr	Z,l_player_handle_walk_00108
1603  04E1  3A 08 00    	ld	a,(_state_a + 0x0008)
1604  04E4  CB 67       	bit	4, a
1605  04E6  28 06       	jr	Z,l_player_handle_walk_00106
1606  04E8  01 08 00    	ld	bc,_colint+8
1607  04EB  0A          	ld	a, (bc)
1608  04EC  3C          	inc	a
1609  04ED  02          	ld	(bc), a
1610  04EE              l_player_handle_walk_00106:
1611  04EE  CD 00 00    	call	_spr_set_left
1612  04F1              l_player_handle_walk_00108:
1613  04F1  21 08 04    	ld	hl,0x0408
1614  04F4  E5          	push	hl
1615  04F5  CD 24 08    	call	_player_tile
1616  04F8  F1          	pop	af
1617  04F9  C9          	ret
1618  04FA              	SECTION code_compiler
1619  04FA              ;	---------------------------------
1620  04FA              ; Function player_handle_fall
1621  04FA              ; ---------------------------------
1622  04FA              _player_handle_fall:
1623  04FA  AF          	xor	a, a
1624  04FB  F5          	push	af
1625  04FC  33          	inc	sp
1626  04FD  CD A0 0B    	call	_player_check_floor
1627  0500  33          	inc	sp
1628  0501  7D          	ld	a, l
1629  0502  B7          	or	a, a
1630  0503  C8          	ret	Z
1631  0504  3E 01       	ld	a,0x01
1632  0506  F5          	push	af
1633  0507  33          	inc	sp
1634  0508  CD A0 0B    	call	_player_check_floor
1635  050B  33          	inc	sp
1636  050C  7D          	ld	a, l
1637  050D  B7          	or	a, a
1638  050E  C8          	ret	Z
1639  050F  3A 08 00    	ld	a,(_lin + 0x0008)
1640  0512  32 00 00    	ld	(_player_jump_top),a
1641  0515  01 08 00    	ld	bc,_state+8
1642  0518  0A          	ld	a, (bc)
1643  0519  F6 02       	or	a,0x02
1644  051B  E6 F3       	and	a,+(0xf7&0xfb)
1645  051D  02          	ld	(bc),a
1646  051E  01 08 00    	ld	bc,_state_a+8
1647  0521  0A          	ld	a, (bc)
1648  0522  E6 FE       	and	a,0xfe
1649  0524  02          	ld	(bc), a
1650  0525  21 00 00    	ld	hl,_player_jump_count
1651  0528  36 FF       	ld	(hl),0xff
1652  052A  21 00 00    	ld	hl,_player_fall_start
1653  052D  36 01       	ld	(hl),0x01
1654  052F  C3 00 00    	jp  _audio_fall
1655  0532              	SECTION code_compiler
1656  0532              ;	---------------------------------
1657  0532              ; Function player_check_conveyor
1658  0532              ; ---------------------------------
1659  0532              _player_check_conveyor:
1660  0532  3A 08 00    	ld	a,(_state_a + 0x0008)
1661  0535  0F          	rrca
1662  0536  38 53       	jr	C,l_player_check_conveyor_00107
1663  0538  21 08 00    	ld	hl,+(_col + 0x0008)
1664  053B  56          	ld	d, (hl)
1665  053C  3A 08 00    	ld	a,(_lin + 0x0008)
1666  053F  C6 10       	add	a,0x10
1667  0541  5F          	ld	e, a
1668  0542  D5          	push	de
1669  0543  CD 00 00    	call	_spr_calc_index
1670  0546  F1          	pop	af
1671  0547  22 00 00    	ld	(_index1),hl
1672  054A  01 00 00    	ld	bc,_tile_class+0
1673  054D  11 00 00    	ld	de,_scr_map
1674  0550  2A 00 00    	ld	hl,(_index1)
1675  0553  19          	add	hl,de
1676  0554  6E          	ld	l,(hl)
1677  0555  26 00       	ld	h,0x00
1678  0557  09          	add	hl, bc
1679  0558  7E          	ld	a, (hl)
1680  0559  32 00 00    	ld	(_v0),a
1681  055C  ED 5B 00 00 	ld	de,(_index1)
1682  0560  13          	inc	de
1683  0561  21 00 00    	ld	hl,_scr_map
1684  0564  19          	add	hl, de
1685  0565  6E          	ld	l, (hl)
1686  0566  26 00       	ld	h,0x00
1687  0568  09          	add	hl, bc
1688  0569  7E          	ld	a, (hl)
1689  056A  32 00 00    	ld	(_v1),a
1690  056D  3A 00 00    	ld	a,(_v0)
1691  0570  D6 04       	sub	a,0x04
1692  0572  28 07       	jr	Z,l_player_check_conveyor_00101
1693  0574  3A 00 00    	ld	a,(_v1)
1694  0577  D6 04       	sub	a,0x04
1695  0579  20 09       	jr	NZ,l_player_check_conveyor_00102
1696  057B              l_player_check_conveyor_00101:
1697  057B  01 08 00    	ld	bc,_state+8
1698  057E  0A          	ld	a, (bc)
1699  057F  F6 10       	or	a,0x10
1700  0581  02          	ld	(bc), a
1701  0582  18 07       	jr	l_player_check_conveyor_00107
1702  0584              l_player_check_conveyor_00102:
1703  0584  01 08 00    	ld	bc,_state+8
1704  0587  0A          	ld	a, (bc)
1705  0588  E6 EF       	and	a,0xef
1706  058A  02          	ld	(bc), a
1707  058B              l_player_check_conveyor_00107:
1708  058B  C9          	ret
1709  058C              	SECTION code_compiler
1710  058C              ;	---------------------------------
1711  058C              ; Function player_handle_conveyor
1712  058C              ; ---------------------------------
1713  058C              _player_handle_conveyor:
1714  058C  CD 32 05    	call	_player_check_conveyor
1715  058F  3A 08 00    	ld	a,(_state + 0x0008)
1716  0592  CB 67       	bit	4, a
1717  0594  28 2B       	jr	Z,l_player_handle_conveyor_00106
1718  0596  3A 00 00    	ld	a,(_game_conveyor_dir)
1719  0599  D6 02       	sub	a,0x02
1720  059B  20 0F       	jr	NZ,l_player_handle_conveyor_00102
1721  059D  CD 00 00    	call	_spr_set_right
1722  05A0  21 08 04    	ld	hl,0x0408
1723  05A3  E5          	push	hl
1724  05A4  CD 24 08    	call	_player_tile
1725  05A7  F1          	pop	af
1726  05A8  2E 01       	ld	l,0x01
1727  05AA  18 17       	jr	l_player_handle_conveyor_00107
1728  05AC              l_player_handle_conveyor_00102:
1729  05AC  3A 00 00    	ld	a,(_game_conveyor_dir)
1730  05AF  3D          	dec	a
1731  05B0  20 0F       	jr	NZ,l_player_handle_conveyor_00106
1732  05B2  CD 00 00    	call	_spr_set_left
1733  05B5  21 08 04    	ld	hl,0x0408
1734  05B8  E5          	push	hl
1735  05B9  CD 24 08    	call	_player_tile
1736  05BC  F1          	pop	af
1737  05BD  2E 01       	ld	l,0x01
1738  05BF  18 02       	jr	l_player_handle_conveyor_00107
1739  05C1              l_player_handle_conveyor_00106:
1740  05C1  2E 00       	ld	l,0x00
1741  05C3              l_player_handle_conveyor_00107:
1742  05C3  C9          	ret
1743  05C4              	SECTION code_compiler
1744  05C4              ;	---------------------------------
1745  05C4              ; Function player_new_jump
1746  05C4              ; ---------------------------------
1747  05C4              _player_new_jump:
1748  05C4  21 08 00    	ld	hl,+(_col + 0x0008)
1749  05C7  56          	ld	d, (hl)
1750  05C8  21 08 00    	ld	hl,+(_lin + 0x0008)
1751  05CB  46          	ld	b, (hl)
1752  05CC  05          	dec	b
1753  05CD  05          	dec	b
1754  05CE  58          	ld	e,b
1755  05CF  D5          	push	de
1756  05D0  CD B6 0A    	call	_player_check_ceil
1757  05D3  F1          	pop	af
1758  05D4  7D          	ld	a, l
1759  05D5  B7          	or	a, a
1760  05D6  CA B2 06    	jp	Z, l_player_new_jump_00128
1761  05D9  3A 08 00    	ld	a,(_state_a + 0x0008)
1762  05DC  E6 FB       	and	a,0xfb
1763  05DE  32 08 00    	ld	((_state_a + 0x0008)),a
1764  05E1  3A 00 00    	ld	a,(_game_mode)
1765  05E4  B7          	or	a, a
1766  05E5  20 0E       	jr	NZ,l_player_new_jump_00102
1767  05E7  21 64 00    	ld	hl,0x0064
1768  05EA  22 00 00    	ld	(_game_gravity),hl
1769  05ED  21 A8 FD    	ld	hl,0xfda8
1770  05F0  22 00 00    	ld	(_player_vel_y0),hl
1771  05F3  18 0C       	jr	l_player_new_jump_00103
1772  05F5              l_player_new_jump_00102:
1773  05F5  21 64 00    	ld	hl,0x0064
1774  05F8  22 00 00    	ld	(_game_gravity),hl
1775  05FB  21 A8 FD    	ld	hl,0xfda8
1776  05FE  22 00 00    	ld	(_player_vel_y0),hl
1777  0601              l_player_new_jump_00103:
1778  0601  21 00 00    	ld	hl,_player_vel_inc
1779  0604  36 01       	ld	(hl),0x01
1780  0606  21 00 00    	ld	hl,_player_jump_count
1781  0609  36 FF       	ld	(hl),0xff
1782  060B  CD 00 00    	call	_audio_jump
1783  060E  CD 00 00    	call	_spr_set_up
1784  0611  2A 00 00    	ld	hl,(_player_vel_y0)
1785  0614  22 00 00    	ld	(_player_vel_y),hl
1786  0617  3A 08 00    	ld	a,(_state_a + 0x0008)
1787  061A  E6 FB       	and	a,0xfb
1788  061C  32 08 00    	ld	((_state_a + 0x0008)),a
1789  061F  CD 32 05    	call	_player_check_conveyor
1790  0622  2A 08 00    	ld	hl,(_state + 0x0008)
1791  0625  5D          	ld	e, l
1792  0626  CB 9B       	res	3, e
1793  0628  4B          	ld	c, e
1794  0629  CB 91       	res	2, c
1795  062B  CB 65       	bit	4, l
1796  062D  28 43       	jr	Z,l_player_new_jump_00122
1797  062F  3A 08 00    	ld	a,(_state_a + 0x0008)
1798  0632  CB 47       	bit	0, a
1799  0634  28 2F       	jr	Z,l_player_new_jump_00115
1800  0636  21 00 00    	ld	hl,_dirs
1801  0639  CB 56       	bit	2,(hl)
1802  063B  20 12       	jr	NZ,l_player_new_jump_00108
1803  063D  CB 5E       	bit	3, (hl)
1804  063F  20 0E       	jr	NZ,l_player_new_jump_00108
1805  0641  CB 4F       	bit	1, a
1806  0643  20 07       	jr	NZ,l_player_new_jump_00105
1807  0645  21 08 00    	ld	hl, +(_state + 0x0008)
1808  0648  73          	ld	(hl), e
1809  0649  71          	ld	(hl), c
1810  064A  18 03       	jr	l_player_new_jump_00108
1811  064C              l_player_new_jump_00105:
1812  064C  CD 8C 05    	call	_player_handle_conveyor
1813  064F              l_player_new_jump_00108:
1814  064F  21 00 00    	ld	hl,_dirs
1815  0652  CB 56       	bit	2, (hl)
1816  0654  28 03       	jr	Z,l_player_new_jump_00111
1817  0656  CD 00 00    	call	_spr_set_left
1818  0659              l_player_new_jump_00111:
1819  0659  21 00 00    	ld	hl,_dirs
1820  065C  CB 5E       	bit	3, (hl)
1821  065E  28 08       	jr	Z,l_player_new_jump_00116
1822  0660  CD 00 00    	call	_spr_set_right
1823  0663  18 03       	jr	l_player_new_jump_00116
1824  0665              l_player_new_jump_00115:
1825  0665  CD 8C 05    	call	_player_handle_conveyor
1826  0668              l_player_new_jump_00116:
1827  0668  3A 08 00    	ld	a,(_state_a + 0x0008)
1828  066B  F6 02       	or	a,0x02
1829  066D  32 08 00    	ld	((_state_a + 0x0008)),a
1830  0670  18 21       	jr	l_player_new_jump_00123
1831  0672              l_player_new_jump_00122:
1832  0672  21 08 00    	ld	hl, +(_state + 0x0008)
1833  0675  73          	ld	(hl), e
1834  0676  71          	ld	(hl), c
1835  0677  3A 08 00    	ld	a,(_state_a + 0x0008)
1836  067A  E6 FD       	and	a,0xfd
1837  067C  32 08 00    	ld	((_state_a + 0x0008)),a
1838  067F  21 00 00    	ld	hl,_dirs
1839  0682  CB 56       	bit	2, (hl)
1840  0684  28 03       	jr	Z,l_player_new_jump_00118
1841  0686  CD 00 00    	call	_spr_set_left
1842  0689              l_player_new_jump_00118:
1843  0689  21 00 00    	ld	hl,_dirs
1844  068C  CB 5E       	bit	3, (hl)
1845  068E  28 03       	jr	Z,l_player_new_jump_00123
1846  0690  CD 00 00    	call	_spr_set_right
1847  0693              l_player_new_jump_00123:
1848  0693  3A 08 00    	ld	a,(_state + 0x0008)
1849  0696  CB 5F       	bit	3, a
1850  0698  20 0C       	jr	NZ,l_player_new_jump_00125
1851  069A  CB 57       	bit	2, a
1852  069C  20 08       	jr	NZ,l_player_new_jump_00125
1853  069E  3A 08 00    	ld	a,(_state_a + 0x0008)
1854  06A1  F6 04       	or	a,0x04
1855  06A3  32 08 00    	ld	((_state_a + 0x0008)),a
1856  06A6              l_player_new_jump_00125:
1857  06A6  21 08 04    	ld	hl,0x0408
1858  06A9  E5          	push	hl
1859  06AA  CD 24 08    	call	_player_tile
1860  06AD  F1          	pop	af
1861  06AE  2E 01       	ld	l,0x01
1862  06B0  18 02       	jr	l_player_new_jump_00129
1863  06B2              l_player_new_jump_00128:
1864  06B2  2E 00       	ld	l,0x00
1865  06B4              l_player_new_jump_00129:
1866  06B4  C9          	ret
1867  06B5              	SECTION code_compiler
1868  06B5              ;	---------------------------------
1869  06B5              ; Function player_collision
1870  06B5              ; ---------------------------------
1871  06B5              _player_collision:
1872  06B5  21 08 00    	ld	hl,+(_col + 0x0008)
1873  06B8  56          	ld	d, (hl)
1874  06B9  21 08 00    	ld	hl,+(_lin + 0x0008)
1875  06BC  5E          	ld	e, (hl)
1876  06BD  D5          	push	de
1877  06BE  CD 00 00    	call	_spr_calc_index
1878  06C1  F1          	pop	af
1879  06C2  22 00 00    	ld	(_index1),hl
1880  06C5  CD D2 07    	call	_player_pick
1881  06C8  21 08 00    	ld	hl,+(_col + 0x0008)
1882  06CB  56          	ld	d, (hl)
1883  06CC  3A 08 00    	ld	a,(_lin + 0x0008)
1884  06CF  C6 0E       	add	a,0x0e
1885  06D1  5F          	ld	e, a
1886  06D2  D5          	push	de
1887  06D3  CD 00 00    	call	_spr_calc_index
1888  06D6  F1          	pop	af
1889  06D7  22 00 00    	ld	(_index1),hl
1890  06DA  CD D2 07    	call	_player_pick
1891  06DD  21 08 00    	ld	hl,+(_col + 0x0008)
1892  06E0  56          	ld	d, (hl)
1893  06E1  14          	inc	d
1894  06E2  21 08 00    	ld	hl,+(_lin + 0x0008)
1895  06E5  5E          	ld	e, (hl)
1896  06E6  D5          	push	de
1897  06E7  CD 00 00    	call	_spr_calc_index
1898  06EA  F1          	pop	af
1899  06EB  22 00 00    	ld	(_index1),hl
1900  06EE  CD D2 07    	call	_player_pick
1901  06F1  21 08 00    	ld	hl,+(_col + 0x0008)
1902  06F4  56          	ld	d, (hl)
1903  06F5  14          	inc	d
1904  06F6  3A 08 00    	ld	a,(_lin + 0x0008)
1905  06F9  C6 0E       	add	a,0x0e
1906  06FB  5F          	ld	e, a
1907  06FC  D5          	push	de
1908  06FD  CD 00 00    	call	_spr_calc_index
1909  0700  F1          	pop	af
1910  0701  22 00 00    	ld	(_index1),hl
1911  0704  CD D2 07    	call	_player_pick
1912  0707  21 00 00    	ld	hl,_i
1913  070A  36 00       	ld	(hl),0x00
1914  070C              l_player_collision_00119:
1915  070C  2A 00 00    	ld	hl,(_i)
1916  070F  26 00       	ld	h,0x00
1917  0711  01 00 00    	ld	bc,_class
1918  0714  09          	add	hl,bc
1919  0715  7E          	ld	a,(hl)
1920  0716  B7          	or	a,a
1921  0717  CA C6 07    	jp	Z,l_player_collision_00120
1922  071A  2A 00 00    	ld	hl,(_i)
1923  071D  26 00       	ld	h,0x00
1924  071F  01 00 00    	ld	bc,_col
1925  0722  09          	add	hl,bc
1926  0723  4E          	ld	c, (hl)
1927  0724  06 00       	ld	b,0x00
1928  0726  ED 5B 08 00 	ld	de,(_col + 0x0008)
1929  072A  50          	ld	d,b
1930  072B  79          	ld	a, c
1931  072C  93          	sub	a, e
1932  072D  6F          	ld	l, a
1933  072E  78          	ld	a, b
1934  072F  9A          	sbc	a, d
1935  0730  67          	ld	h, a
1936  0731  CD 00 00    	call	_abs_fastcall
1937  0734  7D          	ld	a,l
1938  0735  32 00 00    	ld	(_v0),a
1939  0738  D6 02       	sub	a,0x02
1940  073A  D2 C6 07    	jp	NC, l_player_collision_00120
1941  073D  2A 00 00    	ld	hl,(_i)
1942  0740  26 00       	ld	h,0x00
1943  0742  01 00 00    	ld	bc,_lin
1944  0745  09          	add	hl,bc
1945  0746  4E          	ld	c,(hl)
1946  0747  06 00       	ld	b,0x00
1947  0749  ED 5B 08 00 	ld	de,(_lin + 0x0008)
1948  074D  50          	ld	d,b
1949  074E  79          	ld	a, c
1950  074F  93          	sub	a, e
1951  0750  6F          	ld	l, a
1952  0751  78          	ld	a, b
1953  0752  9A          	sbc	a, d
1954  0753  67          	ld	h, a
1955  0754  CD 00 00    	call	_abs_fastcall
1956  0757  7D          	ld	a,l
1957  0758  32 00 00    	ld	(_v0),a
1958  075B  2A 00 00    	ld	hl,(_i)
1959  075E  26 00       	ld	h,0x00
1960  0760  01 00 00    	ld	bc,_lin
1961  0763  09          	add	hl,bc
1962  0764  4E          	ld	c,(hl)
1963  0765  21 08 00    	ld	hl,+(_lin + 0x0008)
1964  0768  46          	ld	b, (hl)
1965  0769  79          	ld	a, c
1966  076A  90          	sub	a, b
1967  076B  30 13       	jr	NC,l_player_collision_00108
1968  076D  21 00 00    	ld	hl,_v0
1969  0770  7E          	ld	a, (hl)
1970  0771  D6 10       	sub	a,0x10
1971  0773  30 04       	jr	NC,l_player_collision_00102
1972  0775  36 01       	ld	(hl),0x01
1973  0777  18 18       	jr	l_player_collision_00109
1974  0779              l_player_collision_00102:
1975  0779  21 00 00    	ld	hl,_v0
1976  077C  36 00       	ld	(hl),0x00
1977  077E  18 11       	jr	l_player_collision_00109
1978  0780              l_player_collision_00108:
1979  0780  21 00 00    	ld	hl,_v0
1980  0783  7E          	ld	a, (hl)
1981  0784  D6 0E       	sub	a,0x0e
1982  0786  30 04       	jr	NC,l_player_collision_00105
1983  0788  36 01       	ld	(hl),0x01
1984  078A  18 05       	jr	l_player_collision_00109
1985  078C              l_player_collision_00105:
1986  078C  21 00 00    	ld	hl,_v0
1987  078F  36 00       	ld	(hl),0x00
1988  0791              l_player_collision_00109:
1989  0791  3A 00 00    	ld	a,(_v0)
1990  0794  B7          	or	a, a
1991  0795  28 2F       	jr	Z,l_player_collision_00120
1992  0797  2A 00 00    	ld	hl,(_i)
1993  079A  26 00       	ld	h,0x00
1994  079C  01 00 00    	ld	bc,_colint
1995  079F  09          	add	hl,bc
1996  07A0  4E          	ld	c,(hl)
1997  07A1  06 00       	ld	b,0x00
1998  07A3  ED 5B 08 00 	ld	de,(_colint + 8)
1999  07A7  50          	ld	d,b
2000  07A8  79          	ld	a, c
2001  07A9  93          	sub	a, e
2002  07AA  6F          	ld	l, a
2003  07AB  78          	ld	a, b
2004  07AC  9A          	sbc	a, d
2005  07AD  67          	ld	h, a
2006  07AE  CD 00 00    	call	_abs_fastcall
2007  07B1  7D          	ld	a,l
2008  07B2  32 00 00    	ld	(_v0),a
2009  07B5  D6 02       	sub	a,0x02
2010  07B7  30 0D       	jr	NC,l_player_collision_00120
2011  07B9  21 FF FF    	ld	hl,0xffff
2012  07BC  22 00 00    	ld	(_player_kill_index),hl
2013  07BF  01 08 00    	ld	bc,_state+8
2014  07C2  0A          	ld	a,(bc)
2015  07C3  F6 20       	or	a,0x20
2016  07C5  02          	ld	(bc), a
2017  07C6              l_player_collision_00120:
2018  07C6  21 00 00    	ld	hl,_i
2019  07C9  7E          	ld	a,(hl)
2020  07CA  3C          	inc	a
2021  07CB  77          	ld	(hl),a
2022  07CC  D6 08       	sub	a,0x08
2023  07CE  DA 0C 07    	jp	C, l_player_collision_00119
2024  07D1  C9          	ret
2025  07D2              	SECTION code_compiler
2026  07D2              ;	---------------------------------
2027  07D2              ; Function player_pick
2028  07D2              ; ---------------------------------
2029  07D2              _player_pick:
2030  07D2  01 00 00    	ld	bc,_scr_map
2031  07D5  2A 00 00    	ld	hl,(_index1)
2032  07D8  09          	add	hl,bc
2033  07D9  7E          	ld	a,(hl)
2034  07DA  32 00 00    	ld	(_v0),a
2035  07DD  F5          	push	af
2036  07DE  33          	inc	sp
2037  07DF  CD E7 09    	call	_player_pick_deadly
2038  07E2  33          	inc	sp
2039  07E3  7D          	ld	a,l
2040  07E4  32 00 00    	ld	(_v0),a
2041  07E7  2A 00 00    	ld	hl,(_index1)
2042  07EA  E5          	push	hl
2043  07EB  F5          	push	af
2044  07EC  33          	inc	sp
2045  07ED  CD 9F 09    	call	_player_pick_item
2046  07F0  F1          	pop	af
2047  07F1  33          	inc	sp
2048  07F2  7D          	ld	a,l
2049  07F3  32 00 00    	ld	(_v0),a
2050  07F6  F5          	push	af
2051  07F7  33          	inc	sp
2052  07F8  CD 1E 0A    	call	_player_pick_extra
2053  07FB  33          	inc	sp
2054  07FC  7D          	ld	a,l
2055  07FD  32 00 00    	ld	(_v0),a
2056  0800  C9          	ret
2057  0801              	SECTION code_compiler
2058  0801              ;	---------------------------------
2059  0801              ; Function player_check_input
2060  0801              ; ---------------------------------
2061  0801              _player_check_input:
2062  0801  21 00 00    	ld	hl,_dirs
2063  0804  CB 56       	bit	2,(hl)
2064  0806  28 06       	jr	Z,l_player_check_input_00102
2065  0808  CB 5E       	bit	3,(hl)
2066  080A  28 02       	jr	Z,l_player_check_input_00102
2067  080C  36 00       	ld	(hl),0x00
2068  080E              l_player_check_input_00102:
2069  080E  21 00 00    	ld	hl,_dirs
2070  0811  CB 56       	bit	2,(hl)
2071  0813  20 08       	jr	NZ,l_player_check_input_00104
2072  0815  CB 5E       	bit	3,(hl)
2073  0817  20 04       	jr	NZ,l_player_check_input_00104
2074  0819  CB 7E       	bit	7, (hl)
2075  081B  28 04       	jr	Z,l_player_check_input_00105
2076  081D              l_player_check_input_00104:
2077  081D  2E 01       	ld	l,0x01
2078  081F  18 02       	jr	l_player_check_input_00108
2079  0821              l_player_check_input_00105:
2080  0821  2E 00       	ld	l,0x00
2081  0823              l_player_check_input_00108:
2082  0823  C9          	ret
2083  0824              	SECTION code_compiler
2084  0824              ;	---------------------------------
2085  0824              ; Function player_tile
2086  0824              ; ---------------------------------
2087  0824              _player_tile:
2088  0824  CD 00 00    	call	___sdcc_enter_ix
2089  0827  21 05 00    	ld	hl,0x0005
2090  082A  39          	add	hl, sp
2091  082B  EB          	ex	de,hl
2092  082C  21 04 00    	ld	hl,0x0004
2093  082F  39          	add	hl, sp
2094  0830  D5          	push	de
2095  0831  E5          	push	hl
2096  0832  CD 00 00    	call	_spr_get_tile_dir
2097  0835  F1          	pop	af
2098  0836  F1          	pop	af
2099  0837  7D          	ld	a,l
2100  0838  32 08 00    	ld	((_tile + 0x0008)),a
2101  083B  DD E1       	pop	ix
2102  083D  C9          	ret
2103  083E              	SECTION code_compiler
2104  083E              ;	---------------------------------
2105  083E              ; Function player_score_add
2106  083E              ; ---------------------------------
2107  083E              _player_score_add:
2108  083E  CD 00 00    	call	___sdcc_enter_ix
2109  0841  F5          	push	af
2110  0842  F5          	push	af
2111  0843  F5          	push	af
2112  0844  F5          	push	af
2113  0845  DD 75 F8    	ld	(ix-8),l
2114  0848  DD 74 F9    	ld	(ix-7),h
2115  084B  3E 00       	ld	a,0x00
2116  084D  DD 77 FA    	ld	(ix-6),a
2117  0850  DD 77 FB    	ld	(ix-5),a
2118  0853  DD 77 FC    	ld	(ix-4),a
2119  0856  DD 77 FD    	ld	(ix-3),a
2120  0859  DD 36 FE 00 	ld	(ix-2),0x00
2121  085D  DD 36 FF 00 	ld	(ix-1),0x00
2122  0861  2A 00 00    	ld	hl,(_player_score)
2123  0864  DD 5E F8    	ld	e,(ix-8)
2124  0867  DD 56 F9    	ld	d,(ix-7)
2125  086A  19          	add	hl,de
2126  086B  22 00 00    	ld	(_player_score),hl
2127  086E  21 02 00    	ld	hl,_player_score + 2
2128  0871  7E          	ld	a, (hl)
2129  0872  DD 8E FA    	adc	a,(ix-6)
2130  0875  77          	ld	(hl), a
2131  0876  23          	inc	hl
2132  0877  7E          	ld	a, (hl)
2133  0878  DD 8E FB    	adc	a,(ix-5)
2134  087B  77          	ld	(hl), a
2135  087C  23          	inc	hl
2136  087D  7E          	ld	a, (hl)
2137  087E  DD 8E FC    	adc	a,(ix-4)
2138  0881  77          	ld	(hl), a
2139  0882  23          	inc	hl
2140  0883  7E          	ld	a, (hl)
2141  0884  DD 8E FD    	adc	a,(ix-3)
2142  0887  77          	ld	(hl), a
2143  0888  23          	inc	hl
2144  0889  7E          	ld	a, (hl)
2145  088A  DD 8E FE    	adc	a,(ix-2)
2146  088D  77          	ld	(hl), a
2147  088E  23          	inc	hl
2148  088F  7E          	ld	a, (hl)
2149  0890  DD 8E FF    	adc	a,(ix-1)
2150  0893  77          	ld	(hl), a
2151  0894  2A 00 00    	ld	hl,(_game_score_top)
2152  0897  ED 5B 00 00 	ld	de,(_player_score)
2153  089B  AF          	xor	a,a
2154  089C  ED 52       	sbc	hl,de
2155  089E  2A 02 00    	ld	hl,(_game_score_top + 2)
2156  08A1  ED 5B 02 00 	ld	de,(_player_score + 2)
2157  08A5  ED 52       	sbc	hl,de
2158  08A7  3A 04 00    	ld	a,(_game_score_top + 4)
2159  08AA  21 04 00    	ld	hl,_player_score + 4
2160  08AD  9E          	sbc	a, (hl)
2161  08AE  3A 05 00    	ld	a,(_game_score_top + 5)
2162  08B1  21 05 00    	ld	hl,_player_score + 5
2163  08B4  9E          	sbc	a, (hl)
2164  08B5  3A 06 00    	ld	a,(_game_score_top + 6)
2165  08B8  21 06 00    	ld	hl,_player_score + 6
2166  08BB  9E          	sbc	a, (hl)
2167  08BC  3A 07 00    	ld	a,(_game_score_top + 7)
2168  08BF  21 07 00    	ld	hl,_player_score + 7
2169  08C2  9E          	sbc	a, (hl)
2170  08C3  30 24       	jr	NC,l_player_score_add_00102
2171  08C5  2A 00 00    	ld	hl,(_player_score)
2172  08C8  22 00 00    	ld	(_game_score_top),hl
2173  08CB  2A 02 00    	ld	hl,(_player_score + 2)
2174  08CE  22 02 00    	ld	(_game_score_top + 2),hl
2175  08D1  3A 04 00    	ld	a,(_player_score + 4)
2176  08D4  32 04 00    	ld	(_game_score_top + 4),a
2177  08D7  3A 05 00    	ld	a,(_player_score + 5)
2178  08DA  32 05 00    	ld	(_game_score_top + 5),a
2179  08DD  3A 06 00    	ld	a,(_player_score + 6)
2180  08E0  32 06 00    	ld	(_game_score_top + 6),a
2181  08E3  3A 07 00    	ld	a,(_player_score + 7)
2182  08E6  32 07 00    	ld	(_game_score_top + 7),a
2183  08E9              l_player_score_add_00102:
2184  08E9  2A 00 00    	ld	hl,(_player_next_extra)
2185  08EC  ED 5B 00 00 	ld	de,(_player_score)
2186  08F0  AF          	xor	a,a
2187  08F1  ED 52       	sbc	hl,de
2188  08F3  2A 02 00    	ld	hl,(_player_next_extra + 2)
2189  08F6  ED 5B 02 00 	ld	de,(_player_score + 2)
2190  08FA  ED 52       	sbc	hl,de
2191  08FC  3A 04 00    	ld	a,(_player_next_extra + 4)
2192  08FF  21 04 00    	ld	hl,_player_score + 4
2193  0902  9E          	sbc	a, (hl)
2194  0903  3A 05 00    	ld	a,(_player_next_extra + 5)
2195  0906  21 05 00    	ld	hl,_player_score + 5
2196  0909  9E          	sbc	a, (hl)
2197  090A  3A 06 00    	ld	a,(_player_next_extra + 6)
2198  090D  21 06 00    	ld	hl,_player_score + 6
2199  0910  9E          	sbc	a, (hl)
2200  0911  3A 07 00    	ld	a,(_player_next_extra + 7)
2201  0914  21 07 00    	ld	hl,_player_score + 7
2202  0917  9E          	sbc	a, (hl)
2203  0918  30 2E       	jr	NC,l_player_score_add_00104
2204  091A  21 00 00    	ld	hl,_player_lives
2205  091D  34          	inc	(hl)
2206  091E  2A 00 00    	ld	hl,(_player_next_extra)
2207  0921  11 10 27    	ld	de,0x2710
2208  0924  19          	add	hl,de
2209  0925  22 00 00    	ld	(_player_next_extra),hl
2210  0928  21 02 00    	ld	hl,_player_next_extra + 2
2211  092B  7E          	ld	a, (hl)
2212  092C  CE 00       	adc	a,0x00
2213  092E  77          	ld	(hl), a
2214  092F  23          	inc	hl
2215  0930  7E          	ld	a, (hl)
2216  0931  CE 00       	adc	a,0x00
2217  0933  77          	ld	(hl), a
2218  0934  23          	inc	hl
2219  0935  7E          	ld	a, (hl)
2220  0936  CE 00       	adc	a,0x00
2221  0938  77          	ld	(hl), a
2222  0939  23          	inc	hl
2223  093A  7E          	ld	a, (hl)
2224  093B  CE 00       	adc	a,0x00
2225  093D  77          	ld	(hl), a
2226  093E  23          	inc	hl
2227  093F  7E          	ld	a, (hl)
2228  0940  CE 00       	adc	a,0x00
2229  0942  77          	ld	(hl), a
2230  0943  23          	inc	hl
2231  0944  7E          	ld	a, (hl)
2232  0945  CE 00       	adc	a,0x00
2233  0947  77          	ld	(hl), a
2234  0948              l_player_score_add_00104:
2235  0948  3E 40       	ld	a,0x40
2236  094A  21 00 00    	ld	hl,_player_score
2237  094D  BE          	cp	a, (hl)
2238  094E  3E 42       	ld	a,0x42
2239  0950  23          	inc	hl
2240  0951  9E          	sbc	a, (hl)
2241  0952  3E 0F       	ld	a,0x0f
2242  0954  23          	inc	hl
2243  0955  9E          	sbc	a, (hl)
2244  0956  3E 00       	ld	a,0x00
2245  0958  23          	inc	hl
2246  0959  9E          	sbc	a, (hl)
2247  095A  3E 00       	ld	a,0x00
2248  095C  23          	inc	hl
2249  095D  9E          	sbc	a, (hl)
2250  095E  3E 00       	ld	a,0x00
2251  0960  23          	inc	hl
2252  0961  9E          	sbc	a, (hl)
2253  0962  3E 00       	ld	a,0x00
2254  0964  23          	inc	hl
2255  0965  9E          	sbc	a, (hl)
2256  0966  3E 00       	ld	a,0x00
2257  0968  23          	inc	hl
2258  0969  9E          	sbc	a, (hl)
2259  096A  30 2B       	jr	NC,l_player_score_add_00106
2260  096C  21 00 00    	ld	hl,0x0000
2261  096F  7D          	ld	a,l
2262  0970  22 00 00    	ld	(_player_score),hl
2263  0973  22 02 00    	ld	(_player_score + 2),hl
2264  0976  21 04 00    	ld	hl,_player_score + 4
2265  0979  77          	ld	(hl), a
2266  097A  23          	inc	hl
2267  097B  77          	ld	(hl), a
2268  097C  23          	inc	hl
2269  097D  77          	ld	(hl), a
2270  097E  23          	inc	hl
2271  097F  77          	ld	(hl), a
2272  0980  21 10 27    	ld	hl,0x2710
2273  0983  22 00 00    	ld	(_player_next_extra),hl
2274  0986  AF          	xor	a,a
2275  0987  6F          	ld	l,a
2276  0988  67          	ld	h,a
2277  0989  22 02 00    	ld	(_player_next_extra + 2),hl
2278  098C  21 04 00    	ld	hl,_player_next_extra + 4
2279  098F  77          	ld	(hl), a
2280  0990  23          	inc	hl
2281  0991  77          	ld	(hl), a
2282  0992  23          	inc	hl
2283  0993  AF          	xor	a, a
2284  0994  77          	ld	(hl), a
2285  0995  23          	inc	hl
2286  0996  77          	ld	(hl), a
2287  0997              l_player_score_add_00106:
2288  0997  CD 00 00    	call	_game_print_score
2289  099A  DD F9       	ld	sp, ix
2290  099C  DD E1       	pop	ix
2291  099E  C9          	ret
2292  099F              	SECTION code_compiler
2293  099F              ;	---------------------------------
2294  099F              ; Function player_pick_item
2295  099F              ; ---------------------------------
2296  099F              _player_pick_item:
2297  099F  CD 00 00    	call	___sdcc_enter_ix
2298  09A2  DD 7E 04    	ld	a,(ix+4)
2299  09A5  D6 08       	sub	a,0x08
2300  09A7  20 38       	jr	NZ,l_player_pick_item_00104
2301  09A9  21 64 00    	ld	hl,0x0064
2302  09AC  CD 3E 08    	call	_player_score_add
2303  09AF  3E 00       	ld	a, +((_scr_map) & 0xFF)
2304  09B1  DD 86 05    	add	a,(ix+5)
2305  09B4  4F          	ld	c, a
2306  09B5  3E 00       	ld	a, +((_scr_map) / 256)
2307  09B7  DD 8E 06    	adc	a,(ix+6)
2308  09BA  47          	ld	b, a
2309  09BB  AF          	xor	a, a
2310  09BC  02          	ld	(bc), a
2311  09BD  21 00 00    	ld	hl,_player_coins
2312  09C0  34          	inc	(hl)
2313  09C1  CD 00 00    	call	_audio_coin
2314  09C4  3A 00 00    	ld	a,(_obj_count)
2315  09C7  21 00 00    	ld	hl,_player_coins
2316  09CA  96          	sub	a, (hl)
2317  09CB  20 10       	jr	NZ,l_player_pick_item_00102
2318  09CD  CD 00 00    	call	_audio_door_open
2319  09D0  3E 80       	ld	a,0x80
2320  09D2  F5          	push	af
2321  09D3  33          	inc	sp
2322  09D4  CD 00 00    	call	_game_flash_exit
2323  09D7  33          	inc	sp
2324  09D8  21 00 00    	ld	hl,_obj_count
2325  09DB  36 FF       	ld	(hl),0xff
2326  09DD              l_player_pick_item_00102:
2327  09DD  2E 00       	ld	l,0x00
2328  09DF  18 03       	jr	l_player_pick_item_00105
2329  09E1              l_player_pick_item_00104:
2330  09E1  DD 6E 04    	ld	l,(ix+4)
2331  09E4              l_player_pick_item_00105:
2332  09E4  DD E1       	pop	ix
2333  09E6  C9          	ret
2334  09E7              	SECTION code_compiler
2335  09E7              ;	---------------------------------
2336  09E7              ; Function player_pick_deadly
2337  09E7              ; ---------------------------------
2338  09E7              _player_pick_deadly:
2339  09E7  CD 00 00    	call	___sdcc_enter_ix
2340  09EA  3E 00       	ld	a, +((_tile_class) & 0xFF)
2341  09EC  DD 86 04    	add	a,(ix+4)
2342  09EF  4F          	ld	c, a
2343  09F0  3E 00       	ld	a, +((_tile_class) / 256)
2344  09F2  CE 00       	adc	a,0x00
2345  09F4  47          	ld	b, a
2346  09F5  0A          	ld	a, (bc)
2347  09F6  DD 77 04    	ld	(ix+4),a
2348  09F9  D6 05       	sub	a,0x05
2349  09FB  20 1B       	jr	NZ,l_player_pick_deadly_00102
2350  09FD  01 08 00    	ld	bc,_state+8
2351  0A00  0A          	ld	a, (bc)
2352  0A01  F6 20       	or	a,0x20
2353  0A03  02          	ld	(bc), a
2354  0A04  2A 00 00    	ld	hl,(_index1)
2355  0A07  22 00 00    	ld	(_player_kill_index),hl
2356  0A0A  21 00 00    	ld	hl,_v0
2357  0A0D  36 00       	ld	(hl),0x00
2358  0A0F  21 00 00    	ld	hl,_v1
2359  0A12  36 00       	ld	(hl),0x00
2360  0A14  2E 00       	ld	l,0x00
2361  0A16  18 03       	jr	l_player_pick_deadly_00103
2362  0A18              l_player_pick_deadly_00102:
2363  0A18  DD 6E 04    	ld	l,(ix+4)
2364  0A1B              l_player_pick_deadly_00103:
2365  0A1B  DD E1       	pop	ix
2366  0A1D  C9          	ret
2367  0A1E              	SECTION code_compiler
2368  0A1E              ;	---------------------------------
2369  0A1E              ; Function player_pick_extra
2370  0A1E              ; ---------------------------------
2371  0A1E              _player_pick_extra:
2372  0A1E  CD 00 00    	call	___sdcc_enter_ix
2373  0A21  DD 7E 04    	ld	a,(ix+4)
2374  0A24  D6 06       	sub	a,0x06
2375  0A26  C2 B0 0A    	jp	NZ,l_player_pick_extra_00110
2376  0A29  3A 00 00    	ld	a,(_scr_curr)
2377  0A2C  FE 07       	cp	a,0x07
2378  0A2E  28 04       	jr	Z,l_player_pick_extra_00106
2379  0A30  D6 0B       	sub	a,0x0b
2380  0A32  20 78       	jr	NZ,l_player_pick_extra_00107
2381  0A34              l_player_pick_extra_00106:
2382  0A34  01 00 00    	ld	bc,_scr_map
2383  0A37  2A 00 00    	ld	hl,(_index1)
2384  0A3A  09          	add	hl,bc
2385  0A3B  36 08       	ld	(hl),0x08
2386  0A3D  CD 00 00    	call	_game_cell_paint_index
2387  0A40  21 00 00    	ld	hl,_index1
2388  0A43  7E          	ld	a, (hl)
2389  0A44  D6 05       	sub	a,0x05
2390  0A46  23          	inc	hl
2391  0A47  B6          	or	a, (hl)
2392  0A48  28 0A       	jr	Z,l_player_pick_extra_00101
2393  0A4A  21 00 00    	ld	hl,_index1
2394  0A4D  7E          	ld	a, (hl)
2395  0A4E  D6 06       	sub	a,0x06
2396  0A50  23          	inc	hl
2397  0A51  B6          	or	a, (hl)
2398  0A52  20 21       	jr	NZ,l_player_pick_extra_00102
2399  0A54              l_player_pick_extra_00101:
2400  0A54  21 71 01    	ld	hl,0x0171
2401  0A57  22 00 00    	ld	(_index1),hl
2402  0A5A  21 71 01    	ld	hl, +(_scr_map + 0x0171)
2403  0A5D  36 00       	ld	(hl),0x00
2404  0A5F  CD 00 00    	call	_game_cell_paint_index
2405  0A62  21 91 01    	ld	hl,0x0191
2406  0A65  22 00 00    	ld	(_index1),hl
2407  0A68  21 91 01    	ld	hl, +(_scr_map + 0x0191)
2408  0A6B  36 00       	ld	(hl),0x00
2409  0A6D  CD 00 00    	call	_game_cell_paint_index
2410  0A70  21 02 00    	ld	hl, +(_value_b + 0x0002)
2411  0A73  36 12       	ld	(hl),0x12
2412  0A75              l_player_pick_extra_00102:
2413  0A75  21 00 00    	ld	hl,_index1
2414  0A78  7E          	ld	a, (hl)
2415  0A79  D6 12       	sub	a,0x12
2416  0A7B  23          	inc	hl
2417  0A7C  B6          	or	a, (hl)
2418  0A7D  20 2D       	jr	NZ,l_player_pick_extra_00107
2419  0A7F  01 00 00    	ld	bc,_tile+0
2420  0A82  0A          	ld	a, (bc)
2421  0A83  C6 02       	add	a,0x02
2422  0A85  02          	ld	(bc), a
2423  0A86  21 00 00    	ld	hl,_spr_kind
2424  0A89  36 07       	ld	(hl),0x07
2425  0A8B  21 00 00    	ld	hl,_spr_speed
2426  0A8E  36 04       	ld	(hl),0x04
2427  0A90  21 4F 00    	ld	hl,0x004f
2428  0A93  22 00 00    	ld	(_index1),hl
2429  0A96  21 4F 00    	ld	hl, +(_scr_map + 0x004f)
2430  0A99  36 00       	ld	(hl),0x00
2431  0A9B  CD 00 00    	call	_game_cell_paint_index
2432  0A9E  21 50 00    	ld	hl,0x0050
2433  0AA1  22 00 00    	ld	(_index1),hl
2434  0AA4  21 50 00    	ld	hl, +(_scr_map + 0x0050)
2435  0AA7  36 00       	ld	(hl),0x00
2436  0AA9  CD 00 00    	call	_game_cell_paint_index
2437  0AAC              l_player_pick_extra_00107:
2438  0AAC  2E 00       	ld	l,0x00
2439  0AAE  18 03       	jr	l_player_pick_extra_00111
2440  0AB0              l_player_pick_extra_00110:
2441  0AB0  DD 6E 04    	ld	l,(ix+4)
2442  0AB3              l_player_pick_extra_00111:
2443  0AB3  DD E1       	pop	ix
2444  0AB5  C9          	ret
2445  0AB6              	SECTION code_compiler
2446  0AB6              ;	---------------------------------
2447  0AB6              ; Function player_check_ceil
2448  0AB6              ; ---------------------------------
2449  0AB6              _player_check_ceil:
2450  0AB6  CD 00 00    	call	___sdcc_enter_ix
2451  0AB9  DD 66 05    	ld	h,(ix+5)
2452  0ABC  DD 6E 04    	ld	l,(ix+4)
2453  0ABF  E5          	push	hl
2454  0AC0  CD 00 00    	call	_spr_calc_index
2455  0AC3  F1          	pop	af
2456  0AC4  22 00 00    	ld	(_index1),hl
2457  0AC7  01 00 00    	ld	bc,_scr_map
2458  0ACA  09          	add	hl,bc
2459  0ACB  7E          	ld	a,(hl)
2460  0ACC  32 00 00    	ld	(_v0),a
2461  0ACF  DD 46 05    	ld	b,(ix+5)
2462  0AD2  04          	inc	b
2463  0AD3  DD 4E 04    	ld	c,(ix+4)
2464  0AD6  C5          	push	bc
2465  0AD7  CD 00 00    	call	_spr_calc_index
2466  0ADA  F1          	pop	af
2467  0ADB  22 00 00    	ld	(_index1),hl
2468  0ADE  01 00 00    	ld	bc,_scr_map
2469  0AE1  09          	add	hl,bc
2470  0AE2  7E          	ld	a,(hl)
2471  0AE3  32 00 00    	ld	(_v1),a
2472  0AE6  3E 1F       	ld	a,0x1f
2473  0AE8  21 00 00    	ld	hl,_v0
2474  0AEB  96          	sub	a, (hl)
2475  0AEC  30 02       	jr	NC,l_player_check_ceil_00102
2476  0AEE  36 00       	ld	(hl),0x00
2477  0AF0              l_player_check_ceil_00102:
2478  0AF0  3E 1F       	ld	a,0x1f
2479  0AF2  21 00 00    	ld	hl,_v1
2480  0AF5  96          	sub	a, (hl)
2481  0AF6  30 02       	jr	NC,l_player_check_ceil_00104
2482  0AF8  36 00       	ld	(hl),0x00
2483  0AFA              l_player_check_ceil_00104:
2484  0AFA  01 00 00    	ld	bc,_tile_class+0
2485  0AFD  79          	ld	a, c
2486  0AFE  21 00 00    	ld	hl,_v0
2487  0B01  86          	add	a, (hl)
2488  0B02  5F          	ld	e, a
2489  0B03  78          	ld	a, b
2490  0B04  CE 00       	adc	a,0x00
2491  0B06  57          	ld	d, a
2492  0B07  1A          	ld	a, (de)
2493  0B08  77          	ld	(hl), a
2494  0B09  79          	ld	a, c
2495  0B0A  21 00 00    	ld	hl,_v1
2496  0B0D  86          	add	a, (hl)
2497  0B0E  4F          	ld	c, a
2498  0B0F  78          	ld	a, b
2499  0B10  CE 00       	adc	a,0x00
2500  0B12  47          	ld	b, a
2501  0B13  0A          	ld	a, (bc)
2502  0B14  77          	ld	(hl), a
2503  0B15  3A 00 00    	ld	a,(_v0)
2504  0B18  D6 03       	sub	a,0x03
2505  0B1A  28 0B       	jr	Z,l_player_check_ceil_00106
2506  0B1C  3A 00 00    	ld	a,(_v1)
2507  0B1F  D6 03       	sub	a,0x03
2508  0B21  28 04       	jr	Z,l_player_check_ceil_00106
2509  0B23  2E 01       	ld	l,0x01
2510  0B25  18 02       	jr	l_player_check_ceil_00108
2511  0B27              l_player_check_ceil_00106:
2512  0B27  2E 00       	ld	l,0x00
2513  0B29              l_player_check_ceil_00108:
2514  0B29  DD E1       	pop	ix
2515  0B2B  C9          	ret
2516  0B2C              	SECTION code_compiler
2517  0B2C              ;	---------------------------------
2518  0B2C              ; Function player_crumble
2519  0B2C              ; ---------------------------------
2520  0B2C              _player_crumble:
2521  0B2C  01 00 00    	ld	bc,_scr_map
2522  0B2F  2A 00 00    	ld	hl,(_index1)
2523  0B32  09          	add	hl,bc
2524  0B33  5E          	ld	e,(hl)
2525  0B34  16 00       	ld	d,0x00
2526  0B36  4D          	ld	c,l
2527  0B37  44          	ld	b,h
2528  0B38  21 00 00    	ld	hl,_tile_class
2529  0B3B  19          	add	hl, de
2530  0B3C  7E          	ld	a, (hl)
2531  0B3D  32 00 00    	ld	(_v0),a
2532  0B40  D6 02       	sub	a,0x02
2533  0B42  20 5B       	jr	NZ,l_player_crumble_00108
2534  0B44  7B          	ld	a, e
2535  0B45  D6 02       	sub	a,0x02
2536  0B47  20 10       	jr	NZ,l_player_crumble_00104
2537  0B49  CD 00 00    	call	_audio_crumble
2538  0B4C  01 00 00    	ld	bc,_scr_map
2539  0B4F  2A 00 00    	ld	hl,(_index1)
2540  0B52  09          	add	hl,bc
2541  0B53  3A 00 00    	ld	a,(_game_crumb_start)
2542  0B56  77          	ld	(hl),a
2543  0B57  18 13       	jr	l_player_crumble_00105
2544  0B59              l_player_crumble_00104:
2545  0B59  1C          	inc	e
2546  0B5A  7B          	ld	a, e
2547  0B5B  02          	ld	(bc), a
2548  0B5C  01 00 00    	ld	bc,_scr_map
2549  0B5F  2A 00 00    	ld	hl,(_index1)
2550  0B62  09          	add	hl,bc
2551  0B63  5E          	ld	e,(hl)
2552  0B64  3A 00 00    	ld	a,(_game_crumb_end)
2553  0B67  93          	sub	a,e
2554  0B68  30 02       	jr	NC,l_player_crumble_00105
2555  0B6A  AF          	xor	a,a
2556  0B6B  77          	ld	(hl),a
2557  0B6C              l_player_crumble_00105:
2558  0B6C  2A 08 00    	ld	hl,(_lin + 0x0008)
2559  0B6F  26 00       	ld	h,0x00
2560  0B71  01 10 00    	ld	bc,0x0010
2561  0B74  09          	add	hl,bc
2562  0B75  06 03       	ld	b,0x03
2563  0B77              l_player_crumble_00126:
2564  0B77  CB 2C       	sra	h
2565  0B79  CB 1D       	rr	l
2566  0B7B  10 FA       	djnz	l_player_crumble_00126
2567  0B7D  2C          	inc	l
2568  0B7E  7D          	ld	a, l
2569  0B7F  07          	rlca
2570  0B80  07          	rlca
2571  0B81  07          	rlca
2572  0B82  E6 F8       	and	a,0xf8
2573  0B84  32 00 00    	ld	(_s_row1),a
2574  0B87  01 00 00    	ld	bc,_scr_map
2575  0B8A  2A 00 00    	ld	hl,(_index1)
2576  0B8D  09          	add	hl,bc
2577  0B8E  46          	ld	b, (hl)
2578  0B8F  3A 00 00    	ld	a,(_s_col1)
2579  0B92  F5          	push	af
2580  0B93  33          	inc	sp
2581  0B94  3A 00 00    	ld	a,(_s_row1)
2582  0B97  48          	ld	c,b
2583  0B98  47          	ld	b,a
2584  0B99  C5          	push	bc
2585  0B9A  CD 00 00    	call	_spr_draw8
2586  0B9D  F1          	pop	af
2587  0B9E  33          	inc	sp
2588  0B9F              l_player_crumble_00108:
2589  0B9F  C9          	ret
2590  0BA0              	SECTION code_compiler
2591  0BA0              ;	---------------------------------
2592  0BA0              ; Function player_check_floor
2593  0BA0              ; ---------------------------------
2594  0BA0              _player_check_floor:
2595  0BA0  CD 00 00    	call	___sdcc_enter_ix
2596  0BA3  3A 08 00    	ld	a,(_col + 0x0008)
2597  0BA6  DD 86 04    	add	a,(ix+4)
2598  0BA9  57          	ld	d, a
2599  0BAA  3A 08 00    	ld	a,(_lin + 0x0008)
2600  0BAD  C6 10       	add	a,0x10
2601  0BAF  5F          	ld	e, a
2602  0BB0  D5          	push	de
2603  0BB1  CD 00 00    	call	_spr_calc_index
2604  0BB4  F1          	pop	af
2605  0BB5  22 00 00    	ld	(_index1),hl
2606  0BB8  3E 1F       	ld	a,0x1f
2607  0BBA  21 00 00    	ld	hl,_v0
2608  0BBD  96          	sub	a, (hl)
2609  0BBE  30 02       	jr	NC,l_player_check_floor_00102
2610  0BC0  36 00       	ld	(hl),0x00
2611  0BC2              l_player_check_floor_00102:
2612  0BC2  01 00 00    	ld	bc,_tile_class+0
2613  0BC5  11 00 00    	ld	de,_scr_map
2614  0BC8  2A 00 00    	ld	hl,(_index1)
2615  0BCB  19          	add	hl,de
2616  0BCC  6E          	ld	l,(hl)
2617  0BCD  26 00       	ld	h,0x00
2618  0BCF  09          	add	hl, bc
2619  0BD0  7E          	ld	a, (hl)
2620  0BD1  32 00 00    	ld	(_v0),a
2621  0BD4  B7          	or	a, a
2622  0BD5  28 0B       	jr	Z,l_player_check_floor_00103
2623  0BD7  D6 08       	sub	a,0x08
2624  0BD9  28 07       	jr	Z,l_player_check_floor_00103
2625  0BDB  3A 00 00    	ld	a,(_v0)
2626  0BDE  D6 05       	sub	a,0x05
2627  0BE0  20 04       	jr	NZ,l_player_check_floor_00104
2628  0BE2              l_player_check_floor_00103:
2629  0BE2  2E 01       	ld	l,0x01
2630  0BE4  18 02       	jr	l_player_check_floor_00107
2631  0BE6              l_player_check_floor_00104:
2632  0BE6  2E 00       	ld	l,0x00
2633  0BE8              l_player_check_floor_00107:
2634  0BE8  DD E1       	pop	ix
2635  0BEA  C9          	ret
2636  0BEB              	SECTION code_compiler
2637  0BEB              ;	---------------------------------
2638  0BEB              ; Function player_get_floor
2639  0BEB              ; ---------------------------------
2640  0BEB              _player_get_floor:
2641  0BEB  21 08 00    	ld	hl,+(_col + 0x0008)
2642  0BEE  56          	ld	d, (hl)
2643  0BEF  3A 08 00    	ld	a,(_lin + 0x0008)
2644  0BF2  C6 10       	add	a,0x10
2645  0BF4  5F          	ld	e, a
2646  0BF5  D5          	push	de
2647  0BF6  CD 00 00    	call	_spr_calc_index
2648  0BF9  F1          	pop	af
2649  0BFA  22 00 00    	ld	(_index1),hl
2650  0BFD  21 00 00    	ld	hl,_i
2651  0C00  36 00       	ld	(hl),0x00
2652  0C02  01 00 00    	ld	bc,_tile_class+0
2653  0C05              l_player_get_floor_00113:
2654  0C05  3A 00 00    	ld	a,(_i)
2655  0C08  D6 10       	sub	a,0x10
2656  0C0A  D2 9B 0C    	jp	NC, l_player_get_floor_00115
2657  0C0D  11 00 00    	ld	de,_scr_map
2658  0C10  2A 00 00    	ld	hl,(_index1)
2659  0C13  19          	add	hl,de
2660  0C14  7E          	ld	a,(hl)
2661  0C15  32 00 00    	ld	(_v0),a
2662  0C18  ED 5B 00 00 	ld	de,(_index1)
2663  0C1C  13          	inc	de
2664  0C1D  21 00 00    	ld	hl,_scr_map
2665  0C20  19          	add	hl, de
2666  0C21  7E          	ld	a, (hl)
2667  0C22  32 00 00    	ld	(_v1),a
2668  0C25  3E 1F       	ld	a,0x1f
2669  0C27  21 00 00    	ld	hl,_v0
2670  0C2A  96          	sub	a, (hl)
2671  0C2B  30 02       	jr	NC,l_player_get_floor_00102
2672  0C2D  36 00       	ld	(hl),0x00
2673  0C2F              l_player_get_floor_00102:
2674  0C2F  3E 1F       	ld	a,0x1f
2675  0C31  21 00 00    	ld	hl,_v1
2676  0C34  96          	sub	a, (hl)
2677  0C35  30 02       	jr	NC,l_player_get_floor_00104
2678  0C37  36 00       	ld	(hl),0x00
2679  0C39              l_player_get_floor_00104:
2680  0C39  79          	ld	a, c
2681  0C3A  21 00 00    	ld	hl,_v0
2682  0C3D  86          	add	a, (hl)
2683  0C3E  5F          	ld	e, a
2684  0C3F  78          	ld	a, b
2685  0C40  CE 00       	adc	a,0x00
2686  0C42  57          	ld	d, a
2687  0C43  1A          	ld	a, (de)
2688  0C44  77          	ld	(hl), a
2689  0C45  79          	ld	a, c
2690  0C46  21 00 00    	ld	hl,_v1
2691  0C49  86          	add	a, (hl)
2692  0C4A  5F          	ld	e, a
2693  0C4B  78          	ld	a, b
2694  0C4C  CE 00       	adc	a,0x00
2695  0C4E  57          	ld	d, a
2696  0C4F  1A          	ld	a, (de)
2697  0C50  77          	ld	(hl), a
2698  0C51  3A 00 00    	ld	a,(_v0)
2699  0C54  B7          	or	a, a
2700  0C55  28 0B       	jr	Z,l_player_get_floor_00112
2701  0C57  D6 08       	sub	a,0x08
2702  0C59  28 07       	jr	Z,l_player_get_floor_00112
2703  0C5B  3A 00 00    	ld	a,(_v0)
2704  0C5E  D6 05       	sub	a,0x05
2705  0C60  20 22       	jr	NZ,l_player_get_floor_00106
2706  0C62              l_player_get_floor_00112:
2707  0C62  3A 00 00    	ld	a,(_v1)
2708  0C65  B7          	or	a, a
2709  0C66  28 0B       	jr	Z,l_player_get_floor_00105
2710  0C68  D6 08       	sub	a,0x08
2711  0C6A  28 07       	jr	Z,l_player_get_floor_00105
2712  0C6C  3A 00 00    	ld	a,(_v1)
2713  0C6F  D6 05       	sub	a,0x05
2714  0C71  20 11       	jr	NZ,l_player_get_floor_00106
2715  0C73              l_player_get_floor_00105:
2716  0C73  2A 00 00    	ld	hl,(_index1)
2717  0C76  11 20 00    	ld	de,0x0020
2718  0C79  19          	add	hl,de
2719  0C7A  22 00 00    	ld	(_index1),hl
2720  0C7D  21 00 00    	ld	hl,_i
2721  0C80  34          	inc	(hl)
2722  0C81  C3 05 0C    	jp	l_player_get_floor_00113
2723  0C84              l_player_get_floor_00106:
2724  0C84  2A 00 00    	ld	hl,(_index1)
2725  0C87  4D          	ld	c,l
2726  0C88  5C          	ld	e,h
2727  0C89  06 05       	ld	b,0x05
2728  0C8B  79          	ld	a,c
2729  0C8C              l_player_get_floor_00156:
2730  0C8C  CB 3B       	srl	e
2731  0C8E  1F          	rra
2732  0C8F  10 FB       	djnz	l_player_get_floor_00156
2733  0C91  07          	rlca
2734  0C92  07          	rlca
2735  0C93  07          	rlca
2736  0C94  E6 F8       	and	a,0xf8
2737  0C96  C6 F0       	add	a,0xf0
2738  0C98  6F          	ld	l, a
2739  0C99  18 02       	jr	l_player_get_floor_00116
2740  0C9B              l_player_get_floor_00115:
2741  0C9B  2E 68       	ld	l,0x68
2742  0C9D              l_player_get_floor_00116:
2743  0C9D  C9          	ret
2744  0C9E              	SECTION code_compiler
2745  0C9E              ;	---------------------------------
2746  0C9E              ; Function player_lost_life
2747  0C9E              ; ---------------------------------
2748  0C9E              _player_lost_life:
2749  0C9E  CD 00 00    	call	___sdcc_enter_ix
2750  0CA1  F5          	push	af
2751  0CA2  CD 00 00    	call	_ay_reset
2752  0CA5  CD 00 00    	call	_audio_dead
2753  0CA8  4F          	ld	c, a
2754  0CA9              l_player_lost_life_00104:
2755  0CA9  79          	ld	a, c
2756  0CAA  D6 20       	sub	a,0x20
2757  0CAC  30 79       	jr	NC,l_player_lost_life_00106
2758  0CAE  21 00 00    	ld	hl,_player_kill_index
2759  0CB1  7E          	ld	a, (hl)
2760  0CB2  3C          	inc	a
2761  0CB3  20 05       	jr	NZ,l_player_lost_life_00135
2762  0CB5  23          	inc	hl
2763  0CB6  7E          	ld	a, (hl)
2764  0CB7  3C          	inc	a
2765  0CB8  28 3D       	jr	Z,l_player_lost_life_00102
2766  0CBA              l_player_lost_life_00135:
2767  0CBA  2A 00 00    	ld	hl,(_player_kill_index)
2768  0CBD  22 00 00    	ld	(_index1),hl
2769  0CC0  21 08 00    	ld	hl,+(_col + 0x0008)
2770  0CC3  56          	ld	d, (hl)
2771  0CC4  3A 08 00    	ld	a,(_lin + 0x0008)
2772  0CC7  C6 10       	add	a,0x10
2773  0CC9  5F          	ld	e, a
2774  0CCA  3A 08 00    	ld	a,(_tile + 0x0008)
2775  0CCD  DD 77 FF    	ld	(ix-1),a
2776  0CD0  2A 08 00    	ld	hl,(_colint + 0x0008)
2777  0CD3  DD 7E FF    	ld	a,(ix-1)
2778  0CD6  85          	add	a, l
2779  0CD7  47          	ld	b, a
2780  0CD8  C5          	push	bc
2781  0CD9  D5          	push	de
2782  0CDA  0E 05       	ld	c,0x05
2783  0CDC  C5          	push	bc
2784  0CDD  CD 00 00    	call	_NIRVANAP_spriteT_callee
2785  0CE0  C1          	pop	bc
2786  0CE1  76          	halt
2787  0CE2  C5          	push	bc
2788  0CE3  21 00 00    	ld	hl,0x0000
2789  0CE6  E5          	push	hl
2790  0CE7  2E 05       	ld	l,0x05
2791  0CE9  E5          	push	hl
2792  0CEA  CD 00 00    	call	_NIRVANAP_spriteT_callee
2793  0CED  C1          	pop	bc
2794  0CEE  76          	halt
2795  0CEF  C5          	push	bc
2796  0CF0  CD 00 00    	call	_game_cell_paint_index
2797  0CF3  C1          	pop	bc
2798  0CF4  76          	halt
2799  0CF5  18 2C       	jr	l_player_lost_life_00103
2800  0CF7              l_player_lost_life_00102:
2801  0CF7  21 08 00    	ld	hl,+(_col + 0x0008)
2802  0CFA  46          	ld	b, (hl)
2803  0CFB  3A 08 00    	ld	a,(_lin + 0x0008)
2804  0CFE  C6 10       	add	a,0x10
2805  0D00  57          	ld	d, a
2806  0D01  21 08 00    	ld	hl,+(_tile + 0x0008)
2807  0D04  5E          	ld	e, (hl)
2808  0D05  2A 08 00    	ld	hl,(_colint + 0x0008)
2809  0D08  7B          	ld	a, e
2810  0D09  85          	add	a, l
2811  0D0A  C5          	push	bc
2812  0D0B  4A          	ld	c, d
2813  0D0C  C5          	push	bc
2814  0D0D  57          	ld	d,a
2815  0D0E  1E 05       	ld	e,0x05
2816  0D10  D5          	push	de
2817  0D11  CD 00 00    	call	_NIRVANAP_spriteT_callee
2818  0D14  C1          	pop	bc
2819  0D15  76          	halt
2820  0D16  C5          	push	bc
2821  0D17  21 00 00    	ld	hl,0x0000
2822  0D1A  E5          	push	hl
2823  0D1B  2E 05       	ld	l,0x05
2824  0D1D  E5          	push	hl
2825  0D1E  CD 00 00    	call	_NIRVANAP_spriteT_callee
2826  0D21  C1          	pop	bc
2827  0D22  76          	halt
2828  0D23              l_player_lost_life_00103:
2829  0D23  0C          	inc	c
2830  0D24  C3 A9 0C    	jp	l_player_lost_life_00104
2831  0D27              l_player_lost_life_00106:
2832  0D27  3A 08 00    	ld	a,(_lin + 0x0008)
2833  0D2A  32 00 00    	ld	(_s_lin0),a
2834  0D2D  3A 08 00    	ld	a,(_col + 0x0008)
2835  0D30  32 00 00    	ld	(_s_col0),a
2836  0D33  3A 00 00    	ld	a,(_game_inf_lives)
2837  0D36  B7          	or	a, a
2838  0D37  20 04       	jr	NZ,l_player_lost_life_00108
2839  0D39  21 00 00    	ld	hl,_player_lives
2840  0D3C  35          	dec	(hl)
2841  0D3D              l_player_lost_life_00108:
2842  0D3D  3A 00 00    	ld	a,(_player_lives)
2843  0D40  B7          	or	a, a
2844  0D41  28 05       	jr	Z,l_player_lost_life_00110
2845  0D43  CD 00 00    	call	_game_round_init
2846  0D46  18 0A       	jr	l_player_lost_life_00112
2847  0D48              l_player_lost_life_00110:
2848  0D48  21 00 00    	ld	hl,_player_lives
2849  0D4B  36 00       	ld	(hl),0x00
2850  0D4D  21 00 00    	ld	hl,_game_over
2851  0D50  36 01       	ld	(hl),0x01
2852  0D52              l_player_lost_life_00112:
2853  0D52  F1          	pop	af
2854  0D53  DD E1       	pop	ix
2855  0D55  C9          	ret
2856  0D56              	SECTION IGNORE
2857  0000              
