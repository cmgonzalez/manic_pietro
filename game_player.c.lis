1     0000              MODULE game_player_c
2     0000              LINE 0, "game_player.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _player_get_floor
204   0000              	GLOBAL _player_collision
205   0000              	GLOBAL _player_check_conveyor_int
206   0000              	GLOBAL _player_check_conveyor
207   0000              	GLOBAL _player_handle_fall
208   0000              	GLOBAL _player_handle_walk
209   0000              	GLOBAL _player_handle_lock
210   0000              	GLOBAL _player_check_exit
211   0000              	GLOBAL _player_debug_keys
212   0000              	GLOBAL _player_init
213   0000              	GLOBAL _player_turn
214   0000              	GLOBAL _player_move
215   0000              	GLOBAL _player_move_jump
216   0000              	GLOBAL _player_move_walk
217   0000              	GLOBAL _player_handle_conveyor
218   0000              	GLOBAL _player_new_jump
219   0000              	GLOBAL _player_pick
220   0000              	GLOBAL _player_check_input
221   0000              	GLOBAL _player_tile
222   0000              	GLOBAL _player_score_add
223   0000              	GLOBAL _player_pick_item
224   0000              	GLOBAL _player_pick_deadly
225   0000              	GLOBAL _player_pick_extra
226   0000              	GLOBAL _player_check_ceil
227   0000              	GLOBAL _player_crumble
228   0000              	GLOBAL _player_check_floor
229   0000              	GLOBAL _player_lost_life
230   0000              ;--------------------------------------------------------
231   0000              ; Externals used
232   0000              ;--------------------------------------------------------
233   0000              	GLOBAL _ulltoa_callee
234   0000              	GLOBAL _ulltoa
235   0000              	GLOBAL _strtoull_callee
236   0000              	GLOBAL _strtoull
237   0000              	GLOBAL _strtoll_callee
238   0000              	GLOBAL _strtoll
239   0000              	GLOBAL _lltoa_callee
240   0000              	GLOBAL _lltoa
241   0000              	GLOBAL _llabs_callee
242   0000              	GLOBAL _llabs
243   0000              	GLOBAL __lldivu__callee
244   0000              	GLOBAL __lldivu_
245   0000              	GLOBAL __lldiv__callee
246   0000              	GLOBAL __lldiv_
247   0000              	GLOBAL _atoll_callee
248   0000              	GLOBAL _atoll
249   0000              	GLOBAL _realloc_unlocked_callee
250   0000              	GLOBAL _realloc_unlocked
251   0000              	GLOBAL _malloc_unlocked_fastcall
252   0000              	GLOBAL _malloc_unlocked
253   0000              	GLOBAL _free_unlocked_fastcall
254   0000              	GLOBAL _free_unlocked
255   0000              	GLOBAL _calloc_unlocked_callee
256   0000              	GLOBAL _calloc_unlocked
257   0000              	GLOBAL _aligned_alloc_unlocked_callee
258   0000              	GLOBAL _aligned_alloc_unlocked
259   0000              	GLOBAL _realloc_callee
260   0000              	GLOBAL _realloc
261   0000              	GLOBAL _malloc_fastcall
262   0000              	GLOBAL _malloc
263   0000              	GLOBAL _free_fastcall
264   0000              	GLOBAL _free
265   0000              	GLOBAL _calloc_callee
266   0000              	GLOBAL _calloc
267   0000              	GLOBAL _aligned_alloc_callee
268   0000              	GLOBAL _aligned_alloc
269   0000              	GLOBAL _utoa_callee
270   0000              	GLOBAL _utoa
271   0000              	GLOBAL _ultoa_callee
272   0000              	GLOBAL _ultoa
273   0000              	GLOBAL _system_fastcall
274   0000              	GLOBAL _system
275   0000              	GLOBAL _strtoul_callee
276   0000              	GLOBAL _strtoul
277   0000              	GLOBAL _strtol_callee
278   0000              	GLOBAL _strtol
279   0000              	GLOBAL _strtof_callee
280   0000              	GLOBAL _strtof
281   0000              	GLOBAL _strtod_callee
282   0000              	GLOBAL _strtod
283   0000              	GLOBAL _srand_fastcall
284   0000              	GLOBAL _srand
285   0000              	GLOBAL _rand
286   0000              	GLOBAL _quick_exit_fastcall
287   0000              	GLOBAL _quick_exit
288   0000              	GLOBAL _qsort_callee
289   0000              	GLOBAL _qsort
290   0000              	GLOBAL _ltoa_callee
291   0000              	GLOBAL _ltoa
292   0000              	GLOBAL _labs_fastcall
293   0000              	GLOBAL _labs
294   0000              	GLOBAL _itoa_callee
295   0000              	GLOBAL _itoa
296   0000              	GLOBAL _ftoh_callee
297   0000              	GLOBAL _ftoh
298   0000              	GLOBAL _ftog_callee
299   0000              	GLOBAL _ftog
300   0000              	GLOBAL _ftoe_callee
301   0000              	GLOBAL _ftoe
302   0000              	GLOBAL _ftoa_callee
303   0000              	GLOBAL _ftoa
304   0000              	GLOBAL _exit_fastcall
305   0000              	GLOBAL _exit
306   0000              	GLOBAL _dtoh_callee
307   0000              	GLOBAL _dtoh
308   0000              	GLOBAL _dtog_callee
309   0000              	GLOBAL _dtog
310   0000              	GLOBAL _dtoe_callee
311   0000              	GLOBAL _dtoe
312   0000              	GLOBAL _dtoa_callee
313   0000              	GLOBAL _dtoa
314   0000              	GLOBAL _bsearch_callee
315   0000              	GLOBAL _bsearch
316   0000              	GLOBAL _atol_fastcall
317   0000              	GLOBAL _atol
318   0000              	GLOBAL _atoi_fastcall
319   0000              	GLOBAL _atoi
320   0000              	GLOBAL _atof_fastcall
321   0000              	GLOBAL _atof
322   0000              	GLOBAL _atexit_fastcall
323   0000              	GLOBAL _atexit
324   0000              	GLOBAL _at_quick_exit_fastcall
325   0000              	GLOBAL _at_quick_exit
326   0000              	GLOBAL _abs_fastcall
327   0000              	GLOBAL _abs
328   0000              	GLOBAL _abort
329   0000              	GLOBAL __strtou__callee
330   0000              	GLOBAL __strtou_
331   0000              	GLOBAL __strtoi__callee
332   0000              	GLOBAL __strtoi_
333   0000              	GLOBAL __random_uniform_xor_8__fastcall
334   0000              	GLOBAL __random_uniform_xor_8_
335   0000              	GLOBAL __random_uniform_xor_32__fastcall
336   0000              	GLOBAL __random_uniform_xor_32_
337   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
338   0000              	GLOBAL __random_uniform_cmwc_8_
339   0000              	GLOBAL __shellsort__callee
340   0000              	GLOBAL __shellsort_
341   0000              	GLOBAL __quicksort__callee
342   0000              	GLOBAL __quicksort_
343   0000              	GLOBAL __insertion_sort__callee
344   0000              	GLOBAL __insertion_sort_
345   0000              	GLOBAL __ldivu__callee
346   0000              	GLOBAL __ldivu_
347   0000              	GLOBAL __ldiv__callee
348   0000              	GLOBAL __ldiv_
349   0000              	GLOBAL __divu__callee
350   0000              	GLOBAL __divu_
351   0000              	GLOBAL __div__callee
352   0000              	GLOBAL __div_
353   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
354   0000              	GLOBAL _NIRVANAP_drawTW_raw
355   0000              	GLOBAL _NIRVANAP_drawTW_callee
356   0000              	GLOBAL _NIRVANAP_drawTW
357   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
358   0000              	GLOBAL _NIRVANAP_drawW_raw
359   0000              	GLOBAL _NIRVANAP_drawW_callee
360   0000              	GLOBAL _NIRVANAP_drawW
361   0000              	GLOBAL _NIRVANAP_spriteT_callee
362   0000              	GLOBAL _NIRVANAP_spriteT
363   0000              	GLOBAL _NIRVANAP_fillC_callee
364   0000              	GLOBAL _NIRVANAP_fillC
365   0000              	GLOBAL _NIRVANAP_readC_callee
366   0000              	GLOBAL _NIRVANAP_readC
367   0000              	GLOBAL _NIRVANAP_paintC_callee
368   0000              	GLOBAL _NIRVANAP_paintC
369   0000              	GLOBAL _NIRVANAP_printQ_callee
370   0000              	GLOBAL _NIRVANAP_printQ
371   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
372   0000              	GLOBAL _NIRVANAP_fillT_raw
373   0000              	GLOBAL _NIRVANAP_fillT_callee
374   0000              	GLOBAL _NIRVANAP_fillT
375   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
376   0000              	GLOBAL _NIRVANAP_drawT_raw
377   0000              	GLOBAL _NIRVANAP_drawT_callee
378   0000              	GLOBAL _NIRVANAP_drawT
379   0000              	GLOBAL _NIRVANAP_stop
380   0000              	GLOBAL _NIRVANAP_start
381   0000              	GLOBAL _zx_print_str
382   0000              	GLOBAL _zx_print_int
383   0000              	GLOBAL _zx_print_chr
384   0000              	GLOBAL _zx_isr
385   0000              	GLOBAL _z80_otdr_callee
386   0000              	GLOBAL _z80_otdr
387   0000              	GLOBAL _z80_otir_callee
388   0000              	GLOBAL _z80_otir
389   0000              	GLOBAL _z80_outp_callee
390   0000              	GLOBAL _z80_outp
391   0000              	GLOBAL _z80_indr_callee
392   0000              	GLOBAL _z80_indr
393   0000              	GLOBAL _z80_inir_callee
394   0000              	GLOBAL _z80_inir
395   0000              	GLOBAL _z80_inp_fastcall
396   0000              	GLOBAL _z80_inp
397   0000              	GLOBAL _z80_set_int_state_fastcall
398   0000              	GLOBAL _z80_set_int_state
399   0000              	GLOBAL _z80_get_int_state
400   0000              	GLOBAL _z80_delay_tstate_fastcall
401   0000              	GLOBAL _z80_delay_tstate
402   0000              	GLOBAL _z80_delay_ms_fastcall
403   0000              	GLOBAL _z80_delay_ms
404   0000              	GLOBAL _im2_remove_generic_callback_callee
405   0000              	GLOBAL _im2_remove_generic_callback
406   0000              	GLOBAL _im2_prepend_generic_callback_callee
407   0000              	GLOBAL _im2_prepend_generic_callback
408   0000              	GLOBAL _im2_append_generic_callback_callee
409   0000              	GLOBAL _im2_append_generic_callback
410   0000              	GLOBAL _im2_create_generic_isr_8080_callee
411   0000              	GLOBAL _im2_create_generic_isr_8080
412   0000              	GLOBAL _im2_create_generic_isr_callee
413   0000              	GLOBAL _im2_create_generic_isr
414   0000              	GLOBAL _im2_install_isr_callee
415   0000              	GLOBAL _im2_install_isr
416   0000              	GLOBAL _im2_init_fastcall
417   0000              	GLOBAL _im2_init
418   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
419   0000              	GLOBAL _intrinsic_swap_word_32
420   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
421   0000              	GLOBAL _intrinsic_swap_endian_32
422   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
423   0000              	GLOBAL _intrinsic_swap_endian_16
424   0000              	GLOBAL _intrinsic_return_de
425   0000              	GLOBAL _intrinsic_return_bc
426   0000              	GLOBAL _intrinsic_exx
427   0000              	GLOBAL _intrinsic_ex_de_hl
428   0000              	GLOBAL _intrinsic_nop
429   0000              	GLOBAL _intrinsic_im_2
430   0000              	GLOBAL _intrinsic_im_1
431   0000              	GLOBAL _intrinsic_im_0
432   0000              	GLOBAL _intrinsic_retn
433   0000              	GLOBAL _intrinsic_reti
434   0000              	GLOBAL _intrinsic_halt
435   0000              	GLOBAL _intrinsic_ei
436   0000              	GLOBAL _intrinsic_di
437   0000              	GLOBAL _intrinsic_stub
438   0000              	GLOBAL _intrinsic_ini
439   0000              	GLOBAL _intrinsic_outi
440   0000              	GLOBAL _intrinsic_ldi
441   0000              	GLOBAL _zx_pattern_fill_callee
442   0000              	GLOBAL _zx_pattern_fill
443   0000              	GLOBAL _zx_saddrpup_fastcall
444   0000              	GLOBAL _zx_saddrpup
445   0000              	GLOBAL _zx_saddrpright_callee
446   0000              	GLOBAL _zx_saddrpright
447   0000              	GLOBAL _zx_saddrpleft_callee
448   0000              	GLOBAL _zx_saddrpleft
449   0000              	GLOBAL _zx_saddrpdown_fastcall
450   0000              	GLOBAL _zx_saddrpdown
451   0000              	GLOBAL _zx_saddrcup_fastcall
452   0000              	GLOBAL _zx_saddrcup
453   0000              	GLOBAL _zx_saddrcright_fastcall
454   0000              	GLOBAL _zx_saddrcright
455   0000              	GLOBAL _zx_saddrcleft_fastcall
456   0000              	GLOBAL _zx_saddrcleft
457   0000              	GLOBAL _zx_saddrcdown_fastcall
458   0000              	GLOBAL _zx_saddrcdown
459   0000              	GLOBAL _zx_saddr2py_fastcall
460   0000              	GLOBAL _zx_saddr2py
461   0000              	GLOBAL _zx_saddr2px_fastcall
462   0000              	GLOBAL _zx_saddr2px
463   0000              	GLOBAL _zx_saddr2cy_fastcall
464   0000              	GLOBAL _zx_saddr2cy
465   0000              	GLOBAL _zx_saddr2cx_fastcall
466   0000              	GLOBAL _zx_saddr2cx
467   0000              	GLOBAL _zx_saddr2aaddr_fastcall
468   0000              	GLOBAL _zx_saddr2aaddr
469   0000              	GLOBAL _zx_py2saddr_fastcall
470   0000              	GLOBAL _zx_py2saddr
471   0000              	GLOBAL _zx_py2aaddr_fastcall
472   0000              	GLOBAL _zx_py2aaddr
473   0000              	GLOBAL _zx_pxy2saddr_callee
474   0000              	GLOBAL _zx_pxy2saddr
475   0000              	GLOBAL _zx_pxy2aaddr_callee
476   0000              	GLOBAL _zx_pxy2aaddr
477   0000              	GLOBAL _zx_px2bitmask_fastcall
478   0000              	GLOBAL _zx_px2bitmask
479   0000              	GLOBAL _zx_cy2saddr_fastcall
480   0000              	GLOBAL _zx_cy2saddr
481   0000              	GLOBAL _zx_cy2aaddr_fastcall
482   0000              	GLOBAL _zx_cy2aaddr
483   0000              	GLOBAL _zx_cxy2saddr_callee
484   0000              	GLOBAL _zx_cxy2saddr
485   0000              	GLOBAL _zx_cxy2aaddr_callee
486   0000              	GLOBAL _zx_cxy2aaddr
487   0000              	GLOBAL _zx_bitmask2px_fastcall
488   0000              	GLOBAL _zx_bitmask2px
489   0000              	GLOBAL _zx_aaddrcup_fastcall
490   0000              	GLOBAL _zx_aaddrcup
491   0000              	GLOBAL _zx_aaddrcright_fastcall
492   0000              	GLOBAL _zx_aaddrcright
493   0000              	GLOBAL _zx_aaddrcleft_fastcall
494   0000              	GLOBAL _zx_aaddrcleft
495   0000              	GLOBAL _zx_aaddrcdown_fastcall
496   0000              	GLOBAL _zx_aaddrcdown
497   0000              	GLOBAL _zx_aaddr2saddr_fastcall
498   0000              	GLOBAL _zx_aaddr2saddr
499   0000              	GLOBAL _zx_aaddr2py_fastcall
500   0000              	GLOBAL _zx_aaddr2py
501   0000              	GLOBAL _zx_aaddr2px_fastcall
502   0000              	GLOBAL _zx_aaddr2px
503   0000              	GLOBAL _zx_aaddr2cy_fastcall
504   0000              	GLOBAL _zx_aaddr2cy
505   0000              	GLOBAL _zx_aaddr2cx_fastcall
506   0000              	GLOBAL _zx_aaddr2cx
507   0000              	GLOBAL _zx_visit_wc_pix_callee
508   0000              	GLOBAL _zx_visit_wc_pix
509   0000              	GLOBAL _zx_visit_wc_attr_callee
510   0000              	GLOBAL _zx_visit_wc_attr
511   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
512   0000              	GLOBAL _zx_scroll_wc_up_pix
513   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
514   0000              	GLOBAL _zx_scroll_wc_up_attr
515   0000              	GLOBAL _zx_scroll_wc_up_callee
516   0000              	GLOBAL _zx_scroll_wc_up
517   0000              	GLOBAL _zx_scroll_up_pix_callee
518   0000              	GLOBAL _zx_scroll_up_pix
519   0000              	GLOBAL _zx_scroll_up_attr_callee
520   0000              	GLOBAL _zx_scroll_up_attr
521   0000              	GLOBAL _zx_scroll_up_callee
522   0000              	GLOBAL _zx_scroll_up
523   0000              	GLOBAL _zx_cls_wc_pix_callee
524   0000              	GLOBAL _zx_cls_wc_pix
525   0000              	GLOBAL _zx_cls_wc_attr_callee
526   0000              	GLOBAL _zx_cls_wc_attr
527   0000              	GLOBAL _zx_cls_wc_callee
528   0000              	GLOBAL _zx_cls_wc
529   0000              	GLOBAL _zx_cls_pix_fastcall
530   0000              	GLOBAL _zx_cls_pix
531   0000              	GLOBAL _zx_cls_attr_fastcall
532   0000              	GLOBAL _zx_cls_attr
533   0000              	GLOBAL _zx_cls_fastcall
534   0000              	GLOBAL _zx_cls
535   0000              	GLOBAL _zx_border_fastcall
536   0000              	GLOBAL _zx_border
537   0000              	GLOBAL _zx_tape_verify_block_callee
538   0000              	GLOBAL _zx_tape_verify_block
539   0000              	GLOBAL _zx_tape_save_block_callee
540   0000              	GLOBAL _zx_tape_save_block
541   0000              	GLOBAL _zx_tape_load_block_callee
542   0000              	GLOBAL _zx_tape_load_block
543   0000              	GLOBAL _spr_horizontal_check
544   0000              	GLOBAL _spr_draw8
545   0000              	GLOBAL _spr_clear_scr
546   0000              	GLOBAL _spr_back_repaint
547   0000              	GLOBAL _spr_get_tile_dir
548   0000              	GLOBAL _spr_get_tile
549   0000              	GLOBAL _spr_paint_player
550   0000              	GLOBAL _spr_clear_fast_hor
551   0000              	GLOBAL _spr_clear_fast_vert
552   0000              	GLOBAL _spr_clear_fast
553   0000              	GLOBAL _spr_paint
554   0000              	GLOBAL _spr_move_left
555   0000              	GLOBAL _spr_move_right
556   0000              	GLOBAL _spr_move_left_f
557   0000              	GLOBAL _spr_move_right_f
558   0000              	GLOBAL _spr_move_horizontal
559   0000              	GLOBAL _spr_move_down_f
560   0000              	GLOBAL _spr_move_up_f
561   0000              	GLOBAL _spr_set_right
562   0000              	GLOBAL _spr_set_left
563   0000              	GLOBAL _spr_set_down
564   0000              	GLOBAL _spr_set_up
565   0000              	GLOBAL _spr_calc_index
566   0000              	GLOBAL _spr_chktime
567   0000              	GLOBAL _player_use_floor
568   0000              	GLOBAL _game_img
569   0000              	GLOBAL _game_end_pietro
570   0000              	GLOBAL _game_end_willy
571   0000              	GLOBAL _game_text
572   0000              	GLOBAL _game_anim_conveyor
573   0000              	GLOBAL _zx_print_char
574   0000              	GLOBAL _reverse
575   0000              	GLOBAL _page
576   0000              	GLOBAL _game_crumble
577   0000              	GLOBAL _game_solar_ray0
578   0000              	GLOBAL _game_solar_ray1
579   0000              	GLOBAL _game_solar_ray
580   0000              	GLOBAL _game_anim_air
581   0000              	GLOBAL _game_shoe
582   0000              	GLOBAL _game_intro
583   0000              	GLOBAL _game_copy_sprite
584   0000              	GLOBAL _game_copy_sprite_color_reset
585   0000              	GLOBAL _game_copy_sprite_std
586   0000              	GLOBAL _game_flash_exit
587   0000              	GLOBAL _game_page_map
588   0000              	GLOBAL _game_attribs
589   0000              	GLOBAL _game_check_time
590   0000              	GLOBAL _game_key_paint
591   0000              	GLOBAL _game_colour_message
592   0000              	GLOBAL _game_paint_attrib
593   0000              	GLOBAL _game_print_score
594   0000              	GLOBAL _game_cell_paint_index
595   0000              	GLOBAL _game_cell_paint
596   0000              	GLOBAL _game_check_cell
597   0000              	GLOBAL _game_check_map
598   0000              	GLOBAL _game_loop
599   0000              	GLOBAL _game_round_init
600   0000              	GLOBAL _game_start_timer
601   0000              	GLOBAL _game_update_stats
602   0000              	GLOBAL _game_print_footer
603   0000              	GLOBAL _game_fill_row
604   0000              	GLOBAL _game_cls
605   0000              	GLOBAL _game_fps
606   0000              	GLOBAL _game_draw_map
607   0000              	GLOBAL _enemy_init
608   0000              	GLOBAL _enemy_move
609   0000              	GLOBAL _enemy_turn
610   0000              	GLOBAL _enemy_static
611   0000              	GLOBAL _enemy_horizontal
612   0000              	GLOBAL _enemy_vertical
613   0000              	GLOBAL _ay_reset
614   0000              	GLOBAL _ay_song_stop
615   0000              	GLOBAL _ay_song_play
616   0000              	GLOBAL _ay_fx_stop
617   0000              	GLOBAL _ay_fx_play
618   0000              	GLOBAL _ay_is_playing
619   0000              	GLOBAL _audio_game_over
620   0000              	GLOBAL _audio_round_init
621   0000              	GLOBAL _audio_levelup
622   0000              	GLOBAL _audio_menu
623   0000              	GLOBAL _audio_game_end
624   0000              	GLOBAL _audio_game_start
625   0000              	GLOBAL _audio_level_complete
626   0000              	GLOBAL _audio_level_start
627   0000              	GLOBAL _audio_puerta
628   0000              	GLOBAL _audio_crumble
629   0000              	GLOBAL _audio_select
630   0000              	GLOBAL _audio_tick
631   0000              	GLOBAL _audio_door_open
632   0000              	GLOBAL _audio_coin_noentiendo
633   0000              	GLOBAL _audio_coin
634   0000              	GLOBAL _audio_fall
635   0000              	GLOBAL _audio_jump
636   0000              	GLOBAL _audio_dead
637   0000              	GLOBAL _audio_time
638   0000              	GLOBAL _audio_ingame
639   0000              	GLOBAL _in_mouse_kempston_wheel_delta
640   0000              	GLOBAL _in_mouse_kempston_wheel
641   0000              	GLOBAL _in_mouse_kempston_callee
642   0000              	GLOBAL _in_mouse_kempston
643   0000              	GLOBAL _in_mouse_kempston_setpos_callee
644   0000              	GLOBAL _in_mouse_kempston_setpos
645   0000              	GLOBAL _in_mouse_kempston_reset
646   0000              	GLOBAL _in_mouse_kempston_init
647   0000              	GLOBAL _in_mouse_amx_wheel_delta
648   0000              	GLOBAL _in_mouse_amx_wheel
649   0000              	GLOBAL _in_mouse_amx_callee
650   0000              	GLOBAL _in_mouse_amx
651   0000              	GLOBAL _in_mouse_amx_setpos_callee
652   0000              	GLOBAL _in_mouse_amx_setpos
653   0000              	GLOBAL _in_mouse_amx_reset
654   0000              	GLOBAL _in_mouse_amx_init_callee
655   0000              	GLOBAL _in_mouse_amx_init
656   0000              	GLOBAL _in_stick_sinclair2
657   0000              	GLOBAL _in_stick_sinclair1
658   0000              	GLOBAL _in_stick_kempston
659   0000              	GLOBAL _in_stick_fuller
660   0000              	GLOBAL _in_stick_cursor
661   0000              	GLOBAL _in_stick_keyboard_fastcall
662   0000              	GLOBAL _in_stick_keyboard
663   0000              	GLOBAL _in_wait_nokey
664   0000              	GLOBAL _in_wait_key
665   0000              	GLOBAL _in_test_key
666   0000              	GLOBAL _in_pause_fastcall
667   0000              	GLOBAL _in_pause
668   0000              	GLOBAL _in_key_scancode_fastcall
669   0000              	GLOBAL _in_key_scancode
670   0000              	GLOBAL _in_key_pressed_fastcall
671   0000              	GLOBAL _in_key_pressed
672   0000              	GLOBAL _in_inkey
673   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
674   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
675   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
676   0000              	GLOBAL _NIRVANAP_HOLE
677   0000              	GLOBAL _NIRVANAP_ISR_HOOK
678   0000              	GLOBAL _game_tune
679   0000              	GLOBAL _code1
680   0000              	GLOBAL _code0
681   0000              	GLOBAL _deltas
682   0000              	GLOBAL _attribs
683   0000              	GLOBAL _air_curr_byte
684   0000              	GLOBAL _spr_clr
685   0000              	GLOBAL _spr_init_bright
686   0000              	GLOBAL _spr_init_cout3
687   0000              	GLOBAL _spr_init_cin3
688   0000              	GLOBAL _spr_init_cout2
689   0000              	GLOBAL _spr_init_cin2
690   0000              	GLOBAL _spr_init_cout1
691   0000              	GLOBAL _spr_init_cin1
692   0000              	GLOBAL _spr_init_cout0
693   0000              	GLOBAL _spr_init_cin0
694   0000              	GLOBAL _map_clear
695   0000              	GLOBAL _map_paper
696   0000              	GLOBAL _map_border
697   0000              	GLOBAL _gbyte
698   0000              	GLOBAL _scr_curr
699   0000              	GLOBAL _color
700   0000              	GLOBAL _scr_map
701   0000              	GLOBAL _spr_kind
702   0000              	GLOBAL _spr_altset
703   0000              	GLOBAL _spr_frames
704   0000              	GLOBAL _spr_speed_a
705   0000              	GLOBAL _spr_speed_b
706   0000              	GLOBAL _spr_speed
707   0000              	GLOBAL _spr_tile
708   0000              	GLOBAL _screen_ink
709   0000              	GLOBAL _screen_paper
710   0000              	GLOBAL _game_start_scr
711   0000              	GLOBAL _player_next_extra
712   0000              	GLOBAL _game_score_top
713   0000              	GLOBAL _player_coins
714   0000              	GLOBAL _player_lives
715   0000              	GLOBAL _game_crumb_end
716   0000              	GLOBAL _game_crumb_start
717   0000              	GLOBAL _game_over
718   0000              	GLOBAL _game_tile_cnt
719   0000              	GLOBAL _game_inf_lives
720   0000              	GLOBAL _game_inmune
721   0000              	GLOBAL _spr_count
722   0000              	GLOBAL _key_ink
723   0000              	GLOBAL _key_last
724   0000              	GLOBAL _lapse_crumb
725   0000              	GLOBAL _time_key
726   0000              	GLOBAL _time_conv
727   0000              	GLOBAL _time_air
728   0000              	GLOBAL _frame_time
729   0000              	GLOBAL _curr_time
730   0000              	GLOBAL _key_attrib
731   0000              	GLOBAL _g_ray1
732   0000              	GLOBAL _attrib_osd
733   0000              	GLOBAL _attrib_hl
734   0000              	GLOBAL _attrib
735   0000              	GLOBAL _zx_val_asm
736   0000              	GLOBAL _index1
737   0000              	GLOBAL _index0
738   0000              	GLOBAL _loop_count
739   0000              	GLOBAL _s_row1
740   0000              	GLOBAL _s_col1
741   0000              	GLOBAL _s_col0
742   0000              	GLOBAL _s_lin1
743   0000              	GLOBAL _s_lin0
744   0000              	GLOBAL _nirv_sprite_index
745   0000              	GLOBAL _player_kill_index
746   0000              	GLOBAL _player_jump_top
747   0000              	GLOBAL _game_debug
748   0000              	GLOBAL _sprite
749   0000              	GLOBAL _fps
750   0000              	GLOBAL _game_lang
751   0000              	GLOBAL _game_effect
752   0000              	GLOBAL _game_menu
753   0000              	GLOBAL _game_atrac
754   0000              	GLOBAL _game_mode
755   0000              	GLOBAL _game_tileset
756   0000              	GLOBAL _menu_curr_sel
757   0000              	GLOBAL _game_round_up
758   0000              	GLOBAL _game_lives
759   0000              	GLOBAL _game_code
760   0000              	GLOBAL _game_exit_lin
761   0000              	GLOBAL _game_exit_col
762   0000              	GLOBAL _game_conveyor_col1
763   0000              	GLOBAL _game_conveyor_col0
764   0000              	GLOBAL _game_conveyor_lin
765   0000              	GLOBAL _game_conveyor_dir
766   0000              	GLOBAL _game_song_play
767   0000              	GLOBAL _game_gravity
768   0000              	GLOBAL _player_lin_scr
769   0000              	GLOBAL _player_col_scr
770   0000              	GLOBAL _player_fall_start
771   0000              	GLOBAL _player_jump_lin
772   0000              	GLOBAL _player_jump_count
773   0000              	GLOBAL _player_jump_hack
774   0000              	GLOBAL _player_vel_inc
775   0000              	GLOBAL _player_vel_y0
776   0000              	GLOBAL _player_vel_y
777   0000              	GLOBAL _player_score
778   0000              	GLOBAL _tbuffer
779   0000              	GLOBAL _obj_count
780   0000              	GLOBAL _obj_col
781   0000              	GLOBAL _obj_lin
782   0000              	GLOBAL _last_time_b
783   0000              	GLOBAL _last_time_a
784   0000              	GLOBAL _last_time
785   0000              	GLOBAL _colint
786   0000              	GLOBAL _col
787   0000              	GLOBAL _lin
788   0000              	GLOBAL _tile
789   0000              	GLOBAL _value_c
790   0000              	GLOBAL _value_b
791   0000              	GLOBAL _value_a
792   0000              	GLOBAL _state_a
793   0000              	GLOBAL _state
794   0000              	GLOBAL _class
795   0000              	GLOBAL _dirs_last
796   0000              	GLOBAL _dirs
797   0000              	GLOBAL _k2
798   0000              	GLOBAL _k1
799   0000              	GLOBAL _joyfunc2
800   0000              	GLOBAL _joyfunc1
801   0000              	GLOBAL _btiles
802   0000              	GLOBAL _v3
803   0000              	GLOBAL _v2
804   0000              	GLOBAL _v1
805   0000              	GLOBAL _v0
806   0000              	GLOBAL _i
807   0000              	GLOBAL _spec128
808   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
809   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
810   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
811   0000              	GLOBAL _texts_en
812   0000              	GLOBAL _texts_es
813   0000              	GLOBAL _hitiles2
814   0000              	GLOBAL _hitiles1
815   0000              	GLOBAL _ay_song_medievo
816   0000              	GLOBAL _ay_song_mistery
817   0000              	GLOBAL _ay_song_coin_noentiendo
818   0000              	GLOBAL _ay_song_game_over
819   0000              	GLOBAL _ay_song_time_atack
820   0000              	GLOBAL _ay_fx_select
821   0000              	GLOBAL _ay_fx_pause
822   0000              	GLOBAL _ay_fx_crumble
823   0000              	GLOBAL _ay_fx_door_open
824   0000              	GLOBAL _ay_fx_tick
825   0000              	GLOBAL _ay_fx_game_start
826   0000              	GLOBAL _ay_fx_fall
827   0000              	GLOBAL _ay_fx_jump
828   0000              	GLOBAL _ay_fx_dead
829   0000              	GLOBAL _ay_fx_coin
830   0000              	GLOBAL _ay_song_round_init
831   0000              	GLOBAL _ay_song_menu
832   0000              	GLOBAL _ay_song_ingame1
833   0000              	GLOBAL _ay_song_ingame0
834   0000              	GLOBAL _hisprites2
835   0000              	GLOBAL _hisprites1
836   0000              	GLOBAL _logo2
837   0000              	GLOBAL _logo1
838   0000              	GLOBAL _cartoon5
839   0000              	GLOBAL _cartoon4
840   0000              	GLOBAL _cartoon3
841   0000              	GLOBAL _cartoon2
842   0000              	GLOBAL _cartoon1
843   0000              	GLOBAL _cartoon0
844   0000              	GLOBAL _img1
845   0000              	GLOBAL _air_end_byte
846   0000              	GLOBAL _air_start_byte
847   0000              	GLOBAL _tile_class
848   0000              	GLOBAL _map_names0
849   0000              	GLOBAL _game_borders0
850   0000              	GLOBAL _spr_init2
851   0000              	GLOBAL _spr_init1
852   0000              	GLOBAL _tile_class2
853   0000              	GLOBAL _tile_class1
854   0000              	GLOBAL _paper0
855   0000              	GLOBAL _lenght0
856   0000              	GLOBAL _world0
857   0000              	GLOBAL _spr_init
858   0000              	GLOBAL _game_encode
859   0000              	GLOBAL _player_jump_hor
860   0000              ;--------------------------------------------------------
861   0000              ; special function registers
862   0000              ;--------------------------------------------------------
863   0000              defc _IO_FE	=	0x00fe
864   0000              defc _IO_1FFD	=	0x1ffd
865   0000              defc _IO_7FFD	=	0x7ffd
866   0000              ;--------------------------------------------------------
867   0000              ; ram data
868   0000              ;--------------------------------------------------------
869   0000              	SECTION bss_compiler
870   0000              ;--------------------------------------------------------
871   0000              ; ram data
872   0000              ;--------------------------------------------------------
873   0000              
874   0000              IF 0
875   0000              
876   0000              ; .area _INITIALIZED removed by z88dk
877   0000              
878   0000              
879   0000              ENDIF
880   0000              
881   0000              ;--------------------------------------------------------
882   0000              ; absolute external ram data
883   0000              ;--------------------------------------------------------
884   0000              	SECTION IGNORE
885   0000              ;--------------------------------------------------------
886   0000              ; global & static initialisations
887   0000              ;--------------------------------------------------------
888   0000              	SECTION code_crt_init
889   0000              ;--------------------------------------------------------
890   0000              ; Home
891   0000              ;--------------------------------------------------------
892   0000              	SECTION IGNORE
893   0000              ;--------------------------------------------------------
894   0000              ; code
895   0000              ;--------------------------------------------------------
896   0000              	SECTION code_compiler
897   0000              ;	---------------------------------
898   0000              ; Function player_init
899   0000              ; ---------------------------------
900   0000              _player_init:
901   0000  CD 00 00    	call	___sdcc_enter_ix
902   0003  21 08 00    	ld	hl, +(_class + 0x0008)
903   0006  36 FF       	ld	(hl),0xff
904   0008  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
905   000B  36 04       	ld	(hl),0x04
906   000D  21 08 00    	ld	hl, +(_spr_frames + 0x0008)
907   0010  36 04       	ld	(hl),0x04
908   0012  21 08 00    	ld	hl, +(_lin + 0x0008)
909   0015  DD 7E 04    	ld	a,(ix+4)
910   0018  77          	ld	(hl), a
911   0019  21 08 00    	ld	hl, +(_col + 0x0008)
912   001C  DD 7E 05    	ld	a,(ix+5)
913   001F  77          	ld	(hl), a
914   0020  DD 7E 04    	ld	a,(ix+4)
915   0023  32 00 00    	ld	(_player_jump_top),a
916   0026  01 08 00    	ld	bc,_state+8
917   0029  AF          	xor	a, a
918   002A  02          	ld	(bc), a
919   002B  21 08 00    	ld	hl, +(_state_a + 0x0008)
920   002E  36 00       	ld	(hl),0x00
921   0030  ED 5B 00 00 	ld	de,(_curr_time)
922   0034  ED 53 10 00 	ld	(_last_time + 0x0010),de
923   0038  21 00 00    	ld	hl,0x0000
924   003B  22 00 00    	ld	(_player_vel_y),hl
925   003E  21 08 00    	ld	hl, +(_spr_frames + 0x0008)
926   0041  36 04       	ld	(hl),0x04
927   0043  3A 08 00    	ld	a,(_value_a + 0x0008)
928   0046  B7          	or	a, a
929   0047  28 21       	jr	Z,l_player_init_00102
930   0049  11 08 00    	ld	de,_colint+8
931   004C  3E 03       	ld	a,0x03
932   004E  12          	ld	(de), a
933   004F  0A          	ld	a, (bc)
934   0050  F6 08       	or	a,0x08
935   0052  02          	ld	(bc), a
936   0053  3A 08 00    	ld	a,(_state_a + 0x0008)
937   0056  F6 08       	or	a,0x08
938   0058  32 08 00    	ld	((_state_a + 0x0008)),a
939   005B  01 08 00    	ld	bc,_tile+8
940   005E  DD 7E 06    	ld	a,(ix+6)
941   0061  C6 04       	add	a,0x04
942   0063  02          	ld	(bc), a
943   0064  3A 08 00    	ld	a,(_value_b + 0x0008)
944   0067  12          	ld	(de), a
945   0068  18 19       	jr	l_player_init_00104
946   006A              l_player_init_00102:
947   006A  0A          	ld	a, (bc)
948   006B  F6 04       	or	a,0x04
949   006D  02          	ld	(bc), a
950   006E  3A 08 00    	ld	a,(_state_a + 0x0008)
951   0071  F6 10       	or	a,0x10
952   0073  32 08 00    	ld	((_state_a + 0x0008)),a
953   0076  21 08 00    	ld	hl, +(_tile + 0x0008)
954   0079  DD 7E 06    	ld	a,(ix+6)
955   007C  77          	ld	(hl), a
956   007D  3A 08 00    	ld	a,(_value_b + 0x0008)
957   0080  32 08 00    	ld	(_colint+8),a
958   0083              l_player_init_00104:
959   0083  DD E1       	pop	ix
960   0085  C9          	ret
961   0086              	SECTION code_compiler
962   0086              ;	---------------------------------
963   0086              ; Function player_turn
964   0086              ; ---------------------------------
965   0086              _player_turn:
966   0086  21 00 00    	ld	hl,_sprite
967   0089  36 08       	ld	(hl),0x08
968   008B  CD 00 00    	call	_spr_chktime
969   008E  7D          	ld	a, l
970   008F  B7          	or	a, a
971   0090  CA 12 01    	jp	Z, l_player_turn_00117
972   0093  3A 08 00    	ld	a,(_lin + 0x0008)
973   0096  32 00 00    	ld	(_s_lin0),a
974   0099  3A 08 00    	ld	a,(_col + 0x0008)
975   009C  32 00 00    	ld	(_s_col0),a
976   009F  21 00 00    	ld	hl,_k1
977   00A2  E5          	push	hl
978   00A3  2A 00 00    	ld	hl,(_joyfunc1)
979   00A6  CD 00 00    	call	___sdcc_call_hl
980   00A9  F1          	pop	af
981   00AA  7D          	ld	a,l
982   00AB  32 00 00    	ld	(_dirs),a
983   00AE  CD 39 02    	call	_player_move
984   00B1  CD 6A 04    	call	_player_handle_lock
985   00B4  CD D1 06    	call	_player_collision
986   00B7  CD 83 01    	call	_player_check_exit
987   00BA  3A 08 00    	ld	a,(_state + 0x0008)
988   00BD  CB 6F       	bit	5, a
989   00BF  28 11       	jr	Z,l_player_turn_00102
990   00C1  3A 00 00    	ld	a,(_game_inmune)
991   00C4  B7          	or	a, a
992   00C5  20 0B       	jr	NZ,l_player_turn_00102
993   00C7  CD 3D 0E    	call	_player_lost_life
994   00CA  3A 08 00    	ld	a,(_state + 0x0008)
995   00CD  E6 DF       	and	a,0xdf
996   00CF  32 08 00    	ld	((_state + 0x0008)),a
997   00D2              l_player_turn_00102:
998   00D2  3A 00 00    	ld	a,(_scr_curr)
999   00D5  D6 14       	sub	a,0x14
1000  00D7  38 07       	jr	C,l_player_turn_00106
1001  00D9  2A 10 00    	ld	hl,(_last_time_b + 0x0010)
1002  00DC  7C          	ld	a, h
1003  00DD  B5          	or	a,l
1004  00DE  20 05       	jr	NZ,l_player_turn_00107
1005  00E0              l_player_turn_00106:
1006  00E0  CD 00 00    	call	_game_crumble
1007  00E3  18 14       	jr	l_player_turn_00108
1008  00E5              l_player_turn_00107:
1009  00E5  21 06 00    	ld	hl,0x0006
1010  00E8  E5          	push	hl
1011  00E9  21 10 00    	ld	hl, +(_last_time_b + 0x0010)
1012  00EC  E5          	push	hl
1013  00ED  CD 00 00    	call	_game_check_time
1014  00F0  F1          	pop	af
1015  00F1  F1          	pop	af
1016  00F2  7D          	ld	a, l
1017  00F3  B7          	or	a, a
1018  00F4  28 03       	jr	Z,l_player_turn_00108
1019  00F6  CD 00 00    	call	_game_crumble
1020  00F9              l_player_turn_00108:
1021  00F9  3A 08 00    	ld	a,(_state + 0x0008)
1022  00FC  CB 47       	bit	0, a
1023  00FE  20 0A       	jr	NZ,l_player_turn_00111
1024  0100  CB 4F       	bit	1, a
1025  0102  20 06       	jr	NZ,l_player_turn_00111
1026  0104  3A 00 00    	ld	a,(_dirs)
1027  0107  32 00 00    	ld	(_dirs_last),a
1028  010A              l_player_turn_00111:
1029  010A  3A 00 00    	ld	a,(_game_debug)
1030  010D  B7          	or	a, a
1031  010E  C8          	ret	Z
1032  010F  CD 13 01    	call	_player_debug_keys
1033  0112              l_player_turn_00117:
1034  0112  C9          	ret
1035  0113              	SECTION code_compiler
1036  0113              ;	---------------------------------
1037  0113              ; Function player_debug_keys
1038  0113              ; ---------------------------------
1039  0113              _player_debug_keys:
1040  0113  CD 00 00    	call	_in_inkey
1041  0116  7D          	ld	a,l
1042  0117  32 00 00    	ld	(_v0),a
1043  011A  D6 31       	sub	a,0x31
1044  011C  28 0D       	jr	Z,l_player_debug_keys_00101
1045  011E  3A 00 00    	ld	a,(_v0)
1046  0121  FE 32       	cp	a,0x32
1047  0123  28 1F       	jr	Z,l_player_debug_keys_00104
1048  0125  D6 33       	sub	a,0x33
1049  0127  28 35       	jr	Z,l_player_debug_keys_00107
1050  0129  18 57       	jr	l_player_debug_keys_00112
1051  012B              l_player_debug_keys_00101:
1052  012B  21 00 00    	ld	hl,_scr_curr
1053  012E  35          	dec	(hl)
1054  012F  21 00 00    	ld	hl,_game_round_up
1055  0132  36 01       	ld	(hl),0x01
1056  0134  3A 00 00    	ld	a,(_scr_curr)
1057  0137  3C          	inc	a
1058  0138  20 05       	jr	NZ,l_player_debug_keys_00103
1059  013A  21 00 00    	ld	hl,_scr_curr
1060  013D  36 27       	ld	(hl),0x27
1061  013F              l_player_debug_keys_00103:
1062  013F  CD 00 00    	call	_in_wait_nokey
1063  0142  18 3E       	jr	l_player_debug_keys_00112
1064  0144              l_player_debug_keys_00104:
1065  0144  21 00 00    	ld	hl,_scr_curr
1066  0147  34          	inc	(hl)
1067  0148  21 00 00    	ld	hl,_game_round_up
1068  014B  36 01       	ld	(hl),0x01
1069  014D  3A 00 00    	ld	a,(_scr_curr)
1070  0150  D6 28       	sub	a,0x28
1071  0152  20 05       	jr	NZ,l_player_debug_keys_00106
1072  0154  21 00 00    	ld	hl,_scr_curr
1073  0157  36 00       	ld	(hl),0x00
1074  0159              l_player_debug_keys_00106:
1075  0159  CD 00 00    	call	_in_wait_nokey
1076  015C  18 24       	jr	l_player_debug_keys_00112
1077  015E              l_player_debug_keys_00107:
1078  015E  21 00 00    	ld	hl,_game_inmune
1079  0161  7E          	ld	a, (hl)
1080  0162  D6 01       	sub	a,0x01
1081  0164  3E 00       	ld	a,0x00
1082  0166  17          	rla
1083  0167  77          	ld	(hl), a
1084  0168  01 08 00    	ld	bc,_state+8
1085  016B  0A          	ld	a, (bc)
1086  016C  E6 DF       	and	a,0xdf
1087  016E  02          	ld	(bc), a
1088  016F  7E          	ld	a, (hl)
1089  0170  B7          	or	a, a
1090  0171  28 07       	jr	Z,l_player_debug_keys_00109
1091  0173  2E 04       	ld	l,0x04
1092  0175  CD 00 00    	call	_zx_border_fastcall
1093  0178  18 05       	jr	l_player_debug_keys_00110
1094  017A              l_player_debug_keys_00109:
1095  017A  2E 02       	ld	l,0x02
1096  017C  CD 00 00    	call	_zx_border_fastcall
1097  017F              l_player_debug_keys_00110:
1098  017F  CD 00 00    	call	_in_wait_nokey
1099  0182              l_player_debug_keys_00112:
1100  0182  C9          	ret
1101  0183              	SECTION code_compiler
1102  0183              ;	---------------------------------
1103  0183              ; Function player_check_exit
1104  0183              ; ---------------------------------
1105  0183              _player_check_exit:
1106  0183  3A 00 00    	ld	a,(_obj_count)
1107  0186  3C          	inc	a
1108  0187  C2 38 02    	jp	NZ,l_player_check_exit_00117
1109  018A  21 08 00    	ld	hl,+(_col + 0x0008)
1110  018D  5E          	ld	e, (hl)
1111  018E  3A 00 00    	ld	a,(_game_exit_col)
1112  0191  BB          	cp	a,e
1113  0192  28 10       	jr	Z,l_player_check_exit_00113
1114  0194  4F          	ld	c,a
1115  0195  06 00       	ld	b,0x00
1116  0197  03          	inc	bc
1117  0198  16 00       	ld	d,0x00
1118  019A  79          	ld	a, c
1119  019B  93          	sub	a, e
1120  019C  C2 38 02    	jp	NZ,l_player_check_exit_00117
1121  019F  78          	ld	a, b
1122  01A0  92          	sub	a, d
1123  01A1  C2 38 02    	jp	NZ,l_player_check_exit_00117
1124  01A4              l_player_check_exit_00113:
1125  01A4  2A 08 00    	ld	hl,(_lin + 0x0008)
1126  01A7  26 00       	ld	h,0x00
1127  01A9  01 10 00    	ld	bc,0x0010
1128  01AC  09          	add	hl,bc
1129  01AD  3A 00 00    	ld	a,(_game_exit_lin)
1130  01B0  5F          	ld	e,a
1131  01B1  16 00       	ld	d,0x00
1132  01B3  7D          	ld	a,l
1133  01B4  93          	sub	a,e
1134  01B5  44          	ld	b,h
1135  01B6  6F          	ld	l, a
1136  01B7  78          	ld	a, b
1137  01B8  9A          	sbc	a, d
1138  01B9  67          	ld	h, a
1139  01BA  CD 00 00    	call	_abs_fastcall
1140  01BD  7D          	ld	a,l
1141  01BE  32 00 00    	ld	(_v0),a
1142  01C1  D6 08       	sub	a,0x08
1143  01C3  30 73       	jr	NC,l_player_check_exit_00117
1144  01C5  21 00 00    	ld	hl,_game_round_up
1145  01C8  36 01       	ld	(hl),0x01
1146  01CA  01 08 00    	ld	bc,_state+8
1147  01CD  0A          	ld	a, (bc)
1148  01CE  E6 DF       	and	a,0xdf
1149  01D0  02          	ld	(bc), a
1150  01D1  3A 00 00    	ld	a,(_scr_curr)
1151  01D4  D6 13       	sub	a,0x13
1152  01D6  20 1B       	jr	NZ,l_player_check_exit_00102
1153  01D8  3A 00 00    	ld	a,(_game_code)
1154  01DB  B7          	or	a, a
1155  01DC  20 15       	jr	NZ,l_player_check_exit_00102
1156  01DE  2A FF FF    	ld	hl,(_game_exit_col - 1)
1157  01E1  3A 00 00    	ld	a,(_game_exit_lin)
1158  01E4  6F          	ld	l,a
1159  01E5  E5          	push	hl
1160  01E6  21 06 58    	ld	hl,0x5806
1161  01E9  E5          	push	hl
1162  01EA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1163  01ED  21 F4 01    	ld	hl,0x01f4
1164  01F0  CD 00 00    	call	_z80_delay_ms_fastcall
1165  01F3              l_player_check_exit_00102:
1166  01F3  CD 00 00    	call	_ay_song_stop
1167  01F6              l_player_check_exit_00104:
1168  01F6  ED 4B 00 00 	ld	bc,(_air_curr_byte)
1169  01FA  ED 5B 00 00 	ld	de,(_air_end_byte)
1170  01FE  7B          	ld	a,e
1171  01FF  91          	sub	a,c
1172  0200  7A          	ld	a,d
1173  0201  98          	sbc	a,b
1174  0202  30 14       	jr	NC,l_player_check_exit_00106
1175  0204  CD 00 00    	call	_audio_tick
1176  0207  CD 00 00    	call	_game_anim_air
1177  020A  21 08 00    	ld	hl,0x0008
1178  020D  CD D5 08    	call	_player_score_add
1179  0210  21 05 00    	ld	hl,0x0005
1180  0213  CD 00 00    	call	_z80_delay_ms_fastcall
1181  0216  18 DE       	jr	l_player_check_exit_00104
1182  0218              l_player_check_exit_00106:
1183  0218  21 00 00    	ld	hl,_scr_curr
1184  021B  7E          	ld	a,(hl)
1185  021C  3C          	inc	a
1186  021D  77          	ld	(hl),a
1187  021E  D6 14       	sub	a,0x14
1188  0220  20 08       	jr	NZ,l_player_check_exit_00108
1189  0222  CD 00 00    	call	_game_end_willy
1190  0225  21 00 00    	ld	hl,_scr_curr
1191  0228  36 00       	ld	(hl),0x00
1192  022A              l_player_check_exit_00108:
1193  022A  3A 00 00    	ld	a,(_scr_curr)
1194  022D  D6 28       	sub	a,0x28
1195  022F  C0          	ret	NZ
1196  0230  CD 00 00    	call	_game_end_pietro
1197  0233  21 00 00    	ld	hl,_scr_curr
1198  0236  36 14       	ld	(hl),0x14
1199  0238              l_player_check_exit_00117:
1200  0238  C9          	ret
1201  0239              	SECTION code_compiler
1202  0239              ;	---------------------------------
1203  0239              ; Function player_move
1204  0239              ; ---------------------------------
1205  0239              _player_move:
1206  0239  3A 08 00    	ld	a,(_state + 0x0008)
1207  023C  CB 47       	bit	0, a
1208  023E  20 04       	jr	NZ,l_player_move_00101
1209  0240  CB 4F       	bit	1, a
1210  0242  28 05       	jr	Z,l_player_move_00102
1211  0244              l_player_move_00101:
1212  0244  CD 52 02    	call	_player_move_jump
1213  0247  18 03       	jr	l_player_move_00103
1214  0249              l_player_move_00102:
1215  0249  CD F0 03    	call	_player_move_walk
1216  024C              l_player_move_00103:
1217  024C  CD 00 00    	call	_spr_paint_player
1218  024F  2E 00       	ld	l,0x00
1219  0251  C9          	ret
1220  0252              	SECTION code_compiler
1221  0252              ;	---------------------------------
1222  0252              ; Function player_move_jump
1223  0252              ; ---------------------------------
1224  0252              _player_move_jump:
1225  0252  CD 00 00    	call	___sdcc_enter_ix
1226  0255  F5          	push	af
1227  0256  3B          	dec	sp
1228  0257  21 00 00    	ld	hl,_player_jump_count
1229  025A  34          	inc	(hl)
1230  025B  3E 11       	ld	a,0x11
1231  025D  96          	sub	a, (hl)
1232  025E  30 07       	jr	NC,l_player_move_jump_00102
1233  0260  01 08 00    	ld	bc,_state+8
1234  0263  0A          	ld	a, (bc)
1235  0264  E6 F3       	and	a,+(0xfb&0xf7)
1236  0266  02          	ld	(bc),a
1237  0267              l_player_move_jump_00102:
1238  0267  3A 08 00    	ld	a,(_state_a + 0x0008)
1239  026A  CB 57       	bit	2, a
1240  026C  28 19       	jr	Z,l_player_move_jump_00108
1241  026E  3E 02       	ld	a,0x02
1242  0270  21 00 00    	ld	hl,_player_jump_count
1243  0273  96          	sub	a, (hl)
1244  0274  30 0C       	jr	NC,l_player_move_jump_00104
1245  0276  7E          	ld	a, (hl)
1246  0277  D6 09       	sub	a,0x09
1247  0279  30 07       	jr	NC,l_player_move_jump_00104
1248  027B  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
1249  027E  36 07       	ld	(hl),0x07
1250  0280  18 05       	jr	l_player_move_jump_00108
1251  0282              l_player_move_jump_00104:
1252  0282  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
1253  0285  36 04       	ld	(hl),0x04
1254  0287              l_player_move_jump_00108:
1255  0287  2A 00 00    	ld	hl,(_player_vel_y)
1256  028A  ED 5B 00 00 	ld	de,(_game_gravity)
1257  028E  19          	add	hl,de
1258  028F  22 00 00    	ld	(_player_vel_y),hl
1259  0292  01 08 00    	ld	bc,_state+8
1260  0295  0A          	ld	a,(bc)
1261  0296  E6 EF       	and	a,0xef
1262  0298  02          	ld	(bc), a
1263  0299  C5          	push	bc
1264  029A  21 64 00    	ld	hl,0x0064
1265  029D  E5          	push	hl
1266  029E  2A 00 00    	ld	hl,(_player_vel_y)
1267  02A1  E5          	push	hl
1268  02A2  CD 00 00    	call	__divsint_callee
1269  02A5  EB          	ex	de,hl
1270  02A6  C1          	pop	bc
1271  02A7  CB 43       	bit	0,e
1272  02A9  21 00 00    	ld	hl,_s_lin1
1273  02AC  73          	ld	(hl),e
1274  02AD  28 04       	jr	Z,l_player_move_jump_00110
1275  02AF  21 00 00    	ld	hl,_s_lin1
1276  02B2  35          	dec	(hl)
1277  02B3              l_player_move_jump_00110:
1278  02B3  3A 08 00    	ld	a,(_lin + 0x0008)
1279  02B6  DD 77 FF    	ld	(ix-1),a
1280  02B9  21 00 00    	ld	hl,_s_lin1
1281  02BC  86          	add	a, (hl)
1282  02BD  77          	ld	(hl), a
1283  02BE  AF          	xor	a, a
1284  02BF  BB          	cp	a, e
1285  02C0  9A          	sbc	a, d
1286  02C1  E2 C6 02    	jp	PO, l_player_move_jump_00210
1287  02C4  EE 80       	xor	a,0x80
1288  02C6              l_player_move_jump_00210:
1289  02C6  FA 09 03    	jp	M, l_player_move_jump_00131
1290  02C9  C5          	push	bc
1291  02CA  CD 00 00    	call	_spr_set_up
1292  02CD  C1          	pop	bc
1293  02CE  21 08 00    	ld	hl,+(_col + 0x0008)
1294  02D1  56          	ld	d, (hl)
1295  02D2  C5          	push	bc
1296  02D3  D5          	push	de
1297  02D4  33          	inc	sp
1298  02D5  3A 00 00    	ld	a,(_s_lin1)
1299  02D8  F5          	push	af
1300  02D9  33          	inc	sp
1301  02DA  CD CF 0B    	call	_player_check_ceil
1302  02DD  F1          	pop	af
1303  02DE  C1          	pop	bc
1304  02DF  7D          	ld	a,l
1305  02E0  B7          	or	a, a
1306  02E1  20 0C       	jr	NZ,l_player_move_jump_00112
1307  02E3  21 00 00    	ld	hl,0x0000
1308  02E6  22 00 00    	ld	(_player_vel_y),hl
1309  02E9  0A          	ld	a,(bc)
1310  02EA  E6 F2       	and	a,+((0xfb&0xf7)&0xfe)
1311  02EC  02          	ld	(bc),a
1312  02ED  18 06       	jr	l_player_move_jump_00113
1313  02EF              l_player_move_jump_00112:
1314  02EF  3A 00 00    	ld	a,(_s_lin1)
1315  02F2  32 08 00    	ld	((_lin + 0x0008)),a
1316  02F5              l_player_move_jump_00113:
1317  02F5  3A 00 00    	ld	a,(_s_lin1)
1318  02F8  32 00 00    	ld	(_player_jump_top),a
1319  02FB  3E 80       	ld	a,0x80
1320  02FD  21 00 00    	ld	hl,_player_jump_top
1321  0300  96          	sub	a, (hl)
1322  0301  D2 B5 03    	jp	NC, l_player_move_jump_00132
1323  0304  36 00       	ld	(hl),0x00
1324  0306  C3 B5 03    	jp	l_player_move_jump_00132
1325  0309              l_player_move_jump_00131:
1326  0309  3E 70       	ld	a,0x70
1327  030B  21 00 00    	ld	hl,_s_lin1
1328  030E  96          	sub	a, (hl)
1329  030F  30 18       	jr	NC,l_player_move_jump_00120
1330  0311  3E C8       	ld	a,0xc8
1331  0313  96          	sub	a, (hl)
1332  0314  30 07       	jr	NC,l_player_move_jump_00117
1333  0316  21 00 00    	ld	hl,_v0
1334  0319  36 00       	ld	(hl),0x00
1335  031B  18 15       	jr	l_player_move_jump_00121
1336  031D              l_player_move_jump_00117:
1337  031D  21 00 00    	ld	hl,_v0
1338  0320  36 70       	ld	(hl),0x70
1339  0322  21 00 00    	ld	hl,_s_lin1
1340  0325  36 70       	ld	(hl),0x70
1341  0327  18 09       	jr	l_player_move_jump_00121
1342  0329              l_player_move_jump_00120:
1343  0329  C5          	push	bc
1344  032A  CD 46 0D    	call	_player_get_floor
1345  032D  C1          	pop	bc
1346  032E  7D          	ld	a,l
1347  032F  32 00 00    	ld	(_v0),a
1348  0332              l_player_move_jump_00121:
1349  0332  3A 00 00    	ld	a,(_s_lin1)
1350  0335  21 00 00    	ld	hl,_v0
1351  0338  96          	sub	a, (hl)
1352  0339  38 6F       	jr	C,l_player_move_jump_00128
1353  033B  7E          	ld	a, (hl)
1354  033C  21 00 00    	ld	hl,_s_lin0
1355  033F  96          	sub	a, (hl)
1356  0340  38 68       	jr	C,l_player_move_jump_00128
1357  0342  3A 00 00    	ld	a,(_v0)
1358  0345  5F          	ld	e,a
1359  0346  16 00       	ld	d,0x00
1360  0348  3A 00 00    	ld	a,(_player_jump_top)
1361  034B  DD 77 FD    	ld	(ix-3),a
1362  034E  DD 36 FE 00 	ld	(ix-2),0x00
1363  0352  7B          	ld	a, e
1364  0353  DD 96 FD    	sub	a,(ix-3)
1365  0356  5F          	ld	e, a
1366  0357  7A          	ld	a, d
1367  0358  DD 9E FE    	sbc	a,(ix-2)
1368  035B  57          	ld	d, a
1369  035C  7B          	ld	a, e
1370  035D  D6 28       	sub	a,0x28
1371  035F  7A          	ld	a, d
1372  0360  17          	rla
1373  0361  3F          	ccf
1374  0362  1F          	rra
1375  0363  DE 80       	sbc	a,0x80
1376  0365  38 04       	jr	C,l_player_move_jump_00123
1377  0367  0A          	ld	a, (bc)
1378  0368  F6 20       	or	a,0x20
1379  036A  02          	ld	(bc), a
1380  036B              l_player_move_jump_00123:
1381  036B  3A 00 00    	ld	a,(_v0)
1382  036E  32 08 00    	ld	((_lin + 0x0008)),a
1383  0371  21 00 00    	ld	hl,0x0000
1384  0374  22 00 00    	ld	(_player_vel_y),hl
1385  0377  0A          	ld	a, (bc)
1386  0378  E6 FC       	and	a,+(0xfd&0xfe)
1387  037A  02          	ld	(bc),a
1388  037B  3A 00 00    	ld	a,(_player_jump_lin)
1389  037E  21 00 00    	ld	hl,_v0
1390  0381  96          	sub	a, (hl)
1391  0382  20 0C       	jr	NZ,l_player_move_jump_00125
1392  0384  3A 08 00    	ld	a,(_state_a + 0x0008)
1393  0387  CB 57       	bit	2, a
1394  0389  28 05       	jr	Z,l_player_move_jump_00125
1395  038B  E6 FE       	and	a,0xfe
1396  038D  32 08 00    	ld	((_state_a + 0x0008)),a
1397  0390              l_player_move_jump_00125:
1398  0390  3A 08 00    	ld	a,(_state_a + 0x0008)
1399  0393  E6 7B       	and	a,+(0x7f&0xfb)
1400  0395  32 08 00    	ld	((_state_a + 0x0008)),a
1401  0398  CD 98 05    	call	_player_handle_conveyor
1402  039B  CD 00 00    	call	_ay_fx_stop
1403  039E  21 08 00    	ld	hl, +(_spr_speed + 0x0008)
1404  03A1  36 04       	ld	(hl),0x04
1405  03A3  CD 3C 05    	call	_player_check_conveyor
1406  03A6  2E 00       	ld	l,0x00
1407  03A8  18 41       	jr	l_player_move_jump_00138
1408  03AA              l_player_move_jump_00128:
1409  03AA  C5          	push	bc
1410  03AB  CD 00 00    	call	_spr_set_down
1411  03AE  C1          	pop	bc
1412  03AF  3A 00 00    	ld	a,(_s_lin1)
1413  03B2  32 08 00    	ld	((_lin + 0x0008)),a
1414  03B5              l_player_move_jump_00132:
1415  03B5  0A          	ld	a, (bc)
1416  03B6  CB 5F       	bit	3, a
1417  03B8  20 04       	jr	NZ,l_player_move_jump_00135
1418  03BA  CB 57       	bit	2, a
1419  03BC  28 2B       	jr	Z,l_player_move_jump_00136
1420  03BE              l_player_move_jump_00135:
1421  03BE  2A 00 00    	ld	hl,(_player_jump_count)
1422  03C1  26 00       	ld	h,0x00
1423  03C3  01 00 00    	ld	bc,_player_jump_hor
1424  03C6  09          	add	hl,bc
1425  03C7  7E          	ld	a,(hl)
1426  03C8  B7          	or	a, a
1427  03C9  28 1B       	jr	Z,l_player_move_jump_00134
1428  03CB  3A 00 00    	ld	a,(_player_vel_y)
1429  03CE  21 00 00    	ld	hl,_game_gravity
1430  03D1  96          	sub	a, (hl)
1431  03D2  21 00 00    	ld	hl,_player_vel_y
1432  03D5  77          	ld	(hl), a
1433  03D6  23          	inc	hl
1434  03D7  7E          	ld	a, (hl)
1435  03D8  21 01 00    	ld	hl,_game_gravity + 1
1436  03DB  9E          	sbc	a, (hl)
1437  03DC  32 01 00    	ld	(_player_vel_y + 1),a
1438  03DF  CD 00 00    	call	_spr_move_horizontal
1439  03E2  2E 00       	ld	l,0x00
1440  03E4  18 05       	jr	l_player_move_jump_00138
1441  03E6              l_player_move_jump_00134:
1442  03E6  CD 00 00    	call	_spr_move_horizontal
1443  03E9              l_player_move_jump_00136:
1444  03E9  2E 01       	ld	l,0x01
1445  03EB              l_player_move_jump_00138:
1446  03EB  DD F9       	ld	sp, ix
1447  03ED  DD E1       	pop	ix
1448  03EF  C9          	ret
1449  03F0              	SECTION code_compiler
1450  03F0              ;	---------------------------------
1451  03F0              ; Function player_move_walk
1452  03F0              ; ---------------------------------
1453  03F0              _player_move_walk:
1454  03F0  CD 98 08    	call	_player_check_input
1455  03F3  7D          	ld	a, l
1456  03F4  B7          	or	a, a
1457  03F5  28 5C       	jr	Z,l_player_move_walk_00117
1458  03F7  21 00 00    	ld	hl,_dirs
1459  03FA  CB 7E       	bit	7, (hl)
1460  03FC  28 0E       	jr	Z,l_player_move_walk_00104
1461  03FE  CD D0 05    	call	_player_new_jump
1462  0401  7D          	ld	a, l
1463  0402  B7          	or	a, a
1464  0403  28 03       	jr	Z,l_player_move_walk_00102
1465  0405  CD 00 00    	call	_spr_move_horizontal
1466  0408              l_player_move_walk_00102:
1467  0408  2E 01       	ld	l,0x01
1468  040A  18 5D       	jr	l_player_move_walk_00119
1469  040C              l_player_move_walk_00104:
1470  040C  11 08 00    	ld	de,_state_a+8
1471  040F  1A          	ld	a, (de)
1472  0410  E6 FD       	and	a,0xfd
1473  0412  12          	ld	(de), a
1474  0413  01 08 00    	ld	bc,_state+8
1475  0416  0A          	ld	a, (bc)
1476  0417  CB 67       	bit	4, a
1477  0419  20 07       	jr	NZ,l_player_move_walk_00106
1478  041B  C5          	push	bc
1479  041C  D5          	push	de
1480  041D  CD CC 04    	call	_player_handle_walk
1481  0420  D1          	pop	de
1482  0421  C1          	pop	bc
1483  0422              l_player_move_walk_00106:
1484  0422  1A          	ld	a, (de)
1485  0423  0F          	rrca
1486  0424  38 05       	jr	C,l_player_move_walk_00112
1487  0426  CD 98 05    	call	_player_handle_conveyor
1488  0429  18 1E       	jr	l_player_move_walk_00113
1489  042B              l_player_move_walk_00112:
1490  042B  21 00 00    	ld	hl,_dirs
1491  042E  CB 5E       	bit	3, (hl)
1492  0430  28 04       	jr	Z,l_player_move_walk_00108
1493  0432  0A          	ld	a, (bc)
1494  0433  F6 04       	or	a,0x04
1495  0435  02          	ld	(bc), a
1496  0436              l_player_move_walk_00108:
1497  0436  21 00 00    	ld	hl,_dirs
1498  0439  CB 56       	bit	2, (hl)
1499  043B  28 04       	jr	Z,l_player_move_walk_00110
1500  043D  0A          	ld	a, (bc)
1501  043E  F6 08       	or	a,0x08
1502  0440  02          	ld	(bc), a
1503  0441              l_player_move_walk_00110:
1504  0441  21 08 04    	ld	hl,0x0408
1505  0444  E5          	push	hl
1506  0445  CD BB 08    	call	_player_tile
1507  0448  F1          	pop	af
1508  0449              l_player_move_walk_00113:
1509  0449  CD 04 05    	call	_player_handle_fall
1510  044C  CD 00 00    	call	_spr_move_horizontal
1511  044F  2E 01       	ld	l,0x01
1512  0451  18 16       	jr	l_player_move_walk_00119
1513  0453              l_player_move_walk_00117:
1514  0453  01 08 00    	ld	bc,_state_a+8
1515  0456  0A          	ld	a, (bc)
1516  0457  E6 FD       	and	a,0xfd
1517  0459  02          	ld	(bc), a
1518  045A  CD 98 05    	call	_player_handle_conveyor
1519  045D  7D          	ld	a, l
1520  045E  B7          	or	a, a
1521  045F  28 03       	jr	Z,l_player_move_walk_00115
1522  0461  CD 00 00    	call	_spr_move_horizontal
1523  0464              l_player_move_walk_00115:
1524  0464  CD 04 05    	call	_player_handle_fall
1525  0467  2E 00       	ld	l,0x00
1526  0469              l_player_move_walk_00119:
1527  0469  C9          	ret
1528  046A              	SECTION code_compiler
1529  046A              ;	---------------------------------
1530  046A              ; Function player_handle_lock
1531  046A              ; ---------------------------------
1532  046A              _player_handle_lock:
1533  046A  3A 08 00    	ld	a,(_state + 0x0008)
1534  046D  CB 67       	bit	4, a
1535  046F  20 53       	jr	NZ,l_player_handle_lock_00116
1536  0471  3A 00 00    	ld	a,(_dirs)
1537  0474  B7          	or	a, a
1538  0475  20 09       	jr	NZ,l_player_handle_lock_00113
1539  0477  01 08 00    	ld	bc,_state_a+8
1540  047A  0A          	ld	a, (bc)
1541  047B  E6 FE       	and	a,0xfe
1542  047D  02          	ld	(bc), a
1543  047E  18 4B       	jr	l_player_handle_lock_00118
1544  0480              l_player_handle_lock_00113:
1545  0480  21 00 00    	ld	hl,_dirs
1546  0483  CB 56       	bit	2,(hl)
1547  0485  20 04       	jr	NZ,l_player_handle_lock_00108
1548  0487  CB 5E       	bit	3, (hl)
1549  0489  28 19       	jr	Z,l_player_handle_lock_00109
1550  048B              l_player_handle_lock_00108:
1551  048B  21 00 00    	ld	hl,_v0
1552  048E  36 00       	ld	(hl),0x00
1553  0490  21 00 00    	ld	hl,_v1
1554  0493  36 00       	ld	(hl),0x00
1555  0495  01 08 00    	ld	bc,_state_a+8
1556  0498  0A          	ld	a, (bc)
1557  0499  F6 01       	or	a,0x01
1558  049B  02          	ld	(bc), a
1559  049C  3A 00 00    	ld	a,(_dirs)
1560  049F  32 00 00    	ld	(_dirs_last),a
1561  04A2  18 27       	jr	l_player_handle_lock_00118
1562  04A4              l_player_handle_lock_00109:
1563  04A4  21 00 00    	ld	hl,_dirs
1564  04A7  CB 7E       	bit	7, (hl)
1565  04A9  28 10       	jr	Z,l_player_handle_lock_00105
1566  04AB  21 00 00    	ld	hl,_dirs_last
1567  04AE  CB 7E       	bit	7, (hl)
1568  04B0  28 09       	jr	Z,l_player_handle_lock_00105
1569  04B2  01 08 00    	ld	bc,_state_a+8
1570  04B5  0A          	ld	a, (bc)
1571  04B6  F6 01       	or	a,0x01
1572  04B8  02          	ld	(bc), a
1573  04B9  18 10       	jr	l_player_handle_lock_00118
1574  04BB              l_player_handle_lock_00105:
1575  04BB  01 08 00    	ld	bc,_state_a+8
1576  04BE  0A          	ld	a, (bc)
1577  04BF  E6 FE       	and	a,0xfe
1578  04C1  02          	ld	(bc), a
1579  04C2  18 07       	jr	l_player_handle_lock_00118
1580  04C4              l_player_handle_lock_00116:
1581  04C4  01 08 00    	ld	bc,_state_a+8
1582  04C7  0A          	ld	a, (bc)
1583  04C8  E6 FE       	and	a,0xfe
1584  04CA  02          	ld	(bc), a
1585  04CB              l_player_handle_lock_00118:
1586  04CB  C9          	ret
1587  04CC              	SECTION code_compiler
1588  04CC              ;	---------------------------------
1589  04CC              ; Function player_handle_walk
1590  04CC              ; ---------------------------------
1591  04CC              _player_handle_walk:
1592  04CC  21 00 00    	ld	hl,_dirs
1593  04CF  CB 5E       	bit	3, (hl)
1594  04D1  28 11       	jr	Z,l_player_handle_walk_00104
1595  04D3  3A 08 00    	ld	a,(_state_a + 0x0008)
1596  04D6  CB 5F       	bit	3, a
1597  04D8  28 07       	jr	Z,l_player_handle_walk_00102
1598  04DA  01 08 00    	ld	bc,_colint+8
1599  04DD  0A          	ld	a, (bc)
1600  04DE  C6 FF       	add	a,0xff
1601  04E0  02          	ld	(bc), a
1602  04E1              l_player_handle_walk_00102:
1603  04E1  CD 00 00    	call	_spr_set_right
1604  04E4              l_player_handle_walk_00104:
1605  04E4  21 00 00    	ld	hl,_dirs
1606  04E7  CB 56       	bit	2, (hl)
1607  04E9  28 10       	jr	Z,l_player_handle_walk_00108
1608  04EB  3A 08 00    	ld	a,(_state_a + 0x0008)
1609  04EE  CB 67       	bit	4, a
1610  04F0  28 06       	jr	Z,l_player_handle_walk_00106
1611  04F2  01 08 00    	ld	bc,_colint+8
1612  04F5  0A          	ld	a, (bc)
1613  04F6  3C          	inc	a
1614  04F7  02          	ld	(bc), a
1615  04F8              l_player_handle_walk_00106:
1616  04F8  CD 00 00    	call	_spr_set_left
1617  04FB              l_player_handle_walk_00108:
1618  04FB  21 08 04    	ld	hl,0x0408
1619  04FE  E5          	push	hl
1620  04FF  CD BB 08    	call	_player_tile
1621  0502  F1          	pop	af
1622  0503  C9          	ret
1623  0504              	SECTION code_compiler
1624  0504              ;	---------------------------------
1625  0504              ; Function player_handle_fall
1626  0504              ; ---------------------------------
1627  0504              _player_handle_fall:
1628  0504  AF          	xor	a, a
1629  0505  F5          	push	af
1630  0506  33          	inc	sp
1631  0507  CD D2 0C    	call	_player_check_floor
1632  050A  33          	inc	sp
1633  050B  7D          	ld	a, l
1634  050C  B7          	or	a, a
1635  050D  C8          	ret	Z
1636  050E  3E 01       	ld	a,0x01
1637  0510  F5          	push	af
1638  0511  33          	inc	sp
1639  0512  CD D2 0C    	call	_player_check_floor
1640  0515  33          	inc	sp
1641  0516  7D          	ld	a, l
1642  0517  B7          	or	a, a
1643  0518  C8          	ret	Z
1644  0519  3A 08 00    	ld	a,(_lin + 0x0008)
1645  051C  32 00 00    	ld	(_player_jump_top),a
1646  051F  01 08 00    	ld	bc,_state+8
1647  0522  0A          	ld	a, (bc)
1648  0523  F6 02       	or	a,0x02
1649  0525  E6 F3       	and	a,+(0xf7&0xfb)
1650  0527  02          	ld	(bc),a
1651  0528  01 08 00    	ld	bc,_state_a+8
1652  052B  0A          	ld	a, (bc)
1653  052C  E6 FC       	and	a,+(0xfe&0xfd)
1654  052E  02          	ld	(bc),a
1655  052F  21 00 00    	ld	hl,_player_jump_count
1656  0532  36 FF       	ld	(hl),0xff
1657  0534  21 00 00    	ld	hl,_player_fall_start
1658  0537  36 01       	ld	(hl),0x01
1659  0539  C3 00 00    	jp  _audio_fall
1660  053C              	SECTION code_compiler
1661  053C              ;	---------------------------------
1662  053C              ; Function player_check_conveyor
1663  053C              ; ---------------------------------
1664  053C              _player_check_conveyor:
1665  053C  3A 08 00    	ld	a,(_state_a + 0x0008)
1666  053F  0F          	rrca
1667  0540  D8          	ret	C
1668  0541  C3 44 05    	jp  _player_check_conveyor_int
1669  0544              	SECTION code_compiler
1670  0544              ;	---------------------------------
1671  0544              ; Function player_check_conveyor_int
1672  0544              ; ---------------------------------
1673  0544              _player_check_conveyor_int:
1674  0544  21 08 00    	ld	hl,+(_col + 0x0008)
1675  0547  56          	ld	d, (hl)
1676  0548  3A 08 00    	ld	a,(_lin + 0x0008)
1677  054B  C6 10       	add	a,0x10
1678  054D  5F          	ld	e, a
1679  054E  D5          	push	de
1680  054F  CD 00 00    	call	_spr_calc_index
1681  0552  F1          	pop	af
1682  0553  22 00 00    	ld	(_index1),hl
1683  0556  01 00 00    	ld	bc,_tile_class+0
1684  0559  11 00 00    	ld	de,_scr_map
1685  055C  2A 00 00    	ld	hl,(_index1)
1686  055F  19          	add	hl,de
1687  0560  6E          	ld	l,(hl)
1688  0561  26 00       	ld	h,0x00
1689  0563  09          	add	hl, bc
1690  0564  7E          	ld	a, (hl)
1691  0565  32 00 00    	ld	(_v0),a
1692  0568  ED 5B 00 00 	ld	de,(_index1)
1693  056C  13          	inc	de
1694  056D  21 00 00    	ld	hl,_scr_map
1695  0570  19          	add	hl, de
1696  0571  6E          	ld	l, (hl)
1697  0572  26 00       	ld	h,0x00
1698  0574  09          	add	hl, bc
1699  0575  7E          	ld	a, (hl)
1700  0576  32 00 00    	ld	(_v1),a
1701  0579  3A 00 00    	ld	a,(_v0)
1702  057C  D6 04       	sub	a,0x04
1703  057E  28 07       	jr	Z,l_player_check_conveyor_int_00101
1704  0580  3A 00 00    	ld	a,(_v1)
1705  0583  D6 04       	sub	a,0x04
1706  0585  20 09       	jr	NZ,l_player_check_conveyor_int_00102
1707  0587              l_player_check_conveyor_int_00101:
1708  0587  01 08 00    	ld	bc,_state+8
1709  058A  0A          	ld	a, (bc)
1710  058B  F6 10       	or	a,0x10
1711  058D  02          	ld	(bc), a
1712  058E  18 07       	jr	l_player_check_conveyor_int_00105
1713  0590              l_player_check_conveyor_int_00102:
1714  0590  01 08 00    	ld	bc,_state+8
1715  0593  0A          	ld	a, (bc)
1716  0594  E6 EF       	and	a,0xef
1717  0596  02          	ld	(bc), a
1718  0597              l_player_check_conveyor_int_00105:
1719  0597  C9          	ret
1720  0598              	SECTION code_compiler
1721  0598              ;	---------------------------------
1722  0598              ; Function player_handle_conveyor
1723  0598              ; ---------------------------------
1724  0598              _player_handle_conveyor:
1725  0598  CD 3C 05    	call	_player_check_conveyor
1726  059B  3A 08 00    	ld	a,(_state + 0x0008)
1727  059E  CB 67       	bit	4, a
1728  05A0  28 2B       	jr	Z,l_player_handle_conveyor_00106
1729  05A2  3A 00 00    	ld	a,(_game_conveyor_dir)
1730  05A5  D6 02       	sub	a,0x02
1731  05A7  20 0F       	jr	NZ,l_player_handle_conveyor_00102
1732  05A9  CD 00 00    	call	_spr_set_right
1733  05AC  21 08 04    	ld	hl,0x0408
1734  05AF  E5          	push	hl
1735  05B0  CD BB 08    	call	_player_tile
1736  05B3  F1          	pop	af
1737  05B4  2E 01       	ld	l,0x01
1738  05B6  18 17       	jr	l_player_handle_conveyor_00107
1739  05B8              l_player_handle_conveyor_00102:
1740  05B8  3A 00 00    	ld	a,(_game_conveyor_dir)
1741  05BB  3D          	dec	a
1742  05BC  20 0F       	jr	NZ,l_player_handle_conveyor_00106
1743  05BE  CD 00 00    	call	_spr_set_left
1744  05C1  21 08 04    	ld	hl,0x0408
1745  05C4  E5          	push	hl
1746  05C5  CD BB 08    	call	_player_tile
1747  05C8  F1          	pop	af
1748  05C9  2E 01       	ld	l,0x01
1749  05CB  18 02       	jr	l_player_handle_conveyor_00107
1750  05CD              l_player_handle_conveyor_00106:
1751  05CD  2E 00       	ld	l,0x00
1752  05CF              l_player_handle_conveyor_00107:
1753  05CF  C9          	ret
1754  05D0              	SECTION code_compiler
1755  05D0              ;	---------------------------------
1756  05D0              ; Function player_new_jump
1757  05D0              ; ---------------------------------
1758  05D0              _player_new_jump:
1759  05D0  21 08 00    	ld	hl,+(_col + 0x0008)
1760  05D3  56          	ld	d, (hl)
1761  05D4  21 08 00    	ld	hl,+(_lin + 0x0008)
1762  05D7  46          	ld	b, (hl)
1763  05D8  05          	dec	b
1764  05D9  05          	dec	b
1765  05DA  58          	ld	e,b
1766  05DB  D5          	push	de
1767  05DC  CD CF 0B    	call	_player_check_ceil
1768  05DF  F1          	pop	af
1769  05E0  7D          	ld	a, l
1770  05E1  B7          	or	a, a
1771  05E2  CA C8 06    	jp	Z, l_player_new_jump_00128
1772  05E5  01 08 00    	ld	bc,_state_a+8
1773  05E8  0A          	ld	a, (bc)
1774  05E9  CB 4F       	bit	1,a
1775  05EB  28 03       	jr	Z,l_player_new_jump_00185
1776  05ED  5F          	ld	e,a
1777  05EE  18 08       	jr	l_player_new_jump_00102
1778  05F0              l_player_new_jump_00185:
1779  05F0  3A 00 00    	ld	a,(_dirs)
1780  05F3  32 00 00    	ld	(_dirs_last),a
1781  05F6  18 09       	jr	l_player_new_jump_00103
1782  05F8              l_player_new_jump_00102:
1783  05F8  21 00 00    	ld	hl,_dirs_last
1784  05FB  36 00       	ld	(hl),0x00
1785  05FD  CB 83       	res	0, e
1786  05FF  7B          	ld	a, e
1787  0600  02          	ld	(bc), a
1788  0601              l_player_new_jump_00103:
1789  0601  0A          	ld	a, (bc)
1790  0602  E6 FB       	and	a,0xfb
1791  0604  F6 80       	or	a,0x80
1792  0606  02          	ld	(bc),a
1793  0607  21 64 00    	ld	hl,0x0064
1794  060A  22 00 00    	ld	(_game_gravity),hl
1795  060D  21 A8 FD    	ld	hl,0xfda8
1796  0610  22 00 00    	ld	(_player_vel_y0),hl
1797  0613  21 00 00    	ld	hl,_player_vel_inc
1798  0616  36 01       	ld	(hl),0x01
1799  0618  21 00 00    	ld	hl,_player_jump_count
1800  061B  36 FF       	ld	(hl),0xff
1801  061D  3A 00 00    	ld	a,(_s_lin0)
1802  0620  32 00 00    	ld	(_player_jump_lin),a
1803  0623  C5          	push	bc
1804  0624  CD 00 00    	call	_audio_jump
1805  0627  CD 00 00    	call	_spr_set_up
1806  062A  C1          	pop	bc
1807  062B  2A 00 00    	ld	hl,(_player_vel_y0)
1808  062E  22 00 00    	ld	(_player_vel_y),hl
1809  0631  0A          	ld	a, (bc)
1810  0632  E6 FB       	and	a,0xfb
1811  0634  02          	ld	(bc), a
1812  0635  C5          	push	bc
1813  0636  CD 3C 05    	call	_player_check_conveyor
1814  0639  C1          	pop	bc
1815  063A  2A 08 00    	ld	hl,(_state + 0x0008)
1816  063D  5D          	ld	e, l
1817  063E  CB 9B       	res	3, e
1818  0640  53          	ld	d, e
1819  0641  CB 92       	res	2, d
1820  0643  CB 65       	bit	4, l
1821  0645  28 45       	jr	Z,l_player_new_jump_00122
1822  0647  0A          	ld	a, (bc)
1823  0648  CB 47       	bit	0, a
1824  064A  28 35       	jr	Z,l_player_new_jump_00115
1825  064C  21 00 00    	ld	hl,_dirs
1826  064F  CB 56       	bit	2,(hl)
1827  0651  20 14       	jr	NZ,l_player_new_jump_00108
1828  0653  CB 5E       	bit	3, (hl)
1829  0655  20 10       	jr	NZ,l_player_new_jump_00108
1830  0657  CB 4F       	bit	1, a
1831  0659  20 07       	jr	NZ,l_player_new_jump_00105
1832  065B  21 08 00    	ld	hl, +(_state + 0x0008)
1833  065E  73          	ld	(hl), e
1834  065F  72          	ld	(hl), d
1835  0660  18 05       	jr	l_player_new_jump_00108
1836  0662              l_player_new_jump_00105:
1837  0662  C5          	push	bc
1838  0663  CD 98 05    	call	_player_handle_conveyor
1839  0666  C1          	pop	bc
1840  0667              l_player_new_jump_00108:
1841  0667  21 00 00    	ld	hl,_dirs
1842  066A  CB 56       	bit	2, (hl)
1843  066C  28 05       	jr	Z,l_player_new_jump_00111
1844  066E  C5          	push	bc
1845  066F  CD 00 00    	call	_spr_set_left
1846  0672  C1          	pop	bc
1847  0673              l_player_new_jump_00111:
1848  0673  21 00 00    	ld	hl,_dirs
1849  0676  CB 5E       	bit	3, (hl)
1850  0678  28 0C       	jr	Z,l_player_new_jump_00116
1851  067A  C5          	push	bc
1852  067B  CD 00 00    	call	_spr_set_right
1853  067E  C1          	pop	bc
1854  067F  18 05       	jr	l_player_new_jump_00116
1855  0681              l_player_new_jump_00115:
1856  0681  C5          	push	bc
1857  0682  CD 98 05    	call	_player_handle_conveyor
1858  0685  C1          	pop	bc
1859  0686              l_player_new_jump_00116:
1860  0686  0A          	ld	a, (bc)
1861  0687  F6 02       	or	a,0x02
1862  0689  02          	ld	(bc), a
1863  068A  18 21       	jr	l_player_new_jump_00123
1864  068C              l_player_new_jump_00122:
1865  068C  21 08 00    	ld	hl, +(_state + 0x0008)
1866  068F  73          	ld	(hl), e
1867  0690  72          	ld	(hl), d
1868  0691  0A          	ld	a, (bc)
1869  0692  E6 FD       	and	a,0xfd
1870  0694  02          	ld	(bc), a
1871  0695  21 00 00    	ld	hl,_dirs
1872  0698  CB 56       	bit	2, (hl)
1873  069A  28 05       	jr	Z,l_player_new_jump_00118
1874  069C  C5          	push	bc
1875  069D  CD 00 00    	call	_spr_set_left
1876  06A0  C1          	pop	bc
1877  06A1              l_player_new_jump_00118:
1878  06A1  21 00 00    	ld	hl,_dirs
1879  06A4  CB 5E       	bit	3, (hl)
1880  06A6  28 05       	jr	Z,l_player_new_jump_00123
1881  06A8  C5          	push	bc
1882  06A9  CD 00 00    	call	_spr_set_right
1883  06AC  C1          	pop	bc
1884  06AD              l_player_new_jump_00123:
1885  06AD  3A 08 00    	ld	a,(_state + 0x0008)
1886  06B0  CB 5F       	bit	3, a
1887  06B2  20 08       	jr	NZ,l_player_new_jump_00125
1888  06B4  CB 57       	bit	2, a
1889  06B6  20 04       	jr	NZ,l_player_new_jump_00125
1890  06B8  0A          	ld	a, (bc)
1891  06B9  F6 04       	or	a,0x04
1892  06BB  02          	ld	(bc), a
1893  06BC              l_player_new_jump_00125:
1894  06BC  21 08 04    	ld	hl,0x0408
1895  06BF  E5          	push	hl
1896  06C0  CD BB 08    	call	_player_tile
1897  06C3  F1          	pop	af
1898  06C4  2E 01       	ld	l,0x01
1899  06C6  18 08       	jr	l_player_new_jump_00130
1900  06C8              l_player_new_jump_00128:
1901  06C8  CD 00 00    	call	_spr_move_horizontal
1902  06CB  CD 04 05    	call	_player_handle_fall
1903  06CE  2E 00       	ld	l,0x00
1904  06D0              l_player_new_jump_00130:
1905  06D0  C9          	ret
1906  06D1              	SECTION code_compiler
1907  06D1              ;	---------------------------------
1908  06D1              ; Function player_collision
1909  06D1              ; ---------------------------------
1910  06D1              _player_collision:
1911  06D1  21 08 00    	ld	hl,+(_col + 0x0008)
1912  06D4  56          	ld	d, (hl)
1913  06D5  21 08 00    	ld	hl,+(_lin + 0x0008)
1914  06D8  5E          	ld	e, (hl)
1915  06D9  D5          	push	de
1916  06DA  CD 00 00    	call	_spr_calc_index
1917  06DD  F1          	pop	af
1918  06DE  22 00 00    	ld	(_index1),hl
1919  06E1  CD 69 08    	call	_player_pick
1920  06E4  21 08 00    	ld	hl,+(_col + 0x0008)
1921  06E7  56          	ld	d, (hl)
1922  06E8  3A 08 00    	ld	a,(_lin + 0x0008)
1923  06EB  C6 0E       	add	a,0x0e
1924  06ED  5F          	ld	e, a
1925  06EE  D5          	push	de
1926  06EF  CD 00 00    	call	_spr_calc_index
1927  06F2  F1          	pop	af
1928  06F3  22 00 00    	ld	(_index1),hl
1929  06F6  CD 69 08    	call	_player_pick
1930  06F9  21 08 00    	ld	hl,+(_col + 0x0008)
1931  06FC  56          	ld	d, (hl)
1932  06FD  14          	inc	d
1933  06FE  21 08 00    	ld	hl,+(_lin + 0x0008)
1934  0701  5E          	ld	e, (hl)
1935  0702  D5          	push	de
1936  0703  CD 00 00    	call	_spr_calc_index
1937  0706  F1          	pop	af
1938  0707  22 00 00    	ld	(_index1),hl
1939  070A  CD 69 08    	call	_player_pick
1940  070D  21 08 00    	ld	hl,+(_col + 0x0008)
1941  0710  56          	ld	d, (hl)
1942  0711  14          	inc	d
1943  0712  3A 08 00    	ld	a,(_lin + 0x0008)
1944  0715  C6 0E       	add	a,0x0e
1945  0717  5F          	ld	e, a
1946  0718  D5          	push	de
1947  0719  CD 00 00    	call	_spr_calc_index
1948  071C  F1          	pop	af
1949  071D  22 00 00    	ld	(_index1),hl
1950  0720  CD 69 08    	call	_player_pick
1951  0723  21 00 00    	ld	hl,_i
1952  0726  36 00       	ld	(hl),0x00
1953  0728              l_player_collision_00139:
1954  0728  2A 00 00    	ld	hl,(_i)
1955  072B  26 00       	ld	h,0x00
1956  072D  01 00 00    	ld	bc,_class
1957  0730  09          	add	hl,bc
1958  0731  7E          	ld	a,(hl)
1959  0732  B7          	or	a,a
1960  0733  CA 5D 08    	jp	Z,l_player_collision_00140
1961  0736  2A 00 00    	ld	hl,(_i)
1962  0739  26 00       	ld	h,0x00
1963  073B  01 00 00    	ld	bc,_col
1964  073E  09          	add	hl,bc
1965  073F  4E          	ld	c, (hl)
1966  0740  06 00       	ld	b,0x00
1967  0742  ED 5B 08 00 	ld	de,(_col + 0x0008)
1968  0746  50          	ld	d,b
1969  0747  79          	ld	a, c
1970  0748  93          	sub	a, e
1971  0749  6F          	ld	l, a
1972  074A  78          	ld	a, b
1973  074B  9A          	sbc	a, d
1974  074C  67          	ld	h, a
1975  074D  CD 00 00    	call	_abs_fastcall
1976  0750  7D          	ld	a,l
1977  0751  32 00 00    	ld	(_v0),a
1978  0754  3D          	dec	a
1979  0755  20 75       	jr	NZ,l_player_collision_00120
1980  0757  2A 00 00    	ld	hl,(_i)
1981  075A  26 00       	ld	h,0x00
1982  075C  01 00 00    	ld	bc,_spr_kind
1983  075F  09          	add	hl,bc
1984  0760  7E          	ld	a,(hl)
1985  0761  FE 01       	cp	a,0x01
1986  0763  28 04       	jr	Z,l_player_collision_00101
1987  0765  D6 08       	sub	a,0x08
1988  0767  20 0F       	jr	NZ,l_player_collision_00102
1989  0769              l_player_collision_00101:
1990  0769  2A 00 00    	ld	hl,(_i)
1991  076C  26 00       	ld	h,0x00
1992  076E  01 00 00    	ld	bc,_colint
1993  0771  09          	add	hl,bc
1994  0772  7E          	ld	a,(hl)
1995  0773  32 00 00    	ld	(_v1),a
1996  0776  18 05       	jr	l_player_collision_00103
1997  0778              l_player_collision_00102:
1998  0778  21 00 00    	ld	hl,_v1
1999  077B  36 01       	ld	(hl),0x01
2000  077D              l_player_collision_00103:
2001  077D  21 08 00    	ld	hl,+(_colint + 0x0008)
2002  0780  4E          	ld	c, (hl)
2003  0781  3A 00 00    	ld	a,(_i)
2004  0784  C6 00       	add	a,+((_col) & 0xFF)
2005  0786  5F          	ld	e,a
2006  0787  3E 00       	ld	a,+((_col) / 256)
2007  0789  CE 00       	adc	a,0x00
2008  078B  57          	ld	d,a
2009  078C  79          	ld	a, c
2010  078D  B7          	or	a, a
2011  078E  20 1C       	jr	NZ,l_player_collision_00111
2012  0790  21 08 00    	ld	hl,+(_col + 0x0008)
2013  0793  46          	ld	b, (hl)
2014  0794  1A          	ld	a, (de)
2015  0795  6F          	ld	l, a
2016  0796  78          	ld	a, b
2017  0797  95          	sub	a, l
2018  0798  30 07       	jr	NC,l_player_collision_00108
2019  079A  21 00 00    	ld	hl,_v0
2020  079D  36 FF       	ld	(hl),0xff
2021  079F  18 0B       	jr	l_player_collision_00111
2022  07A1              l_player_collision_00108:
2023  07A1  3A 00 00    	ld	a,(_v1)
2024  07A4  B7          	or	a, a
2025  07A5  20 05       	jr	NZ,l_player_collision_00111
2026  07A7  21 00 00    	ld	hl,_v0
2027  07AA  36 FF       	ld	(hl),0xff
2028  07AC              l_player_collision_00111:
2029  07AC  79          	ld	a, c
2030  07AD  D6 03       	sub	a,0x03
2031  07AF  20 1B       	jr	NZ,l_player_collision_00120
2032  07B1  21 08 00    	ld	hl,+(_col + 0x0008)
2033  07B4  4E          	ld	c, (hl)
2034  07B5  1A          	ld	a, (de)
2035  07B6  91          	sub	a, c
2036  07B7  30 07       	jr	NC,l_player_collision_00115
2037  07B9  21 00 00    	ld	hl,_v0
2038  07BC  36 FF       	ld	(hl),0xff
2039  07BE  18 0C       	jr	l_player_collision_00120
2040  07C0              l_player_collision_00115:
2041  07C0  3A 00 00    	ld	a,(_v1)
2042  07C3  D6 03       	sub	a,0x03
2043  07C5  20 05       	jr	NZ,l_player_collision_00120
2044  07C7  21 00 00    	ld	hl,_v0
2045  07CA  36 FF       	ld	(hl),0xff
2046  07CC              l_player_collision_00120:
2047  07CC  3A 00 00    	ld	a,(_v0)
2048  07CF  D6 02       	sub	a,0x02
2049  07D1  D2 5D 08    	jp	NC, l_player_collision_00140
2050  07D4  2A 00 00    	ld	hl,(_i)
2051  07D7  26 00       	ld	h,0x00
2052  07D9  01 00 00    	ld	bc,_lin
2053  07DC  09          	add	hl,bc
2054  07DD  4E          	ld	c,(hl)
2055  07DE  06 00       	ld	b,0x00
2056  07E0  ED 5B 08 00 	ld	de,(_lin + 0x0008)
2057  07E4  50          	ld	d,b
2058  07E5  79          	ld	a, c
2059  07E6  93          	sub	a, e
2060  07E7  6F          	ld	l, a
2061  07E8  78          	ld	a, b
2062  07E9  9A          	sbc	a, d
2063  07EA  67          	ld	h, a
2064  07EB  CD 00 00    	call	_abs_fastcall
2065  07EE  7D          	ld	a,l
2066  07EF  32 00 00    	ld	(_v0),a
2067  07F2  2A 00 00    	ld	hl,(_i)
2068  07F5  26 00       	ld	h,0x00
2069  07F7  01 00 00    	ld	bc,_lin
2070  07FA  09          	add	hl,bc
2071  07FB  4E          	ld	c,(hl)
2072  07FC  21 08 00    	ld	hl,+(_lin + 0x0008)
2073  07FF  46          	ld	b, (hl)
2074  0800  79          	ld	a, c
2075  0801  90          	sub	a, b
2076  0802  30 13       	jr	NC,l_player_collision_00128
2077  0804  21 00 00    	ld	hl,_v0
2078  0807  7E          	ld	a, (hl)
2079  0808  D6 10       	sub	a,0x10
2080  080A  30 04       	jr	NC,l_player_collision_00122
2081  080C  36 01       	ld	(hl),0x01
2082  080E  18 18       	jr	l_player_collision_00129
2083  0810              l_player_collision_00122:
2084  0810  21 00 00    	ld	hl,_v0
2085  0813  36 00       	ld	(hl),0x00
2086  0815  18 11       	jr	l_player_collision_00129
2087  0817              l_player_collision_00128:
2088  0817  21 00 00    	ld	hl,_v0
2089  081A  7E          	ld	a, (hl)
2090  081B  D6 0E       	sub	a,0x0e
2091  081D  30 04       	jr	NC,l_player_collision_00125
2092  081F  36 01       	ld	(hl),0x01
2093  0821  18 05       	jr	l_player_collision_00129
2094  0823              l_player_collision_00125:
2095  0823  21 00 00    	ld	hl,_v0
2096  0826  36 00       	ld	(hl),0x00
2097  0828              l_player_collision_00129:
2098  0828  3A 00 00    	ld	a,(_v0)
2099  082B  B7          	or	a, a
2100  082C  28 2F       	jr	Z,l_player_collision_00140
2101  082E  2A 00 00    	ld	hl,(_i)
2102  0831  26 00       	ld	h,0x00
2103  0833  01 00 00    	ld	bc,_colint
2104  0836  09          	add	hl,bc
2105  0837  4E          	ld	c,(hl)
2106  0838  06 00       	ld	b,0x00
2107  083A  ED 5B 08 00 	ld	de,(_colint + 0x0008)
2108  083E  50          	ld	d,b
2109  083F  79          	ld	a, c
2110  0840  93          	sub	a, e
2111  0841  6F          	ld	l, a
2112  0842  78          	ld	a, b
2113  0843  9A          	sbc	a, d
2114  0844  67          	ld	h, a
2115  0845  CD 00 00    	call	_abs_fastcall
2116  0848  7D          	ld	a,l
2117  0849  32 00 00    	ld	(_v0),a
2118  084C  D6 02       	sub	a,0x02
2119  084E  30 0D       	jr	NC,l_player_collision_00140
2120  0850  21 FF FF    	ld	hl,0xffff
2121  0853  22 00 00    	ld	(_player_kill_index),hl
2122  0856  01 08 00    	ld	bc,_state+8
2123  0859  0A          	ld	a,(bc)
2124  085A  F6 20       	or	a,0x20
2125  085C  02          	ld	(bc), a
2126  085D              l_player_collision_00140:
2127  085D  21 00 00    	ld	hl,_i
2128  0860  7E          	ld	a,(hl)
2129  0861  3C          	inc	a
2130  0862  77          	ld	(hl),a
2131  0863  D6 08       	sub	a,0x08
2132  0865  DA 28 07    	jp	C, l_player_collision_00139
2133  0868  C9          	ret
2134  0869              	SECTION code_compiler
2135  0869              ;	---------------------------------
2136  0869              ; Function player_pick
2137  0869              ; ---------------------------------
2138  0869              _player_pick:
2139  0869  01 00 00    	ld	bc,_scr_map
2140  086C  2A 00 00    	ld	hl,(_index1)
2141  086F  09          	add	hl,bc
2142  0870  7E          	ld	a,(hl)
2143  0871  32 00 00    	ld	(_v0),a
2144  0874  F5          	push	af
2145  0875  33          	inc	sp
2146  0876  CD 83 0A    	call	_player_pick_deadly
2147  0879  33          	inc	sp
2148  087A  7D          	ld	a,l
2149  087B  32 00 00    	ld	(_v0),a
2150  087E  2A 00 00    	ld	hl,(_index1)
2151  0881  E5          	push	hl
2152  0882  F5          	push	af
2153  0883  33          	inc	sp
2154  0884  CD 3B 0A    	call	_player_pick_item
2155  0887  F1          	pop	af
2156  0888  33          	inc	sp
2157  0889  7D          	ld	a,l
2158  088A  32 00 00    	ld	(_v0),a
2159  088D  F5          	push	af
2160  088E  33          	inc	sp
2161  088F  CD BA 0A    	call	_player_pick_extra
2162  0892  33          	inc	sp
2163  0893  7D          	ld	a,l
2164  0894  32 00 00    	ld	(_v0),a
2165  0897  C9          	ret
2166  0898              	SECTION code_compiler
2167  0898              ;	---------------------------------
2168  0898              ; Function player_check_input
2169  0898              ; ---------------------------------
2170  0898              _player_check_input:
2171  0898  21 00 00    	ld	hl,_dirs
2172  089B  CB 56       	bit	2,(hl)
2173  089D  28 06       	jr	Z,l_player_check_input_00102
2174  089F  CB 5E       	bit	3,(hl)
2175  08A1  28 02       	jr	Z,l_player_check_input_00102
2176  08A3  36 00       	ld	(hl),0x00
2177  08A5              l_player_check_input_00102:
2178  08A5  21 00 00    	ld	hl,_dirs
2179  08A8  CB 56       	bit	2,(hl)
2180  08AA  20 08       	jr	NZ,l_player_check_input_00104
2181  08AC  CB 5E       	bit	3,(hl)
2182  08AE  20 04       	jr	NZ,l_player_check_input_00104
2183  08B0  CB 7E       	bit	7, (hl)
2184  08B2  28 04       	jr	Z,l_player_check_input_00105
2185  08B4              l_player_check_input_00104:
2186  08B4  2E 01       	ld	l,0x01
2187  08B6  18 02       	jr	l_player_check_input_00108
2188  08B8              l_player_check_input_00105:
2189  08B8  2E 00       	ld	l,0x00
2190  08BA              l_player_check_input_00108:
2191  08BA  C9          	ret
2192  08BB              	SECTION code_compiler
2193  08BB              ;	---------------------------------
2194  08BB              ; Function player_tile
2195  08BB              ; ---------------------------------
2196  08BB              _player_tile:
2197  08BB  CD 00 00    	call	___sdcc_enter_ix
2198  08BE  21 05 00    	ld	hl,0x0005
2199  08C1  39          	add	hl, sp
2200  08C2  EB          	ex	de,hl
2201  08C3  21 04 00    	ld	hl,0x0004
2202  08C6  39          	add	hl, sp
2203  08C7  D5          	push	de
2204  08C8  E5          	push	hl
2205  08C9  CD 00 00    	call	_spr_get_tile_dir
2206  08CC  F1          	pop	af
2207  08CD  F1          	pop	af
2208  08CE  7D          	ld	a,l
2209  08CF  32 08 00    	ld	((_tile + 0x0008)),a
2210  08D2  DD E1       	pop	ix
2211  08D4  C9          	ret
2212  08D5              	SECTION code_compiler
2213  08D5              ;	---------------------------------
2214  08D5              ; Function player_score_add
2215  08D5              ; ---------------------------------
2216  08D5              _player_score_add:
2217  08D5  CD 00 00    	call	___sdcc_enter_ix
2218  08D8  F5          	push	af
2219  08D9  F5          	push	af
2220  08DA  F5          	push	af
2221  08DB  F5          	push	af
2222  08DC  DD 75 F8    	ld	(ix-8),l
2223  08DF  DD 74 F9    	ld	(ix-7),h
2224  08E2  3E 00       	ld	a,0x00
2225  08E4  DD 77 FA    	ld	(ix-6),a
2226  08E7  DD 77 FB    	ld	(ix-5),a
2227  08EA  DD 77 FC    	ld	(ix-4),a
2228  08ED  DD 77 FD    	ld	(ix-3),a
2229  08F0  DD 36 FE 00 	ld	(ix-2),0x00
2230  08F4  DD 36 FF 00 	ld	(ix-1),0x00
2231  08F8  2A 00 00    	ld	hl,(_player_score)
2232  08FB  DD 5E F8    	ld	e,(ix-8)
2233  08FE  DD 56 F9    	ld	d,(ix-7)
2234  0901  19          	add	hl,de
2235  0902  22 00 00    	ld	(_player_score),hl
2236  0905  21 02 00    	ld	hl,_player_score + 2
2237  0908  7E          	ld	a, (hl)
2238  0909  DD 8E FA    	adc	a,(ix-6)
2239  090C  77          	ld	(hl), a
2240  090D  23          	inc	hl
2241  090E  7E          	ld	a, (hl)
2242  090F  DD 8E FB    	adc	a,(ix-5)
2243  0912  77          	ld	(hl), a
2244  0913  23          	inc	hl
2245  0914  7E          	ld	a, (hl)
2246  0915  DD 8E FC    	adc	a,(ix-4)
2247  0918  77          	ld	(hl), a
2248  0919  23          	inc	hl
2249  091A  7E          	ld	a, (hl)
2250  091B  DD 8E FD    	adc	a,(ix-3)
2251  091E  77          	ld	(hl), a
2252  091F  23          	inc	hl
2253  0920  7E          	ld	a, (hl)
2254  0921  DD 8E FE    	adc	a,(ix-2)
2255  0924  77          	ld	(hl), a
2256  0925  23          	inc	hl
2257  0926  7E          	ld	a, (hl)
2258  0927  DD 8E FF    	adc	a,(ix-1)
2259  092A  77          	ld	(hl), a
2260  092B  2A 00 00    	ld	hl,(_game_score_top)
2261  092E  ED 5B 00 00 	ld	de,(_player_score)
2262  0932  AF          	xor	a,a
2263  0933  ED 52       	sbc	hl,de
2264  0935  2A 02 00    	ld	hl,(_game_score_top + 2)
2265  0938  ED 5B 02 00 	ld	de,(_player_score + 2)
2266  093C  ED 52       	sbc	hl,de
2267  093E  3A 04 00    	ld	a,(_game_score_top + 4)
2268  0941  21 04 00    	ld	hl,_player_score + 4
2269  0944  9E          	sbc	a, (hl)
2270  0945  3A 05 00    	ld	a,(_game_score_top + 5)
2271  0948  21 05 00    	ld	hl,_player_score + 5
2272  094B  9E          	sbc	a, (hl)
2273  094C  3A 06 00    	ld	a,(_game_score_top + 6)
2274  094F  21 06 00    	ld	hl,_player_score + 6
2275  0952  9E          	sbc	a, (hl)
2276  0953  3A 07 00    	ld	a,(_game_score_top + 7)
2277  0956  21 07 00    	ld	hl,_player_score + 7
2278  0959  9E          	sbc	a, (hl)
2279  095A  30 24       	jr	NC,l_player_score_add_00102
2280  095C  2A 00 00    	ld	hl,(_player_score)
2281  095F  22 00 00    	ld	(_game_score_top),hl
2282  0962  2A 02 00    	ld	hl,(_player_score + 2)
2283  0965  22 02 00    	ld	(_game_score_top + 2),hl
2284  0968  3A 04 00    	ld	a,(_player_score + 4)
2285  096B  32 04 00    	ld	(_game_score_top + 4),a
2286  096E  3A 05 00    	ld	a,(_player_score + 5)
2287  0971  32 05 00    	ld	(_game_score_top + 5),a
2288  0974  3A 06 00    	ld	a,(_player_score + 6)
2289  0977  32 06 00    	ld	(_game_score_top + 6),a
2290  097A  3A 07 00    	ld	a,(_player_score + 7)
2291  097D  32 07 00    	ld	(_game_score_top + 7),a
2292  0980              l_player_score_add_00102:
2293  0980  2A 00 00    	ld	hl,(_player_next_extra)
2294  0983  ED 5B 00 00 	ld	de,(_player_score)
2295  0987  AF          	xor	a,a
2296  0988  ED 52       	sbc	hl,de
2297  098A  2A 02 00    	ld	hl,(_player_next_extra + 2)
2298  098D  ED 5B 02 00 	ld	de,(_player_score + 2)
2299  0991  ED 52       	sbc	hl,de
2300  0993  3A 04 00    	ld	a,(_player_next_extra + 4)
2301  0996  21 04 00    	ld	hl,_player_score + 4
2302  0999  9E          	sbc	a, (hl)
2303  099A  3A 05 00    	ld	a,(_player_next_extra + 5)
2304  099D  21 05 00    	ld	hl,_player_score + 5
2305  09A0  9E          	sbc	a, (hl)
2306  09A1  3A 06 00    	ld	a,(_player_next_extra + 6)
2307  09A4  21 06 00    	ld	hl,_player_score + 6
2308  09A7  9E          	sbc	a, (hl)
2309  09A8  3A 07 00    	ld	a,(_player_next_extra + 7)
2310  09AB  21 07 00    	ld	hl,_player_score + 7
2311  09AE  9E          	sbc	a, (hl)
2312  09AF  30 33       	jr	NC,l_player_score_add_00106
2313  09B1  21 00 00    	ld	hl,_player_lives
2314  09B4  7E          	ld	a, (hl)
2315  09B5  D6 FF       	sub	a,0xff
2316  09B7  30 01       	jr	NC,l_player_score_add_00104
2317  09B9  34          	inc	(hl)
2318  09BA              l_player_score_add_00104:
2319  09BA  2A 00 00    	ld	hl,(_player_next_extra)
2320  09BD  11 10 27    	ld	de,0x2710
2321  09C0  19          	add	hl,de
2322  09C1  22 00 00    	ld	(_player_next_extra),hl
2323  09C4  21 02 00    	ld	hl,_player_next_extra + 2
2324  09C7  7E          	ld	a, (hl)
2325  09C8  CE 00       	adc	a,0x00
2326  09CA  77          	ld	(hl), a
2327  09CB  23          	inc	hl
2328  09CC  7E          	ld	a, (hl)
2329  09CD  CE 00       	adc	a,0x00
2330  09CF  77          	ld	(hl), a
2331  09D0  23          	inc	hl
2332  09D1  7E          	ld	a, (hl)
2333  09D2  CE 00       	adc	a,0x00
2334  09D4  77          	ld	(hl), a
2335  09D5  23          	inc	hl
2336  09D6  7E          	ld	a, (hl)
2337  09D7  CE 00       	adc	a,0x00
2338  09D9  77          	ld	(hl), a
2339  09DA  23          	inc	hl
2340  09DB  7E          	ld	a, (hl)
2341  09DC  CE 00       	adc	a,0x00
2342  09DE  77          	ld	(hl), a
2343  09DF  23          	inc	hl
2344  09E0  7E          	ld	a, (hl)
2345  09E1  CE 00       	adc	a,0x00
2346  09E3  77          	ld	(hl), a
2347  09E4              l_player_score_add_00106:
2348  09E4  3E 40       	ld	a,0x40
2349  09E6  21 00 00    	ld	hl,_player_score
2350  09E9  BE          	cp	a, (hl)
2351  09EA  3E 42       	ld	a,0x42
2352  09EC  23          	inc	hl
2353  09ED  9E          	sbc	a, (hl)
2354  09EE  3E 0F       	ld	a,0x0f
2355  09F0  23          	inc	hl
2356  09F1  9E          	sbc	a, (hl)
2357  09F2  3E 00       	ld	a,0x00
2358  09F4  23          	inc	hl
2359  09F5  9E          	sbc	a, (hl)
2360  09F6  3E 00       	ld	a,0x00
2361  09F8  23          	inc	hl
2362  09F9  9E          	sbc	a, (hl)
2363  09FA  3E 00       	ld	a,0x00
2364  09FC  23          	inc	hl
2365  09FD  9E          	sbc	a, (hl)
2366  09FE  3E 00       	ld	a,0x00
2367  0A00  23          	inc	hl
2368  0A01  9E          	sbc	a, (hl)
2369  0A02  3E 00       	ld	a,0x00
2370  0A04  23          	inc	hl
2371  0A05  9E          	sbc	a, (hl)
2372  0A06  30 2B       	jr	NC,l_player_score_add_00108
2373  0A08  21 00 00    	ld	hl,0x0000
2374  0A0B  7D          	ld	a,l
2375  0A0C  22 00 00    	ld	(_player_score),hl
2376  0A0F  22 02 00    	ld	(_player_score + 2),hl
2377  0A12  21 04 00    	ld	hl,_player_score + 4
2378  0A15  77          	ld	(hl), a
2379  0A16  23          	inc	hl
2380  0A17  77          	ld	(hl), a
2381  0A18  23          	inc	hl
2382  0A19  77          	ld	(hl), a
2383  0A1A  23          	inc	hl
2384  0A1B  77          	ld	(hl), a
2385  0A1C  21 10 27    	ld	hl,0x2710
2386  0A1F  22 00 00    	ld	(_player_next_extra),hl
2387  0A22  AF          	xor	a,a
2388  0A23  6F          	ld	l,a
2389  0A24  67          	ld	h,a
2390  0A25  22 02 00    	ld	(_player_next_extra + 2),hl
2391  0A28  21 04 00    	ld	hl,_player_next_extra + 4
2392  0A2B  77          	ld	(hl), a
2393  0A2C  23          	inc	hl
2394  0A2D  77          	ld	(hl), a
2395  0A2E  23          	inc	hl
2396  0A2F  AF          	xor	a, a
2397  0A30  77          	ld	(hl), a
2398  0A31  23          	inc	hl
2399  0A32  77          	ld	(hl), a
2400  0A33              l_player_score_add_00108:
2401  0A33  CD 00 00    	call	_game_print_score
2402  0A36  DD F9       	ld	sp, ix
2403  0A38  DD E1       	pop	ix
2404  0A3A  C9          	ret
2405  0A3B              	SECTION code_compiler
2406  0A3B              ;	---------------------------------
2407  0A3B              ; Function player_pick_item
2408  0A3B              ; ---------------------------------
2409  0A3B              _player_pick_item:
2410  0A3B  CD 00 00    	call	___sdcc_enter_ix
2411  0A3E  DD 7E 04    	ld	a,(ix+4)
2412  0A41  D6 08       	sub	a,0x08
2413  0A43  20 38       	jr	NZ,l_player_pick_item_00104
2414  0A45  21 64 00    	ld	hl,0x0064
2415  0A48  CD D5 08    	call	_player_score_add
2416  0A4B  3E 00       	ld	a, +((_scr_map) & 0xFF)
2417  0A4D  DD 86 05    	add	a,(ix+5)
2418  0A50  4F          	ld	c, a
2419  0A51  3E 00       	ld	a, +((_scr_map) / 256)
2420  0A53  DD 8E 06    	adc	a,(ix+6)
2421  0A56  47          	ld	b, a
2422  0A57  AF          	xor	a, a
2423  0A58  02          	ld	(bc), a
2424  0A59  21 00 00    	ld	hl,_player_coins
2425  0A5C  34          	inc	(hl)
2426  0A5D  CD 00 00    	call	_audio_coin
2427  0A60  3A 00 00    	ld	a,(_obj_count)
2428  0A63  21 00 00    	ld	hl,_player_coins
2429  0A66  96          	sub	a, (hl)
2430  0A67  20 10       	jr	NZ,l_player_pick_item_00102
2431  0A69  CD 00 00    	call	_audio_door_open
2432  0A6C  3E 80       	ld	a,0x80
2433  0A6E  F5          	push	af
2434  0A6F  33          	inc	sp
2435  0A70  CD 00 00    	call	_game_flash_exit
2436  0A73  33          	inc	sp
2437  0A74  21 00 00    	ld	hl,_obj_count
2438  0A77  36 FF       	ld	(hl),0xff
2439  0A79              l_player_pick_item_00102:
2440  0A79  2E 00       	ld	l,0x00
2441  0A7B  18 03       	jr	l_player_pick_item_00105
2442  0A7D              l_player_pick_item_00104:
2443  0A7D  DD 6E 04    	ld	l,(ix+4)
2444  0A80              l_player_pick_item_00105:
2445  0A80  DD E1       	pop	ix
2446  0A82  C9          	ret
2447  0A83              	SECTION code_compiler
2448  0A83              ;	---------------------------------
2449  0A83              ; Function player_pick_deadly
2450  0A83              ; ---------------------------------
2451  0A83              _player_pick_deadly:
2452  0A83  CD 00 00    	call	___sdcc_enter_ix
2453  0A86  3E 00       	ld	a, +((_tile_class) & 0xFF)
2454  0A88  DD 86 04    	add	a,(ix+4)
2455  0A8B  4F          	ld	c, a
2456  0A8C  3E 00       	ld	a, +((_tile_class) / 256)
2457  0A8E  CE 00       	adc	a,0x00
2458  0A90  47          	ld	b, a
2459  0A91  0A          	ld	a, (bc)
2460  0A92  DD 77 04    	ld	(ix+4),a
2461  0A95  D6 05       	sub	a,0x05
2462  0A97  20 1B       	jr	NZ,l_player_pick_deadly_00102
2463  0A99  01 08 00    	ld	bc,_state+8
2464  0A9C  0A          	ld	a, (bc)
2465  0A9D  F6 20       	or	a,0x20
2466  0A9F  02          	ld	(bc), a
2467  0AA0  2A 00 00    	ld	hl,(_index1)
2468  0AA3  22 00 00    	ld	(_player_kill_index),hl
2469  0AA6  21 00 00    	ld	hl,_v0
2470  0AA9  36 00       	ld	(hl),0x00
2471  0AAB  21 00 00    	ld	hl,_v1
2472  0AAE  36 00       	ld	(hl),0x00
2473  0AB0  2E 00       	ld	l,0x00
2474  0AB2  18 03       	jr	l_player_pick_deadly_00103
2475  0AB4              l_player_pick_deadly_00102:
2476  0AB4  DD 6E 04    	ld	l,(ix+4)
2477  0AB7              l_player_pick_deadly_00103:
2478  0AB7  DD E1       	pop	ix
2479  0AB9  C9          	ret
2480  0ABA              	SECTION code_compiler
2481  0ABA              ;	---------------------------------
2482  0ABA              ; Function player_pick_extra
2483  0ABA              ; ---------------------------------
2484  0ABA              _player_pick_extra:
2485  0ABA  CD 00 00    	call	___sdcc_enter_ix
2486  0ABD  DD 7E 04    	ld	a,(ix+4)
2487  0AC0  D6 06       	sub	a,0x06
2488  0AC2  C2 C9 0B    	jp	NZ,l_player_pick_extra_00118
2489  0AC5  3A 00 00    	ld	a,(_scr_curr)
2490  0AC8  D6 27       	sub	a,0x27
2491  0ACA  20 76       	jr	NZ,l_player_pick_extra_00108
2492  0ACC  01 00 00    	ld	bc,_scr_map
2493  0ACF  2A 00 00    	ld	hl,(_index1)
2494  0AD2  09          	add	hl,bc
2495  0AD3  AF          	xor	a,a
2496  0AD4  77          	ld	(hl),a
2497  0AD5  CD 00 00    	call	_game_cell_paint_index
2498  0AD8  21 00 00    	ld	hl,_v0
2499  0ADB  36 00       	ld	(hl),0x00
2500  0ADD  21 69 01    	ld	hl,0x0169
2501  0AE0  22 00 00    	ld	(_index1),hl
2502  0AE3              l_player_pick_extra_00101:
2503  0AE3  3A 00 00    	ld	a,(_v0)
2504  0AE6  D6 0E       	sub	a,0x0e
2505  0AE8  30 20       	jr	NC,l_player_pick_extra_00103
2506  0AEA  01 00 00    	ld	bc,_scr_map
2507  0AED  2A 00 00    	ld	hl,(_index1)
2508  0AF0  09          	add	hl,bc
2509  0AF1  AF          	xor	a,a
2510  0AF2  77          	ld	(hl),a
2511  0AF3  CD 00 00    	call	_game_cell_paint_index
2512  0AF6  21 19 00    	ld	hl,0x0019
2513  0AF9  CD 00 00    	call	_z80_delay_ms_fastcall
2514  0AFC  21 00 00    	ld	hl,_index1
2515  0AFF  34          	inc	(hl)
2516  0B00  20 02       	jr	NZ,l_player_pick_extra_00161
2517  0B02  23          	inc	hl
2518  0B03  34          	inc	(hl)
2519  0B04              l_player_pick_extra_00161:
2520  0B04  21 00 00    	ld	hl,_v0
2521  0B07  34          	inc	(hl)
2522  0B08  18 D9       	jr	l_player_pick_extra_00101
2523  0B0A              l_player_pick_extra_00103:
2524  0B0A  21 01 00    	ld	hl, +(_spr_kind + 0x0001)
2525  0B0D  36 07       	ld	(hl),0x07
2526  0B0F  21 01 00    	ld	hl, +(_spr_speed + 0x0001)
2527  0B12  36 04       	ld	(hl),0x04
2528  0B14  21 00 00    	ld	hl,_v0
2529  0B17  36 00       	ld	(hl),0x00
2530  0B19  21 D9 00    	ld	hl,0x00d9
2531  0B1C  22 00 00    	ld	(_index1),hl
2532  0B1F              l_player_pick_extra_00104:
2533  0B1F  3A 00 00    	ld	a,(_v0)
2534  0B22  D6 04       	sub	a,0x04
2535  0B24  30 1C       	jr	NC,l_player_pick_extra_00108
2536  0B26  01 00 00    	ld	bc,_scr_map
2537  0B29  2A 00 00    	ld	hl,(_index1)
2538  0B2C  09          	add	hl,bc
2539  0B2D  AF          	xor	a,a
2540  0B2E  77          	ld	(hl),a
2541  0B2F  CD 00 00    	call	_game_cell_paint_index
2542  0B32  2A 00 00    	ld	hl,(_index1)
2543  0B35  11 20 00    	ld	de,0x0020
2544  0B38  19          	add	hl,de
2545  0B39  22 00 00    	ld	(_index1),hl
2546  0B3C  21 00 00    	ld	hl,_v0
2547  0B3F  34          	inc	(hl)
2548  0B40  18 DD       	jr	l_player_pick_extra_00104
2549  0B42              l_player_pick_extra_00108:
2550  0B42  3A 00 00    	ld	a,(_scr_curr)
2551  0B45  FE 07       	cp	a,0x07
2552  0B47  28 04       	jr	Z,l_player_pick_extra_00114
2553  0B49  D6 0B       	sub	a,0x0b
2554  0B4B  20 78       	jr	NZ,l_player_pick_extra_00115
2555  0B4D              l_player_pick_extra_00114:
2556  0B4D  01 00 00    	ld	bc,_scr_map
2557  0B50  2A 00 00    	ld	hl,(_index1)
2558  0B53  09          	add	hl,bc
2559  0B54  36 08       	ld	(hl),0x08
2560  0B56  CD 00 00    	call	_game_cell_paint_index
2561  0B59  21 00 00    	ld	hl,_index1
2562  0B5C  7E          	ld	a, (hl)
2563  0B5D  D6 05       	sub	a,0x05
2564  0B5F  23          	inc	hl
2565  0B60  B6          	or	a, (hl)
2566  0B61  28 0A       	jr	Z,l_player_pick_extra_00109
2567  0B63  21 00 00    	ld	hl,_index1
2568  0B66  7E          	ld	a, (hl)
2569  0B67  D6 06       	sub	a,0x06
2570  0B69  23          	inc	hl
2571  0B6A  B6          	or	a, (hl)
2572  0B6B  20 21       	jr	NZ,l_player_pick_extra_00110
2573  0B6D              l_player_pick_extra_00109:
2574  0B6D  21 71 01    	ld	hl,0x0171
2575  0B70  22 00 00    	ld	(_index1),hl
2576  0B73  21 71 01    	ld	hl, +(_scr_map + 0x0171)
2577  0B76  36 00       	ld	(hl),0x00
2578  0B78  CD 00 00    	call	_game_cell_paint_index
2579  0B7B  21 91 01    	ld	hl,0x0191
2580  0B7E  22 00 00    	ld	(_index1),hl
2581  0B81  21 91 01    	ld	hl, +(_scr_map + 0x0191)
2582  0B84  36 00       	ld	(hl),0x00
2583  0B86  CD 00 00    	call	_game_cell_paint_index
2584  0B89  21 02 00    	ld	hl, +(_value_b + 0x0002)
2585  0B8C  36 12       	ld	(hl),0x12
2586  0B8E              l_player_pick_extra_00110:
2587  0B8E  21 00 00    	ld	hl,_index1
2588  0B91  7E          	ld	a, (hl)
2589  0B92  D6 12       	sub	a,0x12
2590  0B94  23          	inc	hl
2591  0B95  B6          	or	a, (hl)
2592  0B96  20 2D       	jr	NZ,l_player_pick_extra_00115
2593  0B98  01 00 00    	ld	bc,_tile+0
2594  0B9B  0A          	ld	a, (bc)
2595  0B9C  C6 02       	add	a,0x02
2596  0B9E  02          	ld	(bc), a
2597  0B9F  21 00 00    	ld	hl,_spr_kind
2598  0BA2  36 07       	ld	(hl),0x07
2599  0BA4  21 00 00    	ld	hl,_spr_speed
2600  0BA7  36 04       	ld	(hl),0x04
2601  0BA9  21 4F 00    	ld	hl,0x004f
2602  0BAC  22 00 00    	ld	(_index1),hl
2603  0BAF  21 4F 00    	ld	hl, +(_scr_map + 0x004f)
2604  0BB2  36 00       	ld	(hl),0x00
2605  0BB4  CD 00 00    	call	_game_cell_paint_index
2606  0BB7  21 50 00    	ld	hl,0x0050
2607  0BBA  22 00 00    	ld	(_index1),hl
2608  0BBD  21 50 00    	ld	hl, +(_scr_map + 0x0050)
2609  0BC0  36 00       	ld	(hl),0x00
2610  0BC2  CD 00 00    	call	_game_cell_paint_index
2611  0BC5              l_player_pick_extra_00115:
2612  0BC5  2E 00       	ld	l,0x00
2613  0BC7  18 03       	jr	l_player_pick_extra_00119
2614  0BC9              l_player_pick_extra_00118:
2615  0BC9  DD 6E 04    	ld	l,(ix+4)
2616  0BCC              l_player_pick_extra_00119:
2617  0BCC  DD E1       	pop	ix
2618  0BCE  C9          	ret
2619  0BCF              	SECTION code_compiler
2620  0BCF              ;	---------------------------------
2621  0BCF              ; Function player_check_ceil
2622  0BCF              ; ---------------------------------
2623  0BCF              _player_check_ceil:
2624  0BCF  CD 00 00    	call	___sdcc_enter_ix
2625  0BD2  DD 66 05    	ld	h,(ix+5)
2626  0BD5  DD 6E 04    	ld	l,(ix+4)
2627  0BD8  E5          	push	hl
2628  0BD9  CD 00 00    	call	_spr_calc_index
2629  0BDC  F1          	pop	af
2630  0BDD  22 00 00    	ld	(_index1),hl
2631  0BE0  01 00 00    	ld	bc,_scr_map
2632  0BE3  09          	add	hl,bc
2633  0BE4  7E          	ld	a,(hl)
2634  0BE5  32 00 00    	ld	(_v0),a
2635  0BE8  DD 46 05    	ld	b,(ix+5)
2636  0BEB  04          	inc	b
2637  0BEC  DD 4E 04    	ld	c,(ix+4)
2638  0BEF  C5          	push	bc
2639  0BF0  CD 00 00    	call	_spr_calc_index
2640  0BF3  F1          	pop	af
2641  0BF4  22 00 00    	ld	(_index1),hl
2642  0BF7  01 00 00    	ld	bc,_scr_map
2643  0BFA  09          	add	hl,bc
2644  0BFB  7E          	ld	a,(hl)
2645  0BFC  32 00 00    	ld	(_v1),a
2646  0BFF  3E 1F       	ld	a,0x1f
2647  0C01  21 00 00    	ld	hl,_v0
2648  0C04  96          	sub	a, (hl)
2649  0C05  30 02       	jr	NC,l_player_check_ceil_00102
2650  0C07  36 00       	ld	(hl),0x00
2651  0C09              l_player_check_ceil_00102:
2652  0C09  3E 1F       	ld	a,0x1f
2653  0C0B  21 00 00    	ld	hl,_v1
2654  0C0E  96          	sub	a, (hl)
2655  0C0F  30 02       	jr	NC,l_player_check_ceil_00104
2656  0C11  36 00       	ld	(hl),0x00
2657  0C13              l_player_check_ceil_00104:
2658  0C13  01 00 00    	ld	bc,_tile_class+0
2659  0C16  79          	ld	a, c
2660  0C17  21 00 00    	ld	hl,_v0
2661  0C1A  86          	add	a, (hl)
2662  0C1B  5F          	ld	e, a
2663  0C1C  78          	ld	a, b
2664  0C1D  CE 00       	adc	a,0x00
2665  0C1F  57          	ld	d, a
2666  0C20  1A          	ld	a, (de)
2667  0C21  77          	ld	(hl), a
2668  0C22  79          	ld	a, c
2669  0C23  21 00 00    	ld	hl,_v1
2670  0C26  86          	add	a, (hl)
2671  0C27  4F          	ld	c, a
2672  0C28  78          	ld	a, b
2673  0C29  CE 00       	adc	a,0x00
2674  0C2B  47          	ld	b, a
2675  0C2C  0A          	ld	a, (bc)
2676  0C2D  77          	ld	(hl), a
2677  0C2E  3A 00 00    	ld	a,(_v0)
2678  0C31  D6 03       	sub	a,0x03
2679  0C33  28 0B       	jr	Z,l_player_check_ceil_00106
2680  0C35  3A 00 00    	ld	a,(_v1)
2681  0C38  D6 03       	sub	a,0x03
2682  0C3A  28 04       	jr	Z,l_player_check_ceil_00106
2683  0C3C  2E 01       	ld	l,0x01
2684  0C3E  18 02       	jr	l_player_check_ceil_00108
2685  0C40              l_player_check_ceil_00106:
2686  0C40  2E 00       	ld	l,0x00
2687  0C42              l_player_check_ceil_00108:
2688  0C42  DD E1       	pop	ix
2689  0C44  C9          	ret
2690  0C45              	SECTION code_compiler
2691  0C45              ;	---------------------------------
2692  0C45              ; Function player_crumble
2693  0C45              ; ---------------------------------
2694  0C45              _player_crumble:
2695  0C45  21 01 00    	ld	hl,_index1 + 1
2696  0C48  7E          	ld	a, (hl)
2697  0C49  D6 02       	sub	a,0x02
2698  0C4B  D2 D1 0C    	jp	NC, l_player_crumble_00111
2699  0C4E  3E 00       	ld	a, +((_scr_map) & 0xFF)
2700  0C50  2B          	dec	hl
2701  0C51  86          	add	a, (hl)
2702  0C52  4F          	ld	c, a
2703  0C53  3E 00       	ld	a, +((_scr_map) / 256)
2704  0C55  23          	inc	hl
2705  0C56  8E          	adc	a, (hl)
2706  0C57  47          	ld	b, a
2707  0C58  0A          	ld	a, (bc)
2708  0C59  5F          	ld	e, a
2709  0C5A  16 00       	ld	d,0x00
2710  0C5C  21 00 00    	ld	hl,_tile_class
2711  0C5F  19          	add	hl, de
2712  0C60  7E          	ld	a, (hl)
2713  0C61  32 00 00    	ld	(_v0),a
2714  0C64  D6 02       	sub	a,0x02
2715  0C66  20 63       	jr	NZ,l_player_crumble_00107
2716  0C68  7B          	ld	a, e
2717  0C69  D6 02       	sub	a,0x02
2718  0C6B  20 10       	jr	NZ,l_player_crumble_00104
2719  0C6D  CD 00 00    	call	_audio_crumble
2720  0C70  01 00 00    	ld	bc,_scr_map
2721  0C73  2A 00 00    	ld	hl,(_index1)
2722  0C76  09          	add	hl,bc
2723  0C77  3A 00 00    	ld	a,(_game_crumb_start)
2724  0C7A  77          	ld	(hl),a
2725  0C7B  18 13       	jr	l_player_crumble_00105
2726  0C7D              l_player_crumble_00104:
2727  0C7D  1C          	inc	e
2728  0C7E  7B          	ld	a, e
2729  0C7F  02          	ld	(bc), a
2730  0C80  01 00 00    	ld	bc,_scr_map
2731  0C83  2A 00 00    	ld	hl,(_index1)
2732  0C86  09          	add	hl,bc
2733  0C87  5E          	ld	e,(hl)
2734  0C88  3A 00 00    	ld	a,(_game_crumb_end)
2735  0C8B  93          	sub	a,e
2736  0C8C  30 02       	jr	NC,l_player_crumble_00105
2737  0C8E  AF          	xor	a,a
2738  0C8F  77          	ld	(hl),a
2739  0C90              l_player_crumble_00105:
2740  0C90  2A 08 00    	ld	hl,(_lin + 0x0008)
2741  0C93  26 00       	ld	h,0x00
2742  0C95  01 10 00    	ld	bc,0x0010
2743  0C98  09          	add	hl,bc
2744  0C99  06 03       	ld	b,0x03
2745  0C9B              l_player_crumble_00133:
2746  0C9B  CB 2C       	sra	h
2747  0C9D  CB 1D       	rr	l
2748  0C9F  10 FA       	djnz	l_player_crumble_00133
2749  0CA1  2C          	inc	l
2750  0CA2  7D          	ld	a, l
2751  0CA3  07          	rlca
2752  0CA4  07          	rlca
2753  0CA5  07          	rlca
2754  0CA6  E6 F8       	and	a,0xf8
2755  0CA8  32 00 00    	ld	(_s_row1),a
2756  0CAB  01 00 00    	ld	bc,_scr_map
2757  0CAE  2A 00 00    	ld	hl,(_index1)
2758  0CB1  09          	add	hl,bc
2759  0CB2  46          	ld	b, (hl)
2760  0CB3  3A 00 00    	ld	a,(_s_col1)
2761  0CB6  F5          	push	af
2762  0CB7  33          	inc	sp
2763  0CB8  3A 00 00    	ld	a,(_s_row1)
2764  0CBB  48          	ld	c,b
2765  0CBC  47          	ld	b,a
2766  0CBD  C5          	push	bc
2767  0CBE  CD 00 00    	call	_spr_draw8
2768  0CC1  F1          	pop	af
2769  0CC2  33          	inc	sp
2770  0CC3  2A 00 00    	ld	hl,(_curr_time)
2771  0CC6  22 10 00    	ld	(_last_time_b + 0x0010),hl
2772  0CC9  18 06       	jr	l_player_crumble_00111
2773  0CCB              l_player_crumble_00107:
2774  0CCB  21 00 00    	ld	hl,0x0000
2775  0CCE  22 10 00    	ld	(_last_time_b + 0x0010),hl
2776  0CD1              l_player_crumble_00111:
2777  0CD1  C9          	ret
2778  0CD2              	SECTION code_compiler
2779  0CD2              ;	---------------------------------
2780  0CD2              ; Function player_check_floor
2781  0CD2              ; ---------------------------------
2782  0CD2              _player_check_floor:
2783  0CD2  CD 00 00    	call	___sdcc_enter_ix
2784  0CD5  3A 08 00    	ld	a,(_col + 0x0008)
2785  0CD8  DD 86 04    	add	a,(ix+4)
2786  0CDB  57          	ld	d, a
2787  0CDC  3A 08 00    	ld	a,(_lin + 0x0008)
2788  0CDF  C6 10       	add	a,0x10
2789  0CE1  5F          	ld	e, a
2790  0CE2  D5          	push	de
2791  0CE3  CD 00 00    	call	_spr_calc_index
2792  0CE6  F1          	pop	af
2793  0CE7  22 00 00    	ld	(_index1),hl
2794  0CEA  21 01 00    	ld	hl,_index1 + 1
2795  0CED  7E          	ld	a, (hl)
2796  0CEE  D6 02       	sub	a,0x02
2797  0CF0  30 25       	jr	NC,l_player_check_floor_00107
2798  0CF2  3E 00       	ld	a, +((_scr_map) & 0xFF)
2799  0CF4  2B          	dec	hl
2800  0CF5  86          	add	a, (hl)
2801  0CF6  4F          	ld	c, a
2802  0CF7  3E 00       	ld	a, +((_scr_map) / 256)
2803  0CF9  23          	inc	hl
2804  0CFA  8E          	adc	a, (hl)
2805  0CFB  47          	ld	b, a
2806  0CFC  0A          	ld	a, (bc)
2807  0CFD  21 00 00    	ld	hl,_v0
2808  0D00  77          	ld	(hl), a
2809  0D01  3E 1F       	ld	a,0x1f
2810  0D03  96          	sub	a, (hl)
2811  0D04  30 02       	jr	NC,l_player_check_floor_00102
2812  0D06  36 00       	ld	(hl),0x00
2813  0D08              l_player_check_floor_00102:
2814  0D08  2A 00 00    	ld	hl,(_v0)
2815  0D0B  26 00       	ld	h,0x00
2816  0D0D  01 00 00    	ld	bc,_tile_class
2817  0D10  09          	add	hl,bc
2818  0D11  7E          	ld	a,(hl)
2819  0D12  32 00 00    	ld	(_v0),a
2820  0D15  18 15       	jr	l_player_check_floor_00108
2821  0D17              l_player_check_floor_00107:
2822  0D17  21 08 00    	ld	hl,+(_lin + 0x0008)
2823  0D1A  4E          	ld	c, (hl)
2824  0D1B  3E C8       	ld	a,0xc8
2825  0D1D  91          	sub	a, c
2826  0D1E  30 07       	jr	NC,l_player_check_floor_00104
2827  0D20  21 00 00    	ld	hl,_v0
2828  0D23  36 00       	ld	(hl),0x00
2829  0D25  18 05       	jr	l_player_check_floor_00108
2830  0D27              l_player_check_floor_00104:
2831  0D27  21 00 00    	ld	hl,_v0
2832  0D2A  36 03       	ld	(hl),0x03
2833  0D2C              l_player_check_floor_00108:
2834  0D2C  3A 00 00    	ld	a,(_v0)
2835  0D2F  B7          	or	a, a
2836  0D30  28 0B       	jr	Z,l_player_check_floor_00109
2837  0D32  D6 08       	sub	a,0x08
2838  0D34  28 07       	jr	Z,l_player_check_floor_00109
2839  0D36  3A 00 00    	ld	a,(_v0)
2840  0D39  D6 05       	sub	a,0x05
2841  0D3B  20 04       	jr	NZ,l_player_check_floor_00110
2842  0D3D              l_player_check_floor_00109:
2843  0D3D  2E 01       	ld	l,0x01
2844  0D3F  18 02       	jr	l_player_check_floor_00113
2845  0D41              l_player_check_floor_00110:
2846  0D41  2E 00       	ld	l,0x00
2847  0D43              l_player_check_floor_00113:
2848  0D43  DD E1       	pop	ix
2849  0D45  C9          	ret
2850  0D46              	SECTION code_compiler
2851  0D46              ;	---------------------------------
2852  0D46              ; Function player_get_floor
2853  0D46              ; ---------------------------------
2854  0D46              _player_get_floor:
2855  0D46  21 08 00    	ld	hl,+(_lin + 0x0008)
2856  0D49  4E          	ld	c, (hl)
2857  0D4A  59          	ld	e, c
2858  0D4B  16 00       	ld	d,0x00
2859  0D4D  21 10 00    	ld	hl,0x0010
2860  0D50  19          	add	hl, de
2861  0D51  3E 80       	ld	a,0x80
2862  0D53  BD          	cp	a, l
2863  0D54  3E 00       	ld	a,0x00
2864  0D56  9C          	sbc	a, h
2865  0D57  E2 5C 0D    	jp	PO, l_player_get_floor_00181
2866  0D5A  EE 80       	xor	a,0x80
2867  0D5C              l_player_get_floor_00181:
2868  0D5C  F2 66 0D    	jp	P, l_player_get_floor_00102
2869  0D5F  21 00 00    	ld	hl,_v0
2870  0D62  36 80       	ld	(hl),0x80
2871  0D64  18 06       	jr	l_player_get_floor_00103
2872  0D66              l_player_get_floor_00102:
2873  0D66  79          	ld	a, c
2874  0D67  C6 18       	add	a,0x18
2875  0D69  32 00 00    	ld	(_v0),a
2876  0D6C              l_player_get_floor_00103:
2877  0D6C  21 08 00    	ld	hl,+(_col + 0x0008)
2878  0D6F  46          	ld	b, (hl)
2879  0D70  3A 00 00    	ld	a,(_v0)
2880  0D73  4F          	ld	c,a
2881  0D74  C5          	push	bc
2882  0D75  CD 00 00    	call	_spr_calc_index
2883  0D78  F1          	pop	af
2884  0D79  22 00 00    	ld	(_index1),hl
2885  0D7C  21 00 00    	ld	hl,_i
2886  0D7F  36 00       	ld	(hl),0x00
2887  0D81  01 00 00    	ld	bc,_tile_class+0
2888  0D84              l_player_get_floor_00112:
2889  0D84  3A 00 00    	ld	a,(_i)
2890  0D87  D6 10       	sub	a,0x10
2891  0D89  D2 3A 0E    	jp	NC, l_player_get_floor_00114
2892  0D8C  11 00 00    	ld	de,_scr_map
2893  0D8F  2A 00 00    	ld	hl,(_index1)
2894  0D92  19          	add	hl,de
2895  0D93  7E          	ld	a,(hl)
2896  0D94  32 00 00    	ld	(_v0),a
2897  0D97  ED 5B 00 00 	ld	de,(_index1)
2898  0D9B  13          	inc	de
2899  0D9C  21 00 00    	ld	hl,_scr_map
2900  0D9F  19          	add	hl, de
2901  0DA0  7E          	ld	a, (hl)
2902  0DA1  32 00 00    	ld	(_v1),a
2903  0DA4  3E 1F       	ld	a,0x1f
2904  0DA6  21 00 00    	ld	hl,_v0
2905  0DA9  96          	sub	a, (hl)
2906  0DAA  30 02       	jr	NC,l_player_get_floor_00105
2907  0DAC  36 00       	ld	(hl),0x00
2908  0DAE              l_player_get_floor_00105:
2909  0DAE  3E 1F       	ld	a,0x1f
2910  0DB0  21 00 00    	ld	hl,_v1
2911  0DB3  96          	sub	a, (hl)
2912  0DB4  30 02       	jr	NC,l_player_get_floor_00107
2913  0DB6  36 00       	ld	(hl),0x00
2914  0DB8              l_player_get_floor_00107:
2915  0DB8  79          	ld	a, c
2916  0DB9  21 00 00    	ld	hl,_v0
2917  0DBC  86          	add	a, (hl)
2918  0DBD  5F          	ld	e, a
2919  0DBE  78          	ld	a, b
2920  0DBF  CE 00       	adc	a,0x00
2921  0DC1  57          	ld	d, a
2922  0DC2  1A          	ld	a, (de)
2923  0DC3  77          	ld	(hl), a
2924  0DC4  79          	ld	a, c
2925  0DC5  21 00 00    	ld	hl,_v1
2926  0DC8  86          	add	a, (hl)
2927  0DC9  5F          	ld	e, a
2928  0DCA  78          	ld	a, b
2929  0DCB  CE 00       	adc	a,0x00
2930  0DCD  57          	ld	d, a
2931  0DCE  1A          	ld	a, (de)
2932  0DCF  77          	ld	(hl), a
2933  0DD0  3A 00 00    	ld	a,(_v0)
2934  0DD3  B7          	or	a, a
2935  0DD4  28 0F       	jr	Z,l_player_get_floor_00118
2936  0DD6  D6 08       	sub	a,0x08
2937  0DD8  28 0B       	jr	Z,l_player_get_floor_00118
2938  0DDA  3A 00 00    	ld	a,(_v0)
2939  0DDD  D6 05       	sub	a,0x05
2940  0DDF  28 04       	jr	Z,l_player_get_floor_00118
2941  0DE1  1E 00       	ld	e,0x00
2942  0DE3  18 02       	jr	l_player_get_floor_00119
2943  0DE5              l_player_get_floor_00118:
2944  0DE5  1E 01       	ld	e,0x01
2945  0DE7              l_player_get_floor_00119:
2946  0DE7  21 00 00    	ld	hl,_v0
2947  0DEA  73          	ld	(hl), e
2948  0DEB  3A 00 00    	ld	a,(_v1)
2949  0DEE  B7          	or	a, a
2950  0DEF  28 0F       	jr	Z,l_player_get_floor_00124
2951  0DF1  D6 08       	sub	a,0x08
2952  0DF3  28 0B       	jr	Z,l_player_get_floor_00124
2953  0DF5  3A 00 00    	ld	a,(_v1)
2954  0DF8  D6 05       	sub	a,0x05
2955  0DFA  28 04       	jr	Z,l_player_get_floor_00124
2956  0DFC  1E 00       	ld	e,0x00
2957  0DFE  18 02       	jr	l_player_get_floor_00125
2958  0E00              l_player_get_floor_00124:
2959  0E00  1E 01       	ld	e,0x01
2960  0E02              l_player_get_floor_00125:
2961  0E02  21 00 00    	ld	hl,_v1
2962  0E05  73          	ld	(hl), e
2963  0E06  3A 00 00    	ld	a,(_v0)
2964  0E09  B7          	or	a, a
2965  0E0A  28 17       	jr	Z,l_player_get_floor_00109
2966  0E0C  3A 00 00    	ld	a,(_v1)
2967  0E0F  B7          	or	a, a
2968  0E10  28 11       	jr	Z,l_player_get_floor_00109
2969  0E12  2A 00 00    	ld	hl,(_index1)
2970  0E15  11 20 00    	ld	de,0x0020
2971  0E18  19          	add	hl,de
2972  0E19  22 00 00    	ld	(_index1),hl
2973  0E1C  21 00 00    	ld	hl,_i
2974  0E1F  34          	inc	(hl)
2975  0E20  C3 84 0D    	jp	l_player_get_floor_00112
2976  0E23              l_player_get_floor_00109:
2977  0E23  2A 00 00    	ld	hl,(_index1)
2978  0E26  4D          	ld	c,l
2979  0E27  5C          	ld	e,h
2980  0E28  06 05       	ld	b,0x05
2981  0E2A  79          	ld	a,c
2982  0E2B              l_player_get_floor_00186:
2983  0E2B  CB 3B       	srl	e
2984  0E2D  1F          	rra
2985  0E2E  10 FB       	djnz	l_player_get_floor_00186
2986  0E30  07          	rlca
2987  0E31  07          	rlca
2988  0E32  07          	rlca
2989  0E33  E6 F8       	and	a,0xf8
2990  0E35  C6 F0       	add	a,0xf0
2991  0E37  6F          	ld	l, a
2992  0E38  18 02       	jr	l_player_get_floor_00115
2993  0E3A              l_player_get_floor_00114:
2994  0E3A  2E 70       	ld	l,0x70
2995  0E3C              l_player_get_floor_00115:
2996  0E3C  C9          	ret
2997  0E3D              	SECTION code_compiler
2998  0E3D              ;	---------------------------------
2999  0E3D              ; Function player_lost_life
3000  0E3D              ; ---------------------------------
3001  0E3D              _player_lost_life:
3002  0E3D  CD 00 00    	call	___sdcc_enter_ix
3003  0E40  F5          	push	af
3004  0E41  CD 00 00    	call	_ay_reset
3005  0E44  CD 00 00    	call	_audio_dead
3006  0E47  DD 77 FF    	ld	(ix-1),a
3007  0E4A              l_player_lost_life_00104:
3008  0E4A  DD 7E FF    	ld	a,(ix-1)
3009  0E4D  D6 20       	sub	a,0x20
3010  0E4F  30 6F       	jr	NC,l_player_lost_life_00106
3011  0E51  21 00 00    	ld	hl,_player_kill_index
3012  0E54  7E          	ld	a, (hl)
3013  0E55  3C          	inc	a
3014  0E56  20 05       	jr	NZ,l_player_lost_life_00135
3015  0E58  23          	inc	hl
3016  0E59  7E          	ld	a, (hl)
3017  0E5A  3C          	inc	a
3018  0E5B  28 35       	jr	Z,l_player_lost_life_00102
3019  0E5D              l_player_lost_life_00135:
3020  0E5D  2A 00 00    	ld	hl,(_player_kill_index)
3021  0E60  22 00 00    	ld	(_index1),hl
3022  0E63  21 08 00    	ld	hl,+(_col + 0x0008)
3023  0E66  56          	ld	d, (hl)
3024  0E67  3A 08 00    	ld	a,(_lin + 0x0008)
3025  0E6A  C6 10       	add	a,0x10
3026  0E6C  47          	ld	b, a
3027  0E6D  21 08 00    	ld	hl,+(_tile + 0x0008)
3028  0E70  4E          	ld	c, (hl)
3029  0E71  21 08 00    	ld	hl,+(_colint + 0x0008)
3030  0E74  5E          	ld	e, (hl)
3031  0E75  79          	ld	a, c
3032  0E76  83          	add	a, e
3033  0E77  58          	ld	e,b
3034  0E78  D5          	push	de
3035  0E79  57          	ld	d,a
3036  0E7A  1E 05       	ld	e,0x05
3037  0E7C  D5          	push	de
3038  0E7D  CD 00 00    	call	_NIRVANAP_spriteT_callee
3039  0E80  76          	halt
3040  0E81  21 00 00    	ld	hl,0x0000
3041  0E84  E5          	push	hl
3042  0E85  2E 05       	ld	l,0x05
3043  0E87  E5          	push	hl
3044  0E88  CD 00 00    	call	_NIRVANAP_spriteT_callee
3045  0E8B  76          	halt
3046  0E8C  CD 00 00    	call	_game_cell_paint_index
3047  0E8F  76          	halt
3048  0E90  18 29       	jr	l_player_lost_life_00103
3049  0E92              l_player_lost_life_00102:
3050  0E92  21 08 00    	ld	hl,+(_col + 0x0008)
3051  0E95  46          	ld	b, (hl)
3052  0E96  3A 08 00    	ld	a,(_lin + 0x0008)
3053  0E99  C6 10       	add	a,0x10
3054  0E9B  57          	ld	d, a
3055  0E9C  21 08 00    	ld	hl,+(_tile + 0x0008)
3056  0E9F  4E          	ld	c, (hl)
3057  0EA0  21 08 00    	ld	hl,+(_colint + 0x0008)
3058  0EA3  5E          	ld	e, (hl)
3059  0EA4  79          	ld	a, c
3060  0EA5  83          	add	a, e
3061  0EA6  4A          	ld	c, d
3062  0EA7  C5          	push	bc
3063  0EA8  57          	ld	d,a
3064  0EA9  1E 05       	ld	e,0x05
3065  0EAB  D5          	push	de
3066  0EAC  CD 00 00    	call	_NIRVANAP_spriteT_callee
3067  0EAF  76          	halt
3068  0EB0  21 00 00    	ld	hl,0x0000
3069  0EB3  E5          	push	hl
3070  0EB4  2E 05       	ld	l,0x05
3071  0EB6  E5          	push	hl
3072  0EB7  CD 00 00    	call	_NIRVANAP_spriteT_callee
3073  0EBA  76          	halt
3074  0EBB              l_player_lost_life_00103:
3075  0EBB  DD 34 FF    	inc	(ix-1)
3076  0EBE  18 8A       	jr	l_player_lost_life_00104
3077  0EC0              l_player_lost_life_00106:
3078  0EC0  3A 08 00    	ld	a,(_lin + 0x0008)
3079  0EC3  32 00 00    	ld	(_s_lin0),a
3080  0EC6  3A 08 00    	ld	a,(_col + 0x0008)
3081  0EC9  32 00 00    	ld	(_s_col0),a
3082  0ECC  3A 00 00    	ld	a,(_game_inf_lives)
3083  0ECF  B7          	or	a, a
3084  0ED0  20 04       	jr	NZ,l_player_lost_life_00108
3085  0ED2  21 00 00    	ld	hl,_player_lives
3086  0ED5  35          	dec	(hl)
3087  0ED6              l_player_lost_life_00108:
3088  0ED6  3A 00 00    	ld	a,(_player_lives)
3089  0ED9  B7          	or	a, a
3090  0EDA  28 05       	jr	Z,l_player_lost_life_00110
3091  0EDC  CD 00 00    	call	_game_round_init
3092  0EDF  18 0A       	jr	l_player_lost_life_00112
3093  0EE1              l_player_lost_life_00110:
3094  0EE1  21 00 00    	ld	hl,_player_lives
3095  0EE4  36 00       	ld	(hl),0x00
3096  0EE6  21 00 00    	ld	hl,_game_over
3097  0EE9  36 01       	ld	(hl),0x01
3098  0EEB              l_player_lost_life_00112:
3099  0EEB  F1          	pop	af
3100  0EEC  DD E1       	pop	ix
3101  0EEE  C9          	ret
3102  0EEF              	SECTION IGNORE
3103  0000              
