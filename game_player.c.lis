1     0000              MODULE game_player_c
2     0000              LINE 0, "game_player.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _player_1up
204   0000              	GLOBAL _player_get_floor
205   0000              	GLOBAL _player_collision
206   0000              	GLOBAL _player_init
207   0000              	GLOBAL _player_turn
208   0000              	GLOBAL _player_move
209   0000              	GLOBAL _player_move_jump
210   0000              	GLOBAL _player_move_walk
211   0000              	GLOBAL _player_check_input
212   0000              	GLOBAL _player_tile
213   0000              	GLOBAL _player_score_add
214   0000              	GLOBAL _player_pick_item
215   0000              	GLOBAL _player_pick_deadly
216   0000              	GLOBAL _player_pick_exit
217   0000              	GLOBAL _player_check_ceil
218   0000              	GLOBAL _player_check_floor
219   0000              	GLOBAL _player_lost_life
220   0000              ;--------------------------------------------------------
221   0000              ; Externals used
222   0000              ;--------------------------------------------------------
223   0000              	GLOBAL _ulltoa_callee
224   0000              	GLOBAL _ulltoa
225   0000              	GLOBAL _strtoull_callee
226   0000              	GLOBAL _strtoull
227   0000              	GLOBAL _strtoll_callee
228   0000              	GLOBAL _strtoll
229   0000              	GLOBAL _lltoa_callee
230   0000              	GLOBAL _lltoa
231   0000              	GLOBAL _llabs_callee
232   0000              	GLOBAL _llabs
233   0000              	GLOBAL __lldivu__callee
234   0000              	GLOBAL __lldivu_
235   0000              	GLOBAL __lldiv__callee
236   0000              	GLOBAL __lldiv_
237   0000              	GLOBAL _atoll_callee
238   0000              	GLOBAL _atoll
239   0000              	GLOBAL _realloc_unlocked_callee
240   0000              	GLOBAL _realloc_unlocked
241   0000              	GLOBAL _malloc_unlocked_fastcall
242   0000              	GLOBAL _malloc_unlocked
243   0000              	GLOBAL _free_unlocked_fastcall
244   0000              	GLOBAL _free_unlocked
245   0000              	GLOBAL _calloc_unlocked_callee
246   0000              	GLOBAL _calloc_unlocked
247   0000              	GLOBAL _aligned_alloc_unlocked_callee
248   0000              	GLOBAL _aligned_alloc_unlocked
249   0000              	GLOBAL _realloc_callee
250   0000              	GLOBAL _realloc
251   0000              	GLOBAL _malloc_fastcall
252   0000              	GLOBAL _malloc
253   0000              	GLOBAL _free_fastcall
254   0000              	GLOBAL _free
255   0000              	GLOBAL _calloc_callee
256   0000              	GLOBAL _calloc
257   0000              	GLOBAL _aligned_alloc_callee
258   0000              	GLOBAL _aligned_alloc
259   0000              	GLOBAL _utoa_callee
260   0000              	GLOBAL _utoa
261   0000              	GLOBAL _ultoa_callee
262   0000              	GLOBAL _ultoa
263   0000              	GLOBAL _system_fastcall
264   0000              	GLOBAL _system
265   0000              	GLOBAL _strtoul_callee
266   0000              	GLOBAL _strtoul
267   0000              	GLOBAL _strtol_callee
268   0000              	GLOBAL _strtol
269   0000              	GLOBAL _strtof_callee
270   0000              	GLOBAL _strtof
271   0000              	GLOBAL _strtod_callee
272   0000              	GLOBAL _strtod
273   0000              	GLOBAL _srand_fastcall
274   0000              	GLOBAL _srand
275   0000              	GLOBAL _rand
276   0000              	GLOBAL _quick_exit_fastcall
277   0000              	GLOBAL _quick_exit
278   0000              	GLOBAL _qsort_callee
279   0000              	GLOBAL _qsort
280   0000              	GLOBAL _ltoa_callee
281   0000              	GLOBAL _ltoa
282   0000              	GLOBAL _labs_fastcall
283   0000              	GLOBAL _labs
284   0000              	GLOBAL _itoa_callee
285   0000              	GLOBAL _itoa
286   0000              	GLOBAL _ftoh_callee
287   0000              	GLOBAL _ftoh
288   0000              	GLOBAL _ftog_callee
289   0000              	GLOBAL _ftog
290   0000              	GLOBAL _ftoe_callee
291   0000              	GLOBAL _ftoe
292   0000              	GLOBAL _ftoa_callee
293   0000              	GLOBAL _ftoa
294   0000              	GLOBAL _exit_fastcall
295   0000              	GLOBAL _exit
296   0000              	GLOBAL _dtoh_callee
297   0000              	GLOBAL _dtoh
298   0000              	GLOBAL _dtog_callee
299   0000              	GLOBAL _dtog
300   0000              	GLOBAL _dtoe_callee
301   0000              	GLOBAL _dtoe
302   0000              	GLOBAL _dtoa_callee
303   0000              	GLOBAL _dtoa
304   0000              	GLOBAL _bsearch_callee
305   0000              	GLOBAL _bsearch
306   0000              	GLOBAL _atol_fastcall
307   0000              	GLOBAL _atol
308   0000              	GLOBAL _atoi_fastcall
309   0000              	GLOBAL _atoi
310   0000              	GLOBAL _atof_fastcall
311   0000              	GLOBAL _atof
312   0000              	GLOBAL _atexit_fastcall
313   0000              	GLOBAL _atexit
314   0000              	GLOBAL _at_quick_exit_fastcall
315   0000              	GLOBAL _at_quick_exit
316   0000              	GLOBAL _abs_fastcall
317   0000              	GLOBAL _abs
318   0000              	GLOBAL _abort
319   0000              	GLOBAL __strtou__callee
320   0000              	GLOBAL __strtou_
321   0000              	GLOBAL __strtoi__callee
322   0000              	GLOBAL __strtoi_
323   0000              	GLOBAL __random_uniform_xor_8__fastcall
324   0000              	GLOBAL __random_uniform_xor_8_
325   0000              	GLOBAL __random_uniform_xor_32__fastcall
326   0000              	GLOBAL __random_uniform_xor_32_
327   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
328   0000              	GLOBAL __random_uniform_cmwc_8_
329   0000              	GLOBAL __shellsort__callee
330   0000              	GLOBAL __shellsort_
331   0000              	GLOBAL __quicksort__callee
332   0000              	GLOBAL __quicksort_
333   0000              	GLOBAL __insertion_sort__callee
334   0000              	GLOBAL __insertion_sort_
335   0000              	GLOBAL __ldivu__callee
336   0000              	GLOBAL __ldivu_
337   0000              	GLOBAL __ldiv__callee
338   0000              	GLOBAL __ldiv_
339   0000              	GLOBAL __divu__callee
340   0000              	GLOBAL __divu_
341   0000              	GLOBAL __div__callee
342   0000              	GLOBAL __div_
343   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
344   0000              	GLOBAL _NIRVANAP_drawTW_raw
345   0000              	GLOBAL _NIRVANAP_drawTW_callee
346   0000              	GLOBAL _NIRVANAP_drawTW
347   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
348   0000              	GLOBAL _NIRVANAP_drawW_raw
349   0000              	GLOBAL _NIRVANAP_drawW_callee
350   0000              	GLOBAL _NIRVANAP_drawW
351   0000              	GLOBAL _NIRVANAP_spriteT_callee
352   0000              	GLOBAL _NIRVANAP_spriteT
353   0000              	GLOBAL _NIRVANAP_fillC_callee
354   0000              	GLOBAL _NIRVANAP_fillC
355   0000              	GLOBAL _NIRVANAP_readC_callee
356   0000              	GLOBAL _NIRVANAP_readC
357   0000              	GLOBAL _NIRVANAP_paintC_callee
358   0000              	GLOBAL _NIRVANAP_paintC
359   0000              	GLOBAL _NIRVANAP_printC_callee
360   0000              	GLOBAL _NIRVANAP_printC
361   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
362   0000              	GLOBAL _NIRVANAP_fillT_raw
363   0000              	GLOBAL _NIRVANAP_fillT_callee
364   0000              	GLOBAL _NIRVANAP_fillT
365   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
366   0000              	GLOBAL _NIRVANAP_drawT_raw
367   0000              	GLOBAL _NIRVANAP_drawT_callee
368   0000              	GLOBAL _NIRVANAP_drawT
369   0000              	GLOBAL _NIRVANAP_stop
370   0000              	GLOBAL _NIRVANAP_start
371   0000              	GLOBAL _zx_print_str
372   0000              	GLOBAL _zx_print_int
373   0000              	GLOBAL _zx_print_chr
374   0000              	GLOBAL _zx_isr
375   0000              	GLOBAL _z80_otdr_callee
376   0000              	GLOBAL _z80_otdr
377   0000              	GLOBAL _z80_otir_callee
378   0000              	GLOBAL _z80_otir
379   0000              	GLOBAL _z80_outp_callee
380   0000              	GLOBAL _z80_outp
381   0000              	GLOBAL _z80_indr_callee
382   0000              	GLOBAL _z80_indr
383   0000              	GLOBAL _z80_inir_callee
384   0000              	GLOBAL _z80_inir
385   0000              	GLOBAL _z80_inp_fastcall
386   0000              	GLOBAL _z80_inp
387   0000              	GLOBAL _z80_set_int_state_fastcall
388   0000              	GLOBAL _z80_set_int_state
389   0000              	GLOBAL _z80_get_int_state
390   0000              	GLOBAL _z80_delay_tstate_fastcall
391   0000              	GLOBAL _z80_delay_tstate
392   0000              	GLOBAL _z80_delay_ms_fastcall
393   0000              	GLOBAL _z80_delay_ms
394   0000              	GLOBAL _im2_remove_generic_callback_callee
395   0000              	GLOBAL _im2_remove_generic_callback
396   0000              	GLOBAL _im2_prepend_generic_callback_callee
397   0000              	GLOBAL _im2_prepend_generic_callback
398   0000              	GLOBAL _im2_append_generic_callback_callee
399   0000              	GLOBAL _im2_append_generic_callback
400   0000              	GLOBAL _im2_create_generic_isr_8080_callee
401   0000              	GLOBAL _im2_create_generic_isr_8080
402   0000              	GLOBAL _im2_create_generic_isr_callee
403   0000              	GLOBAL _im2_create_generic_isr
404   0000              	GLOBAL _im2_install_isr_callee
405   0000              	GLOBAL _im2_install_isr
406   0000              	GLOBAL _im2_init_fastcall
407   0000              	GLOBAL _im2_init
408   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
409   0000              	GLOBAL _intrinsic_swap_word_32
410   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
411   0000              	GLOBAL _intrinsic_swap_endian_32
412   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
413   0000              	GLOBAL _intrinsic_swap_endian_16
414   0000              	GLOBAL _intrinsic_return_de
415   0000              	GLOBAL _intrinsic_return_bc
416   0000              	GLOBAL _intrinsic_exx
417   0000              	GLOBAL _intrinsic_ex_de_hl
418   0000              	GLOBAL _intrinsic_nop
419   0000              	GLOBAL _intrinsic_im_2
420   0000              	GLOBAL _intrinsic_im_1
421   0000              	GLOBAL _intrinsic_im_0
422   0000              	GLOBAL _intrinsic_retn
423   0000              	GLOBAL _intrinsic_reti
424   0000              	GLOBAL _intrinsic_halt
425   0000              	GLOBAL _intrinsic_ei
426   0000              	GLOBAL _intrinsic_di
427   0000              	GLOBAL _intrinsic_stub
428   0000              	GLOBAL _intrinsic_ini
429   0000              	GLOBAL _intrinsic_outi
430   0000              	GLOBAL _intrinsic_ldi
431   0000              	GLOBAL _zx_pattern_fill_callee
432   0000              	GLOBAL _zx_pattern_fill
433   0000              	GLOBAL _zx_saddrpup_fastcall
434   0000              	GLOBAL _zx_saddrpup
435   0000              	GLOBAL _zx_saddrpright_callee
436   0000              	GLOBAL _zx_saddrpright
437   0000              	GLOBAL _zx_saddrpleft_callee
438   0000              	GLOBAL _zx_saddrpleft
439   0000              	GLOBAL _zx_saddrpdown_fastcall
440   0000              	GLOBAL _zx_saddrpdown
441   0000              	GLOBAL _zx_saddrcup_fastcall
442   0000              	GLOBAL _zx_saddrcup
443   0000              	GLOBAL _zx_saddrcright_fastcall
444   0000              	GLOBAL _zx_saddrcright
445   0000              	GLOBAL _zx_saddrcleft_fastcall
446   0000              	GLOBAL _zx_saddrcleft
447   0000              	GLOBAL _zx_saddrcdown_fastcall
448   0000              	GLOBAL _zx_saddrcdown
449   0000              	GLOBAL _zx_saddr2py_fastcall
450   0000              	GLOBAL _zx_saddr2py
451   0000              	GLOBAL _zx_saddr2px_fastcall
452   0000              	GLOBAL _zx_saddr2px
453   0000              	GLOBAL _zx_saddr2cy_fastcall
454   0000              	GLOBAL _zx_saddr2cy
455   0000              	GLOBAL _zx_saddr2cx_fastcall
456   0000              	GLOBAL _zx_saddr2cx
457   0000              	GLOBAL _zx_saddr2aaddr_fastcall
458   0000              	GLOBAL _zx_saddr2aaddr
459   0000              	GLOBAL _zx_py2saddr_fastcall
460   0000              	GLOBAL _zx_py2saddr
461   0000              	GLOBAL _zx_py2aaddr_fastcall
462   0000              	GLOBAL _zx_py2aaddr
463   0000              	GLOBAL _zx_pxy2saddr_callee
464   0000              	GLOBAL _zx_pxy2saddr
465   0000              	GLOBAL _zx_pxy2aaddr_callee
466   0000              	GLOBAL _zx_pxy2aaddr
467   0000              	GLOBAL _zx_px2bitmask_fastcall
468   0000              	GLOBAL _zx_px2bitmask
469   0000              	GLOBAL _zx_cy2saddr_fastcall
470   0000              	GLOBAL _zx_cy2saddr
471   0000              	GLOBAL _zx_cy2aaddr_fastcall
472   0000              	GLOBAL _zx_cy2aaddr
473   0000              	GLOBAL _zx_cxy2saddr_callee
474   0000              	GLOBAL _zx_cxy2saddr
475   0000              	GLOBAL _zx_cxy2aaddr_callee
476   0000              	GLOBAL _zx_cxy2aaddr
477   0000              	GLOBAL _zx_bitmask2px_fastcall
478   0000              	GLOBAL _zx_bitmask2px
479   0000              	GLOBAL _zx_aaddrcup_fastcall
480   0000              	GLOBAL _zx_aaddrcup
481   0000              	GLOBAL _zx_aaddrcright_fastcall
482   0000              	GLOBAL _zx_aaddrcright
483   0000              	GLOBAL _zx_aaddrcleft_fastcall
484   0000              	GLOBAL _zx_aaddrcleft
485   0000              	GLOBAL _zx_aaddrcdown_fastcall
486   0000              	GLOBAL _zx_aaddrcdown
487   0000              	GLOBAL _zx_aaddr2saddr_fastcall
488   0000              	GLOBAL _zx_aaddr2saddr
489   0000              	GLOBAL _zx_aaddr2py_fastcall
490   0000              	GLOBAL _zx_aaddr2py
491   0000              	GLOBAL _zx_aaddr2px_fastcall
492   0000              	GLOBAL _zx_aaddr2px
493   0000              	GLOBAL _zx_aaddr2cy_fastcall
494   0000              	GLOBAL _zx_aaddr2cy
495   0000              	GLOBAL _zx_aaddr2cx_fastcall
496   0000              	GLOBAL _zx_aaddr2cx
497   0000              	GLOBAL _zx_visit_wc_pix_callee
498   0000              	GLOBAL _zx_visit_wc_pix
499   0000              	GLOBAL _zx_visit_wc_attr_callee
500   0000              	GLOBAL _zx_visit_wc_attr
501   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
502   0000              	GLOBAL _zx_scroll_wc_up_pix
503   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
504   0000              	GLOBAL _zx_scroll_wc_up_attr
505   0000              	GLOBAL _zx_scroll_wc_up_callee
506   0000              	GLOBAL _zx_scroll_wc_up
507   0000              	GLOBAL _zx_scroll_up_pix_callee
508   0000              	GLOBAL _zx_scroll_up_pix
509   0000              	GLOBAL _zx_scroll_up_attr_callee
510   0000              	GLOBAL _zx_scroll_up_attr
511   0000              	GLOBAL _zx_scroll_up_callee
512   0000              	GLOBAL _zx_scroll_up
513   0000              	GLOBAL _zx_cls_wc_pix_callee
514   0000              	GLOBAL _zx_cls_wc_pix
515   0000              	GLOBAL _zx_cls_wc_attr_callee
516   0000              	GLOBAL _zx_cls_wc_attr
517   0000              	GLOBAL _zx_cls_wc_callee
518   0000              	GLOBAL _zx_cls_wc
519   0000              	GLOBAL _zx_cls_pix_fastcall
520   0000              	GLOBAL _zx_cls_pix
521   0000              	GLOBAL _zx_cls_attr_fastcall
522   0000              	GLOBAL _zx_cls_attr
523   0000              	GLOBAL _zx_cls_fastcall
524   0000              	GLOBAL _zx_cls
525   0000              	GLOBAL _zx_border_fastcall
526   0000              	GLOBAL _zx_border
527   0000              	GLOBAL _zx_tape_verify_block_callee
528   0000              	GLOBAL _zx_tape_verify_block
529   0000              	GLOBAL _zx_tape_save_block_callee
530   0000              	GLOBAL _zx_tape_save_block
531   0000              	GLOBAL _zx_tape_load_block_callee
532   0000              	GLOBAL _zx_tape_load_block
533   0000              	GLOBAL _spr_draw8
534   0000              	GLOBAL _spr_destroy
535   0000              	GLOBAL _spr_unflattenP1
536   0000              	GLOBAL _spr_flatten
537   0000              	GLOBAL _spr_btile_paint_back
538   0000              	GLOBAL _spr_turn_horizontal
539   0000              	GLOBAL _spr_play_anim
540   0000              	GLOBAL _spr_add_anim
541   0000              	GLOBAL _spr_clear_scr
542   0000              	GLOBAL _spr_back_repaint
543   0000              	GLOBAL _spr_get_tile_dir
544   0000              	GLOBAL _spr_get_tile
545   0000              	GLOBAL _spr_paint_player
546   0000              	GLOBAL _spr_paint
547   0000              	GLOBAL _spr_move_left
548   0000              	GLOBAL _spr_move_right
549   0000              	GLOBAL _spr_move_left_f
550   0000              	GLOBAL _spr_move_right_f
551   0000              	GLOBAL _spr_move_horizontal
552   0000              	GLOBAL _spr_move_down_f
553   0000              	GLOBAL _spr_move_up_f
554   0000              	GLOBAL _spr_move_down
555   0000              	GLOBAL _spr_move_up
556   0000              	GLOBAL _spr_set_right
557   0000              	GLOBAL _spr_set_left
558   0000              	GLOBAL _spr_set_down
559   0000              	GLOBAL _spr_set_up
560   0000              	GLOBAL _spr_calc_index
561   0000              	GLOBAL _spr_chktime
562   0000              	GLOBAL _player_use_floor
563   0000              	GLOBAL _reverse
564   0000              	GLOBAL _game_copy_tile
565   0000              	GLOBAL _game_copy_tile_std
566   0000              	GLOBAL _game_flash_exit
567   0000              	GLOBAL _game_page_map
568   0000              	GLOBAL _game_attribs
569   0000              	GLOBAL _game_print_header
570   0000              	GLOBAL _game_check_time
571   0000              	GLOBAL _game_rotate_attrib_osd
572   0000              	GLOBAL _game_key_paint
573   0000              	GLOBAL _game_colour_message
574   0000              	GLOBAL _game_paint_attrib
575   0000              	GLOBAL _game_print_score
576   0000              	GLOBAL _game_cell_paint_index
577   0000              	GLOBAL _game_cell_paint
578   0000              	GLOBAL _game_check_cell
579   0000              	GLOBAL _game_check_map
580   0000              	GLOBAL _game_loop
581   0000              	GLOBAL _game_round_init
582   0000              	GLOBAL _game_start_timer
583   0000              	GLOBAL _game_update_stats
584   0000              	GLOBAL _game_print_footer
585   0000              	GLOBAL _game_fill_row
586   0000              	GLOBAL _game_cls
587   0000              	GLOBAL _game_fps
588   0000              	GLOBAL _game_draw_map
589   0000              	GLOBAL _enemy_kill
590   0000              	GLOBAL _enemy_init
591   0000              	GLOBAL _enemy_move
592   0000              	GLOBAL _enemy_turn
593   0000              	GLOBAL _enemy_static
594   0000              	GLOBAL _enemy_walk
595   0000              	GLOBAL _enemy_horizontal
596   0000              	GLOBAL _enemy_vertical
597   0000              	GLOBAL _ay_reset
598   0000              	GLOBAL _ay_song_stop
599   0000              	GLOBAL _ay_song_play
600   0000              	GLOBAL _ay_fx_stop
601   0000              	GLOBAL _ay_fx_play
602   0000              	GLOBAL _ay_is_playing
603   0000              	GLOBAL _audio_levelup
604   0000              	GLOBAL _audio_menu
605   0000              	GLOBAL _audio_game_end
606   0000              	GLOBAL _audio_level_complete
607   0000              	GLOBAL _audio_level_start
608   0000              	GLOBAL _audio_lotr_lose_a_life
609   0000              	GLOBAL _audio_puerta
610   0000              	GLOBAL _audio_sin_mana
611   0000              	GLOBAL _audio_magic1
612   0000              	GLOBAL _audio_coin
613   0000              	GLOBAL _audio_golpe
614   0000              	GLOBAL _audio_salto
615   0000              	GLOBAL _audio_efecto
616   0000              	GLOBAL _audio_disparo_fire
617   0000              	GLOBAL _audio_disparo_axe
618   0000              	GLOBAL _audio_disparo2
619   0000              	GLOBAL _audio_disparo1
620   0000              	GLOBAL _audio_explosion1
621   0000              	GLOBAL _audio_explosion
622   0000              	GLOBAL _audio_ingame
623   0000              	GLOBAL _test_func
624   0000              	GLOBAL _test_proc
625   0000              	GLOBAL _in_mouse_kempston_wheel_delta
626   0000              	GLOBAL _in_mouse_kempston_wheel
627   0000              	GLOBAL _in_mouse_kempston_callee
628   0000              	GLOBAL _in_mouse_kempston
629   0000              	GLOBAL _in_mouse_kempston_setpos_callee
630   0000              	GLOBAL _in_mouse_kempston_setpos
631   0000              	GLOBAL _in_mouse_kempston_reset
632   0000              	GLOBAL _in_mouse_kempston_init
633   0000              	GLOBAL _in_mouse_amx_wheel_delta
634   0000              	GLOBAL _in_mouse_amx_wheel
635   0000              	GLOBAL _in_mouse_amx_callee
636   0000              	GLOBAL _in_mouse_amx
637   0000              	GLOBAL _in_mouse_amx_setpos_callee
638   0000              	GLOBAL _in_mouse_amx_setpos
639   0000              	GLOBAL _in_mouse_amx_reset
640   0000              	GLOBAL _in_mouse_amx_init_callee
641   0000              	GLOBAL _in_mouse_amx_init
642   0000              	GLOBAL _in_stick_sinclair2
643   0000              	GLOBAL _in_stick_sinclair1
644   0000              	GLOBAL _in_stick_kempston
645   0000              	GLOBAL _in_stick_fuller
646   0000              	GLOBAL _in_stick_cursor
647   0000              	GLOBAL _in_stick_keyboard_fastcall
648   0000              	GLOBAL _in_stick_keyboard
649   0000              	GLOBAL _in_wait_nokey
650   0000              	GLOBAL _in_wait_key
651   0000              	GLOBAL _in_test_key
652   0000              	GLOBAL _in_pause_fastcall
653   0000              	GLOBAL _in_pause
654   0000              	GLOBAL _in_key_scancode_fastcall
655   0000              	GLOBAL _in_key_scancode
656   0000              	GLOBAL _in_key_pressed_fastcall
657   0000              	GLOBAL _in_key_pressed
658   0000              	GLOBAL _in_inkey
659   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
660   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
661   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
662   0000              	GLOBAL _NIRVANAP_HOLE
663   0000              	GLOBAL _NIRVANAP_ISR_HOOK
664   0000              	GLOBAL _spr_init_cout
665   0000              	GLOBAL _spr_init_cin
666   0000              	GLOBAL _scan_map
667   0000              	GLOBAL _map_paper_last
668   0000              	GLOBAL _map_paper_clr
669   0000              	GLOBAL _map_paper
670   0000              	GLOBAL _map_border
671   0000              	GLOBAL _anim_count
672   0000              	GLOBAL _anim_loop
673   0000              	GLOBAL _anim_end
674   0000              	GLOBAL _anim_int
675   0000              	GLOBAL _anim_tile
676   0000              	GLOBAL _anim_col
677   0000              	GLOBAL _anim_lin
678   0000              	GLOBAL _map_heigth
679   0000              	GLOBAL _map_width
680   0000              	GLOBAL _scr_curr
681   0000              	GLOBAL _scr_map
682   0000              	GLOBAL _spr_kind
683   0000              	GLOBAL _spr_frames
684   0000              	GLOBAL _spr_speed
685   0000              	GLOBAL _spr_tile
686   0000              	GLOBAL _screen_ink
687   0000              	GLOBAL _screen_paper
688   0000              	GLOBAL _game_start_scr
689   0000              	GLOBAL _game_score_top
690   0000              	GLOBAL _player_coins
691   0000              	GLOBAL _player_lives
692   0000              	GLOBAL _game_over
693   0000              	GLOBAL _game_tile_cnt
694   0000              	GLOBAL _game_sound
695   0000              	GLOBAL _game_inf_lives
696   0000              	GLOBAL _game_inmune
697   0000              	GLOBAL _sprite_curr_index
698   0000              	GLOBAL _spr_count
699   0000              	GLOBAL _key_ink
700   0000              	GLOBAL _key_last
701   0000              	GLOBAL _anim_time
702   0000              	GLOBAL _frame_time
703   0000              	GLOBAL _curr_time
704   0000              	GLOBAL _p_state_a
705   0000              	GLOBAL _p_state
706   0000              	GLOBAL _key_attrib
707   0000              	GLOBAL _game_attrib_osd
708   0000              	GLOBAL _attrib_osd
709   0000              	GLOBAL _attrib_hl
710   0000              	GLOBAL _attrib
711   0000              	GLOBAL _zx_val_asm
712   0000              	GLOBAL _enemies
713   0000              	GLOBAL _tmp_ui
714   0000              	GLOBAL _index1
715   0000              	GLOBAL _index0
716   0000              	GLOBAL _index_tmp
717   0000              	GLOBAL _loop_count
718   0000              	GLOBAL _s_class
719   0000              	GLOBAL _s_row1
720   0000              	GLOBAL _s_col1
721   0000              	GLOBAL _s_col0
722   0000              	GLOBAL _s_lin1
723   0000              	GLOBAL _s_lin0
724   0000              	GLOBAL _s_tile1
725   0000              	GLOBAL _s_tile0
726   0000              	GLOBAL _nirv_sprite_index
727   0000              	GLOBAL _player_kill_index
728   0000              	GLOBAL _player_killed
729   0000              	GLOBAL _player_jump_top
730   0000              	GLOBAL _game_fps_show
731   0000              	GLOBAL _game_debug
732   0000              	GLOBAL _sprite
733   0000              	GLOBAL _fps
734   0000              	GLOBAL _game_tileset
735   0000              	GLOBAL _menu_curr_sel
736   0000              	GLOBAL _game_round_up
737   0000              	GLOBAL _game_playing
738   0000              	GLOBAL _game_exit_lin
739   0000              	GLOBAL _game_exit_col
740   0000              	GLOBAL _game_conveyor_col1
741   0000              	GLOBAL _game_conveyor_col0
742   0000              	GLOBAL _game_conveyor_lin
743   0000              	GLOBAL _game_conveyor_dir
744   0000              	GLOBAL _game_song_play_start
745   0000              	GLOBAL _game_song_play
746   0000              	GLOBAL _game_world
747   0000              	GLOBAL _game_gravity
748   0000              	GLOBAL _player_jumpcount
749   0000              	GLOBAL _player_hit
750   0000              	GLOBAL _player_hit_time
751   0000              	GLOBAL _player_lin_scr
752   0000              	GLOBAL _player_col_scr
753   0000              	GLOBAL _player_jump_count
754   0000              	GLOBAL _player_jump_hack
755   0000              	GLOBAL _player_vel_inc
756   0000              	GLOBAL _player_vel_y0
757   0000              	GLOBAL _player_vel_y
758   0000              	GLOBAL _player_score
759   0000              	GLOBAL _tbuffer
760   0000              	GLOBAL _obj_count
761   0000              	GLOBAL _obj_col
762   0000              	GLOBAL _obj_lin
763   0000              	GLOBAL _spr_timer
764   0000              	GLOBAL _last_time
765   0000              	GLOBAL _colint
766   0000              	GLOBAL _col
767   0000              	GLOBAL _lin
768   0000              	GLOBAL _tile
769   0000              	GLOBAL _value_b
770   0000              	GLOBAL _value_a
771   0000              	GLOBAL _state_a
772   0000              	GLOBAL _state
773   0000              	GLOBAL _class
774   0000              	GLOBAL _dirs
775   0000              	GLOBAL _k1
776   0000              	GLOBAL _joyfunc2
777   0000              	GLOBAL _joyfunc1
778   0000              	GLOBAL _btiles
779   0000              	GLOBAL _v3
780   0000              	GLOBAL _v2
781   0000              	GLOBAL _v1
782   0000              	GLOBAL _v0
783   0000              	GLOBAL _i
784   0000              	GLOBAL _spec128
785   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
786   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
787   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
788   0000              	GLOBAL _ay_fx_06_disparo_fire
789   0000              	GLOBAL _ay_fx_06_disparo_axe
790   0000              	GLOBAL _ay_fx_06_explosion1
791   0000              	GLOBAL _ay_fx_06_efecto
792   0000              	GLOBAL _ay_fx_06_disparo2
793   0000              	GLOBAL _ay_fx_06_disparo1
794   0000              	GLOBAL _ay_fx_06_levelup
795   0000              	GLOBAL _ay_fx_06_magic
796   0000              	GLOBAL _ay_fx_06_sin_mana
797   0000              	GLOBAL _ay_fx_06_salto
798   0000              	GLOBAL _ay_fx_06_puerta
799   0000              	GLOBAL _ay_fx_06_magic1
800   0000              	GLOBAL _ay_fx_06_golpe
801   0000              	GLOBAL _ay_fx_06_explosion
802   0000              	GLOBAL _ay_fx_06_dano_por_toque
803   0000              	GLOBAL _ay_fx_06_coin
804   0000              	GLOBAL _ay_song_06_lotr_level_start
805   0000              	GLOBAL _ay_song_06_lotr_level_complete
806   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
807   0000              	GLOBAL _ay_song_04_ingame0
808   0000              	GLOBAL _ay_song_04_ingame
809   0000              	GLOBAL _hibtiles
810   0000              	GLOBAL _key_map
811   0000              	GLOBAL _paper0
812   0000              	GLOBAL _lenght0
813   0000              	GLOBAL _world0
814   0000              	GLOBAL _spr_init_len
815   0000              	GLOBAL _spr_init
816   0000              ;--------------------------------------------------------
817   0000              ; special function registers
818   0000              ;--------------------------------------------------------
819   0000              defc _IO_FE	=	0x00fe
820   0000              defc _IO_1FFD	=	0x1ffd
821   0000              defc _IO_7FFD	=	0x7ffd
822   0000              ;--------------------------------------------------------
823   0000              ; ram data
824   0000              ;--------------------------------------------------------
825   0000              	SECTION bss_compiler
826   0000              ;--------------------------------------------------------
827   0000              ; ram data
828   0000              ;--------------------------------------------------------
829   0000              
830   0000              IF 0
831   0000              
832   0000              ; .area _INITIALIZED removed by z88dk
833   0000              
834   0000              
835   0000              ENDIF
836   0000              
837   0000              ;--------------------------------------------------------
838   0000              ; absolute external ram data
839   0000              ;--------------------------------------------------------
840   0000              	SECTION IGNORE
841   0000              ;--------------------------------------------------------
842   0000              ; global & static initialisations
843   0000              ;--------------------------------------------------------
844   0000              	SECTION code_crt_init
845   0000              ;--------------------------------------------------------
846   0000              ; Home
847   0000              ;--------------------------------------------------------
848   0000              	SECTION IGNORE
849   0000              ;--------------------------------------------------------
850   0000              ; code
851   0000              ;--------------------------------------------------------
852   0000              	SECTION code_compiler
853   0000              ;	---------------------------------
854   0000              ; Function player_init
855   0000              ; ---------------------------------
856   0000              _player_init:
857   0000  CD 00 00    	call	___sdcc_enter_ix
858   0003  21 0F 00    	ld	hl, +(_class + 0x000f)
859   0006  36 FF       	ld	(hl),0xff
860   0008  21 0F 00    	ld	hl, +(_spr_speed + 0x000f)
861   000B  36 04       	ld	(hl),0x04
862   000D  21 0F 00    	ld	hl, +(_spr_frames + 0x000f)
863   0010  36 04       	ld	(hl),0x04
864   0012  21 0F 00    	ld	hl, +(_lin + 0x000f)
865   0015  DD 7E 04    	ld	a,(ix+4)
866   0018  77          	ld	(hl), a
867   0019  21 0F 00    	ld	hl, +(_col + 0x000f)
868   001C  DD 7E 05    	ld	a,(ix+5)
869   001F  77          	ld	(hl), a
870   0020  21 0F 00    	ld	hl, +(_state + 0x000f)
871   0023  36 00       	ld	(hl),0x00
872   0025  21 0F 00    	ld	hl, +(_state_a + 0x000f)
873   0028  36 00       	ld	(hl),0x00
874   002A  2A 00 00    	ld	hl,(_curr_time)
875   002D  22 1E 00    	ld	(_last_time + 0x001e),hl
876   0030  21 00 00    	ld	hl,0x0000
877   0033  22 00 00    	ld	(_player_vel_y),hl
878   0036  01 0F 00    	ld	bc,_colint+15
879   0039  AF          	xor	a, a
880   003A  02          	ld	(bc), a
881   003B  21 0F 00    	ld	hl, +(_spr_frames + 0x000f)
882   003E  36 04       	ld	(hl),0x04
883   0040  21 0F 00    	ld	hl,+(_state + 0x000f)
884   0043  22 00 00    	ld	(_p_state),hl
885   0046  21 0F 00    	ld	hl,+(_state_a + 0x000f)
886   0049  22 00 00    	ld	(_p_state_a),hl
887   004C  DD 7E 05    	ld	a,(ix+5)
888   004F  D6 10       	sub	a,0x10
889   0051  30 19       	jr	NC,l_player_init_00102
890   0053  ED 4B 00 00 	ld	bc,(_p_state)
891   0057  0A          	ld	a,(bc)
892   0058  F6 04       	or	a,0x04
893   005A  02          	ld	(bc), a
894   005B  ED 4B 00 00 	ld	bc,(_p_state_a)
895   005F  0A          	ld	a,(bc)
896   0060  F6 10       	or	a,0x10
897   0062  02          	ld	(bc), a
898   0063  21 0F 00    	ld	hl, +(_tile + 0x000f)
899   0066  DD 7E 06    	ld	a,(ix+6)
900   0069  77          	ld	(hl), a
901   006A  18 1F       	jr	l_player_init_00103
902   006C              l_player_init_00102:
903   006C  3E 03       	ld	a,0x03
904   006E  02          	ld	(bc), a
905   006F  ED 4B 00 00 	ld	bc,(_p_state)
906   0073  0A          	ld	a,(bc)
907   0074  F6 08       	or	a,0x08
908   0076  02          	ld	(bc), a
909   0077  ED 4B 00 00 	ld	bc,(_p_state_a)
910   007B  0A          	ld	a,(bc)
911   007C  F6 08       	or	a,0x08
912   007E  02          	ld	(bc), a
913   007F  01 0F 00    	ld	bc,_tile+15
914   0082  21 0F 00    	ld	hl,+(_spr_frames + 0x000f)
915   0085  5E          	ld	e, (hl)
916   0086  DD 7E 06    	ld	a,(ix+6)
917   0089  83          	add	a, e
918   008A  02          	ld	(bc), a
919   008B              l_player_init_00103:
920   008B  21 0F 00    	ld	hl,+(_col + 0x000f)
921   008E  4E          	ld	c, (hl)
922   008F  3A 0F 00    	ld	a,(_lin + 0x000f)
923   0092  C6 10       	add	a,0x10
924   0094  47          	ld	b, a
925   0095  21 0F 00    	ld	hl,+(_tile + 0x000f)
926   0098  5E          	ld	e, (hl)
927   0099  79          	ld	a, c
928   009A  48          	ld	c,b
929   009B  47          	ld	b,a
930   009C  C5          	push	bc
931   009D  53          	ld	d, e
932   009E  1E 07       	ld	e,0x07
933   00A0  D5          	push	de
934   00A1  CD 00 00    	call	_NIRVANAP_spriteT_callee
935   00A4  DD E1       	pop	ix
936   00A6  C9          	ret
937   00A7              	SECTION code_compiler
938   00A7              ;	---------------------------------
939   00A7              ; Function player_turn
940   00A7              ; ---------------------------------
941   00A7              _player_turn:
942   00A7  21 00 00    	ld	hl,_sprite
943   00AA  36 0F       	ld	(hl),0x0f
944   00AC  21 00 00    	ld	hl,_sprite
945   00AF  CD 00 00    	call	_spr_chktime
946   00B2  7D          	ld	a, l
947   00B3  B7          	or	a, a
948   00B4  CA 9F 01    	jp	Z, l_player_turn_00124
949   00B7  CD 00 00    	call	_in_inkey
950   00BA  7D          	ld	a,l
951   00BB  D6 31       	sub	a,0x31
952   00BD  4D          	ld	c,l
953   00BE  20 14       	jr	NZ,l_player_turn_00104
954   00C0  21 00 00    	ld	hl,_scr_curr
955   00C3  35          	dec	(hl)
956   00C4  21 00 00    	ld	hl,_game_round_up
957   00C7  36 01       	ld	(hl),0x01
958   00C9  3A 00 00    	ld	a,(_scr_curr)
959   00CC  3C          	inc	a
960   00CD  20 05       	jr	NZ,l_player_turn_00104
961   00CF  21 00 00    	ld	hl,_scr_curr
962   00D2  36 13       	ld	(hl),0x13
963   00D4              l_player_turn_00104:
964   00D4  79          	ld	a, c
965   00D5  D6 32       	sub	a,0x32
966   00D7  20 15       	jr	NZ,l_player_turn_00108
967   00D9  21 00 00    	ld	hl,_scr_curr
968   00DC  34          	inc	(hl)
969   00DD  21 00 00    	ld	hl,_game_round_up
970   00E0  36 01       	ld	(hl),0x01
971   00E2  3A 00 00    	ld	a,(_scr_curr)
972   00E5  D6 14       	sub	a,0x14
973   00E7  20 05       	jr	NZ,l_player_turn_00108
974   00E9  21 00 00    	ld	hl,_scr_curr
975   00EC  36 00       	ld	(hl),0x00
976   00EE              l_player_turn_00108:
977   00EE  79          	ld	a, c
978   00EF  D6 33       	sub	a,0x33
979   00F1  20 15       	jr	NZ,l_player_turn_00110
980   00F3  21 00 00    	ld	hl,_game_inmune
981   00F6  7E          	ld	a, (hl)
982   00F7  D6 01       	sub	a,0x01
983   00F9  3E 00       	ld	a,0x00
984   00FB  17          	rla
985   00FC  77          	ld	(hl), a
986   00FD  2E 04       	ld	l,0x04
987   00FF  CD 00 00    	call	_zx_border_fastcall
988   0102  21 FA 00    	ld	hl,0x00fa
989   0105  CD 00 00    	call	_z80_delay_ms_fastcall
990   0108              l_player_turn_00110:
991   0108  21 00 00    	ld	hl,_k1
992   010B  E5          	push	hl
993   010C  2A 00 00    	ld	hl,(_joyfunc1)
994   010F  CD 00 00    	call	___sdcc_call_hl
995   0112  F1          	pop	af
996   0113  7D          	ld	a,l
997   0114  32 00 00    	ld	(_dirs),a
998   0117  21 0F 00    	ld	hl,+(_state + 0x000f)
999   011A  22 00 00    	ld	(_p_state),hl
1000  011D  21 0F 00    	ld	hl,+(_state_a + 0x000f)
1001  0120  22 00 00    	ld	(_p_state_a),hl
1002  0123  3A 0F 00    	ld	a,(_lin + 0x000f)
1003  0126  32 00 00    	ld	(_s_lin0),a
1004  0129  3A 0F 00    	ld	a,(_col + 0x000f)
1005  012C  32 00 00    	ld	(_s_col0),a
1006  012F  3A 0F 00    	ld	a,(_tile + 0x000f)
1007  0132  32 00 00    	ld	(_s_tile0),a
1008  0135  21 00 00    	ld	hl,_s_class
1009  0138  36 00       	ld	(hl),0x00
1010  013A  3A 00 00    	ld	a,(_dirs)
1011  013D  B7          	or	a, a
1012  013E  20 08       	jr	NZ,l_player_turn_00112
1013  0140  ED 4B 00 00 	ld	bc,(_p_state_a)
1014  0144  0A          	ld	a,(bc)
1015  0145  E6 FE       	and	a,0xfe
1016  0147  02          	ld	(bc), a
1017  0148              l_player_turn_00112:
1018  0148  CD A0 01    	call	_player_move
1019  014B  CD 6A 05    	call	_player_collision
1020  014E  3A 00 00    	ld	a,(_player_killed)
1021  0151  B7          	or	a, a
1022  0152  28 10       	jr	Z,l_player_turn_00114
1023  0154  3A 00 00    	ld	a,(_game_inmune)
1024  0157  B7          	or	a, a
1025  0158  28 0A       	jr	Z,l_player_turn_00114
1026  015A  21 00 00    	ld	hl,_player_killed
1027  015D  36 00       	ld	(hl),0x00
1028  015F  2E 00       	ld	l,0x00
1029  0161  CD 00 00    	call	_zx_border_fastcall
1030  0164              l_player_turn_00114:
1031  0164  21 00 00    	ld	hl,_player_killed
1032  0167  7E          	ld	a, (hl)
1033  0168  B7          	or	a, a
1034  0169  28 05       	jr	Z,l_player_turn_00117
1035  016B  36 00       	ld	(hl),0x00
1036  016D  CD 22 0A    	call	_player_lost_life
1037  0170              l_player_turn_00117:
1038  0170  3A 00 00    	ld	a,(_obj_count)
1039  0173  3C          	inc	a
1040  0174  C0          	ret	NZ
1041  0175  21 0F 00    	ld	hl,+(_col + 0x000f)
1042  0178  4E          	ld	c, (hl)
1043  0179  3A 00 00    	ld	a,(_game_exit_col)
1044  017C  91          	sub	a, c
1045  017D  C0          	ret	NZ
1046  017E  21 0F 00    	ld	hl,+(_lin + 0x000f)
1047  0181  4E          	ld	c, (hl)
1048  0182  3A 00 00    	ld	a,(_game_exit_lin)
1049  0185  16 00       	ld	d,0x00
1050  0187  C6 F0       	add	a,0xf0
1051  0189  5F          	ld	e, a
1052  018A  7A          	ld	a, d
1053  018B  CE FF       	adc	a,0xff
1054  018D  57          	ld	d, a
1055  018E  06 00       	ld	b,0x00
1056  0190  7B          	ld	a, e
1057  0191  91          	sub	a, c
1058  0192  C0          	ret	NZ
1059  0193  7A          	ld	a, d
1060  0194  90          	sub	a, b
1061  0195  C0          	ret	NZ
1062  0196  21 00 00    	ld	hl,_scr_curr
1063  0199  34          	inc	(hl)
1064  019A  21 00 00    	ld	hl,_game_round_up
1065  019D  36 01       	ld	(hl),0x01
1066  019F              l_player_turn_00124:
1067  019F  C9          	ret
1068  01A0              	SECTION code_compiler
1069  01A0              ;	---------------------------------
1070  01A0              ; Function player_move
1071  01A0              ; ---------------------------------
1072  01A0              _player_move:
1073  01A0  2A 00 00    	ld	hl,(_p_state)
1074  01A3  7E          	ld	a,(hl)
1075  01A4  CB 47       	bit	0, a
1076  01A6  20 04       	jr	NZ,l_player_move_00101
1077  01A8  CB 4F       	bit	1, a
1078  01AA  28 05       	jr	Z,l_player_move_00102
1079  01AC              l_player_move_00101:
1080  01AC  CD BA 01    	call	_player_move_jump
1081  01AF  18 03       	jr	l_player_move_00103
1082  01B1              l_player_move_00102:
1083  01B1  CD 4D 03    	call	_player_move_walk
1084  01B4              l_player_move_00103:
1085  01B4  CD 00 00    	call	_spr_paint_player
1086  01B7  2E 00       	ld	l,0x00
1087  01B9  C9          	ret
1088  01BA              	SECTION code_compiler
1089  01BA              ;	---------------------------------
1090  01BA              ; Function player_move_jump
1091  01BA              ; ---------------------------------
1092  01BA              _player_move_jump:
1093  01BA  CD 00 00    	call	___sdcc_enter_ix
1094  01BD  F5          	push	af
1095  01BE  3B          	dec	sp
1096  01BF  21 00 00    	ld	hl,_player_jump_count
1097  01C2  34          	inc	(hl)
1098  01C3  2A 00 00    	ld	hl,(_player_vel_y)
1099  01C6  ED 5B 00 00 	ld	de,(_game_gravity)
1100  01CA  19          	add	hl,de
1101  01CB  22 00 00    	ld	(_player_vel_y),hl
1102  01CE  3A 00 00    	ld	a,(_player_jump_count)
1103  01D1  D6 11       	sub	a,0x11
1104  01D3  20 10       	jr	NZ,l_player_move_jump_00102
1105  01D5  ED 4B 00 00 	ld	bc,(_p_state)
1106  01D9  0A          	ld	a,(bc)
1107  01DA  E6 F7       	and	a,0xf7
1108  01DC  02          	ld	(bc),a
1109  01DD  ED 4B 00 00 	ld	bc,(_p_state)
1110  01E1  0A          	ld	a,(bc)
1111  01E2  E6 FB       	and	a,0xfb
1112  01E4  02          	ld	(bc), a
1113  01E5              l_player_move_jump_00102:
1114  01E5  2A 00 00    	ld	hl,(_p_state)
1115  01E8  7E          	ld	a,(hl)
1116  01E9  DD 77 FF    	ld	(ix-1),a
1117  01EC  CB 5F       	bit	3,a
1118  01EE  20 06       	jr	NZ,l_player_move_jump_00110
1119  01F0  DD CB FF 56 	bit	2,(ix-1)
1120  01F4  28 4C       	jr	Z,l_player_move_jump_00111
1121  01F6              l_player_move_jump_00110:
1122  01F6  3A 00 00    	ld	a,(_player_jump_count)
1123  01F9  FE 03       	cp	a,0x03
1124  01FB  28 10       	jr	Z,l_player_move_jump_00109
1125  01FD  FE 06       	cp	a,0x06
1126  01FF  28 0C       	jr	Z,l_player_move_jump_00109
1127  0201  FE 09       	cp	a,0x09
1128  0203  28 08       	jr	Z,l_player_move_jump_00109
1129  0205  FE 0C       	cp	a,0x0c
1130  0207  28 04       	jr	Z,l_player_move_jump_00109
1131  0209  D6 0F       	sub	a,0x0f
1132  020B  20 30       	jr	NZ,l_player_move_jump_00104
1133  020D              l_player_move_jump_00109:
1134  020D  21 00 00    	ld	hl,_player_jump_hack
1135  0210  7E          	ld	a, (hl)
1136  0211  B7          	or	a, a
1137  0212  28 29       	jr	Z,l_player_move_jump_00104
1138  0214  36 00       	ld	(hl),0x00
1139  0216  3A 00 00    	ld	a,(_player_vel_y)
1140  0219  21 00 00    	ld	hl,_game_gravity
1141  021C  96          	sub	a, (hl)
1142  021D  21 00 00    	ld	hl,_player_vel_y
1143  0220  77          	ld	(hl), a
1144  0221  23          	inc	hl
1145  0222  7E          	ld	a, (hl)
1146  0223  21 01 00    	ld	hl,_game_gravity + 1
1147  0226  9E          	sbc	a, (hl)
1148  0227  32 01 00    	ld	(_player_vel_y + 1),a
1149  022A  CD 00 00    	call	_spr_move_horizontal
1150  022D  21 00 00    	ld	hl,0x0000
1151  0230  22 1E 00    	ld	(_last_time + 0x001e),hl
1152  0233  2E 02       	ld	l,0x02
1153  0235  CD 00 00    	call	_z80_delay_ms_fastcall
1154  0238  2E 00       	ld	l,0x00
1155  023A  C3 48 03    	jp	l_player_move_jump_00129
1156  023D              l_player_move_jump_00104:
1157  023D  21 00 00    	ld	hl,_player_jump_hack
1158  0240  36 01       	ld	(hl),0x01
1159  0242              l_player_move_jump_00111:
1160  0242  21 64 00    	ld	hl,0x0064
1161  0245  E5          	push	hl
1162  0246  2A 00 00    	ld	hl,(_player_vel_y)
1163  0249  E5          	push	hl
1164  024A  CD 00 00    	call	__divsint_callee
1165  024D  4D          	ld	c, l
1166  024E  44          	ld	b, h
1167  024F  CB 41       	bit	0,c
1168  0251  21 00 00    	ld	hl,_s_lin1
1169  0254  71          	ld	(hl),c
1170  0255  28 04       	jr	Z,l_player_move_jump_00114
1171  0257  21 00 00    	ld	hl,_s_lin1
1172  025A  35          	dec	(hl)
1173  025B              l_player_move_jump_00114:
1174  025B  3A 0F 00    	ld	a,(_lin + 0x000f)
1175  025E  21 00 00    	ld	hl,_s_lin1
1176  0261  86          	add	a, (hl)
1177  0262  77          	ld	(hl), a
1178  0263  AF          	xor	a, a
1179  0264  B9          	cp	a, c
1180  0265  98          	sbc	a, b
1181  0266  E2 6B 02    	jp	PO, l_player_move_jump_00199
1182  0269  EE 80       	xor	a,0x80
1183  026B              l_player_move_jump_00199:
1184  026B  FA D0 02    	jp	M, l_player_move_jump_00127
1185  026E  CD 00 00    	call	_spr_set_up
1186  0271  3E 80       	ld	a,0x80
1187  0273  21 00 00    	ld	hl,_s_lin1
1188  0276  96          	sub	a, (hl)
1189  0277  30 02       	jr	NC,l_player_move_jump_00116
1190  0279  36 00       	ld	(hl),0x00
1191  027B              l_player_move_jump_00116:
1192  027B  21 0F 00    	ld	hl,+(_col + 0x000f)
1193  027E  46          	ld	b, (hl)
1194  027F  3A 00 00    	ld	a,(_s_lin1)
1195  0282  4F          	ld	c,a
1196  0283  C5          	push	bc
1197  0284  CD 92 08    	call	_player_check_ceil
1198  0287  F1          	pop	af
1199  0288  DD 75 FF    	ld	(ix-1),l
1200  028B  7D          	ld	a, l
1201  028C  B7          	or	a, a
1202  028D  20 33       	jr	NZ,l_player_move_jump_00118
1203  028F  21 00 00    	ld	hl,0x0000
1204  0292  22 00 00    	ld	(_player_vel_y),hl
1205  0295  11 FD FF    	ld	de,-3
1206  0298  21 00 00    	ld	hl,_p_state
1207  029B  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1208  029E  E1          	pop	hl
1209  029F  7E          	ld	a,(hl)
1210  02A0  E5          	push	hl
1211  02A1  DD 77 FF    	ld	(ix-1),a
1212  02A4  E6 FB       	and	a,0xfb
1213  02A6  DD 77 FF    	ld	(ix-1),a
1214  02A9  E1          	pop	hl
1215  02AA  E5          	push	hl
1216  02AB  DD 7E FF    	ld	a,(ix-1)
1217  02AE  77          	ld	(hl), a
1218  02AF  11 FD FF    	ld	de,-3
1219  02B2  21 00 00    	ld	hl,_p_state
1220  02B5  CD 00 00    	call	____sdcc_2_copy_src_mhl_dst_deix
1221  02B8  E1          	pop	hl
1222  02B9  4E          	ld	c,(hl)
1223  02BA  E5          	push	hl
1224  02BB  CB 99       	res	3, c
1225  02BD  E1          	pop	hl
1226  02BE  E5          	push	hl
1227  02BF  71          	ld	(hl), c
1228  02C0  18 06       	jr	l_player_move_jump_00119
1229  02C2              l_player_move_jump_00118:
1230  02C2  3A 00 00    	ld	a,(_s_lin1)
1231  02C5  32 0F 00    	ld	((_lin + 0x000f)),a
1232  02C8              l_player_move_jump_00119:
1233  02C8  3A 00 00    	ld	a,(_s_lin1)
1234  02CB  32 00 00    	ld	(_player_jump_top),a
1235  02CE  18 73       	jr	l_player_move_jump_00128
1236  02D0              l_player_move_jump_00127:
1237  02D0  CD F3 06    	call	_player_get_floor
1238  02D3  7D          	ld	a,l
1239  02D4  32 00 00    	ld	(_v0),a
1240  02D7  21 00 00    	ld	hl,_s_lin1
1241  02DA  7E          	ld	a, (hl)
1242  02DB  D6 78       	sub	a,0x78
1243  02DD  30 0E       	jr	NC,l_player_move_jump_00122
1244  02DF  7E          	ld	a, (hl)
1245  02E0  21 00 00    	ld	hl,_v0
1246  02E3  96          	sub	a, (hl)
1247  02E4  38 54       	jr	C,l_player_move_jump_00123
1248  02E6  7E          	ld	a, (hl)
1249  02E7  21 00 00    	ld	hl,_s_lin0
1250  02EA  96          	sub	a, (hl)
1251  02EB  38 4D       	jr	C,l_player_move_jump_00123
1252  02ED              l_player_move_jump_00122:
1253  02ED  3A 00 00    	ld	a,(_s_lin1)
1254  02F0  4F          	ld	c,a
1255  02F1  06 00       	ld	b,0x00
1256  02F3  3A 00 00    	ld	a,(_player_jump_top)
1257  02F6  5F          	ld	e,a
1258  02F7  16 00       	ld	d,0x00
1259  02F9  79          	ld	a, c
1260  02FA  93          	sub	a, e
1261  02FB  4F          	ld	c, a
1262  02FC  78          	ld	a, b
1263  02FD  9A          	sbc	a, d
1264  02FE  47          	ld	b, a
1265  02FF  3E 30       	ld	a,0x30
1266  0301  B9          	cp	a, c
1267  0302  3E 00       	ld	a,0x00
1268  0304  98          	sbc	a, b
1269  0305  E2 0A 03    	jp	PO, l_player_move_jump_00200
1270  0308  EE 80       	xor	a,0x80
1271  030A              l_player_move_jump_00200:
1272  030A  F2 12 03    	jp	P, l_player_move_jump_00121
1273  030D  21 00 00    	ld	hl,_player_killed
1274  0310  36 01       	ld	(hl),0x01
1275  0312              l_player_move_jump_00121:
1276  0312  3A 00 00    	ld	a,(_v0)
1277  0315  32 0F 00    	ld	((_lin + 0x000f)),a
1278  0318  21 00 00    	ld	hl,0x0000
1279  031B  22 00 00    	ld	(_player_vel_y),hl
1280  031E  ED 4B 00 00 	ld	bc,(_p_state)
1281  0322  0A          	ld	a,(bc)
1282  0323  E6 FD       	and	a,0xfd
1283  0325  02          	ld	(bc),a
1284  0326  ED 4B 00 00 	ld	bc,(_p_state)
1285  032A  0A          	ld	a,(bc)
1286  032B  E6 FE       	and	a,0xfe
1287  032D  02          	ld	(bc),a
1288  032E  ED 4B 00 00 	ld	bc,(_p_state)
1289  0332  0A          	ld	a,(bc)
1290  0333  E6 EF       	and	a,0xef
1291  0335  02          	ld	(bc), a
1292  0336  2E 00       	ld	l,0x00
1293  0338  18 0E       	jr	l_player_move_jump_00129
1294  033A              l_player_move_jump_00123:
1295  033A  CD 00 00    	call	_spr_set_down
1296  033D  3A 00 00    	ld	a,(_s_lin1)
1297  0340  32 0F 00    	ld	((_lin + 0x000f)),a
1298  0343              l_player_move_jump_00128:
1299  0343  CD 00 00    	call	_spr_move_horizontal
1300  0346  2E 01       	ld	l,0x01
1301  0348              l_player_move_jump_00129:
1302  0348  DD F9       	ld	sp, ix
1303  034A  DD E1       	pop	ix
1304  034C  C9          	ret
1305  034D              	SECTION code_compiler
1306  034D              ;	---------------------------------
1307  034D              ; Function player_move_walk
1308  034D              ; ---------------------------------
1309  034D              _player_move_walk:
1310  034D  CD 00 00    	call	___sdcc_enter_ix
1311  0350  F5          	push	af
1312  0351  CD 84 07    	call	_player_check_input
1313  0354  4D          	ld	c, l
1314  0355  2A 00 00    	ld	hl,(_p_state)
1315  0358  DD 75 FE    	ld	(ix-2),l
1316  035B  DD 74 FF    	ld	(ix-1),h
1317  035E  79          	ld	a,c
1318  035F  B7          	or	a,a
1319  0360  CA BA 04    	jp	Z,l_player_move_walk_00153
1320  0363  21 00 00    	ld	hl,_dirs
1321  0366  CB 7E       	bit	7, (hl)
1322  0368  CA F3 03    	jp	Z,l_player_move_walk_00117
1323  036B  21 0F 00    	ld	hl,+(_col + 0x000f)
1324  036E  56          	ld	d, (hl)
1325  036F  21 0F 00    	ld	hl,+(_lin + 0x000f)
1326  0372  46          	ld	b, (hl)
1327  0373  05          	dec	b
1328  0374  05          	dec	b
1329  0375  58          	ld	e,b
1330  0376  D5          	push	de
1331  0377  CD 92 08    	call	_player_check_ceil
1332  037A  F1          	pop	af
1333  037B  7D          	ld	a, l
1334  037C  B7          	or	a, a
1335  037D  28 6F       	jr	Z,l_player_move_walk_00115
1336  037F  21 00 00    	ld	hl,_player_vel_inc
1337  0382  36 01       	ld	(hl),0x01
1338  0384  21 00 00    	ld	hl,_player_jump_count
1339  0387  36 FF       	ld	(hl),0xff
1340  0389  CD 00 00    	call	_audio_salto
1341  038C  CD 00 00    	call	_spr_set_up
1342  038F  2A 00 00    	ld	hl,(_player_vel_y0)
1343  0392  22 00 00    	ld	(_player_vel_y),hl
1344  0395  ED 4B 00 00 	ld	bc,(_p_state_a)
1345  0399  0A          	ld	a,(bc)
1346  039A  F6 01       	or	a,0x01
1347  039C  02          	ld	(bc), a
1348  039D  ED 4B 00 00 	ld	bc,(_p_state)
1349  03A1  0A          	ld	a,(bc)
1350  03A2  E6 F7       	and	a,0xf7
1351  03A4  02          	ld	(bc),a
1352  03A5  ED 4B 00 00 	ld	bc,(_p_state)
1353  03A9  0A          	ld	a,(bc)
1354  03AA  E6 FB       	and	a,0xfb
1355  03AC  02          	ld	(bc),a
1356  03AD  2A 00 00    	ld	hl,(_p_state)
1357  03B0  7E          	ld	a,(hl)
1358  03B1  CB 67       	bit	4, a
1359  03B3  28 1D       	jr	Z,l_player_move_walk_00110
1360  03B5  CB 5F       	bit	3, a
1361  03B7  20 19       	jr	NZ,l_player_move_walk_00110
1362  03B9  CB 57       	bit	2, a
1363  03BB  20 15       	jr	NZ,l_player_move_walk_00110
1364  03BD  3A 00 00    	ld	a,(_game_conveyor_dir)
1365  03C0  3D          	dec	a
1366  03C1  20 03       	jr	NZ,l_player_move_walk_00102
1367  03C3  CD 00 00    	call	_spr_set_left
1368  03C6              l_player_move_walk_00102:
1369  03C6  3A 00 00    	ld	a,(_game_conveyor_dir)
1370  03C9  D6 02       	sub	a,0x02
1371  03CB  20 19       	jr	NZ,l_player_move_walk_00111
1372  03CD  CD 00 00    	call	_spr_set_right
1373  03D0  18 14       	jr	l_player_move_walk_00111
1374  03D2              l_player_move_walk_00110:
1375  03D2  21 00 00    	ld	hl,_dirs
1376  03D5  CB 56       	bit	2, (hl)
1377  03D7  28 03       	jr	Z,l_player_move_walk_00106
1378  03D9  CD 00 00    	call	_spr_set_left
1379  03DC              l_player_move_walk_00106:
1380  03DC  21 00 00    	ld	hl,_dirs
1381  03DF  CB 5E       	bit	3, (hl)
1382  03E1  28 03       	jr	Z,l_player_move_walk_00111
1383  03E3  CD 00 00    	call	_spr_set_right
1384  03E6              l_player_move_walk_00111:
1385  03E6  21 08 04    	ld	hl,0x0408
1386  03E9  E5          	push	hl
1387  03EA  CD D9 07    	call	_player_tile
1388  03ED  F1          	pop	af
1389  03EE              l_player_move_walk_00115:
1390  03EE  2E 01       	ld	l,0x01
1391  03F0  C3 66 05    	jp	l_player_move_walk_00155
1392  03F3              l_player_move_walk_00117:
1393  03F3  E1          	pop	hl
1394  03F4  4E          	ld	c,(hl)
1395  03F5  E5          	push	hl
1396  03F6  CB 61       	bit	4, c
1397  03F8  28 23       	jr	Z,l_player_move_walk_00136
1398  03FA  CB 59       	bit	3, c
1399  03FC  20 04       	jr	NZ,l_player_move_walk_00123
1400  03FE  CB 51       	bit	2, c
1401  0400  28 76       	jr	Z,l_player_move_walk_00137
1402  0402              l_player_move_walk_00123:
1403  0402  3A 00 00    	ld	a,(_game_conveyor_dir)
1404  0405  D6 02       	sub	a,0x02
1405  0407  20 06       	jr	NZ,l_player_move_walk_00119
1406  0409  CD 00 00    	call	_spr_set_right
1407  040C  CD 00 00    	call	_spr_move_horizontal
1408  040F              l_player_move_walk_00119:
1409  040F  3A 00 00    	ld	a,(_game_conveyor_dir)
1410  0412  3D          	dec	a
1411  0413  20 63       	jr	NZ,l_player_move_walk_00137
1412  0415  CD 00 00    	call	_spr_set_left
1413  0418  CD 00 00    	call	_spr_move_horizontal
1414  041B  18 5B       	jr	l_player_move_walk_00137
1415  041D              l_player_move_walk_00136:
1416  041D  CB A1       	res	4, c
1417  041F  E1          	pop	hl
1418  0420  E5          	push	hl
1419  0421  71          	ld	(hl), c
1420  0422  2A 00 00    	ld	hl,(_p_state_a)
1421  0425  7E          	ld	a,(hl)
1422  0426  0F          	rrca
1423  0427  38 35       	jr	C,l_player_move_walk_00130
1424  0429  21 0F 00    	ld	hl,+(_col + 0x000f)
1425  042C  56          	ld	d, (hl)
1426  042D  3A 0F 00    	ld	a,(_lin + 0x000f)
1427  0430  C6 10       	add	a,0x10
1428  0432  5F          	ld	e, a
1429  0433  D5          	push	de
1430  0434  CD 00 00    	call	_spr_calc_index
1431  0437  F1          	pop	af
1432  0438  22 00 00    	ld	(_index1),hl
1433  043B  01 00 00    	ld	bc,_scr_map+0
1434  043E  09          	add	hl,bc
1435  043F  7E          	ld	a,(hl)
1436  0440  D6 04       	sub	a,0x04
1437  0442  28 0D       	jr	Z,l_player_move_walk_00126
1438  0444  ED 5B 00 00 	ld	de,(_index1)
1439  0448  13          	inc	de
1440  0449  69          	ld	l, c
1441  044A  60          	ld	h, b
1442  044B  19          	add	hl, de
1443  044C  7E          	ld	a, (hl)
1444  044D  D6 04       	sub	a,0x04
1445  044F  20 0D       	jr	NZ,l_player_move_walk_00130
1446  0451              l_player_move_walk_00126:
1447  0451  2E 05       	ld	l,0x05
1448  0453  CD 00 00    	call	_zx_border_fastcall
1449  0456  ED 4B 00 00 	ld	bc,(_p_state)
1450  045A  0A          	ld	a,(bc)
1451  045B  F6 10       	or	a,0x10
1452  045D  02          	ld	(bc), a
1453  045E              l_player_move_walk_00130:
1454  045E  21 00 00    	ld	hl,_dirs
1455  0461  CB 5E       	bit	3, (hl)
1456  0463  28 06       	jr	Z,l_player_move_walk_00132
1457  0465  CD 00 00    	call	_spr_set_right
1458  0468  CD 00 00    	call	_spr_move_horizontal
1459  046B              l_player_move_walk_00132:
1460  046B  21 00 00    	ld	hl,_dirs
1461  046E  CB 56       	bit	2, (hl)
1462  0470  28 06       	jr	Z,l_player_move_walk_00137
1463  0472  CD 00 00    	call	_spr_set_left
1464  0475  CD 00 00    	call	_spr_move_horizontal
1465  0478              l_player_move_walk_00137:
1466  0478  21 08 04    	ld	hl,0x0408
1467  047B  E5          	push	hl
1468  047C  CD D9 07    	call	_player_tile
1469  047F  F1          	pop	af
1470  0480  AF          	xor	a, a
1471  0481  F5          	push	af
1472  0482  33          	inc	sp
1473  0483  CD F4 08    	call	_player_check_floor
1474  0486  33          	inc	sp
1475  0487  7D          	ld	a, l
1476  0488  B7          	or	a, a
1477  0489  28 2A       	jr	Z,l_player_move_walk_00139
1478  048B  3E 01       	ld	a,0x01
1479  048D  F5          	push	af
1480  048E  33          	inc	sp
1481  048F  CD F4 08    	call	_player_check_floor
1482  0492  33          	inc	sp
1483  0493  7D          	ld	a, l
1484  0494  B7          	or	a, a
1485  0495  28 1E       	jr	Z,l_player_move_walk_00139
1486  0497  3A 0F 00    	ld	a,(_lin + 0x000f)
1487  049A  32 00 00    	ld	(_player_jump_top),a
1488  049D  ED 4B 00 00 	ld	bc,(_p_state)
1489  04A1  0A          	ld	a,(bc)
1490  04A2  F6 02       	or	a,0x02
1491  04A4  02          	ld	(bc),a
1492  04A5  ED 4B 00 00 	ld	bc,(_p_state)
1493  04A9  0A          	ld	a,(bc)
1494  04AA  E6 F7       	and	a,0xf7
1495  04AC  02          	ld	(bc),a
1496  04AD  ED 4B 00 00 	ld	bc,(_p_state)
1497  04B1  0A          	ld	a,(bc)
1498  04B2  E6 FB       	and	a,0xfb
1499  04B4  02          	ld	(bc), a
1500  04B5              l_player_move_walk_00139:
1501  04B5  2E 01       	ld	l,0x01
1502  04B7  C3 66 05    	jp	l_player_move_walk_00155
1503  04BA              l_player_move_walk_00153:
1504  04BA  E1          	pop	hl
1505  04BB  4E          	ld	c,(hl)
1506  04BC  E5          	push	hl
1507  04BD  CB A1       	res	4, c
1508  04BF  E1          	pop	hl
1509  04C0  E5          	push	hl
1510  04C1  71          	ld	(hl), c
1511  04C2  21 0F 00    	ld	hl,+(_col + 0x000f)
1512  04C5  56          	ld	d, (hl)
1513  04C6  3A 0F 00    	ld	a,(_lin + 0x000f)
1514  04C9  C6 10       	add	a,0x10
1515  04CB  5F          	ld	e, a
1516  04CC  D5          	push	de
1517  04CD  CD 00 00    	call	_spr_calc_index
1518  04D0  F1          	pop	af
1519  04D1  22 00 00    	ld	(_index1),hl
1520  04D4  01 00 00    	ld	bc,_scr_map+0
1521  04D7  09          	add	hl,bc
1522  04D8  7E          	ld	a,(hl)
1523  04D9  D6 04       	sub	a,0x04
1524  04DB  28 0D       	jr	Z,l_player_move_walk_00141
1525  04DD  ED 5B 00 00 	ld	de,(_index1)
1526  04E1  13          	inc	de
1527  04E2  69          	ld	l, c
1528  04E3  60          	ld	h, b
1529  04E4  19          	add	hl, de
1530  04E5  7E          	ld	a, (hl)
1531  04E6  D6 04       	sub	a,0x04
1532  04E8  20 18       	jr	NZ,l_player_move_walk_00142
1533  04EA              l_player_move_walk_00141:
1534  04EA  ED 4B 00 00 	ld	bc,(_p_state)
1535  04EE  0A          	ld	a,(bc)
1536  04EF  F6 10       	or	a,0x10
1537  04F1  02          	ld	(bc),a
1538  04F2  ED 4B 00 00 	ld	bc,(_p_state)
1539  04F6  0A          	ld	a,(bc)
1540  04F7  E6 F7       	and	a,0xf7
1541  04F9  02          	ld	(bc),a
1542  04FA  ED 4B 00 00 	ld	bc,(_p_state)
1543  04FE  0A          	ld	a,(bc)
1544  04FF  E6 FB       	and	a,0xfb
1545  0501  02          	ld	(bc), a
1546  0502              l_player_move_walk_00142:
1547  0502  AF          	xor	a, a
1548  0503  F5          	push	af
1549  0504  33          	inc	sp
1550  0505  CD F4 08    	call	_player_check_floor
1551  0508  33          	inc	sp
1552  0509  7D          	ld	a, l
1553  050A  B7          	or	a, a
1554  050B  28 2A       	jr	Z,l_player_move_walk_00145
1555  050D  3E 01       	ld	a,0x01
1556  050F  F5          	push	af
1557  0510  33          	inc	sp
1558  0511  CD F4 08    	call	_player_check_floor
1559  0514  33          	inc	sp
1560  0515  7D          	ld	a, l
1561  0516  B7          	or	a, a
1562  0517  28 1E       	jr	Z,l_player_move_walk_00145
1563  0519  3A 0F 00    	ld	a,(_lin + 0x000f)
1564  051C  32 00 00    	ld	(_player_jump_top),a
1565  051F  ED 4B 00 00 	ld	bc,(_p_state)
1566  0523  0A          	ld	a,(bc)
1567  0524  F6 02       	or	a,0x02
1568  0526  02          	ld	(bc),a
1569  0527  ED 4B 00 00 	ld	bc,(_p_state)
1570  052B  0A          	ld	a,(bc)
1571  052C  E6 F7       	and	a,0xf7
1572  052E  02          	ld	(bc),a
1573  052F  ED 4B 00 00 	ld	bc,(_p_state)
1574  0533  0A          	ld	a,(bc)
1575  0534  E6 FB       	and	a,0xfb
1576  0536  02          	ld	(bc), a
1577  0537              l_player_move_walk_00145:
1578  0537  ED 4B 00 00 	ld	bc,(_p_state)
1579  053B  0A          	ld	a,(bc)
1580  053C  CB 67       	bit	4,a
1581  053E  28 24       	jr	Z,l_player_move_walk_00154
1582  0540  5F          	ld	e,a
1583  0541  3A 00 00    	ld	a,(_game_conveyor_dir)
1584  0544  3D          	dec	a
1585  0545  20 0E       	jr	NZ,l_player_move_walk_00148
1586  0547  7B          	ld	a, e
1587  0548  F6 08       	or	a,0x08
1588  054A  02          	ld	(bc), a
1589  054B  21 08 04    	ld	hl,0x0408
1590  054E  E5          	push	hl
1591  054F  CD D9 07    	call	_player_tile
1592  0552  F1          	pop	af
1593  0553  18 0C       	jr	l_player_move_walk_00149
1594  0555              l_player_move_walk_00148:
1595  0555  7B          	ld	a, e
1596  0556  F6 04       	or	a,0x04
1597  0558  02          	ld	(bc), a
1598  0559  21 08 04    	ld	hl,0x0408
1599  055C  E5          	push	hl
1600  055D  CD D9 07    	call	_player_tile
1601  0560  F1          	pop	af
1602  0561              l_player_move_walk_00149:
1603  0561  CD 00 00    	call	_spr_move_horizontal
1604  0564              l_player_move_walk_00154:
1605  0564  2E 00       	ld	l,0x00
1606  0566              l_player_move_walk_00155:
1607  0566  F1          	pop	af
1608  0567  DD E1       	pop	ix
1609  0569  C9          	ret
1610  056A              	SECTION code_compiler
1611  056A              ;	---------------------------------
1612  056A              ; Function player_collision
1613  056A              ; ---------------------------------
1614  056A              _player_collision:
1615  056A  ED 4B 00 00 	ld	bc,(_p_state)
1616  056E  0A          	ld	a,(bc)
1617  056F  E6 DF       	and	a,0xdf
1618  0571  02          	ld	(bc), a
1619  0572  21 0F 00    	ld	hl,+(_col + 0x000f)
1620  0575  56          	ld	d, (hl)
1621  0576  21 0F 00    	ld	hl,+(_lin + 0x000f)
1622  0579  5E          	ld	e, (hl)
1623  057A  D5          	push	de
1624  057B  CD 00 00    	call	_spr_calc_index
1625  057E  F1          	pop	af
1626  057F  22 00 00    	ld	(_index1),hl
1627  0582  01 00 00    	ld	bc,_scr_map
1628  0585  09          	add	hl,bc
1629  0586  7E          	ld	a,(hl)
1630  0587  32 00 00    	ld	(_v0),a
1631  058A  F5          	push	af
1632  058B  33          	inc	sp
1633  058C  CD 46 08    	call	_player_pick_deadly
1634  058F  33          	inc	sp
1635  0590  7D          	ld	a,l
1636  0591  32 00 00    	ld	(_v0),a
1637  0594  F5          	push	af
1638  0595  33          	inc	sp
1639  0596  CD 76 08    	call	_player_pick_exit
1640  0599  33          	inc	sp
1641  059A  7D          	ld	a,l
1642  059B  32 00 00    	ld	(_v0),a
1643  059E  2A 00 00    	ld	hl,(_index1)
1644  05A1  E5          	push	hl
1645  05A2  F5          	push	af
1646  05A3  33          	inc	sp
1647  05A4  CD 13 08    	call	_player_pick_item
1648  05A7  F1          	pop	af
1649  05A8  33          	inc	sp
1650  05A9  7D          	ld	a,l
1651  05AA  32 00 00    	ld	(_v0),a
1652  05AD  21 0F 00    	ld	hl,+(_col + 0x000f)
1653  05B0  56          	ld	d, (hl)
1654  05B1  3A 0F 00    	ld	a,(_lin + 0x000f)
1655  05B4  C6 0E       	add	a,0x0e
1656  05B6  5F          	ld	e, a
1657  05B7  D5          	push	de
1658  05B8  CD 00 00    	call	_spr_calc_index
1659  05BB  F1          	pop	af
1660  05BC  22 00 00    	ld	(_index1),hl
1661  05BF  01 00 00    	ld	bc,_scr_map
1662  05C2  09          	add	hl,bc
1663  05C3  7E          	ld	a,(hl)
1664  05C4  32 00 00    	ld	(_v0),a
1665  05C7  F5          	push	af
1666  05C8  33          	inc	sp
1667  05C9  CD 46 08    	call	_player_pick_deadly
1668  05CC  33          	inc	sp
1669  05CD  7D          	ld	a,l
1670  05CE  32 00 00    	ld	(_v0),a
1671  05D1  F5          	push	af
1672  05D2  33          	inc	sp
1673  05D3  CD 76 08    	call	_player_pick_exit
1674  05D6  33          	inc	sp
1675  05D7  7D          	ld	a,l
1676  05D8  32 00 00    	ld	(_v0),a
1677  05DB  2A 00 00    	ld	hl,(_index1)
1678  05DE  E5          	push	hl
1679  05DF  F5          	push	af
1680  05E0  33          	inc	sp
1681  05E1  CD 13 08    	call	_player_pick_item
1682  05E4  F1          	pop	af
1683  05E5  33          	inc	sp
1684  05E6  7D          	ld	a,l
1685  05E7  32 00 00    	ld	(_v0),a
1686  05EA  21 0F 00    	ld	hl,+(_col + 0x000f)
1687  05ED  56          	ld	d, (hl)
1688  05EE  14          	inc	d
1689  05EF  21 0F 00    	ld	hl,+(_lin + 0x000f)
1690  05F2  5E          	ld	e, (hl)
1691  05F3  D5          	push	de
1692  05F4  CD 00 00    	call	_spr_calc_index
1693  05F7  F1          	pop	af
1694  05F8  22 00 00    	ld	(_index1),hl
1695  05FB  01 00 00    	ld	bc,_scr_map
1696  05FE  09          	add	hl,bc
1697  05FF  7E          	ld	a,(hl)
1698  0600  32 00 00    	ld	(_v0),a
1699  0603  F5          	push	af
1700  0604  33          	inc	sp
1701  0605  CD 46 08    	call	_player_pick_deadly
1702  0608  33          	inc	sp
1703  0609  7D          	ld	a,l
1704  060A  32 00 00    	ld	(_v0),a
1705  060D  F5          	push	af
1706  060E  33          	inc	sp
1707  060F  CD 76 08    	call	_player_pick_exit
1708  0612  33          	inc	sp
1709  0613  7D          	ld	a,l
1710  0614  32 00 00    	ld	(_v0),a
1711  0617  2A 00 00    	ld	hl,(_index1)
1712  061A  E5          	push	hl
1713  061B  F5          	push	af
1714  061C  33          	inc	sp
1715  061D  CD 13 08    	call	_player_pick_item
1716  0620  F1          	pop	af
1717  0621  33          	inc	sp
1718  0622  7D          	ld	a,l
1719  0623  32 00 00    	ld	(_v0),a
1720  0626  21 0F 00    	ld	hl,+(_col + 0x000f)
1721  0629  56          	ld	d, (hl)
1722  062A  14          	inc	d
1723  062B  3A 0F 00    	ld	a,(_lin + 0x000f)
1724  062E  C6 0E       	add	a,0x0e
1725  0630  5F          	ld	e, a
1726  0631  D5          	push	de
1727  0632  CD 00 00    	call	_spr_calc_index
1728  0635  F1          	pop	af
1729  0636  22 00 00    	ld	(_index1),hl
1730  0639  01 00 00    	ld	bc,_scr_map
1731  063C  09          	add	hl,bc
1732  063D  7E          	ld	a,(hl)
1733  063E  32 00 00    	ld	(_v0),a
1734  0641  F5          	push	af
1735  0642  33          	inc	sp
1736  0643  CD 46 08    	call	_player_pick_deadly
1737  0646  33          	inc	sp
1738  0647  7D          	ld	a,l
1739  0648  32 00 00    	ld	(_v0),a
1740  064B  F5          	push	af
1741  064C  33          	inc	sp
1742  064D  CD 76 08    	call	_player_pick_exit
1743  0650  33          	inc	sp
1744  0651  7D          	ld	a,l
1745  0652  32 00 00    	ld	(_v0),a
1746  0655  2A 00 00    	ld	hl,(_index1)
1747  0658  E5          	push	hl
1748  0659  F5          	push	af
1749  065A  33          	inc	sp
1750  065B  CD 13 08    	call	_player_pick_item
1751  065E  F1          	pop	af
1752  065F  33          	inc	sp
1753  0660  7D          	ld	a,l
1754  0661  32 00 00    	ld	(_v0),a
1755  0664  21 00 00    	ld	hl,_i
1756  0667  36 00       	ld	(hl),0x00
1757  0669              l_player_collision_00110:
1758  0669  2A 00 00    	ld	hl,(_i)
1759  066C  26 00       	ld	h,0x00
1760  066E  01 00 00    	ld	bc,_class
1761  0671  09          	add	hl,bc
1762  0672  7E          	ld	a,(hl)
1763  0673  B7          	or	a,a
1764  0674  28 71       	jr	Z,l_player_collision_00111
1765  0676  2A 00 00    	ld	hl,(_i)
1766  0679  26 00       	ld	h,0x00
1767  067B  01 00 00    	ld	bc,_col
1768  067E  09          	add	hl,bc
1769  067F  4E          	ld	c, (hl)
1770  0680  06 00       	ld	b,0x00
1771  0682  ED 5B 0F 00 	ld	de,(_col + 0x000f)
1772  0686  50          	ld	d,b
1773  0687  79          	ld	a, c
1774  0688  93          	sub	a, e
1775  0689  6F          	ld	l, a
1776  068A  78          	ld	a, b
1777  068B  9A          	sbc	a, d
1778  068C  67          	ld	h, a
1779  068D  CD 00 00    	call	_abs_fastcall
1780  0690  7D          	ld	a,l
1781  0691  32 00 00    	ld	(_v0),a
1782  0694  D6 02       	sub	a,0x02
1783  0696  30 4F       	jr	NC,l_player_collision_00111
1784  0698  2A 00 00    	ld	hl,(_i)
1785  069B  26 00       	ld	h,0x00
1786  069D  01 00 00    	ld	bc,_lin
1787  06A0  09          	add	hl,bc
1788  06A1  4E          	ld	c,(hl)
1789  06A2  06 00       	ld	b,0x00
1790  06A4  ED 5B 0F 00 	ld	de,(_lin + 0x000f)
1791  06A8  50          	ld	d,b
1792  06A9  79          	ld	a, c
1793  06AA  93          	sub	a, e
1794  06AB  6F          	ld	l, a
1795  06AC  78          	ld	a, b
1796  06AD  9A          	sbc	a, d
1797  06AE  67          	ld	h, a
1798  06AF  CD 00 00    	call	_abs_fastcall
1799  06B2  7D          	ld	a,l
1800  06B3  32 00 00    	ld	(_v0),a
1801  06B6  D6 10       	sub	a,0x10
1802  06B8  30 2D       	jr	NC,l_player_collision_00111
1803  06BA  2A 00 00    	ld	hl,(_i)
1804  06BD  26 00       	ld	h,0x00
1805  06BF  01 00 00    	ld	bc,_colint
1806  06C2  09          	add	hl,bc
1807  06C3  4E          	ld	c,(hl)
1808  06C4  06 00       	ld	b,0x00
1809  06C6  ED 5B 0F 00 	ld	de,(_colint + 15)
1810  06CA  50          	ld	d,b
1811  06CB  79          	ld	a, c
1812  06CC  93          	sub	a, e
1813  06CD  6F          	ld	l, a
1814  06CE  78          	ld	a, b
1815  06CF  9A          	sbc	a, d
1816  06D0  67          	ld	h, a
1817  06D1  CD 00 00    	call	_abs_fastcall
1818  06D4  7D          	ld	a,l
1819  06D5  32 00 00    	ld	(_v0),a
1820  06D8  D6 02       	sub	a,0x02
1821  06DA  30 0B       	jr	NC,l_player_collision_00111
1822  06DC  21 FF FF    	ld	hl,0xffff
1823  06DF  22 00 00    	ld	(_player_kill_index),hl
1824  06E2  21 00 00    	ld	hl,_player_killed
1825  06E5  36 01       	ld	(hl),0x01
1826  06E7              l_player_collision_00111:
1827  06E7  21 00 00    	ld	hl,_i
1828  06EA  7E          	ld	a,(hl)
1829  06EB  3C          	inc	a
1830  06EC  77          	ld	(hl),a
1831  06ED  D6 0F       	sub	a,0x0f
1832  06EF  DA 69 06    	jp	C, l_player_collision_00110
1833  06F2  C9          	ret
1834  06F3              	SECTION code_compiler
1835  06F3              ;	---------------------------------
1836  06F3              ; Function player_get_floor
1837  06F3              ; ---------------------------------
1838  06F3              _player_get_floor:
1839  06F3  21 0F 00    	ld	hl,+(_col + 0x000f)
1840  06F6  56          	ld	d, (hl)
1841  06F7  3A 0F 00    	ld	a,(_lin + 0x000f)
1842  06FA  C6 10       	add	a,0x10
1843  06FC  5F          	ld	e, a
1844  06FD  D5          	push	de
1845  06FE  CD 00 00    	call	_spr_calc_index
1846  0701  F1          	pop	af
1847  0702  22 00 00    	ld	(_index1),hl
1848  0705  21 00 00    	ld	hl,_i
1849  0708  36 00       	ld	(hl),0x00
1850  070A  01 00 00    	ld	bc,_scr_map+0
1851  070D              l_player_get_floor_00113:
1852  070D  3A 00 00    	ld	a,(_i)
1853  0710  D6 10       	sub	a,0x10
1854  0712  30 6D       	jr	NC,l_player_get_floor_00115
1855  0714  2A 00 00    	ld	hl,(_index1)
1856  0717  09          	add	hl,bc
1857  0718  7E          	ld	a,(hl)
1858  0719  32 00 00    	ld	(_v0),a
1859  071C  ED 5B 00 00 	ld	de,(_index1)
1860  0720  13          	inc	de
1861  0721  69          	ld	l, c
1862  0722  60          	ld	h, b
1863  0723  19          	add	hl, de
1864  0724  7E          	ld	a, (hl)
1865  0725  32 00 00    	ld	(_v1),a
1866  0728  3A 00 00    	ld	a,(_v0)
1867  072B  B7          	or	a, a
1868  072C  28 13       	jr	Z,l_player_get_floor_00112
1869  072E  D6 08       	sub	a,0x08
1870  0730  28 0F       	jr	Z,l_player_get_floor_00112
1871  0732  3A 00 00    	ld	a,(_v0)
1872  0735  FE 05       	cp	a,0x05
1873  0737  28 08       	jr	Z,l_player_get_floor_00112
1874  0739  FE 06       	cp	a,0x06
1875  073B  28 04       	jr	Z,l_player_get_floor_00112
1876  073D  D6 1C       	sub	a,0x1c
1877  073F  38 29       	jr	C,l_player_get_floor_00102
1878  0741              l_player_get_floor_00112:
1879  0741  3A 00 00    	ld	a,(_v1)
1880  0744  B7          	or	a, a
1881  0745  28 13       	jr	Z,l_player_get_floor_00101
1882  0747  D6 08       	sub	a,0x08
1883  0749  28 0F       	jr	Z,l_player_get_floor_00101
1884  074B  3A 00 00    	ld	a,(_v1)
1885  074E  FE 05       	cp	a,0x05
1886  0750  28 08       	jr	Z,l_player_get_floor_00101
1887  0752  FE 06       	cp	a,0x06
1888  0754  28 04       	jr	Z,l_player_get_floor_00101
1889  0756  D6 1C       	sub	a,0x1c
1890  0758  38 10       	jr	C,l_player_get_floor_00102
1891  075A              l_player_get_floor_00101:
1892  075A  2A 00 00    	ld	hl,(_index1)
1893  075D  11 20 00    	ld	de,0x0020
1894  0760  19          	add	hl,de
1895  0761  22 00 00    	ld	(_index1),hl
1896  0764  21 00 00    	ld	hl,_i
1897  0767  34          	inc	(hl)
1898  0768  18 A3       	jr	l_player_get_floor_00113
1899  076A              l_player_get_floor_00102:
1900  076A  2A 00 00    	ld	hl,(_index1)
1901  076D  4D          	ld	c,l
1902  076E  5C          	ld	e,h
1903  076F  06 05       	ld	b,0x05
1904  0771  79          	ld	a,c
1905  0772              l_player_get_floor_00164:
1906  0772  CB 3B       	srl	e
1907  0774  1F          	rra
1908  0775  10 FB       	djnz	l_player_get_floor_00164
1909  0777  07          	rlca
1910  0778  07          	rlca
1911  0779  07          	rlca
1912  077A  E6 F8       	and	a,0xf8
1913  077C  C6 F0       	add	a,0xf0
1914  077E  6F          	ld	l, a
1915  077F  18 02       	jr	l_player_get_floor_00116
1916  0781              l_player_get_floor_00115:
1917  0781  2E 68       	ld	l,0x68
1918  0783              l_player_get_floor_00116:
1919  0783  C9          	ret
1920  0784              	SECTION code_compiler
1921  0784              ;	---------------------------------
1922  0784              ; Function player_check_input
1923  0784              ; ---------------------------------
1924  0784              _player_check_input:
1925  0784  21 00 00    	ld	hl,_dirs
1926  0787  CB 56       	bit	2,(hl)
1927  0789  28 06       	jr	Z,l_player_check_input_00102
1928  078B  CB 5E       	bit	3,(hl)
1929  078D  28 02       	jr	Z,l_player_check_input_00102
1930  078F  36 00       	ld	(hl),0x00
1931  0791              l_player_check_input_00102:
1932  0791  21 00 00    	ld	hl,_dirs
1933  0794  CB 56       	bit	2,(hl)
1934  0796  20 08       	jr	NZ,l_player_check_input_00104
1935  0798  CB 5E       	bit	3,(hl)
1936  079A  20 04       	jr	NZ,l_player_check_input_00104
1937  079C  CB 7E       	bit	7, (hl)
1938  079E  28 04       	jr	Z,l_player_check_input_00105
1939  07A0              l_player_check_input_00104:
1940  07A0  2E 01       	ld	l,0x01
1941  07A2  18 02       	jr	l_player_check_input_00108
1942  07A4              l_player_check_input_00105:
1943  07A4  2E 00       	ld	l,0x00
1944  07A6              l_player_check_input_00108:
1945  07A6  C9          	ret
1946  07A7              	SECTION code_compiler
1947  07A7              ;	---------------------------------
1948  07A7              ; Function player_1up
1949  07A7              ; ---------------------------------
1950  07A7              _player_1up:
1951  07A7  21 00 00    	ld	hl,_player_lives
1952  07AA  7E          	ld	a, (hl)
1953  07AB  D6 64       	sub	a,0x64
1954  07AD  D0          	ret	NC
1955  07AE  34          	inc	(hl)
1956  07AF  CD 00 00    	call	_spr_flatten
1957  07B2  21 00 00    	ld	hl,___str_0
1958  07B5  E5          	push	hl
1959  07B6  21 0C 0C    	ld	hl,0x0c0c
1960  07B9  E5          	push	hl
1961  07BA  CD 00 00    	call	_zx_print_str
1962  07BD  AF          	xor	a, a
1963  07BE  F5          	push	af
1964  07BF  33          	inc	sp
1965  07C0  21 19 00    	ld	hl,0x0019
1966  07C3  E5          	push	hl
1967  07C4  21 0C 11    	ld	hl,0x110c
1968  07C7  E5          	push	hl
1969  07C8  3E 0C       	ld	a,0x0c
1970  07CA  F5          	push	af
1971  07CB  33          	inc	sp
1972  07CC  CD 00 00    	call	_game_colour_message
1973  07CF  F1          	pop	af
1974  07D0  F1          	pop	af
1975  07D1  F1          	pop	af
1976  07D2  CD 00 00    	call	_game_update_stats
1977  07D5  CD 00 00    	call	_spr_unflattenP1
1978  07D8  C9          	ret
1979  07D9              	SECTION rodata_compiler
1980  0000              ___str_0:
1981  0000  31 20 55 50 21 
                        	DEFM "1 UP!"
1982  0005  00          	DEFB 0x00
1983  0006              	SECTION code_compiler
1984  07D9              ;	---------------------------------
1985  07D9              ; Function player_tile
1986  07D9              ; ---------------------------------
1987  07D9              _player_tile:
1988  07D9  CD 00 00    	call	___sdcc_enter_ix
1989  07DC  21 05 00    	ld	hl,0x0005
1990  07DF  39          	add	hl, sp
1991  07E0  EB          	ex	de,hl
1992  07E1  21 04 00    	ld	hl,0x0004
1993  07E4  39          	add	hl, sp
1994  07E5  D5          	push	de
1995  07E6  E5          	push	hl
1996  07E7  CD 00 00    	call	_spr_get_tile_dir
1997  07EA  F1          	pop	af
1998  07EB  F1          	pop	af
1999  07EC  7D          	ld	a,l
2000  07ED  32 0F 00    	ld	((_tile + 0x000f)),a
2001  07F0  DD E1       	pop	ix
2002  07F2  C9          	ret
2003  07F3              	SECTION code_compiler
2004  07F3              ;	---------------------------------
2005  07F3              ; Function player_score_add
2006  07F3              ; ---------------------------------
2007  07F3              _player_score_add:
2008  07F3  ED 4B 00 00 	ld	bc,(_player_score)
2009  07F7  09          	add	hl,bc
2010  07F8  22 00 00    	ld	(_player_score),hl
2011  07FB  3A 00 00    	ld	a,(_game_score_top)
2012  07FE  21 00 00    	ld	hl,_player_score
2013  0801  96          	sub	a, (hl)
2014  0802  3A 01 00    	ld	a,(_game_score_top + 1)
2015  0805  23          	inc	hl
2016  0806  9E          	sbc	a, (hl)
2017  0807  D2 00 00    	jp	NC,_game_print_score
2018  080A  2A 00 00    	ld	hl,(_player_score)
2019  080D  22 00 00    	ld	(_game_score_top),hl
2020  0810  C3 00 00    	jp  _game_print_score
2021  0813              	SECTION code_compiler
2022  0813              ;	---------------------------------
2023  0813              ; Function player_pick_item
2024  0813              ; ---------------------------------
2025  0813              _player_pick_item:
2026  0813  CD 00 00    	call	___sdcc_enter_ix
2027  0816  DD 7E 04    	ld	a,(ix+4)
2028  0819  D6 08       	sub	a,0x08
2029  081B  20 23       	jr	NZ,l_player_pick_item_00102
2030  081D  2E 06       	ld	l,0x06
2031  081F  CD 00 00    	call	_zx_border_fastcall
2032  0822  3E 00       	ld	a, +((_scr_map) & 0xFF)
2033  0824  DD 86 05    	add	a,(ix+5)
2034  0827  4F          	ld	c, a
2035  0828  3E 00       	ld	a, +((_scr_map) / 256)
2036  082A  DD 8E 06    	adc	a,(ix+6)
2037  082D  47          	ld	b, a
2038  082E  AF          	xor	a, a
2039  082F  02          	ld	(bc), a
2040  0830  21 00 00    	ld	hl,_player_coins
2041  0833  34          	inc	(hl)
2042  0834  CD 00 00    	call	_audio_coin
2043  0837  2E 07       	ld	l,0x07
2044  0839  CD 00 00    	call	_zx_border_fastcall
2045  083C  2E 00       	ld	l,0x00
2046  083E  18 03       	jr	l_player_pick_item_00103
2047  0840              l_player_pick_item_00102:
2048  0840  DD 6E 04    	ld	l,(ix+4)
2049  0843              l_player_pick_item_00103:
2050  0843  DD E1       	pop	ix
2051  0845  C9          	ret
2052  0846              	SECTION code_compiler
2053  0846              ;	---------------------------------
2054  0846              ; Function player_pick_deadly
2055  0846              ; ---------------------------------
2056  0846              _player_pick_deadly:
2057  0846  CD 00 00    	call	___sdcc_enter_ix
2058  0849  DD 7E 04    	ld	a,(ix+4)
2059  084C  D6 05       	sub	a,0x05
2060  084E  28 07       	jr	Z,l_player_pick_deadly_00101
2061  0850  DD 7E 04    	ld	a,(ix+4)
2062  0853  D6 06       	sub	a,0x06
2063  0855  20 19       	jr	NZ,l_player_pick_deadly_00102
2064  0857              l_player_pick_deadly_00101:
2065  0857  21 00 00    	ld	hl,_player_killed
2066  085A  36 01       	ld	(hl),0x01
2067  085C  2A 00 00    	ld	hl,(_index1)
2068  085F  22 00 00    	ld	(_player_kill_index),hl
2069  0862  21 00 00    	ld	hl,_v0
2070  0865  36 00       	ld	(hl),0x00
2071  0867  21 00 00    	ld	hl,_v1
2072  086A  36 00       	ld	(hl),0x00
2073  086C  2E 00       	ld	l,0x00
2074  086E  18 03       	jr	l_player_pick_deadly_00104
2075  0870              l_player_pick_deadly_00102:
2076  0870  DD 6E 04    	ld	l,(ix+4)
2077  0873              l_player_pick_deadly_00104:
2078  0873  DD E1       	pop	ix
2079  0875  C9          	ret
2080  0876              	SECTION code_compiler
2081  0876              ;	---------------------------------
2082  0876              ; Function player_pick_exit
2083  0876              ; ---------------------------------
2084  0876              _player_pick_exit:
2085  0876  CD 00 00    	call	___sdcc_enter_ix
2086  0879  DD 7E 04    	ld	a,(ix+4)
2087  087C  D6 1C       	sub	a,0x1c
2088  087E  38 0C       	jr	C,l_player_pick_exit_00102
2089  0880  ED 4B 00 00 	ld	bc,(_p_state)
2090  0884  0A          	ld	a,(bc)
2091  0885  F6 20       	or	a,0x20
2092  0887  02          	ld	(bc), a
2093  0888  2E 00       	ld	l,0x00
2094  088A  18 03       	jr	l_player_pick_exit_00103
2095  088C              l_player_pick_exit_00102:
2096  088C  DD 6E 04    	ld	l,(ix+4)
2097  088F              l_player_pick_exit_00103:
2098  088F  DD E1       	pop	ix
2099  0891  C9          	ret
2100  0892              	SECTION code_compiler
2101  0892              ;	---------------------------------
2102  0892              ; Function player_check_ceil
2103  0892              ; ---------------------------------
2104  0892              _player_check_ceil:
2105  0892  CD 00 00    	call	___sdcc_enter_ix
2106  0895  3A 0F 00    	ld	a,(_colint + 0x000f)
2107  0898  D6 03       	sub	a,0x03
2108  089A  30 18       	jr	NC,l_player_check_ceil_00102
2109  089C  DD 66 05    	ld	h,(ix+5)
2110  089F  DD 6E 04    	ld	l,(ix+4)
2111  08A2  E5          	push	hl
2112  08A3  CD 00 00    	call	_spr_calc_index
2113  08A6  F1          	pop	af
2114  08A7  22 00 00    	ld	(_index1),hl
2115  08AA  01 00 00    	ld	bc,_scr_map
2116  08AD  09          	add	hl,bc
2117  08AE  7E          	ld	a,(hl)
2118  08AF  32 00 00    	ld	(_v0),a
2119  08B2  18 05       	jr	l_player_check_ceil_00103
2120  08B4              l_player_check_ceil_00102:
2121  08B4  21 00 00    	ld	hl,_v0
2122  08B7  36 00       	ld	(hl),0x00
2123  08B9              l_player_check_ceil_00103:
2124  08B9  3A 0F 00    	ld	a,(_colint + 0x000f)
2125  08BC  B7          	or	a, a
2126  08BD  28 19       	jr	Z,l_player_check_ceil_00105
2127  08BF  DD 46 05    	ld	b,(ix+5)
2128  08C2  04          	inc	b
2129  08C3  DD 4E 04    	ld	c,(ix+4)
2130  08C6  C5          	push	bc
2131  08C7  CD 00 00    	call	_spr_calc_index
2132  08CA  F1          	pop	af
2133  08CB  22 00 00    	ld	(_index1),hl
2134  08CE  01 00 00    	ld	bc,_scr_map
2135  08D1  09          	add	hl,bc
2136  08D2  7E          	ld	a,(hl)
2137  08D3  32 00 00    	ld	(_v1),a
2138  08D6  18 05       	jr	l_player_check_ceil_00106
2139  08D8              l_player_check_ceil_00105:
2140  08D8  21 00 00    	ld	hl,_v1
2141  08DB  36 00       	ld	(hl),0x00
2142  08DD              l_player_check_ceil_00106:
2143  08DD  3A 00 00    	ld	a,(_v0)
2144  08E0  D6 03       	sub	a,0x03
2145  08E2  28 0B       	jr	Z,l_player_check_ceil_00108
2146  08E4  3A 00 00    	ld	a,(_v1)
2147  08E7  D6 03       	sub	a,0x03
2148  08E9  28 04       	jr	Z,l_player_check_ceil_00108
2149  08EB  2E 01       	ld	l,0x01
2150  08ED  18 02       	jr	l_player_check_ceil_00110
2151  08EF              l_player_check_ceil_00108:
2152  08EF  2E 00       	ld	l,0x00
2153  08F1              l_player_check_ceil_00110:
2154  08F1  DD E1       	pop	ix
2155  08F3  C9          	ret
2156  08F4              	SECTION code_compiler
2157  08F4              ;	---------------------------------
2158  08F4              ; Function player_check_floor
2159  08F4              ; ---------------------------------
2160  08F4              _player_check_floor:
2161  08F4  CD 00 00    	call	___sdcc_enter_ix
2162  08F7  F5          	push	af
2163  08F8  F5          	push	af
2164  08F9  3A 0F 00    	ld	a,(_col + 0x000f)
2165  08FC  DD 86 04    	add	a,(ix+4)
2166  08FF  57          	ld	d, a
2167  0900  3A 0F 00    	ld	a,(_lin + 0x000f)
2168  0903  C6 10       	add	a,0x10
2169  0905  5F          	ld	e, a
2170  0906  D5          	push	de
2171  0907  CD 00 00    	call	_spr_calc_index
2172  090A  F1          	pop	af
2173  090B  22 00 00    	ld	(_index1),hl
2174  090E  3E 00       	ld	a,+((_scr_map) & 0xFF)
2175  0910  21 00 00    	ld	hl,_index1
2176  0913  86          	add	a, (hl)
2177  0914  DD 77 FD    	ld	(ix-3),a
2178  0917  3E 00       	ld	a, +((_scr_map) / 256)
2179  0919  23          	inc	hl
2180  091A  8E          	adc	a, (hl)
2181  091B  DD 6E FD    	ld	l,(ix-3)
2182  091E  DD 77 FE    	ld	(ix-2),a
2183  0921  67          	ld	h,a
2184  0922  7E          	ld	a, (hl)
2185  0923  DD 77 FC    	ld	(ix-4),a
2186  0926  21 00 00    	ld	hl,_v0
2187  0929  77          	ld	(hl),a
2188  092A  DD 7E 04    	ld	a,(ix+4)
2189  092D  B7          	or	a, a
2190  092E  20 0A       	jr	NZ,l_player_check_floor_00102
2191  0930  3A 0F 00    	ld	a,(_colint + 0x000f)
2192  0933  D6 03       	sub	a,0x03
2193  0935  20 03       	jr	NZ,l_player_check_floor_00102
2194  0937  77          	ld	(hl),a
2195  0938  18 06       	jr	l_player_check_floor_00103
2196  093A              l_player_check_floor_00102:
2197  093A  DD 7E FC    	ld	a,(ix-4)
2198  093D  32 00 00    	ld	(_v0),a
2199  0940              l_player_check_floor_00103:
2200  0940  DD 7E 04    	ld	a,(ix+4)
2201  0943  3D          	dec	a
2202  0944  20 0D       	jr	NZ,l_player_check_floor_00106
2203  0946  3A 0F 00    	ld	a,(_colint + 0x000f)
2204  0949  B7          	or	a, a
2205  094A  20 07       	jr	NZ,l_player_check_floor_00106
2206  094C  21 00 00    	ld	hl,_v0
2207  094F  36 00       	ld	(hl),0x00
2208  0951  18 06       	jr	l_player_check_floor_00107
2209  0953              l_player_check_floor_00106:
2210  0953  DD 7E FC    	ld	a,(ix-4)
2211  0956  32 00 00    	ld	(_v0),a
2212  0959              l_player_check_floor_00107:
2213  0959  3A 00 00    	ld	a,(_v0)
2214  095C  B7          	or	a, a
2215  095D  28 17       	jr	Z,l_player_check_floor_00109
2216  095F  D6 08       	sub	a,0x08
2217  0961  28 13       	jr	Z,l_player_check_floor_00109
2218  0963  3A 00 00    	ld	a,(_v0)
2219  0966  FE 05       	cp	a,0x05
2220  0968  28 0C       	jr	Z,l_player_check_floor_00109
2221  096A  FE 06       	cp	a,0x06
2222  096C  28 08       	jr	Z,l_player_check_floor_00109
2223  096E  FE 1C       	cp	a,0x1c
2224  0970  28 04       	jr	Z,l_player_check_floor_00109
2225  0972  D6 1D       	sub	a,0x1d
2226  0974  20 05       	jr	NZ,l_player_check_floor_00110
2227  0976              l_player_check_floor_00109:
2228  0976  2E 01       	ld	l,0x01
2229  0978  C3 1D 0A    	jp	l_player_check_floor_00125
2230  097B              l_player_check_floor_00110:
2231  097B  3A 00 00    	ld	a,(_v0)
2232  097E  D6 02       	sub	a,0x02
2233  0980  20 04       	jr	NZ,l_player_check_floor_00189
2234  0982  3E 01       	ld	a,0x01
2235  0984  18 01       	jr	l_player_check_floor_00190
2236  0986              l_player_check_floor_00189:
2237  0986  AF          	xor	a,a
2238  0987              l_player_check_floor_00190:
2239  0987  DD 77 FF    	ld	(ix-1),a
2240  098A  B7          	or	a, a
2241  098B  20 0F       	jr	NZ,l_player_check_floor_00121
2242  098D  21 00 00    	ld	hl,_v0
2243  0990  7E          	ld	a, (hl)
2244  0991  D6 09       	sub	a,0x09
2245  0993  DA 1B 0A    	jp	C, l_player_check_floor_00122
2246  0996  3E 0B       	ld	a,0x0b
2247  0998  96          	sub	a, (hl)
2248  0999  DA 1B 0A    	jp	C, l_player_check_floor_00122
2249  099C              l_player_check_floor_00121:
2250  099C  3A 0F 00    	ld	a,(_col + 0x000f)
2251  099F  DD 86 04    	add	a,(ix+4)
2252  09A2  32 00 00    	ld	(_s_col1),a
2253  09A5  DD 7E FF    	ld	a,(ix-1)
2254  09A8  B7          	or	a, a
2255  09A9  28 0A       	jr	Z,l_player_check_floor_00119
2256  09AB  DD 6E FD    	ld	l,(ix-3)
2257  09AE  DD 66 FE    	ld	h,(ix-2)
2258  09B1  36 09       	ld	(hl),0x09
2259  09B3  18 33       	jr	l_player_check_floor_00120
2260  09B5              l_player_check_floor_00119:
2261  09B5  DD 7E FC    	ld	a,(ix-4)
2262  09B8  3C          	inc	a
2263  09B9  DD 77 FF    	ld	(ix-1),a
2264  09BC  DD 6E FD    	ld	l,(ix-3)
2265  09BF  DD 66 FE    	ld	h,(ix-2)
2266  09C2  DD 7E FF    	ld	a,(ix-1)
2267  09C5  77          	ld	(hl), a
2268  09C6  3E 00       	ld	a, +((_scr_map) & 0xFF)
2269  09C8  21 00 00    	ld	hl,_index1
2270  09CB  86          	add	a, (hl)
2271  09CC  DD 77 FD    	ld	(ix-3),a
2272  09CF  3E 00       	ld	a, +((_scr_map) / 256)
2273  09D1  23          	inc	hl
2274  09D2  8E          	adc	a, (hl)
2275  09D3  DD 6E FD    	ld	l,(ix-3)
2276  09D6  DD 77 FE    	ld	(ix-2),a
2277  09D9  67          	ld	h,a
2278  09DA  4E          	ld	c, (hl)
2279  09DB  3E 0B       	ld	a,0x0b
2280  09DD  91          	sub	a, c
2281  09DE  30 08       	jr	NC,l_player_check_floor_00120
2282  09E0  DD 6E FD    	ld	l,(ix-3)
2283  09E3  DD 66 FE    	ld	h,(ix-2)
2284  09E6  36 00       	ld	(hl),0x00
2285  09E8              l_player_check_floor_00120:
2286  09E8  2A 0F 00    	ld	hl,(_lin + 0x000f)
2287  09EB  26 00       	ld	h,0x00
2288  09ED  01 10 00    	ld	bc,0x0010
2289  09F0  09          	add	hl,bc
2290  09F1  06 03       	ld	b,0x03
2291  09F3              l_player_check_floor_00191:
2292  09F3  CB 2C       	sra	h
2293  09F5  CB 1D       	rr	l
2294  09F7  10 FA       	djnz	l_player_check_floor_00191
2295  09F9  2C          	inc	l
2296  09FA  7D          	ld	a, l
2297  09FB  07          	rlca
2298  09FC  07          	rlca
2299  09FD  07          	rlca
2300  09FE  E6 F8       	and	a,0xf8
2301  0A00  32 00 00    	ld	(_s_row1),a
2302  0A03  01 00 00    	ld	bc,_scr_map
2303  0A06  2A 00 00    	ld	hl,(_index1)
2304  0A09  09          	add	hl,bc
2305  0A0A  46          	ld	b, (hl)
2306  0A0B  3A 00 00    	ld	a,(_s_col1)
2307  0A0E  F5          	push	af
2308  0A0F  33          	inc	sp
2309  0A10  3A 00 00    	ld	a,(_s_row1)
2310  0A13  48          	ld	c,b
2311  0A14  47          	ld	b,a
2312  0A15  C5          	push	bc
2313  0A16  CD 00 00    	call	_spr_draw8
2314  0A19  F1          	pop	af
2315  0A1A  33          	inc	sp
2316  0A1B              l_player_check_floor_00122:
2317  0A1B  2E 00       	ld	l,0x00
2318  0A1D              l_player_check_floor_00125:
2319  0A1D  DD F9       	ld	sp, ix
2320  0A1F  DD E1       	pop	ix
2321  0A21  C9          	ret
2322  0A22              	SECTION code_compiler
2323  0A22              ;	---------------------------------
2324  0A22              ; Function player_lost_life
2325  0A22              ; ---------------------------------
2326  0A22              _player_lost_life:
2327  0A22  CD 00 00    	call	___sdcc_enter_ix
2328  0A25  F5          	push	af
2329  0A26  CD 00 00    	call	_ay_reset
2330  0A29  CD 00 00    	call	_audio_explosion
2331  0A2C  CD 00 00    	call	_game_update_stats
2332  0A2F  4F          	ld	c, a
2333  0A30              l_player_lost_life_00104:
2334  0A30  79          	ld	a, c
2335  0A31  D6 20       	sub	a,0x20
2336  0A33  30 76       	jr	NC,l_player_lost_life_00106
2337  0A35  21 00 00    	ld	hl,_player_kill_index
2338  0A38  7E          	ld	a, (hl)
2339  0A39  3C          	inc	a
2340  0A3A  20 05       	jr	NZ,l_player_lost_life_00135
2341  0A3C  23          	inc	hl
2342  0A3D  7E          	ld	a, (hl)
2343  0A3E  3C          	inc	a
2344  0A3F  28 3D       	jr	Z,l_player_lost_life_00102
2345  0A41              l_player_lost_life_00135:
2346  0A41  2A 00 00    	ld	hl,(_player_kill_index)
2347  0A44  22 00 00    	ld	(_index1),hl
2348  0A47  21 0F 00    	ld	hl,+(_col + 0x000f)
2349  0A4A  56          	ld	d, (hl)
2350  0A4B  3A 0F 00    	ld	a,(_lin + 0x000f)
2351  0A4E  C6 10       	add	a,0x10
2352  0A50  5F          	ld	e, a
2353  0A51  3A 0F 00    	ld	a,(_tile + 0x000f)
2354  0A54  DD 77 FF    	ld	(ix-1),a
2355  0A57  2A 0F 00    	ld	hl,(_colint + 0x000f)
2356  0A5A  DD 7E FF    	ld	a,(ix-1)
2357  0A5D  85          	add	a, l
2358  0A5E  47          	ld	b, a
2359  0A5F  C5          	push	bc
2360  0A60  D5          	push	de
2361  0A61  0E 07       	ld	c,0x07
2362  0A63  C5          	push	bc
2363  0A64  CD 00 00    	call	_NIRVANAP_spriteT_callee
2364  0A67  C1          	pop	bc
2365  0A68  76          	halt
2366  0A69  C5          	push	bc
2367  0A6A  21 00 00    	ld	hl,0x0000
2368  0A6D  E5          	push	hl
2369  0A6E  2E 07       	ld	l,0x07
2370  0A70  E5          	push	hl
2371  0A71  CD 00 00    	call	_NIRVANAP_spriteT_callee
2372  0A74  C1          	pop	bc
2373  0A75  76          	halt
2374  0A76  C5          	push	bc
2375  0A77  CD 00 00    	call	_game_cell_paint_index
2376  0A7A  C1          	pop	bc
2377  0A7B  76          	halt
2378  0A7C  18 2A       	jr	l_player_lost_life_00103
2379  0A7E              l_player_lost_life_00102:
2380  0A7E  21 0F 00    	ld	hl,+(_col + 0x000f)
2381  0A81  46          	ld	b, (hl)
2382  0A82  3A 0F 00    	ld	a,(_lin + 0x000f)
2383  0A85  C6 10       	add	a,0x10
2384  0A87  57          	ld	d, a
2385  0A88  3A 0F 00    	ld	a,(_tile + 0x000f)
2386  0A8B  2A 0F 00    	ld	hl, (_colint + 0x000f)
2387  0A8E  85          	add	a, l
2388  0A8F  C5          	push	bc
2389  0A90  4A          	ld	c, d
2390  0A91  C5          	push	bc
2391  0A92  57          	ld	d,a
2392  0A93  1E 07       	ld	e,0x07
2393  0A95  D5          	push	de
2394  0A96  CD 00 00    	call	_NIRVANAP_spriteT_callee
2395  0A99  C1          	pop	bc
2396  0A9A  76          	halt
2397  0A9B  C5          	push	bc
2398  0A9C  21 00 00    	ld	hl,0x0000
2399  0A9F  E5          	push	hl
2400  0AA0  2E 07       	ld	l,0x07
2401  0AA2  E5          	push	hl
2402  0AA3  CD 00 00    	call	_NIRVANAP_spriteT_callee
2403  0AA6  C1          	pop	bc
2404  0AA7  76          	halt
2405  0AA8              l_player_lost_life_00103:
2406  0AA8  0C          	inc	c
2407  0AA9  18 85       	jr	l_player_lost_life_00104
2408  0AAB              l_player_lost_life_00106:
2409  0AAB  21 00 00    	ld	hl,_game_playing
2410  0AAE  36 00       	ld	(hl),0x00
2411  0AB0  3A 0F 00    	ld	a,(_lin + 0x000f)
2412  0AB3  32 00 00    	ld	(_s_lin0),a
2413  0AB6  3A 0F 00    	ld	a,(_col + 0x000f)
2414  0AB9  32 00 00    	ld	(_s_col0),a
2415  0ABC  3A 00 00    	ld	a,(_game_inf_lives)
2416  0ABF  B7          	or	a, a
2417  0AC0  20 04       	jr	NZ,l_player_lost_life_00108
2418  0AC2  21 00 00    	ld	hl,_player_lives
2419  0AC5  35          	dec	(hl)
2420  0AC6              l_player_lost_life_00108:
2421  0AC6  3A 00 00    	ld	a,(_player_lives)
2422  0AC9  B7          	or	a, a
2423  0ACA  28 0A       	jr	Z,l_player_lost_life_00110
2424  0ACC  CD 00 00    	call	_game_round_init
2425  0ACF  21 00 00    	ld	hl,_game_playing
2426  0AD2  36 01       	ld	(hl),0x01
2427  0AD4  18 0A       	jr	l_player_lost_life_00112
2428  0AD6              l_player_lost_life_00110:
2429  0AD6  21 00 00    	ld	hl,_player_lives
2430  0AD9  36 00       	ld	(hl),0x00
2431  0ADB  21 00 00    	ld	hl,_game_over
2432  0ADE  36 01       	ld	(hl),0x01
2433  0AE0              l_player_lost_life_00112:
2434  0AE0  F1          	pop	af
2435  0AE1  DD E1       	pop	ix
2436  0AE3  C9          	ret
2437  0AE4              	SECTION IGNORE
2438  0000              
