1     0000              MODULE game_sprite_c
2     0000              LINE -1, "game_sprite.c"
-1    0000              
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.5 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _spr_calc_index
204   0000              	GLOBAL _spr_chktime
205   0000              	GLOBAL _spr_set_up
206   0000              	GLOBAL _spr_set_down
207   0000              	GLOBAL _spr_set_left
208   0000              	GLOBAL _spr_set_right
209   0000              	GLOBAL _spr_move_up
210   0000              	GLOBAL _spr_move_down
211   0000              	GLOBAL _spr_move_horizontal
212   0000              	GLOBAL _spr_move_right_f
213   0000              	GLOBAL _spr_move_right
214   0000              	GLOBAL _spr_move_left
215   0000              	GLOBAL _spr_move_left_f
216   0000              	GLOBAL _spr_clear_scr
217   0000              	GLOBAL _spr_page_map
218   0000              	GLOBAL _spr_paint_player
219   0000              	GLOBAL _spr_paint
220   0000              	GLOBAL _spr_destroy
221   0000              	GLOBAL _spr_tile
222   0000              	GLOBAL _spr_tile_dir
223   0000              	GLOBAL _spr_back_repaint
224   0000              	GLOBAL _spr_init_effects
225   0000              	GLOBAL _spr_add_anim
226   0000              	GLOBAL _spr_play_anim
227   0000              	GLOBAL _spr_turn_horizontal
228   0000              	GLOBAL _spr_btile_paint_back
229   0000              	GLOBAL _spr_flatten
230   0000              	GLOBAL _spr_unflattenP1
231   0000              ;--------------------------------------------------------
232   0000              ; Externals used
233   0000              ;--------------------------------------------------------
234   0000              	GLOBAL _ulltoa_callee
235   0000              	GLOBAL _ulltoa
236   0000              	GLOBAL _strtoull_callee
237   0000              	GLOBAL _strtoull
238   0000              	GLOBAL _strtoll_callee
239   0000              	GLOBAL _strtoll
240   0000              	GLOBAL _lltoa_callee
241   0000              	GLOBAL _lltoa
242   0000              	GLOBAL _llabs_callee
243   0000              	GLOBAL _llabs
244   0000              	GLOBAL __lldivu__callee
245   0000              	GLOBAL __lldivu_
246   0000              	GLOBAL __lldiv__callee
247   0000              	GLOBAL __lldiv_
248   0000              	GLOBAL _atoll_callee
249   0000              	GLOBAL _atoll
250   0000              	GLOBAL _realloc_unlocked_callee
251   0000              	GLOBAL _realloc_unlocked
252   0000              	GLOBAL _malloc_unlocked_fastcall
253   0000              	GLOBAL _malloc_unlocked
254   0000              	GLOBAL _free_unlocked_fastcall
255   0000              	GLOBAL _free_unlocked
256   0000              	GLOBAL _calloc_unlocked_callee
257   0000              	GLOBAL _calloc_unlocked
258   0000              	GLOBAL _aligned_alloc_unlocked_callee
259   0000              	GLOBAL _aligned_alloc_unlocked
260   0000              	GLOBAL _realloc_callee
261   0000              	GLOBAL _realloc
262   0000              	GLOBAL _malloc_fastcall
263   0000              	GLOBAL _malloc
264   0000              	GLOBAL _free_fastcall
265   0000              	GLOBAL _free
266   0000              	GLOBAL _calloc_callee
267   0000              	GLOBAL _calloc
268   0000              	GLOBAL _aligned_alloc_callee
269   0000              	GLOBAL _aligned_alloc
270   0000              	GLOBAL _utoa_callee
271   0000              	GLOBAL _utoa
272   0000              	GLOBAL _ultoa_callee
273   0000              	GLOBAL _ultoa
274   0000              	GLOBAL _system_fastcall
275   0000              	GLOBAL _system
276   0000              	GLOBAL _strtoul_callee
277   0000              	GLOBAL _strtoul
278   0000              	GLOBAL _strtol_callee
279   0000              	GLOBAL _strtol
280   0000              	GLOBAL _strtof_callee
281   0000              	GLOBAL _strtof
282   0000              	GLOBAL _strtod_callee
283   0000              	GLOBAL _strtod
284   0000              	GLOBAL _srand_fastcall
285   0000              	GLOBAL _srand
286   0000              	GLOBAL _rand
287   0000              	GLOBAL _quick_exit_fastcall
288   0000              	GLOBAL _quick_exit
289   0000              	GLOBAL _qsort_callee
290   0000              	GLOBAL _qsort
291   0000              	GLOBAL _ltoa_callee
292   0000              	GLOBAL _ltoa
293   0000              	GLOBAL _labs_fastcall
294   0000              	GLOBAL _labs
295   0000              	GLOBAL _itoa_callee
296   0000              	GLOBAL _itoa
297   0000              	GLOBAL _ftoh_callee
298   0000              	GLOBAL _ftoh
299   0000              	GLOBAL _ftog_callee
300   0000              	GLOBAL _ftog
301   0000              	GLOBAL _ftoe_callee
302   0000              	GLOBAL _ftoe
303   0000              	GLOBAL _ftoa_callee
304   0000              	GLOBAL _ftoa
305   0000              	GLOBAL _exit_fastcall
306   0000              	GLOBAL _exit
307   0000              	GLOBAL _dtoh_callee
308   0000              	GLOBAL _dtoh
309   0000              	GLOBAL _dtog_callee
310   0000              	GLOBAL _dtog
311   0000              	GLOBAL _dtoe_callee
312   0000              	GLOBAL _dtoe
313   0000              	GLOBAL _dtoa_callee
314   0000              	GLOBAL _dtoa
315   0000              	GLOBAL _bsearch_callee
316   0000              	GLOBAL _bsearch
317   0000              	GLOBAL _atol_fastcall
318   0000              	GLOBAL _atol
319   0000              	GLOBAL _atoi_fastcall
320   0000              	GLOBAL _atoi
321   0000              	GLOBAL _atof_fastcall
322   0000              	GLOBAL _atof
323   0000              	GLOBAL _atexit_fastcall
324   0000              	GLOBAL _atexit
325   0000              	GLOBAL _at_quick_exit_fastcall
326   0000              	GLOBAL _at_quick_exit
327   0000              	GLOBAL _abs_fastcall
328   0000              	GLOBAL _abs
329   0000              	GLOBAL _abort
330   0000              	GLOBAL __strtou__callee
331   0000              	GLOBAL __strtou_
332   0000              	GLOBAL __strtoi__callee
333   0000              	GLOBAL __strtoi_
334   0000              	GLOBAL __random_uniform_xor_8__fastcall
335   0000              	GLOBAL __random_uniform_xor_8_
336   0000              	GLOBAL __random_uniform_xor_32__fastcall
337   0000              	GLOBAL __random_uniform_xor_32_
338   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
339   0000              	GLOBAL __random_uniform_cmwc_8_
340   0000              	GLOBAL __shellsort__callee
341   0000              	GLOBAL __shellsort_
342   0000              	GLOBAL __quicksort__callee
343   0000              	GLOBAL __quicksort_
344   0000              	GLOBAL __insertion_sort__callee
345   0000              	GLOBAL __insertion_sort_
346   0000              	GLOBAL __ldivu__callee
347   0000              	GLOBAL __ldivu_
348   0000              	GLOBAL __ldiv__callee
349   0000              	GLOBAL __ldiv_
350   0000              	GLOBAL __divu__callee
351   0000              	GLOBAL __divu_
352   0000              	GLOBAL __div__callee
353   0000              	GLOBAL __div_
354   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
355   0000              	GLOBAL _NIRVANAP_drawTW_raw
356   0000              	GLOBAL _NIRVANAP_drawTW_callee
357   0000              	GLOBAL _NIRVANAP_drawTW
358   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
359   0000              	GLOBAL _NIRVANAP_drawW_raw
360   0000              	GLOBAL _NIRVANAP_drawW_callee
361   0000              	GLOBAL _NIRVANAP_drawW
362   0000              	GLOBAL _NIRVANAP_spriteT_callee
363   0000              	GLOBAL _NIRVANAP_spriteT
364   0000              	GLOBAL _NIRVANAP_fillC_callee
365   0000              	GLOBAL _NIRVANAP_fillC
366   0000              	GLOBAL _NIRVANAP_readC_callee
367   0000              	GLOBAL _NIRVANAP_readC
368   0000              	GLOBAL _NIRVANAP_paintC_callee
369   0000              	GLOBAL _NIRVANAP_paintC
370   0000              	GLOBAL _NIRVANAP_printC_callee
371   0000              	GLOBAL _NIRVANAP_printC
372   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
373   0000              	GLOBAL _NIRVANAP_fillT_raw
374   0000              	GLOBAL _NIRVANAP_fillT_callee
375   0000              	GLOBAL _NIRVANAP_fillT
376   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
377   0000              	GLOBAL _NIRVANAP_drawT_raw
378   0000              	GLOBAL _NIRVANAP_drawT_callee
379   0000              	GLOBAL _NIRVANAP_drawT
380   0000              	GLOBAL _NIRVANAP_stop
381   0000              	GLOBAL _NIRVANAP_start
382   0000              	GLOBAL _zx_print_str
383   0000              	GLOBAL _zx_print_int
384   0000              	GLOBAL _zx_print_chr
385   0000              	GLOBAL _zx_print_bonus_time
386   0000              	GLOBAL _zx_isr
387   0000              	GLOBAL _z80_otdr_callee
388   0000              	GLOBAL _z80_otdr
389   0000              	GLOBAL _z80_otir_callee
390   0000              	GLOBAL _z80_otir
391   0000              	GLOBAL _z80_outp_callee
392   0000              	GLOBAL _z80_outp
393   0000              	GLOBAL _z80_indr_callee
394   0000              	GLOBAL _z80_indr
395   0000              	GLOBAL _z80_inir_callee
396   0000              	GLOBAL _z80_inir
397   0000              	GLOBAL _z80_inp_fastcall
398   0000              	GLOBAL _z80_inp
399   0000              	GLOBAL _z80_set_int_state_fastcall
400   0000              	GLOBAL _z80_set_int_state
401   0000              	GLOBAL _z80_get_int_state
402   0000              	GLOBAL _z80_delay_tstate_fastcall
403   0000              	GLOBAL _z80_delay_tstate
404   0000              	GLOBAL _z80_delay_ms_fastcall
405   0000              	GLOBAL _z80_delay_ms
406   0000              	GLOBAL _im2_remove_generic_callback_callee
407   0000              	GLOBAL _im2_remove_generic_callback
408   0000              	GLOBAL _im2_prepend_generic_callback_callee
409   0000              	GLOBAL _im2_prepend_generic_callback
410   0000              	GLOBAL _im2_append_generic_callback_callee
411   0000              	GLOBAL _im2_append_generic_callback
412   0000              	GLOBAL _im2_create_generic_isr_8080_callee
413   0000              	GLOBAL _im2_create_generic_isr_8080
414   0000              	GLOBAL _im2_create_generic_isr_callee
415   0000              	GLOBAL _im2_create_generic_isr
416   0000              	GLOBAL _im2_install_isr_callee
417   0000              	GLOBAL _im2_install_isr
418   0000              	GLOBAL _im2_init_fastcall
419   0000              	GLOBAL _im2_init
420   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
421   0000              	GLOBAL _intrinsic_swap_word_32
422   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
423   0000              	GLOBAL _intrinsic_swap_endian_32
424   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
425   0000              	GLOBAL _intrinsic_swap_endian_16
426   0000              	GLOBAL _intrinsic_return_de
427   0000              	GLOBAL _intrinsic_return_bc
428   0000              	GLOBAL _intrinsic_exx
429   0000              	GLOBAL _intrinsic_ex_de_hl
430   0000              	GLOBAL _intrinsic_nop
431   0000              	GLOBAL _intrinsic_im_2
432   0000              	GLOBAL _intrinsic_im_1
433   0000              	GLOBAL _intrinsic_im_0
434   0000              	GLOBAL _intrinsic_retn
435   0000              	GLOBAL _intrinsic_reti
436   0000              	GLOBAL _intrinsic_halt
437   0000              	GLOBAL _intrinsic_ei
438   0000              	GLOBAL _intrinsic_di
439   0000              	GLOBAL _intrinsic_stub
440   0000              	GLOBAL _intrinsic_outi
441   0000              	GLOBAL _intrinsic_ldi
442   0000              	GLOBAL _zx_pattern_fill_callee
443   0000              	GLOBAL _zx_pattern_fill
444   0000              	GLOBAL _zx_saddrpup_fastcall
445   0000              	GLOBAL _zx_saddrpup
446   0000              	GLOBAL _zx_saddrpright_callee
447   0000              	GLOBAL _zx_saddrpright
448   0000              	GLOBAL _zx_saddrpleft_callee
449   0000              	GLOBAL _zx_saddrpleft
450   0000              	GLOBAL _zx_saddrpdown_fastcall
451   0000              	GLOBAL _zx_saddrpdown
452   0000              	GLOBAL _zx_saddrcup_fastcall
453   0000              	GLOBAL _zx_saddrcup
454   0000              	GLOBAL _zx_saddrcright_fastcall
455   0000              	GLOBAL _zx_saddrcright
456   0000              	GLOBAL _zx_saddrcleft_fastcall
457   0000              	GLOBAL _zx_saddrcleft
458   0000              	GLOBAL _zx_saddrcdown_fastcall
459   0000              	GLOBAL _zx_saddrcdown
460   0000              	GLOBAL _zx_saddr2py_fastcall
461   0000              	GLOBAL _zx_saddr2py
462   0000              	GLOBAL _zx_saddr2px_fastcall
463   0000              	GLOBAL _zx_saddr2px
464   0000              	GLOBAL _zx_saddr2cy_fastcall
465   0000              	GLOBAL _zx_saddr2cy
466   0000              	GLOBAL _zx_saddr2cx_fastcall
467   0000              	GLOBAL _zx_saddr2cx
468   0000              	GLOBAL _zx_saddr2aaddr_fastcall
469   0000              	GLOBAL _zx_saddr2aaddr
470   0000              	GLOBAL _zx_py2saddr_fastcall
471   0000              	GLOBAL _zx_py2saddr
472   0000              	GLOBAL _zx_py2aaddr_fastcall
473   0000              	GLOBAL _zx_py2aaddr
474   0000              	GLOBAL _zx_pxy2saddr_callee
475   0000              	GLOBAL _zx_pxy2saddr
476   0000              	GLOBAL _zx_pxy2aaddr_callee
477   0000              	GLOBAL _zx_pxy2aaddr
478   0000              	GLOBAL _zx_px2bitmask_fastcall
479   0000              	GLOBAL _zx_px2bitmask
480   0000              	GLOBAL _zx_cy2saddr_fastcall
481   0000              	GLOBAL _zx_cy2saddr
482   0000              	GLOBAL _zx_cy2aaddr_fastcall
483   0000              	GLOBAL _zx_cy2aaddr
484   0000              	GLOBAL _zx_cxy2saddr_callee
485   0000              	GLOBAL _zx_cxy2saddr
486   0000              	GLOBAL _zx_cxy2aaddr_callee
487   0000              	GLOBAL _zx_cxy2aaddr
488   0000              	GLOBAL _zx_bitmask2px_fastcall
489   0000              	GLOBAL _zx_bitmask2px
490   0000              	GLOBAL _zx_aaddrcup_fastcall
491   0000              	GLOBAL _zx_aaddrcup
492   0000              	GLOBAL _zx_aaddrcright_fastcall
493   0000              	GLOBAL _zx_aaddrcright
494   0000              	GLOBAL _zx_aaddrcleft_fastcall
495   0000              	GLOBAL _zx_aaddrcleft
496   0000              	GLOBAL _zx_aaddrcdown_fastcall
497   0000              	GLOBAL _zx_aaddrcdown
498   0000              	GLOBAL _zx_aaddr2saddr_fastcall
499   0000              	GLOBAL _zx_aaddr2saddr
500   0000              	GLOBAL _zx_aaddr2py_fastcall
501   0000              	GLOBAL _zx_aaddr2py
502   0000              	GLOBAL _zx_aaddr2px_fastcall
503   0000              	GLOBAL _zx_aaddr2px
504   0000              	GLOBAL _zx_aaddr2cy_fastcall
505   0000              	GLOBAL _zx_aaddr2cy
506   0000              	GLOBAL _zx_aaddr2cx_fastcall
507   0000              	GLOBAL _zx_aaddr2cx
508   0000              	GLOBAL _zx_visit_wc_pix_callee
509   0000              	GLOBAL _zx_visit_wc_pix
510   0000              	GLOBAL _zx_visit_wc_attr_callee
511   0000              	GLOBAL _zx_visit_wc_attr
512   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
513   0000              	GLOBAL _zx_scroll_wc_up_pix
514   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
515   0000              	GLOBAL _zx_scroll_wc_up_attr
516   0000              	GLOBAL _zx_scroll_wc_up_callee
517   0000              	GLOBAL _zx_scroll_wc_up
518   0000              	GLOBAL _zx_scroll_up_pix_callee
519   0000              	GLOBAL _zx_scroll_up_pix
520   0000              	GLOBAL _zx_scroll_up_attr_callee
521   0000              	GLOBAL _zx_scroll_up_attr
522   0000              	GLOBAL _zx_scroll_up_callee
523   0000              	GLOBAL _zx_scroll_up
524   0000              	GLOBAL _zx_cls_wc_pix_callee
525   0000              	GLOBAL _zx_cls_wc_pix
526   0000              	GLOBAL _zx_cls_wc_attr_callee
527   0000              	GLOBAL _zx_cls_wc_attr
528   0000              	GLOBAL _zx_cls_wc_callee
529   0000              	GLOBAL _zx_cls_wc
530   0000              	GLOBAL _zx_cls_pix_fastcall
531   0000              	GLOBAL _zx_cls_pix
532   0000              	GLOBAL _zx_cls_attr_fastcall
533   0000              	GLOBAL _zx_cls_attr
534   0000              	GLOBAL _zx_cls_fastcall
535   0000              	GLOBAL _zx_cls
536   0000              	GLOBAL _zx_border_fastcall
537   0000              	GLOBAL _zx_border
538   0000              	GLOBAL _zx_tape_verify_block_callee
539   0000              	GLOBAL _zx_tape_verify_block
540   0000              	GLOBAL _zx_tape_save_block_callee
541   0000              	GLOBAL _zx_tape_save_block
542   0000              	GLOBAL _zx_tape_load_block_callee
543   0000              	GLOBAL _zx_tape_load_block
544   0000              	GLOBAL _spr_colision_boss
545   0000              	GLOBAL _player_gasta_brick
546   0000              	GLOBAL _player_lost_life
547   0000              	GLOBAL _player_damage
548   0000              	GLOBAL _player_move_jump
549   0000              	GLOBAL _player_tile
550   0000              	GLOBAL _player_pick_item
551   0000              	GLOBAL _player_check_ceil
552   0000              	GLOBAL _player_check_floor
553   0000              	GLOBAL _player_score_add
554   0000              	GLOBAL _player_move_input
555   0000              	GLOBAL _player_new_jump
556   0000              	GLOBAL _player_turn
557   0000              	GLOBAL _player_move
558   0000              	GLOBAL _player_action_jump
559   0000              	GLOBAL _player_check_input
560   0000              	GLOBAL _player_init
561   0000              	GLOBAL _game_attribs
562   0000              	GLOBAL _game_boss_clear
563   0000              	GLOBAL _game_add_enemy
564   0000              	GLOBAL _game_print_header
565   0000              	GLOBAL _game_check_time
566   0000              	GLOBAL _game_rotate_attrib_osd
567   0000              	GLOBAL _game_rotate_attrib
568   0000              	GLOBAL _game_colour_message
569   0000              	GLOBAL _game_paint_attrib
570   0000              	GLOBAL _game_print_score
571   0000              	GLOBAL _game_cell_paint
572   0000              	GLOBAL _game_check_cell
573   0000              	GLOBAL _game_check_map
574   0000              	GLOBAL _game_loop
575   0000              	GLOBAL _game_round_init
576   0000              	GLOBAL _game_set_checkpoint
577   0000              	GLOBAL _game_start_timer
578   0000              	GLOBAL _game_update_stats
579   0000              	GLOBAL _game_print_footer
580   0000              	GLOBAL _game_fill_row
581   0000              	GLOBAL _game_cls
582   0000              	GLOBAL _game_fps
583   0000              	GLOBAL _game_draw_screen
584   0000              	GLOBAL _enemy_avoid_dead
585   0000              	GLOBAL _enemy_avoid_fall
586   0000              	GLOBAL _enemy_kill
587   0000              	GLOBAL _enemy_init
588   0000              	GLOBAL _enemy_move
589   0000              	GLOBAL _enemy_turn
590   0000              	GLOBAL _enemy_static
591   0000              	GLOBAL _enemy_walk
592   0000              	GLOBAL _enemy_horizontal
593   0000              	GLOBAL _enemy_vertical
594   0000              	GLOBAL _ay_reset
595   0000              	GLOBAL _ay_song_stop
596   0000              	GLOBAL _ay_song_play
597   0000              	GLOBAL _ay_fx_stop
598   0000              	GLOBAL _ay_fx_play
599   0000              	GLOBAL _ay_is_playing
600   0000              	GLOBAL _audio_levelup
601   0000              	GLOBAL _audio_checkpoint
602   0000              	GLOBAL _audio_menu
603   0000              	GLOBAL _audio_game_end
604   0000              	GLOBAL _audio_level_complete
605   0000              	GLOBAL _audio_level_start
606   0000              	GLOBAL _audio_lotr_lose_a_life
607   0000              	GLOBAL _audio_puerta
608   0000              	GLOBAL _audio_sin_mana
609   0000              	GLOBAL _audio_magic1
610   0000              	GLOBAL _audio_coin
611   0000              	GLOBAL _audio_golpe
612   0000              	GLOBAL _audio_salto
613   0000              	GLOBAL _audio_efecto
614   0000              	GLOBAL _audio_disparo_fire
615   0000              	GLOBAL _audio_disparo_axe
616   0000              	GLOBAL _audio_disparo2
617   0000              	GLOBAL _audio_disparo1
618   0000              	GLOBAL _audio_explosion1
619   0000              	GLOBAL _audio_explosion
620   0000              	GLOBAL _audio_ingame
621   0000              	GLOBAL _test_func
622   0000              	GLOBAL _test_proc
623   0000              	GLOBAL _in_mouse_kempston_wheel_delta
624   0000              	GLOBAL _in_mouse_kempston_wheel
625   0000              	GLOBAL _in_mouse_kempston_callee
626   0000              	GLOBAL _in_mouse_kempston
627   0000              	GLOBAL _in_mouse_kempston_setpos_callee
628   0000              	GLOBAL _in_mouse_kempston_setpos
629   0000              	GLOBAL _in_mouse_kempston_reset
630   0000              	GLOBAL _in_mouse_kempston_init
631   0000              	GLOBAL _in_mouse_amx_wheel_delta
632   0000              	GLOBAL _in_mouse_amx_wheel
633   0000              	GLOBAL _in_mouse_amx_callee
634   0000              	GLOBAL _in_mouse_amx
635   0000              	GLOBAL _in_mouse_amx_setpos_callee
636   0000              	GLOBAL _in_mouse_amx_setpos
637   0000              	GLOBAL _in_mouse_amx_reset
638   0000              	GLOBAL _in_mouse_amx_init_callee
639   0000              	GLOBAL _in_mouse_amx_init
640   0000              	GLOBAL _in_stick_sinclair2
641   0000              	GLOBAL _in_stick_sinclair1
642   0000              	GLOBAL _in_stick_kempston
643   0000              	GLOBAL _in_stick_fuller
644   0000              	GLOBAL _in_stick_cursor
645   0000              	GLOBAL _in_stick_keyboard_fastcall
646   0000              	GLOBAL _in_stick_keyboard
647   0000              	GLOBAL _in_wait_nokey
648   0000              	GLOBAL _in_wait_key
649   0000              	GLOBAL _in_test_key
650   0000              	GLOBAL _in_pause_fastcall
651   0000              	GLOBAL _in_pause
652   0000              	GLOBAL _in_key_scancode_fastcall
653   0000              	GLOBAL _in_key_scancode
654   0000              	GLOBAL _in_key_pressed_fastcall
655   0000              	GLOBAL _in_key_pressed
656   0000              	GLOBAL _in_inkey
657   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
658   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
659   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
660   0000              	GLOBAL _NIRVANAP_HOLE
661   0000              	GLOBAL _NIRVANAP_ISR_HOOK
662   0000              	GLOBAL _scan_map
663   0000              	GLOBAL _key_map
664   0000              	GLOBAL _map_paper_last_a
665   0000              	GLOBAL _map_paper_last
666   0000              	GLOBAL _map_paper_clr
667   0000              	GLOBAL _map_paper
668   0000              	GLOBAL _boss_stat
669   0000              	GLOBAL _boss_time_fire
670   0000              	GLOBAL _boss_time
671   0000              	GLOBAL _boss_tile
672   0000              	GLOBAL _boss_inc
673   0000              	GLOBAL _boss_col
674   0000              	GLOBAL _boss_lin
675   0000              	GLOBAL _anim_count
676   0000              	GLOBAL _anim_respanwn
677   0000              	GLOBAL _anim_loop
678   0000              	GLOBAL _anim_end
679   0000              	GLOBAL _anim_int
680   0000              	GLOBAL _anim_tile
681   0000              	GLOBAL _anim_col
682   0000              	GLOBAL _anim_lin
683   0000              	GLOBAL _map_heigth
684   0000              	GLOBAL _map_width
685   0000              	GLOBAL _scr_curr
686   0000              	GLOBAL _sprite_kind
687   0000              	GLOBAL _scr_map
688   0000              	GLOBAL _spr_init
689   0000              	GLOBAL _spr_map_tile
690   0000              	GLOBAL _sprite_frames
691   0000              	GLOBAL _sprite_base_speed
692   0000              	GLOBAL _sprite_speed
693   0000              	GLOBAL _screen_ink
694   0000              	GLOBAL _screen_paper
695   0000              	GLOBAL _game_start_scr
696   0000              	GLOBAL _game_score_top
697   0000              	GLOBAL _player_coins
698   0000              	GLOBAL _player_lives
699   0000              	GLOBAL _game_over
700   0000              	GLOBAL _game_sound
701   0000              	GLOBAL _game_inf_lives
702   0000              	GLOBAL _game_inmune
703   0000              	GLOBAL _sprite_curr_index
704   0000              	GLOBAL _spr_count
705   0000              	GLOBAL _anim_time
706   0000              	GLOBAL _frame_time
707   0000              	GLOBAL _curr_time
708   0000              	GLOBAL _s_state
709   0000              	GLOBAL _attrib8
710   0000              	GLOBAL _attrib7
711   0000              	GLOBAL _attrib6
712   0000              	GLOBAL _attrib5
713   0000              	GLOBAL _attrib4
714   0000              	GLOBAL _attrib3
715   0000              	GLOBAL _attrib2
716   0000              	GLOBAL _attrib1
717   0000              	GLOBAL _attrib0
718   0000              	GLOBAL _attrib_osd
719   0000              	GLOBAL _attrib_hl
720   0000              	GLOBAL _attrib
721   0000              	GLOBAL _zx_val_asm
722   0000              	GLOBAL _enemies
723   0000              	GLOBAL _tmp_ui
724   0000              	GLOBAL _tmp_sc
725   0000              	GLOBAL _tmp_uc
726   0000              	GLOBAL _tmp1
727   0000              	GLOBAL _tmp0
728   0000              	GLOBAL _tmp
729   0000              	GLOBAL _index1
730   0000              	GLOBAL _index0
731   0000              	GLOBAL _loop_count
732   0000              	GLOBAL _s_class
733   0000              	GLOBAL _s_row1
734   0000              	GLOBAL _s_col1
735   0000              	GLOBAL _s_col0
736   0000              	GLOBAL _s_lin1
737   0000              	GLOBAL _s_lin0
738   0000              	GLOBAL _s_tile1
739   0000              	GLOBAL _s_tile0
740   0000              	GLOBAL _player_brick_time
741   0000              	GLOBAL _player_hit_count
742   0000              	GLOBAL _game_debug
743   0000              	GLOBAL _sprite
744   0000              	GLOBAL _fps
745   0000              	GLOBAL _menu_curr_sel
746   0000              	GLOBAL _game_control_mode
747   0000              	GLOBAL _game_round_up
748   0000              	GLOBAL _game_song_play_start
749   0000              	GLOBAL _game_song_play
750   0000              	GLOBAL _game_boss_fix
751   0000              	GLOBAL _game_boss_hit
752   0000              	GLOBAL _game_boss_alive
753   0000              	GLOBAL _game_boss
754   0000              	GLOBAL _game_world
755   0000              	GLOBAL _game_gravity
756   0000              	GLOBAL _player_hit
757   0000              	GLOBAL _player_hit_time
758   0000              	GLOBAL _game_checkpoint_scr
759   0000              	GLOBAL _game_checkpoint_lin
760   0000              	GLOBAL _game_checkpoint_col
761   0000              	GLOBAL _player_lin_scr
762   0000              	GLOBAL _player_col_scr
763   0000              	GLOBAL _player_max_vita
764   0000              	GLOBAL _player_max_mana
765   0000              	GLOBAL _player_vita
766   0000              	GLOBAL _player_keys
767   0000              	GLOBAL _player_vel_inc
768   0000              	GLOBAL _player_vel_y0
769   0000              	GLOBAL _player_vel_y
770   0000              	GLOBAL _player_vel_x
771   0000              	GLOBAL _player_score
772   0000              	GLOBAL _last_time
773   0000              	GLOBAL _spr_timer
774   0000              	GLOBAL _jump_lin
775   0000              	GLOBAL _colint
776   0000              	GLOBAL _col
777   0000              	GLOBAL _tbuffer
778   0000              	GLOBAL _lin
779   0000              	GLOBAL _tile
780   0000              	GLOBAL _value_b
781   0000              	GLOBAL _value_a
782   0000              	GLOBAL _state_a
783   0000              	GLOBAL _state
784   0000              	GLOBAL _class
785   0000              	GLOBAL _dirs
786   0000              	GLOBAL _k2
787   0000              	GLOBAL _k1
788   0000              	GLOBAL _joyfunc2
789   0000              	GLOBAL _joyfunc1
790   0000              	GLOBAL _btiles
791   0000              	GLOBAL _spec128
792   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
793   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
794   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
795   0000              	GLOBAL _ay_fx_06_disparo_fire
796   0000              	GLOBAL _ay_fx_06_disparo_axe
797   0000              	GLOBAL _ay_fx_06_explosion1
798   0000              	GLOBAL _ay_fx_06_efecto
799   0000              	GLOBAL _ay_fx_06_disparo2
800   0000              	GLOBAL _ay_fx_06_disparo1
801   0000              	GLOBAL _ay_fx_06_checkpoint
802   0000              	GLOBAL _ay_fx_06_levelup
803   0000              	GLOBAL _ay_fx_06_magic
804   0000              	GLOBAL _ay_fx_06_sin_mana
805   0000              	GLOBAL _ay_fx_06_salto
806   0000              	GLOBAL _ay_fx_06_puerta
807   0000              	GLOBAL _ay_fx_06_magic1
808   0000              	GLOBAL _ay_fx_06_golpe
809   0000              	GLOBAL _ay_fx_06_explosion
810   0000              	GLOBAL _ay_fx_06_dano_por_toque
811   0000              	GLOBAL _ay_fx_06_coin
812   0000              	GLOBAL _ay_song_06_lotr_level_start
813   0000              	GLOBAL _ay_song_06_lotr_level_complete
814   0000              	GLOBAL _ay_song_06_lotr_lose_a_life
815   0000              	GLOBAL _ay_song_04_doom
816   0000              	GLOBAL _ay_song_04_luna
817   0000              	GLOBAL _ay_song_04_ciel
818   0000              	GLOBAL _ay_song_04_hope
819   0000              	GLOBAL _ay_song_03_regis
820   0000              	GLOBAL _ay_song_03_sunflower
821   0000              	GLOBAL _ay_song_03_tdm_cs9
822   0000              	GLOBAL _world0_h
823   0000              	GLOBAL _world0_w
824   0000              	GLOBAL _world0
825   0000              	GLOBAL _paper0
826   0000              	GLOBAL _lenght0
827   0000              	GLOBAL _start_scr0
828   0000              ;--------------------------------------------------------
829   0000              ; special function registers
830   0000              ;--------------------------------------------------------
831   0000              defc _IO_FE	=	0x00fe
832   0000              defc _IO_1FFD	=	0x1ffd
833   0000              defc _IO_7FFD	=	0x7ffd
834   0000              ;--------------------------------------------------------
835   0000              ; ram data
836   0000              ;--------------------------------------------------------
837   0000              	SECTION bss_compiler
838   0000              ;--------------------------------------------------------
839   0000              ; ram data
840   0000              ;--------------------------------------------------------
841   0000              
842   0000              IF 0
843   0000              
844   0000              ; .area _INITIALIZED removed by z88dk
845   0000              
846   0000              
847   0000              ENDIF
848   0000              
849   0000              ;--------------------------------------------------------
850   0000              ; absolute external ram data
851   0000              ;--------------------------------------------------------
852   0000              	SECTION IGNORE
853   0000              ;--------------------------------------------------------
854   0000              ; global & static initialisations
855   0000              ;--------------------------------------------------------
856   0000              	SECTION code_crt_init
857   0000              ;--------------------------------------------------------
858   0000              ; Home
859   0000              ;--------------------------------------------------------
860   0000              	SECTION IGNORE
861   0000              ;--------------------------------------------------------
862   0000              ; code
863   0000              ;--------------------------------------------------------
864   0000              	SECTION code_compiler
865   0000              ;	---------------------------------
866   0000              ; Function spr_calc_index
867   0000              ; ---------------------------------
868   0000              _spr_calc_index:
869   0000  CD 00 00    	call	___sdcc_enter_ix
870   0003  DD 4E 05    	ld	c,(ix+5)
871   0006  06 00       	ld	b,0x00
872   0008  DD 7E 04    	ld	a,(ix+4)
873   000B  0F          	rrca
874   000C  0F          	rrca
875   000D  0F          	rrca
876   000E  E6 1F       	and	a,0x1f
877   0010  6F          	ld	l, a
878   0011  26 00       	ld	h,0x00
879   0013  29          	add	hl, hl
880   0014  29          	add	hl, hl
881   0015  29          	add	hl, hl
882   0016  29          	add	hl, hl
883   0017  29          	add	hl, hl
884   0018  09          	add	hl, bc
885   0019  DD E1       	pop	ix
886   001B  C9          	ret
887   001C              	SECTION code_compiler
888   001C              ;	---------------------------------
889   001C              ; Function spr_chktime
890   001C              ; ---------------------------------
891   001C              _spr_chktime:
892   001C  CD 00 00    	call	___sdcc_enter_ix
893   001F  F5          	push	af
894   0020  EB          	ex	de,hl
895   0021  ED 4B 00 00 	ld	bc,(_curr_time)
896   0025  1A          	ld	a, (de)
897   0026  5F          	ld	e,a
898   0027  6F          	ld	l,a
899   0028  26 00       	ld	h,0x00
900   002A  29          	add	hl, hl
901   002B  3E 00       	ld	a, +((_last_time) & 0xFF)
902   002D  85          	add	a, l
903   002E  DD 77 FE    	ld	(ix-2),a
904   0031  3E 00       	ld	a, +((_last_time) / 256)
905   0033  8C          	adc	a, h
906   0034  DD 77 FF    	ld	(ix-1),a
907   0037  E1          	pop	hl
908   0038  7E          	ld	a,(hl)
909   0039  E5          	push	hl
910   003A  23          	inc	hl
911   003B  66          	ld	h, (hl)
912   003C  6F          	ld	l, a
913   003D  79          	ld	a, c
914   003E  95          	sub	a, l
915   003F  4F          	ld	c, a
916   0040  78          	ld	a, b
917   0041  9C          	sbc	a, h
918   0042  47          	ld	b, a
919   0043  16 00       	ld	d,0x00
920   0045  21 00 00    	ld	hl,_sprite_speed
921   0048  19          	add	hl, de
922   0049  5E          	ld	e, (hl)
923   004A  16 00       	ld	d,0x00
924   004C  79          	ld	a, c
925   004D  93          	sub	a, e
926   004E  78          	ld	a, b
927   004F  9A          	sbc	a, d
928   0050  38 0D       	jr	C,l_spr_chktime_00102
929   0052  E1          	pop	hl
930   0053  ED 4B 00 00 	ld	bc,(_curr_time)
931   0057  E5          	push	hl
932   0058  71          	ld	(hl), c
933   0059  23          	inc	hl
934   005A  70          	ld	(hl), b
935   005B  2E 01       	ld	l,0x01
936   005D  18 02       	jr	l_spr_chktime_00103
937   005F              l_spr_chktime_00102:
938   005F  2E 00       	ld	l,0x00
939   0061              l_spr_chktime_00103:
940   0061  F1          	pop	af
941   0062  DD E1       	pop	ix
942   0064  C9          	ret
943   0065              	SECTION code_compiler
944   0065              ;	---------------------------------
945   0065              ; Function spr_set_up
946   0065              ; ---------------------------------
947   0065              _spr_set_up:
948   0065  CB C6       	set	0, (hl)
949   0067  7E          	ld	a, (hl)
950   0068  E6 FD       	and	a,0xfd
951   006A  77          	ld	(hl), a
952   006B  C9          	ret
953   006C              	SECTION code_compiler
954   006C              ;	---------------------------------
955   006C              ; Function spr_set_down
956   006C              ; ---------------------------------
957   006C              _spr_set_down:
958   006C  CB CE       	set	1, (hl)
959   006E  7E          	ld	a, (hl)
960   006F  E6 FE       	and	a,0xfe
961   0071  77          	ld	(hl), a
962   0072  C9          	ret
963   0073              	SECTION code_compiler
964   0073              ;	---------------------------------
965   0073              ; Function spr_set_left
966   0073              ; ---------------------------------
967   0073              _spr_set_left:
968   0073  CB DE       	set	3, (hl)
969   0075  7E          	ld	a, (hl)
970   0076  E6 FB       	and	a,0xfb
971   0078  77          	ld	(hl), a
972   0079  C9          	ret
973   007A              	SECTION code_compiler
974   007A              ;	---------------------------------
975   007A              ; Function spr_set_right
976   007A              ; ---------------------------------
977   007A              _spr_set_right:
978   007A  CB D6       	set	2, (hl)
979   007C  7E          	ld	a, (hl)
980   007D  E6 F7       	and	a,0xf7
981   007F  77          	ld	(hl), a
982   0080  C9          	ret
983   0081              	SECTION code_compiler
984   0081              ;	---------------------------------
985   0081              ; Function spr_move_up
986   0081              ; ---------------------------------
987   0081              _spr_move_up:
988   0081  2A 00 00    	ld	hl,(_sprite)
989   0084  26 00       	ld	h,0x00
990   0086  01 00 00    	ld	bc,_lin
991   0089  09          	add	hl,bc
992   008A  4E          	ld	c,(hl)
993   008B  3E 10       	ld	a,0x10
994   008D  91          	sub	a, c
995   008E  38 05       	jr	C,l_spr_move_up_00115
996   0090  2E 01       	ld	l,0x01
997   0092  C3 5C 01    	jp	l_spr_move_up_00117
998   0095              l_spr_move_up_00115:
999   0095  79          	ld	a, c
1000  0096  C6 FE       	add	a,0xfe
1001  0098  32 00 00    	ld	(_s_lin1),a
1002  009B  4F          	ld	c,a
1003  009C  CB 39       	srl	c
1004  009E  CB 39       	srl	c
1005  00A0  CB 39       	srl	c
1006  00A2  3A 00 00    	ld	a,(_s_lin0)
1007  00A5  CB 3F       	srl	a
1008  00A7  CB 3F       	srl	a
1009  00A9  CB 3F       	srl	a
1010  00AB  91          	sub	a, c
1011  00AC  20 04       	jr	NZ,l_spr_move_up_00147
1012  00AE  3E 01       	ld	a,0x01
1013  00B0  18 01       	jr	l_spr_move_up_00148
1014  00B2              l_spr_move_up_00147:
1015  00B2  AF          	xor	a,a
1016  00B3              l_spr_move_up_00148:
1017  00B3  EE 01       	xor	a,0x01
1018  00B5  CA 4D 01    	jp	Z, l_spr_move_up_00113
1019  00B8  2A 00 00    	ld	hl,(_sprite)
1020  00BB  26 00       	ld	h,0x00
1021  00BD  01 00 00    	ld	bc,_colint
1022  00C0  09          	add	hl,bc
1023  00C1  7E          	ld	a,(hl)
1024  00C2  B7          	or	a,a
1025  00C3  20 1A       	jr	NZ,l_spr_move_up_00104
1026  00C5  2A 00 00    	ld	hl,(_sprite)
1027  00C8  26 00       	ld	h,0x00
1028  00CA  01 00 00    	ld	bc,_col
1029  00CD  09          	add	hl,bc
1030  00CE  2A 00 00    	ld	hl, (_s_lin1)
1031  00D1  E5          	push	hl
1032  00D2  CD 00 00    	call	_game_check_map
1033  00D5  F1          	pop	af
1034  00D6  7D          	ld	a, l
1035  00D7  B7          	or	a, a
1036  00D8  28 05       	jr	Z,l_spr_move_up_00104
1037  00DA  2E 01       	ld	l,0x01
1038  00DC  C3 5C 01    	jp	l_spr_move_up_00117
1039  00DF              l_spr_move_up_00104:
1040  00DF  2A 00 00    	ld	hl,(_sprite)
1041  00E2  26 00       	ld	h,0x00
1042  00E4  01 00 00    	ld	bc,_colint
1043  00E7  09          	add	hl,bc
1044  00E8  5E          	ld	e, (hl)
1045  00E9  2A 00 00    	ld	hl,(_sprite)
1046  00EC  26 00       	ld	h,0x00
1047  00EE  01 00 00    	ld	bc,_sprite_frames
1048  00F1  09          	add	hl,bc
1049  00F2  4E          	ld	c, (hl)
1050  00F3  06 00       	ld	b,0x00
1051  00F5  0B          	dec	bc
1052  00F6  16 00       	ld	d,0x00
1053  00F8  7B          	ld	a,e
1054  00F9  91          	sub	a,c
1055  00FA  20 20       	jr	NZ,l_spr_move_up_00108
1056  00FC  7A          	ld	a,d
1057  00FD  90          	sub	a,b
1058  00FE  20 1C       	jr	NZ,l_spr_move_up_00108
1059  0100  2A 00 00    	ld	hl,(_sprite)
1060  0103  26 00       	ld	h,0x00
1061  0105  01 00 00    	ld	bc,_col
1062  0108  09          	add	hl,bc
1063  0109  46          	ld	b, (hl)
1064  010A  04          	inc	b
1065  010B  3A 00 00    	ld	a,(_s_lin1)
1066  010E  4F          	ld	c,a
1067  010F  C5          	push	bc
1068  0110  CD 00 00    	call	_game_check_map
1069  0113  F1          	pop	af
1070  0114  7D          	ld	a, l
1071  0115  B7          	or	a, a
1072  0116  28 04       	jr	Z,l_spr_move_up_00108
1073  0118  2E 01       	ld	l,0x01
1074  011A  18 40       	jr	l_spr_move_up_00117
1075  011C              l_spr_move_up_00108:
1076  011C  2A 00 00    	ld	hl,(_sprite)
1077  011F  26 00       	ld	h,0x00
1078  0121  01 00 00    	ld	bc,_col
1079  0124  09          	add	hl,bc
1080  0125  2A 00 00    	ld	hl, (_s_lin1)
1081  0128  E5          	push	hl
1082  0129  CD 00 00    	call	_game_check_map
1083  012C  F1          	pop	af
1084  012D  7D          	ld	a, l
1085  012E  B7          	or	a, a
1086  012F  20 18       	jr	NZ,l_spr_move_up_00109
1087  0131  2A 00 00    	ld	hl,(_sprite)
1088  0134  26 00       	ld	h,0x00
1089  0136  01 00 00    	ld	bc,_col
1090  0139  09          	add	hl,bc
1091  013A  46          	ld	b,(hl)
1092  013B  04          	inc	b
1093  013C  3A 00 00    	ld	a,(_s_lin1)
1094  013F  4F          	ld	c,a
1095  0140  C5          	push	bc
1096  0141  CD 00 00    	call	_game_check_map
1097  0144  F1          	pop	af
1098  0145  7D          	ld	a, l
1099  0146  B7          	or	a, a
1100  0147  28 04       	jr	Z,l_spr_move_up_00113
1101  0149              l_spr_move_up_00109:
1102  0149  2E 01       	ld	l,0x01
1103  014B  18 0F       	jr	l_spr_move_up_00117
1104  014D              l_spr_move_up_00113:
1105  014D  2A 00 00    	ld	hl,(_sprite)
1106  0150  26 00       	ld	h,0x00
1107  0152  01 00 00    	ld	bc,_lin
1108  0155  09          	add	hl,bc
1109  0156  3A 00 00    	ld	a,(_s_lin1)
1110  0159  77          	ld	(hl),a
1111  015A  2E 00       	ld	l,0x00
1112  015C              l_spr_move_up_00117:
1113  015C  C9          	ret
1114  015D              	SECTION code_compiler
1115  015D              ;	---------------------------------
1116  015D              ; Function spr_move_down
1117  015D              ; ---------------------------------
1118  015D              _spr_move_down:
1119  015D  2A 00 00    	ld	hl,(_sprite)
1120  0160  26 00       	ld	h,0x00
1121  0162  01 00 00    	ld	bc,_lin
1122  0165  09          	add	hl,bc
1123  0166  7E          	ld	a,(hl)
1124  0167  FE 80       	cp	a,0x80
1125  0169  38 07       	jr	C,l_spr_move_down_00115
1126  016B  36 80       	ld	(hl),0x80
1127  016D  2E 01       	ld	l,0x01
1128  016F  C3 3C 02    	jp	l_spr_move_down_00117
1129  0172              l_spr_move_down_00115:
1130  0172  C6 10       	add	a,0x10
1131  0174  32 00 00    	ld	(_s_lin1),a
1132  0177  4F          	ld	c,a
1133  0178  CB 39       	srl	c
1134  017A  CB 39       	srl	c
1135  017C  CB 39       	srl	c
1136  017E  21 00 00    	ld	hl,_s_lin0
1137  0181  5E          	ld	e, (hl)
1138  0182  CB 3B       	srl	e
1139  0184  CB 3B       	srl	e
1140  0186  CB 3B       	srl	e
1141  0188  79          	ld	a, c
1142  0189  93          	sub	a, e
1143  018A  20 04       	jr	NZ,l_spr_move_down_00147
1144  018C  3E 01       	ld	a,0x01
1145  018E  18 01       	jr	l_spr_move_down_00148
1146  0190              l_spr_move_down_00147:
1147  0190  AF          	xor	a,a
1148  0191              l_spr_move_down_00148:
1149  0191  EE 01       	xor	a,0x01
1150  0193  CA 2B 02    	jp	Z, l_spr_move_down_00113
1151  0196  2A 00 00    	ld	hl,(_sprite)
1152  0199  26 00       	ld	h,0x00
1153  019B  01 00 00    	ld	bc,_colint
1154  019E  09          	add	hl,bc
1155  019F  7E          	ld	a,(hl)
1156  01A0  B7          	or	a,a
1157  01A1  20 1A       	jr	NZ,l_spr_move_down_00104
1158  01A3  2A 00 00    	ld	hl,(_sprite)
1159  01A6  26 00       	ld	h,0x00
1160  01A8  01 00 00    	ld	bc,_col
1161  01AB  09          	add	hl,bc
1162  01AC  2A 00 00    	ld	hl, (_s_lin1)
1163  01AF  E5          	push	hl
1164  01B0  CD 00 00    	call	_game_check_map
1165  01B3  F1          	pop	af
1166  01B4  7D          	ld	a, l
1167  01B5  B7          	or	a, a
1168  01B6  28 05       	jr	Z,l_spr_move_down_00104
1169  01B8  2E 01       	ld	l,0x01
1170  01BA  C3 3C 02    	jp	l_spr_move_down_00117
1171  01BD              l_spr_move_down_00104:
1172  01BD  2A 00 00    	ld	hl,(_sprite)
1173  01C0  26 00       	ld	h,0x00
1174  01C2  01 00 00    	ld	bc,_colint
1175  01C5  09          	add	hl,bc
1176  01C6  5E          	ld	e, (hl)
1177  01C7  2A 00 00    	ld	hl,(_sprite)
1178  01CA  26 00       	ld	h,0x00
1179  01CC  01 00 00    	ld	bc,_sprite_frames
1180  01CF  09          	add	hl,bc
1181  01D0  4E          	ld	c, (hl)
1182  01D1  06 00       	ld	b,0x00
1183  01D3  0B          	dec	bc
1184  01D4  16 00       	ld	d,0x00
1185  01D6  7B          	ld	a,e
1186  01D7  91          	sub	a,c
1187  01D8  20 20       	jr	NZ,l_spr_move_down_00108
1188  01DA  7A          	ld	a,d
1189  01DB  90          	sub	a,b
1190  01DC  20 1C       	jr	NZ,l_spr_move_down_00108
1191  01DE  2A 00 00    	ld	hl,(_sprite)
1192  01E1  26 00       	ld	h,0x00
1193  01E3  01 00 00    	ld	bc,_col
1194  01E6  09          	add	hl,bc
1195  01E7  46          	ld	b, (hl)
1196  01E8  04          	inc	b
1197  01E9  3A 00 00    	ld	a,(_s_lin1)
1198  01EC  4F          	ld	c,a
1199  01ED  C5          	push	bc
1200  01EE  CD 00 00    	call	_game_check_map
1201  01F1  F1          	pop	af
1202  01F2  7D          	ld	a, l
1203  01F3  B7          	or	a, a
1204  01F4  28 04       	jr	Z,l_spr_move_down_00108
1205  01F6  2E 01       	ld	l,0x01
1206  01F8  18 42       	jr	l_spr_move_down_00117
1207  01FA              l_spr_move_down_00108:
1208  01FA  2A 00 00    	ld	hl,(_sprite)
1209  01FD  26 00       	ld	h,0x00
1210  01FF  01 00 00    	ld	bc,_col
1211  0202  09          	add	hl,bc
1212  0203  2A 00 00    	ld	hl, (_s_lin1)
1213  0206  E5          	push	hl
1214  0207  CD 00 00    	call	_game_check_map
1215  020A  F1          	pop	af
1216  020B  7D          	ld	a, l
1217  020C  B7          	or	a, a
1218  020D  20 18       	jr	NZ,l_spr_move_down_00109
1219  020F  2A 00 00    	ld	hl,(_sprite)
1220  0212  26 00       	ld	h,0x00
1221  0214  01 00 00    	ld	bc,_col
1222  0217  09          	add	hl,bc
1223  0218  46          	ld	b,(hl)
1224  0219  04          	inc	b
1225  021A  3A 00 00    	ld	a,(_s_lin1)
1226  021D  4F          	ld	c,a
1227  021E  C5          	push	bc
1228  021F  CD 00 00    	call	_game_check_map
1229  0222  F1          	pop	af
1230  0223  7D          	ld	a, l
1231  0224  B7          	or	a, a
1232  0225  28 04       	jr	Z,l_spr_move_down_00113
1233  0227              l_spr_move_down_00109:
1234  0227  2E 01       	ld	l,0x01
1235  0229  18 11       	jr	l_spr_move_down_00117
1236  022B              l_spr_move_down_00113:
1237  022B  2A 00 00    	ld	hl,(_sprite)
1238  022E  26 00       	ld	h,0x00
1239  0230  01 00 00    	ld	bc,_lin
1240  0233  09          	add	hl,bc
1241  0234  3A 00 00    	ld	a,(_s_lin1)
1242  0237  C6 F2       	add	a,0xf2
1243  0239  77          	ld	(hl),a
1244  023A  2E 00       	ld	l,0x00
1245  023C              l_spr_move_down_00117:
1246  023C  C9          	ret
1247  023D              	SECTION code_compiler
1248  023D              ;	---------------------------------
1249  023D              ; Function spr_move_horizontal
1250  023D              ; ---------------------------------
1251  023D              _spr_move_horizontal:
1252  023D  2A 00 00    	ld	hl,(_sprite)
1253  0240  26 00       	ld	h,0x00
1254  0242  01 00 00    	ld	bc,_state
1255  0245  09          	add	hl,bc
1256  0246  7E          	ld	a,(hl)
1257  0247  CB 57       	bit	2, a
1258  0249  28 05       	jr	Z,l_spr_move_horizontal_00104
1259  024B  CD BE 02    	call	_spr_move_right
1260  024E  18 0B       	jr	l_spr_move_horizontal_00106
1261  0250              l_spr_move_horizontal_00104:
1262  0250  CB 5F       	bit	3, a
1263  0252  28 05       	jr	Z,l_spr_move_horizontal_00105
1264  0254  CD 3C 03    	call	_spr_move_left
1265  0257  18 02       	jr	l_spr_move_horizontal_00106
1266  0259              l_spr_move_horizontal_00105:
1267  0259  2E 00       	ld	l,0x00
1268  025B              l_spr_move_horizontal_00106:
1269  025B  C9          	ret
1270  025C              	SECTION code_compiler
1271  025C              ;	---------------------------------
1272  025C              ; Function spr_move_right_f
1273  025C              ; ---------------------------------
1274  025C              _spr_move_right_f:
1275  025C  CD 00 00    	call	___sdcc_enter_ix
1276  025F  F5          	push	af
1277  0260  3B          	dec	sp
1278  0261  2A 00 00    	ld	hl,(_sprite)
1279  0264  26 00       	ld	h,0x00
1280  0266  01 00 00    	ld	bc,_colint
1281  0269  09          	add	hl,bc
1282  026A  3E 00       	ld	a,+((_col) & 0xFF)
1283  026C  4D          	ld	c,l
1284  026D  44          	ld	b,h
1285  026E  21 00 00    	ld	hl,_sprite
1286  0271  86          	add	a, (hl)
1287  0272  5F          	ld	e, a
1288  0273  3E 00       	ld	a, +((_col) / 256)
1289  0275  CE 00       	adc	a,0x00
1290  0277  E1          	pop	hl
1291  0278  57          	ld	d,a
1292  0279  0A          	ld	a,(bc)
1293  027A  D5          	push	de
1294  027B  3C          	inc	a
1295  027C  DD 77 FF    	ld	(ix-1),a
1296  027F  02          	ld	(bc),a
1297  0280  2A 00 00    	ld	hl,(_s_class)
1298  0283  26 00       	ld	h,0x00
1299  0285  11 00 00    	ld	de,_sprite_frames
1300  0288  19          	add	hl,de
1301  0289  DD 7E FF    	ld	a,(ix-1)
1302  028C  96          	sub	a,(hl)
1303  028D  20 28       	jr	NZ,l_spr_move_right_f_00106
1304  028F  2A 00 00    	ld	hl,(_sprite)
1305  0292  26 00       	ld	h,0x00
1306  0294  11 00 00    	ld	de,_lin
1307  0297  19          	add	hl,de
1308  0298  7E          	ld	a,(hl)
1309  0299  E1          	pop	hl
1310  029A  32 00 00    	ld	(_s_lin1),a
1311  029D  7E          	ld	a,(hl)
1312  029E  E5          	push	hl
1313  029F  5F          	ld	e,a
1314  02A0  D6 1F       	sub	a,0x1f
1315  02A2  30 13       	jr	NC,l_spr_move_right_f_00106
1316  02A4  1C          	inc	e
1317  02A5  E1          	pop	hl
1318  02A6  E5          	push	hl
1319  02A7  73          	ld	(hl), e
1320  02A8  AF          	xor	a, a
1321  02A9  02          	ld	(bc), a
1322  02AA  3E 1F       	ld	a,0x1f
1323  02AC  93          	sub	a, e
1324  02AD  30 08       	jr	NC,l_spr_move_right_f_00106
1325  02AF  E1          	pop	hl
1326  02B0  E5          	push	hl
1327  02B1  36 1F       	ld	(hl),0x1f
1328  02B3  2E 01       	ld	l,0x01
1329  02B5  18 02       	jr	l_spr_move_right_f_00107
1330  02B7              l_spr_move_right_f_00106:
1331  02B7  2E 00       	ld	l,0x00
1332  02B9              l_spr_move_right_f_00107:
1333  02B9  DD F9       	ld	sp, ix
1334  02BB  DD E1       	pop	ix
1335  02BD  C9          	ret
1336  02BE              	SECTION code_compiler
1337  02BE              ;	---------------------------------
1338  02BE              ; Function spr_move_right
1339  02BE              ; ---------------------------------
1340  02BE              _spr_move_right:
1341  02BE  CD 00 00    	call	___sdcc_enter_ix
1342  02C1  F5          	push	af
1343  02C2  3B          	dec	sp
1344  02C3  2A 00 00    	ld	hl,(_sprite)
1345  02C6  26 00       	ld	h,0x00
1346  02C8  01 00 00    	ld	bc,_colint
1347  02CB  09          	add	hl,bc
1348  02CC  3E 00       	ld	a,+((_col) & 0xFF)
1349  02CE  4D          	ld	c,l
1350  02CF  44          	ld	b,h
1351  02D0  21 00 00    	ld	hl,_sprite
1352  02D3  86          	add	a, (hl)
1353  02D4  5F          	ld	e, a
1354  02D5  3E 00       	ld	a, +((_col) / 256)
1355  02D7  CE 00       	adc	a,0x00
1356  02D9  E1          	pop	hl
1357  02DA  57          	ld	d,a
1358  02DB  0A          	ld	a,(bc)
1359  02DC  D5          	push	de
1360  02DD  3C          	inc	a
1361  02DE  DD 77 FF    	ld	(ix-1),a
1362  02E1  02          	ld	(bc),a
1363  02E2  2A 00 00    	ld	hl,(_s_class)
1364  02E5  26 00       	ld	h,0x00
1365  02E7  11 00 00    	ld	de,_sprite_frames
1366  02EA  19          	add	hl,de
1367  02EB  DD 7E FF    	ld	a,(ix-1)
1368  02EE  96          	sub	a,(hl)
1369  02EF  20 44       	jr	NZ,l_spr_move_right_00109
1370  02F1  2A 00 00    	ld	hl,(_sprite)
1371  02F4  26 00       	ld	h,0x00
1372  02F6  11 00 00    	ld	de,_lin
1373  02F9  19          	add	hl,de
1374  02FA  7E          	ld	a,(hl)
1375  02FB  E1          	pop	hl
1376  02FC  32 00 00    	ld	(_s_lin1),a
1377  02FF  7E          	ld	a,(hl)
1378  0300  E5          	push	hl
1379  0301  FE 1F       	cp	a,0x1f
1380  0303  30 30       	jr	NC,l_spr_move_right_00109
1381  0305  C6 02       	add	a,0x02
1382  0307  57          	ld	d,a
1383  0308  3A 00 00    	ld	a,(_s_lin1)
1384  030B  C6 08       	add	a,0x08
1385  030D  C5          	push	bc
1386  030E  5F          	ld	e,a
1387  030F  D5          	push	de
1388  0310  CD 00 00    	call	_game_check_map
1389  0313  F1          	pop	af
1390  0314  C1          	pop	bc
1391  0315  7D          	ld	a,l
1392  0316  B7          	or	a, a
1393  0317  28 08       	jr	Z,l_spr_move_right_00104
1394  0319  0A          	ld	a, (bc)
1395  031A  C6 FF       	add	a,0xff
1396  031C  02          	ld	(bc), a
1397  031D  2E 01       	ld	l,0x01
1398  031F  18 16       	jr	l_spr_move_right_00110
1399  0321              l_spr_move_right_00104:
1400  0321  E1          	pop	hl
1401  0322  5E          	ld	e,(hl)
1402  0323  1C          	inc	e
1403  0324  E5          	push	hl
1404  0325  73          	ld	(hl), e
1405  0326  AF          	xor	a, a
1406  0327  02          	ld	(bc), a
1407  0328  3E 1F       	ld	a,0x1f
1408  032A  93          	sub	a, e
1409  032B  30 08       	jr	NC,l_spr_move_right_00109
1410  032D  E1          	pop	hl
1411  032E  E5          	push	hl
1412  032F  36 1F       	ld	(hl),0x1f
1413  0331  2E 01       	ld	l,0x01
1414  0333  18 02       	jr	l_spr_move_right_00110
1415  0335              l_spr_move_right_00109:
1416  0335  2E 00       	ld	l,0x00
1417  0337              l_spr_move_right_00110:
1418  0337  DD F9       	ld	sp, ix
1419  0339  DD E1       	pop	ix
1420  033B  C9          	ret
1421  033C              	SECTION code_compiler
1422  033C              ;	---------------------------------
1423  033C              ; Function spr_move_left
1424  033C              ; ---------------------------------
1425  033C              _spr_move_left:
1426  033C  01 00 00    	ld	bc,_colint+0
1427  033F  79          	ld	a, c
1428  0340  21 00 00    	ld	hl,_sprite
1429  0343  86          	add	a, (hl)
1430  0344  5F          	ld	e, a
1431  0345  78          	ld	a, b
1432  0346  CE 00       	adc	a,0x00
1433  0348  57          	ld	d, a
1434  0349  1A          	ld	a, (de)
1435  034A  C6 FF       	add	a,0xff
1436  034C  12          	ld	(de), a
1437  034D  79          	ld	a, c
1438  034E  86          	add	a, (hl)
1439  034F  5F          	ld	e, a
1440  0350  78          	ld	a, b
1441  0351  CE 00       	adc	a,0x00
1442  0353  57          	ld	d, a
1443  0354  1A          	ld	a, (de)
1444  0355  3C          	inc	a
1445  0356  20 6C       	jr	NZ,l_spr_move_left_00109
1446  0358  5E          	ld	e,(hl)
1447  0359  16 00       	ld	d,0x00
1448  035B  21 00 00    	ld	hl,_lin
1449  035E  19          	add	hl,de
1450  035F  7E          	ld	a,(hl)
1451  0360  32 00 00    	ld	(_s_lin1),a
1452  0363  2A 00 00    	ld	hl,(_sprite)
1453  0366  26 00       	ld	h,0x00
1454  0368  11 00 00    	ld	de,_col
1455  036B  19          	add	hl,de
1456  036C  7E          	ld	a,(hl)
1457  036D  B7          	or	a, a
1458  036E  28 54       	jr	Z,l_spr_move_left_00109
1459  0370  57          	ld	d, a
1460  0371  15          	dec	d
1461  0372  3A 00 00    	ld	a,(_s_lin1)
1462  0375  C6 08       	add	a,0x08
1463  0377  C5          	push	bc
1464  0378  5F          	ld	e,a
1465  0379  D5          	push	de
1466  037A  CD 00 00    	call	_game_check_map
1467  037D  F1          	pop	af
1468  037E  C1          	pop	bc
1469  037F  7D          	ld	a,l
1470  0380  B7          	or	a, a
1471  0381  28 0B       	jr	Z,l_spr_move_left_00104
1472  0383  2A 00 00    	ld	hl,(_sprite)
1473  0386  26 00       	ld	h,0x00
1474  0388  09          	add	hl,bc
1475  0389  34          	inc	(hl)
1476  038A  2E 01       	ld	l,0x01
1477  038C  18 38       	jr	l_spr_move_left_00110
1478  038E              l_spr_move_left_00104:
1479  038E  2A 00 00    	ld	hl,(_sprite)
1480  0391  26 00       	ld	h,0x00
1481  0393  11 00 00    	ld	de,_col
1482  0396  19          	add	hl,de
1483  0397  7E          	ld	a,(hl)
1484  0398  EB          	ex	de,hl
1485  0399  C6 FF       	add	a,0xff
1486  039B  12          	ld	(de),a
1487  039C  2A 00 00    	ld	hl,(_sprite)
1488  039F  26 00       	ld	h,0x00
1489  03A1  09          	add	hl,bc
1490  03A2  4D          	ld	c,l
1491  03A3  44          	ld	b,h
1492  03A4  2A 00 00    	ld	hl,(_s_class)
1493  03A7  26 00       	ld	h,0x00
1494  03A9  11 00 00    	ld	de,_sprite_frames
1495  03AC  19          	add	hl,de
1496  03AD  7E          	ld	a,(hl)
1497  03AE  C6 FF       	add	a,0xff
1498  03B0  02          	ld	(bc), a
1499  03B1  2A 00 00    	ld	hl,(_sprite)
1500  03B4  26 00       	ld	h,0x00
1501  03B6  01 00 00    	ld	bc,_col
1502  03B9  09          	add	hl,bc
1503  03BA  7E          	ld	a,(hl)
1504  03BB  3C          	inc	a
1505  03BC  20 06       	jr	NZ,l_spr_move_left_00109
1506  03BE  AF          	xor	a,a
1507  03BF  77          	ld	(hl),a
1508  03C0  2E 01       	ld	l,0x01
1509  03C2  18 02       	jr	l_spr_move_left_00110
1510  03C4              l_spr_move_left_00109:
1511  03C4  2E 00       	ld	l,0x00
1512  03C6              l_spr_move_left_00110:
1513  03C6  C9          	ret
1514  03C7              	SECTION code_compiler
1515  03C7              ;	---------------------------------
1516  03C7              ; Function spr_move_left_f
1517  03C7              ; ---------------------------------
1518  03C7              _spr_move_left_f:
1519  03C7  01 00 00    	ld	bc,_colint+0
1520  03CA  79          	ld	a, c
1521  03CB  21 00 00    	ld	hl,_sprite
1522  03CE  86          	add	a, (hl)
1523  03CF  5F          	ld	e, a
1524  03D0  78          	ld	a, b
1525  03D1  CE 00       	adc	a,0x00
1526  03D3  57          	ld	d, a
1527  03D4  1A          	ld	a, (de)
1528  03D5  C6 FF       	add	a,0xff
1529  03D7  12          	ld	(de), a
1530  03D8  79          	ld	a, c
1531  03D9  86          	add	a, (hl)
1532  03DA  5F          	ld	e, a
1533  03DB  78          	ld	a, b
1534  03DC  CE 00       	adc	a,0x00
1535  03DE  57          	ld	d, a
1536  03DF  1A          	ld	a, (de)
1537  03E0  3C          	inc	a
1538  03E1  20 44       	jr	NZ,l_spr_move_left_f_00106
1539  03E3  5E          	ld	e,(hl)
1540  03E4  16 00       	ld	d,0x00
1541  03E6  21 00 00    	ld	hl,_lin
1542  03E9  19          	add	hl,de
1543  03EA  7E          	ld	a,(hl)
1544  03EB  32 00 00    	ld	(_s_lin1),a
1545  03EE  2A 00 00    	ld	hl,(_sprite)
1546  03F1  26 00       	ld	h,0x00
1547  03F3  11 00 00    	ld	de,_col
1548  03F6  19          	add	hl,de
1549  03F7  7E          	ld	a,(hl)
1550  03F8  EB          	ex	de,hl
1551  03F9  B7          	or	a,a
1552  03FA  28 2B       	jr	Z,l_spr_move_left_f_00106
1553  03FC  C6 FF       	add	a,0xff
1554  03FE  12          	ld	(de),a
1555  03FF  2A 00 00    	ld	hl,(_sprite)
1556  0402  26 00       	ld	h,0x00
1557  0404  09          	add	hl,bc
1558  0405  4D          	ld	c,l
1559  0406  44          	ld	b,h
1560  0407  2A 00 00    	ld	hl,(_s_class)
1561  040A  26 00       	ld	h,0x00
1562  040C  11 00 00    	ld	de,_sprite_frames
1563  040F  19          	add	hl,de
1564  0410  7E          	ld	a,(hl)
1565  0411  C6 FF       	add	a,0xff
1566  0413  02          	ld	(bc), a
1567  0414  2A 00 00    	ld	hl,(_sprite)
1568  0417  26 00       	ld	h,0x00
1569  0419  01 00 00    	ld	bc,_col
1570  041C  09          	add	hl,bc
1571  041D  7E          	ld	a,(hl)
1572  041E  3C          	inc	a
1573  041F  20 06       	jr	NZ,l_spr_move_left_f_00106
1574  0421  AF          	xor	a,a
1575  0422  77          	ld	(hl),a
1576  0423  2E 01       	ld	l,0x01
1577  0425  18 02       	jr	l_spr_move_left_f_00107
1578  0427              l_spr_move_left_f_00106:
1579  0427  2E 00       	ld	l,0x00
1580  0429              l_spr_move_left_f_00107:
1581  0429  C9          	ret
1582  042A              	SECTION code_compiler
1583  042A              ;	---------------------------------
1584  042A              ; Function spr_clear_scr
1585  042A              ; ---------------------------------
1586  042A              _spr_clear_scr:
1587  042A  CD 00 00    	call	___sdcc_enter_ix
1588  042D  3B          	dec	sp
1589  042E  06 00       	ld	b,0x00
1590  0430              l_spr_clear_scr_00105:
1591  0430  C5          	push	bc
1592  0431  21 00 00    	ld	hl,0x0000
1593  0434  E5          	push	hl
1594  0435  AF          	xor	a, a
1595  0436  48          	ld	c,b
1596  0437  47          	ld	b,a
1597  0438  C5          	push	bc
1598  0439  CD 00 00    	call	_NIRVANAP_spriteT_callee
1599  043C  C1          	pop	bc
1600  043D  04          	inc	b
1601  043E  78          	ld	a, b
1602  043F  D6 08       	sub	a,0x08
1603  0441  38 ED       	jr	C,l_spr_clear_scr_00105
1604  0443  76          	halt
1605  0444  F3          	di
1606  0445  0E 00       	ld	c,0x00
1607  0447              l_spr_clear_scr_00117:
1608  0447  79          	ld	a, c
1609  0448  87          	add	a, a
1610  0449  DD 77 FF    	ld	(ix-1),a
1611  044C  5F          	ld	e,a
1612  044D  06 01       	ld	b,0x01
1613  044F              l_spr_clear_scr_00107:
1614  044F  78          	ld	a, b
1615  0450  07          	rlca
1616  0451  07          	rlca
1617  0452  07          	rlca
1618  0453  07          	rlca
1619  0454  E6 F0       	and	a,0xf0
1620  0456  57          	ld	d, a
1621  0457  C5          	push	bc
1622  0458  D5          	push	de
1623  0459  DD 7E FF    	ld	a,(ix-1)
1624  045C  5A          	ld	e,d
1625  045D  57          	ld	d,a
1626  045E  D5          	push	de
1627  045F  AF          	xor	a, a
1628  0460  F5          	push	af
1629  0461  33          	inc	sp
1630  0462  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1631  0465  D1          	pop	de
1632  0466  C1          	pop	bc
1633  0467  04          	inc	b
1634  0468  78          	ld	a, b
1635  0469  D6 0A       	sub	a,0x0a
1636  046B  38 E2       	jr	C,l_spr_clear_scr_00107
1637  046D  3E 1E       	ld	a,0x1e
1638  046F  93          	sub	a, e
1639  0470  57          	ld	d, a
1640  0471  1E 01       	ld	e,0x01
1641  0473              l_spr_clear_scr_00109:
1642  0473  7B          	ld	a, e
1643  0474  07          	rlca
1644  0475  07          	rlca
1645  0476  07          	rlca
1646  0477  07          	rlca
1647  0478  E6 F0       	and	a,0xf0
1648  047A  47          	ld	b, a
1649  047B  C5          	push	bc
1650  047C  D5          	push	de
1651  047D  58          	ld	e,b
1652  047E  D5          	push	de
1653  047F  AF          	xor	a, a
1654  0480  F5          	push	af
1655  0481  33          	inc	sp
1656  0482  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1657  0485  D1          	pop	de
1658  0486  C1          	pop	bc
1659  0487  1C          	inc	e
1660  0488  7B          	ld	a, e
1661  0489  D6 0A       	sub	a,0x0a
1662  048B  38 E6       	jr	C,l_spr_clear_scr_00109
1663  048D  FB          	ei
1664  048E  76          	halt
1665  048F  F3          	di
1666  0490  0C          	inc	c
1667  0491  79          	ld	a, c
1668  0492  D6 08       	sub	a,0x08
1669  0494  38 B1       	jr	C,l_spr_clear_scr_00117
1670  0496  FB          	ei
1671  0497  33          	inc	sp
1672  0498  DD E1       	pop	ix
1673  049A  C9          	ret
1674  049B              	SECTION code_compiler
1675  049B              ;	---------------------------------
1676  049B              ; Function spr_page_map is a stub
1677  049B              ; ---------------------------------
1678  049B              EXTERN l_ret
1679  049B              defc _spr_page_map = l_ret
1680  049B              	SECTION code_compiler
1681  049B              ;	---------------------------------
1682  049B              ; Function spr_paint_player
1683  049B              ; ---------------------------------
1684  049B              _spr_paint_player:
1685  049B  3A 00 00    	ld	a,(_player_hit)
1686  049E  B7          	or	a, a
1687  049F  28 1C       	jr	Z,l_spr_paint_player_00104
1688  04A1  21 00 00    	ld	hl,_loop_count
1689  04A4  CB 46       	bit	0, (hl)
1690  04A6  20 15       	jr	NZ,l_spr_paint_player_00104
1691  04A8  CD 4A 07    	call	_spr_back_repaint
1692  04AB  21 00 00    	ld	hl,0x0000
1693  04AE  E5          	push	hl
1694  04AF  AF          	xor	a, a
1695  04B0  2A 00 00    	ld	hl,(_sprite)
1696  04B3  67          	ld	h,a
1697  04B4  E5          	push	hl
1698  04B5  CD 00 00    	call	_NIRVANAP_spriteT_callee
1699  04B8  2E 01       	ld	l,0x01
1700  04BA  C3 42 05    	jp	l_spr_paint_player_00111
1701  04BD              l_spr_paint_player_00104:
1702  04BD  3A 07 00    	ld	a,(_col + 0x0007)
1703  04C0  32 00 00    	ld	(_s_col1),a
1704  04C3  3A 07 00    	ld	a,(_lin + 0x0007)
1705  04C6  32 00 00    	ld	(_s_lin1),a
1706  04C9  21 00 00    	ld	hl,_s_lin1
1707  04CC  7E          	ld	a, (hl)
1708  04CD  C6 10       	add	a,0x10
1709  04CF  47          	ld	b, a
1710  04D0  7E          	ld	a, (hl)
1711  04D1  21 00 00    	ld	hl,_s_lin0
1712  04D4  96          	sub	a, (hl)
1713  04D5  20 09       	jr	NZ,l_spr_paint_player_00107
1714  04D7  3A 00 00    	ld	a,(_s_col1)
1715  04DA  21 00 00    	ld	hl,_s_col0
1716  04DD  96          	sub	a, (hl)
1717  04DE  28 25       	jr	Z,l_spr_paint_player_00108
1718  04E0              l_spr_paint_player_00107:
1719  04E0  21 07 00    	ld	hl,+(_tile + 0x0007)
1720  04E3  4E          	ld	c, (hl)
1721  04E4  21 07 00    	ld	hl,+(_colint + 0x0007)
1722  04E7  5E          	ld	e, (hl)
1723  04E8  79          	ld	a, c
1724  04E9  83          	add	a, e
1725  04EA  32 00 00    	ld	(_s_tile1),a
1726  04ED  3A 00 00    	ld	a,(_s_col1)
1727  04F0  48          	ld	c,b
1728  04F1  47          	ld	b,a
1729  04F2  C5          	push	bc
1730  04F3  2A FF FF    	ld	hl,(_s_tile1 - 1)
1731  04F6  3A 00 00    	ld	a,(_sprite)
1732  04F9  6F          	ld	l,a
1733  04FA  E5          	push	hl
1734  04FB  CD 00 00    	call	_NIRVANAP_spriteT_callee
1735  04FE  CD 4A 07    	call	_spr_back_repaint
1736  0501  2E 01       	ld	l,0x01
1737  0503  18 3D       	jr	l_spr_paint_player_00111
1738  0505              l_spr_paint_player_00108:
1739  0505  3A 00 00    	ld	a,(_sprite)
1740  0508  07          	rlca
1741  0509  07          	rlca
1742  050A  07          	rlca
1743  050B  E6 F8       	and	a,0xf8
1744  050D  5F          	ld	e, a
1745  050E  16 00       	ld	d,0x00
1746  0510  21 98 DC    	ld	hl,0xdc98
1747  0513  19          	add	hl, de
1748  0514  7E          	ld	a, (hl)
1749  0515  32 00 00    	ld	(_s_tile0),a
1750  0518  21 07 00    	ld	hl,+(_tile + 0x0007)
1751  051B  4E          	ld	c, (hl)
1752  051C  21 07 00    	ld	hl,+(_colint + 0x0007)
1753  051F  5E          	ld	e, (hl)
1754  0520  79          	ld	a, c
1755  0521  83          	add	a, e
1756  0522  32 00 00    	ld	(_s_tile1),a
1757  0525  21 00 00    	ld	hl,_s_tile0
1758  0528  96          	sub	a, (hl)
1759  0529  28 15       	jr	Z,l_spr_paint_player_00109
1760  052B  3A 00 00    	ld	a,(_s_col1)
1761  052E  48          	ld	c,b
1762  052F  47          	ld	b,a
1763  0530  C5          	push	bc
1764  0531  2A FF FF    	ld	hl,(_s_tile1 - 1)
1765  0534  3A 00 00    	ld	a,(_sprite)
1766  0537  6F          	ld	l,a
1767  0538  E5          	push	hl
1768  0539  CD 00 00    	call	_NIRVANAP_spriteT_callee
1769  053C  2E 00       	ld	l,0x00
1770  053E  18 02       	jr	l_spr_paint_player_00111
1771  0540              l_spr_paint_player_00109:
1772  0540  2E 00       	ld	l,0x00
1773  0542              l_spr_paint_player_00111:
1774  0542  C9          	ret
1775  0543              	SECTION code_compiler
1776  0543              ;	---------------------------------
1777  0543              ; Function spr_paint
1778  0543              ; ---------------------------------
1779  0543              _spr_paint:
1780  0543  2A 00 00    	ld	hl,(_sprite)
1781  0546  26 00       	ld	h,0x00
1782  0548  01 00 00    	ld	bc,_col
1783  054B  09          	add	hl,bc
1784  054C  7E          	ld	a,(hl)
1785  054D  32 00 00    	ld	(_s_col1),a
1786  0550  2A 00 00    	ld	hl,(_sprite)
1787  0553  26 00       	ld	h,0x00
1788  0555  01 00 00    	ld	bc,_lin
1789  0558  09          	add	hl,bc
1790  0559  7E          	ld	a,(hl)
1791  055A  32 00 00    	ld	(_s_lin1),a
1792  055D  21 00 00    	ld	hl,_s_lin0
1793  0560  96          	sub	a, (hl)
1794  0561  20 09       	jr	NZ,l_spr_paint_00103
1795  0563  3A 00 00    	ld	a,(_s_col1)
1796  0566  21 00 00    	ld	hl,_s_col0
1797  0569  96          	sub	a, (hl)
1798  056A  28 46       	jr	Z,l_spr_paint_00104
1799  056C              l_spr_paint_00103:
1800  056C  2A 00 00    	ld	hl,(_sprite)
1801  056F  26 00       	ld	h,0x00
1802  0571  01 00 00    	ld	bc,_tile
1803  0574  09          	add	hl,bc
1804  0575  4E          	ld	c, (hl)
1805  0576  3A 00 00    	ld	a,(_sprite)
1806  0579  5F          	ld	e,a
1807  057A  16 00       	ld	d,0x00
1808  057C  21 00 00    	ld	hl,_colint
1809  057F  19          	add	hl,de
1810  0580  7E          	ld	a,(hl)
1811  0581  81          	add	a,c
1812  0582  32 00 00    	ld	(_s_tile1),a
1813  0585  3A 00 00    	ld	a,(_s_lin0)
1814  0588  C6 10       	add	a,0x10
1815  058A  4F          	ld	c, a
1816  058B  3A 00 00    	ld	a, (_s_col0)
1817  058E  47          	ld	b,a
1818  058F  3A 00 00    	ld	a,(_map_paper_clr)
1819  0592  C5          	push	bc
1820  0593  F5          	push	af
1821  0594  33          	inc	sp
1822  0595  CD 00 00    	call	_NIRVANAP_fillT_callee
1823  0598  3A 00 00    	ld	a,(_s_lin1)
1824  059B  C6 10       	add	a,0x10
1825  059D  4F          	ld	c, a
1826  059E  3A 00 00    	ld	a, (_s_col1)
1827  05A1  47          	ld	b,a
1828  05A2  C5          	push	bc
1829  05A3  2A FF FF    	ld	hl,(_s_tile1 - 1)
1830  05A6  3A 00 00    	ld	a,(_sprite)
1831  05A9  6F          	ld	l,a
1832  05AA  E5          	push	hl
1833  05AB  CD 00 00    	call	_NIRVANAP_spriteT_callee
1834  05AE  2E 01       	ld	l,0x01
1835  05B0  18 4E       	jr	l_spr_paint_00107
1836  05B2              l_spr_paint_00104:
1837  05B2  3A 00 00    	ld	a,(_sprite)
1838  05B5  07          	rlca
1839  05B6  07          	rlca
1840  05B7  07          	rlca
1841  05B8  E6 F8       	and	a,0xf8
1842  05BA  4F          	ld	c, a
1843  05BB  06 00       	ld	b,0x00
1844  05BD  21 98 DC    	ld	hl,0xdc98
1845  05C0  09          	add	hl, bc
1846  05C1  7E          	ld	a, (hl)
1847  05C2  32 00 00    	ld	(_s_tile0),a
1848  05C5  2A 00 00    	ld	hl,(_sprite)
1849  05C8  26 00       	ld	h,0x00
1850  05CA  01 00 00    	ld	bc,_tile
1851  05CD  09          	add	hl,bc
1852  05CE  4E          	ld	c, (hl)
1853  05CF  3A 00 00    	ld	a,(_sprite)
1854  05D2  5F          	ld	e,a
1855  05D3  16 00       	ld	d,0x00
1856  05D5  21 00 00    	ld	hl,_colint
1857  05D8  19          	add	hl,de
1858  05D9  7E          	ld	a,(hl)
1859  05DA  81          	add	a,c
1860  05DB  32 00 00    	ld	(_s_tile1),a
1861  05DE  21 00 00    	ld	hl,_s_tile0
1862  05E1  96          	sub	a, (hl)
1863  05E2  28 1A       	jr	Z,l_spr_paint_00105
1864  05E4  3A 00 00    	ld	a,(_s_lin1)
1865  05E7  C6 10       	add	a,0x10
1866  05E9  4F          	ld	c, a
1867  05EA  3A 00 00    	ld	a, (_s_col1)
1868  05ED  47          	ld	b,a
1869  05EE  C5          	push	bc
1870  05EF  2A FF FF    	ld	hl,(_s_tile1 - 1)
1871  05F2  3A 00 00    	ld	a,(_sprite)
1872  05F5  6F          	ld	l,a
1873  05F6  E5          	push	hl
1874  05F7  CD 00 00    	call	_NIRVANAP_spriteT_callee
1875  05FA  2E 00       	ld	l,0x00
1876  05FC  18 02       	jr	l_spr_paint_00107
1877  05FE              l_spr_paint_00105:
1878  05FE  2E 00       	ld	l,0x00
1879  0600              l_spr_paint_00107:
1880  0600  C9          	ret
1881  0601              	SECTION code_compiler
1882  0601              ;	---------------------------------
1883  0601              ; Function spr_destroy
1884  0601              ; ---------------------------------
1885  0601              _spr_destroy:
1886  0601  CD 00 00    	call	___sdcc_enter_ix
1887  0604  F5          	push	af
1888  0605  F5          	push	af
1889  0606  45          	ld	b, l
1890  0607  21 00 00    	ld	hl,_spr_count
1891  060A  35          	dec	(hl)
1892  060B  3E 00       	ld	a, +((_lin) & 0xFF)
1893  060D  80          	add	a, b
1894  060E  DD 77 FE    	ld	(ix-2),a
1895  0611  6F          	ld	l,a
1896  0612  3E 00       	ld	a,+((_lin) / 256)
1897  0614  CE 00       	adc	a,0x00
1898  0616  DD 77 FF    	ld	(ix-1),a
1899  0619  67          	ld	h,a
1900  061A  7E          	ld	a, (hl)
1901  061B  32 00 00    	ld	(_s_lin0),a
1902  061E  3E 00       	ld	a, +((_col) & 0xFF)
1903  0620  80          	add	a, b
1904  0621  DD 77 FC    	ld	(ix-4),a
1905  0624  3E 00       	ld	a, +((_col) / 256)
1906  0626  CE 00       	adc	a,0x00
1907  0628  DD 77 FD    	ld	(ix-3),a
1908  062B  E1          	pop	hl
1909  062C  7E          	ld	a,(hl)
1910  062D  E5          	push	hl
1911  062E  32 00 00    	ld	(_s_col0),a
1912  0631  2A 00 00    	ld	hl,(_s_lin0)
1913  0634  C5          	push	bc
1914  0635  67          	ld	h,a
1915  0636  E5          	push	hl
1916  0637  CD 00 00    	call	_spr_calc_index
1917  063A  F1          	pop	af
1918  063B  EB          	ex	de,hl
1919  063C  C1          	pop	bc
1920  063D  ED 53 00 00 	ld	(_index0),de
1921  0641  21 00 00    	ld	hl,_s_tile0
1922  0644  36 00       	ld	(hl),0x00
1923  0646  C5          	push	bc
1924  0647  21 00 00    	ld	hl,0x0000
1925  064A  E5          	push	hl
1926  064B  AF          	xor	a, a
1927  064C  48          	ld	c,b
1928  064D  47          	ld	b,a
1929  064E  C5          	push	bc
1930  064F  CD 00 00    	call	_NIRVANAP_spriteT_callee
1931  0652  CD 4A 07    	call	_spr_back_repaint
1932  0655  C1          	pop	bc
1933  0656  3E 00       	ld	a, +((_tile) & 0xFF)
1934  0658  80          	add	a, b
1935  0659  5F          	ld	e, a
1936  065A  3E 00       	ld	a, +((_tile) / 256)
1937  065C  CE 00       	adc	a,0x00
1938  065E  E1          	pop	hl
1939  065F  57          	ld	d,a
1940  0660  3A 00 00    	ld	a,(_s_tile0)
1941  0663  12          	ld	(de),a
1942  0664  E5          	push	hl
1943  0665  36 00       	ld	(hl),0x00
1944  0667  DD 6E FE    	ld	l,(ix-2)
1945  066A  DD 66 FF    	ld	h,(ix-1)
1946  066D  36 00       	ld	(hl),0x00
1947  066F  11 00 00    	ld	de,_class+0
1948  0672  68          	ld	l,b
1949  0673  26 00       	ld	h,0x00
1950  0675  19          	add	hl, de
1951  0676  36 00       	ld	(hl),0x00
1952  0678  11 00 00    	ld	de,_state+0
1953  067B  68          	ld	l,b
1954  067C  26 00       	ld	h,0x00
1955  067E  19          	add	hl, de
1956  067F  36 00       	ld	(hl),0x00
1957  0681  11 00 00    	ld	de,_state_a+0
1958  0684  68          	ld	l,b
1959  0685  26 00       	ld	h,0x00
1960  0687  19          	add	hl, de
1961  0688  36 00       	ld	(hl),0x00
1962  068A  DD F9       	ld	sp, ix
1963  068C  DD E1       	pop	ix
1964  068E  C9          	ret
1965  068F              	SECTION code_compiler
1966  068F              ;	---------------------------------
1967  068F              ; Function spr_tile
1968  068F              ; ---------------------------------
1969  068F              _spr_tile:
1970  068F  CD 00 00    	call	___sdcc_enter_ix
1971  0692  F5          	push	af
1972  0693  DD 75 FE    	ld	(ix-2),l
1973  0696  DD 74 FF    	ld	(ix-1),h
1974  0699  21 00 00    	ld	hl,_tmp0
1975  069C  36 00       	ld	(hl),0x00
1976  069E  E1          	pop	hl
1977  069F  01 00 00    	ld	bc,_class+0
1978  06A2  E5          	push	hl
1979  06A3  6E          	ld	l, (hl)
1980  06A4  26 00       	ld	h,0x00
1981  06A6  09          	add	hl, bc
1982  06A7  4E          	ld	c, (hl)
1983  06A8              l_spr_tile_00103:
1984  06A8  21 00 00    	ld	hl,_tmp0
1985  06AB  7E          	ld	a, (hl)
1986  06AC  D6 06       	sub	a,0x06
1987  06AE  30 3A       	jr	NC,l_spr_tile_00105
1988  06B0  7E          	ld	a, (hl)
1989  06B1  5F          	ld	e, a
1990  06B2  87          	add	a, a
1991  06B3  83          	add	a, e
1992  06B4  21 00 00    	ld	hl,_tmp1
1993  06B7  77          	ld	(hl), a
1994  06B8  C6 00       	add	a,+((_spr_map_tile) & 0xFF)
1995  06BA  5F          	ld	e, a
1996  06BB  3E 00       	ld	a, +((_spr_map_tile) / 256)
1997  06BD  CE 00       	adc	a,0x00
1998  06BF  57          	ld	d, a
1999  06C0  1A          	ld	a, (de)
2000  06C1  47          	ld	b, a
2001  06C2  79          	ld	a, c
2002  06C3  90          	sub	a, b
2003  06C4  20 1E       	jr	NZ,l_spr_tile_00102
2004  06C6  4E          	ld	c, (hl)
2005  06C7  06 00       	ld	b,0x00
2006  06C9  59          	ld	e, c
2007  06CA  50          	ld	d, b
2008  06CB  13          	inc	de
2009  06CC  13          	inc	de
2010  06CD  21 00 00    	ld	hl,_spr_map_tile
2011  06D0  19          	add	hl,de
2012  06D1  03          	inc	bc
2013  06D2  EB          	ex	de,hl
2014  06D3  21 00 00    	ld	hl,_spr_map_tile
2015  06D6  09          	add	hl, bc
2016  06D7  C1          	pop	bc
2017  06D8  C5          	push	bc
2018  06D9  D5          	push	de
2019  06DA  C5          	push	bc
2020  06DB  E5          	push	hl
2021  06DC  CD F0 06    	call	_spr_tile_dir
2022  06DF  F1          	pop	af
2023  06E0  F1          	pop	af
2024  06E1  F1          	pop	af
2025  06E2  18 08       	jr	l_spr_tile_00106
2026  06E4              l_spr_tile_00102:
2027  06E4  21 00 00    	ld	hl,_tmp0
2028  06E7  34          	inc	(hl)
2029  06E8  18 BE       	jr	l_spr_tile_00103
2030  06EA              l_spr_tile_00105:
2031  06EA  2E 00       	ld	l,0x00
2032  06EC              l_spr_tile_00106:
2033  06EC  F1          	pop	af
2034  06ED  DD E1       	pop	ix
2035  06EF  C9          	ret
2036  06F0              	SECTION code_compiler
2037  06F0              ;	---------------------------------
2038  06F0              ; Function spr_tile_dir
2039  06F0              ; ---------------------------------
2040  06F0              _spr_tile_dir:
2041  06F0  CD 00 00    	call	___sdcc_enter_ix
2042  06F3  F5          	push	af
2043  06F4  11 00 00    	ld	de,_state+0
2044  06F7  DD 4E 06    	ld	c,(ix+6)
2045  06FA  DD 46 07    	ld	b,(ix+7)
2046  06FD  0A          	ld	a, (bc)
2047  06FE  4F          	ld	c, a
2048  06FF  69          	ld	l,c
2049  0700  26 00       	ld	h,0x00
2050  0702  19          	add	hl, de
2051  0703  46          	ld	b, (hl)
2052  0704  DD 5E 04    	ld	e,(ix+4)
2053  0707  DD 56 05    	ld	d,(ix+5)
2054  070A  1A          	ld	a, (de)
2055  070B  5F          	ld	e, a
2056  070C  CB 50       	bit	2, b
2057  070E  28 03       	jr	Z,l_spr_tile_dir_00102
2058  0710  6B          	ld	l, e
2059  0711  18 33       	jr	l_spr_tile_dir_00109
2060  0713              l_spr_tile_dir_00102:
2061  0713  DD 7E 08    	ld	a,(ix+8)
2062  0716  DD 77 FE    	ld	(ix-2),a
2063  0719  DD 7E 09    	ld	a,(ix+9)
2064  071C  DD 77 FF    	ld	(ix-1),a
2065  071F  CB 58       	bit	3, b
2066  0721  28 08       	jr	Z,l_spr_tile_dir_00104
2067  0723  E1          	pop	hl
2068  0724  4E          	ld	c,(hl)
2069  0725  E5          	push	hl
2070  0726  7B          	ld	a, e
2071  0727  81          	add	a, c
2072  0728  6F          	ld	l, a
2073  0729  18 1B       	jr	l_spr_tile_dir_00109
2074  072B              l_spr_tile_dir_00104:
2075  072B  06 00       	ld	b,0x00
2076  072D  21 00 00    	ld	hl,_state_a
2077  0730  09          	add	hl, bc
2078  0731  4E          	ld	c, (hl)
2079  0732  CB 61       	bit	4, c
2080  0734  28 03       	jr	Z,l_spr_tile_dir_00106
2081  0736  6B          	ld	l, e
2082  0737  18 0D       	jr	l_spr_tile_dir_00109
2083  0739              l_spr_tile_dir_00106:
2084  0739  CB 59       	bit	3, c
2085  073B  28 08       	jr	Z,l_spr_tile_dir_00108
2086  073D  E1          	pop	hl
2087  073E  4E          	ld	c,(hl)
2088  073F  E5          	push	hl
2089  0740  7B          	ld	a, e
2090  0741  81          	add	a, c
2091  0742  6F          	ld	l, a
2092  0743  18 01       	jr	l_spr_tile_dir_00109
2093  0745              l_spr_tile_dir_00108:
2094  0745  6B          	ld	l, e
2095  0746              l_spr_tile_dir_00109:
2096  0746  F1          	pop	af
2097  0747  DD E1       	pop	ix
2098  0749  C9          	ret
2099  074A              	SECTION code_compiler
2100  074A              ;	---------------------------------
2101  074A              ; Function spr_back_repaint
2102  074A              ; ---------------------------------
2103  074A              _spr_back_repaint:
2104  074A  2A FF FF    	ld	hl,(_s_col0 - 1)
2105  074D  3A 00 00    	ld	a,(_s_lin0)
2106  0750  6F          	ld	l,a
2107  0751  E5          	push	hl
2108  0752  CD 00 00    	call	_spr_calc_index
2109  0755  F1          	pop	af
2110  0756  22 00 00    	ld	(_index1),hl
2111  0759  21 00 00    	ld	hl,_s_lin0
2112  075C  4E          	ld	c, (hl)
2113  075D  CB 39       	srl	c
2114  075F  CB 39       	srl	c
2115  0761  CB 39       	srl	c
2116  0763  21 00 00    	ld	hl,_s_lin1
2117  0766  71          	ld	(hl),c
2118  0767  79          	ld	a,c
2119  0768  07          	rlca
2120  0769  07          	rlca
2121  076A  07          	rlca
2122  076B  E6 F8       	and	a,0xf8
2123  076D  77          	ld	(hl),a
2124  076E  C6 10       	add	a,0x10
2125  0770  77          	ld	(hl), a
2126  0771  79          	ld	a, c
2127  0772  3C          	inc	a
2128  0773  32 00 00    	ld	(_s_row1),a
2129  0776  3A 00 00    	ld	a,(_s_col0)
2130  0779  32 00 00    	ld	(_s_col1),a
2131  077C  CD 00 00    	call	_game_cell_paint
2132  077F  21 00 00    	ld	hl,_index1
2133  0782  34          	inc	(hl)
2134  0783  20 02       	jr	NZ,l_spr_back_repaint_00109
2135  0785  23          	inc	hl
2136  0786  34          	inc	(hl)
2137  0787              l_spr_back_repaint_00109:
2138  0787  21 00 00    	ld	hl,_s_col1
2139  078A  34          	inc	(hl)
2140  078B  CD 00 00    	call	_game_cell_paint
2141  078E  21 00 00    	ld	hl,_s_lin1
2142  0791  7E          	ld	a, (hl)
2143  0792  C6 08       	add	a,0x08
2144  0794  77          	ld	(hl), a
2145  0795  21 00 00    	ld	hl,_s_row1
2146  0798  34          	inc	(hl)
2147  0799  2A 00 00    	ld	hl,(_index1)
2148  079C  11 20 00    	ld	de,0x0020
2149  079F  19          	add	hl,de
2150  07A0  22 00 00    	ld	(_index1),hl
2151  07A3  CD 00 00    	call	_game_cell_paint
2152  07A6  2A 00 00    	ld	hl,(_index1)
2153  07A9  2B          	dec	hl
2154  07AA  22 00 00    	ld	(_index1),hl
2155  07AD  21 00 00    	ld	hl,_s_col1
2156  07B0  35          	dec	(hl)
2157  07B1  CD 00 00    	call	_game_cell_paint
2158  07B4  21 00 00    	ld	hl,_s_lin0
2159  07B7  CB 4E       	bit	1, (hl)
2160  07B9  28 27       	jr	Z,l_spr_back_repaint_00103
2161  07BB  21 00 00    	ld	hl,_s_lin1
2162  07BE  7E          	ld	a, (hl)
2163  07BF  C6 08       	add	a,0x08
2164  07C1  77          	ld	(hl), a
2165  07C2  21 00 00    	ld	hl,_s_row1
2166  07C5  34          	inc	(hl)
2167  07C6  2A 00 00    	ld	hl,(_index1)
2168  07C9  11 20 00    	ld	de,0x0020
2169  07CC  19          	add	hl,de
2170  07CD  22 00 00    	ld	(_index1),hl
2171  07D0  CD 00 00    	call	_game_cell_paint
2172  07D3  21 00 00    	ld	hl,_index1
2173  07D6  34          	inc	(hl)
2174  07D7  20 02       	jr	NZ,l_spr_back_repaint_00111
2175  07D9  23          	inc	hl
2176  07DA  34          	inc	(hl)
2177  07DB              l_spr_back_repaint_00111:
2178  07DB  21 00 00    	ld	hl,_s_col1
2179  07DE  34          	inc	(hl)
2180  07DF  CD 00 00    	call	_game_cell_paint
2181  07E2              l_spr_back_repaint_00103:
2182  07E2  C9          	ret
2183  07E3              	SECTION code_compiler
2184  07E3              ;	---------------------------------
2185  07E3              ; Function spr_init_effects
2186  07E3              ; ---------------------------------
2187  07E3              _spr_init_effects:
2188  07E3  01 00 00    	ld	bc,_anim_lin+0
2189  07E6  1E 00       	ld	e,0x00
2190  07E8              l_spr_init_effects_00102:
2191  07E8  6B          	ld	l,e
2192  07E9  26 00       	ld	h,0x00
2193  07EB  09          	add	hl, bc
2194  07EC  36 FF       	ld	(hl),0xff
2195  07EE  1C          	inc	e
2196  07EF  3E 07       	ld	a,0x07
2197  07F1  93          	sub	a, e
2198  07F2  30 F4       	jr	NC,l_spr_init_effects_00102
2199  07F4  21 00 00    	ld	hl,_anim_count
2200  07F7  36 00       	ld	(hl),0x00
2201  07F9  C9          	ret
2202  07FA              	SECTION code_compiler
2203  07FA              ;	---------------------------------
2204  07FA              ; Function spr_add_anim
2205  07FA              ; ---------------------------------
2206  07FA              _spr_add_anim:
2207  07FA  CD 00 00    	call	___sdcc_enter_ix
2208  07FD  DD 7E 05    	ld	a,(ix+5)
2209  0800  D6 1F       	sub	a,0x1f
2210  0802  D2 9E 08    	jp	NC, l_spr_add_anim_00111
2211  0805  DD 7E 04    	ld	a,(ix+4)
2212  0808  D6 B8       	sub	a,0xb8
2213  080A  D2 9E 08    	jp	NC, l_spr_add_anim_00111
2214  080D  01 00 00    	ld	bc,0x0000
2215  0810              l_spr_add_anim_00109:
2216  0810  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2217  0812  80          	add	a, b
2218  0813  5F          	ld	e, a
2219  0814  3E 00       	ld	a, +((_anim_lin) / 256)
2220  0816  CE 00       	adc	a,0x00
2221  0818  57          	ld	d, a
2222  0819  1A          	ld	a, (de)
2223  081A  3C          	inc	a
2224  081B  20 79       	jr	NZ,l_spr_add_anim_00110
2225  081D  76          	halt
2226  081E  21 00 00    	ld	hl,_anim_count
2227  0821  34          	inc	(hl)
2228  0822  DD 7E 04    	ld	a,(ix+4)
2229  0825  12          	ld	(de), a
2230  0826  3E 00       	ld	a, +((_anim_col) & 0xFF)
2231  0828  81          	add	a, c
2232  0829  5F          	ld	e, a
2233  082A  3E 00       	ld	a, +((_anim_col) / 256)
2234  082C  CE 00       	adc	a,0x00
2235  082E  57          	ld	d, a
2236  082F  DD 7E 05    	ld	a,(ix+5)
2237  0832  12          	ld	(de), a
2238  0833  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2239  0835  81          	add	a, c
2240  0836  5F          	ld	e, a
2241  0837  3E 00       	ld	a, +((_anim_tile) / 256)
2242  0839  CE 00       	adc	a,0x00
2243  083B  57          	ld	d, a
2244  083C  DD 7E 06    	ld	a,(ix+6)
2245  083F  12          	ld	(de), a
2246  0840  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2247  0842  81          	add	a, c
2248  0843  5F          	ld	e, a
2249  0844  3E 00       	ld	a, +((_anim_loop) / 256)
2250  0846  CE 00       	adc	a,0x00
2251  0848  57          	ld	d, a
2252  0849  DD 7E 08    	ld	a,(ix+8)
2253  084C  12          	ld	(de), a
2254  084D  11 00 00    	ld	de,_anim_int+0
2255  0850  69          	ld	l,c
2256  0851  26 00       	ld	h,0x00
2257  0853  19          	add	hl, de
2258  0854  36 00       	ld	(hl),0x00
2259  0856  3E 00       	ld	a, +((_anim_end) & 0xFF)
2260  0858  81          	add	a, c
2261  0859  5F          	ld	e, a
2262  085A  3E 00       	ld	a, +((_anim_end) / 256)
2263  085C  CE 00       	adc	a,0x00
2264  085E  57          	ld	d, a
2265  085F  DD 7E 07    	ld	a,(ix+7)
2266  0862  12          	ld	(de), a
2267  0863  C5          	push	bc
2268  0864  DD 66 05    	ld	h,(ix+5)
2269  0867  DD 6E 04    	ld	l,(ix+4)
2270  086A  E5          	push	hl
2271  086B  DD 7E 06    	ld	a,(ix+6)
2272  086E  F5          	push	af
2273  086F  33          	inc	sp
2274  0870  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2275  0873  DD 66 05    	ld	h,(ix+5)
2276  0876  DD 6E 04    	ld	l,(ix+4)
2277  0879  E5          	push	hl
2278  087A  CD 00 00    	call	_spr_calc_index
2279  087D  F1          	pop	af
2280  087E  EB          	ex	de,hl
2281  087F  C1          	pop	bc
2282  0880  ED 53 00 00 	ld	(_index0),de
2283  0884  11 00 00    	ld	de,_scr_map
2284  0887  2A 00 00    	ld	hl,(_index0)
2285  088A  19          	add	hl,de
2286  088B  7E          	ld	a,(hl)
2287  088C  EB          	ex	de,hl
2288  088D  B7          	or	a, a
2289  088E  20 0E       	jr	NZ,l_spr_add_anim_00111
2290  0890  79          	ld	a, c
2291  0891  C6 80       	add	a,0x80
2292  0893  12          	ld	(de), a
2293  0894  18 08       	jr	l_spr_add_anim_00111
2294  0896              l_spr_add_anim_00110:
2295  0896  04          	inc	b
2296  0897  78          	ld	a,b
2297  0898  48          	ld	c,b
2298  0899  D6 08       	sub	a,0x08
2299  089B  DA 10 08    	jp	C, l_spr_add_anim_00109
2300  089E              l_spr_add_anim_00111:
2301  089E  DD E1       	pop	ix
2302  08A0  C9          	ret
2303  08A1              	SECTION code_compiler
2304  08A1              ;	---------------------------------
2305  08A1              ; Function spr_play_anim
2306  08A1              ; ---------------------------------
2307  08A1              _spr_play_anim:
2308  08A1  CD 00 00    	call	___sdcc_enter_ix
2309  08A4  F5          	push	af
2310  08A5  F5          	push	af
2311  08A6  F5          	push	af
2312  08A7  3B          	dec	sp
2313  08A8  0E 00       	ld	c,0x00
2314  08AA  DD 71 F9    	ld	(ix-7),c
2315  08AD              l_spr_play_anim_00114:
2316  08AD  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2317  08AF  81          	add	a, c
2318  08B0  5F          	ld	e, a
2319  08B1  3E 00       	ld	a, +((_anim_lin) / 256)
2320  08B3  CE 00       	adc	a,0x00
2321  08B5  57          	ld	d, a
2322  08B6  1A          	ld	a, (de)
2323  08B7  DD 77 FF    	ld	(ix-1),a
2324  08BA  3C          	inc	a
2325  08BB  CA 8A 09    	jp	Z,l_spr_play_anim_00115
2326  08BE  3E 00       	ld	a, +((_anim_int) & 0xFF)
2327  08C0  81          	add	a, c
2328  08C1  DD 77 FD    	ld	(ix-3),a
2329  08C4  3E 00       	ld	a,+((_anim_int) / 256)
2330  08C6  CE 00       	adc	a,0x00
2331  08C8  DD 77 FE    	ld	(ix-2),a
2332  08CB  06 00       	ld	b,0x00
2333  08CD  21 00 00    	ld	hl,_anim_end
2334  08D0  09          	add	hl,bc
2335  08D1  7E          	ld	a,(hl)
2336  08D2  97          	sub	a,a
2337  08D3  30 3B       	jr	NC,l_spr_play_anim_00109
2338  08D5  DD CB F9 46 	bit	0,(ix-7)
2339  08D9  20 01       	jr	NZ,l_spr_play_anim_00102
2340  08DB  76          	halt
2341  08DC              l_spr_play_anim_00102:
2342  08DC  06 00       	ld	b,0x00
2343  08DE  21 00 00    	ld	hl,_anim_col
2344  08E1  09          	add	hl, bc
2345  08E2  46          	ld	b, (hl)
2346  08E3  1A          	ld	a, (de)
2347  08E4  57          	ld	d, a
2348  08E5  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2349  08E7  81          	add	a, c
2350  08E8  6F          	ld	l, a
2351  08E9  3E 00       	ld	a, +((_anim_tile) / 256)
2352  08EB  CE 00       	adc	a,0x00
2353  08ED  67          	ld	h, a
2354  08EE  5E          	ld	e, (hl)
2355  08EF  DD 6E FD    	ld	l,(ix-3)
2356  08F2  DD 66 FE    	ld	h,(ix-2)
2357  08F5  6E          	ld	l, (hl)
2358  08F6  7B          	ld	a, e
2359  08F7  85          	add	a, l
2360  08F8  C5          	push	bc
2361  08F9  4A          	ld	c, d
2362  08FA  C5          	push	bc
2363  08FB  F5          	push	af
2364  08FC  33          	inc	sp
2365  08FD  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2366  0900  C1          	pop	bc
2367  0901  DD 34 F9    	inc	(ix-7)
2368  0904  DD 6E FD    	ld	l,(ix-3)
2369  0907  DD 66 FE    	ld	h,(ix-2)
2370  090A  46          	ld	b,(hl)
2371  090B  04          	inc	b
2372  090C  70          	ld	(hl), b
2373  090D  C3 8A 09    	jp	l_spr_play_anim_00115
2374  0910              l_spr_play_anim_00109:
2375  0910  06 00       	ld	b,0x00
2376  0912  21 00 00    	ld	hl,_anim_loop
2377  0915  09          	add	hl, bc
2378  0916  7E          	ld	a, (hl)
2379  0917  DD 77 FC    	ld	(ix-4),a
2380  091A  B7          	or	a, a
2381  091B  20 60       	jr	NZ,l_spr_play_anim_00106
2382  091D  21 00 00    	ld	hl,_anim_count
2383  0920  35          	dec	(hl)
2384  0921  06 00       	ld	b,0x00
2385  0923  21 00 00    	ld	hl,_anim_col
2386  0926  09          	add	hl, bc
2387  0927  7E          	ld	a, (hl)
2388  0928  32 00 00    	ld	(_s_col0),a
2389  092B  DD 7E FF    	ld	a,(ix-1)
2390  092E  32 00 00    	ld	(_s_lin0),a
2391  0931  3A 00 00    	ld	a,(_s_col0)
2392  0934  2A 00 00    	ld	hl,(_s_lin0)
2393  0937  C5          	push	bc
2394  0938  D5          	push	de
2395  0939  67          	ld	h,a
2396  093A  E5          	push	hl
2397  093B  CD 00 00    	call	_spr_calc_index
2398  093E  F1          	pop	af
2399  093F  DD 74 FB    	ld	(ix-5),h
2400  0942  DD 75 FA    	ld	(ix-6),l
2401  0945  D1          	pop	de
2402  0946  C1          	pop	bc
2403  0947  DD 6E FA    	ld	l,(ix-6)
2404  094A  DD 66 FB    	ld	h,(ix-5)
2405  094D  22 00 00    	ld	(_index0),hl
2406  0950  3E 00       	ld	a,+((_scr_map) & 0xFF)
2407  0952  21 00 00    	ld	hl,_index0
2408  0955  86          	add	a, (hl)
2409  0956  DD 77 FA    	ld	(ix-6),a
2410  0959  3E 00       	ld	a, +((_scr_map) / 256)
2411  095B  23          	inc	hl
2412  095C  8E          	adc	a, (hl)
2413  095D  DD 6E FA    	ld	l,(ix-6)
2414  0960  DD 77 FB    	ld	(ix-5),a
2415  0963  67          	ld	h,a
2416  0964  7E          	ld	a, (hl)
2417  0965  D6 80       	sub	a,0x80
2418  0967  38 08       	jr	C,l_spr_play_anim_00104
2419  0969  DD 6E FA    	ld	l,(ix-6)
2420  096C  DD 66 FB    	ld	h,(ix-5)
2421  096F  36 00       	ld	(hl),0x00
2422  0971              l_spr_play_anim_00104:
2423  0971  C5          	push	bc
2424  0972  D5          	push	de
2425  0973  CD 4A 07    	call	_spr_back_repaint
2426  0976  D1          	pop	de
2427  0977  C1          	pop	bc
2428  0978  3E FF       	ld	a,0xff
2429  097A  12          	ld	(de), a
2430  097B  18 0D       	jr	l_spr_play_anim_00115
2431  097D              l_spr_play_anim_00106:
2432  097D  DD 46 FC    	ld	b,(ix-4)
2433  0980  05          	dec	b
2434  0981  70          	ld	(hl), b
2435  0982  DD 6E FD    	ld	l,(ix-3)
2436  0985  DD 66 FE    	ld	h,(ix-2)
2437  0988  36 FF       	ld	(hl),0xff
2438  098A              l_spr_play_anim_00115:
2439  098A  0C          	inc	c
2440  098B  79          	ld	a, c
2441  098C  D6 08       	sub	a,0x08
2442  098E  DA AD 08    	jp	C, l_spr_play_anim_00114
2443  0991  DD F9       	ld	sp, ix
2444  0993  DD E1       	pop	ix
2445  0995  C9          	ret
2446  0996              	SECTION code_compiler
2447  0996              ;	---------------------------------
2448  0996              ; Function spr_turn_horizontal
2449  0996              ; ---------------------------------
2450  0996              _spr_turn_horizontal:
2451  0996  21 00 00    	ld	hl,_s_state
2452  0999  CB 56       	bit	2,(hl)
2453  099B  28 05       	jr	Z,l_spr_turn_horizontal_00102
2454  099D  CD 73 00    	call	_spr_set_left
2455  09A0  18 06       	jr	l_spr_turn_horizontal_00103
2456  09A2              l_spr_turn_horizontal_00102:
2457  09A2  21 00 00    	ld	hl,_s_state
2458  09A5  CD 7A 00    	call	_spr_set_right
2459  09A8              l_spr_turn_horizontal_00103:
2460  09A8  2A 00 00    	ld	hl,(_sprite)
2461  09AB  26 00       	ld	h,0x00
2462  09AD  01 00 00    	ld	bc,_state
2463  09B0  09          	add	hl,bc
2464  09B1  3A 00 00    	ld	a,(_s_state)
2465  09B4  77          	ld	(hl),a
2466  09B5  2A 00 00    	ld	hl,(_sprite)
2467  09B8  26 00       	ld	h,0x00
2468  09BA  01 00 00    	ld	bc,_tile
2469  09BD  09          	add	hl,bc
2470  09BE  E5          	push	hl
2471  09BF  21 00 00    	ld	hl,_sprite
2472  09C2  CD 8F 06    	call	_spr_tile
2473  09C5  C1          	pop	bc
2474  09C6  7D          	ld	a,l
2475  09C7  02          	ld	(bc), a
2476  09C8  C9          	ret
2477  09C9              	SECTION code_compiler
2478  09C9              ;	---------------------------------
2479  09C9              ; Function spr_btile_paint_back
2480  09C9              ; ---------------------------------
2481  09C9              _spr_btile_paint_back:
2482  09C9  CD 00 00    	call	___sdcc_enter_ix
2483  09CC  F5          	push	af
2484  09CD  21 20 00    	ld	hl,0x0020
2485  09D0  22 00 00    	ld	(_tmp_ui),hl
2486  09D3  21 00 00    	ld	hl,_map_paper
2487  09D6  7E          	ld	a, (hl)
2488  09D7  0F          	rrca
2489  09D8  0F          	rrca
2490  09D9  0F          	rrca
2491  09DA  E6 1F       	and	a,0x1f
2492  09DC  B6          	or	a, (hl)
2493  09DD  32 00 00    	ld	(_map_paper_clr),a
2494  09E0  DD 36 FE 00 	ld	(ix-2),0x00
2495  09E4              l_spr_btile_paint_back_00120:
2496  09E4  21 00 00    	ld	hl,_tmp_ui
2497  09E7  7E          	ld	a, (hl)
2498  09E8  D6 20       	sub	a,0x20
2499  09EA  23          	inc	hl
2500  09EB  7E          	ld	a, (hl)
2501  09EC  DE 2D       	sbc	a,0x2d
2502  09EE  D2 9C 0A    	jp	NC, l_spr_btile_paint_back_00122
2503  09F1  DD 7E FE    	ld	a,(ix-2)
2504  09F4  D6 49       	sub	a,0x49
2505  09F6  30 0E       	jr	NC,l_spr_btile_paint_back_00119
2506  09F8  DD 7E FE    	ld	a,(ix-2)
2507  09FB  D6 0D       	sub	a,0x0d
2508  09FD  28 07       	jr	Z,l_spr_btile_paint_back_00119
2509  09FF  DD 7E FE    	ld	a,(ix-2)
2510  0A02  D6 0E       	sub	a,0x0e
2511  0A04  20 08       	jr	NZ,l_spr_btile_paint_back_00115
2512  0A06              l_spr_btile_paint_back_00119:
2513  0A06  3E 58       	ld	a,0x58
2514  0A08  DD 96 FE    	sub	a,(ix-2)
2515  0A0B  D2 8C 0A    	jp	NC, l_spr_btile_paint_back_00116
2516  0A0E              l_spr_btile_paint_back_00115:
2517  0A0E  21 00 00    	ld	hl,_tmp0
2518  0A11  36 00       	ld	(hl),0x00
2519  0A13  3A 00 00    	ld	a,(_map_paper_last)
2520  0A16  DD 77 FF    	ld	(ix-1),a
2521  0A19  4F          	ld	c, a
2522  0A1A  3E 38       	ld	a,0x38
2523  0A1C  DD 96 FE    	sub	a,(ix-2)
2524  0A1F  30 07       	jr	NC,l_spr_btile_paint_back_00109
2525  0A21  DD 7E FE    	ld	a,(ix-2)
2526  0A24  D6 41       	sub	a,0x41
2527  0A26  38 0E       	jr	C,l_spr_btile_paint_back_00105
2528  0A28              l_spr_btile_paint_back_00109:
2529  0A28  3E 10       	ld	a,0x10
2530  0A2A  DD 96 FE    	sub	a,(ix-2)
2531  0A2D  30 24       	jr	NC,l_spr_btile_paint_back_00112
2532  0A2F  DD 7E FE    	ld	a,(ix-2)
2533  0A32  D6 14       	sub	a,0x14
2534  0A34  30 1D       	jr	NC,l_spr_btile_paint_back_00112
2535  0A36              l_spr_btile_paint_back_00105:
2536  0A36  3A 00 00    	ld	a,(_map_paper)
2537  0A39  D6 10       	sub	a,0x10
2538  0A3B  20 0B       	jr	NZ,l_spr_btile_paint_back_00102
2539  0A3D  21 00 00    	ld	hl,_tmp0
2540  0A40  36 10       	ld	(hl),0x10
2541  0A42  DD 7E FF    	ld	a,(ix-1)
2542  0A45  32 00 00    	ld	(_map_paper_last_a),a
2543  0A48              l_spr_btile_paint_back_00102:
2544  0A48  3A 00 00    	ld	a,(_map_paper_last)
2545  0A4B  D6 10       	sub	a,0x10
2546  0A4D  20 04       	jr	NZ,l_spr_btile_paint_back_00112
2547  0A4F  21 00 00    	ld	hl,_map_paper_last_a
2548  0A52  4E          	ld	c, (hl)
2549  0A53              l_spr_btile_paint_back_00112:
2550  0A53  3A 00 00    	ld	a,(_tmp0)
2551  0A56  D6 10       	sub	a,0x10
2552  0A58  30 32       	jr	NC,l_spr_btile_paint_back_00116
2553  0A5A  3E 00       	ld	a, +((_btiles) & 0xFF)
2554  0A5C  21 00 00    	ld	hl,_tmp_ui
2555  0A5F  86          	add	a, (hl)
2556  0A60  47          	ld	b, a
2557  0A61  3E 00       	ld	a, +((_btiles) / 256)
2558  0A63  23          	inc	hl
2559  0A64  8E          	adc	a, (hl)
2560  0A65  57          	ld	d, a
2561  0A66  78          	ld	a, b
2562  0A67  21 00 00    	ld	hl,_tmp0
2563  0A6A  86          	add	a, (hl)
2564  0A6B  5F          	ld	e, a
2565  0A6C  7A          	ld	a, d
2566  0A6D  CE 00       	adc	a,0x00
2567  0A6F  57          	ld	d, a
2568  0A70  1A          	ld	a, (de)
2569  0A71  21 00 00    	ld	hl,_tmp
2570  0A74  77          	ld	(hl),a
2571  0A75  E6 38       	and	a,0x38
2572  0A77  91          	sub	a, c
2573  0A78  20 0C       	jr	NZ,l_spr_btile_paint_back_00111
2574  0A7A  7E          	ld	a, (hl)
2575  0A7B  E6 C7       	and	a,0xc7
2576  0A7D  77          	ld	(hl),a
2577  0A7E  21 00 00    	ld	hl,_map_paper
2578  0A81  B6          	or	a, (hl)
2579  0A82  32 00 00    	ld	(_tmp),a
2580  0A85  12          	ld	(de), a
2581  0A86              l_spr_btile_paint_back_00111:
2582  0A86  21 00 00    	ld	hl,_tmp0
2583  0A89  34          	inc	(hl)
2584  0A8A  18 C7       	jr	l_spr_btile_paint_back_00112
2585  0A8C              l_spr_btile_paint_back_00116:
2586  0A8C  2A 00 00    	ld	hl,(_tmp_ui)
2587  0A8F  11 30 00    	ld	de,0x0030
2588  0A92  19          	add	hl,de
2589  0A93  22 00 00    	ld	(_tmp_ui),hl
2590  0A96  DD 34 FE    	inc	(ix-2)
2591  0A99  C3 E4 09    	jp	l_spr_btile_paint_back_00120
2592  0A9C              l_spr_btile_paint_back_00122:
2593  0A9C  3A 00 00    	ld	a,(_map_paper)
2594  0A9F  32 00 00    	ld	(_map_paper_last),a
2595  0AA2  CD 00 00    	call	_game_attribs
2596  0AA5  F1          	pop	af
2597  0AA6  DD E1       	pop	ix
2598  0AA8  C9          	ret
2599  0AA9              	SECTION code_compiler
2600  0AA9              ;	---------------------------------
2601  0AA9              ; Function spr_flatten
2602  0AA9              ; ---------------------------------
2603  0AA9              _spr_flatten:
2604  0AA9  06 00       	ld	b,0x00
2605  0AAB              l_spr_flatten_00102:
2606  0AAB  78          	ld	a, b
2607  0AAC  07          	rlca
2608  0AAD  07          	rlca
2609  0AAE  07          	rlca
2610  0AAF  E6 F8       	and	a,0xf8
2611  0AB1  5F          	ld	e, a
2612  0AB2  16 00       	ld	d,0x00
2613  0AB4  21 96 DC    	ld	hl,0xdc96
2614  0AB7  19          	add	hl, de
2615  0AB8  7E          	ld	a, (hl)
2616  0AB9  32 00 00    	ld	(_s_lin1),a
2617  0ABC  16 00       	ld	d,0x00
2618  0ABE  21 95 DC    	ld	hl,0xdc95
2619  0AC1  19          	add	hl, de
2620  0AC2  7E          	ld	a, (hl)
2621  0AC3  32 00 00    	ld	(_s_col1),a
2622  0AC6  16 00       	ld	d,0x00
2623  0AC8  21 98 DC    	ld	hl,0xdc98
2624  0ACB  19          	add	hl, de
2625  0ACC  7E          	ld	a, (hl)
2626  0ACD  32 00 00    	ld	(_s_tile1),a
2627  0AD0  C5          	push	bc
2628  0AD1  21 00 00    	ld	hl,0x0000
2629  0AD4  E5          	push	hl
2630  0AD5  AF          	xor	a, a
2631  0AD6  48          	ld	c,b
2632  0AD7  47          	ld	b,a
2633  0AD8  C5          	push	bc
2634  0AD9  CD 00 00    	call	_NIRVANAP_spriteT_callee
2635  0ADC  2A FF FF    	ld	hl,(_s_col1 - 1)
2636  0ADF  3A 00 00    	ld	a,(_s_lin1)
2637  0AE2  6F          	ld	l,a
2638  0AE3  3A 00 00    	ld	a,(_s_tile1)
2639  0AE6  E5          	push	hl
2640  0AE7  F5          	push	af
2641  0AE8  33          	inc	sp
2642  0AE9  CD 00 00    	call	_NIRVANAP_drawT_callee
2643  0AEC  C1          	pop	bc
2644  0AED  04          	inc	b
2645  0AEE  3E 07       	ld	a,0x07
2646  0AF0  90          	sub	a, b
2647  0AF1  30 B8       	jr	NC,l_spr_flatten_00102
2648  0AF3  C9          	ret
2649  0AF4              	SECTION code_compiler
2650  0AF4              ;	---------------------------------
2651  0AF4              ; Function spr_unflattenP1
2652  0AF4              ; ---------------------------------
2653  0AF4              _spr_unflattenP1:
2654  0AF4  21 07 00    	ld	hl,+(_col + 0x0007)
2655  0AF7  46          	ld	b, (hl)
2656  0AF8  21 07 00    	ld	hl,+(_lin + 0x0007)
2657  0AFB  4E          	ld	c, (hl)
2658  0AFC  3A 00 00    	ld	a,(_s_tile1)
2659  0AFF  C5          	push	bc
2660  0B00  F5          	push	af
2661  0B01  33          	inc	sp
2662  0B02  CD 00 00    	call	_NIRVANAP_drawT_callee
2663  0B05  C9          	ret
2664  0B06              	SECTION IGNORE
2665  0000              
