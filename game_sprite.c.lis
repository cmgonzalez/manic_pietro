1     0000              MODULE game_sprite_c
2     0000              LINE 0, "game_sprite.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _spr_calc_index
204   0000              	GLOBAL _spr_chktime
205   0000              	GLOBAL _spr_set_up
206   0000              	GLOBAL _spr_set_down
207   0000              	GLOBAL _spr_set_left
208   0000              	GLOBAL _spr_set_right
209   0000              	GLOBAL _spr_move_up_f
210   0000              	GLOBAL _spr_move_down_f
211   0000              	GLOBAL _spr_move_up
212   0000              	GLOBAL _spr_draw8
213   0000              	GLOBAL _spr_move_down
214   0000              	GLOBAL _spr_move_horizontal
215   0000              	GLOBAL _spr_move_right_f
216   0000              	GLOBAL _spr_move_right
217   0000              	GLOBAL _spr_move_left
218   0000              	GLOBAL _spr_move_left_f
219   0000              	GLOBAL _spr_clear_scr
220   0000              	GLOBAL _spr_paint_player
221   0000              	GLOBAL _spr_paint
222   0000              	GLOBAL _spr_destroy
223   0000              	GLOBAL _spr_get_tile
224   0000              	GLOBAL _spr_get_tile_dir
225   0000              	GLOBAL _spr_back_repaint
226   0000              	GLOBAL _spr_add_anim
227   0000              	GLOBAL _spr_play_anim
228   0000              	GLOBAL _spr_turn_horizontal
229   0000              	GLOBAL _spr_btile_paint_back
230   0000              	GLOBAL _spr_flatten
231   0000              	GLOBAL _spr_unflattenP1
232   0000              ;--------------------------------------------------------
233   0000              ; Externals used
234   0000              ;--------------------------------------------------------
235   0000              	GLOBAL _ulltoa_callee
236   0000              	GLOBAL _ulltoa
237   0000              	GLOBAL _strtoull_callee
238   0000              	GLOBAL _strtoull
239   0000              	GLOBAL _strtoll_callee
240   0000              	GLOBAL _strtoll
241   0000              	GLOBAL _lltoa_callee
242   0000              	GLOBAL _lltoa
243   0000              	GLOBAL _llabs_callee
244   0000              	GLOBAL _llabs
245   0000              	GLOBAL __lldivu__callee
246   0000              	GLOBAL __lldivu_
247   0000              	GLOBAL __lldiv__callee
248   0000              	GLOBAL __lldiv_
249   0000              	GLOBAL _atoll_callee
250   0000              	GLOBAL _atoll
251   0000              	GLOBAL _realloc_unlocked_callee
252   0000              	GLOBAL _realloc_unlocked
253   0000              	GLOBAL _malloc_unlocked_fastcall
254   0000              	GLOBAL _malloc_unlocked
255   0000              	GLOBAL _free_unlocked_fastcall
256   0000              	GLOBAL _free_unlocked
257   0000              	GLOBAL _calloc_unlocked_callee
258   0000              	GLOBAL _calloc_unlocked
259   0000              	GLOBAL _aligned_alloc_unlocked_callee
260   0000              	GLOBAL _aligned_alloc_unlocked
261   0000              	GLOBAL _realloc_callee
262   0000              	GLOBAL _realloc
263   0000              	GLOBAL _malloc_fastcall
264   0000              	GLOBAL _malloc
265   0000              	GLOBAL _free_fastcall
266   0000              	GLOBAL _free
267   0000              	GLOBAL _calloc_callee
268   0000              	GLOBAL _calloc
269   0000              	GLOBAL _aligned_alloc_callee
270   0000              	GLOBAL _aligned_alloc
271   0000              	GLOBAL _utoa_callee
272   0000              	GLOBAL _utoa
273   0000              	GLOBAL _ultoa_callee
274   0000              	GLOBAL _ultoa
275   0000              	GLOBAL _system_fastcall
276   0000              	GLOBAL _system
277   0000              	GLOBAL _strtoul_callee
278   0000              	GLOBAL _strtoul
279   0000              	GLOBAL _strtol_callee
280   0000              	GLOBAL _strtol
281   0000              	GLOBAL _strtof_callee
282   0000              	GLOBAL _strtof
283   0000              	GLOBAL _strtod_callee
284   0000              	GLOBAL _strtod
285   0000              	GLOBAL _srand_fastcall
286   0000              	GLOBAL _srand
287   0000              	GLOBAL _rand
288   0000              	GLOBAL _quick_exit_fastcall
289   0000              	GLOBAL _quick_exit
290   0000              	GLOBAL _qsort_callee
291   0000              	GLOBAL _qsort
292   0000              	GLOBAL _ltoa_callee
293   0000              	GLOBAL _ltoa
294   0000              	GLOBAL _labs_fastcall
295   0000              	GLOBAL _labs
296   0000              	GLOBAL _itoa_callee
297   0000              	GLOBAL _itoa
298   0000              	GLOBAL _ftoh_callee
299   0000              	GLOBAL _ftoh
300   0000              	GLOBAL _ftog_callee
301   0000              	GLOBAL _ftog
302   0000              	GLOBAL _ftoe_callee
303   0000              	GLOBAL _ftoe
304   0000              	GLOBAL _ftoa_callee
305   0000              	GLOBAL _ftoa
306   0000              	GLOBAL _exit_fastcall
307   0000              	GLOBAL _exit
308   0000              	GLOBAL _dtoh_callee
309   0000              	GLOBAL _dtoh
310   0000              	GLOBAL _dtog_callee
311   0000              	GLOBAL _dtog
312   0000              	GLOBAL _dtoe_callee
313   0000              	GLOBAL _dtoe
314   0000              	GLOBAL _dtoa_callee
315   0000              	GLOBAL _dtoa
316   0000              	GLOBAL _bsearch_callee
317   0000              	GLOBAL _bsearch
318   0000              	GLOBAL _atol_fastcall
319   0000              	GLOBAL _atol
320   0000              	GLOBAL _atoi_fastcall
321   0000              	GLOBAL _atoi
322   0000              	GLOBAL _atof_fastcall
323   0000              	GLOBAL _atof
324   0000              	GLOBAL _atexit_fastcall
325   0000              	GLOBAL _atexit
326   0000              	GLOBAL _at_quick_exit_fastcall
327   0000              	GLOBAL _at_quick_exit
328   0000              	GLOBAL _abs_fastcall
329   0000              	GLOBAL _abs
330   0000              	GLOBAL _abort
331   0000              	GLOBAL __strtou__callee
332   0000              	GLOBAL __strtou_
333   0000              	GLOBAL __strtoi__callee
334   0000              	GLOBAL __strtoi_
335   0000              	GLOBAL __random_uniform_xor_8__fastcall
336   0000              	GLOBAL __random_uniform_xor_8_
337   0000              	GLOBAL __random_uniform_xor_32__fastcall
338   0000              	GLOBAL __random_uniform_xor_32_
339   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
340   0000              	GLOBAL __random_uniform_cmwc_8_
341   0000              	GLOBAL __shellsort__callee
342   0000              	GLOBAL __shellsort_
343   0000              	GLOBAL __quicksort__callee
344   0000              	GLOBAL __quicksort_
345   0000              	GLOBAL __insertion_sort__callee
346   0000              	GLOBAL __insertion_sort_
347   0000              	GLOBAL __ldivu__callee
348   0000              	GLOBAL __ldivu_
349   0000              	GLOBAL __ldiv__callee
350   0000              	GLOBAL __ldiv_
351   0000              	GLOBAL __divu__callee
352   0000              	GLOBAL __divu_
353   0000              	GLOBAL __div__callee
354   0000              	GLOBAL __div_
355   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
356   0000              	GLOBAL _NIRVANAP_drawTW_raw
357   0000              	GLOBAL _NIRVANAP_drawTW_callee
358   0000              	GLOBAL _NIRVANAP_drawTW
359   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
360   0000              	GLOBAL _NIRVANAP_drawW_raw
361   0000              	GLOBAL _NIRVANAP_drawW_callee
362   0000              	GLOBAL _NIRVANAP_drawW
363   0000              	GLOBAL _NIRVANAP_spriteT_callee
364   0000              	GLOBAL _NIRVANAP_spriteT
365   0000              	GLOBAL _NIRVANAP_fillC_callee
366   0000              	GLOBAL _NIRVANAP_fillC
367   0000              	GLOBAL _NIRVANAP_readC_callee
368   0000              	GLOBAL _NIRVANAP_readC
369   0000              	GLOBAL _NIRVANAP_paintC_callee
370   0000              	GLOBAL _NIRVANAP_paintC
371   0000              	GLOBAL _NIRVANAP_printQ_callee
372   0000              	GLOBAL _NIRVANAP_printQ
373   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
374   0000              	GLOBAL _NIRVANAP_fillT_raw
375   0000              	GLOBAL _NIRVANAP_fillT_callee
376   0000              	GLOBAL _NIRVANAP_fillT
377   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
378   0000              	GLOBAL _NIRVANAP_drawT_raw
379   0000              	GLOBAL _NIRVANAP_drawT_callee
380   0000              	GLOBAL _NIRVANAP_drawT
381   0000              	GLOBAL _NIRVANAP_stop
382   0000              	GLOBAL _NIRVANAP_start
383   0000              	GLOBAL _zx_print_str
384   0000              	GLOBAL _zx_print_int
385   0000              	GLOBAL _zx_print_chr
386   0000              	GLOBAL _zx_isr
387   0000              	GLOBAL _z80_otdr_callee
388   0000              	GLOBAL _z80_otdr
389   0000              	GLOBAL _z80_otir_callee
390   0000              	GLOBAL _z80_otir
391   0000              	GLOBAL _z80_outp_callee
392   0000              	GLOBAL _z80_outp
393   0000              	GLOBAL _z80_indr_callee
394   0000              	GLOBAL _z80_indr
395   0000              	GLOBAL _z80_inir_callee
396   0000              	GLOBAL _z80_inir
397   0000              	GLOBAL _z80_inp_fastcall
398   0000              	GLOBAL _z80_inp
399   0000              	GLOBAL _z80_set_int_state_fastcall
400   0000              	GLOBAL _z80_set_int_state
401   0000              	GLOBAL _z80_get_int_state
402   0000              	GLOBAL _z80_delay_tstate_fastcall
403   0000              	GLOBAL _z80_delay_tstate
404   0000              	GLOBAL _z80_delay_ms_fastcall
405   0000              	GLOBAL _z80_delay_ms
406   0000              	GLOBAL _im2_remove_generic_callback_callee
407   0000              	GLOBAL _im2_remove_generic_callback
408   0000              	GLOBAL _im2_prepend_generic_callback_callee
409   0000              	GLOBAL _im2_prepend_generic_callback
410   0000              	GLOBAL _im2_append_generic_callback_callee
411   0000              	GLOBAL _im2_append_generic_callback
412   0000              	GLOBAL _im2_create_generic_isr_8080_callee
413   0000              	GLOBAL _im2_create_generic_isr_8080
414   0000              	GLOBAL _im2_create_generic_isr_callee
415   0000              	GLOBAL _im2_create_generic_isr
416   0000              	GLOBAL _im2_install_isr_callee
417   0000              	GLOBAL _im2_install_isr
418   0000              	GLOBAL _im2_init_fastcall
419   0000              	GLOBAL _im2_init
420   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
421   0000              	GLOBAL _intrinsic_swap_word_32
422   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
423   0000              	GLOBAL _intrinsic_swap_endian_32
424   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
425   0000              	GLOBAL _intrinsic_swap_endian_16
426   0000              	GLOBAL _intrinsic_return_de
427   0000              	GLOBAL _intrinsic_return_bc
428   0000              	GLOBAL _intrinsic_exx
429   0000              	GLOBAL _intrinsic_ex_de_hl
430   0000              	GLOBAL _intrinsic_nop
431   0000              	GLOBAL _intrinsic_im_2
432   0000              	GLOBAL _intrinsic_im_1
433   0000              	GLOBAL _intrinsic_im_0
434   0000              	GLOBAL _intrinsic_retn
435   0000              	GLOBAL _intrinsic_reti
436   0000              	GLOBAL _intrinsic_halt
437   0000              	GLOBAL _intrinsic_ei
438   0000              	GLOBAL _intrinsic_di
439   0000              	GLOBAL _intrinsic_stub
440   0000              	GLOBAL _intrinsic_ini
441   0000              	GLOBAL _intrinsic_outi
442   0000              	GLOBAL _intrinsic_ldi
443   0000              	GLOBAL _zx_pattern_fill_callee
444   0000              	GLOBAL _zx_pattern_fill
445   0000              	GLOBAL _zx_saddrpup_fastcall
446   0000              	GLOBAL _zx_saddrpup
447   0000              	GLOBAL _zx_saddrpright_callee
448   0000              	GLOBAL _zx_saddrpright
449   0000              	GLOBAL _zx_saddrpleft_callee
450   0000              	GLOBAL _zx_saddrpleft
451   0000              	GLOBAL _zx_saddrpdown_fastcall
452   0000              	GLOBAL _zx_saddrpdown
453   0000              	GLOBAL _zx_saddrcup_fastcall
454   0000              	GLOBAL _zx_saddrcup
455   0000              	GLOBAL _zx_saddrcright_fastcall
456   0000              	GLOBAL _zx_saddrcright
457   0000              	GLOBAL _zx_saddrcleft_fastcall
458   0000              	GLOBAL _zx_saddrcleft
459   0000              	GLOBAL _zx_saddrcdown_fastcall
460   0000              	GLOBAL _zx_saddrcdown
461   0000              	GLOBAL _zx_saddr2py_fastcall
462   0000              	GLOBAL _zx_saddr2py
463   0000              	GLOBAL _zx_saddr2px_fastcall
464   0000              	GLOBAL _zx_saddr2px
465   0000              	GLOBAL _zx_saddr2cy_fastcall
466   0000              	GLOBAL _zx_saddr2cy
467   0000              	GLOBAL _zx_saddr2cx_fastcall
468   0000              	GLOBAL _zx_saddr2cx
469   0000              	GLOBAL _zx_saddr2aaddr_fastcall
470   0000              	GLOBAL _zx_saddr2aaddr
471   0000              	GLOBAL _zx_py2saddr_fastcall
472   0000              	GLOBAL _zx_py2saddr
473   0000              	GLOBAL _zx_py2aaddr_fastcall
474   0000              	GLOBAL _zx_py2aaddr
475   0000              	GLOBAL _zx_pxy2saddr_callee
476   0000              	GLOBAL _zx_pxy2saddr
477   0000              	GLOBAL _zx_pxy2aaddr_callee
478   0000              	GLOBAL _zx_pxy2aaddr
479   0000              	GLOBAL _zx_px2bitmask_fastcall
480   0000              	GLOBAL _zx_px2bitmask
481   0000              	GLOBAL _zx_cy2saddr_fastcall
482   0000              	GLOBAL _zx_cy2saddr
483   0000              	GLOBAL _zx_cy2aaddr_fastcall
484   0000              	GLOBAL _zx_cy2aaddr
485   0000              	GLOBAL _zx_cxy2saddr_callee
486   0000              	GLOBAL _zx_cxy2saddr
487   0000              	GLOBAL _zx_cxy2aaddr_callee
488   0000              	GLOBAL _zx_cxy2aaddr
489   0000              	GLOBAL _zx_bitmask2px_fastcall
490   0000              	GLOBAL _zx_bitmask2px
491   0000              	GLOBAL _zx_aaddrcup_fastcall
492   0000              	GLOBAL _zx_aaddrcup
493   0000              	GLOBAL _zx_aaddrcright_fastcall
494   0000              	GLOBAL _zx_aaddrcright
495   0000              	GLOBAL _zx_aaddrcleft_fastcall
496   0000              	GLOBAL _zx_aaddrcleft
497   0000              	GLOBAL _zx_aaddrcdown_fastcall
498   0000              	GLOBAL _zx_aaddrcdown
499   0000              	GLOBAL _zx_aaddr2saddr_fastcall
500   0000              	GLOBAL _zx_aaddr2saddr
501   0000              	GLOBAL _zx_aaddr2py_fastcall
502   0000              	GLOBAL _zx_aaddr2py
503   0000              	GLOBAL _zx_aaddr2px_fastcall
504   0000              	GLOBAL _zx_aaddr2px
505   0000              	GLOBAL _zx_aaddr2cy_fastcall
506   0000              	GLOBAL _zx_aaddr2cy
507   0000              	GLOBAL _zx_aaddr2cx_fastcall
508   0000              	GLOBAL _zx_aaddr2cx
509   0000              	GLOBAL _zx_visit_wc_pix_callee
510   0000              	GLOBAL _zx_visit_wc_pix
511   0000              	GLOBAL _zx_visit_wc_attr_callee
512   0000              	GLOBAL _zx_visit_wc_attr
513   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
514   0000              	GLOBAL _zx_scroll_wc_up_pix
515   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
516   0000              	GLOBAL _zx_scroll_wc_up_attr
517   0000              	GLOBAL _zx_scroll_wc_up_callee
518   0000              	GLOBAL _zx_scroll_wc_up
519   0000              	GLOBAL _zx_scroll_up_pix_callee
520   0000              	GLOBAL _zx_scroll_up_pix
521   0000              	GLOBAL _zx_scroll_up_attr_callee
522   0000              	GLOBAL _zx_scroll_up_attr
523   0000              	GLOBAL _zx_scroll_up_callee
524   0000              	GLOBAL _zx_scroll_up
525   0000              	GLOBAL _zx_cls_wc_pix_callee
526   0000              	GLOBAL _zx_cls_wc_pix
527   0000              	GLOBAL _zx_cls_wc_attr_callee
528   0000              	GLOBAL _zx_cls_wc_attr
529   0000              	GLOBAL _zx_cls_wc_callee
530   0000              	GLOBAL _zx_cls_wc
531   0000              	GLOBAL _zx_cls_pix_fastcall
532   0000              	GLOBAL _zx_cls_pix
533   0000              	GLOBAL _zx_cls_attr_fastcall
534   0000              	GLOBAL _zx_cls_attr
535   0000              	GLOBAL _zx_cls_fastcall
536   0000              	GLOBAL _zx_cls
537   0000              	GLOBAL _zx_border_fastcall
538   0000              	GLOBAL _zx_border
539   0000              	GLOBAL _zx_tape_verify_block_callee
540   0000              	GLOBAL _zx_tape_verify_block
541   0000              	GLOBAL _zx_tape_save_block_callee
542   0000              	GLOBAL _zx_tape_save_block
543   0000              	GLOBAL _zx_tape_load_block_callee
544   0000              	GLOBAL _zx_tape_load_block
545   0000              	GLOBAL _player_pick
546   0000              	GLOBAL _player_use_floor
547   0000              	GLOBAL _player_lost_life
548   0000              	GLOBAL _player_move_jump
549   0000              	GLOBAL _player_tile
550   0000              	GLOBAL _player_handle_conveyor
551   0000              	GLOBAL _player_pick_extra
552   0000              	GLOBAL _player_pick_exit
553   0000              	GLOBAL _player_pick_deadly
554   0000              	GLOBAL _player_pick_item
555   0000              	GLOBAL _player_check_ceil
556   0000              	GLOBAL _player_check_floor
557   0000              	GLOBAL _player_score_add
558   0000              	GLOBAL _player_move_walk
559   0000              	GLOBAL _player_turn
560   0000              	GLOBAL _player_move
561   0000              	GLOBAL _player_check_input
562   0000              	GLOBAL _player_init
563   0000              	GLOBAL _page
564   0000              	GLOBAL _game_anim_air
565   0000              	GLOBAL _reverse
566   0000              	GLOBAL _game_copy_sprite
567   0000              	GLOBAL _game_copy_sprite_color_reset
568   0000              	GLOBAL _game_copy_sprite_std
569   0000              	GLOBAL _game_flash_exit
570   0000              	GLOBAL _game_page_map
571   0000              	GLOBAL _game_attribs
572   0000              	GLOBAL _game_print_header
573   0000              	GLOBAL _game_check_time
574   0000              	GLOBAL _game_rotate_attrib_osd
575   0000              	GLOBAL _game_key_paint
576   0000              	GLOBAL _game_colour_message
577   0000              	GLOBAL _game_paint_attrib
578   0000              	GLOBAL _game_print_score
579   0000              	GLOBAL _game_cell_paint_index
580   0000              	GLOBAL _game_cell_paint
581   0000              	GLOBAL _game_check_cell
582   0000              	GLOBAL _game_check_map
583   0000              	GLOBAL _game_loop
584   0000              	GLOBAL _game_round_init
585   0000              	GLOBAL _game_start_timer
586   0000              	GLOBAL _game_update_stats
587   0000              	GLOBAL _game_print_footer
588   0000              	GLOBAL _game_fill_row
589   0000              	GLOBAL _game_cls
590   0000              	GLOBAL _game_fps
591   0000              	GLOBAL _game_draw_map
592   0000              	GLOBAL _enemy_kill
593   0000              	GLOBAL _enemy_init
594   0000              	GLOBAL _enemy_move
595   0000              	GLOBAL _enemy_turn
596   0000              	GLOBAL _enemy_static
597   0000              	GLOBAL _enemy_walk
598   0000              	GLOBAL _enemy_horizontal
599   0000              	GLOBAL _enemy_vertical
600   0000              	GLOBAL _ay_reset
601   0000              	GLOBAL _ay_song_stop
602   0000              	GLOBAL _ay_song_play
603   0000              	GLOBAL _ay_fx_stop
604   0000              	GLOBAL _ay_fx_play
605   0000              	GLOBAL _ay_is_playing
606   0000              	GLOBAL _audio_levelup
607   0000              	GLOBAL _audio_menu
608   0000              	GLOBAL _audio_game_end
609   0000              	GLOBAL _audio_game_start
610   0000              	GLOBAL _audio_level_complete
611   0000              	GLOBAL _audio_level_start
612   0000              	GLOBAL _audio_puerta
613   0000              	GLOBAL _audio_tick
614   0000              	GLOBAL _audio_door
615   0000              	GLOBAL _audio_coin
616   0000              	GLOBAL _audio_fall
617   0000              	GLOBAL _audio_jump
618   0000              	GLOBAL _audio_dead
619   0000              	GLOBAL _audio_ingame
620   0000              	GLOBAL _test_func
621   0000              	GLOBAL _test_proc
622   0000              	GLOBAL _in_mouse_kempston_wheel_delta
623   0000              	GLOBAL _in_mouse_kempston_wheel
624   0000              	GLOBAL _in_mouse_kempston_callee
625   0000              	GLOBAL _in_mouse_kempston
626   0000              	GLOBAL _in_mouse_kempston_setpos_callee
627   0000              	GLOBAL _in_mouse_kempston_setpos
628   0000              	GLOBAL _in_mouse_kempston_reset
629   0000              	GLOBAL _in_mouse_kempston_init
630   0000              	GLOBAL _in_mouse_amx_wheel_delta
631   0000              	GLOBAL _in_mouse_amx_wheel
632   0000              	GLOBAL _in_mouse_amx_callee
633   0000              	GLOBAL _in_mouse_amx
634   0000              	GLOBAL _in_mouse_amx_setpos_callee
635   0000              	GLOBAL _in_mouse_amx_setpos
636   0000              	GLOBAL _in_mouse_amx_reset
637   0000              	GLOBAL _in_mouse_amx_init_callee
638   0000              	GLOBAL _in_mouse_amx_init
639   0000              	GLOBAL _in_stick_sinclair2
640   0000              	GLOBAL _in_stick_sinclair1
641   0000              	GLOBAL _in_stick_kempston
642   0000              	GLOBAL _in_stick_fuller
643   0000              	GLOBAL _in_stick_cursor
644   0000              	GLOBAL _in_stick_keyboard_fastcall
645   0000              	GLOBAL _in_stick_keyboard
646   0000              	GLOBAL _in_wait_nokey
647   0000              	GLOBAL _in_wait_key
648   0000              	GLOBAL _in_test_key
649   0000              	GLOBAL _in_pause_fastcall
650   0000              	GLOBAL _in_pause
651   0000              	GLOBAL _in_key_scancode_fastcall
652   0000              	GLOBAL _in_key_scancode
653   0000              	GLOBAL _in_key_pressed_fastcall
654   0000              	GLOBAL _in_key_pressed
655   0000              	GLOBAL _in_inkey
656   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
657   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
658   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
659   0000              	GLOBAL _NIRVANAP_HOLE
660   0000              	GLOBAL _NIRVANAP_ISR_HOOK
661   0000              	GLOBAL _air_curr_byte
662   0000              	GLOBAL _spr_init_bright
663   0000              	GLOBAL _spr_init_cout3
664   0000              	GLOBAL _spr_init_cin3
665   0000              	GLOBAL _spr_init_cout2
666   0000              	GLOBAL _spr_init_cin2
667   0000              	GLOBAL _spr_init_cout1
668   0000              	GLOBAL _spr_init_cin1
669   0000              	GLOBAL _spr_init_cout0
670   0000              	GLOBAL _spr_init_cin0
671   0000              	GLOBAL _map_paper_last
672   0000              	GLOBAL _map_paper_clr
673   0000              	GLOBAL _map_paper
674   0000              	GLOBAL _map_border
675   0000              	GLOBAL _anim_count
676   0000              	GLOBAL _anim_loop
677   0000              	GLOBAL _anim_end
678   0000              	GLOBAL _anim_int
679   0000              	GLOBAL _anim_tile
680   0000              	GLOBAL _anim_col
681   0000              	GLOBAL _anim_lin
682   0000              	GLOBAL _map_heigth
683   0000              	GLOBAL _map_width
684   0000              	GLOBAL _scr_curr
685   0000              	GLOBAL _scr_map
686   0000              	GLOBAL _spr_kind
687   0000              	GLOBAL _spr_frames
688   0000              	GLOBAL _spr_speed
689   0000              	GLOBAL _spr_tile
690   0000              	GLOBAL _screen_ink
691   0000              	GLOBAL _screen_paper
692   0000              	GLOBAL _game_start_scr
693   0000              	GLOBAL _game_score_top
694   0000              	GLOBAL _player_coins
695   0000              	GLOBAL _player_lives
696   0000              	GLOBAL _game_over
697   0000              	GLOBAL _game_tile_cnt
698   0000              	GLOBAL _game_sound
699   0000              	GLOBAL _game_inf_lives
700   0000              	GLOBAL _game_inmune
701   0000              	GLOBAL _sprite_curr_index
702   0000              	GLOBAL _spr_count
703   0000              	GLOBAL _key_ink
704   0000              	GLOBAL _key_last
705   0000              	GLOBAL _anim_time
706   0000              	GLOBAL _time_key
707   0000              	GLOBAL _time_conv
708   0000              	GLOBAL _time_air
709   0000              	GLOBAL _frame_time
710   0000              	GLOBAL _curr_time
711   0000              	GLOBAL _p_state_a
712   0000              	GLOBAL _p_state
713   0000              	GLOBAL _key_attrib
714   0000              	GLOBAL _game_attrib_osd
715   0000              	GLOBAL _attrib_osd
716   0000              	GLOBAL _attrib_hl
717   0000              	GLOBAL _attrib
718   0000              	GLOBAL _zx_val_asm
719   0000              	GLOBAL _enemies
720   0000              	GLOBAL _tmp_ui
721   0000              	GLOBAL _index1
722   0000              	GLOBAL _index0
723   0000              	GLOBAL _index_tmp
724   0000              	GLOBAL _loop_count
725   0000              	GLOBAL _s_class
726   0000              	GLOBAL _s_row1
727   0000              	GLOBAL _s_col1
728   0000              	GLOBAL _s_col0
729   0000              	GLOBAL _s_lin1
730   0000              	GLOBAL _s_lin0
731   0000              	GLOBAL _s_tile1
732   0000              	GLOBAL _s_tile0
733   0000              	GLOBAL _nirv_sprite_index
734   0000              	GLOBAL _player_kill_index
735   0000              	GLOBAL _player_killed
736   0000              	GLOBAL _player_jump_top
737   0000              	GLOBAL _game_fps_show
738   0000              	GLOBAL _game_debug
739   0000              	GLOBAL _sprite
740   0000              	GLOBAL _fps
741   0000              	GLOBAL _game_mode
742   0000              	GLOBAL _game_tileset
743   0000              	GLOBAL _menu_curr_sel
744   0000              	GLOBAL _game_round_up
745   0000              	GLOBAL _game_exit_lin
746   0000              	GLOBAL _game_exit_col
747   0000              	GLOBAL _game_conveyor_col1
748   0000              	GLOBAL _game_conveyor_col0
749   0000              	GLOBAL _game_conveyor_lin
750   0000              	GLOBAL _game_conveyor_dir
751   0000              	GLOBAL _game_song_play_start
752   0000              	GLOBAL _game_song_play
753   0000              	GLOBAL _game_gravity
754   0000              	GLOBAL _player_jumpcount
755   0000              	GLOBAL _player_hit
756   0000              	GLOBAL _player_hit_time
757   0000              	GLOBAL _player_lin_scr
758   0000              	GLOBAL _player_col_scr
759   0000              	GLOBAL _player_fall_start
760   0000              	GLOBAL _player_jump_count
761   0000              	GLOBAL _player_jump_hack
762   0000              	GLOBAL _player_vel_inc
763   0000              	GLOBAL _player_vel_y0
764   0000              	GLOBAL _player_vel_y
765   0000              	GLOBAL _player_score
766   0000              	GLOBAL _tbuffer
767   0000              	GLOBAL _obj_count
768   0000              	GLOBAL _obj_col
769   0000              	GLOBAL _obj_lin
770   0000              	GLOBAL _spr_timer
771   0000              	GLOBAL _last_time
772   0000              	GLOBAL _colint
773   0000              	GLOBAL _col
774   0000              	GLOBAL _lin
775   0000              	GLOBAL _tile
776   0000              	GLOBAL _value_b
777   0000              	GLOBAL _value_a
778   0000              	GLOBAL _state_a
779   0000              	GLOBAL _state
780   0000              	GLOBAL _class
781   0000              	GLOBAL _dirs_last
782   0000              	GLOBAL _dirs
783   0000              	GLOBAL _k1
784   0000              	GLOBAL _joyfunc1
785   0000              	GLOBAL _btiles
786   0000              	GLOBAL _v3
787   0000              	GLOBAL _v2
788   0000              	GLOBAL _v1
789   0000              	GLOBAL _v0
790   0000              	GLOBAL _i
791   0000              	GLOBAL _spec128
792   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
793   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
794   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
795   0000              	GLOBAL _hitiles2
796   0000              	GLOBAL _hitiles1
797   0000              	GLOBAL _ay_fx_door
798   0000              	GLOBAL _ay_fx_tick
799   0000              	GLOBAL _ay_fx_game_start
800   0000              	GLOBAL _ay_fx_fall
801   0000              	GLOBAL _ay_fx_jump
802   0000              	GLOBAL _ay_fx_dead
803   0000              	GLOBAL _ay_fx_coin
804   0000              	GLOBAL _ay_song_menu
805   0000              	GLOBAL _ay_song_ingame1
806   0000              	GLOBAL _ay_song_ingame0
807   0000              	GLOBAL _hisprites2
808   0000              	GLOBAL _hisprites1
809   0000              	GLOBAL _img1
810   0000              	GLOBAL _air_end_byte
811   0000              	GLOBAL _air_start_byte
812   0000              	GLOBAL _tile_class
813   0000              	GLOBAL _scan_map
814   0000              	GLOBAL _key_map
815   0000              	GLOBAL _map_names0
816   0000              	GLOBAL _game_borders0
817   0000              	GLOBAL _paper0
818   0000              	GLOBAL _lenght0
819   0000              	GLOBAL _world0
820   0000              	GLOBAL _spr_init_len
821   0000              	GLOBAL _spr_init
822   0000              ;--------------------------------------------------------
823   0000              ; special function registers
824   0000              ;--------------------------------------------------------
825   0000              defc _IO_FE	=	0x00fe
826   0000              defc _IO_1FFD	=	0x1ffd
827   0000              defc _IO_7FFD	=	0x7ffd
828   0000              ;--------------------------------------------------------
829   0000              ; ram data
830   0000              ;--------------------------------------------------------
831   0000              	SECTION bss_compiler
832   0000              ;--------------------------------------------------------
833   0000              ; ram data
834   0000              ;--------------------------------------------------------
835   0000              
836   0000              IF 0
837   0000              
838   0000              ; .area _INITIALIZED removed by z88dk
839   0000              
840   0000              
841   0000              ENDIF
842   0000              
843   0000              ;--------------------------------------------------------
844   0000              ; absolute external ram data
845   0000              ;--------------------------------------------------------
846   0000              	SECTION IGNORE
847   0000              ;--------------------------------------------------------
848   0000              ; global & static initialisations
849   0000              ;--------------------------------------------------------
850   0000              	SECTION code_crt_init
851   0000              ;--------------------------------------------------------
852   0000              ; Home
853   0000              ;--------------------------------------------------------
854   0000              	SECTION IGNORE
855   0000              ;--------------------------------------------------------
856   0000              ; code
857   0000              ;--------------------------------------------------------
858   0000              	SECTION code_compiler
859   0000              ;	---------------------------------
860   0000              ; Function spr_calc_index
861   0000              ; ---------------------------------
862   0000              _spr_calc_index:
863   0000  CD 00 00    	call	___sdcc_enter_ix
864   0003  DD 4E 05    	ld	c,(ix+5)
865   0006  06 00       	ld	b,0x00
866   0008  DD 7E 04    	ld	a,(ix+4)
867   000B  0F          	rrca
868   000C  0F          	rrca
869   000D  0F          	rrca
870   000E  E6 1F       	and	a,0x1f
871   0010  6F          	ld	l, a
872   0011  26 00       	ld	h,0x00
873   0013  29          	add	hl, hl
874   0014  29          	add	hl, hl
875   0015  29          	add	hl, hl
876   0016  29          	add	hl, hl
877   0017  29          	add	hl, hl
878   0018  09          	add	hl, bc
879   0019  DD E1       	pop	ix
880   001B  C9          	ret
881   001C              	SECTION code_compiler
882   001C              ;	---------------------------------
883   001C              ; Function spr_chktime
884   001C              ; ---------------------------------
885   001C              _spr_chktime:
886   001C  CD 00 00    	call	___sdcc_enter_ix
887   001F  F5          	push	af
888   0020  EB          	ex	de,hl
889   0021  ED 4B 00 00 	ld	bc,(_curr_time)
890   0025  1A          	ld	a, (de)
891   0026  5F          	ld	e,a
892   0027  6F          	ld	l,a
893   0028  26 00       	ld	h,0x00
894   002A  29          	add	hl, hl
895   002B  3E 00       	ld	a, +((_last_time) & 0xFF)
896   002D  85          	add	a, l
897   002E  DD 77 FE    	ld	(ix-2),a
898   0031  3E 00       	ld	a, +((_last_time) / 256)
899   0033  8C          	adc	a, h
900   0034  DD 77 FF    	ld	(ix-1),a
901   0037  E1          	pop	hl
902   0038  7E          	ld	a,(hl)
903   0039  E5          	push	hl
904   003A  23          	inc	hl
905   003B  66          	ld	h, (hl)
906   003C  6F          	ld	l, a
907   003D  79          	ld	a, c
908   003E  95          	sub	a, l
909   003F  4F          	ld	c, a
910   0040  78          	ld	a, b
911   0041  9C          	sbc	a, h
912   0042  47          	ld	b, a
913   0043  16 00       	ld	d,0x00
914   0045  21 00 00    	ld	hl,_spr_speed
915   0048  19          	add	hl, de
916   0049  5E          	ld	e, (hl)
917   004A  16 00       	ld	d,0x00
918   004C  79          	ld	a, c
919   004D  93          	sub	a, e
920   004E  78          	ld	a, b
921   004F  9A          	sbc	a, d
922   0050  38 0D       	jr	C,l_spr_chktime_00102
923   0052  E1          	pop	hl
924   0053  ED 4B 00 00 	ld	bc,(_curr_time)
925   0057  E5          	push	hl
926   0058  71          	ld	(hl), c
927   0059  23          	inc	hl
928   005A  70          	ld	(hl), b
929   005B  2E 01       	ld	l,0x01
930   005D  18 02       	jr	l_spr_chktime_00103
931   005F              l_spr_chktime_00102:
932   005F  2E 00       	ld	l,0x00
933   0061              l_spr_chktime_00103:
934   0061  F1          	pop	af
935   0062  DD E1       	pop	ix
936   0064  C9          	ret
937   0065              	SECTION code_compiler
938   0065              ;	---------------------------------
939   0065              ; Function spr_set_up
940   0065              ; ---------------------------------
941   0065              _spr_set_up:
942   0065  ED 4B 00 00 	ld	bc,(_p_state)
943   0069  0A          	ld	a,(bc)
944   006A  F6 01       	or	a,0x01
945   006C  02          	ld	(bc),a
946   006D  ED 4B 00 00 	ld	bc,(_p_state)
947   0071  0A          	ld	a,(bc)
948   0072  E6 FD       	and	a,0xfd
949   0074  02          	ld	(bc), a
950   0075  C9          	ret
951   0076              	SECTION code_compiler
952   0076              ;	---------------------------------
953   0076              ; Function spr_set_down
954   0076              ; ---------------------------------
955   0076              _spr_set_down:
956   0076  ED 4B 00 00 	ld	bc,(_p_state)
957   007A  0A          	ld	a,(bc)
958   007B  F6 02       	or	a,0x02
959   007D  02          	ld	(bc),a
960   007E  ED 4B 00 00 	ld	bc,(_p_state)
961   0082  0A          	ld	a,(bc)
962   0083  E6 FE       	and	a,0xfe
963   0085  02          	ld	(bc), a
964   0086  C9          	ret
965   0087              	SECTION code_compiler
966   0087              ;	---------------------------------
967   0087              ; Function spr_set_left
968   0087              ; ---------------------------------
969   0087              _spr_set_left:
970   0087  ED 4B 00 00 	ld	bc,(_p_state_a)
971   008B  0A          	ld	a,(bc)
972   008C  E6 EF       	and	a,0xef
973   008E  02          	ld	(bc),a
974   008F  ED 4B 00 00 	ld	bc,(_p_state_a)
975   0093  0A          	ld	a,(bc)
976   0094  F6 08       	or	a,0x08
977   0096  02          	ld	(bc), a
978   0097  ED 4B 00 00 	ld	bc,(_p_state)
979   009B  0A          	ld	a,(bc)
980   009C  E6 FB       	and	a,0xfb
981   009E  02          	ld	(bc),a
982   009F  ED 4B 00 00 	ld	bc,(_p_state)
983   00A3  0A          	ld	a,(bc)
984   00A4  F6 08       	or	a,0x08
985   00A6  02          	ld	(bc), a
986   00A7  C9          	ret
987   00A8              	SECTION code_compiler
988   00A8              ;	---------------------------------
989   00A8              ; Function spr_set_right
990   00A8              ; ---------------------------------
991   00A8              _spr_set_right:
992   00A8  ED 4B 00 00 	ld	bc,(_p_state_a)
993   00AC  0A          	ld	a,(bc)
994   00AD  E6 F7       	and	a,0xf7
995   00AF  02          	ld	(bc),a
996   00B0  ED 4B 00 00 	ld	bc,(_p_state_a)
997   00B4  0A          	ld	a,(bc)
998   00B5  F6 10       	or	a,0x10
999   00B7  02          	ld	(bc), a
1000  00B8  ED 4B 00 00 	ld	bc,(_p_state)
1001  00BC  0A          	ld	a,(bc)
1002  00BD  E6 F7       	and	a,0xf7
1003  00BF  02          	ld	(bc),a
1004  00C0  ED 4B 00 00 	ld	bc,(_p_state)
1005  00C4  0A          	ld	a,(bc)
1006  00C5  F6 04       	or	a,0x04
1007  00C7  02          	ld	(bc), a
1008  00C8  C9          	ret
1009  00C9              	SECTION code_compiler
1010  00C9              ;	---------------------------------
1011  00C9              ; Function spr_move_up_f
1012  00C9              ; ---------------------------------
1013  00C9              _spr_move_up_f:
1014  00C9  2A 00 00    	ld	hl,(_sprite)
1015  00CC  26 00       	ld	h,0x00
1016  00CE  01 00 00    	ld	bc,_lin
1017  00D1  09          	add	hl,bc
1018  00D2  7E          	ld	a,(hl)
1019  00D3  B7          	or	a,a
1020  00D4  28 03       	jr	Z,l_spr_move_up_f_00102
1021  00D6  C6 FE       	add	a,0xfe
1022  00D8  77          	ld	(hl),a
1023  00D9              l_spr_move_up_f_00102:
1024  00D9  2E 00       	ld	l,0x00
1025  00DB  C9          	ret
1026  00DC              	SECTION code_compiler
1027  00DC              ;	---------------------------------
1028  00DC              ; Function spr_move_down_f
1029  00DC              ; ---------------------------------
1030  00DC              _spr_move_down_f:
1031  00DC  2A 00 00    	ld	hl,(_sprite)
1032  00DF  26 00       	ld	h,0x00
1033  00E1  01 00 00    	ld	bc,_lin
1034  00E4  09          	add	hl,bc
1035  00E5  5E          	ld	e,(hl)
1036  00E6  3E 80       	ld	a,0x80
1037  00E8  93          	sub	a,e
1038  00E9  38 03       	jr	C,l_spr_move_down_f_00102
1039  00EB  1C          	inc	e
1040  00EC  1C          	inc	e
1041  00ED  73          	ld	(hl), e
1042  00EE              l_spr_move_down_f_00102:
1043  00EE  2E 00       	ld	l,0x00
1044  00F0  C9          	ret
1045  00F1              	SECTION code_compiler
1046  00F1              ;	---------------------------------
1047  00F1              ; Function spr_move_up
1048  00F1              ; ---------------------------------
1049  00F1              _spr_move_up:
1050  00F1  2A 00 00    	ld	hl,(_sprite)
1051  00F4  26 00       	ld	h,0x00
1052  00F6  01 00 00    	ld	bc,_lin
1053  00F9  09          	add	hl,bc
1054  00FA  4E          	ld	c,(hl)
1055  00FB  3E 10       	ld	a,0x10
1056  00FD  91          	sub	a, c
1057  00FE  38 05       	jr	C,l_spr_move_up_00115
1058  0100  2E 01       	ld	l,0x01
1059  0102  C3 D0 01    	jp	l_spr_move_up_00117
1060  0105              l_spr_move_up_00115:
1061  0105  79          	ld	a, c
1062  0106  C6 FE       	add	a,0xfe
1063  0108  32 00 00    	ld	(_s_lin1),a
1064  010B  4F          	ld	c,a
1065  010C  CB 39       	srl	c
1066  010E  CB 39       	srl	c
1067  0110  CB 39       	srl	c
1068  0112  3A 00 00    	ld	a,(_s_lin0)
1069  0115  CB 3F       	srl	a
1070  0117  CB 3F       	srl	a
1071  0119  CB 3F       	srl	a
1072  011B  91          	sub	a, c
1073  011C  20 04       	jr	NZ,l_spr_move_up_00147
1074  011E  3E 01       	ld	a,0x01
1075  0120  18 01       	jr	l_spr_move_up_00148
1076  0122              l_spr_move_up_00147:
1077  0122  AF          	xor	a,a
1078  0123              l_spr_move_up_00148:
1079  0123  EE 01       	xor	a,0x01
1080  0125  CA C1 01    	jp	Z, l_spr_move_up_00113
1081  0128  2A 00 00    	ld	hl,(_sprite)
1082  012B  26 00       	ld	h,0x00
1083  012D  01 00 00    	ld	bc,_colint
1084  0130  09          	add	hl,bc
1085  0131  7E          	ld	a,(hl)
1086  0132  B7          	or	a,a
1087  0133  20 1C       	jr	NZ,l_spr_move_up_00104
1088  0135  2A 00 00    	ld	hl,(_sprite)
1089  0138  26 00       	ld	h,0x00
1090  013A  01 00 00    	ld	bc,_col
1091  013D  09          	add	hl,bc
1092  013E  7E          	ld	a,(hl)
1093  013F  2A 00 00    	ld	hl,(_s_lin1)
1094  0142  67          	ld	h,a
1095  0143  E5          	push	hl
1096  0144  CD 00 00    	call	_game_check_map
1097  0147  F1          	pop	af
1098  0148  7D          	ld	a, l
1099  0149  B7          	or	a, a
1100  014A  28 05       	jr	Z,l_spr_move_up_00104
1101  014C  2E 01       	ld	l,0x01
1102  014E  C3 D0 01    	jp	l_spr_move_up_00117
1103  0151              l_spr_move_up_00104:
1104  0151  2A 00 00    	ld	hl,(_sprite)
1105  0154  26 00       	ld	h,0x00
1106  0156  01 00 00    	ld	bc,_colint
1107  0159  09          	add	hl,bc
1108  015A  5E          	ld	e, (hl)
1109  015B  2A 00 00    	ld	hl,(_sprite)
1110  015E  26 00       	ld	h,0x00
1111  0160  01 00 00    	ld	bc,_spr_frames
1112  0163  09          	add	hl,bc
1113  0164  4E          	ld	c, (hl)
1114  0165  06 00       	ld	b,0x00
1115  0167  0B          	dec	bc
1116  0168  16 00       	ld	d,0x00
1117  016A  7B          	ld	a,e
1118  016B  91          	sub	a,c
1119  016C  20 20       	jr	NZ,l_spr_move_up_00108
1120  016E  7A          	ld	a,d
1121  016F  90          	sub	a,b
1122  0170  20 1C       	jr	NZ,l_spr_move_up_00108
1123  0172  2A 00 00    	ld	hl,(_sprite)
1124  0175  26 00       	ld	h,0x00
1125  0177  01 00 00    	ld	bc,_col
1126  017A  09          	add	hl,bc
1127  017B  46          	ld	b, (hl)
1128  017C  04          	inc	b
1129  017D  3A 00 00    	ld	a,(_s_lin1)
1130  0180  4F          	ld	c,a
1131  0181  C5          	push	bc
1132  0182  CD 00 00    	call	_game_check_map
1133  0185  F1          	pop	af
1134  0186  7D          	ld	a, l
1135  0187  B7          	or	a, a
1136  0188  28 04       	jr	Z,l_spr_move_up_00108
1137  018A  2E 01       	ld	l,0x01
1138  018C  18 42       	jr	l_spr_move_up_00117
1139  018E              l_spr_move_up_00108:
1140  018E  2A 00 00    	ld	hl,(_sprite)
1141  0191  26 00       	ld	h,0x00
1142  0193  01 00 00    	ld	bc,_col
1143  0196  09          	add	hl,bc
1144  0197  7E          	ld	a,(hl)
1145  0198  2A 00 00    	ld	hl,(_s_lin1)
1146  019B  67          	ld	h,a
1147  019C  E5          	push	hl
1148  019D  CD 00 00    	call	_game_check_map
1149  01A0  F1          	pop	af
1150  01A1  7D          	ld	a, l
1151  01A2  B7          	or	a, a
1152  01A3  20 18       	jr	NZ,l_spr_move_up_00109
1153  01A5  2A 00 00    	ld	hl,(_sprite)
1154  01A8  26 00       	ld	h,0x00
1155  01AA  01 00 00    	ld	bc,_col
1156  01AD  09          	add	hl,bc
1157  01AE  46          	ld	b,(hl)
1158  01AF  04          	inc	b
1159  01B0  3A 00 00    	ld	a,(_s_lin1)
1160  01B3  4F          	ld	c,a
1161  01B4  C5          	push	bc
1162  01B5  CD 00 00    	call	_game_check_map
1163  01B8  F1          	pop	af
1164  01B9  7D          	ld	a, l
1165  01BA  B7          	or	a, a
1166  01BB  28 04       	jr	Z,l_spr_move_up_00113
1167  01BD              l_spr_move_up_00109:
1168  01BD  2E 01       	ld	l,0x01
1169  01BF  18 0F       	jr	l_spr_move_up_00117
1170  01C1              l_spr_move_up_00113:
1171  01C1  2A 00 00    	ld	hl,(_sprite)
1172  01C4  26 00       	ld	h,0x00
1173  01C6  01 00 00    	ld	bc,_lin
1174  01C9  09          	add	hl,bc
1175  01CA  3A 00 00    	ld	a,(_s_lin1)
1176  01CD  77          	ld	(hl),a
1177  01CE  2E 00       	ld	l,0x00
1178  01D0              l_spr_move_up_00117:
1179  01D0  C9          	ret
1180  01D1              	SECTION code_compiler
1181  01D1              ;	---------------------------------
1182  01D1              ; Function spr_draw8
1183  01D1              ; ---------------------------------
1184  01D1              _spr_draw8:
1185  01D1  CD 00 00    	call	___sdcc_enter_ix
1186  01D4  3B          	dec	sp
1187  01D5  DD 7E 04    	ld	a,(ix+4)
1188  01D8  D6 10       	sub	a,0x10
1189  01DA  30 0F       	jr	NC,l_spr_draw8_00102
1190  01DC  DD 4E 04    	ld	c,(ix+4)
1191  01DF  CB 39       	srl	c
1192  01E1  DD 7E 04    	ld	a,(ix+4)
1193  01E4  E6 01       	and	a,0x01
1194  01E6  DD 77 04    	ld	(ix+4),a
1195  01E9  18 15       	jr	l_spr_draw8_00103
1196  01EB              l_spr_draw8_00102:
1197  01EB  DD 7E 04    	ld	a,(ix+4)
1198  01EE  C6 F0       	add	a,0xf0
1199  01F0  DD 77 04    	ld	(ix+4),a
1200  01F3  4F          	ld	c, a
1201  01F4  CB 39       	srl	c
1202  01F6  DD 7E 04    	ld	a,(ix+4)
1203  01F9  E6 01       	and	a,0x01
1204  01FB  C6 02       	add	a,0x02
1205  01FD  DD 77 04    	ld	(ix+4),a
1206  0200              l_spr_draw8_00103:
1207  0200  06 00       	ld	b,0x00
1208  0202  69          	ld	l, c
1209  0203  60          	ld	h, b
1210  0204  29          	add	hl, hl
1211  0205  09          	add	hl, bc
1212  0206  29          	add	hl, hl
1213  0207  29          	add	hl, hl
1214  0208  29          	add	hl, hl
1215  0209  29          	add	hl, hl
1216  020A  01 00 00    	ld	bc,_btiles
1217  020D  09          	add	hl,bc
1218  020E  DD 7E 04    	ld	a,(ix+4)
1219  0211  E6 03       	and	a,0x03
1220  0213  5F          	ld	e,a
1221  0214  DD 7E 05    	ld	a,(ix+5)
1222  0217  C6 08       	add	a,0x08
1223  0219  DD 77 FF    	ld	(ix-1),a
1224  021C  7B          	ld	a,e
1225  021D  B7          	or	a,a
1226  021E  4D          	ld	c,l
1227  021F  44          	ld	b,h
1228  0220  28 0F       	jr	Z,l_spr_draw8_00104
1229  0222  7B          	ld	a, e
1230  0223  3D          	dec	a
1231  0224  28 1E       	jr	Z,l_spr_draw8_00105
1232  0226  7B          	ld	a,e
1233  0227  FE 02       	cp	a,0x02
1234  0229  28 2D       	jr	Z,l_spr_draw8_00106
1235  022B  D6 03       	sub	a,0x03
1236  022D  28 42       	jr	Z,l_spr_draw8_00107
1237  022F  18 57       	jr	l_spr_draw8_00109
1238  0231              l_spr_draw8_00104:
1239  0231  21 20 00    	ld	hl,0x0020
1240  0234  09          	add	hl,bc
1241  0235  EB          	ex	de,hl
1242  0236  DD 66 06    	ld	h,(ix+6)
1243  0239  DD 6E FF    	ld	l,(ix-1)
1244  023C  E5          	push	hl
1245  023D  D5          	push	de
1246  023E  C5          	push	bc
1247  023F  CD 00 00    	call	_NIRVANAP_printQ_callee
1248  0242  18 44       	jr	l_spr_draw8_00109
1249  0244              l_spr_draw8_00105:
1250  0244  21 28 00    	ld	hl,0x0028
1251  0247  09          	add	hl,bc
1252  0248  03          	inc	bc
1253  0249  EB          	ex	de,hl
1254  024A  DD 66 06    	ld	h,(ix+6)
1255  024D  DD 6E FF    	ld	l,(ix-1)
1256  0250  E5          	push	hl
1257  0251  D5          	push	de
1258  0252  C5          	push	bc
1259  0253  CD 00 00    	call	_NIRVANAP_printQ_callee
1260  0256  18 30       	jr	l_spr_draw8_00109
1261  0258              l_spr_draw8_00106:
1262  0258  21 24 00    	ld	hl,0x0024
1263  025B  09          	add	hl,bc
1264  025C  EB          	ex	de,hl
1265  025D  21 10 00    	ld	hl,0x0010
1266  0260  09          	add	hl,bc
1267  0261  4D          	ld	c, l
1268  0262  44          	ld	b, h
1269  0263  DD 66 06    	ld	h,(ix+6)
1270  0266  DD 6E FF    	ld	l,(ix-1)
1271  0269  E5          	push	hl
1272  026A  D5          	push	de
1273  026B  C5          	push	bc
1274  026C  CD 00 00    	call	_NIRVANAP_printQ_callee
1275  026F  18 17       	jr	l_spr_draw8_00109
1276  0271              l_spr_draw8_00107:
1277  0271  21 2C 00    	ld	hl,0x002c
1278  0274  09          	add	hl,bc
1279  0275  EB          	ex	de,hl
1280  0276  21 11 00    	ld	hl,0x0011
1281  0279  09          	add	hl,bc
1282  027A  4D          	ld	c, l
1283  027B  44          	ld	b, h
1284  027C  DD 66 06    	ld	h,(ix+6)
1285  027F  DD 6E FF    	ld	l,(ix-1)
1286  0282  E5          	push	hl
1287  0283  D5          	push	de
1288  0284  C5          	push	bc
1289  0285  CD 00 00    	call	_NIRVANAP_printQ_callee
1290  0288              l_spr_draw8_00109:
1291  0288  33          	inc	sp
1292  0289  DD E1       	pop	ix
1293  028B  C9          	ret
1294  028C              	SECTION code_compiler
1295  028C              ;	---------------------------------
1296  028C              ; Function spr_move_down
1297  028C              ; ---------------------------------
1298  028C              _spr_move_down:
1299  028C  2A 00 00    	ld	hl,(_sprite)
1300  028F  26 00       	ld	h,0x00
1301  0291  01 00 00    	ld	bc,_lin
1302  0294  09          	add	hl,bc
1303  0295  7E          	ld	a,(hl)
1304  0296  FE 80       	cp	a,0x80
1305  0298  38 07       	jr	C,l_spr_move_down_00115
1306  029A  36 80       	ld	(hl),0x80
1307  029C  2E 01       	ld	l,0x01
1308  029E  C3 6F 03    	jp	l_spr_move_down_00117
1309  02A1              l_spr_move_down_00115:
1310  02A1  C6 10       	add	a,0x10
1311  02A3  32 00 00    	ld	(_s_lin1),a
1312  02A6  4F          	ld	c,a
1313  02A7  CB 39       	srl	c
1314  02A9  CB 39       	srl	c
1315  02AB  CB 39       	srl	c
1316  02AD  21 00 00    	ld	hl,_s_lin0
1317  02B0  5E          	ld	e, (hl)
1318  02B1  CB 3B       	srl	e
1319  02B3  CB 3B       	srl	e
1320  02B5  CB 3B       	srl	e
1321  02B7  79          	ld	a, c
1322  02B8  93          	sub	a, e
1323  02B9  20 04       	jr	NZ,l_spr_move_down_00147
1324  02BB  3E 01       	ld	a,0x01
1325  02BD  18 01       	jr	l_spr_move_down_00148
1326  02BF              l_spr_move_down_00147:
1327  02BF  AF          	xor	a,a
1328  02C0              l_spr_move_down_00148:
1329  02C0  EE 01       	xor	a,0x01
1330  02C2  CA 5E 03    	jp	Z, l_spr_move_down_00113
1331  02C5  2A 00 00    	ld	hl,(_sprite)
1332  02C8  26 00       	ld	h,0x00
1333  02CA  01 00 00    	ld	bc,_colint
1334  02CD  09          	add	hl,bc
1335  02CE  7E          	ld	a,(hl)
1336  02CF  B7          	or	a,a
1337  02D0  20 1C       	jr	NZ,l_spr_move_down_00104
1338  02D2  2A 00 00    	ld	hl,(_sprite)
1339  02D5  26 00       	ld	h,0x00
1340  02D7  01 00 00    	ld	bc,_col
1341  02DA  09          	add	hl,bc
1342  02DB  7E          	ld	a,(hl)
1343  02DC  2A 00 00    	ld	hl,(_s_lin1)
1344  02DF  67          	ld	h,a
1345  02E0  E5          	push	hl
1346  02E1  CD 00 00    	call	_game_check_map
1347  02E4  F1          	pop	af
1348  02E5  7D          	ld	a, l
1349  02E6  B7          	or	a, a
1350  02E7  28 05       	jr	Z,l_spr_move_down_00104
1351  02E9  2E 01       	ld	l,0x01
1352  02EB  C3 6F 03    	jp	l_spr_move_down_00117
1353  02EE              l_spr_move_down_00104:
1354  02EE  2A 00 00    	ld	hl,(_sprite)
1355  02F1  26 00       	ld	h,0x00
1356  02F3  01 00 00    	ld	bc,_colint
1357  02F6  09          	add	hl,bc
1358  02F7  5E          	ld	e, (hl)
1359  02F8  2A 00 00    	ld	hl,(_sprite)
1360  02FB  26 00       	ld	h,0x00
1361  02FD  01 00 00    	ld	bc,_spr_frames
1362  0300  09          	add	hl,bc
1363  0301  4E          	ld	c, (hl)
1364  0302  06 00       	ld	b,0x00
1365  0304  0B          	dec	bc
1366  0305  16 00       	ld	d,0x00
1367  0307  7B          	ld	a,e
1368  0308  91          	sub	a,c
1369  0309  20 20       	jr	NZ,l_spr_move_down_00108
1370  030B  7A          	ld	a,d
1371  030C  90          	sub	a,b
1372  030D  20 1C       	jr	NZ,l_spr_move_down_00108
1373  030F  2A 00 00    	ld	hl,(_sprite)
1374  0312  26 00       	ld	h,0x00
1375  0314  01 00 00    	ld	bc,_col
1376  0317  09          	add	hl,bc
1377  0318  46          	ld	b, (hl)
1378  0319  04          	inc	b
1379  031A  3A 00 00    	ld	a,(_s_lin1)
1380  031D  4F          	ld	c,a
1381  031E  C5          	push	bc
1382  031F  CD 00 00    	call	_game_check_map
1383  0322  F1          	pop	af
1384  0323  7D          	ld	a, l
1385  0324  B7          	or	a, a
1386  0325  28 04       	jr	Z,l_spr_move_down_00108
1387  0327  2E 01       	ld	l,0x01
1388  0329  18 44       	jr	l_spr_move_down_00117
1389  032B              l_spr_move_down_00108:
1390  032B  2A 00 00    	ld	hl,(_sprite)
1391  032E  26 00       	ld	h,0x00
1392  0330  01 00 00    	ld	bc,_col
1393  0333  09          	add	hl,bc
1394  0334  7E          	ld	a,(hl)
1395  0335  2A 00 00    	ld	hl,(_s_lin1)
1396  0338  67          	ld	h,a
1397  0339  E5          	push	hl
1398  033A  CD 00 00    	call	_game_check_map
1399  033D  F1          	pop	af
1400  033E  7D          	ld	a, l
1401  033F  B7          	or	a, a
1402  0340  20 18       	jr	NZ,l_spr_move_down_00109
1403  0342  2A 00 00    	ld	hl,(_sprite)
1404  0345  26 00       	ld	h,0x00
1405  0347  01 00 00    	ld	bc,_col
1406  034A  09          	add	hl,bc
1407  034B  46          	ld	b,(hl)
1408  034C  04          	inc	b
1409  034D  3A 00 00    	ld	a,(_s_lin1)
1410  0350  4F          	ld	c,a
1411  0351  C5          	push	bc
1412  0352  CD 00 00    	call	_game_check_map
1413  0355  F1          	pop	af
1414  0356  7D          	ld	a, l
1415  0357  B7          	or	a, a
1416  0358  28 04       	jr	Z,l_spr_move_down_00113
1417  035A              l_spr_move_down_00109:
1418  035A  2E 01       	ld	l,0x01
1419  035C  18 11       	jr	l_spr_move_down_00117
1420  035E              l_spr_move_down_00113:
1421  035E  2A 00 00    	ld	hl,(_sprite)
1422  0361  26 00       	ld	h,0x00
1423  0363  01 00 00    	ld	bc,_lin
1424  0366  09          	add	hl,bc
1425  0367  3A 00 00    	ld	a,(_s_lin1)
1426  036A  C6 F2       	add	a,0xf2
1427  036C  77          	ld	(hl),a
1428  036D  2E 00       	ld	l,0x00
1429  036F              l_spr_move_down_00117:
1430  036F  C9          	ret
1431  0370              	SECTION code_compiler
1432  0370              ;	---------------------------------
1433  0370              ; Function spr_move_horizontal
1434  0370              ; ---------------------------------
1435  0370              _spr_move_horizontal:
1436  0370  CD 00 00    	call	___sdcc_enter_ix
1437  0373  3B          	dec	sp
1438  0374  ED 4B 00 00 	ld	bc,(_p_state)
1439  0378  0A          	ld	a,(bc)
1440  0379  CB 57       	bit	2, a
1441  037B  28 04       	jr	Z,l_spr_move_horizontal_00102
1442  037D  CD F3 03    	call	_spr_move_right
1443  0380  4D          	ld	c, l
1444  0381              l_spr_move_horizontal_00102:
1445  0381  2A 00 00    	ld	hl,(_p_state)
1446  0384  CB 5E       	bit	3,(hl)
1447  0386  28 04       	jr	Z,l_spr_move_horizontal_00104
1448  0388  CD F1 04    	call	_spr_move_left
1449  038B  4D          	ld	c, l
1450  038C              l_spr_move_horizontal_00104:
1451  038C  69          	ld	l, c
1452  038D  33          	inc	sp
1453  038E  DD E1       	pop	ix
1454  0390  C9          	ret
1455  0391              	SECTION code_compiler
1456  0391              ;	---------------------------------
1457  0391              ; Function spr_move_right_f
1458  0391              ; ---------------------------------
1459  0391              _spr_move_right_f:
1460  0391  CD 00 00    	call	___sdcc_enter_ix
1461  0394  F5          	push	af
1462  0395  3B          	dec	sp
1463  0396  2A 00 00    	ld	hl,(_sprite)
1464  0399  26 00       	ld	h,0x00
1465  039B  01 00 00    	ld	bc,_colint
1466  039E  09          	add	hl,bc
1467  039F  4D          	ld	c,l
1468  03A0  44          	ld	b,h
1469  03A1  2A 00 00    	ld	hl,(_sprite)
1470  03A4  26 00       	ld	h,0x00
1471  03A6  11 00 00    	ld	de,_col
1472  03A9  19          	add	hl,de
1473  03AA  D1          	pop	de
1474  03AB  0A          	ld	a,(bc)
1475  03AC  E5          	push	hl
1476  03AD  3C          	inc	a
1477  03AE  21 00 00    	ld	hl,_sprite
1478  03B1  DD 77 FF    	ld	(ix-1),a
1479  03B4  02          	ld	(bc),a
1480  03B5  3E 00       	ld	a, +((_spr_frames) & 0xFF)
1481  03B7  86          	add	a, (hl)
1482  03B8  5F          	ld	e, a
1483  03B9  3E 00       	ld	a, +((_spr_frames) / 256)
1484  03BB  CE 00       	adc	a,0x00
1485  03BD  57          	ld	d, a
1486  03BE  1A          	ld	a, (de)
1487  03BF  5F          	ld	e, a
1488  03C0  DD 7E FF    	ld	a,(ix-1)
1489  03C3  93          	sub	a, e
1490  03C4  38 26       	jr	C,l_spr_move_right_f_00106
1491  03C6  5E          	ld	e,(hl)
1492  03C7  16 00       	ld	d,0x00
1493  03C9  21 00 00    	ld	hl,_lin
1494  03CC  19          	add	hl,de
1495  03CD  7E          	ld	a,(hl)
1496  03CE  E1          	pop	hl
1497  03CF  32 00 00    	ld	(_s_lin1),a
1498  03D2  7E          	ld	a,(hl)
1499  03D3  E5          	push	hl
1500  03D4  5F          	ld	e,a
1501  03D5  D6 1F       	sub	a,0x1f
1502  03D7  30 13       	jr	NC,l_spr_move_right_f_00106
1503  03D9  1C          	inc	e
1504  03DA  E1          	pop	hl
1505  03DB  E5          	push	hl
1506  03DC  73          	ld	(hl), e
1507  03DD  AF          	xor	a, a
1508  03DE  02          	ld	(bc), a
1509  03DF  3E 1F       	ld	a,0x1f
1510  03E1  93          	sub	a, e
1511  03E2  30 08       	jr	NC,l_spr_move_right_f_00106
1512  03E4  E1          	pop	hl
1513  03E5  E5          	push	hl
1514  03E6  36 1F       	ld	(hl),0x1f
1515  03E8  2E 01       	ld	l,0x01
1516  03EA  18 02       	jr	l_spr_move_right_f_00107
1517  03EC              l_spr_move_right_f_00106:
1518  03EC  2E 00       	ld	l,0x00
1519  03EE              l_spr_move_right_f_00107:
1520  03EE  DD F9       	ld	sp, ix
1521  03F0  DD E1       	pop	ix
1522  03F2  C9          	ret
1523  03F3              	SECTION code_compiler
1524  03F3              ;	---------------------------------
1525  03F3              ; Function spr_move_right
1526  03F3              ; ---------------------------------
1527  03F3              _spr_move_right:
1528  03F3  CD 00 00    	call	___sdcc_enter_ix
1529  03F6  F5          	push	af
1530  03F7  F5          	push	af
1531  03F8  3E 00       	ld	a, +((_colint) & 0xFF)
1532  03FA  21 00 00    	ld	hl,_sprite
1533  03FD  86          	add	a, (hl)
1534  03FE  4F          	ld	c, a
1535  03FF  3E 00       	ld	a, +((_colint) / 256)
1536  0401  CE 00       	adc	a,0x00
1537  0403  DD 71 FE    	ld	(ix-2),c
1538  0406  DD 77 FF    	ld	(ix-1),a
1539  0409  3E 00       	ld	a, +((_col) & 0xFF)
1540  040B  86          	add	a, (hl)
1541  040C  4F          	ld	c, a
1542  040D  3E 00       	ld	a, +((_col) / 256)
1543  040F  CE 00       	adc	a,0x00
1544  0411  D1          	pop	de
1545  0412  47          	ld	b,a
1546  0413  C5          	push	bc
1547  0414  DD 6E FE    	ld	l,(ix-2)
1548  0417  DD 66 FF    	ld	h,(ix-1)
1549  041A  4E          	ld	c,(hl)
1550  041B  0C          	inc	c
1551  041C  71          	ld	(hl), c
1552  041D  2A 00 00    	ld	hl,(_sprite)
1553  0420  26 00       	ld	h,0x00
1554  0422  11 00 00    	ld	de,_spr_frames
1555  0425  19          	add	hl,de
1556  0426  46          	ld	b, (hl)
1557  0427  79          	ld	a,c
1558  0428  90          	sub	a,b
1559  0429  DA EA 04    	jp	C,l_spr_move_right_00112
1560  042C  2A 00 00    	ld	hl,(_sprite)
1561  042F  26 00       	ld	h,0x00
1562  0431  01 00 00    	ld	bc,_lin
1563  0434  09          	add	hl,bc
1564  0435  7E          	ld	a,(hl)
1565  0436  E1          	pop	hl
1566  0437  32 00 00    	ld	(_s_lin1),a
1567  043A  7E          	ld	a,(hl)
1568  043B  E5          	push	hl
1569  043C  FE 1F       	cp	a,0x1f
1570  043E  D2 EA 04    	jp	NC, l_spr_move_right_00112
1571  0441  C6 02       	add	a,0x02
1572  0443  32 00 00    	ld	(_s_col1),a
1573  0446  21 00 00    	ld	hl,_s_lin1
1574  0449  CB 4E       	bit	1, (hl)
1575  044B  20 2F       	jr	NZ,l_spr_move_right_00102
1576  044D  2A FF FF    	ld	hl,(_s_col1 - 1)
1577  0450  3A 00 00    	ld	a,(_s_lin1)
1578  0453  6F          	ld	l,a
1579  0454  E5          	push	hl
1580  0455  CD 00 00    	call	_game_check_map
1581  0458  F1          	pop	af
1582  0459  7D          	ld	a, l
1583  045A  B7          	or	a, a
1584  045B  20 17       	jr	NZ,l_spr_move_right_00116
1585  045D  3A 00 00    	ld	a,(_s_lin1)
1586  0460  C6 08       	add	a,0x08
1587  0462  47          	ld	b, a
1588  0463  3A 00 00    	ld	a,(_s_col1)
1589  0466  48          	ld	c,b
1590  0467  47          	ld	b,a
1591  0468  C5          	push	bc
1592  0469  CD 00 00    	call	_game_check_map
1593  046C  F1          	pop	af
1594  046D  7D          	ld	a, l
1595  046E  B7          	or	a,a
1596  046F  20 03       	jr	NZ,l_spr_move_right_00116
1597  0471  4F          	ld	c,a
1598  0472  18 02       	jr	l_spr_move_right_00117
1599  0474              l_spr_move_right_00116:
1600  0474  0E 01       	ld	c,0x01
1601  0476              l_spr_move_right_00117:
1602  0476  21 00 00    	ld	hl,_v0
1603  0479  71          	ld	(hl), c
1604  047A  18 41       	jr	l_spr_move_right_00103
1605  047C              l_spr_move_right_00102:
1606  047C  2A FF FF    	ld	hl,(_s_col1 - 1)
1607  047F  3A 00 00    	ld	a,(_s_lin1)
1608  0482  6F          	ld	l,a
1609  0483  E5          	push	hl
1610  0484  CD 00 00    	call	_game_check_map
1611  0487  F1          	pop	af
1612  0488  7D          	ld	a, l
1613  0489  B7          	or	a, a
1614  048A  20 2B       	jr	NZ,l_spr_move_right_00119
1615  048C  3A 00 00    	ld	a,(_s_lin1)
1616  048F  C6 08       	add	a,0x08
1617  0491  47          	ld	b, a
1618  0492  3A 00 00    	ld	a,(_s_col1)
1619  0495  48          	ld	c,b
1620  0496  47          	ld	b,a
1621  0497  C5          	push	bc
1622  0498  CD 00 00    	call	_game_check_map
1623  049B  F1          	pop	af
1624  049C  7D          	ld	a, l
1625  049D  B7          	or	a, a
1626  049E  20 17       	jr	NZ,l_spr_move_right_00119
1627  04A0  3A 00 00    	ld	a,(_s_lin1)
1628  04A3  C6 10       	add	a,0x10
1629  04A5  47          	ld	b, a
1630  04A6  3A 00 00    	ld	a,(_s_col1)
1631  04A9  48          	ld	c,b
1632  04AA  47          	ld	b,a
1633  04AB  C5          	push	bc
1634  04AC  CD 00 00    	call	_game_check_map
1635  04AF  F1          	pop	af
1636  04B0  7D          	ld	a, l
1637  04B1  B7          	or	a,a
1638  04B2  20 03       	jr	NZ,l_spr_move_right_00119
1639  04B4  4F          	ld	c,a
1640  04B5  18 02       	jr	l_spr_move_right_00120
1641  04B7              l_spr_move_right_00119:
1642  04B7  0E 01       	ld	c,0x01
1643  04B9              l_spr_move_right_00120:
1644  04B9  21 00 00    	ld	hl,_v0
1645  04BC  71          	ld	(hl), c
1646  04BD              l_spr_move_right_00103:
1647  04BD  3A 00 00    	ld	a,(_v0)
1648  04C0  B7          	or	a, a
1649  04C1  28 0D       	jr	Z,l_spr_move_right_00107
1650  04C3  DD 6E FE    	ld	l,(ix-2)
1651  04C6  DD 66 FF    	ld	h,(ix-1)
1652  04C9  4E          	ld	c,(hl)
1653  04CA  0D          	dec	c
1654  04CB  71          	ld	(hl), c
1655  04CC  2E 01       	ld	l,0x01
1656  04CE  18 1C       	jr	l_spr_move_right_00113
1657  04D0              l_spr_move_right_00107:
1658  04D0  E1          	pop	hl
1659  04D1  4E          	ld	c,(hl)
1660  04D2  0C          	inc	c
1661  04D3  E5          	push	hl
1662  04D4  71          	ld	(hl), c
1663  04D5  DD 6E FE    	ld	l,(ix-2)
1664  04D8  DD 66 FF    	ld	h,(ix-1)
1665  04DB  36 00       	ld	(hl),0x00
1666  04DD  3E 1F       	ld	a,0x1f
1667  04DF  91          	sub	a, c
1668  04E0  30 08       	jr	NC,l_spr_move_right_00112
1669  04E2  E1          	pop	hl
1670  04E3  E5          	push	hl
1671  04E4  36 1F       	ld	(hl),0x1f
1672  04E6  2E 01       	ld	l,0x01
1673  04E8  18 02       	jr	l_spr_move_right_00113
1674  04EA              l_spr_move_right_00112:
1675  04EA  2E 00       	ld	l,0x00
1676  04EC              l_spr_move_right_00113:
1677  04EC  DD F9       	ld	sp, ix
1678  04EE  DD E1       	pop	ix
1679  04F0  C9          	ret
1680  04F1              	SECTION code_compiler
1681  04F1              ;	---------------------------------
1682  04F1              ; Function spr_move_left
1683  04F1              ; ---------------------------------
1684  04F1              _spr_move_left:
1685  04F1  CD 00 00    	call	___sdcc_enter_ix
1686  04F4  F5          	push	af
1687  04F5  F5          	push	af
1688  04F6  3E 00       	ld	a, +((_colint) & 0xFF)
1689  04F8  21 00 00    	ld	hl,_sprite
1690  04FB  86          	add	a, (hl)
1691  04FC  4F          	ld	c, a
1692  04FD  3E 00       	ld	a, +((_colint) / 256)
1693  04FF  CE 00       	adc	a,0x00
1694  0501  DD 71 FE    	ld	(ix-2),c
1695  0504  DD 77 FF    	ld	(ix-1),a
1696  0507  3E 00       	ld	a, +((_col) & 0xFF)
1697  0509  86          	add	a, (hl)
1698  050A  4F          	ld	c, a
1699  050B  3E 00       	ld	a, +((_col) / 256)
1700  050D  CE 00       	adc	a,0x00
1701  050F  D1          	pop	de
1702  0510  47          	ld	b,a
1703  0511  C5          	push	bc
1704  0512  DD 6E FE    	ld	l,(ix-2)
1705  0515  DD 66 FF    	ld	h,(ix-1)
1706  0518  4E          	ld	c,(hl)
1707  0519  0D          	dec	c
1708  051A  71          	ld	(hl), c
1709  051B  2A 00 00    	ld	hl,(_sprite)
1710  051E  26 00       	ld	h,0x00
1711  0520  11 00 00    	ld	de,_spr_frames
1712  0523  19          	add	hl,de
1713  0524  46          	ld	b, (hl)
1714  0525  79          	ld	a,c
1715  0526  90          	sub	a,b
1716  0527  DA F2 05    	jp	C,l_spr_move_left_00112
1717  052A  2A 00 00    	ld	hl,(_sprite)
1718  052D  26 00       	ld	h,0x00
1719  052F  01 00 00    	ld	bc,_lin
1720  0532  09          	add	hl,bc
1721  0533  7E          	ld	a,(hl)
1722  0534  E1          	pop	hl
1723  0535  32 00 00    	ld	(_s_lin1),a
1724  0538  7E          	ld	a,(hl)
1725  0539  E5          	push	hl
1726  053A  FE 1F       	cp	a,0x1f
1727  053C  D2 F2 05    	jp	NC, l_spr_move_left_00112
1728  053F  C6 FF       	add	a,0xff
1729  0541  32 00 00    	ld	(_s_col1),a
1730  0544  21 00 00    	ld	hl,_s_lin1
1731  0547  CB 4E       	bit	1, (hl)
1732  0549  20 31       	jr	NZ,l_spr_move_left_00102
1733  054B  2A FF FF    	ld	hl,(_s_col1 - 1)
1734  054E  3A 00 00    	ld	a,(_s_lin1)
1735  0551  6F          	ld	l,a
1736  0552  E5          	push	hl
1737  0553  CD 00 00    	call	_game_check_map
1738  0556  F1          	pop	af
1739  0557  7D          	ld	a, l
1740  0558  B7          	or	a, a
1741  0559  20 19       	jr	NZ,l_spr_move_left_00116
1742  055B  3A 00 00    	ld	a,(_s_lin1)
1743  055E  C6 08       	add	a,0x08
1744  0560  4F          	ld	c, a
1745  0561  3A 00 00    	ld	a,(_s_col1)
1746  0564  F5          	push	af
1747  0565  33          	inc	sp
1748  0566  79          	ld	a, c
1749  0567  F5          	push	af
1750  0568  33          	inc	sp
1751  0569  CD 00 00    	call	_game_check_map
1752  056C  F1          	pop	af
1753  056D  7D          	ld	a, l
1754  056E  B7          	or	a,a
1755  056F  20 03       	jr	NZ,l_spr_move_left_00116
1756  0571  4F          	ld	c,a
1757  0572  18 02       	jr	l_spr_move_left_00117
1758  0574              l_spr_move_left_00116:
1759  0574  0E 01       	ld	c,0x01
1760  0576              l_spr_move_left_00117:
1761  0576  21 00 00    	ld	hl,_v0
1762  0579  71          	ld	(hl), c
1763  057A  18 41       	jr	l_spr_move_left_00103
1764  057C              l_spr_move_left_00102:
1765  057C  2A FF FF    	ld	hl,(_s_col1 - 1)
1766  057F  3A 00 00    	ld	a,(_s_lin1)
1767  0582  6F          	ld	l,a
1768  0583  E5          	push	hl
1769  0584  CD 00 00    	call	_game_check_map
1770  0587  F1          	pop	af
1771  0588  7D          	ld	a, l
1772  0589  B7          	or	a, a
1773  058A  20 2B       	jr	NZ,l_spr_move_left_00119
1774  058C  3A 00 00    	ld	a,(_s_lin1)
1775  058F  C6 08       	add	a,0x08
1776  0591  47          	ld	b, a
1777  0592  3A 00 00    	ld	a,(_s_col1)
1778  0595  48          	ld	c,b
1779  0596  47          	ld	b,a
1780  0597  C5          	push	bc
1781  0598  CD 00 00    	call	_game_check_map
1782  059B  F1          	pop	af
1783  059C  7D          	ld	a, l
1784  059D  B7          	or	a, a
1785  059E  20 17       	jr	NZ,l_spr_move_left_00119
1786  05A0  3A 00 00    	ld	a,(_s_lin1)
1787  05A3  C6 10       	add	a,0x10
1788  05A5  47          	ld	b, a
1789  05A6  3A 00 00    	ld	a,(_s_col1)
1790  05A9  48          	ld	c,b
1791  05AA  47          	ld	b,a
1792  05AB  C5          	push	bc
1793  05AC  CD 00 00    	call	_game_check_map
1794  05AF  F1          	pop	af
1795  05B0  7D          	ld	a, l
1796  05B1  B7          	or	a,a
1797  05B2  20 03       	jr	NZ,l_spr_move_left_00119
1798  05B4  4F          	ld	c,a
1799  05B5  18 02       	jr	l_spr_move_left_00120
1800  05B7              l_spr_move_left_00119:
1801  05B7  0E 01       	ld	c,0x01
1802  05B9              l_spr_move_left_00120:
1803  05B9  21 00 00    	ld	hl,_v0
1804  05BC  71          	ld	(hl), c
1805  05BD              l_spr_move_left_00103:
1806  05BD  3A 00 00    	ld	a,(_v0)
1807  05C0  B7          	or	a, a
1808  05C1  28 0D       	jr	Z,l_spr_move_left_00107
1809  05C3  DD 6E FE    	ld	l,(ix-2)
1810  05C6  DD 66 FF    	ld	h,(ix-1)
1811  05C9  4E          	ld	c,(hl)
1812  05CA  0C          	inc	c
1813  05CB  71          	ld	(hl), c
1814  05CC  2E 01       	ld	l,0x01
1815  05CE  18 24       	jr	l_spr_move_left_00113
1816  05D0              l_spr_move_left_00107:
1817  05D0  E1          	pop	hl
1818  05D1  4E          	ld	c,(hl)
1819  05D2  0D          	dec	c
1820  05D3  E5          	push	hl
1821  05D4  71          	ld	(hl), c
1822  05D5  2A 00 00    	ld	hl,(_sprite)
1823  05D8  26 00       	ld	h,0x00
1824  05DA  11 00 00    	ld	de,_spr_frames
1825  05DD  19          	add	hl,de
1826  05DE  5E          	ld	e, (hl)
1827  05DF  1D          	dec	e
1828  05E0  DD 6E FE    	ld	l,(ix-2)
1829  05E3  DD 66 FF    	ld	h,(ix-1)
1830  05E6  73          	ld	(hl), e
1831  05E7  0C          	inc	c
1832  05E8  20 08       	jr	NZ,l_spr_move_left_00112
1833  05EA  E1          	pop	hl
1834  05EB  E5          	push	hl
1835  05EC  36 00       	ld	(hl),0x00
1836  05EE  2E 01       	ld	l,0x01
1837  05F0  18 02       	jr	l_spr_move_left_00113
1838  05F2              l_spr_move_left_00112:
1839  05F2  2E 00       	ld	l,0x00
1840  05F4              l_spr_move_left_00113:
1841  05F4  DD F9       	ld	sp, ix
1842  05F6  DD E1       	pop	ix
1843  05F8  C9          	ret
1844  05F9              	SECTION code_compiler
1845  05F9              ;	---------------------------------
1846  05F9              ; Function spr_move_left_f
1847  05F9              ; ---------------------------------
1848  05F9              _spr_move_left_f:
1849  05F9  2A 00 00    	ld	hl,(_sprite)
1850  05FC  26 00       	ld	h,0x00
1851  05FE  01 00 00    	ld	bc,_colint
1852  0601  09          	add	hl,bc
1853  0602  7E          	ld	a,(hl)
1854  0603  C6 FF       	add	a,0xff
1855  0605  77          	ld	(hl),a
1856  0606  2A 00 00    	ld	hl,(_sprite)
1857  0609  26 00       	ld	h,0x00
1858  060B  01 00 00    	ld	bc,_colint
1859  060E  09          	add	hl,bc
1860  060F  4E          	ld	c, (hl)
1861  0610  2A 00 00    	ld	hl,(_sprite)
1862  0613  26 00       	ld	h,0x00
1863  0615  11 00 00    	ld	de,_spr_frames
1864  0618  19          	add	hl,de
1865  0619  46          	ld	b, (hl)
1866  061A  79          	ld	a,c
1867  061B  90          	sub	a,b
1868  061C  38 48       	jr	C,l_spr_move_left_f_00106
1869  061E  2A 00 00    	ld	hl,(_sprite)
1870  0621  26 00       	ld	h,0x00
1871  0623  01 00 00    	ld	bc,_lin
1872  0626  09          	add	hl,bc
1873  0627  7E          	ld	a,(hl)
1874  0628  32 00 00    	ld	(_s_lin1),a
1875  062B  2A 00 00    	ld	hl,(_sprite)
1876  062E  26 00       	ld	h,0x00
1877  0630  01 00 00    	ld	bc,_col
1878  0633  09          	add	hl,bc
1879  0634  7E          	ld	a,(hl)
1880  0635  B7          	or	a,a
1881  0636  28 2E       	jr	Z,l_spr_move_left_f_00106
1882  0638  C6 FF       	add	a,0xff
1883  063A  77          	ld	(hl),a
1884  063B  2A 00 00    	ld	hl,(_sprite)
1885  063E  26 00       	ld	h,0x00
1886  0640  01 00 00    	ld	bc,_colint
1887  0643  09          	add	hl,bc
1888  0644  4D          	ld	c,l
1889  0645  44          	ld	b,h
1890  0646  2A 00 00    	ld	hl,(_sprite)
1891  0649  26 00       	ld	h,0x00
1892  064B  11 00 00    	ld	de,_spr_frames
1893  064E  19          	add	hl,de
1894  064F  7E          	ld	a,(hl)
1895  0650  C6 FF       	add	a,0xff
1896  0652  02          	ld	(bc),a
1897  0653  2A 00 00    	ld	hl,(_sprite)
1898  0656  26 00       	ld	h,0x00
1899  0658  01 00 00    	ld	bc,_col
1900  065B  09          	add	hl,bc
1901  065C  7E          	ld	a,(hl)
1902  065D  3C          	inc	a
1903  065E  20 06       	jr	NZ,l_spr_move_left_f_00106
1904  0660  AF          	xor	a,a
1905  0661  77          	ld	(hl),a
1906  0662  2E 01       	ld	l,0x01
1907  0664  18 02       	jr	l_spr_move_left_f_00107
1908  0666              l_spr_move_left_f_00106:
1909  0666  2E 00       	ld	l,0x00
1910  0668              l_spr_move_left_f_00107:
1911  0668  C9          	ret
1912  0669              	SECTION code_compiler
1913  0669              ;	---------------------------------
1914  0669              ; Function spr_clear_scr
1915  0669              ; ---------------------------------
1916  0669              _spr_clear_scr:
1917  0669  CD 00 00    	call	___sdcc_enter_ix
1918  066C  3B          	dec	sp
1919  066D  06 00       	ld	b,0x00
1920  066F              l_spr_clear_scr_00105:
1921  066F  C5          	push	bc
1922  0670  21 00 00    	ld	hl,0x0000
1923  0673  E5          	push	hl
1924  0674  AF          	xor	a, a
1925  0675  48          	ld	c,b
1926  0676  47          	ld	b,a
1927  0677  C5          	push	bc
1928  0678  CD 00 00    	call	_NIRVANAP_spriteT_callee
1929  067B  C1          	pop	bc
1930  067C  04          	inc	b
1931  067D  78          	ld	a, b
1932  067E  D6 07       	sub	a,0x07
1933  0680  38 ED       	jr	C,l_spr_clear_scr_00105
1934  0682  76          	halt
1935  0683  F3          	di
1936  0684  0E 00       	ld	c,0x00
1937  0686              l_spr_clear_scr_00117:
1938  0686  79          	ld	a, c
1939  0687  87          	add	a, a
1940  0688  DD 77 FF    	ld	(ix-1),a
1941  068B  5F          	ld	e,a
1942  068C  06 01       	ld	b,0x01
1943  068E              l_spr_clear_scr_00107:
1944  068E  78          	ld	a, b
1945  068F  07          	rlca
1946  0690  07          	rlca
1947  0691  07          	rlca
1948  0692  07          	rlca
1949  0693  E6 F0       	and	a,0xf0
1950  0695  57          	ld	d, a
1951  0696  C5          	push	bc
1952  0697  D5          	push	de
1953  0698  DD 7E FF    	ld	a,(ix-1)
1954  069B  5A          	ld	e,d
1955  069C  57          	ld	d,a
1956  069D  D5          	push	de
1957  069E  AF          	xor	a, a
1958  069F  F5          	push	af
1959  06A0  33          	inc	sp
1960  06A1  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1961  06A4  D1          	pop	de
1962  06A5  C1          	pop	bc
1963  06A6  04          	inc	b
1964  06A7  78          	ld	a, b
1965  06A8  D6 0A       	sub	a,0x0a
1966  06AA  38 E2       	jr	C,l_spr_clear_scr_00107
1967  06AC  3E 1E       	ld	a,0x1e
1968  06AE  93          	sub	a, e
1969  06AF  57          	ld	d, a
1970  06B0  1E 01       	ld	e,0x01
1971  06B2              l_spr_clear_scr_00109:
1972  06B2  7B          	ld	a, e
1973  06B3  07          	rlca
1974  06B4  07          	rlca
1975  06B5  07          	rlca
1976  06B6  07          	rlca
1977  06B7  E6 F0       	and	a,0xf0
1978  06B9  47          	ld	b, a
1979  06BA  C5          	push	bc
1980  06BB  D5          	push	de
1981  06BC  58          	ld	e,b
1982  06BD  D5          	push	de
1983  06BE  AF          	xor	a, a
1984  06BF  F5          	push	af
1985  06C0  33          	inc	sp
1986  06C1  CD 00 00    	call	_NIRVANAP_fillT_raw_callee
1987  06C4  D1          	pop	de
1988  06C5  C1          	pop	bc
1989  06C6  1C          	inc	e
1990  06C7  7B          	ld	a, e
1991  06C8  D6 0A       	sub	a,0x0a
1992  06CA  38 E6       	jr	C,l_spr_clear_scr_00109
1993  06CC  FB          	ei
1994  06CD  76          	halt
1995  06CE  F3          	di
1996  06CF  0C          	inc	c
1997  06D0  79          	ld	a, c
1998  06D1  D6 08       	sub	a,0x08
1999  06D3  38 B1       	jr	C,l_spr_clear_scr_00117
2000  06D5  FB          	ei
2001  06D6  33          	inc	sp
2002  06D7  DD E1       	pop	ix
2003  06D9  C9          	ret
2004  06DA              	SECTION code_compiler
2005  06DA              ;	---------------------------------
2006  06DA              ; Function spr_paint_player
2007  06DA              ; ---------------------------------
2008  06DA              _spr_paint_player:
2009  06DA  21 0F 00    	ld	hl,+(_col + 0x000f)
2010  06DD  4E          	ld	c, (hl)
2011  06DE  3A 0F 00    	ld	a,(_lin + 0x000f)
2012  06E1  C6 10       	add	a,0x10
2013  06E3  47          	ld	b, a
2014  06E4  21 0F 00    	ld	hl,+(_tile + 0x000f)
2015  06E7  5E          	ld	e, (hl)
2016  06E8  2A 0F 00    	ld	hl,(_colint + 0x000f)
2017  06EB  7B          	ld	a, e
2018  06EC  85          	add	a, l
2019  06ED  5F          	ld	e, a
2020  06EE  79          	ld	a, c
2021  06EF  48          	ld	c,b
2022  06F0  47          	ld	b,a
2023  06F1  C5          	push	bc
2024  06F2  53          	ld	d, e
2025  06F3  1E 05       	ld	e,0x05
2026  06F5  D5          	push	de
2027  06F6  CD 00 00    	call	_NIRVANAP_spriteT_callee
2028  06F9  CD E2 08    	call	_spr_back_repaint
2029  06FC  2E 00       	ld	l,0x00
2030  06FE  C9          	ret
2031  06FF              	SECTION code_compiler
2032  06FF              ;	---------------------------------
2033  06FF              ; Function spr_paint
2034  06FF              ; ---------------------------------
2035  06FF              _spr_paint:
2036  06FF  2A 00 00    	ld	hl,(_sprite)
2037  0702  26 00       	ld	h,0x00
2038  0704  01 00 00    	ld	bc,_col
2039  0707  09          	add	hl,bc
2040  0708  7E          	ld	a,(hl)
2041  0709  32 00 00    	ld	(_s_col1),a
2042  070C  2A 00 00    	ld	hl,(_sprite)
2043  070F  26 00       	ld	h,0x00
2044  0711  01 00 00    	ld	bc,_lin
2045  0714  09          	add	hl,bc
2046  0715  7E          	ld	a,(hl)
2047  0716  21 00 00    	ld	hl,_s_lin1
2048  0719  77          	ld	(hl),a
2049  071A  C6 10       	add	a,0x10
2050  071C  47          	ld	b, a
2051  071D  7E          	ld	a, (hl)
2052  071E  21 00 00    	ld	hl,_s_lin0
2053  0721  96          	sub	a, (hl)
2054  0722  20 0A       	jr	NZ,l_spr_paint_00101
2055  0724  3A 00 00    	ld	a,(_s_col1)
2056  0727  21 00 00    	ld	hl,_s_col0
2057  072A  96          	sub	a, (hl)
2058  072B  CA C6 07    	jp	Z,l_spr_paint_00102
2059  072E              l_spr_paint_00101:
2060  072E  2A 00 00    	ld	hl,(_sprite)
2061  0731  26 00       	ld	h,0x00
2062  0733  11 00 00    	ld	de,_tile
2063  0736  19          	add	hl,de
2064  0737  4E          	ld	c, (hl)
2065  0738  3A 00 00    	ld	a,(_sprite)
2066  073B  5F          	ld	e,a
2067  073C  16 00       	ld	d,0x00
2068  073E  21 00 00    	ld	hl,_colint
2069  0741  19          	add	hl,de
2070  0742  7E          	ld	a,(hl)
2071  0743  81          	add	a,c
2072  0744  32 00 00    	ld	(_s_tile1),a
2073  0747  3A 00 00    	ld	a,(_s_col1)
2074  074A  48          	ld	c,b
2075  074B  47          	ld	b,a
2076  074C  C5          	push	bc
2077  074D  2A FF FF    	ld	hl,(_s_tile1 - 1)
2078  0750  3A 00 00    	ld	a,(_nirv_sprite_index)
2079  0753  6F          	ld	l,a
2080  0754  E5          	push	hl
2081  0755  CD 00 00    	call	_NIRVANAP_spriteT_callee
2082  0758  01 00 00    	ld	bc,_btiles
2083  075B  11 20 00    	ld	de,_btiles + 32
2084  075E  2A 00 00    	ld	hl,(_index0)
2085  0761  7D          	ld	a,l
2086  0762  C6 20       	add	a,0x20
2087  0764  6F          	ld	l,a
2088  0765  7C          	ld	a,h
2089  0766  CE 00       	adc	a,0x00
2090  0768  67          	ld	h,a
2091  0769  22 00 00    	ld	(_index1),hl
2092  076C  3A 00 00    	ld	a,(_s_lin0)
2093  076F  C6 10       	add	a,0x10
2094  0771  32 00 00    	ld	(_v2),a
2095  0774  3A 00 00    	ld	a,(_s_col0)
2096  0777  3C          	inc	a
2097  0778  32 00 00    	ld	(_v3),a
2098  077B  3A 00 00    	ld	a,(_s_col0)
2099  077E  2A 00 00    	ld	hl,(_v2)
2100  0781  C5          	push	bc
2101  0782  D5          	push	de
2102  0783  67          	ld	h,a
2103  0784  E5          	push	hl
2104  0785  D5          	push	de
2105  0786  C5          	push	bc
2106  0787  CD 00 00    	call	_NIRVANAP_printQ_callee
2107  078A  D1          	pop	de
2108  078B  C1          	pop	bc
2109  078C  3A 00 00    	ld	a,(_v3)
2110  078F  2A 00 00    	ld	hl,(_v2)
2111  0792  C5          	push	bc
2112  0793  D5          	push	de
2113  0794  67          	ld	h,a
2114  0795  E5          	push	hl
2115  0796  D5          	push	de
2116  0797  C5          	push	bc
2117  0798  CD 00 00    	call	_NIRVANAP_printQ_callee
2118  079B  D1          	pop	de
2119  079C  C1          	pop	bc
2120  079D  21 00 00    	ld	hl,_v2
2121  07A0  7E          	ld	a, (hl)
2122  07A1  C6 08       	add	a,0x08
2123  07A3  77          	ld	(hl), a
2124  07A4  3A 00 00    	ld	a,(_s_col0)
2125  07A7  2A 00 00    	ld	hl,(_v2)
2126  07AA  C5          	push	bc
2127  07AB  D5          	push	de
2128  07AC  67          	ld	h,a
2129  07AD  E5          	push	hl
2130  07AE  D5          	push	de
2131  07AF  C5          	push	bc
2132  07B0  CD 00 00    	call	_NIRVANAP_printQ_callee
2133  07B3  D1          	pop	de
2134  07B4  C1          	pop	bc
2135  07B5  2A FF FF    	ld	hl,(_v3 - 1)
2136  07B8  3A 00 00    	ld	a,(_v2)
2137  07BB  6F          	ld	l,a
2138  07BC  E5          	push	hl
2139  07BD  D5          	push	de
2140  07BE  C5          	push	bc
2141  07BF  CD 00 00    	call	_NIRVANAP_printQ_callee
2142  07C2  2E 01       	ld	l,0x01
2143  07C4  18 2C       	jr	l_spr_paint_00105
2144  07C6              l_spr_paint_00102:
2145  07C6  2A 00 00    	ld	hl,(_sprite)
2146  07C9  26 00       	ld	h,0x00
2147  07CB  11 00 00    	ld	de,_tile
2148  07CE  19          	add	hl,de
2149  07CF  4E          	ld	c, (hl)
2150  07D0  3A 00 00    	ld	a,(_sprite)
2151  07D3  5F          	ld	e,a
2152  07D4  16 00       	ld	d,0x00
2153  07D6  21 00 00    	ld	hl,_colint
2154  07D9  19          	add	hl,de
2155  07DA  7E          	ld	a,(hl)
2156  07DB  81          	add	a,c
2157  07DC  32 00 00    	ld	(_s_tile1),a
2158  07DF  3A 00 00    	ld	a,(_s_col1)
2159  07E2  48          	ld	c,b
2160  07E3  47          	ld	b,a
2161  07E4  C5          	push	bc
2162  07E5  2A FF FF    	ld	hl,(_s_tile1 - 1)
2163  07E8  3A 00 00    	ld	a,(_nirv_sprite_index)
2164  07EB  6F          	ld	l,a
2165  07EC  E5          	push	hl
2166  07ED  CD 00 00    	call	_NIRVANAP_spriteT_callee
2167  07F0  2E 00       	ld	l,0x00
2168  07F2              l_spr_paint_00105:
2169  07F2  C9          	ret
2170  07F3              	SECTION code_compiler
2171  07F3              ;	---------------------------------
2172  07F3              ; Function spr_destroy
2173  07F3              ; ---------------------------------
2174  07F3              _spr_destroy:
2175  07F3  CD 00 00    	call	___sdcc_enter_ix
2176  07F6  F5          	push	af
2177  07F7  F5          	push	af
2178  07F8  45          	ld	b, l
2179  07F9  21 00 00    	ld	hl,_spr_count
2180  07FC  35          	dec	(hl)
2181  07FD  3E 00       	ld	a, +((_lin) & 0xFF)
2182  07FF  80          	add	a, b
2183  0800  DD 77 FE    	ld	(ix-2),a
2184  0803  6F          	ld	l,a
2185  0804  3E 00       	ld	a,+((_lin) / 256)
2186  0806  CE 00       	adc	a,0x00
2187  0808  DD 77 FF    	ld	(ix-1),a
2188  080B  67          	ld	h,a
2189  080C  7E          	ld	a, (hl)
2190  080D  32 00 00    	ld	(_s_lin0),a
2191  0810  3E 00       	ld	a, +((_col) & 0xFF)
2192  0812  80          	add	a, b
2193  0813  DD 77 FC    	ld	(ix-4),a
2194  0816  3E 00       	ld	a, +((_col) / 256)
2195  0818  CE 00       	adc	a,0x00
2196  081A  DD 77 FD    	ld	(ix-3),a
2197  081D  E1          	pop	hl
2198  081E  7E          	ld	a,(hl)
2199  081F  E5          	push	hl
2200  0820  32 00 00    	ld	(_s_col0),a
2201  0823  2A 00 00    	ld	hl,(_s_lin0)
2202  0826  C5          	push	bc
2203  0827  67          	ld	h,a
2204  0828  E5          	push	hl
2205  0829  CD 00 00    	call	_spr_calc_index
2206  082C  F1          	pop	af
2207  082D  EB          	ex	de,hl
2208  082E  C1          	pop	bc
2209  082F  ED 53 00 00 	ld	(_index0),de
2210  0833  21 00 00    	ld	hl,_s_tile0
2211  0836  36 00       	ld	(hl),0x00
2212  0838  C5          	push	bc
2213  0839  21 00 00    	ld	hl,0x0000
2214  083C  E5          	push	hl
2215  083D  AF          	xor	a, a
2216  083E  48          	ld	c,b
2217  083F  47          	ld	b,a
2218  0840  C5          	push	bc
2219  0841  CD 00 00    	call	_NIRVANAP_spriteT_callee
2220  0844  CD E2 08    	call	_spr_back_repaint
2221  0847  C1          	pop	bc
2222  0848  3E 00       	ld	a, +((_tile) & 0xFF)
2223  084A  80          	add	a, b
2224  084B  5F          	ld	e, a
2225  084C  3E 00       	ld	a, +((_tile) / 256)
2226  084E  CE 00       	adc	a,0x00
2227  0850  E1          	pop	hl
2228  0851  57          	ld	d,a
2229  0852  3A 00 00    	ld	a,(_s_tile0)
2230  0855  12          	ld	(de),a
2231  0856  E5          	push	hl
2232  0857  36 00       	ld	(hl),0x00
2233  0859  DD 6E FE    	ld	l,(ix-2)
2234  085C  DD 66 FF    	ld	h,(ix-1)
2235  085F  36 00       	ld	(hl),0x00
2236  0861  11 00 00    	ld	de,_class+0
2237  0864  68          	ld	l,b
2238  0865  26 00       	ld	h,0x00
2239  0867  19          	add	hl, de
2240  0868  36 00       	ld	(hl),0x00
2241  086A  11 00 00    	ld	de,_state+0
2242  086D  68          	ld	l,b
2243  086E  26 00       	ld	h,0x00
2244  0870  19          	add	hl, de
2245  0871  36 00       	ld	(hl),0x00
2246  0873  11 00 00    	ld	de,_state_a+0
2247  0876  68          	ld	l,b
2248  0877  26 00       	ld	h,0x00
2249  0879  19          	add	hl, de
2250  087A  36 00       	ld	(hl),0x00
2251  087C  DD F9       	ld	sp, ix
2252  087E  DD E1       	pop	ix
2253  0880  C9          	ret
2254  0881              	SECTION code_compiler
2255  0881              ;	---------------------------------
2256  0881              ; Function spr_get_tile
2257  0881              ; ---------------------------------
2258  0881              _spr_get_tile:
2259  0881  4E          	ld	c, (hl)
2260  0882  06 00       	ld	b,0x00
2261  0884  21 00 00    	ld	hl,_spr_frames
2262  0887  09          	add	hl, bc
2263  0888  EB          	ex	de,hl
2264  0889  06 00       	ld	b,0x00
2265  088B  21 00 00    	ld	hl,_spr_tile
2266  088E  09          	add	hl, bc
2267  088F  D5          	push	de
2268  0890  E5          	push	hl
2269  0891  CD 97 08    	call	_spr_get_tile_dir
2270  0894  F1          	pop	af
2271  0895  F1          	pop	af
2272  0896  C9          	ret
2273  0897              	SECTION code_compiler
2274  0897              ;	---------------------------------
2275  0897              ; Function spr_get_tile_dir
2276  0897              ; ---------------------------------
2277  0897              _spr_get_tile_dir:
2278  0897  CD 00 00    	call	___sdcc_enter_ix
2279  089A  2A 00 00    	ld	hl,(_p_state)
2280  089D  4E          	ld	c,(hl)
2281  089E  F5          	push	af
2282  089F  DD 5E 04    	ld	e,(ix+4)
2283  08A2  DD 56 05    	ld	d,(ix+5)
2284  08A5  1A          	ld	a, (de)
2285  08A6  47          	ld	b, a
2286  08A7  CB 51       	bit	2, c
2287  08A9  28 03       	jr	Z,l_spr_get_tile_dir_00102
2288  08AB  68          	ld	l, b
2289  08AC  18 30       	jr	l_spr_get_tile_dir_00109
2290  08AE              l_spr_get_tile_dir_00102:
2291  08AE  DD 7E 06    	ld	a,(ix+6)
2292  08B1  DD 77 FE    	ld	(ix-2),a
2293  08B4  DD 7E 07    	ld	a,(ix+7)
2294  08B7  DD 77 FF    	ld	(ix-1),a
2295  08BA  CB 59       	bit	3, c
2296  08BC  28 08       	jr	Z,l_spr_get_tile_dir_00104
2297  08BE  E1          	pop	hl
2298  08BF  4E          	ld	c,(hl)
2299  08C0  E5          	push	hl
2300  08C1  78          	ld	a, b
2301  08C2  81          	add	a, c
2302  08C3  6F          	ld	l, a
2303  08C4  18 18       	jr	l_spr_get_tile_dir_00109
2304  08C6              l_spr_get_tile_dir_00104:
2305  08C6  2A 00 00    	ld	hl,(_p_state_a)
2306  08C9  7E          	ld	a,(hl)
2307  08CA  CB 67       	bit	4, a
2308  08CC  28 03       	jr	Z,l_spr_get_tile_dir_00106
2309  08CE  68          	ld	l, b
2310  08CF  18 0D       	jr	l_spr_get_tile_dir_00109
2311  08D1              l_spr_get_tile_dir_00106:
2312  08D1  CB 5F       	bit	3, a
2313  08D3  28 08       	jr	Z,l_spr_get_tile_dir_00108
2314  08D5  E1          	pop	hl
2315  08D6  4E          	ld	c,(hl)
2316  08D7  E5          	push	hl
2317  08D8  78          	ld	a, b
2318  08D9  81          	add	a, c
2319  08DA  6F          	ld	l, a
2320  08DB  18 01       	jr	l_spr_get_tile_dir_00109
2321  08DD              l_spr_get_tile_dir_00108:
2322  08DD  68          	ld	l, b
2323  08DE              l_spr_get_tile_dir_00109:
2324  08DE  F1          	pop	af
2325  08DF  DD E1       	pop	ix
2326  08E1  C9          	ret
2327  08E2              	SECTION code_compiler
2328  08E2              ;	---------------------------------
2329  08E2              ; Function spr_back_repaint
2330  08E2              ; ---------------------------------
2331  08E2              _spr_back_repaint:
2332  08E2  2A FF FF    	ld	hl,(_s_col0 - 1)
2333  08E5  3A 00 00    	ld	a,(_s_lin0)
2334  08E8  6F          	ld	l,a
2335  08E9  E5          	push	hl
2336  08EA  CD 00 00    	call	_spr_calc_index
2337  08ED  F1          	pop	af
2338  08EE  22 00 00    	ld	(_index1),hl
2339  08F1  21 00 00    	ld	hl,_s_lin0
2340  08F4  4E          	ld	c, (hl)
2341  08F5  CB 39       	srl	c
2342  08F7  CB 39       	srl	c
2343  08F9  CB 39       	srl	c
2344  08FB  21 00 00    	ld	hl,_s_lin1
2345  08FE  71          	ld	(hl),c
2346  08FF  79          	ld	a,c
2347  0900  07          	rlca
2348  0901  07          	rlca
2349  0902  07          	rlca
2350  0903  E6 F8       	and	a,0xf8
2351  0905  77          	ld	(hl),a
2352  0906  C6 10       	add	a,0x10
2353  0908  77          	ld	(hl), a
2354  0909  79          	ld	a, c
2355  090A  3C          	inc	a
2356  090B  32 00 00    	ld	(_s_row1),a
2357  090E  3A 00 00    	ld	a,(_s_col0)
2358  0911  32 00 00    	ld	(_s_col1),a
2359  0914  3A 00 00    	ld	a,(_s_row1)
2360  0917  07          	rlca
2361  0918  07          	rlca
2362  0919  07          	rlca
2363  091A  E6 F8       	and	a,0xf8
2364  091C  47          	ld	b, a
2365  091D  11 00 00    	ld	de,_scr_map
2366  0920  2A 00 00    	ld	hl,(_index1)
2367  0923  19          	add	hl,de
2368  0924  66          	ld	h, (hl)
2369  0925  3A 00 00    	ld	a,(_s_col1)
2370  0928  EB          	ex	de,hl
2371  0929  F5          	push	af
2372  092A  33          	inc	sp
2373  092B  4A          	ld	c, d
2374  092C  C5          	push	bc
2375  092D  CD D1 01    	call	_spr_draw8
2376  0930  F1          	pop	af
2377  0931  33          	inc	sp
2378  0932  21 00 00    	ld	hl,_index1
2379  0935  34          	inc	(hl)
2380  0936  20 02       	jr	NZ,l_spr_back_repaint_00103
2381  0938  23          	inc	hl
2382  0939  34          	inc	(hl)
2383  093A              l_spr_back_repaint_00103:
2384  093A  21 00 00    	ld	hl,_s_col1
2385  093D  34          	inc	(hl)
2386  093E  3A 00 00    	ld	a,(_s_row1)
2387  0941  07          	rlca
2388  0942  07          	rlca
2389  0943  07          	rlca
2390  0944  E6 F8       	and	a,0xf8
2391  0946  47          	ld	b, a
2392  0947  11 00 00    	ld	de,_scr_map
2393  094A  2A 00 00    	ld	hl,(_index1)
2394  094D  19          	add	hl,de
2395  094E  66          	ld	h, (hl)
2396  094F  3A 00 00    	ld	a,(_s_col1)
2397  0952  EB          	ex	de,hl
2398  0953  F5          	push	af
2399  0954  33          	inc	sp
2400  0955  4A          	ld	c, d
2401  0956  C5          	push	bc
2402  0957  CD D1 01    	call	_spr_draw8
2403  095A  F1          	pop	af
2404  095B  33          	inc	sp
2405  095C  21 00 00    	ld	hl,_s_lin1
2406  095F  7E          	ld	a, (hl)
2407  0960  C6 08       	add	a,0x08
2408  0962  77          	ld	(hl), a
2409  0963  21 00 00    	ld	hl,_s_row1
2410  0966  34          	inc	(hl)
2411  0967  2A 00 00    	ld	hl,(_index1)
2412  096A  11 20 00    	ld	de,0x0020
2413  096D  19          	add	hl,de
2414  096E  22 00 00    	ld	(_index1),hl
2415  0971  3A 00 00    	ld	a,(_s_row1)
2416  0974  07          	rlca
2417  0975  07          	rlca
2418  0976  07          	rlca
2419  0977  E6 F8       	and	a,0xf8
2420  0979  47          	ld	b, a
2421  097A  11 00 00    	ld	de,_scr_map
2422  097D  2A 00 00    	ld	hl,(_index1)
2423  0980  19          	add	hl,de
2424  0981  66          	ld	h, (hl)
2425  0982  3A 00 00    	ld	a,(_s_col1)
2426  0985  EB          	ex	de,hl
2427  0986  F5          	push	af
2428  0987  33          	inc	sp
2429  0988  4A          	ld	c, d
2430  0989  C5          	push	bc
2431  098A  CD D1 01    	call	_spr_draw8
2432  098D  F1          	pop	af
2433  098E  33          	inc	sp
2434  098F  2A 00 00    	ld	hl,(_index1)
2435  0992  2B          	dec	hl
2436  0993  22 00 00    	ld	(_index1),hl
2437  0996  21 00 00    	ld	hl,_s_col1
2438  0999  35          	dec	(hl)
2439  099A  3A 00 00    	ld	a,(_s_row1)
2440  099D  07          	rlca
2441  099E  07          	rlca
2442  099F  07          	rlca
2443  09A0  E6 F8       	and	a,0xf8
2444  09A2  47          	ld	b, a
2445  09A3  11 00 00    	ld	de,_scr_map
2446  09A6  2A 00 00    	ld	hl,(_index1)
2447  09A9  19          	add	hl,de
2448  09AA  66          	ld	h, (hl)
2449  09AB  3A 00 00    	ld	a,(_s_col1)
2450  09AE  EB          	ex	de,hl
2451  09AF  F5          	push	af
2452  09B0  33          	inc	sp
2453  09B1  4A          	ld	c, d
2454  09B2  C5          	push	bc
2455  09B3  CD D1 01    	call	_spr_draw8
2456  09B6  F1          	pop	af
2457  09B7  33          	inc	sp
2458  09B8  21 00 00    	ld	hl,_s_lin1
2459  09BB  7E          	ld	a, (hl)
2460  09BC  C6 08       	add	a,0x08
2461  09BE  77          	ld	(hl), a
2462  09BF  21 00 00    	ld	hl,_s_row1
2463  09C2  34          	inc	(hl)
2464  09C3  2A 00 00    	ld	hl,(_index1)
2465  09C6  11 20 00    	ld	de,0x0020
2466  09C9  19          	add	hl,de
2467  09CA  22 00 00    	ld	(_index1),hl
2468  09CD  3A 00 00    	ld	a,(_s_row1)
2469  09D0  07          	rlca
2470  09D1  07          	rlca
2471  09D2  07          	rlca
2472  09D3  E6 F8       	and	a,0xf8
2473  09D5  47          	ld	b, a
2474  09D6  11 00 00    	ld	de,_scr_map
2475  09D9  2A 00 00    	ld	hl,(_index1)
2476  09DC  19          	add	hl,de
2477  09DD  66          	ld	h, (hl)
2478  09DE  3A 00 00    	ld	a,(_s_col1)
2479  09E1  EB          	ex	de,hl
2480  09E2  F5          	push	af
2481  09E3  33          	inc	sp
2482  09E4  4A          	ld	c, d
2483  09E5  C5          	push	bc
2484  09E6  CD D1 01    	call	_spr_draw8
2485  09E9  F1          	pop	af
2486  09EA  33          	inc	sp
2487  09EB  21 00 00    	ld	hl,_index1
2488  09EE  34          	inc	(hl)
2489  09EF  20 02       	jr	NZ,l_spr_back_repaint_00104
2490  09F1  23          	inc	hl
2491  09F2  34          	inc	(hl)
2492  09F3              l_spr_back_repaint_00104:
2493  09F3  21 00 00    	ld	hl,_s_col1
2494  09F6  34          	inc	(hl)
2495  09F7  3A 00 00    	ld	a,(_s_row1)
2496  09FA  07          	rlca
2497  09FB  07          	rlca
2498  09FC  07          	rlca
2499  09FD  E6 F8       	and	a,0xf8
2500  09FF  4F          	ld	c, a
2501  0A00  11 00 00    	ld	de,_scr_map
2502  0A03  2A 00 00    	ld	hl,(_index1)
2503  0A06  19          	add	hl,de
2504  0A07  46          	ld	b, (hl)
2505  0A08  3A 00 00    	ld	a,(_s_col1)
2506  0A0B  F5          	push	af
2507  0A0C  33          	inc	sp
2508  0A0D  79          	ld	a, c
2509  0A0E  48          	ld	c,b
2510  0A0F  47          	ld	b,a
2511  0A10  C5          	push	bc
2512  0A11  CD D1 01    	call	_spr_draw8
2513  0A14  F1          	pop	af
2514  0A15  33          	inc	sp
2515  0A16  C9          	ret
2516  0A17              	SECTION code_compiler
2517  0A17              ;	---------------------------------
2518  0A17              ; Function spr_add_anim
2519  0A17              ; ---------------------------------
2520  0A17              _spr_add_anim:
2521  0A17  CD 00 00    	call	___sdcc_enter_ix
2522  0A1A  DD 7E 05    	ld	a,(ix+5)
2523  0A1D  D6 1F       	sub	a,0x1f
2524  0A1F  D2 BB 0A    	jp	NC, l_spr_add_anim_00111
2525  0A22  DD 7E 04    	ld	a,(ix+4)
2526  0A25  D6 B8       	sub	a,0xb8
2527  0A27  D2 BB 0A    	jp	NC, l_spr_add_anim_00111
2528  0A2A  01 00 00    	ld	bc,0x0000
2529  0A2D              l_spr_add_anim_00109:
2530  0A2D  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2531  0A2F  80          	add	a, b
2532  0A30  5F          	ld	e, a
2533  0A31  3E 00       	ld	a, +((_anim_lin) / 256)
2534  0A33  CE 00       	adc	a,0x00
2535  0A35  57          	ld	d, a
2536  0A36  1A          	ld	a, (de)
2537  0A37  3C          	inc	a
2538  0A38  20 79       	jr	NZ,l_spr_add_anim_00110
2539  0A3A  76          	halt
2540  0A3B  21 00 00    	ld	hl,_anim_count
2541  0A3E  34          	inc	(hl)
2542  0A3F  DD 7E 04    	ld	a,(ix+4)
2543  0A42  12          	ld	(de), a
2544  0A43  3E 00       	ld	a, +((_anim_col) & 0xFF)
2545  0A45  81          	add	a, c
2546  0A46  5F          	ld	e, a
2547  0A47  3E 00       	ld	a, +((_anim_col) / 256)
2548  0A49  CE 00       	adc	a,0x00
2549  0A4B  57          	ld	d, a
2550  0A4C  DD 7E 05    	ld	a,(ix+5)
2551  0A4F  12          	ld	(de), a
2552  0A50  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2553  0A52  81          	add	a, c
2554  0A53  5F          	ld	e, a
2555  0A54  3E 00       	ld	a, +((_anim_tile) / 256)
2556  0A56  CE 00       	adc	a,0x00
2557  0A58  57          	ld	d, a
2558  0A59  DD 7E 06    	ld	a,(ix+6)
2559  0A5C  12          	ld	(de), a
2560  0A5D  3E 00       	ld	a, +((_anim_loop) & 0xFF)
2561  0A5F  81          	add	a, c
2562  0A60  5F          	ld	e, a
2563  0A61  3E 00       	ld	a, +((_anim_loop) / 256)
2564  0A63  CE 00       	adc	a,0x00
2565  0A65  57          	ld	d, a
2566  0A66  DD 7E 08    	ld	a,(ix+8)
2567  0A69  12          	ld	(de), a
2568  0A6A  11 00 00    	ld	de,_anim_int+0
2569  0A6D  69          	ld	l,c
2570  0A6E  26 00       	ld	h,0x00
2571  0A70  19          	add	hl, de
2572  0A71  36 00       	ld	(hl),0x00
2573  0A73  3E 00       	ld	a, +((_anim_end) & 0xFF)
2574  0A75  81          	add	a, c
2575  0A76  5F          	ld	e, a
2576  0A77  3E 00       	ld	a, +((_anim_end) / 256)
2577  0A79  CE 00       	adc	a,0x00
2578  0A7B  57          	ld	d, a
2579  0A7C  DD 7E 07    	ld	a,(ix+7)
2580  0A7F  12          	ld	(de), a
2581  0A80  C5          	push	bc
2582  0A81  DD 66 05    	ld	h,(ix+5)
2583  0A84  DD 6E 04    	ld	l,(ix+4)
2584  0A87  E5          	push	hl
2585  0A88  DD 7E 06    	ld	a,(ix+6)
2586  0A8B  F5          	push	af
2587  0A8C  33          	inc	sp
2588  0A8D  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2589  0A90  DD 66 05    	ld	h,(ix+5)
2590  0A93  DD 6E 04    	ld	l,(ix+4)
2591  0A96  E5          	push	hl
2592  0A97  CD 00 00    	call	_spr_calc_index
2593  0A9A  F1          	pop	af
2594  0A9B  EB          	ex	de,hl
2595  0A9C  C1          	pop	bc
2596  0A9D  ED 53 00 00 	ld	(_index0),de
2597  0AA1  11 00 00    	ld	de,_scr_map
2598  0AA4  2A 00 00    	ld	hl,(_index0)
2599  0AA7  19          	add	hl,de
2600  0AA8  7E          	ld	a,(hl)
2601  0AA9  EB          	ex	de,hl
2602  0AAA  B7          	or	a, a
2603  0AAB  20 0E       	jr	NZ,l_spr_add_anim_00111
2604  0AAD  79          	ld	a, c
2605  0AAE  C6 80       	add	a,0x80
2606  0AB0  12          	ld	(de), a
2607  0AB1  18 08       	jr	l_spr_add_anim_00111
2608  0AB3              l_spr_add_anim_00110:
2609  0AB3  04          	inc	b
2610  0AB4  78          	ld	a,b
2611  0AB5  48          	ld	c,b
2612  0AB6  D6 08       	sub	a,0x08
2613  0AB8  DA 2D 0A    	jp	C, l_spr_add_anim_00109
2614  0ABB              l_spr_add_anim_00111:
2615  0ABB  DD E1       	pop	ix
2616  0ABD  C9          	ret
2617  0ABE              	SECTION code_compiler
2618  0ABE              ;	---------------------------------
2619  0ABE              ; Function spr_play_anim
2620  0ABE              ; ---------------------------------
2621  0ABE              _spr_play_anim:
2622  0ABE  CD 00 00    	call	___sdcc_enter_ix
2623  0AC1  F5          	push	af
2624  0AC2  F5          	push	af
2625  0AC3  F5          	push	af
2626  0AC4  3B          	dec	sp
2627  0AC5  0E 00       	ld	c,0x00
2628  0AC7  DD 71 F9    	ld	(ix-7),c
2629  0ACA              l_spr_play_anim_00114:
2630  0ACA  3E 00       	ld	a, +((_anim_lin) & 0xFF)
2631  0ACC  81          	add	a, c
2632  0ACD  5F          	ld	e, a
2633  0ACE  3E 00       	ld	a, +((_anim_lin) / 256)
2634  0AD0  CE 00       	adc	a,0x00
2635  0AD2  57          	ld	d, a
2636  0AD3  1A          	ld	a, (de)
2637  0AD4  DD 77 FF    	ld	(ix-1),a
2638  0AD7  3C          	inc	a
2639  0AD8  CA A7 0B    	jp	Z,l_spr_play_anim_00115
2640  0ADB  3E 00       	ld	a, +((_anim_int) & 0xFF)
2641  0ADD  81          	add	a, c
2642  0ADE  DD 77 FD    	ld	(ix-3),a
2643  0AE1  3E 00       	ld	a,+((_anim_int) / 256)
2644  0AE3  CE 00       	adc	a,0x00
2645  0AE5  DD 77 FE    	ld	(ix-2),a
2646  0AE8  06 00       	ld	b,0x00
2647  0AEA  21 00 00    	ld	hl,_anim_end
2648  0AED  09          	add	hl,bc
2649  0AEE  7E          	ld	a,(hl)
2650  0AEF  97          	sub	a,a
2651  0AF0  30 3B       	jr	NC,l_spr_play_anim_00109
2652  0AF2  DD CB F9 46 	bit	0,(ix-7)
2653  0AF6  20 01       	jr	NZ,l_spr_play_anim_00102
2654  0AF8  76          	halt
2655  0AF9              l_spr_play_anim_00102:
2656  0AF9  06 00       	ld	b,0x00
2657  0AFB  21 00 00    	ld	hl,_anim_col
2658  0AFE  09          	add	hl, bc
2659  0AFF  46          	ld	b, (hl)
2660  0B00  1A          	ld	a, (de)
2661  0B01  57          	ld	d, a
2662  0B02  3E 00       	ld	a, +((_anim_tile) & 0xFF)
2663  0B04  81          	add	a, c
2664  0B05  6F          	ld	l, a
2665  0B06  3E 00       	ld	a, +((_anim_tile) / 256)
2666  0B08  CE 00       	adc	a,0x00
2667  0B0A  67          	ld	h, a
2668  0B0B  5E          	ld	e, (hl)
2669  0B0C  DD 6E FD    	ld	l,(ix-3)
2670  0B0F  DD 66 FE    	ld	h,(ix-2)
2671  0B12  6E          	ld	l, (hl)
2672  0B13  7B          	ld	a, e
2673  0B14  85          	add	a, l
2674  0B15  C5          	push	bc
2675  0B16  4A          	ld	c, d
2676  0B17  C5          	push	bc
2677  0B18  F5          	push	af
2678  0B19  33          	inc	sp
2679  0B1A  CD 00 00    	call	_NIRVANAP_drawT_raw_callee
2680  0B1D  C1          	pop	bc
2681  0B1E  DD 34 F9    	inc	(ix-7)
2682  0B21  DD 6E FD    	ld	l,(ix-3)
2683  0B24  DD 66 FE    	ld	h,(ix-2)
2684  0B27  46          	ld	b,(hl)
2685  0B28  04          	inc	b
2686  0B29  70          	ld	(hl), b
2687  0B2A  C3 A7 0B    	jp	l_spr_play_anim_00115
2688  0B2D              l_spr_play_anim_00109:
2689  0B2D  06 00       	ld	b,0x00
2690  0B2F  21 00 00    	ld	hl,_anim_loop
2691  0B32  09          	add	hl, bc
2692  0B33  7E          	ld	a, (hl)
2693  0B34  DD 77 FC    	ld	(ix-4),a
2694  0B37  B7          	or	a, a
2695  0B38  20 60       	jr	NZ,l_spr_play_anim_00106
2696  0B3A  21 00 00    	ld	hl,_anim_count
2697  0B3D  35          	dec	(hl)
2698  0B3E  06 00       	ld	b,0x00
2699  0B40  21 00 00    	ld	hl,_anim_col
2700  0B43  09          	add	hl, bc
2701  0B44  7E          	ld	a, (hl)
2702  0B45  32 00 00    	ld	(_s_col0),a
2703  0B48  DD 7E FF    	ld	a,(ix-1)
2704  0B4B  32 00 00    	ld	(_s_lin0),a
2705  0B4E  3A 00 00    	ld	a,(_s_col0)
2706  0B51  2A 00 00    	ld	hl,(_s_lin0)
2707  0B54  C5          	push	bc
2708  0B55  D5          	push	de
2709  0B56  67          	ld	h,a
2710  0B57  E5          	push	hl
2711  0B58  CD 00 00    	call	_spr_calc_index
2712  0B5B  F1          	pop	af
2713  0B5C  DD 74 FB    	ld	(ix-5),h
2714  0B5F  DD 75 FA    	ld	(ix-6),l
2715  0B62  D1          	pop	de
2716  0B63  C1          	pop	bc
2717  0B64  DD 6E FA    	ld	l,(ix-6)
2718  0B67  DD 66 FB    	ld	h,(ix-5)
2719  0B6A  22 00 00    	ld	(_index0),hl
2720  0B6D  3E 00       	ld	a,+((_scr_map) & 0xFF)
2721  0B6F  21 00 00    	ld	hl,_index0
2722  0B72  86          	add	a, (hl)
2723  0B73  DD 77 FA    	ld	(ix-6),a
2724  0B76  3E 00       	ld	a, +((_scr_map) / 256)
2725  0B78  23          	inc	hl
2726  0B79  8E          	adc	a, (hl)
2727  0B7A  DD 6E FA    	ld	l,(ix-6)
2728  0B7D  DD 77 FB    	ld	(ix-5),a
2729  0B80  67          	ld	h,a
2730  0B81  7E          	ld	a, (hl)
2731  0B82  D6 80       	sub	a,0x80
2732  0B84  38 08       	jr	C,l_spr_play_anim_00104
2733  0B86  DD 6E FA    	ld	l,(ix-6)
2734  0B89  DD 66 FB    	ld	h,(ix-5)
2735  0B8C  36 00       	ld	(hl),0x00
2736  0B8E              l_spr_play_anim_00104:
2737  0B8E  C5          	push	bc
2738  0B8F  D5          	push	de
2739  0B90  CD E2 08    	call	_spr_back_repaint
2740  0B93  D1          	pop	de
2741  0B94  C1          	pop	bc
2742  0B95  3E FF       	ld	a,0xff
2743  0B97  12          	ld	(de), a
2744  0B98  18 0D       	jr	l_spr_play_anim_00115
2745  0B9A              l_spr_play_anim_00106:
2746  0B9A  DD 46 FC    	ld	b,(ix-4)
2747  0B9D  05          	dec	b
2748  0B9E  70          	ld	(hl), b
2749  0B9F  DD 6E FD    	ld	l,(ix-3)
2750  0BA2  DD 66 FE    	ld	h,(ix-2)
2751  0BA5  36 FF       	ld	(hl),0xff
2752  0BA7              l_spr_play_anim_00115:
2753  0BA7  0C          	inc	c
2754  0BA8  79          	ld	a, c
2755  0BA9  D6 08       	sub	a,0x08
2756  0BAB  DA CA 0A    	jp	C, l_spr_play_anim_00114
2757  0BAE  DD F9       	ld	sp, ix
2758  0BB0  DD E1       	pop	ix
2759  0BB2  C9          	ret
2760  0BB3              	SECTION code_compiler
2761  0BB3              ;	---------------------------------
2762  0BB3              ; Function spr_turn_horizontal
2763  0BB3              ; ---------------------------------
2764  0BB3              _spr_turn_horizontal:
2765  0BB3  2A 00 00    	ld	hl,(_p_state)
2766  0BB6  CB 56       	bit	2,(hl)
2767  0BB8  28 05       	jr	Z,l_spr_turn_horizontal_00102
2768  0BBA  CD 87 00    	call	_spr_set_left
2769  0BBD  18 03       	jr	l_spr_turn_horizontal_00103
2770  0BBF              l_spr_turn_horizontal_00102:
2771  0BBF  CD A8 00    	call	_spr_set_right
2772  0BC2              l_spr_turn_horizontal_00103:
2773  0BC2  2A 00 00    	ld	hl,(_sprite)
2774  0BC5  26 00       	ld	h,0x00
2775  0BC7  01 00 00    	ld	bc,_tile
2776  0BCA  09          	add	hl,bc
2777  0BCB  E5          	push	hl
2778  0BCC  21 00 00    	ld	hl,_sprite
2779  0BCF  CD 81 08    	call	_spr_get_tile
2780  0BD2  C1          	pop	bc
2781  0BD3  7D          	ld	a,l
2782  0BD4  02          	ld	(bc), a
2783  0BD5  C9          	ret
2784  0BD6              	SECTION code_compiler
2785  0BD6              ;	---------------------------------
2786  0BD6              ; Function spr_btile_paint_back
2787  0BD6              ; ---------------------------------
2788  0BD6              _spr_btile_paint_back:
2789  0BD6  CD 00 00    	call	___sdcc_enter_ix
2790  0BD9  3B          	dec	sp
2791  0BDA  21 00 00    	ld	hl,0x0000
2792  0BDD  22 00 00    	ld	(_tmp_ui),hl
2793  0BE0  21 00 00    	ld	hl,_map_paper
2794  0BE3  7E          	ld	a, (hl)
2795  0BE4  0F          	rrca
2796  0BE5  0F          	rrca
2797  0BE6  0F          	rrca
2798  0BE7  E6 1F       	and	a,0x1f
2799  0BE9  B6          	or	a, (hl)
2800  0BEA  32 00 00    	ld	(_map_paper_clr),a
2801  0BED  21 00 03    	ld	hl,0x0300
2802  0BF0  22 00 00    	ld	(_index0),hl
2803  0BF3              l_spr_btile_paint_back_00106:
2804  0BF3  21 00 00    	ld	hl,_index0
2805  0BF6  7E          	ld	a, (hl)
2806  0BF7  D6 80       	sub	a,0x80
2807  0BF9  23          	inc	hl
2808  0BFA  7E          	ld	a, (hl)
2809  0BFB  DE 0D       	sbc	a,0x0d
2810  0BFD  30 49       	jr	NC,l_spr_btile_paint_back_00108
2811  0BFF  21 00 00    	ld	hl,_i
2812  0C02  36 00       	ld	(hl),0x00
2813  0C04              l_spr_btile_paint_back_00103:
2814  0C04  3A 00 00    	ld	a,(_i)
2815  0C07  D6 10       	sub	a,0x10
2816  0C09  30 31       	jr	NC,l_spr_btile_paint_back_00105
2817  0C0B  01 00 00    	ld	bc,_btiles
2818  0C0E  2A 00 00    	ld	hl,(_index0)
2819  0C11  09          	add	hl,bc
2820  0C12  7D          	ld	a,l
2821  0C13  44          	ld	b,h
2822  0C14  21 00 00    	ld	hl,_i
2823  0C17  86          	add	a, (hl)
2824  0C18  4F          	ld	c, a
2825  0C19  78          	ld	a, b
2826  0C1A  CE 00       	adc	a,0x00
2827  0C1C  47          	ld	b, a
2828  0C1D  21 20 00    	ld	hl,0x0020
2829  0C20  09          	add	hl,bc
2830  0C21  7E          	ld	a,(hl)
2831  0C22  DD 77 FF    	ld	(ix-1),a
2832  0C25  E6 38       	and	a,0x38
2833  0C27  20 0D       	jr	NZ,l_spr_btile_paint_back_00102
2834  0C29  DD 7E FF    	ld	a,(ix-1)
2835  0C2C  E6 C7       	and	a,0xc7
2836  0C2E  77          	ld	(hl),a
2837  0C2F  4D          	ld	c,l
2838  0C30  44          	ld	b,h
2839  0C31  21 00 00    	ld	hl,_map_paper
2840  0C34  B6          	or	a, (hl)
2841  0C35  02          	ld	(bc), a
2842  0C36              l_spr_btile_paint_back_00102:
2843  0C36  21 00 00    	ld	hl,_i
2844  0C39  34          	inc	(hl)
2845  0C3A  18 C8       	jr	l_spr_btile_paint_back_00103
2846  0C3C              l_spr_btile_paint_back_00105:
2847  0C3C  2A 00 00    	ld	hl,(_index0)
2848  0C3F  11 30 00    	ld	de,0x0030
2849  0C42  19          	add	hl,de
2850  0C43  22 00 00    	ld	(_index0),hl
2851  0C46  18 AB       	jr	l_spr_btile_paint_back_00106
2852  0C48              l_spr_btile_paint_back_00108:
2853  0C48  3A 00 00    	ld	a,(_map_paper)
2854  0C4B  32 00 00    	ld	(_map_paper_last),a
2855  0C4E  CD 00 00    	call	_game_attribs
2856  0C51  33          	inc	sp
2857  0C52  DD E1       	pop	ix
2858  0C54  C9          	ret
2859  0C55              	SECTION code_compiler
2860  0C55              ;	---------------------------------
2861  0C55              ; Function spr_flatten
2862  0C55              ; ---------------------------------
2863  0C55              _spr_flatten:
2864  0C55  06 00       	ld	b,0x00
2865  0C57              l_spr_flatten_00102:
2866  0C57  78          	ld	a, b
2867  0C58  07          	rlca
2868  0C59  07          	rlca
2869  0C5A  07          	rlca
2870  0C5B  E6 F8       	and	a,0xf8
2871  0C5D  5F          	ld	e, a
2872  0C5E  16 00       	ld	d,0x00
2873  0C60  21 96 DC    	ld	hl,0xdc96
2874  0C63  19          	add	hl, de
2875  0C64  7E          	ld	a, (hl)
2876  0C65  32 00 00    	ld	(_s_lin1),a
2877  0C68  16 00       	ld	d,0x00
2878  0C6A  21 95 DC    	ld	hl,0xdc95
2879  0C6D  19          	add	hl, de
2880  0C6E  7E          	ld	a, (hl)
2881  0C6F  32 00 00    	ld	(_s_col1),a
2882  0C72  16 00       	ld	d,0x00
2883  0C74  21 98 DC    	ld	hl,0xdc98
2884  0C77  19          	add	hl, de
2885  0C78  7E          	ld	a, (hl)
2886  0C79  32 00 00    	ld	(_s_tile1),a
2887  0C7C  C5          	push	bc
2888  0C7D  21 00 00    	ld	hl,0x0000
2889  0C80  E5          	push	hl
2890  0C81  AF          	xor	a, a
2891  0C82  48          	ld	c,b
2892  0C83  47          	ld	b,a
2893  0C84  C5          	push	bc
2894  0C85  CD 00 00    	call	_NIRVANAP_spriteT_callee
2895  0C88  2A FF FF    	ld	hl,(_s_col1 - 1)
2896  0C8B  3A 00 00    	ld	a,(_s_lin1)
2897  0C8E  6F          	ld	l,a
2898  0C8F  3A 00 00    	ld	a,(_s_tile1)
2899  0C92  E5          	push	hl
2900  0C93  F5          	push	af
2901  0C94  33          	inc	sp
2902  0C95  CD 00 00    	call	_NIRVANAP_drawT_callee
2903  0C98  C1          	pop	bc
2904  0C99  04          	inc	b
2905  0C9A  78          	ld	a, b
2906  0C9B  D6 07       	sub	a,0x07
2907  0C9D  38 B8       	jr	C,l_spr_flatten_00102
2908  0C9F  C9          	ret
2909  0CA0              	SECTION code_compiler
2910  0CA0              ;	---------------------------------
2911  0CA0              ; Function spr_unflattenP1
2912  0CA0              ; ---------------------------------
2913  0CA0              _spr_unflattenP1:
2914  0CA0  21 0F 00    	ld	hl,+(_col + 0x000f)
2915  0CA3  46          	ld	b, (hl)
2916  0CA4  21 0F 00    	ld	hl,+(_lin + 0x000f)
2917  0CA7  4E          	ld	c, (hl)
2918  0CA8  3A 00 00    	ld	a,(_s_tile1)
2919  0CAB  C5          	push	bc
2920  0CAC  F5          	push	af
2921  0CAD  33          	inc	sp
2922  0CAE  CD 00 00    	call	_NIRVANAP_drawT_callee
2923  0CB1  C9          	ret
2924  0CB2              	SECTION IGNORE
2925  0000              
