1     0000              MODULE game_sprite_c
2     0000              LINE 0, "game_sprite.c"
0     0000              
1     0000              ;--------------------------------------------------------
2     0000              ; File Created by SDCC : free open source ANSI-C Compiler
3     0000              ; Version 3.6.9 #9958 (Mac OS X i386)
4     0000              ;--------------------------------------------------------
5     0000              ; Processed by Z88DK
6     0000              ;--------------------------------------------------------
7     0000              
8     0000              	EXTERN __divschar
9     0000              	EXTERN __divschar_callee
10    0000              	EXTERN __divsint
11    0000              	EXTERN __divsint_callee
12    0000              	EXTERN __divslong
13    0000              	EXTERN __divslong_callee
14    0000              	EXTERN __divslonglong
15    0000              	EXTERN __divslonglong_callee
16    0000              	EXTERN __divsuchar
17    0000              	EXTERN __divsuchar_callee
18    0000              	EXTERN __divuchar
19    0000              	EXTERN __divuchar_callee
20    0000              	EXTERN __divuint
21    0000              	EXTERN __divuint_callee
22    0000              	EXTERN __divulong
23    0000              	EXTERN __divulong_callee
24    0000              	EXTERN __divulonglong
25    0000              	EXTERN __divulonglong_callee
26    0000              	EXTERN __divuschar
27    0000              	EXTERN __divuschar_callee
28    0000              	EXTERN __modschar
29    0000              	EXTERN __modschar_callee
30    0000              	EXTERN __modsint
31    0000              	EXTERN __modsint_callee
32    0000              	EXTERN __modslong
33    0000              	EXTERN __modslong_callee
34    0000              	EXTERN __modslonglong
35    0000              	EXTERN __modslonglong_callee
36    0000              	EXTERN __modsuchar
37    0000              	EXTERN __modsuchar_callee
38    0000              	EXTERN __moduchar
39    0000              	EXTERN __moduchar_callee
40    0000              	EXTERN __moduint
41    0000              	EXTERN __moduint_callee
42    0000              	EXTERN __modulong
43    0000              	EXTERN __modulong_callee
44    0000              	EXTERN __modulonglong
45    0000              	EXTERN __modulonglong_callee
46    0000              	EXTERN __moduschar
47    0000              	EXTERN __moduschar_callee
48    0000              	EXTERN __mulint
49    0000              	EXTERN __mulint_callee
50    0000              	EXTERN __mullong
51    0000              	EXTERN __mullong_callee
52    0000              	EXTERN __mullonglong
53    0000              	EXTERN __mullonglong_callee
54    0000              	EXTERN __mulschar
55    0000              	EXTERN __mulschar_callee
56    0000              	EXTERN __mulsuchar
57    0000              	EXTERN __mulsuchar_callee
58    0000              	EXTERN __muluschar
59    0000              	EXTERN __muluschar_callee
60    0000              	EXTERN __rlslonglong
61    0000              	EXTERN __rlslonglong_callee
62    0000              	EXTERN __rlulonglong
63    0000              	EXTERN __rlulonglong_callee
64    0000              	EXTERN __rrslonglong
65    0000              	EXTERN __rrslonglong_callee
66    0000              	EXTERN __rrulonglong
67    0000              	EXTERN __rrulonglong_callee
68    0000              	EXTERN ___sdcc_call_hl
69    0000              	EXTERN ___sdcc_call_iy
70    0000              	EXTERN ___sdcc_enter_ix
71    0000              	EXTERN _banked_call
72    0000              	EXTERN _banked_ret
73    0000              	EXTERN ___fs2schar
74    0000              	EXTERN ___fs2schar_callee
75    0000              	EXTERN ___fs2sint
76    0000              	EXTERN ___fs2sint_callee
77    0000              	EXTERN ___fs2slong
78    0000              	EXTERN ___fs2slong_callee
79    0000              	EXTERN ___fs2slonglong
80    0000              	EXTERN ___fs2slonglong_callee
81    0000              	EXTERN ___fs2uchar
82    0000              	EXTERN ___fs2uchar_callee
83    0000              	EXTERN ___fs2uint
84    0000              	EXTERN ___fs2uint_callee
85    0000              	EXTERN ___fs2ulong
86    0000              	EXTERN ___fs2ulong_callee
87    0000              	EXTERN ___fs2ulonglong
88    0000              	EXTERN ___fs2ulonglong_callee
89    0000              	EXTERN ___fsadd
90    0000              	EXTERN ___fsadd_callee
91    0000              	EXTERN ___fsdiv
92    0000              	EXTERN ___fsdiv_callee
93    0000              	EXTERN ___fseq
94    0000              	EXTERN ___fseq_callee
95    0000              	EXTERN ___fsgt
96    0000              	EXTERN ___fsgt_callee
97    0000              	EXTERN ___fslt
98    0000              	EXTERN ___fslt_callee
99    0000              	EXTERN ___fsmul
100   0000              	EXTERN ___fsmul_callee
101   0000              	EXTERN ___fsneq
102   0000              	EXTERN ___fsneq_callee
103   0000              	EXTERN ___fssub
104   0000              	EXTERN ___fssub_callee
105   0000              	EXTERN ___schar2fs
106   0000              	EXTERN ___schar2fs_callee
107   0000              	EXTERN ___sint2fs
108   0000              	EXTERN ___sint2fs_callee
109   0000              	EXTERN ___slong2fs
110   0000              	EXTERN ___slong2fs_callee
111   0000              	EXTERN ___slonglong2fs
112   0000              	EXTERN ___slonglong2fs_callee
113   0000              	EXTERN ___uchar2fs
114   0000              	EXTERN ___uchar2fs_callee
115   0000              	EXTERN ___uint2fs
116   0000              	EXTERN ___uint2fs_callee
117   0000              	EXTERN ___ulong2fs
118   0000              	EXTERN ___ulong2fs_callee
119   0000              	EXTERN ___ulonglong2fs
120   0000              	EXTERN ___ulonglong2fs_callee
121   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_deix
122   0000              	EXTERN ____sdcc_2_copy_src_mhl_dst_bcix
123   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_deix
124   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_bcix
125   0000              	EXTERN ____sdcc_4_copy_src_mhl_dst_mbc
126   0000              	EXTERN ____sdcc_4_ldi_nosave_bc
127   0000              	EXTERN ____sdcc_4_ldi_save_bc
128   0000              	EXTERN ____sdcc_4_push_hlix
129   0000              	EXTERN ____sdcc_4_push_mhl
130   0000              	EXTERN ____sdcc_lib_setmem_hl
131   0000              	EXTERN ____sdcc_ll_add_de_bc_hl
132   0000              	EXTERN ____sdcc_ll_add_de_bc_hlix
133   0000              	EXTERN ____sdcc_ll_add_de_hlix_bc
134   0000              	EXTERN ____sdcc_ll_add_de_hlix_bcix
135   0000              	EXTERN ____sdcc_ll_add_deix_bc_hl
136   0000              	EXTERN ____sdcc_ll_add_deix_hlix
137   0000              	EXTERN ____sdcc_ll_add_hlix_bc_deix
138   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bc
139   0000              	EXTERN ____sdcc_ll_add_hlix_deix_bcix
140   0000              	EXTERN ____sdcc_ll_asr_hlix_a
141   0000              	EXTERN ____sdcc_ll_asr_mbc_a
142   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlix
143   0000              	EXTERN ____sdcc_ll_copy_src_de_dst_hlsp
144   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hl
145   0000              	EXTERN ____sdcc_ll_copy_src_deix_dst_hlix
146   0000              	EXTERN ____sdcc_ll_copy_src_deixm_dst_hlsp
147   0000              	EXTERN ____sdcc_ll_copy_src_desp_dst_hlsp
148   0000              	EXTERN ____sdcc_ll_copy_src_hl_dst_de
149   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_de
150   0000              	EXTERN ____sdcc_ll_copy_src_hlsp_dst_deixm
151   0000              	EXTERN ____sdcc_ll_lsl_hlix_a
152   0000              	EXTERN ____sdcc_ll_lsl_mbc_a
153   0000              	EXTERN ____sdcc_ll_lsr_hlix_a
154   0000              	EXTERN ____sdcc_ll_lsr_mbc_a
155   0000              	EXTERN ____sdcc_ll_push_hlix
156   0000              	EXTERN ____sdcc_ll_push_mhl
157   0000              	EXTERN ____sdcc_ll_sub_de_bc_hl
158   0000              	EXTERN ____sdcc_ll_sub_de_bc_hlix
159   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bc
160   0000              	EXTERN ____sdcc_ll_sub_de_hlix_bcix
161   0000              	EXTERN ____sdcc_ll_sub_deix_bc_hl
162   0000              	EXTERN ____sdcc_ll_sub_deix_hlix
163   0000              	EXTERN ____sdcc_ll_sub_hlix_bc_deix
164   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bc
165   0000              	EXTERN ____sdcc_ll_sub_hlix_deix_bcix
166   0000              	EXTERN ____sdcc_load_debc_deix
167   0000              	EXTERN ____sdcc_load_dehl_deix
168   0000              	EXTERN ____sdcc_load_debc_mhl
169   0000              	EXTERN ____sdcc_load_hlde_mhl
170   0000              	EXTERN ____sdcc_store_dehl_bcix
171   0000              	EXTERN ____sdcc_store_debc_hlix
172   0000              	EXTERN ____sdcc_store_debc_mhl
173   0000              	EXTERN ____sdcc_cpu_pop_ei
174   0000              	EXTERN ____sdcc_cpu_pop_ei_jp
175   0000              	EXTERN ____sdcc_cpu_push_di
176   0000              	EXTERN ____sdcc_outi
177   0000              	EXTERN ____sdcc_outi_128
178   0000              	EXTERN ____sdcc_outi_256
179   0000              	EXTERN ____sdcc_ldi
180   0000              	EXTERN ____sdcc_ldi_128
181   0000              	EXTERN ____sdcc_ldi_256
182   0000              	EXTERN ____sdcc_4_copy_srcd_hlix_dst_deix
183   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_deix
184   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_deix
185   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_deix
186   0000              	EXTERN ____sdcc_4_or_src_dehl_dst_bcix
187   0000              	EXTERN ____sdcc_4_xor_src_dehl_dst_bcix
188   0000              	EXTERN ____sdcc_4_and_src_dehl_dst_bcix
189   0000              	EXTERN ____sdcc_4_xor_src_mbc_mhl_dst_debc
190   0000              	EXTERN ____sdcc_4_or_src_mbc_mhl_dst_debc
191   0000              	EXTERN ____sdcc_4_and_src_mbc_mhl_dst_debc
192   0000              	EXTERN ____sdcc_4_cpl_src_mhl_dst_debc
193   0000              	EXTERN ____sdcc_4_xor_src_debc_mhl_dst_debc
194   0000              	EXTERN ____sdcc_4_or_src_debc_mhl_dst_debc
195   0000              	EXTERN ____sdcc_4_and_src_debc_mhl_dst_debc
196   0000              	EXTERN ____sdcc_4_and_src_debc_hlix_dst_debc
197   0000              	EXTERN ____sdcc_4_or_src_debc_hlix_dst_debc
198   0000              	EXTERN ____sdcc_4_xor_src_debc_hlix_dst_debc
199   0000              
200   0000              ;--------------------------------------------------------
201   0000              ; Public variables in this module
202   0000              ;--------------------------------------------------------
203   0000              	GLOBAL _spr_calc_index
204   0000              	GLOBAL _spr_chktime
205   0000              	GLOBAL _spr_set_up
206   0000              	GLOBAL _spr_set_down
207   0000              	GLOBAL _spr_set_left
208   0000              	GLOBAL _spr_set_right
209   0000              	GLOBAL _spr_move_up_f
210   0000              	GLOBAL _spr_move_down_f
211   0000              	GLOBAL _spr_draw8
212   0000              	GLOBAL _spr_move_horizontal
213   0000              	GLOBAL _spr_horizontal_check
214   0000              	GLOBAL _spr_move_right
215   0000              	GLOBAL _spr_move_left
216   0000              	GLOBAL _spr_move_left_f
217   0000              	GLOBAL _spr_move_right_f
218   0000              	GLOBAL _spr_clear_scr
219   0000              	GLOBAL _spr_paint_player
220   0000              	GLOBAL _spr_paint
221   0000              	GLOBAL _spr_clear_fast
222   0000              	GLOBAL _spr_clear_fast_hor
223   0000              	GLOBAL _spr_clear_fast_vert
224   0000              	GLOBAL _spr_get_tile
225   0000              	GLOBAL _spr_get_tile_dir
226   0000              	GLOBAL _spr_back_repaint
227   0000              ;--------------------------------------------------------
228   0000              ; Externals used
229   0000              ;--------------------------------------------------------
230   0000              	GLOBAL _ulltoa_callee
231   0000              	GLOBAL _ulltoa
232   0000              	GLOBAL _strtoull_callee
233   0000              	GLOBAL _strtoull
234   0000              	GLOBAL _strtoll_callee
235   0000              	GLOBAL _strtoll
236   0000              	GLOBAL _lltoa_callee
237   0000              	GLOBAL _lltoa
238   0000              	GLOBAL _llabs_callee
239   0000              	GLOBAL _llabs
240   0000              	GLOBAL __lldivu__callee
241   0000              	GLOBAL __lldivu_
242   0000              	GLOBAL __lldiv__callee
243   0000              	GLOBAL __lldiv_
244   0000              	GLOBAL _atoll_callee
245   0000              	GLOBAL _atoll
246   0000              	GLOBAL _realloc_unlocked_callee
247   0000              	GLOBAL _realloc_unlocked
248   0000              	GLOBAL _malloc_unlocked_fastcall
249   0000              	GLOBAL _malloc_unlocked
250   0000              	GLOBAL _free_unlocked_fastcall
251   0000              	GLOBAL _free_unlocked
252   0000              	GLOBAL _calloc_unlocked_callee
253   0000              	GLOBAL _calloc_unlocked
254   0000              	GLOBAL _aligned_alloc_unlocked_callee
255   0000              	GLOBAL _aligned_alloc_unlocked
256   0000              	GLOBAL _realloc_callee
257   0000              	GLOBAL _realloc
258   0000              	GLOBAL _malloc_fastcall
259   0000              	GLOBAL _malloc
260   0000              	GLOBAL _free_fastcall
261   0000              	GLOBAL _free
262   0000              	GLOBAL _calloc_callee
263   0000              	GLOBAL _calloc
264   0000              	GLOBAL _aligned_alloc_callee
265   0000              	GLOBAL _aligned_alloc
266   0000              	GLOBAL _utoa_callee
267   0000              	GLOBAL _utoa
268   0000              	GLOBAL _ultoa_callee
269   0000              	GLOBAL _ultoa
270   0000              	GLOBAL _system_fastcall
271   0000              	GLOBAL _system
272   0000              	GLOBAL _strtoul_callee
273   0000              	GLOBAL _strtoul
274   0000              	GLOBAL _strtol_callee
275   0000              	GLOBAL _strtol
276   0000              	GLOBAL _strtof_callee
277   0000              	GLOBAL _strtof
278   0000              	GLOBAL _strtod_callee
279   0000              	GLOBAL _strtod
280   0000              	GLOBAL _srand_fastcall
281   0000              	GLOBAL _srand
282   0000              	GLOBAL _rand
283   0000              	GLOBAL _quick_exit_fastcall
284   0000              	GLOBAL _quick_exit
285   0000              	GLOBAL _qsort_callee
286   0000              	GLOBAL _qsort
287   0000              	GLOBAL _ltoa_callee
288   0000              	GLOBAL _ltoa
289   0000              	GLOBAL _labs_fastcall
290   0000              	GLOBAL _labs
291   0000              	GLOBAL _itoa_callee
292   0000              	GLOBAL _itoa
293   0000              	GLOBAL _ftoh_callee
294   0000              	GLOBAL _ftoh
295   0000              	GLOBAL _ftog_callee
296   0000              	GLOBAL _ftog
297   0000              	GLOBAL _ftoe_callee
298   0000              	GLOBAL _ftoe
299   0000              	GLOBAL _ftoa_callee
300   0000              	GLOBAL _ftoa
301   0000              	GLOBAL _exit_fastcall
302   0000              	GLOBAL _exit
303   0000              	GLOBAL _dtoh_callee
304   0000              	GLOBAL _dtoh
305   0000              	GLOBAL _dtog_callee
306   0000              	GLOBAL _dtog
307   0000              	GLOBAL _dtoe_callee
308   0000              	GLOBAL _dtoe
309   0000              	GLOBAL _dtoa_callee
310   0000              	GLOBAL _dtoa
311   0000              	GLOBAL _bsearch_callee
312   0000              	GLOBAL _bsearch
313   0000              	GLOBAL _atol_fastcall
314   0000              	GLOBAL _atol
315   0000              	GLOBAL _atoi_fastcall
316   0000              	GLOBAL _atoi
317   0000              	GLOBAL _atof_fastcall
318   0000              	GLOBAL _atof
319   0000              	GLOBAL _atexit_fastcall
320   0000              	GLOBAL _atexit
321   0000              	GLOBAL _at_quick_exit_fastcall
322   0000              	GLOBAL _at_quick_exit
323   0000              	GLOBAL _abs_fastcall
324   0000              	GLOBAL _abs
325   0000              	GLOBAL _abort
326   0000              	GLOBAL __strtou__callee
327   0000              	GLOBAL __strtou_
328   0000              	GLOBAL __strtoi__callee
329   0000              	GLOBAL __strtoi_
330   0000              	GLOBAL __random_uniform_xor_8__fastcall
331   0000              	GLOBAL __random_uniform_xor_8_
332   0000              	GLOBAL __random_uniform_xor_32__fastcall
333   0000              	GLOBAL __random_uniform_xor_32_
334   0000              	GLOBAL __random_uniform_cmwc_8__fastcall
335   0000              	GLOBAL __random_uniform_cmwc_8_
336   0000              	GLOBAL __shellsort__callee
337   0000              	GLOBAL __shellsort_
338   0000              	GLOBAL __quicksort__callee
339   0000              	GLOBAL __quicksort_
340   0000              	GLOBAL __insertion_sort__callee
341   0000              	GLOBAL __insertion_sort_
342   0000              	GLOBAL __ldivu__callee
343   0000              	GLOBAL __ldivu_
344   0000              	GLOBAL __ldiv__callee
345   0000              	GLOBAL __ldiv_
346   0000              	GLOBAL __divu__callee
347   0000              	GLOBAL __divu_
348   0000              	GLOBAL __div__callee
349   0000              	GLOBAL __div_
350   0000              	GLOBAL _NIRVANAP_drawTW_raw_callee
351   0000              	GLOBAL _NIRVANAP_drawTW_raw
352   0000              	GLOBAL _NIRVANAP_drawTW_callee
353   0000              	GLOBAL _NIRVANAP_drawTW
354   0000              	GLOBAL _NIRVANAP_drawW_raw_callee
355   0000              	GLOBAL _NIRVANAP_drawW_raw
356   0000              	GLOBAL _NIRVANAP_drawW_callee
357   0000              	GLOBAL _NIRVANAP_drawW
358   0000              	GLOBAL _NIRVANAP_spriteT_callee
359   0000              	GLOBAL _NIRVANAP_spriteT
360   0000              	GLOBAL _NIRVANAP_fillC_callee
361   0000              	GLOBAL _NIRVANAP_fillC
362   0000              	GLOBAL _NIRVANAP_readC_callee
363   0000              	GLOBAL _NIRVANAP_readC
364   0000              	GLOBAL _NIRVANAP_paintC_callee
365   0000              	GLOBAL _NIRVANAP_paintC
366   0000              	GLOBAL _NIRVANAP_printQ_callee
367   0000              	GLOBAL _NIRVANAP_printQ
368   0000              	GLOBAL _NIRVANAP_fillT_raw_callee
369   0000              	GLOBAL _NIRVANAP_fillT_raw
370   0000              	GLOBAL _NIRVANAP_fillT_callee
371   0000              	GLOBAL _NIRVANAP_fillT
372   0000              	GLOBAL _NIRVANAP_drawT_raw_callee
373   0000              	GLOBAL _NIRVANAP_drawT_raw
374   0000              	GLOBAL _NIRVANAP_drawT_callee
375   0000              	GLOBAL _NIRVANAP_drawT
376   0000              	GLOBAL _NIRVANAP_stop
377   0000              	GLOBAL _NIRVANAP_start
378   0000              	GLOBAL _zx_print_str
379   0000              	GLOBAL _zx_print_int
380   0000              	GLOBAL _zx_print_chr
381   0000              	GLOBAL _zx_isr
382   0000              	GLOBAL _z80_otdr_callee
383   0000              	GLOBAL _z80_otdr
384   0000              	GLOBAL _z80_otir_callee
385   0000              	GLOBAL _z80_otir
386   0000              	GLOBAL _z80_outp_callee
387   0000              	GLOBAL _z80_outp
388   0000              	GLOBAL _z80_indr_callee
389   0000              	GLOBAL _z80_indr
390   0000              	GLOBAL _z80_inir_callee
391   0000              	GLOBAL _z80_inir
392   0000              	GLOBAL _z80_inp_fastcall
393   0000              	GLOBAL _z80_inp
394   0000              	GLOBAL _z80_set_int_state_fastcall
395   0000              	GLOBAL _z80_set_int_state
396   0000              	GLOBAL _z80_get_int_state
397   0000              	GLOBAL _z80_delay_tstate_fastcall
398   0000              	GLOBAL _z80_delay_tstate
399   0000              	GLOBAL _z80_delay_ms_fastcall
400   0000              	GLOBAL _z80_delay_ms
401   0000              	GLOBAL _im2_remove_generic_callback_callee
402   0000              	GLOBAL _im2_remove_generic_callback
403   0000              	GLOBAL _im2_prepend_generic_callback_callee
404   0000              	GLOBAL _im2_prepend_generic_callback
405   0000              	GLOBAL _im2_append_generic_callback_callee
406   0000              	GLOBAL _im2_append_generic_callback
407   0000              	GLOBAL _im2_create_generic_isr_8080_callee
408   0000              	GLOBAL _im2_create_generic_isr_8080
409   0000              	GLOBAL _im2_create_generic_isr_callee
410   0000              	GLOBAL _im2_create_generic_isr
411   0000              	GLOBAL _im2_install_isr_callee
412   0000              	GLOBAL _im2_install_isr
413   0000              	GLOBAL _im2_init_fastcall
414   0000              	GLOBAL _im2_init
415   0000              	GLOBAL _intrinsic_swap_word_32_fastcall
416   0000              	GLOBAL _intrinsic_swap_word_32
417   0000              	GLOBAL _intrinsic_swap_endian_32_fastcall
418   0000              	GLOBAL _intrinsic_swap_endian_32
419   0000              	GLOBAL _intrinsic_swap_endian_16_fastcall
420   0000              	GLOBAL _intrinsic_swap_endian_16
421   0000              	GLOBAL _intrinsic_return_de
422   0000              	GLOBAL _intrinsic_return_bc
423   0000              	GLOBAL _intrinsic_exx
424   0000              	GLOBAL _intrinsic_ex_de_hl
425   0000              	GLOBAL _intrinsic_nop
426   0000              	GLOBAL _intrinsic_im_2
427   0000              	GLOBAL _intrinsic_im_1
428   0000              	GLOBAL _intrinsic_im_0
429   0000              	GLOBAL _intrinsic_retn
430   0000              	GLOBAL _intrinsic_reti
431   0000              	GLOBAL _intrinsic_halt
432   0000              	GLOBAL _intrinsic_ei
433   0000              	GLOBAL _intrinsic_di
434   0000              	GLOBAL _intrinsic_stub
435   0000              	GLOBAL _intrinsic_ini
436   0000              	GLOBAL _intrinsic_outi
437   0000              	GLOBAL _intrinsic_ldi
438   0000              	GLOBAL _zx_pattern_fill_callee
439   0000              	GLOBAL _zx_pattern_fill
440   0000              	GLOBAL _zx_saddrpup_fastcall
441   0000              	GLOBAL _zx_saddrpup
442   0000              	GLOBAL _zx_saddrpright_callee
443   0000              	GLOBAL _zx_saddrpright
444   0000              	GLOBAL _zx_saddrpleft_callee
445   0000              	GLOBAL _zx_saddrpleft
446   0000              	GLOBAL _zx_saddrpdown_fastcall
447   0000              	GLOBAL _zx_saddrpdown
448   0000              	GLOBAL _zx_saddrcup_fastcall
449   0000              	GLOBAL _zx_saddrcup
450   0000              	GLOBAL _zx_saddrcright_fastcall
451   0000              	GLOBAL _zx_saddrcright
452   0000              	GLOBAL _zx_saddrcleft_fastcall
453   0000              	GLOBAL _zx_saddrcleft
454   0000              	GLOBAL _zx_saddrcdown_fastcall
455   0000              	GLOBAL _zx_saddrcdown
456   0000              	GLOBAL _zx_saddr2py_fastcall
457   0000              	GLOBAL _zx_saddr2py
458   0000              	GLOBAL _zx_saddr2px_fastcall
459   0000              	GLOBAL _zx_saddr2px
460   0000              	GLOBAL _zx_saddr2cy_fastcall
461   0000              	GLOBAL _zx_saddr2cy
462   0000              	GLOBAL _zx_saddr2cx_fastcall
463   0000              	GLOBAL _zx_saddr2cx
464   0000              	GLOBAL _zx_saddr2aaddr_fastcall
465   0000              	GLOBAL _zx_saddr2aaddr
466   0000              	GLOBAL _zx_py2saddr_fastcall
467   0000              	GLOBAL _zx_py2saddr
468   0000              	GLOBAL _zx_py2aaddr_fastcall
469   0000              	GLOBAL _zx_py2aaddr
470   0000              	GLOBAL _zx_pxy2saddr_callee
471   0000              	GLOBAL _zx_pxy2saddr
472   0000              	GLOBAL _zx_pxy2aaddr_callee
473   0000              	GLOBAL _zx_pxy2aaddr
474   0000              	GLOBAL _zx_px2bitmask_fastcall
475   0000              	GLOBAL _zx_px2bitmask
476   0000              	GLOBAL _zx_cy2saddr_fastcall
477   0000              	GLOBAL _zx_cy2saddr
478   0000              	GLOBAL _zx_cy2aaddr_fastcall
479   0000              	GLOBAL _zx_cy2aaddr
480   0000              	GLOBAL _zx_cxy2saddr_callee
481   0000              	GLOBAL _zx_cxy2saddr
482   0000              	GLOBAL _zx_cxy2aaddr_callee
483   0000              	GLOBAL _zx_cxy2aaddr
484   0000              	GLOBAL _zx_bitmask2px_fastcall
485   0000              	GLOBAL _zx_bitmask2px
486   0000              	GLOBAL _zx_aaddrcup_fastcall
487   0000              	GLOBAL _zx_aaddrcup
488   0000              	GLOBAL _zx_aaddrcright_fastcall
489   0000              	GLOBAL _zx_aaddrcright
490   0000              	GLOBAL _zx_aaddrcleft_fastcall
491   0000              	GLOBAL _zx_aaddrcleft
492   0000              	GLOBAL _zx_aaddrcdown_fastcall
493   0000              	GLOBAL _zx_aaddrcdown
494   0000              	GLOBAL _zx_aaddr2saddr_fastcall
495   0000              	GLOBAL _zx_aaddr2saddr
496   0000              	GLOBAL _zx_aaddr2py_fastcall
497   0000              	GLOBAL _zx_aaddr2py
498   0000              	GLOBAL _zx_aaddr2px_fastcall
499   0000              	GLOBAL _zx_aaddr2px
500   0000              	GLOBAL _zx_aaddr2cy_fastcall
501   0000              	GLOBAL _zx_aaddr2cy
502   0000              	GLOBAL _zx_aaddr2cx_fastcall
503   0000              	GLOBAL _zx_aaddr2cx
504   0000              	GLOBAL _zx_visit_wc_pix_callee
505   0000              	GLOBAL _zx_visit_wc_pix
506   0000              	GLOBAL _zx_visit_wc_attr_callee
507   0000              	GLOBAL _zx_visit_wc_attr
508   0000              	GLOBAL _zx_scroll_wc_up_pix_callee
509   0000              	GLOBAL _zx_scroll_wc_up_pix
510   0000              	GLOBAL _zx_scroll_wc_up_attr_callee
511   0000              	GLOBAL _zx_scroll_wc_up_attr
512   0000              	GLOBAL _zx_scroll_wc_up_callee
513   0000              	GLOBAL _zx_scroll_wc_up
514   0000              	GLOBAL _zx_scroll_up_pix_callee
515   0000              	GLOBAL _zx_scroll_up_pix
516   0000              	GLOBAL _zx_scroll_up_attr_callee
517   0000              	GLOBAL _zx_scroll_up_attr
518   0000              	GLOBAL _zx_scroll_up_callee
519   0000              	GLOBAL _zx_scroll_up
520   0000              	GLOBAL _zx_cls_wc_pix_callee
521   0000              	GLOBAL _zx_cls_wc_pix
522   0000              	GLOBAL _zx_cls_wc_attr_callee
523   0000              	GLOBAL _zx_cls_wc_attr
524   0000              	GLOBAL _zx_cls_wc_callee
525   0000              	GLOBAL _zx_cls_wc
526   0000              	GLOBAL _zx_cls_pix_fastcall
527   0000              	GLOBAL _zx_cls_pix
528   0000              	GLOBAL _zx_cls_attr_fastcall
529   0000              	GLOBAL _zx_cls_attr
530   0000              	GLOBAL _zx_cls_fastcall
531   0000              	GLOBAL _zx_cls
532   0000              	GLOBAL _zx_border_fastcall
533   0000              	GLOBAL _zx_border
534   0000              	GLOBAL _zx_tape_verify_block_callee
535   0000              	GLOBAL _zx_tape_verify_block
536   0000              	GLOBAL _zx_tape_save_block_callee
537   0000              	GLOBAL _zx_tape_save_block
538   0000              	GLOBAL _zx_tape_load_block_callee
539   0000              	GLOBAL _zx_tape_load_block
540   0000              	GLOBAL _player_new_jump
541   0000              	GLOBAL _player_crumble
542   0000              	GLOBAL _player_pick
543   0000              	GLOBAL _player_use_floor
544   0000              	GLOBAL _player_lost_life
545   0000              	GLOBAL _player_move_jump
546   0000              	GLOBAL _player_tile
547   0000              	GLOBAL _player_handle_conveyor
548   0000              	GLOBAL _player_pick_extra
549   0000              	GLOBAL _player_pick_deadly
550   0000              	GLOBAL _player_pick_item
551   0000              	GLOBAL _player_check_ceil
552   0000              	GLOBAL _player_check_floor
553   0000              	GLOBAL _player_score_add
554   0000              	GLOBAL _player_move_walk
555   0000              	GLOBAL _player_turn
556   0000              	GLOBAL _player_move
557   0000              	GLOBAL _player_check_input
558   0000              	GLOBAL _player_init
559   0000              	GLOBAL _game_img
560   0000              	GLOBAL _game_end_pietro
561   0000              	GLOBAL _game_end_willy
562   0000              	GLOBAL _game_text
563   0000              	GLOBAL _game_anim_conveyor
564   0000              	GLOBAL _zx_print_char
565   0000              	GLOBAL _reverse
566   0000              	GLOBAL _page
567   0000              	GLOBAL _game_crumble
568   0000              	GLOBAL _game_solar_ray0
569   0000              	GLOBAL _game_solar_ray1
570   0000              	GLOBAL _game_solar_ray
571   0000              	GLOBAL _game_anim_air
572   0000              	GLOBAL _game_shoe
573   0000              	GLOBAL _game_intro
574   0000              	GLOBAL _game_copy_sprite
575   0000              	GLOBAL _game_copy_sprite_color_reset
576   0000              	GLOBAL _game_copy_sprite_std
577   0000              	GLOBAL _game_flash_exit
578   0000              	GLOBAL _game_page_map
579   0000              	GLOBAL _game_attribs
580   0000              	GLOBAL _game_check_time
581   0000              	GLOBAL _game_key_paint
582   0000              	GLOBAL _game_colour_message
583   0000              	GLOBAL _game_paint_attrib
584   0000              	GLOBAL _game_print_score
585   0000              	GLOBAL _game_cell_paint_index
586   0000              	GLOBAL _game_cell_paint
587   0000              	GLOBAL _game_check_cell
588   0000              	GLOBAL _game_check_map
589   0000              	GLOBAL _game_loop
590   0000              	GLOBAL _game_round_init
591   0000              	GLOBAL _game_start_timer
592   0000              	GLOBAL _game_update_stats
593   0000              	GLOBAL _game_print_footer
594   0000              	GLOBAL _game_fill_row
595   0000              	GLOBAL _game_cls
596   0000              	GLOBAL _game_fps
597   0000              	GLOBAL _game_draw_map
598   0000              	GLOBAL _enemy_init
599   0000              	GLOBAL _enemy_move
600   0000              	GLOBAL _enemy_turn
601   0000              	GLOBAL _enemy_static
602   0000              	GLOBAL _enemy_horizontal
603   0000              	GLOBAL _enemy_vertical
604   0000              	GLOBAL _ay_reset
605   0000              	GLOBAL _ay_song_stop
606   0000              	GLOBAL _ay_song_play
607   0000              	GLOBAL _ay_fx_stop
608   0000              	GLOBAL _ay_fx_play
609   0000              	GLOBAL _ay_is_playing
610   0000              	GLOBAL _audio_game_over
611   0000              	GLOBAL _audio_round_init
612   0000              	GLOBAL _audio_levelup
613   0000              	GLOBAL _audio_menu
614   0000              	GLOBAL _audio_game_end
615   0000              	GLOBAL _audio_game_start
616   0000              	GLOBAL _audio_level_complete
617   0000              	GLOBAL _audio_level_start
618   0000              	GLOBAL _audio_puerta
619   0000              	GLOBAL _audio_crumble
620   0000              	GLOBAL _audio_select
621   0000              	GLOBAL _audio_tick
622   0000              	GLOBAL _audio_door_open
623   0000              	GLOBAL _audio_coin_noentiendo
624   0000              	GLOBAL _audio_coin
625   0000              	GLOBAL _audio_fall
626   0000              	GLOBAL _audio_jump
627   0000              	GLOBAL _audio_dead
628   0000              	GLOBAL _audio_time
629   0000              	GLOBAL _audio_ingame
630   0000              	GLOBAL _in_mouse_kempston_wheel_delta
631   0000              	GLOBAL _in_mouse_kempston_wheel
632   0000              	GLOBAL _in_mouse_kempston_callee
633   0000              	GLOBAL _in_mouse_kempston
634   0000              	GLOBAL _in_mouse_kempston_setpos_callee
635   0000              	GLOBAL _in_mouse_kempston_setpos
636   0000              	GLOBAL _in_mouse_kempston_reset
637   0000              	GLOBAL _in_mouse_kempston_init
638   0000              	GLOBAL _in_mouse_amx_wheel_delta
639   0000              	GLOBAL _in_mouse_amx_wheel
640   0000              	GLOBAL _in_mouse_amx_callee
641   0000              	GLOBAL _in_mouse_amx
642   0000              	GLOBAL _in_mouse_amx_setpos_callee
643   0000              	GLOBAL _in_mouse_amx_setpos
644   0000              	GLOBAL _in_mouse_amx_reset
645   0000              	GLOBAL _in_mouse_amx_init_callee
646   0000              	GLOBAL _in_mouse_amx_init
647   0000              	GLOBAL _in_stick_sinclair2
648   0000              	GLOBAL _in_stick_sinclair1
649   0000              	GLOBAL _in_stick_kempston
650   0000              	GLOBAL _in_stick_fuller
651   0000              	GLOBAL _in_stick_cursor
652   0000              	GLOBAL _in_stick_keyboard_fastcall
653   0000              	GLOBAL _in_stick_keyboard
654   0000              	GLOBAL _in_wait_nokey
655   0000              	GLOBAL _in_wait_key
656   0000              	GLOBAL _in_test_key
657   0000              	GLOBAL _in_pause_fastcall
658   0000              	GLOBAL _in_pause
659   0000              	GLOBAL _in_key_scancode_fastcall
660   0000              	GLOBAL _in_key_scancode
661   0000              	GLOBAL _in_key_pressed_fastcall
662   0000              	GLOBAL _in_key_pressed
663   0000              	GLOBAL _in_inkey
664   0000              	GLOBAL _NIRVANAP_CHAR_TABLE
665   0000              	GLOBAL _NIRVANAP_WIDE_IMAGES
666   0000              	GLOBAL _NIRVANAP_TILE_IMAGES
667   0000              	GLOBAL _NIRVANAP_HOLE
668   0000              	GLOBAL _NIRVANAP_ISR_HOOK
669   0000              	GLOBAL _game_tune
670   0000              	GLOBAL _code1
671   0000              	GLOBAL _code0
672   0000              	GLOBAL _deltas
673   0000              	GLOBAL _attribs
674   0000              	GLOBAL _air_curr_byte
675   0000              	GLOBAL _spr_clr
676   0000              	GLOBAL _spr_init_bright
677   0000              	GLOBAL _spr_init_cout3
678   0000              	GLOBAL _spr_init_cin3
679   0000              	GLOBAL _spr_init_cout2
680   0000              	GLOBAL _spr_init_cin2
681   0000              	GLOBAL _spr_init_cout1
682   0000              	GLOBAL _spr_init_cin1
683   0000              	GLOBAL _spr_init_cout0
684   0000              	GLOBAL _spr_init_cin0
685   0000              	GLOBAL _map_clear
686   0000              	GLOBAL _map_paper
687   0000              	GLOBAL _map_border
688   0000              	GLOBAL _gbyte
689   0000              	GLOBAL _scr_curr
690   0000              	GLOBAL _color
691   0000              	GLOBAL _scr_map
692   0000              	GLOBAL _spr_kind
693   0000              	GLOBAL _spr_altset
694   0000              	GLOBAL _spr_frames
695   0000              	GLOBAL _spr_speed_a
696   0000              	GLOBAL _spr_speed_b
697   0000              	GLOBAL _spr_speed
698   0000              	GLOBAL _spr_tile
699   0000              	GLOBAL _screen_ink
700   0000              	GLOBAL _screen_paper
701   0000              	GLOBAL _game_start_scr
702   0000              	GLOBAL _player_next_extra
703   0000              	GLOBAL _game_score_top
704   0000              	GLOBAL _player_coins
705   0000              	GLOBAL _player_lives
706   0000              	GLOBAL _game_crumb_end
707   0000              	GLOBAL _game_crumb_start
708   0000              	GLOBAL _game_over
709   0000              	GLOBAL _game_tile_cnt
710   0000              	GLOBAL _game_inf_lives
711   0000              	GLOBAL _game_inmune
712   0000              	GLOBAL _spr_count
713   0000              	GLOBAL _key_ink
714   0000              	GLOBAL _key_last
715   0000              	GLOBAL _lapse_crumb
716   0000              	GLOBAL _time_key
717   0000              	GLOBAL _time_conv
718   0000              	GLOBAL _time_air
719   0000              	GLOBAL _frame_time
720   0000              	GLOBAL _curr_time
721   0000              	GLOBAL _key_attrib
722   0000              	GLOBAL _g_ray1
723   0000              	GLOBAL _attrib_osd
724   0000              	GLOBAL _attrib_hl
725   0000              	GLOBAL _attrib
726   0000              	GLOBAL _zx_val_asm
727   0000              	GLOBAL _index1
728   0000              	GLOBAL _index0
729   0000              	GLOBAL _loop_count
730   0000              	GLOBAL _s_row1
731   0000              	GLOBAL _s_col1
732   0000              	GLOBAL _s_col0
733   0000              	GLOBAL _s_lin1
734   0000              	GLOBAL _s_lin0
735   0000              	GLOBAL _nirv_sprite_index
736   0000              	GLOBAL _player_kill_index
737   0000              	GLOBAL _player_jump_top
738   0000              	GLOBAL _game_debug
739   0000              	GLOBAL _sprite
740   0000              	GLOBAL _fps
741   0000              	GLOBAL _game_lang
742   0000              	GLOBAL _game_effect
743   0000              	GLOBAL _game_menu
744   0000              	GLOBAL _game_atrac
745   0000              	GLOBAL _game_mode
746   0000              	GLOBAL _game_tileset
747   0000              	GLOBAL _menu_curr_sel
748   0000              	GLOBAL _game_round_up
749   0000              	GLOBAL _game_lives
750   0000              	GLOBAL _game_code
751   0000              	GLOBAL _game_exit_lin
752   0000              	GLOBAL _game_exit_col
753   0000              	GLOBAL _game_conveyor_col1
754   0000              	GLOBAL _game_conveyor_col0
755   0000              	GLOBAL _game_conveyor_lin
756   0000              	GLOBAL _game_conveyor_dir
757   0000              	GLOBAL _game_song_play
758   0000              	GLOBAL _game_gravity
759   0000              	GLOBAL _player_lin_scr
760   0000              	GLOBAL _player_col_scr
761   0000              	GLOBAL _player_fall_start
762   0000              	GLOBAL _player_jump_lin
763   0000              	GLOBAL _player_jump_count
764   0000              	GLOBAL _player_jump_hack
765   0000              	GLOBAL _player_vel_inc
766   0000              	GLOBAL _player_vel_y0
767   0000              	GLOBAL _player_vel_y
768   0000              	GLOBAL _player_score
769   0000              	GLOBAL _tbuffer
770   0000              	GLOBAL _obj_count
771   0000              	GLOBAL _obj_col
772   0000              	GLOBAL _obj_lin
773   0000              	GLOBAL _last_time_b
774   0000              	GLOBAL _last_time_a
775   0000              	GLOBAL _last_time
776   0000              	GLOBAL _colint
777   0000              	GLOBAL _col
778   0000              	GLOBAL _lin
779   0000              	GLOBAL _tile
780   0000              	GLOBAL _value_c
781   0000              	GLOBAL _value_b
782   0000              	GLOBAL _value_a
783   0000              	GLOBAL _state_a
784   0000              	GLOBAL _state
785   0000              	GLOBAL _class
786   0000              	GLOBAL _dirs_last
787   0000              	GLOBAL _dirs
788   0000              	GLOBAL _k2
789   0000              	GLOBAL _k1
790   0000              	GLOBAL _joyfunc2
791   0000              	GLOBAL _joyfunc1
792   0000              	GLOBAL _btiles
793   0000              	GLOBAL _v3
794   0000              	GLOBAL _v2
795   0000              	GLOBAL _v1
796   0000              	GLOBAL _v0
797   0000              	GLOBAL _i
798   0000              	GLOBAL _spec128
799   0000              	GLOBAL _GLOBAL_ZX_PORT_7FFD
800   0000              	GLOBAL _GLOBAL_ZX_PORT_1FFD
801   0000              	GLOBAL _GLOBAL_ZX_PORT_FE
802   0000              	GLOBAL _texts_en
803   0000              	GLOBAL _texts_es
804   0000              	GLOBAL _hitiles2
805   0000              	GLOBAL _hitiles1
806   0000              	GLOBAL _ay_song_medievo
807   0000              	GLOBAL _ay_song_mistery
808   0000              	GLOBAL _ay_song_coin_noentiendo
809   0000              	GLOBAL _ay_song_game_over
810   0000              	GLOBAL _ay_song_time_atack
811   0000              	GLOBAL _ay_fx_select
812   0000              	GLOBAL _ay_fx_pause
813   0000              	GLOBAL _ay_fx_crumble
814   0000              	GLOBAL _ay_fx_door_open
815   0000              	GLOBAL _ay_fx_tick
816   0000              	GLOBAL _ay_fx_game_start
817   0000              	GLOBAL _ay_fx_fall
818   0000              	GLOBAL _ay_fx_jump
819   0000              	GLOBAL _ay_fx_dead
820   0000              	GLOBAL _ay_fx_coin
821   0000              	GLOBAL _ay_song_round_init
822   0000              	GLOBAL _ay_song_menu
823   0000              	GLOBAL _ay_song_ingame1
824   0000              	GLOBAL _ay_song_ingame0
825   0000              	GLOBAL _hisprites2
826   0000              	GLOBAL _hisprites1
827   0000              	GLOBAL _logo2
828   0000              	GLOBAL _logo1
829   0000              	GLOBAL _cartoon5
830   0000              	GLOBAL _cartoon4
831   0000              	GLOBAL _cartoon3
832   0000              	GLOBAL _cartoon2
833   0000              	GLOBAL _cartoon1
834   0000              	GLOBAL _cartoon0
835   0000              	GLOBAL _img1
836   0000              	GLOBAL _air_end_byte
837   0000              	GLOBAL _air_start_byte
838   0000              	GLOBAL _tile_class
839   0000              	GLOBAL _map_names0
840   0000              	GLOBAL _game_borders0
841   0000              	GLOBAL _spr_init2
842   0000              	GLOBAL _spr_init1
843   0000              	GLOBAL _tile_class2
844   0000              	GLOBAL _tile_class1
845   0000              	GLOBAL _paper0
846   0000              	GLOBAL _lenght0
847   0000              	GLOBAL _world0
848   0000              	GLOBAL _spr_init
849   0000              	GLOBAL _game_encode
850   0000              	GLOBAL _player_jump_hor
851   0000              ;--------------------------------------------------------
852   0000              ; special function registers
853   0000              ;--------------------------------------------------------
854   0000              defc _IO_FE	=	0x00fe
855   0000              defc _IO_1FFD	=	0x1ffd
856   0000              defc _IO_7FFD	=	0x7ffd
857   0000              ;--------------------------------------------------------
858   0000              ; ram data
859   0000              ;--------------------------------------------------------
860   0000              	SECTION bss_compiler
861   0000              ;--------------------------------------------------------
862   0000              ; ram data
863   0000              ;--------------------------------------------------------
864   0000              
865   0000              IF 0
866   0000              
867   0000              ; .area _INITIALIZED removed by z88dk
868   0000              
869   0000              
870   0000              ENDIF
871   0000              
872   0000              ;--------------------------------------------------------
873   0000              ; absolute external ram data
874   0000              ;--------------------------------------------------------
875   0000              	SECTION IGNORE
876   0000              ;--------------------------------------------------------
877   0000              ; global & static initialisations
878   0000              ;--------------------------------------------------------
879   0000              	SECTION code_crt_init
880   0000              ;--------------------------------------------------------
881   0000              ; Home
882   0000              ;--------------------------------------------------------
883   0000              	SECTION IGNORE
884   0000              ;--------------------------------------------------------
885   0000              ; code
886   0000              ;--------------------------------------------------------
887   0000              	SECTION code_compiler
888   0000              ;	---------------------------------
889   0000              ; Function spr_calc_index
890   0000              ; ---------------------------------
891   0000              _spr_calc_index:
892   0000  CD 00 00    	call	___sdcc_enter_ix
893   0003  DD 4E 05    	ld	c,(ix+5)
894   0006  06 00       	ld	b,0x00
895   0008  DD 7E 04    	ld	a,(ix+4)
896   000B  0F          	rrca
897   000C  0F          	rrca
898   000D  0F          	rrca
899   000E  E6 1F       	and	a,0x1f
900   0010  6F          	ld	l, a
901   0011  26 00       	ld	h,0x00
902   0013  29          	add	hl, hl
903   0014  29          	add	hl, hl
904   0015  29          	add	hl, hl
905   0016  29          	add	hl, hl
906   0017  29          	add	hl, hl
907   0018  09          	add	hl, bc
908   0019  DD E1       	pop	ix
909   001B  C9          	ret
910   001C              	SECTION code_compiler
911   001C              ;	---------------------------------
912   001C              ; Function spr_chktime
913   001C              ; ---------------------------------
914   001C              _spr_chktime:
915   001C  CD 00 00    	call	___sdcc_enter_ix
916   001F  2A 00 00    	ld	hl,(_curr_time)
917   0022  F5          	push	af
918   0023  EB          	ex	de,hl
919   0024  2A 00 00    	ld	hl,(_sprite)
920   0027  26 00       	ld	h,0x00
921   0029  29          	add	hl,hl
922   002A  01 00 00    	ld	bc,_last_time
923   002D  09          	add	hl,bc
924   002E  7E          	ld	a,(hl)
925   002F  4D          	ld	c,l
926   0030  44          	ld	b,h
927   0031  23          	inc	hl
928   0032  66          	ld	h, (hl)
929   0033  6F          	ld	l, a
930   0034  7B          	ld	a, e
931   0035  95          	sub	a, l
932   0036  DD 77 FE    	ld	(ix-2),a
933   0039  7A          	ld	a, d
934   003A  9C          	sbc	a, h
935   003B  DD 77 FF    	ld	(ix-1),a
936   003E  2A 00 00    	ld	hl,(_sprite)
937   0041  26 00       	ld	h,0x00
938   0043  11 00 00    	ld	de,_spr_speed
939   0046  19          	add	hl,de
940   0047  5E          	ld	e, (hl)
941   0048  16 00       	ld	d,0x00
942   004A  DD 7E FE    	ld	a,(ix-2)
943   004D  93          	sub	a, e
944   004E  DD 7E FF    	ld	a,(ix-1)
945   0051  9A          	sbc	a, d
946   0052  38 0D       	jr	C,l_spr_chktime_00102
947   0054  ED 5B 00 00 	ld	de,(_curr_time)
948   0058  7B          	ld	a, e
949   0059  02          	ld	(bc), a
950   005A  03          	inc	bc
951   005B  7A          	ld	a, d
952   005C  02          	ld	(bc), a
953   005D  2E 01       	ld	l,0x01
954   005F  18 02       	jr	l_spr_chktime_00103
955   0061              l_spr_chktime_00102:
956   0061  2E 00       	ld	l,0x00
957   0063              l_spr_chktime_00103:
958   0063  F1          	pop	af
959   0064  DD E1       	pop	ix
960   0066  C9          	ret
961   0067              	SECTION code_compiler
962   0067              ;	---------------------------------
963   0067              ; Function spr_set_up
964   0067              ; ---------------------------------
965   0067              _spr_set_up:
966   0067  01 00 00    	ld	bc,_state+0
967   006A  79          	ld	a, c
968   006B  21 00 00    	ld	hl,_sprite
969   006E  86          	add	a, (hl)
970   006F  5F          	ld	e, a
971   0070  78          	ld	a, b
972   0071  CE 00       	adc	a,0x00
973   0073  57          	ld	d, a
974   0074  1A          	ld	a, (de)
975   0075  F6 01       	or	a,0x01
976   0077  12          	ld	(de), a
977   0078  6E          	ld	l,(hl)
978   0079  26 00       	ld	h,0x00
979   007B  09          	add	hl,bc
980   007C  7E          	ld	a,(hl)
981   007D  E6 FD       	and	a,0xfd
982   007F  77          	ld	(hl),a
983   0080  C9          	ret
984   0081              	SECTION code_compiler
985   0081              ;	---------------------------------
986   0081              ; Function spr_set_down
987   0081              ; ---------------------------------
988   0081              _spr_set_down:
989   0081  01 00 00    	ld	bc,_state+0
990   0084  79          	ld	a, c
991   0085  21 00 00    	ld	hl,_sprite
992   0088  86          	add	a, (hl)
993   0089  5F          	ld	e, a
994   008A  78          	ld	a, b
995   008B  CE 00       	adc	a,0x00
996   008D  57          	ld	d, a
997   008E  1A          	ld	a, (de)
998   008F  F6 02       	or	a,0x02
999   0091  12          	ld	(de), a
1000  0092  6E          	ld	l,(hl)
1001  0093  26 00       	ld	h,0x00
1002  0095  09          	add	hl,bc
1003  0096  7E          	ld	a,(hl)
1004  0097  E6 FE       	and	a,0xfe
1005  0099  77          	ld	(hl),a
1006  009A  C9          	ret
1007  009B              	SECTION code_compiler
1008  009B              ;	---------------------------------
1009  009B              ; Function spr_set_left
1010  009B              ; ---------------------------------
1011  009B              _spr_set_left:
1012  009B  01 00 00    	ld	bc,_state_a+0
1013  009E  79          	ld	a, c
1014  009F  21 00 00    	ld	hl,_sprite
1015  00A2  86          	add	a, (hl)
1016  00A3  5F          	ld	e, a
1017  00A4  78          	ld	a, b
1018  00A5  CE 00       	adc	a,0x00
1019  00A7  57          	ld	d, a
1020  00A8  1A          	ld	a, (de)
1021  00A9  E6 EF       	and	a,0xef
1022  00AB  12          	ld	(de), a
1023  00AC  79          	ld	a, c
1024  00AD  86          	add	a, (hl)
1025  00AE  4F          	ld	c, a
1026  00AF  78          	ld	a, b
1027  00B0  CE 00       	adc	a,0x00
1028  00B2  47          	ld	b, a
1029  00B3  0A          	ld	a, (bc)
1030  00B4  F6 08       	or	a,0x08
1031  00B6  02          	ld	(bc), a
1032  00B7  01 00 00    	ld	bc,_state+0
1033  00BA  79          	ld	a, c
1034  00BB  86          	add	a, (hl)
1035  00BC  5F          	ld	e, a
1036  00BD  78          	ld	a, b
1037  00BE  CE 00       	adc	a,0x00
1038  00C0  57          	ld	d, a
1039  00C1  1A          	ld	a, (de)
1040  00C2  E6 FB       	and	a,0xfb
1041  00C4  12          	ld	(de), a
1042  00C5  6E          	ld	l,(hl)
1043  00C6  26 00       	ld	h,0x00
1044  00C8  09          	add	hl,bc
1045  00C9  7E          	ld	a,(hl)
1046  00CA  F6 08       	or	a,0x08
1047  00CC  77          	ld	(hl),a
1048  00CD  C9          	ret
1049  00CE              	SECTION code_compiler
1050  00CE              ;	---------------------------------
1051  00CE              ; Function spr_set_right
1052  00CE              ; ---------------------------------
1053  00CE              _spr_set_right:
1054  00CE  01 00 00    	ld	bc,_state_a+0
1055  00D1  79          	ld	a, c
1056  00D2  21 00 00    	ld	hl,_sprite
1057  00D5  86          	add	a, (hl)
1058  00D6  5F          	ld	e, a
1059  00D7  78          	ld	a, b
1060  00D8  CE 00       	adc	a,0x00
1061  00DA  57          	ld	d, a
1062  00DB  1A          	ld	a, (de)
1063  00DC  E6 F7       	and	a,0xf7
1064  00DE  12          	ld	(de), a
1065  00DF  79          	ld	a, c
1066  00E0  86          	add	a, (hl)
1067  00E1  4F          	ld	c, a
1068  00E2  78          	ld	a, b
1069  00E3  CE 00       	adc	a,0x00
1070  00E5  47          	ld	b, a
1071  00E6  0A          	ld	a, (bc)
1072  00E7  F6 10       	or	a,0x10
1073  00E9  02          	ld	(bc), a
1074  00EA  01 00 00    	ld	bc,_state+0
1075  00ED  79          	ld	a, c
1076  00EE  86          	add	a, (hl)
1077  00EF  5F          	ld	e, a
1078  00F0  78          	ld	a, b
1079  00F1  CE 00       	adc	a,0x00
1080  00F3  57          	ld	d, a
1081  00F4  1A          	ld	a, (de)
1082  00F5  E6 F7       	and	a,0xf7
1083  00F7  12          	ld	(de), a
1084  00F8  6E          	ld	l,(hl)
1085  00F9  26 00       	ld	h,0x00
1086  00FB  09          	add	hl,bc
1087  00FC  7E          	ld	a,(hl)
1088  00FD  F6 04       	or	a,0x04
1089  00FF  77          	ld	(hl),a
1090  0100  C9          	ret
1091  0101              	SECTION code_compiler
1092  0101              ;	---------------------------------
1093  0101              ; Function spr_move_up_f
1094  0101              ; ---------------------------------
1095  0101              _spr_move_up_f:
1096  0101  2A 00 00    	ld	hl,(_sprite)
1097  0104  26 00       	ld	h,0x00
1098  0106  01 00 00    	ld	bc,_lin
1099  0109  09          	add	hl,bc
1100  010A  7E          	ld	a,(hl)
1101  010B  B7          	or	a,a
1102  010C  28 08       	jr	Z,l_spr_move_up_f_00102
1103  010E  C6 FE       	add	a,0xfe
1104  0110  77          	ld	(hl),a
1105  0111  21 00 00    	ld	hl,_spr_clr
1106  0114  36 01       	ld	(hl),0x01
1107  0116              l_spr_move_up_f_00102:
1108  0116  2E 00       	ld	l,0x00
1109  0118  C9          	ret
1110  0119              	SECTION code_compiler
1111  0119              ;	---------------------------------
1112  0119              ; Function spr_move_down_f
1113  0119              ; ---------------------------------
1114  0119              _spr_move_down_f:
1115  0119  2A 00 00    	ld	hl,(_sprite)
1116  011C  26 00       	ld	h,0x00
1117  011E  01 00 00    	ld	bc,_lin
1118  0121  09          	add	hl,bc
1119  0122  5E          	ld	e,(hl)
1120  0123  3E 80       	ld	a,0x80
1121  0125  93          	sub	a,e
1122  0126  38 08       	jr	C,l_spr_move_down_f_00102
1123  0128  1C          	inc	e
1124  0129  1C          	inc	e
1125  012A  73          	ld	(hl), e
1126  012B  21 00 00    	ld	hl,_spr_clr
1127  012E  36 01       	ld	(hl),0x01
1128  0130              l_spr_move_down_f_00102:
1129  0130  2E 00       	ld	l,0x00
1130  0132  C9          	ret
1131  0133              	SECTION code_compiler
1132  0133              ;	---------------------------------
1133  0133              ; Function spr_draw8
1134  0133              ; ---------------------------------
1135  0133              _spr_draw8:
1136  0133  CD 00 00    	call	___sdcc_enter_ix
1137  0136  3B          	dec	sp
1138  0137  DD 7E 04    	ld	a,(ix+4)
1139  013A  D6 10       	sub	a,0x10
1140  013C  30 0F       	jr	NC,l_spr_draw8_00102
1141  013E  DD 4E 04    	ld	c,(ix+4)
1142  0141  CB 39       	srl	c
1143  0143  DD 7E 04    	ld	a,(ix+4)
1144  0146  E6 01       	and	a,0x01
1145  0148  DD 77 04    	ld	(ix+4),a
1146  014B  18 15       	jr	l_spr_draw8_00103
1147  014D              l_spr_draw8_00102:
1148  014D  DD 7E 04    	ld	a,(ix+4)
1149  0150  C6 F0       	add	a,0xf0
1150  0152  DD 77 04    	ld	(ix+4),a
1151  0155  4F          	ld	c, a
1152  0156  CB 39       	srl	c
1153  0158  DD 7E 04    	ld	a,(ix+4)
1154  015B  E6 01       	and	a,0x01
1155  015D  C6 02       	add	a,0x02
1156  015F  DD 77 04    	ld	(ix+4),a
1157  0162              l_spr_draw8_00103:
1158  0162  06 00       	ld	b,0x00
1159  0164  69          	ld	l, c
1160  0165  60          	ld	h, b
1161  0166  29          	add	hl, hl
1162  0167  09          	add	hl, bc
1163  0168  29          	add	hl, hl
1164  0169  29          	add	hl, hl
1165  016A  29          	add	hl, hl
1166  016B  29          	add	hl, hl
1167  016C  01 00 00    	ld	bc,_btiles
1168  016F  09          	add	hl,bc
1169  0170  DD 7E 04    	ld	a,(ix+4)
1170  0173  E6 03       	and	a,0x03
1171  0175  5F          	ld	e,a
1172  0176  DD 7E 05    	ld	a,(ix+5)
1173  0179  C6 08       	add	a,0x08
1174  017B  DD 77 FF    	ld	(ix-1),a
1175  017E  7B          	ld	a,e
1176  017F  B7          	or	a,a
1177  0180  4D          	ld	c,l
1178  0181  44          	ld	b,h
1179  0182  28 0F       	jr	Z,l_spr_draw8_00104
1180  0184  7B          	ld	a, e
1181  0185  3D          	dec	a
1182  0186  28 1E       	jr	Z,l_spr_draw8_00105
1183  0188  7B          	ld	a,e
1184  0189  FE 02       	cp	a,0x02
1185  018B  28 2D       	jr	Z,l_spr_draw8_00106
1186  018D  D6 03       	sub	a,0x03
1187  018F  28 42       	jr	Z,l_spr_draw8_00107
1188  0191  18 57       	jr	l_spr_draw8_00109
1189  0193              l_spr_draw8_00104:
1190  0193  21 20 00    	ld	hl,0x0020
1191  0196  09          	add	hl,bc
1192  0197  EB          	ex	de,hl
1193  0198  DD 66 06    	ld	h,(ix+6)
1194  019B  DD 6E FF    	ld	l,(ix-1)
1195  019E  E5          	push	hl
1196  019F  D5          	push	de
1197  01A0  C5          	push	bc
1198  01A1  CD 00 00    	call	_NIRVANAP_printQ_callee
1199  01A4  18 44       	jr	l_spr_draw8_00109
1200  01A6              l_spr_draw8_00105:
1201  01A6  21 28 00    	ld	hl,0x0028
1202  01A9  09          	add	hl,bc
1203  01AA  03          	inc	bc
1204  01AB  EB          	ex	de,hl
1205  01AC  DD 66 06    	ld	h,(ix+6)
1206  01AF  DD 6E FF    	ld	l,(ix-1)
1207  01B2  E5          	push	hl
1208  01B3  D5          	push	de
1209  01B4  C5          	push	bc
1210  01B5  CD 00 00    	call	_NIRVANAP_printQ_callee
1211  01B8  18 30       	jr	l_spr_draw8_00109
1212  01BA              l_spr_draw8_00106:
1213  01BA  21 24 00    	ld	hl,0x0024
1214  01BD  09          	add	hl,bc
1215  01BE  EB          	ex	de,hl
1216  01BF  21 10 00    	ld	hl,0x0010
1217  01C2  09          	add	hl,bc
1218  01C3  4D          	ld	c, l
1219  01C4  44          	ld	b, h
1220  01C5  DD 66 06    	ld	h,(ix+6)
1221  01C8  DD 6E FF    	ld	l,(ix-1)
1222  01CB  E5          	push	hl
1223  01CC  D5          	push	de
1224  01CD  C5          	push	bc
1225  01CE  CD 00 00    	call	_NIRVANAP_printQ_callee
1226  01D1  18 17       	jr	l_spr_draw8_00109
1227  01D3              l_spr_draw8_00107:
1228  01D3  21 2C 00    	ld	hl,0x002c
1229  01D6  09          	add	hl,bc
1230  01D7  EB          	ex	de,hl
1231  01D8  21 11 00    	ld	hl,0x0011
1232  01DB  09          	add	hl,bc
1233  01DC  4D          	ld	c, l
1234  01DD  44          	ld	b, h
1235  01DE  DD 66 06    	ld	h,(ix+6)
1236  01E1  DD 6E FF    	ld	l,(ix-1)
1237  01E4  E5          	push	hl
1238  01E5  D5          	push	de
1239  01E6  C5          	push	bc
1240  01E7  CD 00 00    	call	_NIRVANAP_printQ_callee
1241  01EA              l_spr_draw8_00109:
1242  01EA  33          	inc	sp
1243  01EB  DD E1       	pop	ix
1244  01ED  C9          	ret
1245  01EE              	SECTION code_compiler
1246  01EE              ;	---------------------------------
1247  01EE              ; Function spr_move_horizontal
1248  01EE              ; ---------------------------------
1249  01EE              _spr_move_horizontal:
1250  01EE  2A 00 00    	ld	hl,(_sprite)
1251  01F1  26 00       	ld	h,0x00
1252  01F3  01 00 00    	ld	bc,_state
1253  01F6  09          	add	hl,bc
1254  01F7  7E          	ld	a,(hl)
1255  01F8  CB 57       	bit	2, a
1256  01FA  28 05       	jr	Z,l_spr_move_horizontal_00104
1257  01FC  CD 92 02    	call	_spr_move_right
1258  01FF  18 06       	jr	l_spr_move_horizontal_00106
1259  0201              l_spr_move_horizontal_00104:
1260  0201  CB 5F       	bit	3, a
1261  0203  C8          	ret	Z
1262  0204  CD 2D 03    	call	_spr_move_left
1263  0207              l_spr_move_horizontal_00106:
1264  0207  C9          	ret
1265  0208              	SECTION code_compiler
1266  0208              ;	---------------------------------
1267  0208              ; Function spr_horizontal_check
1268  0208              ; ---------------------------------
1269  0208              _spr_horizontal_check:
1270  0208  45          	ld	b, l
1271  0209  2A 00 00    	ld	hl,(_sprite)
1272  020C  26 00       	ld	h,0x00
1273  020E  11 00 00    	ld	de,_lin
1274  0211  19          	add	hl,de
1275  0212  7E          	ld	a,(hl)
1276  0213  32 00 00    	ld	(_s_lin1),a
1277  0216  D6 70       	sub	a,0x70
1278  0218  30 75       	jr	NC,l_spr_horizontal_check_00107
1279  021A  2A 00 00    	ld	hl,(_sprite)
1280  021D  26 00       	ld	h,0x00
1281  021F  11 00 00    	ld	de,_state
1282  0222  19          	add	hl,de
1283  0223  7E          	ld	a,(hl)
1284  0224  CB 47       	bit	0,a
1285  0226  20 04       	jr	NZ,l_spr_horizontal_check_00105
1286  0228  CB 4F       	bit	1, a
1287  022A  28 3E       	jr	Z,l_spr_horizontal_check_00102
1288  022C              l_spr_horizontal_check_00105:
1289  022C  3A 00 00    	ld	a,(_s_lin1)
1290  022F  E6 07       	and	a,0x07
1291  0231  28 37       	jr	Z,l_spr_horizontal_check_00102
1292  0233  3A 00 00    	ld	a,(_s_lin1)
1293  0236  C5          	push	bc
1294  0237  4F          	ld	c,a
1295  0238  C5          	push	bc
1296  0239  CD 00 00    	call	_game_check_map
1297  023C  F1          	pop	af
1298  023D  C1          	pop	bc
1299  023E  7D          	ld	a,l
1300  023F  B7          	or	a, a
1301  0240  20 24       	jr	NZ,l_spr_horizontal_check_00112
1302  0242  3A 00 00    	ld	a,(_s_lin1)
1303  0245  C6 08       	add	a,0x08
1304  0247  57          	ld	d, a
1305  0248  C5          	push	bc
1306  0249  4A          	ld	c, d
1307  024A  C5          	push	bc
1308  024B  CD 00 00    	call	_game_check_map
1309  024E  F1          	pop	af
1310  024F  C1          	pop	bc
1311  0250  7D          	ld	a,l
1312  0251  B7          	or	a, a
1313  0252  20 12       	jr	NZ,l_spr_horizontal_check_00112
1314  0254  3A 00 00    	ld	a,(_s_lin1)
1315  0257  C6 10       	add	a,0x10
1316  0259  4F          	ld	c,a
1317  025A  C5          	push	bc
1318  025B  CD 00 00    	call	_game_check_map
1319  025E  F1          	pop	af
1320  025F  7D          	ld	a, l
1321  0260  B7          	or	a,a
1322  0261  20 03       	jr	NZ,l_spr_horizontal_check_00112
1323  0263  6F          	ld	l,a
1324  0264  18 02       	jr	l_spr_horizontal_check_00113
1325  0266              l_spr_horizontal_check_00112:
1326  0266  2E 01       	ld	l,0x01
1327  0268              l_spr_horizontal_check_00113:
1328  0268  18 27       	jr	l_spr_horizontal_check_00109
1329  026A              l_spr_horizontal_check_00102:
1330  026A  3A 00 00    	ld	a,(_s_lin1)
1331  026D  C5          	push	bc
1332  026E  4F          	ld	c,a
1333  026F  C5          	push	bc
1334  0270  CD 00 00    	call	_game_check_map
1335  0273  F1          	pop	af
1336  0274  C1          	pop	bc
1337  0275  7D          	ld	a,l
1338  0276  B7          	or	a, a
1339  0277  20 12       	jr	NZ,l_spr_horizontal_check_00118
1340  0279  3A 00 00    	ld	a,(_s_lin1)
1341  027C  C6 08       	add	a,0x08
1342  027E  4F          	ld	c,a
1343  027F  C5          	push	bc
1344  0280  CD 00 00    	call	_game_check_map
1345  0283  F1          	pop	af
1346  0284  7D          	ld	a, l
1347  0285  B7          	or	a,a
1348  0286  20 03       	jr	NZ,l_spr_horizontal_check_00118
1349  0288  6F          	ld	l,a
1350  0289  18 02       	jr	l_spr_horizontal_check_00119
1351  028B              l_spr_horizontal_check_00118:
1352  028B  2E 01       	ld	l,0x01
1353  028D              l_spr_horizontal_check_00119:
1354  028D  18 02       	jr	l_spr_horizontal_check_00109
1355  028F              l_spr_horizontal_check_00107:
1356  028F  2E 00       	ld	l,0x00
1357  0291              l_spr_horizontal_check_00109:
1358  0291  C9          	ret
1359  0292              	SECTION code_compiler
1360  0292              ;	---------------------------------
1361  0292              ; Function spr_move_right
1362  0292              ; ---------------------------------
1363  0292              _spr_move_right:
1364  0292  CD 00 00    	call	___sdcc_enter_ix
1365  0295  F5          	push	af
1366  0296  3B          	dec	sp
1367  0297  2A 00 00    	ld	hl,(_sprite)
1368  029A  26 00       	ld	h,0x00
1369  029C  01 00 00    	ld	bc,_colint
1370  029F  09          	add	hl,bc
1371  02A0  3A 00 00    	ld	a,(_sprite)
1372  02A3  5F          	ld	e,a
1373  02A4  16 00       	ld	d,0x00
1374  02A6  4D          	ld	c,l
1375  02A7  44          	ld	b,h
1376  02A8  21 00 00    	ld	hl,_col
1377  02AB  19          	add	hl,de
1378  02AC  5E          	ld	e, (hl)
1379  02AD  EB          	ex	de,hl
1380  02AE  2C          	inc	l
1381  02AF  C5          	push	bc
1382  02B0  D5          	push	de
1383  02B1  CD 08 02    	call	_spr_horizontal_check
1384  02B4  D1          	pop	de
1385  02B5  C1          	pop	bc
1386  02B6  7D          	ld	a,l
1387  02B7  B7          	or	a, a
1388  02B8  20 6C       	jr	NZ,l_spr_move_right_00112
1389  02BA  0A          	ld	a, (bc)
1390  02BB  3C          	inc	a
1391  02BC  DD 77 FF    	ld	(ix-1),a
1392  02BF  02          	ld	(bc),a
1393  02C0  3E 00       	ld	a, +((_spr_frames) & 0xFF)
1394  02C2  21 00 00    	ld	hl,_sprite
1395  02C5  86          	add	a, (hl)
1396  02C6  DD 77 FD    	ld	(ix-3),a
1397  02C9  3E 00       	ld	a, +((_spr_frames) / 256)
1398  02CB  CE 00       	adc	a,0x00
1399  02CD  DD 77 FE    	ld	(ix-2),a
1400  02D0  E1          	pop	hl
1401  02D1  E5          	push	hl
1402  02D2  DD 7E FF    	ld	a,(ix-1)
1403  02D5  96          	sub	a,(hl)
1404  02D6  38 4E       	jr	C,l_spr_move_right_00112
1405  02D8  1A          	ld	a, (de)
1406  02D9  FE 1E       	cp	a,0x1e
1407  02DB  30 46       	jr	NC,l_spr_move_right_00107
1408  02DD  C6 02       	add	a,0x02
1409  02DF  6F          	ld	l,a
1410  02E0  C5          	push	bc
1411  02E1  D5          	push	de
1412  02E2  CD 08 02    	call	_spr_horizontal_check
1413  02E5  D1          	pop	de
1414  02E6  C1          	pop	bc
1415  02E7  7D          	ld	a,l
1416  02E8  B7          	or	a, a
1417  02E9  28 08       	jr	Z,l_spr_move_right_00104
1418  02EB  0A          	ld	a, (bc)
1419  02EC  C6 FF       	add	a,0xff
1420  02EE  02          	ld	(bc), a
1421  02EF  2E 01       	ld	l,0x01
1422  02F1  18 35       	jr	l_spr_move_right_00113
1423  02F3              l_spr_move_right_00104:
1424  02F3  1A          	ld	a, (de)
1425  02F4  3C          	inc	a
1426  02F5  DD 77 FD    	ld	(ix-3),a
1427  02F8  12          	ld	(de),a
1428  02F9  AF          	xor	a, a
1429  02FA  02          	ld	(bc), a
1430  02FB  3E 1F       	ld	a,0x1f
1431  02FD  DD 96 FD    	sub	a,(ix-3)
1432  0300  30 24       	jr	NC,l_spr_move_right_00112
1433  0302  3E 1F       	ld	a,0x1f
1434  0304  12          	ld	(de), a
1435  0305  2A 00 00    	ld	hl,(_sprite)
1436  0308  26 00       	ld	h,0x00
1437  030A  11 00 00    	ld	de,_spr_frames
1438  030D  19          	add	hl,de
1439  030E  7E          	ld	a,(hl)
1440  030F  C6 FF       	add	a,0xff
1441  0311  02          	ld	(bc),a
1442  0312  2A 00 00    	ld	hl,(_sprite)
1443  0315  26 00       	ld	h,0x00
1444  0317  01 00 00    	ld	bc,_state
1445  031A  09          	add	hl,bc
1446  031B  7E          	ld	a,(hl)
1447  031C  E6 FB       	and	a,0xfb
1448  031E  77          	ld	(hl),a
1449  031F  2E 01       	ld	l,0x01
1450  0321  18 05       	jr	l_spr_move_right_00113
1451  0323              l_spr_move_right_00107:
1452  0323  3E 03       	ld	a,0x03
1453  0325  02          	ld	(bc), a
1454  0326              l_spr_move_right_00112:
1455  0326  2E 00       	ld	l,0x00
1456  0328              l_spr_move_right_00113:
1457  0328  DD F9       	ld	sp, ix
1458  032A  DD E1       	pop	ix
1459  032C  C9          	ret
1460  032D              	SECTION code_compiler
1461  032D              ;	---------------------------------
1462  032D              ; Function spr_move_left
1463  032D              ; ---------------------------------
1464  032D              _spr_move_left:
1465  032D  CD 00 00    	call	___sdcc_enter_ix
1466  0330  F5          	push	af
1467  0331  F5          	push	af
1468  0332  3B          	dec	sp
1469  0333  2A 00 00    	ld	hl,(_sprite)
1470  0336  26 00       	ld	h,0x00
1471  0338  01 00 00    	ld	bc,_colint
1472  033B  09          	add	hl,bc
1473  033C  3A 00 00    	ld	a,(_sprite)
1474  033F  5F          	ld	e,a
1475  0340  16 00       	ld	d,0x00
1476  0342  4D          	ld	c,l
1477  0343  44          	ld	b,h
1478  0344  21 00 00    	ld	hl,_col
1479  0347  19          	add	hl,de
1480  0348  5E          	ld	e, (hl)
1481  0349  EB          	ex	de,hl
1482  034A  C5          	push	bc
1483  034B  D5          	push	de
1484  034C  CD 08 02    	call	_spr_horizontal_check
1485  034F  D1          	pop	de
1486  0350  C1          	pop	bc
1487  0351  7D          	ld	a,l
1488  0352  B7          	or	a, a
1489  0353  20 6F       	jr	NZ,l_spr_move_left_00111
1490  0355  0A          	ld	a, (bc)
1491  0356  C6 FF       	add	a,0xff
1492  0358  DD 77 FF    	ld	(ix-1),a
1493  035B  02          	ld	(bc),a
1494  035C  3E 00       	ld	a, +((_spr_frames) & 0xFF)
1495  035E  21 00 00    	ld	hl,_sprite
1496  0361  86          	add	a, (hl)
1497  0362  DD 77 FD    	ld	(ix-3),a
1498  0365  6F          	ld	l,a
1499  0366  3E 00       	ld	a,+((_spr_frames) / 256)
1500  0368  CE 00       	adc	a,0x00
1501  036A  DD 77 FE    	ld	(ix-2),a
1502  036D  67          	ld	h,a
1503  036E  DD 7E FF    	ld	a,(ix-1)
1504  0371  96          	sub	a,(hl)
1505  0372  38 50       	jr	C,l_spr_move_left_00111
1506  0374  1A          	ld	a, (de)
1507  0375  FE 1F       	cp	a,0x1f
1508  0377  30 4B       	jr	NC,l_spr_move_left_00111
1509  0379  6F          	ld	l, a
1510  037A  2D          	dec	l
1511  037B  C5          	push	bc
1512  037C  D5          	push	de
1513  037D  CD 08 02    	call	_spr_horizontal_check
1514  0380  D1          	pop	de
1515  0381  C1          	pop	bc
1516  0382  7D          	ld	a,l
1517  0383  B7          	or	a, a
1518  0384  28 07       	jr	Z,l_spr_move_left_00104
1519  0386  0A          	ld	a, (bc)
1520  0387  3C          	inc	a
1521  0388  02          	ld	(bc), a
1522  0389  2E 01       	ld	l,0x01
1523  038B  18 39       	jr	l_spr_move_left_00112
1524  038D              l_spr_move_left_00104:
1525  038D  1A          	ld	a, (de)
1526  038E  C6 FF       	add	a,0xff
1527  0390  DD 77 FD    	ld	(ix-3),a
1528  0393  12          	ld	(de),a
1529  0394  3E 00       	ld	a, +((_spr_frames) & 0xFF)
1530  0396  21 00 00    	ld	hl,_sprite
1531  0399  86          	add	a, (hl)
1532  039A  DD 77 FB    	ld	(ix-5),a
1533  039D  3E 00       	ld	a, +((_spr_frames) / 256)
1534  039F  CE 00       	adc	a,0x00
1535  03A1  DD 77 FC    	ld	(ix-4),a
1536  03A4  E1          	pop	hl
1537  03A5  7E          	ld	a,(hl)
1538  03A6  E5          	push	hl
1539  03A7  C6 FF       	add	a,0xff
1540  03A9  02          	ld	(bc), a
1541  03AA  DD 7E FD    	ld	a,(ix-3)
1542  03AD  3C          	inc	a
1543  03AE  20 14       	jr	NZ,l_spr_move_left_00111
1544  03B0  AF          	xor	a,a
1545  03B1  12          	ld	(de),a
1546  03B2  02          	ld	(bc), a
1547  03B3  2A 00 00    	ld	hl,(_sprite)
1548  03B6  26 00       	ld	h,0x00
1549  03B8  01 00 00    	ld	bc,_state
1550  03BB  09          	add	hl,bc
1551  03BC  7E          	ld	a,(hl)
1552  03BD  E6 F7       	and	a,0xf7
1553  03BF  77          	ld	(hl),a
1554  03C0  2E 01       	ld	l,0x01
1555  03C2  18 02       	jr	l_spr_move_left_00112
1556  03C4              l_spr_move_left_00111:
1557  03C4  2E 00       	ld	l,0x00
1558  03C6              l_spr_move_left_00112:
1559  03C6  DD F9       	ld	sp, ix
1560  03C8  DD E1       	pop	ix
1561  03CA  C9          	ret
1562  03CB              	SECTION code_compiler
1563  03CB              ;	---------------------------------
1564  03CB              ; Function spr_move_left_f
1565  03CB              ; ---------------------------------
1566  03CB              _spr_move_left_f:
1567  03CB  2A 00 00    	ld	hl,(_sprite)
1568  03CE  26 00       	ld	h,0x00
1569  03D0  01 00 00    	ld	bc,_colint
1570  03D3  09          	add	hl,bc
1571  03D4  7E          	ld	a,(hl)
1572  03D5  C6 FF       	add	a,0xff
1573  03D7  77          	ld	(hl),a
1574  03D8  2A 00 00    	ld	hl,(_sprite)
1575  03DB  26 00       	ld	h,0x00
1576  03DD  01 00 00    	ld	bc,_colint
1577  03E0  09          	add	hl,bc
1578  03E1  4E          	ld	c, (hl)
1579  03E2  2A 00 00    	ld	hl,(_sprite)
1580  03E5  26 00       	ld	h,0x00
1581  03E7  11 00 00    	ld	de,_spr_frames
1582  03EA  19          	add	hl,de
1583  03EB  46          	ld	b, (hl)
1584  03EC  79          	ld	a,c
1585  03ED  90          	sub	a,b
1586  03EE  38 2F       	jr	C,l_spr_move_left_f_00102
1587  03F0  2A 00 00    	ld	hl,(_sprite)
1588  03F3  26 00       	ld	h,0x00
1589  03F5  01 00 00    	ld	bc,_col
1590  03F8  09          	add	hl,bc
1591  03F9  7E          	ld	a,(hl)
1592  03FA  C6 FF       	add	a,0xff
1593  03FC  77          	ld	(hl),a
1594  03FD  21 00 00    	ld	hl,_spr_clr
1595  0400  36 01       	ld	(hl),0x01
1596  0402  2A 00 00    	ld	hl,(_sprite)
1597  0405  26 00       	ld	h,0x00
1598  0407  01 00 00    	ld	bc,_colint
1599  040A  09          	add	hl,bc
1600  040B  3A 00 00    	ld	a,(_sprite)
1601  040E  5F          	ld	e,a
1602  040F  16 00       	ld	d,0x00
1603  0411  4D          	ld	c,l
1604  0412  44          	ld	b,h
1605  0413  21 00 00    	ld	hl,_spr_frames
1606  0416  19          	add	hl,de
1607  0417  7E          	ld	a,(hl)
1608  0418  C6 FF       	add	a,0xff
1609  041A  02          	ld	(bc), a
1610  041B  2E 01       	ld	l,0x01
1611  041D  18 02       	jr	l_spr_move_left_f_00103
1612  041F              l_spr_move_left_f_00102:
1613  041F  2E 00       	ld	l,0x00
1614  0421              l_spr_move_left_f_00103:
1615  0421  C9          	ret
1616  0422              	SECTION code_compiler
1617  0422              ;	---------------------------------
1618  0422              ; Function spr_move_right_f
1619  0422              ; ---------------------------------
1620  0422              _spr_move_right_f:
1621  0422  2A 00 00    	ld	hl,(_sprite)
1622  0425  26 00       	ld	h,0x00
1623  0427  01 00 00    	ld	bc,_colint
1624  042A  09          	add	hl,bc
1625  042B  7E          	ld	a,(hl)
1626  042C  3C          	inc	a
1627  042D  77          	ld	(hl),a
1628  042E  4F          	ld	c,a
1629  042F  2A 00 00    	ld	hl,(_sprite)
1630  0432  26 00       	ld	h,0x00
1631  0434  11 00 00    	ld	de,_spr_frames
1632  0437  19          	add	hl,de
1633  0438  46          	ld	b, (hl)
1634  0439  79          	ld	a,c
1635  043A  90          	sub	a,b
1636  043B  38 1E       	jr	C,l_spr_move_right_f_00102
1637  043D  2A 00 00    	ld	hl,(_sprite)
1638  0440  26 00       	ld	h,0x00
1639  0442  01 00 00    	ld	bc,_col
1640  0445  09          	add	hl,bc
1641  0446  34          	inc	(hl)
1642  0447  21 00 00    	ld	hl,_spr_clr
1643  044A  36 01       	ld	(hl),0x01
1644  044C  2A 00 00    	ld	hl,(_sprite)
1645  044F  26 00       	ld	h,0x00
1646  0451  01 00 00    	ld	bc,_colint
1647  0454  09          	add	hl,bc
1648  0455  AF          	xor	a,a
1649  0456  77          	ld	(hl),a
1650  0457  2E 01       	ld	l,0x01
1651  0459  18 02       	jr	l_spr_move_right_f_00103
1652  045B              l_spr_move_right_f_00102:
1653  045B  2E 00       	ld	l,0x00
1654  045D              l_spr_move_right_f_00103:
1655  045D  C9          	ret
1656  045E              	SECTION code_compiler
1657  045E              ;	---------------------------------
1658  045E              ; Function spr_clear_scr
1659  045E              ; ---------------------------------
1660  045E              _spr_clear_scr:
1661  045E  06 00       	ld	b,0x00
1662  0460              l_spr_clear_scr_00105:
1663  0460  C5          	push	bc
1664  0461  21 00 00    	ld	hl,0x0000
1665  0464  E5          	push	hl
1666  0465  AF          	xor	a, a
1667  0466  48          	ld	c,b
1668  0467  47          	ld	b,a
1669  0468  C5          	push	bc
1670  0469  CD 00 00    	call	_NIRVANAP_spriteT_callee
1671  046C  C1          	pop	bc
1672  046D  04          	inc	b
1673  046E  78          	ld	a, b
1674  046F  D6 07       	sub	a,0x07
1675  0471  38 ED       	jr	C,l_spr_clear_scr_00105
1676  0473  0E 00       	ld	c,0x00
1677  0475              l_spr_clear_scr_00117:
1678  0475  79          	ld	a, c
1679  0476  87          	add	a, a
1680  0477  47          	ld	b, a
1681  0478  50          	ld	d, b
1682  0479  1E 01       	ld	e,0x01
1683  047B              l_spr_clear_scr_00107:
1684  047B  7B          	ld	a, e
1685  047C  07          	rlca
1686  047D  07          	rlca
1687  047E  07          	rlca
1688  047F  07          	rlca
1689  0480  E6 F0       	and	a,0xf0
1690  0482  C5          	push	bc
1691  0483  D5          	push	de
1692  0484  5F          	ld	e,a
1693  0485  D5          	push	de
1694  0486  AF          	xor	a, a
1695  0487  F5          	push	af
1696  0488  33          	inc	sp
1697  0489  CD 00 00    	call	_NIRVANAP_fillT_callee
1698  048C  D1          	pop	de
1699  048D  C1          	pop	bc
1700  048E  1C          	inc	e
1701  048F  7B          	ld	a, e
1702  0490  D6 0A       	sub	a,0x0a
1703  0492  38 E7       	jr	C,l_spr_clear_scr_00107
1704  0494  3E 1E       	ld	a,0x1e
1705  0496  90          	sub	a, b
1706  0497  47          	ld	b, a
1707  0498  1E 01       	ld	e,0x01
1708  049A              l_spr_clear_scr_00109:
1709  049A  7B          	ld	a, e
1710  049B  07          	rlca
1711  049C  07          	rlca
1712  049D  07          	rlca
1713  049E  07          	rlca
1714  049F  E6 F0       	and	a,0xf0
1715  04A1  57          	ld	d, a
1716  04A2  C5          	push	bc
1717  04A3  D5          	push	de
1718  04A4  4A          	ld	c, d
1719  04A5  C5          	push	bc
1720  04A6  AF          	xor	a, a
1721  04A7  F5          	push	af
1722  04A8  33          	inc	sp
1723  04A9  CD 00 00    	call	_NIRVANAP_fillT_callee
1724  04AC  D1          	pop	de
1725  04AD  C1          	pop	bc
1726  04AE  1C          	inc	e
1727  04AF  7B          	ld	a, e
1728  04B0  D6 0A       	sub	a,0x0a
1729  04B2  38 E6       	jr	C,l_spr_clear_scr_00109
1730  04B4  76          	halt
1731  04B5  0C          	inc	c
1732  04B6  79          	ld	a, c
1733  04B7  D6 08       	sub	a,0x08
1734  04B9  38 BA       	jr	C,l_spr_clear_scr_00117
1735  04BB  C9          	ret
1736  04BC              	SECTION code_compiler
1737  04BC              ;	---------------------------------
1738  04BC              ; Function spr_paint_player
1739  04BC              ; ---------------------------------
1740  04BC              _spr_paint_player:
1741  04BC  3A 08 00    	ld	a,(_lin + 0x0008)
1742  04BF  C6 10       	add	a,0x10
1743  04C1  21 00 00    	ld	hl,_v0
1744  04C4  77          	ld	(hl), a
1745  04C5  3E 80       	ld	a,0x80
1746  04C7  96          	sub	a, (hl)
1747  04C8  38 1F       	jr	C,l_spr_paint_player_00104
1748  04CA  21 08 00    	ld	hl,+(_col + 0x0008)
1749  04CD  46          	ld	b, (hl)
1750  04CE  21 08 00    	ld	hl,+(_tile + 0x0008)
1751  04D1  4E          	ld	c, (hl)
1752  04D2  21 08 00    	ld	hl,+(_colint + 0x0008)
1753  04D5  5E          	ld	e, (hl)
1754  04D6  79          	ld	a, c
1755  04D7  83          	add	a, e
1756  04D8  57          	ld	d, a
1757  04D9  3A 00 00    	ld	a,(_v0)
1758  04DC  4F          	ld	c,a
1759  04DD  C5          	push	bc
1760  04DE  1E 05       	ld	e,0x05
1761  04E0  D5          	push	de
1762  04E1  CD 00 00    	call	_NIRVANAP_spriteT_callee
1763  04E4  CD A4 06    	call	_spr_back_repaint
1764  04E7  18 15       	jr	l_spr_paint_player_00105
1765  04E9              l_spr_paint_player_00104:
1766  04E9  3A 00 00    	ld	a,(_s_lin0)
1767  04EC  D6 80       	sub	a,0x80
1768  04EE  30 03       	jr	NC,l_spr_paint_player_00102
1769  04F0  CD A4 06    	call	_spr_back_repaint
1770  04F3              l_spr_paint_player_00102:
1771  04F3  21 00 00    	ld	hl,0x0000
1772  04F6  E5          	push	hl
1773  04F7  2E 05       	ld	l,0x05
1774  04F9  E5          	push	hl
1775  04FA  CD 00 00    	call	_NIRVANAP_spriteT_callee
1776  04FD  76          	halt
1777  04FE              l_spr_paint_player_00105:
1778  04FE  2E 00       	ld	l,0x00
1779  0500  C9          	ret
1780  0501              	SECTION code_compiler
1781  0501              ;	---------------------------------
1782  0501              ; Function spr_paint
1783  0501              ; ---------------------------------
1784  0501              _spr_paint:
1785  0501  CD 00 00    	call	___sdcc_enter_ix
1786  0504  3B          	dec	sp
1787  0505  2A 00 00    	ld	hl,(_sprite)
1788  0508  26 00       	ld	h,0x00
1789  050A  01 00 00    	ld	bc,_col
1790  050D  09          	add	hl,bc
1791  050E  4E          	ld	c, (hl)
1792  050F  2A 00 00    	ld	hl,(_sprite)
1793  0512  26 00       	ld	h,0x00
1794  0514  11 00 00    	ld	de,_lin
1795  0517  19          	add	hl,de
1796  0518  7E          	ld	a,(hl)
1797  0519  C6 10       	add	a,0x10
1798  051B  47          	ld	b,a
1799  051C  2A 00 00    	ld	hl,(_sprite)
1800  051F  26 00       	ld	h,0x00
1801  0521  11 00 00    	ld	de,_tile
1802  0524  19          	add	hl,de
1803  0525  7E          	ld	a,(hl)
1804  0526  21 00 00    	ld	hl,_sprite
1805  0529  DD 77 FF    	ld	(ix-1),a
1806  052C  5E          	ld	e,(hl)
1807  052D  16 00       	ld	d,0x00
1808  052F  21 00 00    	ld	hl,_colint
1809  0532  19          	add	hl,de
1810  0533  5E          	ld	e, (hl)
1811  0534  DD 7E FF    	ld	a,(ix-1)
1812  0537  83          	add	a, e
1813  0538  57          	ld	d, a
1814  0539  79          	ld	a, c
1815  053A  F5          	push	af
1816  053B  33          	inc	sp
1817  053C  4A          	ld	c, d
1818  053D  3A 00 00    	ld	a,(_nirv_sprite_index)
1819  0540  C5          	push	bc
1820  0541  F5          	push	af
1821  0542  33          	inc	sp
1822  0543  CD 00 00    	call	_NIRVANAP_spriteT_callee
1823  0546  33          	inc	sp
1824  0547  DD E1       	pop	ix
1825  0549  C9          	ret
1826  054A              	SECTION code_compiler
1827  054A              ;	---------------------------------
1828  054A              ; Function spr_clear_fast
1829  054A              ; ---------------------------------
1830  054A              _spr_clear_fast:
1831  054A  3A 00 00    	ld	a,(_s_lin0)
1832  054D  C6 08       	add	a,0x08
1833  054F  32 00 00    	ld	(_v2),a
1834  0552  3A 00 00    	ld	a,(_s_col0)
1835  0555  3C          	inc	a
1836  0556  32 00 00    	ld	(_v3),a
1837  0559  2A FF FF    	ld	hl,(_s_col0 - 1)
1838  055C  3A 00 00    	ld	a,(_v2)
1839  055F  6F          	ld	l,a
1840  0560  E5          	push	hl
1841  0561  AF          	xor	a, a
1842  0562  F5          	push	af
1843  0563  33          	inc	sp
1844  0564  CD 33 01    	call	_spr_draw8
1845  0567  F1          	pop	af
1846  0568  33          	inc	sp
1847  0569  2A FF FF    	ld	hl,(_v3 - 1)
1848  056C  3A 00 00    	ld	a,(_v2)
1849  056F  6F          	ld	l,a
1850  0570  E5          	push	hl
1851  0571  AF          	xor	a, a
1852  0572  F5          	push	af
1853  0573  33          	inc	sp
1854  0574  CD 33 01    	call	_spr_draw8
1855  0577  F1          	pop	af
1856  0578  33          	inc	sp
1857  0579  21 00 00    	ld	hl,_v2
1858  057C  7E          	ld	a, (hl)
1859  057D  C6 08       	add	a,0x08
1860  057F  77          	ld	(hl), a
1861  0580  2A FF FF    	ld	hl,(_s_col0 - 1)
1862  0583  3A 00 00    	ld	a,(_v2)
1863  0586  6F          	ld	l,a
1864  0587  E5          	push	hl
1865  0588  AF          	xor	a, a
1866  0589  F5          	push	af
1867  058A  33          	inc	sp
1868  058B  CD 33 01    	call	_spr_draw8
1869  058E  F1          	pop	af
1870  058F  33          	inc	sp
1871  0590  2A FF FF    	ld	hl,(_v3 - 1)
1872  0593  3A 00 00    	ld	a,(_v2)
1873  0596  6F          	ld	l,a
1874  0597  E5          	push	hl
1875  0598  AF          	xor	a, a
1876  0599  F5          	push	af
1877  059A  33          	inc	sp
1878  059B  CD 33 01    	call	_spr_draw8
1879  059E  F1          	pop	af
1880  059F  33          	inc	sp
1881  05A0  C9          	ret
1882  05A1              	SECTION code_compiler
1883  05A1              ;	---------------------------------
1884  05A1              ; Function spr_clear_fast_hor
1885  05A1              ; ---------------------------------
1886  05A1              _spr_clear_fast_hor:
1887  05A1  2A 00 00    	ld	hl,(_sprite)
1888  05A4  26 00       	ld	h,0x00
1889  05A6  01 00 00    	ld	bc,_state
1890  05A9  09          	add	hl,bc
1891  05AA  CB 56       	bit	2,(hl)
1892  05AC  28 08       	jr	Z,l_spr_clear_fast_hor_00102
1893  05AE  3A 00 00    	ld	a,(_s_col0)
1894  05B1  32 00 00    	ld	(_v1),a
1895  05B4  18 07       	jr	l_spr_clear_fast_hor_00103
1896  05B6              l_spr_clear_fast_hor_00102:
1897  05B6  3A 00 00    	ld	a,(_s_col0)
1898  05B9  3C          	inc	a
1899  05BA  32 00 00    	ld	(_v1),a
1900  05BD              l_spr_clear_fast_hor_00103:
1901  05BD  3A 00 00    	ld	a,(_s_lin0)
1902  05C0  C6 10       	add	a,0x10
1903  05C2  32 00 00    	ld	(_v0),a
1904  05C5  2A FF FF    	ld	hl,(_v1 - 1)
1905  05C8  6F          	ld	l,a
1906  05C9  E5          	push	hl
1907  05CA  21 00 00    	ld	hl,_attrib_hl
1908  05CD  E5          	push	hl
1909  05CE  CD 00 00    	call	_NIRVANAP_paintC_callee
1910  05D1  21 00 00    	ld	hl,_v0
1911  05D4  7E          	ld	a, (hl)
1912  05D5  C6 08       	add	a,0x08
1913  05D7  77          	ld	(hl), a
1914  05D8  2A FF FF    	ld	hl,(_v1 - 1)
1915  05DB  3A 00 00    	ld	a,(_v0)
1916  05DE  6F          	ld	l,a
1917  05DF  E5          	push	hl
1918  05E0  21 00 00    	ld	hl,_attrib_hl
1919  05E3  E5          	push	hl
1920  05E4  CD 00 00    	call	_NIRVANAP_paintC_callee
1921  05E7  C9          	ret
1922  05E8              	SECTION code_compiler
1923  05E8              ;	---------------------------------
1924  05E8              ; Function spr_clear_fast_vert
1925  05E8              ; ---------------------------------
1926  05E8              _spr_clear_fast_vert:
1927  05E8  2A 00 00    	ld	hl,(_sprite)
1928  05EB  26 00       	ld	h,0x00
1929  05ED  01 00 00    	ld	bc,_state
1930  05F0  09          	add	hl,bc
1931  05F1  CB 4E       	bit	1,(hl)
1932  05F3  28 23       	jr	Z,l_spr_clear_fast_vert_00102
1933  05F5  3A 00 00    	ld	a,(_s_lin0)
1934  05F8  C6 08       	add	a,0x08
1935  05FA  6F          	ld	l, a
1936  05FB  CD 00 00    	call	_zx_py2saddr_fastcall
1937  05FE  7D          	ld	a,l
1938  05FF  44          	ld	b,h
1939  0600  21 00 00    	ld	hl,_s_col0
1940  0603  86          	add	a, (hl)
1941  0604  4F          	ld	c, a
1942  0605  78          	ld	a, b
1943  0606  CE 00       	adc	a,0x00
1944  0608  47          	ld	b, a
1945  0609  AF          	xor	a, a
1946  060A  02          	ld	(bc), a
1947  060B  03          	inc	bc
1948  060C  AF          	xor	a, a
1949  060D  02          	ld	(bc), a
1950  060E  21 FF 00    	ld	hl,0x00ff
1951  0611  09          	add	hl, bc
1952  0612  AF          	xor	a, a
1953  0613  77          	ld	(hl), a
1954  0614  23          	inc	hl
1955  0615  77          	ld	(hl), a
1956  0616  18 21       	jr	l_spr_clear_fast_vert_00104
1957  0618              l_spr_clear_fast_vert_00102:
1958  0618  3A 00 00    	ld	a,(_s_lin0)
1959  061B  C6 16       	add	a,0x16
1960  061D  6F          	ld	l, a
1961  061E  CD 00 00    	call	_zx_py2saddr_fastcall
1962  0621  7D          	ld	a,l
1963  0622  44          	ld	b,h
1964  0623  21 00 00    	ld	hl,_s_col0
1965  0626  86          	add	a, (hl)
1966  0627  4F          	ld	c, a
1967  0628  78          	ld	a, b
1968  0629  CE 00       	adc	a,0x00
1969  062B  47          	ld	b, a
1970  062C  AF          	xor	a, a
1971  062D  02          	ld	(bc), a
1972  062E  03          	inc	bc
1973  062F  AF          	xor	a, a
1974  0630  02          	ld	(bc), a
1975  0631  21 FF 00    	ld	hl,0x00ff
1976  0634  09          	add	hl, bc
1977  0635  AF          	xor	a, a
1978  0636  77          	ld	(hl), a
1979  0637  23          	inc	hl
1980  0638  77          	ld	(hl), a
1981  0639              l_spr_clear_fast_vert_00104:
1982  0639  C9          	ret
1983  063A              	SECTION code_compiler
1984  063A              ;	---------------------------------
1985  063A              ; Function spr_get_tile
1986  063A              ; ---------------------------------
1987  063A              _spr_get_tile:
1988  063A  4E          	ld	c, (hl)
1989  063B  06 00       	ld	b,0x00
1990  063D  21 00 00    	ld	hl,_spr_altset
1991  0640  09          	add	hl, bc
1992  0641  EB          	ex	de,hl
1993  0642  06 00       	ld	b,0x00
1994  0644  21 00 00    	ld	hl,_spr_tile
1995  0647  09          	add	hl, bc
1996  0648  D5          	push	de
1997  0649  E5          	push	hl
1998  064A  CD 50 06    	call	_spr_get_tile_dir
1999  064D  F1          	pop	af
2000  064E  F1          	pop	af
2001  064F  C9          	ret
2002  0650              	SECTION code_compiler
2003  0650              ;	---------------------------------
2004  0650              ; Function spr_get_tile_dir
2005  0650              ; ---------------------------------
2006  0650              _spr_get_tile_dir:
2007  0650  CD 00 00    	call	___sdcc_enter_ix
2008  0653  2A 00 00    	ld	hl,(_sprite)
2009  0656  F5          	push	af
2010  0657  26 00       	ld	h,0x00
2011  0659  01 00 00    	ld	bc,_state
2012  065C  09          	add	hl,bc
2013  065D  4E          	ld	c,(hl)
2014  065E  DD 5E 04    	ld	e,(ix+4)
2015  0661  DD 56 05    	ld	d,(ix+5)
2016  0664  1A          	ld	a, (de)
2017  0665  47          	ld	b, a
2018  0666  CB 51       	bit	2, c
2019  0668  28 03       	jr	Z,l_spr_get_tile_dir_00102
2020  066A  68          	ld	l, b
2021  066B  18 33       	jr	l_spr_get_tile_dir_00109
2022  066D              l_spr_get_tile_dir_00102:
2023  066D  DD 5E 06    	ld	e,(ix+6)
2024  0670  DD 56 07    	ld	d,(ix+7)
2025  0673  CB 59       	bit	3, c
2026  0675  28 05       	jr	Z,l_spr_get_tile_dir_00104
2027  0677  1A          	ld	a, (de)
2028  0678  80          	add	a,b
2029  0679  6F          	ld	l, a
2030  067A  18 24       	jr	l_spr_get_tile_dir_00109
2031  067C              l_spr_get_tile_dir_00104:
2032  067C  3E 00       	ld	a, +((_state_a) & 0xFF)
2033  067E  21 00 00    	ld	hl,_sprite
2034  0681  86          	add	a, (hl)
2035  0682  DD 77 FE    	ld	(ix-2),a
2036  0685  3E 00       	ld	a, +((_state_a) / 256)
2037  0687  CE 00       	adc	a,0x00
2038  0689  DD 77 FF    	ld	(ix-1),a
2039  068C  E1          	pop	hl
2040  068D  4E          	ld	c,(hl)
2041  068E  E5          	push	hl
2042  068F  CB 61       	bit	4, c
2043  0691  28 03       	jr	Z,l_spr_get_tile_dir_00106
2044  0693  68          	ld	l, b
2045  0694  18 0A       	jr	l_spr_get_tile_dir_00109
2046  0696              l_spr_get_tile_dir_00106:
2047  0696  CB 59       	bit	3, c
2048  0698  28 05       	jr	Z,l_spr_get_tile_dir_00108
2049  069A  1A          	ld	a, (de)
2050  069B  80          	add	a,b
2051  069C  6F          	ld	l, a
2052  069D  18 01       	jr	l_spr_get_tile_dir_00109
2053  069F              l_spr_get_tile_dir_00108:
2054  069F  68          	ld	l, b
2055  06A0              l_spr_get_tile_dir_00109:
2056  06A0  F1          	pop	af
2057  06A1  DD E1       	pop	ix
2058  06A3  C9          	ret
2059  06A4              	SECTION code_compiler
2060  06A4              ;	---------------------------------
2061  06A4              ; Function spr_back_repaint
2062  06A4              ; ---------------------------------
2063  06A4              _spr_back_repaint:
2064  06A4  2A FF FF    	ld	hl,(_s_col0 - 1)
2065  06A7  3A 00 00    	ld	a,(_s_lin0)
2066  06AA  6F          	ld	l,a
2067  06AB  E5          	push	hl
2068  06AC  CD 00 00    	call	_spr_calc_index
2069  06AF  F1          	pop	af
2070  06B0  22 00 00    	ld	(_index1),hl
2071  06B3  21 00 00    	ld	hl,_s_lin0
2072  06B6  4E          	ld	c, (hl)
2073  06B7  CB 39       	srl	c
2074  06B9  CB 39       	srl	c
2075  06BB  CB 39       	srl	c
2076  06BD  79          	ld	a, c
2077  06BE  07          	rlca
2078  06BF  07          	rlca
2079  06C0  07          	rlca
2080  06C1  E6 F8       	and	a,0xf8
2081  06C3  C6 10       	add	a,0x10
2082  06C5  32 00 00    	ld	(_s_lin1),a
2083  06C8  79          	ld	a, c
2084  06C9  3C          	inc	a
2085  06CA  32 00 00    	ld	(_s_row1),a
2086  06CD  3A 00 00    	ld	a,(_s_col0)
2087  06D0  32 00 00    	ld	(_s_col1),a
2088  06D3  3A 00 00    	ld	a,(_s_row1)
2089  06D6  07          	rlca
2090  06D7  07          	rlca
2091  06D8  07          	rlca
2092  06D9  E6 F8       	and	a,0xf8
2093  06DB  47          	ld	b, a
2094  06DC  11 00 00    	ld	de,_scr_map
2095  06DF  2A 00 00    	ld	hl,(_index1)
2096  06E2  19          	add	hl,de
2097  06E3  66          	ld	h, (hl)
2098  06E4  3A 00 00    	ld	a,(_s_col1)
2099  06E7  EB          	ex	de,hl
2100  06E8  F5          	push	af
2101  06E9  33          	inc	sp
2102  06EA  4A          	ld	c, d
2103  06EB  C5          	push	bc
2104  06EC  CD 33 01    	call	_spr_draw8
2105  06EF  F1          	pop	af
2106  06F0  33          	inc	sp
2107  06F1  21 00 00    	ld	hl,_index1
2108  06F4  34          	inc	(hl)
2109  06F5  20 02       	jr	NZ,l_spr_back_repaint_00103
2110  06F7  23          	inc	hl
2111  06F8  34          	inc	(hl)
2112  06F9              l_spr_back_repaint_00103:
2113  06F9  21 00 00    	ld	hl,_s_col1
2114  06FC  34          	inc	(hl)
2115  06FD  3A 00 00    	ld	a,(_s_row1)
2116  0700  07          	rlca
2117  0701  07          	rlca
2118  0702  07          	rlca
2119  0703  E6 F8       	and	a,0xf8
2120  0705  47          	ld	b, a
2121  0706  11 00 00    	ld	de,_scr_map
2122  0709  2A 00 00    	ld	hl,(_index1)
2123  070C  19          	add	hl,de
2124  070D  66          	ld	h, (hl)
2125  070E  3A 00 00    	ld	a,(_s_col1)
2126  0711  EB          	ex	de,hl
2127  0712  F5          	push	af
2128  0713  33          	inc	sp
2129  0714  4A          	ld	c, d
2130  0715  C5          	push	bc
2131  0716  CD 33 01    	call	_spr_draw8
2132  0719  F1          	pop	af
2133  071A  33          	inc	sp
2134  071B  21 00 00    	ld	hl,_s_lin1
2135  071E  7E          	ld	a, (hl)
2136  071F  C6 08       	add	a,0x08
2137  0721  77          	ld	(hl), a
2138  0722  21 00 00    	ld	hl,_s_row1
2139  0725  34          	inc	(hl)
2140  0726  2A 00 00    	ld	hl,(_index1)
2141  0729  11 20 00    	ld	de,0x0020
2142  072C  19          	add	hl,de
2143  072D  22 00 00    	ld	(_index1),hl
2144  0730  3A 00 00    	ld	a,(_s_row1)
2145  0733  07          	rlca
2146  0734  07          	rlca
2147  0735  07          	rlca
2148  0736  E6 F8       	and	a,0xf8
2149  0738  47          	ld	b, a
2150  0739  11 00 00    	ld	de,_scr_map
2151  073C  2A 00 00    	ld	hl,(_index1)
2152  073F  19          	add	hl,de
2153  0740  66          	ld	h, (hl)
2154  0741  3A 00 00    	ld	a,(_s_col1)
2155  0744  EB          	ex	de,hl
2156  0745  F5          	push	af
2157  0746  33          	inc	sp
2158  0747  4A          	ld	c, d
2159  0748  C5          	push	bc
2160  0749  CD 33 01    	call	_spr_draw8
2161  074C  F1          	pop	af
2162  074D  33          	inc	sp
2163  074E  2A 00 00    	ld	hl,(_index1)
2164  0751  2B          	dec	hl
2165  0752  22 00 00    	ld	(_index1),hl
2166  0755  21 00 00    	ld	hl,_s_col1
2167  0758  35          	dec	(hl)
2168  0759  3A 00 00    	ld	a,(_s_row1)
2169  075C  07          	rlca
2170  075D  07          	rlca
2171  075E  07          	rlca
2172  075F  E6 F8       	and	a,0xf8
2173  0761  47          	ld	b, a
2174  0762  11 00 00    	ld	de,_scr_map
2175  0765  2A 00 00    	ld	hl,(_index1)
2176  0768  19          	add	hl,de
2177  0769  66          	ld	h, (hl)
2178  076A  3A 00 00    	ld	a,(_s_col1)
2179  076D  EB          	ex	de,hl
2180  076E  F5          	push	af
2181  076F  33          	inc	sp
2182  0770  4A          	ld	c, d
2183  0771  C5          	push	bc
2184  0772  CD 33 01    	call	_spr_draw8
2185  0775  F1          	pop	af
2186  0776  33          	inc	sp
2187  0777  21 00 00    	ld	hl,_s_lin1
2188  077A  7E          	ld	a, (hl)
2189  077B  C6 08       	add	a,0x08
2190  077D  77          	ld	(hl), a
2191  077E  21 00 00    	ld	hl,_s_row1
2192  0781  34          	inc	(hl)
2193  0782  2A 00 00    	ld	hl,(_index1)
2194  0785  11 20 00    	ld	de,0x0020
2195  0788  19          	add	hl,de
2196  0789  22 00 00    	ld	(_index1),hl
2197  078C  3A 00 00    	ld	a,(_s_row1)
2198  078F  07          	rlca
2199  0790  07          	rlca
2200  0791  07          	rlca
2201  0792  E6 F8       	and	a,0xf8
2202  0794  47          	ld	b, a
2203  0795  11 00 00    	ld	de,_scr_map
2204  0798  2A 00 00    	ld	hl,(_index1)
2205  079B  19          	add	hl,de
2206  079C  66          	ld	h, (hl)
2207  079D  3A 00 00    	ld	a,(_s_col1)
2208  07A0  EB          	ex	de,hl
2209  07A1  F5          	push	af
2210  07A2  33          	inc	sp
2211  07A3  4A          	ld	c, d
2212  07A4  C5          	push	bc
2213  07A5  CD 33 01    	call	_spr_draw8
2214  07A8  F1          	pop	af
2215  07A9  33          	inc	sp
2216  07AA  21 00 00    	ld	hl,_index1
2217  07AD  34          	inc	(hl)
2218  07AE  20 02       	jr	NZ,l_spr_back_repaint_00104
2219  07B0  23          	inc	hl
2220  07B1  34          	inc	(hl)
2221  07B2              l_spr_back_repaint_00104:
2222  07B2  21 00 00    	ld	hl,_s_col1
2223  07B5  34          	inc	(hl)
2224  07B6  3A 00 00    	ld	a,(_s_row1)
2225  07B9  07          	rlca
2226  07BA  07          	rlca
2227  07BB  07          	rlca
2228  07BC  E6 F8       	and	a,0xf8
2229  07BE  47          	ld	b, a
2230  07BF  11 00 00    	ld	de,_scr_map
2231  07C2  2A 00 00    	ld	hl,(_index1)
2232  07C5  19          	add	hl,de
2233  07C6  66          	ld	h, (hl)
2234  07C7  3A 00 00    	ld	a,(_s_col1)
2235  07CA  EB          	ex	de,hl
2236  07CB  F5          	push	af
2237  07CC  33          	inc	sp
2238  07CD  4A          	ld	c, d
2239  07CE  C5          	push	bc
2240  07CF  CD 33 01    	call	_spr_draw8
2241  07D2  F1          	pop	af
2242  07D3  33          	inc	sp
2243  07D4  C9          	ret
2244  07D5              	SECTION IGNORE
2245  0000              
